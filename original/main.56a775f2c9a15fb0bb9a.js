(self.webpackChunkpyrite=self.webpackChunkpyrite||[]).push([[179],{8255:t=>{function e(t){return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=()=>[],e.resolve=e,e.id=8255,t.exports=e},5366:(t,e,n)=>{"use strict";n.d(e,{deG:()=>cn,tb:()=>Cc,AFp:()=>fc,ip1:()=>gc,CZH:()=>mc,hGG:()=>gu,z2F:()=>ou,sBO:()=>ol,Sil:()=>Ac,_Vd:()=>xa,EJc:()=>Ec,SBq:()=>Aa,qLn:()=>ki,vpe:()=>ql,gxx:()=>Cr,tBr:()=>kn,XFs:()=>P,OlP:()=>ln,zs3:()=>Nr,ZZ4:()=>Ka,aQg:()=>Qa,soG:()=>Tc,YKP:()=>gl,v3s:()=>su,h0i:()=>pl,PXZ:()=>Qc,R0b:()=>Lc,FiY:()=>In,Lbi:()=>yc,g9A:()=>vc,n_E:()=>$l,Qsj:()=>La,FYo:()=>Da,JOm:()=>Ni,Tiy:()=>Ba,q3G:()=>Ci,PiD:()=>An,tp0:()=>Rn,EAV:()=>cu,Rgc:()=>cl,dDg:()=>jc,DyG:()=>un,GfV:()=>Fa,s_b:()=>fl,ifc:()=>L,eFA:()=>tu,G48:()=>Kc,Gpc:()=>p,f3M:()=>Mn,X6Q:()=>$c,_c5:()=>du,VLi:()=>Wc,c2e:()=>Oc,zSh:()=>Tr,wAp:()=>ga,vHH:()=>f,EiD:()=>vi,mCW:()=>ni,qzn:()=>Wn,JVY:()=>Yn,pB0:()=>Kn,eBb:()=>Jn,L6k:()=>qn,LAX:()=>$n,cg1:()=>ha,Tjo:()=>hu,kL8:()=>da,yhl:()=>Zn,dqk:()=>V,sIi:()=>Zr,CqO:()=>ms,QGY:()=>ps,F4k:()=>gs,RDi:()=>wt,AaK:()=>u,z3N:()=>zn,qOj:()=>Fr,TTD:()=>vt,_Bn:()=>Sa,xp6:()=>Eo,uIk:()=>Qr,Tol:()=>js,Gre:()=>ra,ekj:()=>Us,Suo:()=>lc,Xpm:()=>K,lG2:()=>rt,Yz7:()=>y,cJS:()=>C,oAB:()=>nt,Yjl:()=>st,Y36:()=>is,_UZ:()=>ls,GkF:()=>hs,BQk:()=>us,ynx:()=>cs,qZA:()=>as,TgZ:()=>ss,EpF:()=>ds,n5z:()=>nn,Ikx:()=>sa,LFG:()=>wn,$8M:()=>rn,NdJ:()=>fs,CRH:()=>cc,kcU:()=>ye,O4$:()=>ve,oxw:()=>Cs,ALo:()=>jl,lcZ:()=>Hl,xi3:()=>zl,Hsn:()=>Es,F$t:()=>Ts,Q6J:()=>os,s9C:()=>Ss,DdM:()=>Il,VKq:()=>Al,WLB:()=>Rl,kEZ:()=>Dl,l5B:()=>Ll,qbA:()=>Nl,HTZ:()=>Bl,qlk:()=>Fl,iGM:()=>sc,MAs:()=>ns,pYS:()=>Di,evT:()=>Ri,Jf7:()=>Ai,CHM:()=>Wt,oJD:()=>Oi,LSH:()=>Ti,B6R:()=>X,kYT:()=>it,Akn:()=>Vs,Udp:()=>Fs,WFA:()=>_s,d8E:()=>aa,YNc:()=>es,W1O:()=>pc,_uU:()=>ea,Oqu:()=>na,hij:()=>ia,AsE:()=>oa,Gf:()=>ac});var i=n(5959),o=n(7570),r=n(8318),s=n(1906),a=n(1055);
/**
 * @license Angular v12.0.4
 * (c) 2010-2021 Google LLC. https://angular.io/
 * License: MIT
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function l(t){for(let e in t)if(t[e]===l)return e;throw Error("Could not find renamed property on target object.")}function c(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function u(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(u).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const d=l({__forward_ref__:l});function p(t){return t.__forward_ref__=p,t.toString=function(){return u(this())},t}function g(t){return m(t)?t():t}function m(t){return"function"==typeof t&&t.hasOwnProperty(d)&&t.__forward_ref__===p}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class f extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(t,e)),this.code=t}}function _(t){return"string"==typeof t?t:null==t?"":String(t)}function b(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():_(t)}function v(t,e){const n=e?` in ${e}`:"";throw new f("201",`No provider for ${b(t)} found${n}`)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function y(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function C(t){return{providers:t.providers||[],imports:t.imports||[]}}function O(t){return T(t,S)||T(t,M)}function T(t,e){return t.hasOwnProperty(e)?t[e]:null}function E(t){return t&&(t.hasOwnProperty(w)||t.hasOwnProperty(x))?t[w]:null}const S=l({"\u0275prov":l}),w=l({"\u0275inj":l}),M=l({ngInjectableDef:l}),x=l({ngInjectorDef:l});
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var P=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */let k;function I(t){const e=k;return k=t,e}function A(t,e,n){const i=O(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&P.Optional?null:void 0!==e?e:void v(u(t),"Injector")}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function R(t){return{toString:t}.toString()}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var D=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),L=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const N="undefined"!=typeof globalThis&&globalThis,B="undefined"!=typeof window&&window,F="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,U="undefined"!=typeof global&&global,V=N||U||B||F,G={},j=[],H=l({"\u0275cmp":l}),z=l({"\u0275dir":l}),W=l({"\u0275pipe":l}),Z=l({"\u0275mod":l}),Y=l({"\u0275loc":l}),q=l({"\u0275fac":l}),J=l({__NG_ELEMENT_ID__:l});
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
let $=0;function K(t){return R(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===D.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||j,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||L.Emulated,id:"c",styles:t.styles||j,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,o=t.features,r=t.pipes;return n.id+=$++,n.inputs=ot(t.inputs,e),n.outputs=ot(t.outputs),o&&o.forEach(t=>t(n)),n.directiveDefs=i?()=>("function"==typeof i?i():i).map(Q):null,n.pipeDefs=r?()=>("function"==typeof r?r():r).map(tt):null,n})}function X(t,e,n){const i=t.\u0275cmp;i.directiveDefs=()=>e.map(Q),i.pipeDefs=()=>n.map(tt)}function Q(t){return at(t)||function(t){return t[z]||null}(t)}function tt(t){return function(t){return t[W]||null}(t)}const et={};function nt(t){const e={type:t.type,bootstrap:t.bootstrap||j,declarations:t.declarations||j,imports:t.imports||j,exports:t.exports||j,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&R(()=>{et[t.id]=t.type}),e}function it(t,e){return R(()=>{const n=lt(t,!0);n.declarations=e.declarations||j,n.imports=e.imports||j,n.exports=e.exports||j})}function ot(t,e){if(null==t)return G;const n={};for(const i in t)if(t.hasOwnProperty(i)){let o=t[i],r=o;Array.isArray(o)&&(r=o[1],o=o[0]),n[o]=i,e&&(e[o]=r)}return n}const rt=K;function st(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function at(t){return t[H]||null}function lt(t,e){const n=t[Z]||null;if(!n&&!0===e)throw new Error(`Type ${u(t)} does not have '\u0275mod' property.`);return n}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const ct=20,ut=10;
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function ht(t){return Array.isArray(t)&&"object"==typeof t[1]}function dt(t){return Array.isArray(t)&&!0===t[1]}function pt(t){return 0!=(8&t.flags)}function gt(t){return 2==(2&t.flags)}function mt(t){return 1==(1&t.flags)}function ft(t){return null!==t.template}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function _t(t,e){return t.hasOwnProperty(q)?t[q]:null}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class bt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function vt(){return yt}function yt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ot),Ct}function Ct(){const t=Tt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===G)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Ot(t,e,n,i){const o=Tt(t)||function(t,e){return t.__ngSimpleChanges__=e}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(t,{previous:G,current:null}),r=o.current||(o.current={}),s=o.previous,a=this.declaredInputs[n],l=s[a];r[a]=new bt(l&&l.currentValue,e,s===G),t[i]=e}function Tt(t){return t.__ngSimpleChanges__||null}vt.ngInherit=!0;const Et="http://www.w3.org/2000/svg";
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
let St;function wt(t){St=t}function Mt(){return void 0!==St?St:"undefined"!=typeof document?document:void 0}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function xt(t){return!!t.listen}const Pt={createRenderer:(t,e)=>Mt()};
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function kt(t){for(;Array.isArray(t);)t=t[0];return t}function It(t,e){return kt(e[t])}function At(t,e){return kt(e[t.index])}function Rt(t,e){return t.data[e]}function Dt(t,e){return t[e]}function Lt(t,e){const n=e[t];return ht(n)?n:n[0]}function Nt(t){return 4==(4&t[2])}function Bt(t){return 128==(128&t[2])}function Ft(t,e){return null==e?null:t[e]}function Ut(t){t[18]=0}function Vt(t,e){t[5]+=e;let n=t,i=t[3];for(;null!==i&&(1===e&&1===n[5]||-1===e&&0===n[5]);)i[5]+=e,n=i,i=i[3]}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const Gt={lFrame:de(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function jt(){return Gt.bindingsEnabled}function Ht(){return Gt.lFrame.lView}function zt(){return Gt.lFrame.tView}function Wt(t){return Gt.lFrame.contextLView=t,t[8]}function Zt(){let t=Yt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Yt(){return Gt.lFrame.currentTNode}function qt(t,e){const n=Gt.lFrame;n.currentTNode=t,n.isParent=e}function Jt(){return Gt.lFrame.isParent}function $t(){Gt.lFrame.isParent=!1}function Kt(){return Gt.isInCheckNoChangesMode}function Xt(t){Gt.isInCheckNoChangesMode=t}function Qt(){const t=Gt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function te(){return Gt.lFrame.bindingIndex}function ee(){return Gt.lFrame.bindingIndex++}function ne(t){const e=Gt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ie(t,e){const n=Gt.lFrame;n.bindingIndex=n.bindingRootIndex=t,oe(e)}function oe(t){Gt.lFrame.currentDirectiveIndex=t}function re(t){const e=Gt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function se(){return Gt.lFrame.currentQueryIndex}function ae(t){Gt.lFrame.currentQueryIndex=t}function le(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ce(t,e,n){if(n&P.SkipSelf){let i=e,o=t;for(;i=i.parent,!(null!==i||n&P.Host||(i=le(o),null===i)||(o=o[15],10&i.type)););if(null===i)return!1;e=i,t=o}const i=Gt.lFrame=he();return i.currentTNode=e,i.lView=t,!0}function ue(t){const e=he(),n=t[1];Gt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function he(){const t=Gt.lFrame,e=null===t?null:t.child;return null===e?de(t):e}function de(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function pe(){const t=Gt.lFrame;return Gt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ge=pe;function me(){const t=pe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function fe(){return Gt.lFrame.selectedIndex}function _e(t){Gt.lFrame.selectedIndex=t}function be(){const t=Gt.lFrame;return Rt(t.tView,t.selectedIndex)}function ve(){Gt.lFrame.currentNamespace=Et}function ye(){Gt.lFrame.currentNamespace=null}function Ce(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:o,ngAfterViewInit:r,ngAfterViewChecked:s,ngOnDestroy:a}=e;i&&(t.contentHooks||(t.contentHooks=[])).push(-n,i),o&&((t.contentHooks||(t.contentHooks=[])).push(n,o),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,o)),r&&(t.viewHooks||(t.viewHooks=[])).push(-n,r),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Oe(t,e,n){Se(t,e,3,n)}function Te(t,e,n,i){(3&t[2])===n&&Se(t,e,n,i)}function Ee(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Se(t,e,n,i){const o=null!=i?i:-1,r=e.length-1;let s=0;for(let a=void 0!==i?65535&t[18]:0;a<r;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=i&&s>=i)break}else e[a]<0&&(t[18]+=65536),(s<o||-1==o)&&(we(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function we(t,e,n,i){const o=n[i]<0,r=n[i+1],s=t[o?-n[i]:n[i]];if(o){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{r.call(s)}finally{}}}else try{r.call(s)}finally{}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const Me=-1;class xe{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Pe(t,e,n){const i=xt(t);let o=0;for(;o<n.length;){const r=n[o];if("number"==typeof r){if(0!==r)break;o++;const s=n[o++],a=n[o++],l=n[o++];i?t.setAttribute(e,a,l,s):e.setAttributeNS(s,a,l)}else{const s=r,a=n[++o];Ie(s)?i&&t.setProperty(e,s,a):i?t.setAttribute(e,s,a):e.setAttribute(s,a),o++}}return o}function ke(t){return 3===t||4===t||6===t}function Ie(t){return 64===t.charCodeAt(0)}function Ae(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){const o=e[i];"number"==typeof o?n=o:0===n||Re(t,n,o,null,-1===n||2===n?e[++i]:null)}}return t}function Re(t,e,n,i,o){let r=0,s=t.length;if(-1===e)s=-1;else for(;r<t.length;){const n=t[r++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=r-1;break}}}for(;r<t.length;){const e=t[r];if("number"==typeof e)break;if(e===n){if(null===i)return void(null!==o&&(t[r+1]=o));if(i===t[r+1])return void(t[r+2]=o)}r++,null!==i&&r++,null!==o&&r++}-1!==s&&(t.splice(s,0,e),r=s+1),t.splice(r++,0,n),null!==i&&t.splice(r++,0,i),null!==o&&t.splice(r++,0,o)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function De(t){return t!==Me}function Le(t){return 32767&t}function Ne(t,e){let n=t>>16,i=e;for(;n>0;)i=i[15],n--;return i}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */let Be=!0;function Fe(t){const e=Be;return Be=t,e}let Ue=0;function Ve(t,e){const n=je(t,e);if(-1!==n)return n;const i=e[1];i.firstCreatePass&&(t.injectorIndex=e.length,Ge(i.data,t),Ge(e,null),Ge(i.blueprint,null));const o=He(t,e),r=t.injectorIndex;if(De(o)){const t=Le(o),n=Ne(o,e),i=n[1].data;for(let o=0;o<8;o++)e[r+o]=n[t+o]|i[t+o]}return e[r+8]=o,r}function Ge(t,e){t.push(0,0,0,0,0,0,0,0,e)}function je(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function He(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,i=null,o=e;for(;null!==o;){const t=o[1],e=t.type;if(i=2===e?t.declTNode:1===e?o[6]:null,null===i)return Me;if(n++,o=o[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return Me}function ze(t,e,n){!function(t,e,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(J)&&(i=n[J]),null==i&&(i=n[J]=Ue++);const o=255&i;e.data[t+(o>>5)]|=1<<o}(t,e,n)}function We(t,e,n){if(n&P.Optional)return t;v(e,"NodeInjector")}function Ze(t,e,n,i){if(n&P.Optional&&void 0===i&&(i=null),0==(n&(P.Self|P.Host))){const o=t[9],r=I(void 0);try{return o?o.get(e,i,n&P.Optional):A(e,i,n&P.Optional)}finally{I(r)}}return We(i,e,n)}function Ye(t,e,n,i=P.Default,o){if(null!==t){const r=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(J)?t[J]:void 0;return"number"==typeof e?e>=0?255&e:Je:e}(n);if("function"==typeof r){if(!ce(e,t,i))return i&P.Host?We(o,n,i):Ze(e,n,i,o);try{const t=r(i);if(null!=t||i&P.Optional)return t;v(n)}finally{ge()}}else if("number"==typeof r){let o=null,s=je(t,e),a=Me,l=i&P.Host?e[16][6]:null;for((-1===s||i&P.SkipSelf)&&(a=-1===s?He(t,e):e[s+8],a!==Me&&tn(i,!1)?(o=e[1],s=Le(a),e=Ne(a,e)):s=-1);-1!==s;){const t=e[1];if(Qe(r,s,t.data)){const t=$e(s,e,n,o,i,l);if(t!==qe)return t}a=e[s+8],a!==Me&&tn(i,e[1].data[s+8]===l)&&Qe(r,s,e)?(o=t,s=Le(a),e=Ne(a,e)):s=-1}}}return Ze(e,n,i,o)}const qe={};function Je(){return new en(Zt(),Ht())}function $e(t,e,n,i,o,r){const s=e[1],a=s.data[t+8],l=Ke(a,s,n,null==i?gt(a)&&Be:i!=s&&0!=(3&a.type),o&P.Host&&r===a);return null!==l?Xe(e,s,l,a):qe}function Ke(t,e,n,i,o){const r=t.providerIndexes,s=e.data,a=1048575&r,l=t.directiveStart,c=r>>20,u=o?a+c:t.directiveEnd;for(let h=i?a:a+c;h<u;h++){const t=s[h];if(h<l&&n===t||h>=l&&t.type===n)return h}if(o){const t=s[l];if(t&&ft(t)&&t.type===n)return l}return null}function Xe(t,e,n,i){let o=t[n];const r=e.data;if(o instanceof xe){const s=o;s.resolving&&function(t,e){throw new f("200",`Circular dependency in DI detected for ${t}`)}(b(r[n]));const a=Fe(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?I(s.injectImpl):null;ce(t,i,P.Default);try{o=t[n]=s.factory(void 0,r,t,i),e.firstCreatePass&&n>=i.directiveStart&&
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function(t,e,n){const{ngOnChanges:i,ngOnInit:o,ngDoCheck:r}=e.type.prototype;if(i){const i=yt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,i)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,o),r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r))}(n,r[n],e)}finally{null!==l&&I(l),Fe(a),s.resolving=!1,ge()}}return o}function Qe(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function tn(t,e){return!(t&P.Self||t&P.Host&&e)}class en{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ye(this._tNode,this._lView,t,void 0,e)}}function nn(t){return R(()=>{const e=t.prototype.constructor,n=e[q]||on(e),i=Object.prototype;let o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==i;){const t=o[q]||on(o);if(t&&t!==n)return t;o=Object.getPrototypeOf(o)}return t=>new t})}function on(t){return m(t)?()=>{const e=on(g(t));return e&&e()}:_t(t)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function rn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let i=0;for(;i<t;){const o=n[i];if(ke(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<t&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}}return null}(Zt(),t)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const sn="__parameters__";function an(t,e,n){return R(()=>{const i=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function o(...t){if(this instanceof o)return i.apply(this,t),this;const e=new o(...t);return n.annotation=e,n;function n(t,n,i){const o=t.hasOwnProperty(sn)?t[sn]:Object.defineProperty(t,sn,{value:[]})[sn];for(;o.length<=i;)o.push(null);return(o[i]=o[i]||[]).push(e),t}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class ln{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=y({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const cn=new ln("AnalyzeForEntryComponents"),un=Function;function hn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let i=t[n];Array.isArray(i)?(e===t&&(e=t.slice(0,n)),hn(i,e)):e!==t&&e.push(i)}return e}function dn(t,e){t.forEach(t=>Array.isArray(t)?dn(t,e):e(t))}function pn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function gn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function mn(t,e){const n=[];for(let i=0;i<t;i++)n.push(e);return n}function fn(t,e,n){let i=bn(t,e);return i>=0?t[1|i]=n:(i=~i,function(t,e,n,i){let o=t.length;if(o==e)t.push(n,i);else if(1===o)t.push(i,t[0]),t[0]=n;else{for(o--,t.push(t[o-1],t[o]);o>e;)t[o]=t[o-2],o--;t[e]=n,t[e+1]=i}}(t,i,e,n)),i}function _n(t,e){const n=bn(t,e);if(n>=0)return t[1|n]}function bn(t,e){return function(t,e,n){let i=0,o=t.length>>1;for(;o!==i;){const n=i+(o-i>>1),r=t[n<<1];if(e===r)return n<<1;r>e?o=n:i=n+1}return~(o<<1)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(t,e)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const vn={},yn=/\n/gm,Cn="__source",On=l({provide:String,useValue:l});let Tn;function En(t){const e=Tn;return Tn=t,e}function Sn(t,e=P.Default){if(void 0===Tn)throw new Error("inject() must be called from an injection context");return null===Tn?A(t,void 0,e):Tn.get(t,e&P.Optional?null:void 0,e)}function wn(t,e=P.Default){return(k||Sn)(g(t),e)}const Mn=wn;function xn(t){const e=[];for(let n=0;n<t.length;n++){const i=g(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let t,n=P.Default;for(let e=0;e<i.length;e++){const o=i[e],r=o.__NG_DI_FLAG__;"number"==typeof r?-1===r?t=o.token:n|=r:t=o}e.push(wn(t,n))}else e.push(wn(i))}return e}function Pn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const kn=Pn(an("Inject",t=>({token:t})),-1),In=Pn(an("Optional"),8),An=Pn(an("Self"),2),Rn=Pn(an("SkipSelf"),4);
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
let Dn,Ln;function Nn(t){var e;return(null===(e=function(){if(void 0===Dn&&(Dn=null,V.trustedTypes))try{Dn=V.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Dn}())||void 0===e?void 0:e.createHTML(t))||t}function Bn(t){var e;return(null===(e=function(){if(void 0===Ln&&(Ln=null,V.trustedTypes))try{Ln=V.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Ln}())||void 0===e?void 0:e.createHTML(t))||t}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class Fn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Un extends Fn{getTypeName(){return"HTML"}}class Vn extends Fn{getTypeName(){return"Style"}}class Gn extends Fn{getTypeName(){return"Script"}}class jn extends Fn{getTypeName(){return"URL"}}class Hn extends Fn{getTypeName(){return"ResourceURL"}}function zn(t){return t instanceof Fn?t.changingThisBreaksApplicationSecurity:t}function Wn(t,e){const n=Zn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Zn(t){return t instanceof Fn&&t.getTypeName()||null}function Yn(t){return new Un(t)}function qn(t){return new Vn(t)}function Jn(t){return new Gn(t)}function $n(t){return new jn(t)}function Kn(t){return new Hn(t)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class Xn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Nn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Qn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Nn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Nn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const n=e.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const ti=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ei=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ni(t){return(t=String(t)).match(ti)||t.match(ei)?t:"unsafe:"+t}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function ii(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function oi(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const ri=ii("area,br,col,hr,img,wbr"),si=ii("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ai=ii("rp,rt"),li=oi(ai,si),ci=oi(ri,oi(si,ii("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),oi(ai,ii("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),li),ui=ii("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hi=ii("srcset"),di=oi(ui,hi,ii("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ii("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),pi=ii("script,style,template");class gi{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!ci.hasOwnProperty(e))return this.sanitizedSomething=!0,!pi.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let o=0;o<n.length;o++){const t=n.item(o),e=t.name,r=e.toLowerCase();if(!di.hasOwnProperty(r)){this.sanitizedSomething=!0;continue}let s=t.value;ui[r]&&(s=ni(s)),hi[r]&&(i=s,s=(i=String(i)).split(",").map(t=>ni(t.trim())).join(", ")),this.buf.push(" ",e,'="',_i(s),'"')}var i;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();ci.hasOwnProperty(e)&&!ri.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(_i(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const mi=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fi=/([^\#-~ |!])/g;function _i(t){return t.replace(/&/g,"&amp;").replace(mi,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(fi,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let bi;function vi(t,e){let n=null;try{bi=bi||function(t){const e=new Qn(t);return function(){try{return!!(new window.DOMParser).parseFromString(Nn(""),"text/html")}catch(t){return!1}}()?new Xn(e):e}(t);let i=e?String(e):"";n=bi.getInertBodyElement(i);let o=5,r=i;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,i=r,r=n.innerHTML,n=bi.getInertBodyElement(i)}while(i!==r);return Nn((new gi).sanitizeChildren(yi(n)||n))}finally{if(n){const t=yi(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function yi(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(t)?t.content:null}var Ci=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Oi(t){const e=Ei();return e?Bn(e.sanitize(Ci.HTML,t)||""):Wn(t,"HTML")?Bn(zn(t)):vi(Mt(),_(t))}function Ti(t){const e=Ei();return e?e.sanitize(Ci.URL,t)||"":Wn(t,"URL")?zn(t):ni(_(t))}function Ei(){const t=Ht();return t&&t[12]}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Si(t,e){t.__ngContext__=e}function wi(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Mi(t){return t.ngDebugContext}function xi(t){return t.ngOriginalError}function Pi(t,...e){t.error(...e)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class ki{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t.ngErrorLogger||Pi}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Mi(t)?Mi(t):this._findContext(xi(t)):null}_findOriginalError(t){let e=xi(t);for(;e&&xi(e);)e=xi(e);return e}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const Ii=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(V))();function Ai(t){return t.ownerDocument.defaultView}function Ri(t){return t.ownerDocument}function Di(t){return t.ownerDocument.body}function Li(t){return t instanceof Function?t():t}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var Ni=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Bi(t,e){return(void 0)(t,e)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Fi(t){const e=t[3];return dt(e)?e[3]:e}function Ui(t){return Gi(t[13])}function Vi(t){return Gi(t[4])}function Gi(t){for(;null!==t&&!dt(t);)t=t[4];return t}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function ji(t,e,n,i,o){if(null!=i){let r,s=!1;dt(i)?r=i:ht(i)&&(s=!0,i=i[0]);const a=kt(i);0===t&&null!==n?null==o?$i(e,n,a):Ji(e,n,a,o||null,!0):1===t&&null!==n?Ji(e,n,a,o||null,!0):2===t?function(t,e,n){const i=Xi(t,e);i&&function(t,e,n,i){xt(t)?t.removeChild(e,n,i):e.removeChild(n)}(t,i,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=r&&function(t,e,n,i,o){const r=n[7];r!==kt(n)&&ji(e,t,i,r,o);for(let s=ut;s<n.length;s++){const o=n[s];so(o[1],o,t,e,i,r)}}(e,t,r,n,o)}}function Hi(t,e,n){return xt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function zi(t,e){const n=t[9],i=n.indexOf(e),o=e[3];1024&e[2]&&(e[2]&=-1025,Vt(o,-1)),n.splice(i,1)}function Wi(t,e){if(t.length<=ut)return;const n=ut+e,i=t[n];if(i){const r=i[17];null!==r&&r!==t&&zi(r,i),e>0&&(t[n-1][4]=i[4]);const s=gn(t,ut+e);so(i[1],o=i,o[11],2,null,null),o[0]=null,o[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}var o;return i}function Zi(t,e){if(!(256&e[2])){const n=e[11];xt(n)&&n.destroyNode&&so(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Yi(t[1],t);for(;e;){let n=null;if(ht(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ht(e)&&Yi(e[1],e),e=e[3];null===e&&(e=t),ht(e)&&Yi(e[1],e),n=e&&e[4]}e=n}}(e)}}function Yi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let i=0;i<n.length;i+=2){const t=e[n[i]];if(!(t instanceof xe)){const e=n[i+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const i=t[e[n]],o=e[n+1];try{o.call(i)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,i=e[7];let o=-1;if(null!==n)for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const t=n[r+1],s="function"==typeof t?t(e):kt(e[t]),a=i[o=n[r+2]],l=n[r+3];"boolean"==typeof l?s.removeEventListener(n[r],a,l):l>=0?i[o=l]():i[o=-l].unsubscribe(),r+=2}else{const t=i[o=n[r+1]];n[r].call(t)}if(null!==i){for(let t=o+1;t<i.length;t++)(0,i[t])();e[7]=null}}(t,e),1===e[1].type&&xt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&dt(e[3])){n!==e[3]&&zi(n,e);const i=e[19];null!==i&&i.detachView(t)}}}function qi(t,e,n){return function(t,e,n){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return n[0];if(2&i.flags){const e=t.data[i.directiveStart].encapsulation;if(e===L.None||e===L.Emulated)return null}return At(i,n)}(t,e.parent,n)}function Ji(t,e,n,i,o){xt(t)?t.insertBefore(e,n,i,o):e.insertBefore(n,i,o)}function $i(t,e,n){xt(t)?t.appendChild(e,n):e.appendChild(n)}function Ki(t,e,n,i,o){null!==i?Ji(t,e,n,i,o):$i(t,e,n)}function Xi(t,e){return xt(t)?t.parentNode(e):e.parentNode}function Qi(t,e,n){return to(t,e,n)}let to=function(t,e,n){return 40&t.type?At(t,n):null};function eo(t,e,n,i){const o=qi(t,i,e),r=e[11],s=Qi(i.parent||e[6],i,e);if(null!=o)if(Array.isArray(n))for(let a=0;a<n.length;a++)Ki(r,o,n[a],s,!1);else Ki(r,o,n,s,!1)}function no(t,e){if(null!==e){const n=e.type;if(3&n)return At(e,t);if(4&n)return oo(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return no(t,n);{const n=t[e.index];return dt(n)?oo(-1,n):kt(n)}}if(32&n)return Bi(e,t)()||kt(t[e.index]);{const n=io(t,e);return null!==n?Array.isArray(n)?n[0]:no(Fi(t[16]),n):no(t,e.next)}}return null}function io(t,e){return null!==e?t[16][6].projection[e.projection]:null}function oo(t,e){const n=ut+t+1;if(n<e.length){const t=e[n],i=t[1].firstChild;if(null!==i)return no(t,i)}return e[7]}function ro(t,e,n,i,o,r,s){for(;null!=n;){const a=i[n.index],l=n.type;if(s&&0===e&&(a&&Si(kt(a),i),n.flags|=4),64!=(64&n.flags))if(8&l)ro(t,e,n.child,i,o,r,!1),ji(e,t,o,a,r);else if(32&l){const s=Bi(n,i);let l;for(;l=s();)ji(e,t,o,l,r);ji(e,t,o,a,r)}else 16&l?ao(t,e,i,n,o,r):ji(e,t,o,a,r);n=s?n.projectionNext:n.next}}function so(t,e,n,i,o,r){ro(n,i,t.firstChild,e,o,r,!1)}function ao(t,e,n,i,o,r){const s=n[16],a=s[6].projection[i.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)ji(e,t,o,a[l],r);else ro(t,e,a,s[3],o,r,!0)}function lo(t,e,n){xt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function co(t,e,n){xt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function uo(t,e,n){let i=t.length;for(;;){const o=t.indexOf(e,n);if(-1===o)return o;if(0===o||t.charCodeAt(o-1)<=32){const n=e.length;if(o+n===i||t.charCodeAt(o+n)<=32)return o}n=o+1}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const ho="ng-template";function po(t,e,n){let i=0;for(;i<t.length;){let o=t[i++];if(n&&"class"===o){if(o=t[i],-1!==uo(o.toLowerCase(),e,0))return!0}else if(1===o){for(;i<t.length&&"string"==typeof(o=t[i++]);)if(o.toLowerCase()===e)return!0;return!1}}return!1}function go(t){return 4===t.type&&t.value!==ho}function mo(t,e,n){return e===(4!==t.type||n?t.value:ho)}function fo(t,e,n){let i=4;const o=t.attrs||[],r=function(t){for(let e=0;e<t.length;e++)if(ke(t[e]))return e;return t.length}(o);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!mo(t,l,n)||""===l&&1===e.length){if(_o(i))return!1;s=!0}}else{const c=8&i?l:e[++a];if(8&i&&null!==t.attrs){if(!po(t.attrs,c,n)){if(_o(i))return!1;s=!0}continue}const u=bo(8&i?"class":l,o,go(t),n);if(-1===u){if(_o(i))return!1;s=!0;continue}if(""!==c){let t;t=u>r?"":o[u+1].toLowerCase();const e=8&i?t:null;if(e&&-1!==uo(e,c,0)||2&i&&c!==t){if(_o(i))return!1;s=!0}}}}else{if(!s&&!_o(i)&&!_o(l))return!1;if(s&&_o(l))continue;s=!1,i=l|1&i}}return _o(i)||s}function _o(t){return 0==(1&t)}function bo(t,e,n,i){if(null===e)return-1;let o=0;if(i||!n){let n=!1;for(;o<e.length;){const i=e[o];if(i===t)return o;if(3===i||6===i)n=!0;else{if(1===i||2===i){let t=e[++o];for(;"string"==typeof t;)t=e[++o];continue}if(4===i)break;if(0===i){o+=4;continue}}o+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const i=t[n];if("number"==typeof i)return-1;if(i===e)return n;n++}return-1}(e,t)}function vo(t,e,n=!1){for(let i=0;i<e.length;i++)if(fo(t,e[i],n))return!0;return!1}function yo(t,e){t:for(let n=0;n<e.length;n++){const i=e[n];if(t.length===i.length){for(let e=0;e<t.length;e++)if(t[e]!==i[e])continue t;return!0}}return!1}function Co(t,e){return t?":not("+e.trim()+")":e}function Oo(t){let e=t[0],n=1,i=2,o="",r=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&i){const e=t[++n];o+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&i?o+="."+s:4&i&&(o+=" "+s);else""===o||_o(s)||(e+=Co(r,o),o=""),i=s,r=r||!_o(i);n++}return""!==o&&(e+=Co(r,o)),e}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const To={};
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Eo(t){So(zt(),Ht(),fe()+t,Kt())}function So(t,e,n,i){if(!i)if(3==(3&e[2])){const i=t.preOrderCheckHooks;null!==i&&Oe(e,i,n)}else{const i=t.preOrderHooks;null!==i&&Te(e,i,0,n)}_e(n)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function wo(t,e){return t<<17|e<<2}function Mo(t){return t>>17&32767}function xo(t){return 2|t}function Po(t){return(131068&t)>>2}function ko(t,e){return-131069&t|e<<2}function Io(t){return 1|t}function Ao(t,e){const n=t.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const o=n[i],r=n[i+1];if(-1!==r){const n=t.data[r];ae(o),n.contentQueries(2,e[r],r)}}}function Ro(t,e,n,i,o,r,s,a,l,c){const u=e.blueprint.slice();return u[0]=o,u[2]=140|i,Ut(u),u[3]=u[15]=t,u[8]=n,u[10]=s||t&&t[10],u[11]=a||t&&t[11],u[12]=l||t&&t[12]||null,u[9]=c||t&&t[9]||null,u[6]=r,u[16]=2==e.type?t[16]:u,u}function Do(t,e,n,i,o){let r=t.data[e];if(null===r)r=function(t,e,n,i,o){const r=Yt(),s=Jt(),a=t.data[e]=function(t,e,n,i,o,r){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?r:r&&r.parent,n,e,i,o);return null===t.firstChild&&(t.firstChild=a),null!==r&&(s?null==r.child&&null!==a.parent&&(r.child=a):null===r.next&&(r.next=a)),a}(t,e,n,i,o),Gt.lFrame.inI18n&&(r.flags|=64);else if(64&r.type){r.type=n,r.value=i,r.attrs=o;const t=function(){const t=Gt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();r.injectorIndex=null===t?-1:t.injectorIndex}return qt(r,!0),r}function Lo(t,e,n,i){if(0===n)return-1;const o=e.length;for(let r=0;r<n;r++)e.push(i),t.blueprint.push(i),t.data.push(null);return o}function No(t,e,n){ue(e);try{const i=t.viewQuery;null!==i&&dr(1,i,n);const o=t.template;null!==o&&Uo(t,e,o,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ao(t,e),t.staticViewQueries&&dr(2,t.viewQuery,n);const r=t.components;null!==r&&function(t,e){for(let n=0;n<e.length;n++)ar(t,e[n])}(e,r)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),i}finally{e[2]&=-5,me()}}function Bo(t,e,n,i){const o=e[2];if(256==(256&o))return;ue(e);const r=Kt();try{Ut(e),Gt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Uo(t,e,n,2,i);const s=3==(3&o);if(!r)if(s){const n=t.preOrderCheckHooks;null!==n&&Oe(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Te(e,n,0,null),Ee(e,0)}if(function(t){for(let e=Ui(t);null!==e;e=Vi(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],i=n[3];0==(1024&n[2])&&Vt(i,1),n[2]|=1024}}}(e),function(t){for(let e=Ui(t);null!==e;e=Vi(e))for(let t=ut;t<e.length;t++){const n=e[t],i=n[1];Bt(n)&&Bo(i,n,i.template,n[8])}}(e),null!==t.contentQueries&&Ao(t,e),!r)if(s){const n=t.contentCheckHooks;null!==n&&Oe(e,n)}else{const n=t.contentHooks;null!==n&&Te(e,n,1),Ee(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const i=n[t];if(i<0)_e(~i);else{const o=i,r=n[++t],s=n[++t];ie(r,o),s(2,e[o])}}}finally{_e(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)rr(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&dr(2,l,i),!r)if(s){const n=t.viewCheckHooks;null!==n&&Oe(e,n)}else{const n=t.viewHooks;null!==n&&Te(e,n,2),Ee(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Vt(e[3],-1))}finally{me()}}function Fo(t,e,n,i){const o=e[10],r=!Kt(),s=Nt(e);try{r&&!s&&o.begin&&o.begin(),s&&No(t,e,i),Bo(t,e,n,i)}finally{r&&!s&&o.end&&o.end()}}function Uo(t,e,n,i,o){const r=fe(),s=2&i;try{_e(-1),s&&e.length>ct&&So(t,e,ct,Kt()),n(i,o)}finally{_e(r)}}function Vo(t,e,n){if(pt(e)){const i=e.directiveEnd;for(let o=e.directiveStart;o<i;o++){const e=t.data[o];e.contentQueries&&e.contentQueries(1,n[o],o)}}}function Go(t,e,n){jt()&&(function(t,e,n,i){const o=n.directiveStart,r=n.directiveEnd;t.firstCreatePass||Ve(n,e),Si(i,e);const s=n.initialInputs;for(let a=o;a<r;a++){const i=t.data[a],r=ft(i);r&&er(e,n,i);const l=Xe(e,t,a,n);Si(l,e),null!==s&&nr(0,a-o,l,i,0,s),r&&(Lt(n.index,e)[8]=l)}}(t,e,n,At(n,e)),128==(128&n.flags)&&function(t,e,n){const i=n.directiveStart,o=n.directiveEnd,r=n.index,s=Gt.lFrame.currentDirectiveIndex;try{_e(r);for(let n=i;n<o;n++){const i=t.data[n],o=e[n];oe(n),null===i.hostBindings&&0===i.hostVars&&null===i.hostAttrs||$o(i,o)}}finally{_e(-1),oe(s)}}(t,e,n))}function jo(t,e,n=At){const i=e.localNames;if(null!==i){let o=e.index+1;for(let r=0;r<i.length;r+=2){const s=i[r+1],a=-1===s?n(e,t):t[s];t[o++]=a}}}function Ho(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=zo(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function zo(t,e,n,i,o,r,s,a,l,c){const u=ct+i,h=u+o,d=function(t,e){const n=[];for(let i=0;i<e;i++)n.push(i<t?null:To);return n}(u,h),p="function"==typeof c?c():c;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1}}function Wo(t,e,n,i){const o=gr(e);null===n?o.push(i):(o.push(n),t.firstCreatePass&&mr(t).push(i,o.length-1))}function Zo(t,e,n){for(let i in t)if(t.hasOwnProperty(i)){const o=t[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(e,o):n[i]=[e,o]}return n}function Yo(t,e,n,i,o,r,s,a){const l=At(e,n);let c,u=e.inputs;var h;!a&&null!=u&&(c=u[i])?(br(t,n,c,i,o),gt(e)&&function(t,e){const n=Lt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(i="class"===(h=i)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,o=null!=s?s(o,e.value||"",i):o,xt(r)?r.setProperty(l,i,o):Ie(i)||(l.setProperty?l.setProperty(i,o):l[i]=o))}function qo(t,e,n,i){let o=!1;if(jt()){const r=function(t,e,n){const i=t.directiveRegistry;let o=null;if(i)for(let r=0;r<i.length;r++){const s=i[r];vo(n,s.selectors,!1)&&(o||(o=[]),ze(Ve(n,e),t,s.type),ft(s)?(Ko(t,n),o.unshift(s)):o.push(s))}return o}(t,e,n),s=null===i?null:{"":-1};if(null!==r){o=!0,Qo(n,t.data.length,r.length);for(let t=0;t<r.length;t++){const e=r[t];e.providersResolver&&e.providersResolver(e)}let i=!1,a=!1,l=Lo(t,e,r.length,null);for(let o=0;o<r.length;o++){const c=r[o];n.mergedAttrs=Ae(n.mergedAttrs,c.hostAttrs),tr(t,n,e,l,c),Xo(l,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const u=c.type.prototype;!i&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),i=!0),a||!u.ngOnChanges&&!u.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),l++}!function(t,e){const n=e.directiveEnd,i=t.data,o=e.attrs,r=[];let s=null,a=null;for(let l=e.directiveStart;l<n;l++){const t=i[l],n=t.inputs,c=null===o||go(e)?null:ir(n,o);r.push(c),s=Zo(n,l,s),a=Zo(t.outputs,l,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=r,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const i=t.localNames=[];for(let t=0;t<e.length;t+=2){const o=n[e[t+1]];if(null==o)throw new f("301",`Export of name '${e[t+1]}' not found!`);i.push(e[t],o)}}}(n,i,s)}return n.mergedAttrs=Ae(n.mergedAttrs,n.attrs),o}function Jo(t,e,n,i,o,r){const s=r.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const r=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=r&&n.push(r),n.push(i,o,s)}}function $o(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ko(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Xo(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;ft(e)&&(n[""]=t)}}function Qo(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function tr(t,e,n,i,o){t.data[i]=o;const r=o.factory||(o.factory=_t(o.type)),s=new xe(r,ft(o),null);t.blueprint[i]=s,n[i]=s,Jo(t,e,0,i,Lo(t,n,o.hostVars,To),o)}function er(t,e,n){const i=At(e,t),o=Ho(n),r=t[10],s=lr(t,Ro(t,o,null,n.onPush?64:16,i,e,r,r.createRenderer(i,n),null,null));t[e.index]=s}function nr(t,e,n,i,o,r){const s=r[e];if(null!==s){const t=i.setInput;for(let e=0;e<s.length;){const o=s[e++],r=s[e++],a=s[e++];null!==t?i.setInput(n,a,o,r):n[r]=a}}}function ir(t,e){let n=null,i=0;for(;i<e.length;){const o=e[i];if(0!==o)if(5!==o){if("number"==typeof o)break;t.hasOwnProperty(o)&&(null===n&&(n=[]),n.push(o,t[o],e[i+1])),i+=2}else i+=2;else i+=4}return n}function or(t,e,n,i){return new Array(t,!0,!1,e,null,0,i,n,null,null)}function rr(t,e){const n=Lt(e,t);if(Bt(n)){const t=n[1];80&n[2]?Bo(t,n,t.template,n[8]):n[5]>0&&sr(n)}}function sr(t){for(let n=Ui(t);null!==n;n=Vi(n))for(let t=ut;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Bo(t,e,t.template,e[8])}else e[5]>0&&sr(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const i=Lt(e[n],t);Bt(i)&&i[5]>0&&sr(i)}}function ar(t,e){const n=Lt(e,t),i=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(i,n),No(i,n,n[8])}function lr(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function cr(t){for(;t;){t[2]|=64;const e=Fi(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function ur(t,e,n){const i=e[10];i.begin&&i.begin();try{Bo(t,e,t.template,n)}catch(o){throw _r(e,o),o}finally{i.end&&i.end()}}function hr(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],i=wi(n),o=i[1];Fo(o,i,o.template,n)}}(t[8])}function dr(t,e,n){ae(0),e(t,n)}const pr=(()=>Promise.resolve(null))();function gr(t){return t[7]||(t[7]=[])}function mr(t){return t.cleanup||(t.cleanup=[])}function fr(t,e,n){return(null===t||ft(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function _r(t,e){const n=t[9],i=n?n.get(ki,null):null;i&&i.handleError(e)}function br(t,e,n,i,o){for(let r=0;r<n.length;){const s=n[r++],a=n[r++],l=e[s],c=t.data[s];null!==c.setInput?c.setInput(l,o,i,a):l[a]=o}}function vr(t,e,n){const i=It(e,t);!function(t,e,n){xt(t)?t.setValue(e,n):e.textContent=n}(t[11],i,n)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function yr(t,e,n){let i=n?t.styles:null,o=n?t.classes:null,r=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?r=t:1==r?o=h(o,t):2==r&&(i=h(i,t+": "+e[++s]+";"))}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=o:t.classesWithoutHost=o}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const Cr=new ln("INJECTOR",-1);
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class Or{get(t,e=vn){if(e===vn){const e=new Error(`NullInjectorError: No provider for ${u(t)}!`);throw e.name="NullInjectorError",e}return e}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const Tr=new ln("Set Injector scope."),Er={},Sr={};
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */let wr;function Mr(){return void 0===wr&&(wr=new Or),wr}function xr(t,e=null,n=null,i){return new Pr(t,n,e||Mr(),i)}class Pr{constructor(t,e,n,i=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];e&&dn(e,n=>this.processProvider(n,t,e)),dn([t],t=>this.processInjectorType(t,[],o)),this.records.set(Cr,Ar(void 0,this));const r=this.records.get(Tr);this.scope=null!=r?r.value:null,this.source=i||("object"==typeof t?null:u(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=vn,n=P.Default){this.assertNotDestroyed();const i=En(this);try{if(!(n&P.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(o=t)||"object"==typeof o&&o instanceof ln)&&O(t);e=n&&this.injectableDefInScope(n)?Ar(kr(t),Er):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&P.Self?Mr():this.parent).get(t,e=n&P.Optional&&e===vn?null:e)}catch(r){if("NullInjectorError"===r.name){if((r.ngTempTokenPath=r.ngTempTokenPath||[]).unshift(u(t)),i)throw r;return function(t,e,n,i){const o=t.ngTempTokenPath;throw e[Cn]&&o.unshift(e[Cn]),t.message=function(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let o=u(e);if(Array.isArray(e))o=e.map(u).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];t.push(n+":"+("string"==typeof i?JSON.stringify(i):u(i)))}o=`{${t.join(", ")}}`}return`${n}${i?"("+i+")":""}[${o}]: ${t.replace(yn,"\n  ")}`}("\n"+t.message,o,n,i),t.ngTokenPath=o,t.ngTempTokenPath=null,t}(r,t,"R3InjectorError",this.source)}throw r}finally{En(i)}var o;
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(u(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=g(t)))return!1;let i=E(t);const o=null==i&&t.ngModule||void 0,r=void 0===o?t:o,s=-1!==n.indexOf(r);if(void 0!==o&&(i=E(o)),null==i)return!1;if(null!=i.imports&&!s){let t;n.push(r);try{dn(i.imports,i=>{this.processInjectorType(i,e,n)&&(void 0===t&&(t=[]),t.push(i))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:i}=t[e];dn(i,t=>this.processProvider(t,n,i||j))}}this.injectorDefTypes.add(r);const a=_t(r)||(()=>new r);this.records.set(r,Ar(a,Er));const l=i.providers;if(null!=l&&!s){const e=t;dn(l,t=>this.processProvider(t,e,l))}return void 0!==o&&void 0!==t.providers}processProvider(t,e,n){let i=Dr(t=g(t))?t:g(t&&t.provide);const o=function(t,e,n){return Rr(t)?Ar(void 0,t.useValue):Ar(Ir(t),Er)}(t);if(Dr(t)||!0!==t.multi)this.records.get(i);else{let e=this.records.get(i);e||(e=Ar(void 0,Er,!0),e.factory=()=>xn(e.multi),this.records.set(i,e)),i=t,e.multi.push(t)}this.records.set(i,o)}hydrate(t,e){var n;return e.value===Er&&(e.value=Sr,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=g(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function kr(t){const e=O(t),n=null!==e?e.factory:_t(t);if(null!==n)return n;if(t instanceof ln)throw new Error(`Token ${u(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=mn(e,"?");throw new Error(`Can't resolve all parameters for ${u(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[S]||t[M]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Ir(t,e,n){let i;if(Dr(t)){const e=g(t);return _t(e)||kr(e)}if(Rr(t))i=()=>g(t.useValue);else if((o=t)&&o.useFactory)i=()=>t.useFactory(...xn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))i=()=>wn(g(t.useExisting));else{const e=g(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return _t(e)||kr(e);i=()=>new e(...xn(t.deps))}var o;return i}function Ar(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Rr(t){return null!==t&&"object"==typeof t&&On in t}function Dr(t){return"function"==typeof t}const Lr=function(t,e,n){return function(t,e=null,n=null,i){const o=xr(t,e,n,i);return o._resolveInjectorDefTypes(),o}({name:n},e,t,n)};let Nr=(()=>{class t{static create(t,e){return Array.isArray(t)?Lr(t,e,""):Lr(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=vn,t.NULL=new Or,t.\u0275prov=y({token:t,providedIn:"any",factory:()=>wn(Cr)}),t.__NG_ELEMENT_ID__=-1,t})();function Br(t,e){Ce(wi(t)[1],Zt())}function Fr(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const i=[t];for(;e;){let o;if(ft(t))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");o=e.\u0275dir}if(o){if(n){i.push(o);const e=t;e.inputs=Ur(t.inputs),e.declaredInputs=Ur(t.declaredInputs),e.outputs=Ur(t.outputs);const n=o.hostBindings;n&&jr(t,n);const r=o.viewQuery,s=o.contentQueries;if(r&&Vr(t,r),s&&Gr(t,s),c(t.inputs,o.inputs),c(t.declaredInputs,o.declaredInputs),c(t.outputs,o.outputs),ft(o)&&o.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(o.data.animation)}}const e=o.features;if(e)for(let i=0;i<e.length;i++){const o=e[i];o&&o.ngInherit&&o(t),o===Fr&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){const o=t[i];o.hostVars=e+=o.hostVars,o.hostAttrs=Ae(o.hostAttrs,n=Ae(n,o.hostAttrs))}}(i)}function Ur(t){return t===G?{}:t===j?[]:t}function Vr(t,e){const n=t.viewQuery;t.viewQuery=n?(t,i)=>{e(t,i),n(t,i)}:e}function Gr(t,e){const n=t.contentQueries;t.contentQueries=n?(t,i,o)=>{e(t,i,o),n(t,i,o)}:e}function jr(t,e){const n=t.hostBindings;t.hostBindings=n?(t,i)=>{e(t,i),n(t,i)}:e}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
let Hr=null;function zr(){if(!Hr){const t=V.Symbol;if(t&&t.iterator)Hr=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Hr=n)}}}return Hr}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class Wr{constructor(t){this.wrapped=t}static wrap(t){return new Wr(t)}static unwrap(t){return Wr.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Wr}}function Zr(t){return!!Yr(t)&&(Array.isArray(t)||!(t instanceof Map)&&zr()in t)}function Yr(t){return null!==t&&("function"==typeof t||"object"==typeof t)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function qr(t,e,n){return t[e]=n}function Jr(t,e){return t[e]}function $r(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Kr(t,e,n,i){const o=$r(t,e,n);return $r(t,e+1,i)||o}function Xr(t,e,n,i,o,r){const s=Kr(t,e,n,i);return Kr(t,e+2,o,r)||s}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Qr(t,e,n,i){const o=Ht();return $r(o,ee(),e)&&(zt(),function(t,e,n,i,o,r){const s=At(t,e);!function(t,e,n,i,o,r,s){if(null==r)xt(t)?t.removeAttribute(e,o,n):e.removeAttribute(o);else{const a=null==s?_(r):s(r,i||"",o);xt(t)?t.setAttribute(e,o,a,n):n?e.setAttributeNS(n,o,a):e.setAttribute(o,a)}}(e[11],s,r,t.value,n,i,o)}(be(),o,t,e,n,i)),Qr}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function ts(t,e,n,i){return $r(t,ee(),n)?e+_(n)+i:To}function es(t,e,n,i,o,r,s,a){const l=Ht(),c=zt(),u=t+ct,h=c.firstCreatePass?
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function(t,e,n,i,o,r,s,a,l){const c=e.consts,u=Do(e,t,4,s||null,Ft(c,a));qo(e,n,u,Ft(c,l)),Ce(e,u);const h=u.tViews=zo(2,u,i,o,r,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,n,i,o,r,s):c.data[u];qt(h,!1);const d=l[11].createComment("");eo(c,l,d,h),Si(d,l),lr(l,l[u]=or(d,l,d,h)),mt(h)&&Go(c,l,h),null!=s&&jo(l,h,a)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function ns(t){return Dt(Gt.lFrame.contextLView,ct+t)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function is(t,e=P.Default){const n=Ht();return null===n?wn(t,e):Ye(Zt(),n,g(t),e)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function os(t,e,n){const i=Ht();return $r(i,ee(),e)&&Yo(zt(),be(),i,t,e,i[11],n,!1),os}function rs(t,e,n,i,o){const r=o?"class":"style";br(t,n,e.inputs[r],r,i)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function ss(t,e,n,i){const o=Ht(),r=zt(),s=ct+t,a=o[11],l=o[s]=Hi(a,e,Gt.lFrame.currentNamespace),c=r.firstCreatePass?function(t,e,n,i,o,r,s){const a=e.consts,l=Do(e,t,2,o,Ft(a,r));return qo(e,n,l,Ft(a,s)),null!==l.attrs&&yr(l,l.attrs,!1),null!==l.mergedAttrs&&yr(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,r,o,0,e,n,i):r.data[s];qt(c,!0);const u=c.mergedAttrs;null!==u&&Pe(a,l,u);const h=c.classes;null!==h&&co(a,l,h);const d=c.styles;null!==d&&lo(a,l,d),64!=(64&c.flags)&&eo(r,o,l,c),0===Gt.lFrame.elementDepthCount&&Si(l,o),Gt.lFrame.elementDepthCount++,mt(c)&&(Go(r,o,c),Vo(r,c,o)),null!==i&&jo(o,c)}function as(){let t=Zt();Jt()?$t():(t=t.parent,qt(t,!1));const e=t;Gt.lFrame.elementDepthCount--;const n=zt();n.firstCreatePass&&(Ce(n,t),pt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&rs(n,e,Ht(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(e)&&rs(n,e,Ht(),e.stylesWithoutHost,!1)}function ls(t,e,n,i){ss(t,e,n,i),as()}function cs(t,e,n){const i=Ht(),o=zt(),r=t+ct,s=o.firstCreatePass?
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function(t,e,n,i,o){const r=e.consts,s=Ft(r,i),a=Do(e,t,8,"ng-container",s);return null!==s&&yr(a,s,!0),qo(e,n,a,Ft(r,o)),null!==e.queries&&e.queries.elementStart(e,a),a}(r,o,i,e,n):o.data[r];qt(s,!0);const a=i[r]=i[11].createComment("");eo(o,i,a,s),Si(a,i),mt(s)&&(Go(o,i,s),Vo(o,s,i)),null!=n&&jo(i,s)}function us(){let t=Zt();const e=zt();Jt()?$t():(t=t.parent,qt(t,!1)),e.firstCreatePass&&(Ce(e,t),pt(t)&&e.queries.elementEnd(t))}function hs(t,e,n){cs(t,e,n),us()}function ds(){return Ht()}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function ps(t){return!!t&&"function"==typeof t.then}function gs(t){return!!t&&"function"==typeof t.subscribe}const ms=gs;
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function fs(t,e,n,i){const o=Ht(),r=zt(),s=Zt();return bs(r,o,o[11],s,t,e,!!n,i),fs}function _s(t,e){const n=Zt(),i=Ht(),o=zt();return bs(o,i,fr(re(o.data),n,i),n,t,e,!1),_s}function bs(t,e,n,i,o,r,s,a){const l=mt(i),c=t.firstCreatePass&&mr(t),u=gr(e);let h=!0;if(3&i.type||a){const d=At(i,e),p=a?a(d):d,g=u.length,m=a?t=>a(kt(t[i.index])):i.index;if(xt(n)){let s=null;if(!a&&l&&(s=function(t,e,n,i){const o=t.cleanup;if(null!=o)for(let r=0;r<o.length-1;r+=2){const t=o[r];if(t===n&&o[r+1]===i){const t=e[7],n=o[r+2];return t.length>n?t[n]:null}"string"==typeof t&&(r+=2)}return null}(t,e,o,i.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=r,s.__ngLastListenerFn__=r,h=!1;else{r=ys(i,e,0,r,!1);const t=n.listen(p,o,r);u.push(r,t),c&&c.push(o,m,g,g+1)}}else r=ys(i,e,0,r,!0),p.addEventListener(o,r,s),u.push(r),c&&c.push(o,m,g,s)}else r=ys(i,e,0,r,!1);const d=i.outputs;let p;if(h&&null!==d&&(p=d[o])){const t=p.length;if(t)for(let n=0;n<t;n+=2){const t=e[p[n]][p[n+1]].subscribe(r),s=u.length;u.push(r,t),c&&c.push(o,i.index,s,-(s+1))}}}function vs(t,e,n,i){try{return!1!==n(i)}catch(o){return _r(t,o),!1}}function ys(t,e,n,i,o){return function n(r){if(r===Function)return i;const s=2&t.flags?Lt(t.index,e):e;0==(32&e[2])&&cr(s);let a=vs(e,0,i,r),l=n.__ngNextListenerFn__;for(;l;)a=vs(e,0,l,r)&&a,l=l.__ngNextListenerFn__;return o&&!1===a&&(r.preventDefault(),r.returnValue=!1),a}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Cs(t=1){return function(t){return(Gt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Gt.lFrame.contextLView))[8]}(t)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Os(t,e){let n=null;const i=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let o=0;o<e.length;o++){const r=e[o];if("*"!==r){if(null===i?vo(t,r,!0):yo(i,r))return o}else n=o}return n}function Ts(t){const e=Ht()[16][6];if(!e.projection){const n=e.projection=mn(t?t.length:1,null),i=n.slice();let o=e.child;for(;null!==o;){const e=t?Os(o,t):0;null!==e&&(i[e]?i[e].projectionNext=o:n[e]=o,i[e]=o),o=o.next}}}function Es(t,e=0,n){const i=Ht(),o=zt(),r=Do(o,ct+t,16,null,n||null);null===r.projection&&(r.projection=e),$t(),64!=(64&r.flags)&&function(t,e,n){ao(e[11],0,e,n,qi(t,n,e),Qi(n.parent||e[6],n,e))}(o,i,r)}function Ss(t,e,n){return ws(t,"",e,"",n),Ss}function ws(t,e,n,i,o){const r=Ht(),s=ts(r,e,n,i);return s!==To&&Yo(zt(),be(),r,t,s,r[11],o,!1),ws}function Ms(t,e,n,i,o){const r=t[n+1],s=null===e;let a=i?Mo(r):Po(r),l=!1;for(;0!==a&&(!1===l||s);){const n=t[a+1];xs(t[a],e)&&(l=!0,t[a+1]=i?Io(n):xo(n)),a=i?Mo(n):Po(n)}l&&(t[n+1]=i?xo(r):Io(r))}function xs(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&bn(t,e)>=0}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const Ps={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ks(t){return t.substring(Ps.key,Ps.keyEnd)}function Is(t){return t.substring(Ps.value,Ps.valueEnd)}function As(t,e){const n=Ps.textEnd;return n===e?-1:(e=Ps.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Ps.key=e,n),Ls(t,e,n))}function Rs(t,e){const n=Ps.textEnd;let i=Ps.key=Ls(t,e,n);return n===i?-1:(i=Ps.keyEnd=function(t,e,n){let i;for(;e<n&&(45===(i=t.charCodeAt(e))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)e++;return e}(t,i,n),i=Ns(t,i,n),i=Ps.value=Ls(t,i,n),i=Ps.valueEnd=function(t,e,n){let i=-1,o=-1,r=-1,s=e,a=s;for(;s<n;){const l=t.charCodeAt(s++);if(59===l)return a;34===l||39===l?a=s=Bs(t,l,s,n):e===s-4&&85===r&&82===o&&76===i&&40===l?a=s=Bs(t,41,s,n):l>32&&(a=s),r=o,o=i,i=-33&l}return a}(t,i,n),Ns(t,i,n))}function Ds(t){Ps.key=0,Ps.keyEnd=0,Ps.value=0,Ps.valueEnd=0,Ps.textEnd=t.length}function Ls(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Ns(t,e,n,i){return(e=Ls(t,e,n))<n&&e++,e}function Bs(t,e,n,i){let o=-1,r=n;for(;r<i;){const n=t.charCodeAt(r++);if(n==e&&92!==o)return r;o=92==n&&92===o?0:n}throw new Error}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Fs(t,e,n){return zs(t,e,n,!1),Fs}function Us(t,e){return zs(t,e,null,!0),Us}function Vs(t){Ws($s,Gs,t,!1)}function Gs(t,e){for(let n=function(t){return Ds(t),Rs(t,Ls(t,0,Ps.textEnd))}(e);n>=0;n=Rs(e,n))$s(t,ks(e),Is(e))}function js(t){Ws(fn,Hs,t,!0)}function Hs(t,e){for(let n=function(t){return Ds(t),As(t,Ls(t,0,Ps.textEnd))}(e);n>=0;n=As(e,n))fn(t,ks(e),!0)}function zs(t,e,n,i){const o=Ht(),r=zt(),s=ne(2);r.firstUpdatePass&&Ys(r,t,s,i),e!==To&&$r(o,s,e)&&Ks(r,r.data[fe()],o,o[11],t,o[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=u(zn(t)))),t}(e,n),i,s)}function Ws(t,e,n,i){const o=zt(),r=ne(2);o.firstUpdatePass&&Ys(o,null,r,i);const s=Ht();if(n!==To&&$r(s,r,n)){const a=o.data[fe()];if(ta(a,i)&&!Zs(o,r)){let t=i?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=h(t,n||"")),rs(o,a,s,n,i)}else!function(t,e,n,i,o,r,s,a){o===To&&(o=j);let l=0,c=0,u=0<o.length?o[0]:null,h=0<r.length?r[0]:null;for(;null!==u||null!==h;){const d=l<o.length?o[l+1]:void 0,p=c<r.length?r[c+1]:void 0;let g,m=null;u===h?(l+=2,c+=2,d!==p&&(m=h,g=p)):null===h||null!==u&&u<h?(l+=2,m=u):(c+=2,m=h,g=p),null!==m&&Ks(t,e,n,i,m,g,s,a),u=l<o.length?o[l]:null,h=c<r.length?r[c]:null}}(o,a,s,s[11],s[r+1],s[r+1]=function(t,e,n){if(null==n||""===n)return j;const i=[],o=zn(n);if(Array.isArray(o))for(let r=0;r<o.length;r++)t(i,o[r],!0);else if("object"==typeof o)for(const r in o)o.hasOwnProperty(r)&&t(i,r,o[r]);else"string"==typeof o&&e(i,o);return i}(t,e,n),i,r)}}function Zs(t,e){return e>=t.expandoStartIndex}function Ys(t,e,n,i){const o=t.data;if(null===o[n+1]){const r=o[fe()],s=Zs(t,n);ta(r,i)&&null===e&&!s&&(e=!1),e=function(t,e,n,i){const o=re(t);let r=i?e.residualClasses:e.residualStyles;if(null===o)0===(i?e.classBindings:e.styleBindings)&&(n=Js(n=qs(null,t,e,n,i),e.attrs,i),r=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==o)if(n=qs(o,t,e,n,i),null===r){let n=function(t,e,n){const i=n?e.classBindings:e.styleBindings;if(0!==Po(i))return t[Mo(i)]}(t,e,i);void 0!==n&&Array.isArray(n)&&(n=qs(null,t,e,n[1],i),n=Js(n,e.attrs,i),function(t,e,n,i){t[Mo(n?e.classBindings:e.styleBindings)]=i}(t,e,i,n))}else r=function(t,e,n){let i;const o=e.directiveEnd;for(let r=1+e.directiveStylingLast;r<o;r++)i=Js(i,t[r].hostAttrs,n);return Js(i,e.attrs,n)}(t,e,i)}return void 0!==r&&(i?e.residualClasses=r:e.residualStyles=r),n}(o,r,e,i),function(t,e,n,i,o,r){let s=r?e.classBindings:e.styleBindings,a=Mo(s),l=Po(s);t[i]=n;let c,u=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||bn(t,c)>0)&&(u=!0)}else c=n;if(o)if(0!==l){const e=Mo(t[a+1]);t[i+1]=wo(e,a),0!==e&&(t[e+1]=ko(t[e+1],i)),t[a+1]=131071&t[a+1]|i<<17}else t[i+1]=wo(a,0),0!==a&&(t[a+1]=ko(t[a+1],i)),a=i;else t[i+1]=wo(l,0),0===a?a=i:t[l+1]=ko(t[l+1],i),l=i;u&&(t[i+1]=xo(t[i+1])),Ms(t,c,i,!0),Ms(t,c,i,!1),function(t,e,n,i,o){const r=o?t.residualClasses:t.residualStyles;null!=r&&"string"==typeof e&&bn(r,e)>=0&&(n[i+1]=Io(n[i+1]))}(e,c,t,i,r),s=wo(a,l),r?e.classBindings=s:e.styleBindings=s}(o,r,e,n,s,i)}}function qs(t,e,n,i,o){let r=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(r=e[a],i=Js(i,r.hostAttrs,o),r!==t);)a++;return null!==t&&(n.directiveStylingLast=a),i}function Js(t,e,n){const i=n?1:2;let o=-1;if(null!==e)for(let r=0;r<e.length;r++){const s=e[r];"number"==typeof s?o=s:o===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),fn(t,s,!!n||e[++r]))}return void 0===t?null:t}function $s(t,e,n){fn(t,e,zn(n))}function Ks(t,e,n,i,o,r,s,a){if(!(3&e.type))return;const l=t.data,c=l[a+1];Qs(1==(1&c)?Xs(l,e,n,o,Po(c),s):void 0)||(Qs(r)||2==(2&c)&&(r=Xs(l,null,n,o,a,s)),function(t,e,n,i,o){const r=xt(t);if(e)o?r?t.addClass(n,i):n.classList.add(i):r?t.removeClass(n,i):n.classList.remove(i);else{let e=-1===i.indexOf("-")?void 0:Ni.DashCase;if(null==o)r?t.removeStyle(n,i,e):n.style.removeProperty(i);else{const s="string"==typeof o&&o.endsWith("!important");s&&(o=o.slice(0,-10),e|=Ni.Important),r?t.setStyle(n,i,o,e):n.style.setProperty(i,o,s?"important":"")}}}(i,s,It(fe(),n),o,r))}function Xs(t,e,n,i,o,r){const s=null===e;let a;for(;o>0;){const e=t[o],r=Array.isArray(e),l=r?e[1]:e,c=null===l;let u=n[o+1];u===To&&(u=c?j:void 0);let h=c?_n(u,i):l===i?u:void 0;if(r&&!Qs(h)&&(h=_n(e,i)),Qs(h)&&(a=h,s))return a;const d=t[o+1];o=s?Mo(d):Po(d)}if(null!==e){let t=r?e.residualClasses:e.residualStyles;null!=t&&(a=_n(t,i))}return a}function Qs(t){return void 0!==t}function ta(t,e){return 0!=(t.flags&(e?16:32))}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function ea(t,e=""){const n=Ht(),i=zt(),o=t+ct,r=i.firstCreatePass?Do(i,o,1,e,null):i.data[o],s=n[o]=function(t,e){return xt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);eo(i,n,s,r),qt(r,!1)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function na(t){return ia("",t,""),na}function ia(t,e,n){const i=Ht(),o=ts(i,t,e,n);return o!==To&&vr(i,fe(),o),ia}function oa(t,e,n,i,o){const r=Ht(),s=function(t,e,n,i,o,r){const s=Kr(t,te(),n,o);return ne(2),s?e+_(n)+i+_(o)+r:To}(r,t,e,n,i,o);return s!==To&&vr(r,fe(),s),oa}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function ra(t,e,n){Ws(fn,Hs,ts(Ht(),t,e,n),!0)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function sa(t,e,n){const i=Ht();return $r(i,ee(),e)&&Yo(zt(),be(),i,t,e,i[11],n,!0),sa}function aa(t,e,n){const i=Ht();if($r(i,ee(),e)){const o=zt(),r=be();Yo(o,r,i,t,e,fr(re(o.data),r,i),n,!0)}return aa}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const la=void 0;var ca=["en",[["a","p"],["AM","PM"],la],[["AM","PM"],la,la],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],la,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],la,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",la,"{1} 'at' {0}",la],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */let ua={};function ha(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(t);let n=pa(e);if(n)return n;const i=e.split("-")[0];if(n=pa(i),n)return n;if("en"===i)return ca;throw new Error(`Missing locale data for the locale "${t}".`)}function da(t){return ha(t)[ga.PluralCase]}function pa(t){return t in ua||(ua[t]=V.ng&&V.ng.common&&V.ng.common.locales&&V.ng.common.locales[t]),ua[t]}var ga=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const ma="en-US";
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
let fa=ma;function _a(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,i){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(fa=t.toLowerCase().replace(/_/g,"-"))}function ba(t,e,n,i,o){if(t=g(t),Array.isArray(t))for(let r=0;r<t.length;r++)ba(t[r],e,n,i,o);else{const r=zt(),s=Ht();let a=Dr(t)?t:g(t.provide),l=Ir(t);const c=Zt(),u=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(Dr(t)||!t.multi){const i=new xe(l,o,is),p=Ca(a,e,o?u:u+d,h);-1===p?(ze(Ve(c,s),r,a),va(r,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,o&&(c.providerIndexes+=1048576),n.push(i),s.push(i)):(n[p]=i,s[p]=i)}else{const p=Ca(a,e,u+d,h),g=Ca(a,e,u,u+d),m=p>=0&&n[p],f=g>=0&&n[g];if(o&&!f||!o&&!m){ze(Ve(c,s),r,a);const u=function(t,e,n,i,o){const r=new xe(t,n,is);return r.multi=[],r.index=e,r.componentProviders=0,ya(r,o,i&&!n),r}(o?Ta:Oa,n.length,o,i,l);!o&&f&&(n[g].providerFactory=u),va(r,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,o&&(c.providerIndexes+=1048576),n.push(u),s.push(u)}else va(r,t,p>-1?p:g,ya(n[o?g:p],l,!o&&i));!o&&i&&f&&n[g].componentProviders++}}}function va(t,e,n,i){const o=Dr(e);if(o||e.useClass){const r=(e.useClass||e).prototype.ngOnDestroy;if(r){const s=t.destroyHooks||(t.destroyHooks=[]);if(!o&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[i,r]):s[t+1].push(i,r)}else s.push(n,r)}}}function ya(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ca(t,e,n,i){for(let o=n;o<i;o++)if(e[o]===t)return o;return-1}function Oa(t,e,n,i){return Ea(this.multi,[])}function Ta(t,e,n,i){const o=this.multi;let r;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Xe(n,n[1],this.providerFactory.index,i);r=e.slice(0,t),Ea(o,r);for(let n=t;n<e.length;n++)r.push(e[n])}else r=[],Ea(o,r);return r}function Ea(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Sa(t,e=[]){return n=>{n.providersResolver=(n,i)=>
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function(t,e,n){const i=zt();if(i.firstCreatePass){const o=ft(t);ba(n,i.data,i.blueprint,o,!0),ba(e,i.data,i.blueprint,o,!1)}}(n,i?i(t):t,e)}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class wa{}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class Ma{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${u(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let xa=(()=>{class t{}return t.NULL=new Ma,t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Pa(...t){}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function ka(t,e){return new Aa(At(t,e))}const Ia=function(){return ka(Zt(),Ht())};let Aa=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Ia,t})();function Ra(t){return t instanceof Aa?t.nativeElement:t}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class Da{}let La=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Na(),t})();const Na=function(){const t=Ht(),e=Lt(Zt().index,t);return function(t){return t[11]}(ht(e)?e:t)};let Ba=(()=>{class t{}return t.\u0275prov=y({token:t,providedIn:"root",factory:()=>null}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class Fa{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Ua=new Fa("12.0.4");
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class Va{constructor(){}supports(t){return Zr(t)}create(t){return new ja(t)}}const Ga=(t,e)=>e;class ja{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ga}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,i=0,o=null;for(;e||n;){const r=!n||e&&e.currentIndex<Za(n,i,o)?e:n,s=Za(r,i,o),a=r.currentIndex;if(r===n)i--,n=n._nextRemoved;else if(e=e._next,null==r.previousIndex)i++;else{o||(o=[]);const t=s-i,e=a-i;if(t!=e){for(let n=0;n<t;n++){const i=n<o.length?o[n]:o[n]=0,r=i+n;e<=r&&r<t&&(o[n]=i+1)}o[r.previousIndex]=e-t}}s!==a&&t(r,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Zr(t))throw new Error(`Error trying to diff '${u(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,i,o=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],i=this._trackByFn(e,n),null!==o&&Object.is(o.trackById,i)?(r&&(o=this._verifyReinsertion(o,n,i,e)),Object.is(o.item,n)||this._addIdentityChange(o,n)):(o=this._mismatch(o,n,i,e),r=!0),o=o._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[zr()]();let i;for(;!(i=n.next()).done;)e(i.value)}}(t,t=>{i=this._trackByFn(e,t),null!==o&&Object.is(o.trackById,i)?(r&&(o=this._verifyReinsertion(o,t,i,e)),Object.is(o.item,t)||this._addIdentityChange(o,t)):(o=this._mismatch(o,t,i,e),r=!0),o=o._next,e++}),this.length=e;return this._truncate(o),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,i)):t=this._addAfter(new Ha(e,n),o,i),t}_verifyReinsertion(t,e,n,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Wa),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Wa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ha{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class za{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Wa{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new za,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Za(t,e,n){const i=t.previousIndex;if(null===i)return i;let o=0;return n&&i<n.length&&(o=n[i]),i+e+o}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class Ya{constructor(){}supports(t){return t instanceof Map||Yr(t)}create(){return new qa}}class qa{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Yr(t)))throw new Error(`Error trying to diff '${u(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const i=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,i)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const i=n._prev,o=n._next;return i&&(i._next=o),o&&(o._prev=i),n._next=null,n._prev=null,n}const n=new Ja(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Ja{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function $a(){return new Ka([new Va])}let Ka=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||$a()),deps:[[t,new Rn,new In]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n;
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */}}return t.\u0275prov=y({token:t,providedIn:"root",factory:$a}),t})();function Xa(){return new Qa([new Ya])}let Qa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Xa()),deps:[[t,new Rn,new In]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=y({token:t,providedIn:"root",factory:Xa}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function tl(t,e,n,i,o=!1){for(;null!==n;){const r=e[n.index];if(null!==r&&i.push(kt(r)),dt(r))for(let t=ut;t<r.length;t++){const e=r[t],n=e[1].firstChild;null!==n&&tl(e[1],e,n,i)}const s=n.type;if(8&s)tl(t,e,n.child,i);else if(32&s){const t=Bi(n,e);let o;for(;o=t();)i.push(o)}else if(16&s){const t=io(e,n);if(Array.isArray(t))i.push(...t);else{const n=Fi(e[16]);tl(n[1],n,t,i,!0)}}n=o?n.projectionNext:n.next}return i}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class el{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return tl(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(dt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Wi(t,n),gn(e,n))}this._attachedToViewContainer=!1}Zi(this._lView[1],this._lView)}onDestroy(t){Wo(this._lView[1],this._lView,null,t)}markForCheck(){cr(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ur(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Xt(!0);try{ur(t,e,n)}finally{Xt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,so(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class nl extends el{constructor(t){super(t),this._view=t}detectChanges(){hr(this._view)}checkNoChanges(){!function(t){Xt(!0);try{hr(t)}finally{Xt(!1)}}(this._view)}get context(){return null}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const il=function(t){return function(t,e,n){if(gt(t)&&!n){const n=Lt(t.index,e);return new el(n,n)}return 47&t.type?new el(e[16],e):null}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(Zt(),Ht(),16==(16&t))};let ol=(()=>{class t{}return t.__NG_ELEMENT_ID__=il,t})();const rl=[new Ya],sl=new Ka([new Va]),al=new Qa(rl),ll=function(){return dl(Zt(),Ht())};let cl=(()=>{class t{}return t.__NG_ELEMENT_ID__=ll,t})();const ul=cl,hl=class extends ul{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Ro(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const i=this._declarationLView[19];return null!==i&&(n[19]=i.createEmbeddedView(e)),No(e,n,t),new el(n)}};function dl(t,e){return 4&t.type?new hl(e,t,ka(t,e)):null}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class pl{}class gl{}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const ml=function(){return Cl(Zt(),Ht())};let fl=(()=>{class t{}return t.__NG_ELEMENT_ID__=ml,t})();const _l=fl,bl=class extends _l{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return ka(this._hostTNode,this._hostLView)}get injector(){return new en(this._hostTNode,this._hostLView)}get parentInjector(){const t=He(this._hostTNode,this._hostLView);if(De(t)){const e=Ne(t,this._hostLView),n=Le(t);return new en(e[1].data[n+8],e)}return new en(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=vl(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ut}createEmbeddedView(t,e,n){const i=t.createEmbeddedView(e||{});return this.insert(i,n),i}createComponent(t,e,n,i,o){const r=n||this.parentInjector;if(!o&&null==t.ngModule&&r){const t=r.get(pl,null);t&&(o=t)}const s=t.create(r,i,void 0,o);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,i=n[1];if(dt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],i=new bl(e,e[6],e[3]);i.detach(i.indexOf(t))}}const o=this._adjustIndex(e),r=this._lContainer;!function(t,e,n,i){const o=ut+i,r=n.length;i>0&&(n[o-1][4]=e),i<r-ut?(e[4]=n[o],pn(n,ut+i,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,n,r,o);const s=oo(o,r),a=n[11],l=Xi(a,r[7]);return null!==l&&function(t,e,n,i,o,r){i[0]=o,i[6]=e,so(t,i,n,1,o,r)}(i,r[6],a,n,l,s),t.attachToViewContainerRef(),pn(yl(r),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=vl(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Wi(this._lContainer,e);n&&(gn(yl(this._lContainer),e),Zi(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Wi(this._lContainer,e);return n&&null!=gn(yl(this._lContainer),e)?new el(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function vl(t){return t[8]}function yl(t){return t[8]||(t[8]=[])}function Cl(t,e){let n;const i=e[t.index];if(dt(i))n=i;else{let o;if(8&t.type)o=kt(i);else{const n=e[11];o=n.createComment("");const i=At(t,e);Ji(n,Xi(n,i),o,function(t,e){return xt(t)?t.nextSibling(e):e.nextSibling}(n,i),!1)}e[t.index]=n=or(i,e,o,t),lr(e,n)}return new bl(n,t,e)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const Ol={};
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class Tl extends xa{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=at(t);return new wl(e,this.ngModule)}}function El(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Sl=new ln("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ii});class wl extends wa{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Oo).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return El(this.componentDef.inputs)}get outputs(){return El(this.componentDef.outputs)}create(t,e,n,i){const o=(i=i||this.ngModule)?function(t,e){return{get:(n,i,o)=>{const r=t.get(n,Ol,o);return r!==Ol||i===Ol?r:e.get(n,i,o)}}}(t,i.injector):t,r=o.get(Da,Pt),s=o.get(Ba,null),a=r.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(xt(t))return t.selectRootElement(e,n===L.ShadowDom);let i="string"==typeof e?t.querySelector(e):e;return i.textContent="",i}(a,n,this.componentDef.encapsulation):Hi(r.createRenderer(null,this.componentDef),l,function(t){const e=t.toLowerCase();return"svg"===e?Et:"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),u=this.componentDef.onPush?576:528,h={components:[],scheduler:Ii,clean:pr,playerHandler:null,flags:0},d=zo(0,null,null,1,0,null,null,null,null,null),p=Ro(null,d,h,u,null,null,r,a,s,o);let g,m;ue(p);try{const t=function(t,e,n,i,o,r){const s=n[1];n[20]=t;const a=Do(s,20,2,"#host",null),l=a.mergedAttrs=e.hostAttrs;null!==l&&(yr(a,l,!0),null!==t&&(Pe(o,t,l),null!==a.classes&&co(o,t,a.classes),null!==a.styles&&lo(o,t,a.styles)));const c=i.createRenderer(t,e),u=Ro(n,Ho(e),null,e.onPush?64:16,n[20],a,i,c,null,null);return s.firstCreatePass&&(ze(Ve(a,n),s,e.type),Ko(s,a),Qo(a,n.length,1)),lr(n,u),n[20]=u}(c,this.componentDef,p,r,a);if(c)if(n)Pe(a,c,["ng-version",Ua.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let i=1,o=2;for(;i<t.length;){let r=t[i];if("string"==typeof r)2===o?""!==r&&e.push(r,t[++i]):8===o&&n.push(r);else{if(!_o(o))break;o=r}i++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Pe(a,c,t),e&&e.length>0&&co(a,c,e.join(" "))}if(m=Rt(d,ct),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const i=e[n];t.push(null!=i?Array.from(i):null)}}g=function(t,e,n,i,o){const r=n[1],s=function(t,e,n){const i=Zt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),tr(t,i,e,Lo(t,e,1,null),n));const o=Xe(e,t,i.directiveStart,i);Si(o,e);const r=At(i,e);return r&&Si(r,e),o}(r,n,e);if(i.components.push(s),t[8]=s,o&&o.forEach(t=>t(s,e)),e.contentQueries){const t=Zt();e.contentQueries(1,s,t.directiveStart)}const a=Zt();return!r.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(_e(a.index),Jo(n[1],a,0,a.directiveStart,a.directiveEnd,e),$o(e,s)),s}(t,this.componentDef,p,h,[Br]),No(d,p,null)}finally{me()}return new Ml(this.componentType,g,ka(m,p),p,m)}}class Ml extends class{}{constructor(t,e,n,i,o){super(),this.location=n,this._rootLView=i,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new nl(i),this.componentType=t}get injector(){return new en(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const xl=new Map;
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class Pl extends pl{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Tl(this);const n=lt(t),i=t[Y]||null;i&&_a(i),this._bootstrapComponents=Li(n.bootstrap),this._r3Injector=xr(t,e,[{provide:pl,useValue:this},{provide:xa,useValue:this.componentFactoryResolver}],u(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Nr.THROW_IF_NOT_FOUND,n=P.Default){return t===Nr||t===pl||t===Cr?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class kl extends gl{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const i=lt(n,!0),o=i.id;null!==o&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${u(e)} vs ${u(e.name)}`)}(o,xl.get(o),n),xl.set(o,n));const r=Li(i.imports);for(const s of r)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Pl(this.moduleType,t)}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Il(t,e,n){const i=Qt()+t,o=Ht();return o[i]===To?qr(o,i,n?e.call(n):e()):Jr(o,i)}function Al(t,e,n,i){return Vl(Ht(),Qt(),t,e,n,i)}function Rl(t,e,n,i,o){return Gl(Ht(),Qt(),t,e,n,i,o)}function Dl(t,e,n,i,o,r){return function(t,e,n,i,o,r,s,a){const l=e+n;return function(t,e,n,i,o){const r=Kr(t,e,n,i);return $r(t,e+2,o)||r}(t,l,o,r,s)?qr(t,l+3,a?i.call(a,o,r,s):i(o,r,s)):Ul(t,l+3)}(Ht(),Qt(),t,e,n,i,o,r)}function Ll(t,e,n,i,o,r,s){return function(t,e,n,i,o,r,s,a,l){const c=e+n;return Xr(t,c,o,r,s,a)?qr(t,c+4,l?i.call(l,o,r,s,a):i(o,r,s,a)):Ul(t,c+4)}(Ht(),Qt(),t,e,n,i,o,r,s)}function Nl(t,e,n,i,o,r,s,a){const l=Qt()+t,c=Ht(),u=Xr(c,l,n,i,o,r);return $r(c,l+4,s)||u?qr(c,l+5,a?e.call(a,n,i,o,r,s):e(n,i,o,r,s)):Jr(c,l+5)}function Bl(t,e,n,i,o,r,s,a,l){const c=Qt()+t,u=Ht(),h=Xr(u,c,n,i,o,r);return Kr(u,c+4,s,a)||h?qr(u,c+6,l?e.call(l,n,i,o,r,s,a):e(n,i,o,r,s,a)):Jr(u,c+6)}function Fl(t,e,n,i,o,r,s,a,l,c,u){const h=Qt()+t,d=Ht(),p=Xr(d,h,n,i,o,r);return Xr(d,h+4,s,a,l,c)||p?qr(d,h+8,u?e.call(u,n,i,o,r,s,a,l,c):e(n,i,o,r,s,a,l,c)):Jr(d,h+8)}function Ul(t,e){const n=t[e];return n===To?void 0:n}function Vl(t,e,n,i,o,r){const s=e+n;return $r(t,s,o)?qr(t,s+1,r?i.call(r,o):i(o)):Ul(t,s+1)}function Gl(t,e,n,i,o,r,s){const a=e+n;return Kr(t,a,o,r)?qr(t,a+2,s?i.call(s,o,r):i(o,r)):Ul(t,a+2)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function jl(t,e){const n=zt();let i;const o=t+ct;n.firstCreatePass?(i=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const i=e[n];if(t===i.name)return i}throw new f("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[o]=i,i.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(o,i.onDestroy)):i=n.data[o];const r=i.factory||(i.factory=_t(i.type)),s=I(is);try{const t=Fe(!1),e=r();return Fe(t),function(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}(n,Ht(),o,e),e}finally{I(s)}}function Hl(t,e,n){const i=t+ct,o=Ht(),r=Dt(o,i);return Zl(o,Wl(o,i)?Vl(o,Qt(),e,r.transform,n,r):r.transform(n))}function zl(t,e,n,i){const o=t+ct,r=Ht(),s=Dt(r,o);return Zl(r,Wl(r,o)?Gl(r,Qt(),e,s.transform,n,i,s):s.transform(n,i))}function Wl(t,e){return t[1].data[e].pure}function Zl(t,e){return Wr.isWrapped(e)&&(e=Wr.unwrap(e),t[te()]=To),e}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Yl(t){return e=>{setTimeout(t,void 0,e)}}const ql=class extends i.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var i,r,s;let a=t,l=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(i=e.next)||void 0===i?void 0:i.bind(e),l=null===(r=e.error)||void 0===r?void 0:r.bind(e),c=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}this.__isAsync&&(l=Yl(l),a&&(a=Yl(a)),c&&(c=Yl(c)));const u=super.subscribe({next:a,error:l,complete:c});return t instanceof o.w&&t.add(u),u}};
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Jl(){return this._results[zr()]()}class $l{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=zr(),n=$l.prototype;n[e]||(n[e]=Jl)}get changes(){return this._changes||(this._changes=new ql)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const i=hn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let o=t[i],r=e[i];if(n&&(o=n(o),r=n(r)),r!==o)return!1}return!0}(n._results,i,e))&&(n._results=i,n.length=i.length,n.last=i[this.length-1],n.first=i[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class Kl{constructor(t){this.queryList=t,this.matches=null}clone(){return new Kl(this.queryList)}setDirty(){this.queryList.setDirty()}}class Xl{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);i.push(this.queries[n.indexInDeclarationView].clone())}return new Xl(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==dc(t,e).matches&&this.queries[e].setDirty()}}class Ql{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class tc{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const i=null!==e?e.length:0,o=this.getByIndex(n).embeddedTView(t,i);o&&(o.indexInDeclarationView=n,null!==e?e.push(o):e=[o])}return null!==e?new tc(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class ec{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new ec(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){const o=n[i];this.matchTNodeWithReadOption(t,e,nc(e,o)),this.matchTNodeWithReadOption(t,e,Ke(e,t,o,!1,!1))}else n===cl?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ke(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const i=this.metadata.read;if(null!==i)if(i===Aa||i===fl||i===cl&&4&e.type)this.addMatch(e.index,-2);else{const n=Ke(e,t,i,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function nc(t,e){const n=t.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1];return null}function ic(t,e,n,i){return-1===n?function(t,e){return 11&t.type?ka(t,e):4&t.type?dl(t,e):null}(e,t):-2===n?function(t,e,n){return n===Aa?ka(e,t):n===cl?dl(e,t):n===fl?Cl(e,t):void 0}(t,e,i):Xe(t,t[1],n,e)}function oc(t,e,n,i){const o=e[19].queries[i];if(null===o.matches){const i=t.data,r=n.matches,s=[];for(let t=0;t<r.length;t+=2){const o=r[t];s.push(o<0?null:ic(e,i[o],r[t+1],n.metadata.read))}o.matches=s}return o.matches}function rc(t,e,n,i){const o=t.queries.getByIndex(n),r=o.matches;if(null!==r){const s=oc(t,e,o,n);for(let t=0;t<r.length;t+=2){const n=r[t];if(n>0)i.push(s[t/2]);else{const o=r[t+1],s=e[-n];for(let t=ut;t<s.length;t++){const e=s[t];e[17]===e[3]&&rc(e[1],e,o,i)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];rc(n[1],n,o,i)}}}}}return i}function sc(t){const e=Ht(),n=zt(),i=se();ae(i+1);const o=dc(n,i);if(t.dirty&&Nt(e)===(2==(2&o.metadata.flags))){if(null===o.matches)t.reset([]);else{const r=o.crossesNgTemplate?rc(n,e,i,[]):oc(n,e,o,i);t.reset(r,Ra),t.notifyOnChanges()}return!0}return!1}function ac(t,e,n){const i=zt();i.firstCreatePass&&(hc(i,new Ql(t,e,n),-1),2==(2&e)&&(i.staticViewQueries=!0)),uc(i,Ht(),e)}function lc(t,e,n,i){const o=zt();if(o.firstCreatePass){const r=Zt();hc(o,new Ql(e,n,i),r.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(o,t),2==(2&n)&&(o.staticContentQueries=!0)}uc(o,Ht(),n)}function cc(){return t=Ht(),e=se(),t[19].queries[e].queryList;var t,e}function uc(t,e,n){const i=new $l(4==(4&n));Wo(t,e,i,i.destroy),null===e[19]&&(e[19]=new Xl),e[19].queries.push(new Kl(i))}function hc(t,e,n){null===t.queries&&(t.queries=new tc),t.queries.track(new ec(e,n))}function dc(t,e){return t.queries.getByIndex(e)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function pc(t,e){return dl(t,e)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const gc=new ln("Application Initializer");let mc=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Pa,this.reject=Pa,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();if(ps(e))t.push(e);else if(ms(e)){const n=new Promise((t,n)=>{e.subscribe({complete:t,error:n})});t.push(n)}}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(wn(gc,8))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const fc=new ln("AppId"),_c={provide:fc,useFactory:function(){return`${bc()}${bc()}${bc()}`},deps:[]};function bc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const vc=new ln("Platform Initializer"),yc=new ln("Platform ID"),Cc=new ln("appBootstrapListener");let Oc=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const Tc=new ln("LocaleId"),Ec=new ln("DefaultCurrencyCode");
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class Sc{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const wc=function(t){return new kl(t)},Mc=wc,xc=function(t){return Promise.resolve(wc(t))},Pc=function(t){const e=wc(t),n=Li(lt(t).declarations).reduce((t,e)=>{const n=at(e);return n&&t.push(new wl(n)),t},[]);return new Sc(e,n)},kc=Pc,Ic=function(t){return Promise.resolve(Pc(t))};let Ac=(()=>{class t{constructor(){this.compileModuleSync=Mc,this.compileModuleAsync=xc,this.compileModuleAndAllComponentsSync=kc,this.compileModuleAndAllComponentsAsync=Ic}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();const Rc=(()=>Promise.resolve(0))();function Dc(t){"undefined"==typeof Zone?Rc.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class Lc{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ql(!1),this.onMicrotaskEmpty=new ql(!1),this.onStable=new ql(!1),this.onError=new ql(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!n&&e,i.shouldCoalesceRunChangeDetection=n,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let t=V.requestAnimationFrame,e=V.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(V,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Fc(t),t.isCheckStableRunning=!0,Bc(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Fc(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,o,r,s,a)=>{try{return Uc(t),n.invokeTask(o,r,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===r.type||t.shouldCoalesceRunChangeDetection)&&e(),Vc(t)}},onInvoke:(n,i,o,r,s,a,l)=>{try{return Uc(t),n.invoke(o,r,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),Vc(t)}},onHasTask:(e,n,i,o)=>{e.hasTask(i,o),n===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,Fc(t),Bc(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,n,i,o)=>(e.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Lc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Lc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,i){const o=this._inner,r=o.scheduleEventTask("NgZoneEvent: "+i,t,Nc,Pa,Pa);try{return o.runTask(r,e,n)}finally{o.cancelTask(r)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Nc={};function Bc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Fc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Uc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Vc(t){t._nesting--,Bc(t)}class Gc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ql,this.onMicrotaskEmpty=new ql,this.onStable=new ql,this.onError=new ql}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,i){return t.apply(e,n)}}let jc=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Lc.assertNotInAngularZone(),Dc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Dc(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let i=-1;e&&e>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==i),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(wn(Lc))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})(),Hc=(()=>{class t{constructor(){this._applications=new Map,Yc.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Yc.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();class zc{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Wc(t){Yc=t}let Zc,Yc=new zc,qc=!0,Jc=!1;
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function $c(){return Jc=!0,qc}function Kc(){if(Jc)throw new Error("Cannot enable prod mode after platform setup.");qc=!1}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const Xc=new ln("AllowMultipleToken");class Qc{constructor(t,e){this.name=t,this.token=e}}function tu(t,e,n=[]){const i=`Platform: ${e}`,o=new ln(i);return(e=[])=>{let r=eu();if(!r||r.injector.get(Xc,!1))if(t)t(n.concat(e).concat({provide:o,useValue:!0}));else{const t=n.concat(e).concat({provide:o,useValue:!0},{provide:Tr,useValue:"platform"});!function(t){if(Zc&&!Zc.destroyed&&!Zc.injector.get(Xc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Zc=t.get(nu);const e=t.get(vc,null);e&&e.forEach(t=>t())}(Nr.create({providers:t,name:i}))}return function(t){const e=eu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(o)}}function eu(){return Zc&&!Zc.destroyed?Zc:null}let nu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Gc:("zone.js"===t?void 0:t)||new Lc({enableLongStackTrace:$c(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),i=[{provide:Lc,useValue:n}];return n.run(()=>{const e=Nr.create({providers:i,parent:this.injector,name:t.moduleType.name}),o=t.create(e),r=o.injector.get(ki,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{r.handleError(t)}});o.onDestroy(()=>{ru(this._modules,o),t.unsubscribe()})}),function(t,e,n){try{const i=n();return ps(i)?i.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(r,n,()=>{const t=o.injector.get(mc);return t.runInitializers(),t.donePromise.then(()=>(_a(o.injector.get(Tc,ma)||ma),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,e=[]){const n=iu({},e);return function(t,e,n){const i=new kl(n);return Promise.resolve(i)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(ou);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${u(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(wn(Nr))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();function iu(t,e){return Array.isArray(e)?e.reduce(iu,t):Object.assign(Object.assign({},t),e)}let ou=(()=>{class t{constructor(t,e,n,i,o){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new r.y(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),c=new r.y(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Lc.assertNotInAngularZone(),Dc(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Lc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=(0,s.T)(l,c.pipe((0,a.B)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof wa?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const i=n.isBoundToModule?void 0:this._injector.get(pl),o=n.create(Nr.NULL,[],e||n.selector,i),r=o.location.nativeElement,s=o.injector.get(jc,null),a=s&&o.injector.get(Hc);return s&&a&&a.registerApplication(r,s),o.onDestroy(()=>{this.detachView(o.hostView),ru(this.components,o),a&&a.unregisterApplication(r)}),this._loadComponent(o),o}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;ru(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Cc,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(wn(Lc),wn(Nr),wn(ki),wn(xa),wn(mc))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();function ru(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class su{}class au{}const lu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let cu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||lu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,i]=t.split("#");return void 0===i&&(i="default"),n(8255)(e).then(t=>t[i]).then(t=>uu(t,e,i)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,i]=t.split("#"),o="NgFactory";return void 0===i&&(i="default",o=""),n(8255)(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[i+o]).then(t=>uu(t,e,i))}}return t.\u0275fac=function(e){return new(e||t)(wn(Ac),wn(au,8))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();function uu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const hu=function(t){return null},du=tu(null,"core",[{provide:yc,useValue:"unknown"},{provide:nu,deps:[Nr]},{provide:Hc,deps:[]},{provide:Oc,deps:[]}]),pu=[{provide:ou,useClass:ou,deps:[Lc,Nr,ki,xa,mc]},{provide:Sl,deps:[Lc],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:mc,useClass:mc,deps:[[new In,gc]]},{provide:Ac,useClass:Ac,deps:[]},_c,{provide:Ka,useFactory:
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function(){return sl},deps:[]},{provide:Qa,useFactory:function(){return al},deps:[]},{provide:Tc,useFactory:function(t){return _a(t=t||"undefined"!=typeof $localize&&$localize.locale||ma),t},deps:[[new kn(Tc),new In,new Rn]]},{provide:Ec,useValue:"USD"}];let gu=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(wn(ou))},t.\u0275mod=nt({type:t}),t.\u0275inj=C({providers:pu}),t})()}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */,9474:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5366),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1671),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(653),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8318),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(878),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(1906),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(8489),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(6019),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1055),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3835),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(9996),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(436),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(9085),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(7701),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(7727),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(611),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(5416),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(4689),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(4698),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(45),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(2728),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(2023);class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(t){const e={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},n="function"==typeof t?t():t,i=Object.assign({},e,{features:n.features||!!n.logOnly&&{pause:!0,export:!0,test:!0}||e.features},n);if(i.maxAge&&i.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${i.maxAge}`);return i}const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(t,e){if(this.action=t,this.timestamp=e,this.type=PERFORM_ACTION,void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(t){this.timestamp=t,this.type=RESET}}class Rollback{constructor(t){this.timestamp=t,this.type=ROLLBACK}}class Commit{constructor(t){this.timestamp=t,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(t){this.id=t,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(t,e,n=!0){this.start=t,this.end=e,this.active=n,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(t){this.index=t,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(t){this.actionId=t,this.type=JUMP_TO_ACTION}}class ImportState{constructor(t){this.nextLiftedState=t,this.type=IMPORT_STATE}}class LockChanges{constructor(t){this.status=t,this.type=LOCK_CHANGES}}class PauseRecording{constructor(t){this.status=t,this.type=PAUSE_RECORDING}}let DevtoolsDispatcher=(()=>{class t extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(t)))(n||t)}}(),t.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:t,factory:t.\u0275fac}),t})();function difference(t,e){return t.filter(t=>e.indexOf(t)<0)}function unliftState(t){const{computedStates:e,currentStateIndex:n}=t;if(n>=e.length){const{state:t}=e[e.length-1];return t}const{state:i}=e[n];return i}function unliftAction(t){return t.actionsById[t.nextActionId-1]}function liftAction(t){return new PerformAction(t,+Date.now())}function sanitizeActions(t,e){return Object.keys(e).reduce((n,i)=>{const o=Number(i);return n[o]=sanitizeAction(t,e[o],o),n},{})}function sanitizeAction(t,e,n){return Object.assign(Object.assign({},e),{action:t(e.action,n)})}function sanitizeStates(t,e){return e.map((e,n)=>({state:sanitizeState(t,e.state,n),error:e.error}))}function sanitizeState(t,e,n){return t(e,n)}function shouldFilterActions(t){return t.predicate||t.actionsSafelist||t.actionsBlocklist}function filterLiftedState(t,e,n,i){const o=[],r={},s=[];return t.stagedActionIds.forEach((a,l)=>{const c=t.actionsById[a];c&&(l&&isActionFiltered(t.computedStates[l],c,e,n,i)||(r[a]=c,o.push(a),s.push(t.computedStates[l])))}),Object.assign(Object.assign({},t),{stagedActionIds:o,actionsById:r,computedStates:s})}function isActionFiltered(t,e,n,i,o){const r=n&&!n(t,e.action),s=i&&!e.action.type.match(i.map(t=>escapeRegExp(t)).join("|")),a=o&&e.action.type.match(o.map(t=>escapeRegExp(t)).join("|"));return r||s||a}function escapeRegExp(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(t,e,n){this.config=e,this.dispatcher=n,this.devtoolsExtension=t,this.createActionStreams()}notify(t,e){if(this.devtoolsExtension)if(t.type===PERFORM_ACTION){if(e.isLocked||e.isPaused)return;const n=unliftState(e);if(shouldFilterActions(this.config)&&isActionFiltered(n,t,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const i=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,n,e.currentStateIndex):n,o=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,t,e.nextActionId):t;this.sendToReduxDevtools(()=>this.extensionConnection.send(o,i))}else{const t=Object.assign(Object.assign({},e),{stagedActionIds:e.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,e.actionsById):e.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,e.computedStates):e.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,t,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(t=>{const e=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=e,e.init(),e.subscribe(e=>t.next(e)),e.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const t=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),e=t.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(t=>t.type===ExtensionActionTypes.START)),n=t.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(t=>t.type===ExtensionActionTypes.STOP)),i=t.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(t=>t.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(t=>this.unwrapAction(t.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(t=>t.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(t=>t.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>t),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(t)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(t))),o=t.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(t=>t.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(t=>this.unwrapAction(t.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(n)),r=i.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(n));this.start$=e.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(n)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>o)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>r))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(t){var e;const n={name:t.name,features:t.features,serialize:t.serialize,autoPause:null!==(e=t.autoPause)&&void 0!==e&&e};return!1!==t.maxAge&&(n.maxAge=t.maxAge),n}sendToReduxDevtools(t){try{t()}catch(e){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",e)}}}return DevtoolsExtension.\u0275fac=function(t){return new(t||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(t,e,n,i,o){if(i)return{state:n,error:"Interrupted by an error up the chain"};let r,s=n;try{s=t(n,e)}catch(a){r=a.toString(),o.handleError(a)}return{state:s,error:r}}function recomputeStates(t,e,n,i,o,r,s,a,l){if(e>=t.length&&t.length===r.length)return t;const c=t.slice(0,e),u=r.length-(l?1:0);for(let h=e;h<u;h++){const t=r[h],e=o[t].action,l=c[h-1],u=l?l.state:i,d=l?l.error:void 0,p=s.indexOf(t)>-1?l:computeNextEntry(n,e,u,d,a);c.push(p)}return l&&c.push(t[t.length-1]),c}function liftInitialState(t,e){return{monitorState:e(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:t,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(t,e,n,i,o={}){return r=>(s,a)=>{let{monitorState:l,actionsById:c,nextActionId:u,stagedActionIds:h,skippedActionIds:d,committedState:p,currentStateIndex:g,computedStates:m,isLocked:f,isPaused:_}=s||e;function b(t){let e=t,n=h.slice(1,e+1);for(let i=0;i<n.length;i++){if(m[i+1].error){e=i,n=h.slice(1,e+1);break}delete c[n[i]]}d=d.filter(t=>-1===n.indexOf(t)),h=[0,...h.slice(e+1)],p=m[e].state,m=m.slice(e),g=g>e?g-e:0}function v(){c={0:liftAction(INIT_ACTION)},u=1,h=[0],d=[],p=m[g].state,g=0,m=[]}s||(c=Object.create(c));let y=0;switch(a.type){case LOCK_CHANGES:f=a.status,y=1/0;break;case PAUSE_RECORDING:_=a.status,_?(h=[...h,u],c[u]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),u++,y=h.length-1,m=m.concat(m[m.length-1]),g===h.length-2&&g++,y=1/0):v();break;case RESET:c={0:liftAction(INIT_ACTION)},u=1,h=[0],d=[],p=t,g=0,m=[];break;case COMMIT:v();break;case ROLLBACK:c={0:liftAction(INIT_ACTION)},u=1,h=[0],d=[],g=0,m=[];break;case TOGGLE_ACTION:{const{id:t}=a,e=d.indexOf(t);d=-1===e?[t,...d]:d.filter(e=>e!==t),y=h.indexOf(t);break}case SET_ACTIONS_ACTIVE:{const{start:t,end:e,active:n}=a,i=[];for(let o=t;o<e;o++)i.push(o);d=n?difference(d,i):[...d,...i],y=h.indexOf(t);break}case JUMP_TO_STATE:g=a.index,y=1/0;break;case JUMP_TO_ACTION:{const t=h.indexOf(a.actionId);-1!==t&&(g=t),y=1/0;break}case SWEEP:h=difference(h,d),d=[],g=Math.min(g,h.length-1);break;case PERFORM_ACTION:{if(f)return s||e;if(_||s&&isActionFiltered(s.computedStates[g],a,o.predicate,o.actionsSafelist,o.actionsBlocklist)){const t=m[m.length-1];m=[...m.slice(0,-1),computeNextEntry(r,a.action,t.state,t.error,n)],y=1/0;break}o.maxAge&&h.length===o.maxAge&&b(1),g===h.length-1&&g++;const t=u++;c[t]=a,h=[...h,t],y=h.length-1;break}case IMPORT_STATE:({monitorState:l,actionsById:c,nextActionId:u,stagedActionIds:h,skippedActionIds:d,committedState:p,currentStateIndex:g,computedStates:m,isLocked:f,isPaused:_}=a.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:y=0,o.maxAge&&h.length>o.maxAge&&(m=recomputeStates(m,y,r,p,c,h,d,n,_),b(h.length-o.maxAge),y=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(m.filter(t=>t.error).length>0)y=0,o.maxAge&&h.length>o.maxAge&&(m=recomputeStates(m,y,r,p,c,h,d,n,_),b(h.length-o.maxAge),y=1/0);else{if(!_&&!f){g===h.length-1&&g++;const t=u++;c[t]=new PerformAction(a,+Date.now()),h=[...h,t],y=h.length-1,m=recomputeStates(m,y,r,p,c,h,d,n,_)}m=m.map(t=>Object.assign(Object.assign({},t),{state:r(t.state,RECOMPUTE_ACTION)})),g=h.length-1,o.maxAge&&h.length>o.maxAge&&b(h.length-o.maxAge),y=1/0}break;default:y=1/0}return m=recomputeStates(m,y,r,p,c,h,d,n,_),l=i(l,a),{monitorState:l,actionsById:c,nextActionId:u,stagedActionIds:h,skippedActionIds:d,committedState:p,currentStateIndex:g,computedStates:m,isLocked:f,isPaused:_}}}let StoreDevtools=(()=>{class t{constructor(t,e,n,i,o,r,s,a){const l=liftInitialState(s,a.monitor),c=liftReducerWith(s,l,r,a.monitor,a),u=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(e.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),i.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),t,i.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.QV)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),h=n.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(c)),d=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),p=u.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(h),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:t},[e,n])=>{let o=n(t,e);return e.type!==PERFORM_ACTION&&shouldFilterActions(a)&&(o=filterLiftedState(o,a.predicate,a.actionsSafelist,a.actionsBlocklist)),i.notify(e,o),{state:o,action:e}},{state:l,action:null})).subscribe(({state:t,action:e})=>{d.next(t),e.type===PERFORM_ACTION&&o.next(e.action)}),g=i.start$.subscribe(()=>{this.refresh()}),m=d.asObservable(),f=m.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=g,this.stateSubscription=p,this.dispatcher=t,this.liftedState=m,this.state=f}dispatch(t){this.dispatcher.next(t)}next(t){this.dispatcher.next(t)}error(t){}complete(){}performAction(t){this.dispatch(new PerformAction(t,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(t){this.dispatch(new ToggleAction(t))}jumpToAction(t){this.dispatch(new JumpToAction(t))}jumpToState(t){this.dispatch(new JumpToState(t))}importState(t){this.dispatch(new ImportState(t))}lockChanges(t){this.dispatch(new LockChanges(t))}pauseRecording(t){this.dispatch(new PauseRecording(t))}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},t.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:t,factory:t.\u0275fac}),t})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(t,e){return Boolean(t)||e.monitor!==noMonitor}function createReduxDevtoolsExtension(){const t="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&void 0!==window[t]?window[t]:null}function createStateObservable(t){return t.state}let StoreDevtoolsModule=(()=>{class t{static instrument(e={}){return{ngModule:t,providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:e},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:t}),t.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),t})()},1671:(t,e,n)=>{"use strict";n.d(e,{hg:()=>U,UO:()=>b,qg:()=>_,Y6:()=>O,mK:()=>W,n$:()=>z,Y$:()=>J,FR:()=>K,yh:()=>et,CK:()=>Pt,Aw:()=>kt,cr:()=>xt,wb:()=>Z,qC:()=>j,PH:()=>g,ZF:()=>ft,Lq:()=>Ft,P1:()=>gt,rM:()=>ut,on:()=>Bt,Ky:()=>m,Ys:()=>it});var i=n(5366),o=n(8512),r=n(8318),s=n(5959),a=n(8489),l=n(9996),c=n(45),u=n(2728),h=n(2023),d=n(8720);const p={};function g(t,e){if(p[t]=(p[t]||0)+1,"function"==typeof e)return f(t,(...n)=>Object.assign(Object.assign({},e(...n)),{type:t}));switch(e?e._as:"empty"){case"empty":return f(t,()=>({type:t}));case"props":return f(t,e=>Object.assign(Object.assign({},e),{type:t}));default:throw new Error("Unexpected config.")}}function m(){return{_as:"props",_p:void 0}}function f(t,e){return Object.defineProperty(e,"type",{value:t,writable:!1})}const _="@ngrx/store/init";let b=(()=>{class t extends o.X{constructor(){super({type:_})}next(t){if("function"==typeof t)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===t)throw new TypeError("Actions must be objects");if(void 0===t.type)throw new TypeError("Actions must have a type property");super.next(t)}complete(){}ngOnDestroy(){super.complete()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const v=[b],y=new i.OlP("@ngrx/store Internal Root Guard"),C=new i.OlP("@ngrx/store Internal Initial State"),O=new i.OlP("@ngrx/store Initial State"),T=new i.OlP("@ngrx/store Reducer Factory"),E=new i.OlP("@ngrx/store Internal Reducer Factory Provider"),S=new i.OlP("@ngrx/store Initial Reducers"),w=new i.OlP("@ngrx/store Internal Initial Reducers"),M=new i.OlP("@ngrx/store Store Features"),x=new i.OlP("@ngrx/store Internal Store Reducers"),P=new i.OlP("@ngrx/store Internal Feature Reducers"),k=new i.OlP("@ngrx/store Internal Feature Configs"),I=new i.OlP("@ngrx/store Internal Store Features"),A=new i.OlP("@ngrx/store Internal Feature Reducers Token"),R=new i.OlP("@ngrx/store Feature Reducers"),D=new i.OlP("@ngrx/store User Provided Meta Reducers"),L=new i.OlP("@ngrx/store Meta Reducers"),N=new i.OlP("@ngrx/store Internal Resolved Meta Reducers"),B=new i.OlP("@ngrx/store User Runtime Checks Config"),F=new i.OlP("@ngrx/store Internal User Runtime Checks Config"),U=new i.OlP("@ngrx/store Internal Runtime Checks"),V=new i.OlP("@ngrx/store Check if Action types are unique");function G(t,e={}){const n=Object.keys(t),i={};for(let r=0;r<n.length;r++){const e=n[r];"function"==typeof t[e]&&(i[e]=t[e])}const o=Object.keys(i);return function(t,n){t=void 0===t?e:t;let r=!1;const s={};for(let e=0;e<o.length;e++){const a=o[e],l=t[a],c=(0,i[a])(l,n);s[a]=c,r=r||c!==l}return r?s:t}}function j(...t){return function(e){if(0===t.length)return e;const n=t[t.length-1];return t.slice(0,-1).reduceRight((t,e)=>e(t),n(e))}}function H(t,e){return Array.isArray(e)&&e.length>0&&(t=j.apply(null,[...e,t])),(e,n)=>{const i=t(e);return(t,e)=>i(t=void 0===t?n:t,e)}}class z extends r.y{}class W extends b{}const Z="@ngrx/store/update-reducers";let Y=(()=>{class t extends o.X{constructor(t,e,n,i){super(i(n,e)),this.dispatcher=t,this.initialState=e,this.reducers=n,this.reducerFactory=i}addFeature(t){this.addFeatures([t])}addFeatures(t){const e=t.reduce((t,{reducers:e,reducerFactory:n,metaReducers:i,initialState:o,key:r})=>{const s="function"==typeof e?function(t){const e=Array.isArray(t)&&t.length>0?j(...t):t=>t;return(t,n)=>(t=e(t),(e,i)=>t(e=void 0===e?n:e,i))}(i)(e,o):H(n,i)(e,o);return t[r]=s,t},{});this.addReducers(e)}removeFeature(t){this.removeFeatures([t])}removeFeatures(t){this.removeReducers(t.map(t=>t.key))}addReducer(t,e){this.addReducers({[t]:e})}addReducers(t){this.reducers=Object.assign(Object.assign({},this.reducers),t),this.updateReducers(Object.keys(t))}removeReducer(t){this.removeReducers([t])}removeReducers(t){t.forEach(t=>{var e,n;this.reducers=(e=this.reducers,n=t,Object.keys(e).filter(t=>t!==n).reduce((t,n)=>Object.assign(t,{[n]:e[n]}),{}))}),this.updateReducers(t)}updateReducers(t){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Z,features:t})}ngOnDestroy(){this.complete()}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(W),i.LFG(O),i.LFG(S),i.LFG(T))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const q=[Y,{provide:z,useExisting:Y},{provide:W,useExisting:b}];let J=(()=>{class t extends s.xQ{ngOnDestroy(){this.complete()}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const $=[J];class K extends r.y{}let X=(()=>{class t extends o.X{constructor(t,e,n,i){super(i);const o=t.pipe((0,c.QV)(a.N)).pipe((0,u.M)(e)).pipe((0,h.R)(Q,{state:i}));this.stateSubscription=o.subscribe(({state:t,action:e})=>{this.next(t),n.next(e)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(b),i.LFG(z),i.LFG(J),i.LFG(O))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t.INIT=_,t})();function Q(t={state:void 0},[e,n]){const{state:i}=t;return{state:n(i,e),action:e}}const tt=[X,{provide:K,useExisting:X}];let et=(()=>{class t extends r.y{constructor(t,e,n){super(),this.actionsObserver=e,this.reducerManager=n,this.source=t}select(t,...e){return it.call(null,t,...e)(this)}lift(e){const n=new t(this,this.actionsObserver,this.reducerManager);return n.operator=e,n}dispatch(t){this.actionsObserver.next(t)}next(t){this.actionsObserver.next(t)}error(t){this.actionsObserver.error(t)}complete(){this.actionsObserver.complete()}addReducer(t,e){this.reducerManager.addReducer(t,e)}removeReducer(t){this.reducerManager.removeReducer(t)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(K),i.LFG(b),i.LFG(Y))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const nt=[et];function it(t,e,...n){return function(i){let o;if("string"==typeof t){const r=[e,...n].filter(Boolean);o=i.pipe(function(...t){const e=t.length;if(0===e)throw new Error("list of properties cannot be empty.");return n=>(0,l.U)(function(t,e){return n=>{let i=n;for(let o=0;o<e;o++){const e=null!=i?i[t[o]]:void 0;if(void 0===e)return;i=e}return i}}(t,e))(n)}(t,...r))}else{if("function"!=typeof t)throw new TypeError(`Unexpected type '${typeof t}' in select operator, expected 'string' or 'function'`);o=i.pipe((0,l.U)(n=>t(n,e)))}return o.pipe((0,d.x)())}}const ot="https://ngrx.io/guide/store/configuration/runtime-checks";function rt(t){return void 0===t}function st(t){return null===t}function at(t){return Array.isArray(t)}function lt(t){return"object"==typeof t&&null!==t}function ct(t){return"function"==typeof t}function ut(){return!1}function ht(t,e){return t===e}function dt(t,e,n){for(let i=0;i<t.length;i++)if(!n(t[i],e[i]))return!0;return!1}function pt(t,e=ht,n=ht){let i,o=null,r=null;return{memoized:function(){if(void 0!==i)return i.result;if(!o)return r=t.apply(null,arguments),o=arguments,r;if(!dt(arguments,o,e))return r;const s=t.apply(null,arguments);return o=arguments,n(r,s)?r:(r=s,s)},reset:function(){o=null,r=null},setResult:function(t){i={result:t}},clearResult:function(){i=void 0}}}function gt(...t){return function(t,e={stateFn:mt}){return function(...n){let i=n;if(Array.isArray(i[0])){const[t,...e]=i;i=[...t,...e]}const o=i.slice(0,i.length-1),r=i[i.length-1],s=o.filter(t=>t.release&&"function"==typeof t.release),a=t(function(...t){return r.apply(null,t)}),l=pt(function(t,n){return e.stateFn.apply(null,[t,o,n,a])});return Object.assign(l.memoized,{release:function(){l.reset(),a.reset(),s.forEach(t=>t.release())},projector:a.memoized,setResult:l.setResult,clearResult:l.clearResult})}}(pt)(...t)}function mt(t,e,n,i){if(void 0===n){const n=e.map(e=>e(t));return i.memoized.apply(null,n)}const o=e.map(e=>e(t,n));return i.memoized.apply(null,[...o,n])}function ft(t){return gt(e=>{const n=e[t];return!(0,i.X6Q)()||t in e||console.warn(`@ngrx/store: The feature name "${t}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${t}', ...) or StoreModule.forFeature('${t}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),n},t=>t)}function _t(t){Object.freeze(t);const e=ct(t);return Object.getOwnPropertyNames(t).forEach(n=>{if(!n.startsWith("\u0275")&&function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(t,n)&&(!e||"caller"!==n&&"callee"!==n&&"arguments"!==n)){const e=t[n];!lt(e)&&!ct(e)||Object.isFrozen(e)||_t(e)}}),t}function bt(t,e=[]){return(rt(t)||st(t))&&0===e.length?{path:["root"],value:t}:Object.keys(t).reduce((n,i)=>{if(n)return n;const o=t[i];return function(t){return ct(t)&&t.hasOwnProperty("\u0275cmp")}(o)?n:!(rt(o)||st(o)||function(t){return"number"==typeof t}(o)||function(t){return"boolean"==typeof t}(o)||function(t){return"string"==typeof t}(o)||at(o))&&(function(t){if(!function(t){return lt(t)&&!at(t)}(t))return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}(o)?bt(o,[...e,i]):{path:[...e,i],value:o})},!1)}function vt(t,e){if(!1===t)return;const n=t.path.join("."),i=new Error(`Detected unserializable ${e} at "${n}". ${ot}#strict${e}serializability`);throw i.value=t.value,i.unserializablePath=n,i}function yt(t){return(0,i.X6Q)()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},t):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Ct({strictActionSerializability:t,strictStateSerializability:e}){return n=>t||e?function(t,e){return function(n,i){e.action(i)&&vt(bt(i),"action");const o=t(n,i);return e.state()&&vt(bt(o),"state"),o}}(n,{action:e=>t&&!Tt(e),state:()=>e}):n}function Ot({strictActionImmutability:t,strictStateImmutability:e}){return n=>t||e?function(t,e){return function(n,i){const o=e.action(i)?_t(i):i,r=t(n,o);return e.state()?_t(r):r}}(n,{action:e=>t&&!Tt(e),state:()=>e}):n}function Tt(t){return t.type.startsWith("@ngrx")}function Et({strictActionWithinNgZone:t}){return e=>t?function(t,e){return function(n,o){if(e.action(o)&&!i.R0b.isInAngularZone())throw new Error(`Action '${o.type}' running outside NgZone. ${ot}#strictactionwithinngzone`);return t(n,o)}}(e,{action:e=>t&&!Tt(e)}):e}function St(){return[{provide:V,multi:!0,deps:[U],useFactory:Mt}]}function wt(t){return t}function Mt(t){if(!t.strictActionTypeUniqueness)return;const e=Object.entries(p).filter(([,t])=>t>1).map(([t])=>t);if(e.length)throw new Error(`Action types are registered more than once, ${e.map(t=>`"${t}"`).join(", ")}. ${ot}#strictactiontypeuniqueness`)}let xt=(()=>{class t{constructor(t,e,n,i,o,r){}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(b),i.LFG(z),i.LFG(J),i.LFG(et),i.LFG(y,8),i.LFG(V,8))},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})(),Pt=(()=>{class t{constructor(t,e,n,i,o){this.features=t,this.featureReducers=e,this.reducerManager=n;const r=t.map((t,n)=>{const i=e.shift()[n];return Object.assign(Object.assign({},t),{reducers:i,initialState:Dt(t.initialState)})});n.addFeatures(r)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(I),i.LFG(R),i.LFG(Y),i.LFG(xt),i.LFG(V,8))},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})(),kt=(()=>{class t{static forRoot(t,e={}){return{ngModule:xt,providers:[{provide:y,useFactory:Nt,deps:[[et,new i.FiY,new i.tp0]]},{provide:C,useValue:e.initialState},{provide:O,useFactory:Dt,deps:[C]},{provide:w,useValue:t},{provide:x,useExisting:t instanceof i.OlP?t:w},{provide:S,deps:[i.zs3,w,[new i.tBr(x)]],useFactory:It},{provide:D,useValue:e.metaReducers?e.metaReducers:[]},{provide:N,deps:[L,D],useFactory:Lt},{provide:E,useValue:e.reducerFactory?e.reducerFactory:G},{provide:T,deps:[E,N],useFactory:H},v,q,$,tt,nt,(n=e.runtimeChecks,[{provide:F,useValue:n},{provide:B,useFactory:wt,deps:[F]},{provide:U,deps:[B],useFactory:yt},{provide:L,multi:!0,deps:[U],useFactory:Ot},{provide:L,multi:!0,deps:[U],useFactory:Ct},{provide:L,multi:!0,deps:[U],useFactory:Et}]),St()]};var n}static forFeature(t,e,n={}){return{ngModule:Pt,providers:[{provide:k,multi:!0,useValue:t instanceof Object?{}:n},{provide:M,multi:!0,useValue:{key:t instanceof Object?t.name:t,reducerFactory:n instanceof i.OlP||!n.reducerFactory?G:n.reducerFactory,metaReducers:n instanceof i.OlP||!n.metaReducers?[]:n.metaReducers,initialState:n instanceof i.OlP||!n.initialState?void 0:n.initialState}},{provide:I,deps:[i.zs3,k,M],useFactory:At},{provide:P,multi:!0,useValue:t instanceof Object?t.reducer:e},{provide:A,multi:!0,useExisting:e instanceof i.OlP?e:P},{provide:R,multi:!0,deps:[i.zs3,P,[new i.tBr(A)]],useFactory:Rt},St()]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})();function It(t,e){return e instanceof i.OlP?t.get(e):e}function At(t,e,n){return n.map((n,o)=>{if(e[o]instanceof i.OlP){const i=t.get(e[o]);return{key:n.key,reducerFactory:i.reducerFactory?i.reducerFactory:G,metaReducers:i.metaReducers?i.metaReducers:[],initialState:i.initialState}}return n})}function Rt(t,e){return e.map(e=>e instanceof i.OlP?t.get(e):e)}function Dt(t){return"function"==typeof t?t():t}function Lt(t,e){return t.concat(e)}function Nt(t){if(t)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function Bt(...t){return{reducer:t.pop(),types:t.map(t=>t.type)}}function Ft(t,...e){const n=new Map;for(const i of e)for(const t of i.types){const e=n.get(t);n.set(t,e?(t,n)=>i.reducer(e(t,n),n):i.reducer)}return function(e=t,i){const o=n.get(i.type);return o?o(e,i):e}}},6672:function(t,e,n){var i,o,r;o=[n(8755)],void 0===(r="function"==typeof(i=function(t){
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
"use strict";return t})?i.apply(e,o):i)||(t.exports=r)},8755:function(t,e){var n,i;void 0===(i="function"==typeof(n=function(){"use strict";var t={connectionTypes:{INPUT_VALUE:1,OUTPUT_VALUE:2,NEXT_STATEMENT:3,PREVIOUS_STATEMENT:4},constants:{},LINE_MODE_MULTIPLIER:40,PAGE_MODE_MULTIPLIER:125,DRAG_RADIUS:5,FLYOUT_DRAG_RADIUS:10,SNAP_RADIUS:28};return t.CONNECTING_SNAP_RADIUS=t.SNAP_RADIUS,t.CURRENT_CONNECTION_PREFERENCE=8,t.BUMP_DELAY=250,t.BUMP_RANDOMNESS=10,t.COLLAPSE_CHARS=30,t.LONGPRESS=750,t.SOUND_LIMIT=100,t.DRAG_STACK=!0,t.HSV_SATURATION=.45,t.HSV_VALUE=.65,t.SPRITE={width:96,height:124,url:"sprites.png"},t.constants.ALIGN={LEFT:-1,CENTRE:0,RIGHT:1},t.DRAG_NONE=0,t.DRAG_STICKY=1,t.DRAG_BEGIN=1,t.DRAG_FREE=2,t.OPPOSITE_TYPE=[],t.OPPOSITE_TYPE[t.connectionTypes.INPUT_VALUE]=t.connectionTypes.OUTPUT_VALUE,t.OPPOSITE_TYPE[t.connectionTypes.OUTPUT_VALUE]=t.connectionTypes.INPUT_VALUE,t.OPPOSITE_TYPE[t.connectionTypes.NEXT_STATEMENT]=t.connectionTypes.PREVIOUS_STATEMENT,t.OPPOSITE_TYPE[t.connectionTypes.PREVIOUS_STATEMENT]=t.connectionTypes.NEXT_STATEMENT,t.DELETE_AREA_NONE=null,t.DELETE_AREA_TRASH=1,t.DELETE_AREA_TOOLBOX=2,t.VARIABLE_CATEGORY_NAME="VARIABLE",t.VARIABLE_DYNAMIC_CATEGORY_NAME="VARIABLE_DYNAMIC",t.PROCEDURE_CATEGORY_NAME="PROCEDURE",t.RENAME_VARIABLE_ID="RENAME_VARIABLE_ID",t.DELETE_VARIABLE_ID="DELETE_VARIABLE_ID",t.constants.COLLAPSED_INPUT_NAME="_TEMP_COLLAPSED_INPUT",t.constants.COLLAPSED_FIELD_NAME="_TEMP_COLLAPSED_FIELD",t.utils={},t.utils.global=function(){return"object"==typeof self?self:"object"==typeof window?window:"object"==typeof global?global:this}(),t.Msg={},t.utils.global.Blockly||(t.utils.global.Blockly={}),t.utils.global.Blockly.Msg||(t.utils.global.Blockly.Msg=t.Msg),t.utils.colour={},t.utils.colour.parse=function(e){e=String(e).toLowerCase().trim();var n=t.utils.colour.names[e];if(n)return n;if(n="0x"==e.substring(0,2)?"#"+e.substring(2):e,/^#[0-9a-f]{6}$/.test(n="#"==n[0]?n:"#"+n))return n;if(/^#[0-9a-f]{3}$/.test(n))return["#",n[1],n[1],n[2],n[2],n[3],n[3]].join("");var i=e.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return i&&(e=Number(i[1]),n=Number(i[2]),i=Number(i[3]),0<=e&&256>e&&0<=n&&256>n&&0<=i&&256>i)?t.utils.colour.rgbToHex(e,n,i):null},t.utils.colour.rgbToHex=function(t,e,n){return e=t<<16|e<<8|n,16>t?"#"+(16777216|e).toString(16).substr(1):"#"+e.toString(16)},t.utils.colour.hexToRgb=function(e){return(e=t.utils.colour.parse(e))?[(e=parseInt(e.substr(1),16))>>16,e>>8&255,255&e]:[0,0,0]},t.utils.colour.hsvToHex=function(e,n,i){var o=0,r=0,s=0;if(0==n)s=r=o=i;else{var a=Math.floor(e/60),l=e/60-a;e=i*(1-n);var c=i*(1-n*l);switch(n=i*(1-n*(1-l)),a){case 1:o=c,r=i,s=e;break;case 2:o=e,r=i,s=n;break;case 3:o=e,r=c,s=i;break;case 4:o=n,r=e,s=i;break;case 5:o=i,r=e,s=c;break;case 6:case 0:o=i,r=n,s=e}}return t.utils.colour.rgbToHex(Math.floor(o),Math.floor(r),Math.floor(s))},t.utils.colour.blend=function(e,n,i){return(e=t.utils.colour.parse(e))&&(n=t.utils.colour.parse(n))?(e=t.utils.colour.hexToRgb(e),n=t.utils.colour.hexToRgb(n),t.utils.colour.rgbToHex(Math.round(n[0]+i*(e[0]-n[0])),Math.round(n[1]+i*(e[1]-n[1])),Math.round(n[2]+i*(e[2]-n[2])))):null},t.utils.colour.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"},t.utils.Coordinate=function(t,e){this.x=t,this.y=e},t.utils.Coordinate.equals=function(t,e){return t==e||!(!t||!e)&&t.x==e.x&&t.y==e.y},t.utils.Coordinate.distance=function(t,e){var n=t.x-e.x;return t=t.y-e.y,Math.sqrt(n*n+t*t)},t.utils.Coordinate.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},t.utils.Coordinate.difference=function(e,n){return new t.utils.Coordinate(e.x-n.x,e.y-n.y)},t.utils.Coordinate.sum=function(e,n){return new t.utils.Coordinate(e.x+n.x,e.y+n.y)},t.utils.Coordinate.prototype.scale=function(t){return this.x*=t,this.y*=t,this},t.utils.Coordinate.prototype.translate=function(t,e){return this.x+=t,this.y+=e,this},t.utils.Rect=function(t,e,n,i){this.top=t,this.bottom=e,this.left=n,this.right=i},t.utils.Rect.prototype.contains=function(t,e){return t>=this.left&&t<=this.right&&e>=this.top&&e<=this.bottom},t.utils.Rect.prototype.intersects=function(t){return!(this.left>t.right||this.right<t.left||this.top>t.bottom||this.bottom<t.top)},t.utils.string={},t.utils.string.startsWith=function(t,e){return 0==t.lastIndexOf(e,0)},t.utils.string.shortestStringLength=function(t){return t.length?t.reduce(function(t,e){return t.length<e.length?t:e}).length:0},t.utils.string.commonWordPrefix=function(e,n){if(!e.length)return 0;if(1==e.length)return e[0].length;var i=0;n=n||t.utils.string.shortestStringLength(e);for(var o=0;o<n;o++){for(var r=e[0][o],s=1;s<e.length;s++)if(r!=e[s][o])return i;" "==r&&(i=o+1)}for(s=1;s<e.length;s++)if((r=e[s][o])&&" "!=r)return i;return n},t.utils.string.commonWordSuffix=function(e,n){if(!e.length)return 0;if(1==e.length)return e[0].length;var i=0;n=n||t.utils.string.shortestStringLength(e);for(var o=0;o<n;o++){for(var r=e[0].substr(-o-1,1),s=1;s<e.length;s++)if(r!=e[s].substr(-o-1,1))return i;" "==r&&(i=o+1)}for(s=1;s<e.length;s++)if((r=e[s].charAt(e[s].length-o-1))&&" "!=r)return i;return n},t.utils.string.wrap=function(e,n){e=e.split("\n");for(var i=0;i<e.length;i++)e[i]=t.utils.string.wrapLine_(e[i],n);return e.join("\n")},t.utils.string.wrapLine_=function(e,n){if(e.length<=n)return e;for(var i=e.trim().split(/\s+/),o=0;o<i.length;o++)i[o].length>n&&(n=i[o].length);o=-1/0;var r=1;do{var s=o,a=e;e=[];var l=i.length/r,c=1;for(o=0;o<i.length-1;o++)c<(o+1.5)/l?(c++,e[o]=!0):e[o]=!1;e=t.utils.string.wrapMutate_(i,e,n),o=t.utils.string.wrapScore_(i,e,n),e=t.utils.string.wrapToText_(i,e),r++}while(o>s);return a},t.utils.string.wrapScore_=function(t,e,n){for(var i=[0],o=[],r=0;r<t.length;r++)i[i.length-1]+=t[r].length,!0===e[r]?(i.push(0),o.push(t[r].charAt(t[r].length-1))):!1===e[r]&&i[i.length-1]++;for(t=Math.max.apply(Math,i),r=e=0;r<i.length;r++)e-=2*Math.pow(Math.abs(n-i[r]),1.5),e-=Math.pow(t-i[r],1.5),-1!=".?!".indexOf(o[r])?e+=n/3:-1!=",;)]}".indexOf(o[r])&&(e+=n/4);return 1<i.length&&i[i.length-1]<=i[i.length-2]&&(e+=.5),e},t.utils.string.wrapMutate_=function(e,n,i){for(var o,r=t.utils.string.wrapScore_(e,n,i),s=0;s<n.length-1;s++)if(n[s]!=n[s+1]){var a=[].concat(n);a[s]=!a[s],a[s+1]=!a[s+1];var l=t.utils.string.wrapScore_(e,a,i);l>r&&(r=l,o=a)}return o?t.utils.string.wrapMutate_(e,o,i):n},t.utils.string.wrapToText_=function(t,e){for(var n=[],i=0;i<t.length;i++)n.push(t[i]),void 0!==e[i]&&n.push(e[i]?"\n":" ");return n.join("")},t.utils.Size=function(t,e){this.width=t,this.height=e},t.utils.Size.equals=function(t,e){return t==e||!(!t||!e)&&t.width==e.width&&t.height==e.height},t.utils.style={},t.utils.style.getSize=function(e){if("none"!=t.utils.style.getStyle_(e,"display"))return t.utils.style.getSizeWithDisplay_(e);var n=e.style,i=n.display,o=n.visibility,r=n.position;n.visibility="hidden",n.position="absolute",n.display="inline";var s=e.offsetWidth;return e=e.offsetHeight,n.display=i,n.position=r,n.visibility=o,new t.utils.Size(s,e)},t.utils.style.getSizeWithDisplay_=function(e){return new t.utils.Size(e.offsetWidth,e.offsetHeight)},t.utils.style.getStyle_=function(e,n){return t.utils.style.getComputedStyle(e,n)||t.utils.style.getCascadedStyle(e,n)||e.style&&e.style[n]},t.utils.style.getComputedStyle=function(t,e){return document.defaultView&&document.defaultView.getComputedStyle&&(t=document.defaultView.getComputedStyle(t,null))&&(t[e]||t.getPropertyValue(e))||""},t.utils.style.getCascadedStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:null},t.utils.style.getPageOffset=function(e){var n=new t.utils.Coordinate(0,0);e=e.getBoundingClientRect();var i=document.documentElement;return i=new t.utils.Coordinate(window.pageXOffset||i.scrollLeft,window.pageYOffset||i.scrollTop),n.x=e.left+i.x,n.y=e.top+i.y,n},t.utils.style.getViewportPageOffset=function(){var e=document.body,n=document.documentElement;return new t.utils.Coordinate(e.scrollLeft||n.scrollLeft,e.scrollTop||n.scrollTop)},t.utils.style.setElementShown=function(t,e){t.style.display=e?"":"none"},t.utils.style.isRightToLeft=function(e){return"rtl"==t.utils.style.getStyle_(e,"direction")},t.utils.style.getBorderBox=function(e){var n=t.utils.style.getComputedStyle(e,"borderLeftWidth"),i=t.utils.style.getComputedStyle(e,"borderRightWidth"),o=t.utils.style.getComputedStyle(e,"borderTopWidth");return e=t.utils.style.getComputedStyle(e,"borderBottomWidth"),{top:parseFloat(o),right:parseFloat(i),bottom:parseFloat(e),left:parseFloat(n)}},t.utils.style.scrollIntoContainerView=function(e,n,i){e=t.utils.style.getContainerOffsetToScrollInto(e,n,i),n.scrollLeft=e.x,n.scrollTop=e.y},t.utils.style.getContainerOffsetToScrollInto=function(e,n,i){var o=t.utils.style.getPageOffset(e),r=t.utils.style.getPageOffset(n),s=t.utils.style.getBorderBox(n),a=o.x-r.x-s.left;return o=o.y-r.y-s.top,r=t.utils.style.getSizeWithDisplay_(e),e=n.clientWidth-r.width,r=n.clientHeight-r.height,s=n.scrollLeft,n=n.scrollTop,i?(s+=a-e/2,n+=o-r/2):(s+=Math.min(a,Math.max(a-e,0)),n+=Math.min(o,Math.max(o-r,0))),new t.utils.Coordinate(s,n)},t.utils.userAgent={},function(e){function n(t){return-1!=i.indexOf(t.toUpperCase())}t.utils.userAgent.raw=e;var i=t.utils.userAgent.raw.toUpperCase();t.utils.userAgent.IE=n("Trident")||n("MSIE"),t.utils.userAgent.EDGE=n("Edge"),t.utils.userAgent.JAVA_FX=n("JavaFX"),t.utils.userAgent.CHROME=(n("Chrome")||n("CriOS"))&&!t.utils.userAgent.EDGE,t.utils.userAgent.WEBKIT=n("WebKit")&&!t.utils.userAgent.EDGE,t.utils.userAgent.GECKO=n("Gecko")&&!t.utils.userAgent.WEBKIT&&!t.utils.userAgent.IE&&!t.utils.userAgent.EDGE,t.utils.userAgent.ANDROID=n("Android"),t.utils.userAgent.IPAD=n("iPad"),t.utils.userAgent.IPOD=n("iPod"),t.utils.userAgent.IPHONE=n("iPhone")&&!t.utils.userAgent.IPAD&&!t.utils.userAgent.IPOD,t.utils.userAgent.MAC=n("Macintosh"),t.utils.userAgent.TABLET=t.utils.userAgent.IPAD||t.utils.userAgent.ANDROID&&!n("Mobile")||n("Silk"),t.utils.userAgent.MOBILE=!t.utils.userAgent.TABLET&&(t.utils.userAgent.IPOD||t.utils.userAgent.IPHONE||t.utils.userAgent.ANDROID||n("IEMobile"))}(t.utils.global.navigator&&t.utils.global.navigator.userAgent||""),t.utils.noEvent=function(t){t.preventDefault(),t.stopPropagation()},t.utils.isTargetInput=function(t){return"textarea"==t.target.type||"text"==t.target.type||"number"==t.target.type||"email"==t.target.type||"password"==t.target.type||"search"==t.target.type||"tel"==t.target.type||"url"==t.target.type||t.target.isContentEditable||t.target.dataset&&"true"==t.target.dataset.isTextInput},t.utils.getRelativeXY=function(e){var n=new t.utils.Coordinate(0,0),i=e.getAttribute("x");return i&&(n.x=parseInt(i,10)),(i=e.getAttribute("y"))&&(n.y=parseInt(i,10)),(i=(i=e.getAttribute("transform"))&&i.match(t.utils.getRelativeXY.XY_REGEX_))&&(n.x+=Number(i[1]),i[3]&&(n.y+=Number(i[3]))),(e=e.getAttribute("style"))&&-1<e.indexOf("translate")&&(e=e.match(t.utils.getRelativeXY.XY_STYLE_REGEX_))&&(n.x+=Number(e[1]),e[3]&&(n.y+=Number(e[3]))),n},t.utils.getInjectionDivXY_=function(e){for(var n=0,i=0;e;){var o=t.utils.getRelativeXY(e);if(n+=o.x,i+=o.y,-1!=(" "+(e.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;e=e.parentNode}return new t.utils.Coordinate(n,i)},t.utils.getRelativeXY.XY_REGEX_=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,t.utils.getRelativeXY.XY_STYLE_REGEX_=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/,t.utils.isRightButton=function(e){return!(!e.ctrlKey||!t.utils.userAgent.MAC)||2==e.button},t.utils.mouseToSvg=function(t,e,n){var i=e.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,n||(n=e.getScreenCTM().inverse()),i.matrixTransform(n)},t.utils.getScrollDeltaPixels=function(e){switch(e.deltaMode){default:return{x:e.deltaX,y:e.deltaY};case 1:return{x:e.deltaX*t.LINE_MODE_MULTIPLIER,y:e.deltaY*t.LINE_MODE_MULTIPLIER};case 2:return{x:e.deltaX*t.PAGE_MODE_MULTIPLIER,y:e.deltaY*t.PAGE_MODE_MULTIPLIER}}},t.utils.tokenizeInterpolation=function(e){return t.utils.tokenizeInterpolation_(e,!0)},t.utils.replaceMessageReferences=function(e){return"string"!=typeof e?e:(e=t.utils.tokenizeInterpolation_(e,!1)).length?String(e[0]):""},t.utils.checkMessageReferences=function(e){for(var n=!0,i=t.Msg,o=e.match(/%{BKY_[A-Z]\w*}/gi),r=0;r<o.length;r++)null==i[o[r].toUpperCase().slice(6,-1)]&&(console.warn("No message string for "+o[r]+" in "+e),n=!1);return n},t.utils.tokenizeInterpolation_=function(e,n){var i=[],o=e.split("");o.push("");var r=0;e=[];for(var s=null,a=0;a<o.length;a++){var l=o[a];0==r?"%"==l?((l=e.join(""))&&i.push(l),e.length=0,r=1):e.push(l):1==r?"%"==l?(e.push(l),r=0):n&&"0"<=l&&"9">=l?(r=2,s=l,(l=e.join(""))&&i.push(l),e.length=0):"{"==l?r=3:(e.push("%",l),r=0):2==r?"0"<=l&&"9">=l?s+=l:(i.push(parseInt(s,10)),a--,r=0):3==r&&(""==l?(e.splice(0,0,"%{"),a--,r=0):"}"!=l?e.push(l):(r=e.join(""),/[A-Z]\w*/i.test(r)?(l=r.toUpperCase(),(l=t.utils.string.startsWith(l,"BKY_")?l.substring(4):null)&&l in t.Msg?"string"==typeof(r=t.Msg[l])?Array.prototype.push.apply(i,t.utils.tokenizeInterpolation_(r,n)):i.push(n?String(r):r):i.push("%{"+r+"}")):i.push("%{"+r+"}"),r=e.length=0))}for((l=e.join(""))&&i.push(l),n=[],a=e.length=0;a<i.length;++a)"string"==typeof i[a]?e.push(i[a]):((l=e.join(""))&&n.push(l),e.length=0,n.push(i[a]));return(l=e.join(""))&&n.push(l),e.length=0,n},t.utils.genUid=function(){for(var e=t.utils.genUid.soup_.length,n=[],i=0;20>i;i++)n[i]=t.utils.genUid.soup_.charAt(Math.random()*e);return n.join("")},t.utils.genUid.soup_="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t.utils.is3dSupported=function(){if(void 0!==t.utils.is3dSupported.cached_)return t.utils.is3dSupported.cached_;if(!t.utils.global.getComputedStyle)return!1;var e=document.createElement("p"),n="none",i={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(var o in document.body.insertBefore(e,null),i)if(void 0!==e.style[o]){if(e.style[o]="translate3d(1px,1px,1px)",!(n=t.utils.global.getComputedStyle(e)))return document.body.removeChild(e),!1;n=n.getPropertyValue(i[o])}return document.body.removeChild(e),t.utils.is3dSupported.cached_="none"!==n,t.utils.is3dSupported.cached_},t.utils.runAfterPageLoad=function(t){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)t();else var e=setInterval(function(){"complete"==document.readyState&&(clearInterval(e),t())},10)},t.utils.getViewportBBox=function(){var e=t.utils.style.getViewportPageOffset();return new t.utils.Rect(e.y,document.documentElement.clientHeight+e.y,e.x,document.documentElement.clientWidth+e.x)},t.utils.arrayRemove=function(t,e){return-1!=(e=t.indexOf(e))&&(t.splice(e,1),!0)},t.utils.getDocumentScroll=function(){var e=document.documentElement,n=window;return t.utils.userAgent.IE&&n.pageYOffset!=e.scrollTop?new t.utils.Coordinate(e.scrollLeft,e.scrollTop):new t.utils.Coordinate(n.pageXOffset||e.scrollLeft,n.pageYOffset||e.scrollTop)},t.utils.getBlockTypeCounts=function(t,e){var n=Object.create(null),i=t.getDescendants(!0);for(e&&(t=t.getNextBlock())&&(t=i.indexOf(t),i.splice(t,i.length-t)),t=0;e=i[t];t++)n[e.type]?n[e.type]++:n[e.type]=1;return n},t.utils.screenToWsCoordinates=function(e,n){var i=n.x;n=n.y;var o=e.getInjectionDiv().getBoundingClientRect();return i=new t.utils.Coordinate(i-o.left,n-o.top),n=e.getOriginOffsetInPixels(),t.utils.Coordinate.difference(i,n).scale(1/e.scale)},t.utils.parseBlockColour=function(e){var n="string"==typeof e?t.utils.replaceMessageReferences(e):e,i=Number(n);if(!isNaN(i)&&0<=i&&360>=i)return{hue:i,hex:t.utils.colour.hsvToHex(i,t.HSV_SATURATION,255*t.HSV_VALUE)};if(i=t.utils.colour.parse(n))return{hue:null,hex:i};throw i='Invalid colour: "'+n+'"',e!=n&&(i+=' (from "'+e+'")'),Error(i)},t.Touch={},t.Touch.TOUCH_ENABLED="ontouchstart"in t.utils.global||!!(t.utils.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!t.utils.global.navigator||!t.utils.global.navigator.maxTouchPoints&&!t.utils.global.navigator.msMaxTouchPoints),t.Touch.touchIdentifier_=null,t.Touch.TOUCH_MAP={},t.utils.global.PointerEvent?t.Touch.TOUCH_MAP={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:t.Touch.TOUCH_ENABLED&&(t.Touch.TOUCH_MAP={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]}),t.longPid_=0,t.longStart=function(e,n){t.longStop_(),e.changedTouches&&1!=e.changedTouches.length||(t.longPid_=setTimeout(function(){e.changedTouches&&(e.button=2,e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),n&&n.handleRightClick(e)},t.LONGPRESS))},t.longStop_=function(){t.longPid_&&(clearTimeout(t.longPid_),t.longPid_=0)},t.Touch.clearTouchIdentifier=function(){t.Touch.touchIdentifier_=null},t.Touch.shouldHandleEvent=function(e){return!t.Touch.isMouseOrTouchEvent(e)||t.Touch.checkTouchIdentifier(e)},t.Touch.getTouchIdentifierFromEvent=function(t){return null!=t.pointerId?t.pointerId:t.changedTouches&&t.changedTouches[0]&&null!=t.changedTouches[0].identifier?t.changedTouches[0].identifier:"mouse"},t.Touch.checkTouchIdentifier=function(e){var n=t.Touch.getTouchIdentifierFromEvent(e);return null!=t.Touch.touchIdentifier_?t.Touch.touchIdentifier_==n:("mousedown"==e.type||"touchstart"==e.type||"pointerdown"==e.type)&&(t.Touch.touchIdentifier_=n,!0)},t.Touch.setClientFromTouch=function(e){if(t.utils.string.startsWith(e.type,"touch")){var n=e.changedTouches[0];e.clientX=n.clientX,e.clientY=n.clientY}},t.Touch.isMouseOrTouchEvent=function(e){return t.utils.string.startsWith(e.type,"touch")||t.utils.string.startsWith(e.type,"mouse")||t.utils.string.startsWith(e.type,"pointer")},t.Touch.isTouchEvent=function(e){return t.utils.string.startsWith(e.type,"touch")||t.utils.string.startsWith(e.type,"pointer")},t.Touch.splitEventByTouches=function(t){var e=[];if(t.changedTouches)for(var n=0;n<t.changedTouches.length;n++)e[n]={type:t.type,changedTouches:[t.changedTouches[n]],target:t.target,stopPropagation:function(){t.stopPropagation()},preventDefault:function(){t.preventDefault()}};else e.push(t);return e},t.browserEvents={},t.browserEvents.conditionalBind=function(e,n,i,o,r,s){var a=!1,l=function(e){var n=!r;e=t.Touch.splitEventByTouches(e);for(var s,l=0;s=e[l];l++)n&&!t.Touch.shouldHandleEvent(s)||(t.Touch.setClientFromTouch(s),i?o.call(i,s):o(s),a=!0)},c=[];if(t.utils.global.PointerEvent&&n in t.Touch.TOUCH_MAP)for(var u,h=0;u=t.Touch.TOUCH_MAP[n][h];h++)e.addEventListener(u,l,!1),c.push([e,u,l]);else if(e.addEventListener(n,l,!1),c.push([e,n,l]),n in t.Touch.TOUCH_MAP){var d=function(t){l(t),a&&!s&&t.preventDefault()};for(h=0;u=t.Touch.TOUCH_MAP[n][h];h++)e.addEventListener(u,d,!1),c.push([e,u,d])}return c},t.browserEvents.bind=function(e,n,i,o){var r=function(t){i?o.call(i,t):o(t)},s=[];if(t.utils.global.PointerEvent&&n in t.Touch.TOUCH_MAP)for(var a,l=0;a=t.Touch.TOUCH_MAP[n][l];l++)e.addEventListener(a,r,!1),s.push([e,a,r]);else if(e.addEventListener(n,r,!1),s.push([e,n,r]),n in t.Touch.TOUCH_MAP){var c=function(t){if(t.changedTouches&&1==t.changedTouches.length){var e=t.changedTouches[0];t.clientX=e.clientX,t.clientY=e.clientY}r(t),t.preventDefault()};for(l=0;a=t.Touch.TOUCH_MAP[n][l];l++)e.addEventListener(a,c,!1),s.push([e,a,c])}return s},t.browserEvents.unbind=function(t){for(;t.length;){var e=t.pop(),n=e[2];e[0].removeEventListener(e[1],n,!1)}return n},t.registry={},t.registry.typeMap_={},t.registry.DEFAULT="default",t.registry.Type=function(t){this.name_=t},t.registry.Type.prototype.toString=function(){return this.name_},t.registry.Type.CONNECTION_CHECKER=new t.registry.Type("connectionChecker"),t.registry.Type.CURSOR=new t.registry.Type("cursor"),t.registry.Type.EVENT=new t.registry.Type("event"),t.registry.Type.FIELD=new t.registry.Type("field"),t.registry.Type.RENDERER=new t.registry.Type("renderer"),t.registry.Type.TOOLBOX=new t.registry.Type("toolbox"),t.registry.Type.THEME=new t.registry.Type("theme"),t.registry.Type.TOOLBOX_ITEM=new t.registry.Type("toolboxItem"),t.registry.Type.FLYOUTS_VERTICAL_TOOLBOX=new t.registry.Type("flyoutsVerticalToolbox"),t.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX=new t.registry.Type("flyoutsHorizontalToolbox"),t.registry.Type.METRICS_MANAGER=new t.registry.Type("metricsManager"),t.registry.register=function(e,n,i,o){if(!(e instanceof t.registry.Type)&&"string"!=typeof e||""==String(e).trim())throw Error('Invalid type "'+e+'". The type must be a non-empty string or a Blockly.registry.Type.');if(e=String(e).toLowerCase(),"string"!=typeof n||""==n.trim())throw Error('Invalid name "'+n+'". The name must be a non-empty string.');if(n=n.toLowerCase(),!i)throw Error("Can not register a null value");var r=t.registry.typeMap_[e];if(r||(r=t.registry.typeMap_[e]={}),t.registry.validate_(e,i),!o&&r[n])throw Error('Name "'+n+'" with type "'+e+'" already registered.');r[n]=i},t.registry.validate_=function(e,n){switch(e){case String(t.registry.Type.FIELD):if("function"!=typeof n.fromJson)throw Error('Type "'+e+'" must have a fromJson function')}},t.registry.unregister=function(e,n){e=String(e).toLowerCase(),n=n.toLowerCase();var i=t.registry.typeMap_[e];i&&i[n]?delete t.registry.typeMap_[e][n]:console.warn("Unable to unregister ["+n+"]["+e+"] from the registry.")},t.registry.getItem_=function(e,n,i){e=String(e).toLowerCase(),n=n.toLowerCase();var o=t.registry.typeMap_[e];if(!o||!o[n]){if(n="Unable to find ["+n+"]["+e+"] in the registry.",i)throw Error(n+" You must require or register a "+e+" plugin.");return console.warn(n),null}return o[n]},t.registry.hasItem=function(e,n){return e=String(e).toLowerCase(),n=n.toLowerCase(),!!(e=t.registry.typeMap_[e])&&!!e[n]},t.registry.getClass=function(e,n,i){return t.registry.getItem_(e,n,i)},t.registry.getObject=function(e,n,i){return t.registry.getItem_(e,n,i)},t.registry.getClassFromOptions=function(e,n,i){return"function"==typeof(n=n.plugins[e.toString()]||t.registry.DEFAULT)?n:t.registry.getClass(e,n,i)},t.Events={},t.Events.group_="",t.Events.recordUndo=!0,t.Events.disabled_=0,t.Events.CREATE="create",t.Events.BLOCK_CREATE=t.Events.CREATE,t.Events.DELETE="delete",t.Events.BLOCK_DELETE=t.Events.DELETE,t.Events.CHANGE="change",t.Events.BLOCK_CHANGE=t.Events.CHANGE,t.Events.MOVE="move",t.Events.BLOCK_MOVE=t.Events.MOVE,t.Events.VAR_CREATE="var_create",t.Events.VAR_DELETE="var_delete",t.Events.VAR_RENAME="var_rename",t.Events.UI="ui",t.Events.BLOCK_DRAG="drag",t.Events.SELECTED="selected",t.Events.CLICK="click",t.Events.MARKER_MOVE="marker_move",t.Events.BUBBLE_OPEN="bubble_open",t.Events.TRASHCAN_OPEN="trashcan_open",t.Events.TOOLBOX_ITEM_SELECT="toolbox_item_select",t.Events.THEME_CHANGE="theme_change",t.Events.VIEWPORT_CHANGE="viewport_change",t.Events.COMMENT_CREATE="comment_create",t.Events.COMMENT_DELETE="comment_delete",t.Events.COMMENT_CHANGE="comment_change",t.Events.COMMENT_MOVE="comment_move",t.Events.FINISHED_LOADING="finished_loading",t.Events.BUMP_EVENTS=[t.Events.BLOCK_CREATE,t.Events.BLOCK_MOVE,t.Events.COMMENT_CREATE,t.Events.COMMENT_MOVE],t.Events.FIRE_QUEUE_=[],t.Events.fire=function(e){t.Events.isEnabled()&&(t.Events.FIRE_QUEUE_.length||setTimeout(t.Events.fireNow_,0),t.Events.FIRE_QUEUE_.push(e))},t.Events.fireNow_=function(){for(var e,n=t.Events.filter(t.Events.FIRE_QUEUE_,!0),i=t.Events.FIRE_QUEUE_.length=0;e=n[i];i++)if(e.workspaceId){var o=t.Workspace.getById(e.workspaceId);o&&o.fireChangeListener(e)}},t.Events.filter=function(e,n){e=e.slice(),n||e.reverse();for(var i,o=[],r=Object.create(null),s=0;i=e[s];s++)if(!i.isNull()){var a=[i.isUiEvent?t.Events.UI:i.type,i.blockId,i.workspaceId].join(" "),l=r[a],c=l?l.event:null;l?i.type==t.Events.MOVE&&l.index==s-1?(c.newParentId=i.newParentId,c.newInputName=i.newInputName,c.newCoordinate=i.newCoordinate,l.index=s):i.type==t.Events.CHANGE&&i.element==c.element&&i.name==c.name?c.newValue=i.newValue:i.type==t.Events.CLICK&&c.type==t.Events.BUBBLE_OPEN||(r[a]={event:i,index:s},o.push(i)):(r[a]={event:i,index:s},o.push(i))}for(e=o.filter(function(t){return!t.isNull()}),n||e.reverse(),s=1;i=e[s];s++)i.type==t.Events.CHANGE&&"mutation"==i.element&&e.unshift(e.splice(s,1)[0]);return e},t.Events.clearPendingUndo=function(){for(var e,n=0;e=t.Events.FIRE_QUEUE_[n];n++)e.recordUndo=!1},t.Events.disable=function(){t.Events.disabled_++},t.Events.enable=function(){t.Events.disabled_--},t.Events.isEnabled=function(){return 0==t.Events.disabled_},t.Events.getGroup=function(){return t.Events.group_},t.Events.setGroup=function(e){t.Events.group_="boolean"==typeof e?e?t.utils.genUid():"":e},t.Events.getDescendantIds=function(t){var e=[];t=t.getDescendants(!1);for(var n,i=0;n=t[i];i++)e[i]=n.id;return e},t.Events.fromJson=function(e,n){var i=t.Events.get(e.type);if(!i)throw Error("Unknown event type.");return(i=new i).fromJson(e),i.workspaceId=n.id,i},t.Events.get=function(e){return t.registry.getClass(t.registry.Type.EVENT,e)},t.Events.disableOrphans=function(e){if((e.type==t.Events.MOVE||e.type==t.Events.CREATE)&&e.workspaceId){var n=t.Workspace.getById(e.workspaceId),i=n.getBlockById(e.blockId);if(i){e=t.Events.recordUndo;try{t.Events.recordUndo=!1;var o=i.getParent();if(o&&o.isEnabled()){var r,s=i.getDescendants(!1);for(n=0;r=s[n];n++)r.setEnabled(!0)}else if((i.outputConnection||i.previousConnection)&&!n.isDragging())do{i.setEnabled(!1),i=i.getNextBlock()}while(i)}finally{t.Events.recordUndo=e}}}},t.Events.Abstract=function(){this.isBlank=null,this.workspaceId=void 0,this.group=t.Events.getGroup(),this.recordUndo=t.Events.recordUndo},t.Events.Abstract.prototype.isUiEvent=!1,t.Events.Abstract.prototype.toJson=function(){var t={type:this.type};return this.group&&(t.group=this.group),t},t.Events.Abstract.prototype.fromJson=function(t){this.isBlank=!1,this.group=t.group},t.Events.Abstract.prototype.isNull=function(){return!1},t.Events.Abstract.prototype.run=function(t){},t.Events.Abstract.prototype.getEventWorkspace_=function(){if(this.workspaceId)var e=t.Workspace.getById(this.workspaceId);if(!e)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return e},t.utils.object={},t.utils.object.inherits=function(t,e){t.superClass_=e.prototype,t.prototype=Object.create(e.prototype),t.prototype.constructor=t},t.utils.object.mixin=function(t,e){for(var n in e)t[n]=e[n]},t.utils.object.deepMerge=function(e,n){for(var i in n)e[i]=null!=n[i]&&"object"==typeof n[i]?t.utils.object.deepMerge(e[i]||Object.create(null),n[i]):n[i];return e},t.utils.object.values=function(t){return Object.values?Object.values(t):Object.keys(t).map(function(e){return t[e]})},t.utils.xml={},t.utils.xml.NAME_SPACE="https://developers.google.com/blockly/xml",t.utils.xml.document=function(){return document},t.utils.xml.createElement=function(e){return t.utils.xml.document().createElementNS(t.utils.xml.NAME_SPACE,e)},t.utils.xml.createTextNode=function(e){return t.utils.xml.document().createTextNode(e)},t.utils.xml.textToDomDocument=function(t){return(new DOMParser).parseFromString(t,"text/xml")},t.utils.xml.domToText=function(t){return(new XMLSerializer).serializeToString(t)},t.inputTypes={VALUE:t.connectionTypes.INPUT_VALUE,STATEMENT:t.connectionTypes.NEXT_STATEMENT,DUMMY:5},t.utils.Svg=function(t){this.tagName_=t},t.utils.Svg.prototype.toString=function(){return this.tagName_},t.utils.Svg.ANIMATE=new t.utils.Svg("animate"),t.utils.Svg.CIRCLE=new t.utils.Svg("circle"),t.utils.Svg.CLIPPATH=new t.utils.Svg("clipPath"),t.utils.Svg.DEFS=new t.utils.Svg("defs"),t.utils.Svg.FECOMPOSITE=new t.utils.Svg("feComposite"),t.utils.Svg.FECOMPONENTTRANSFER=new t.utils.Svg("feComponentTransfer"),t.utils.Svg.FEFLOOD=new t.utils.Svg("feFlood"),t.utils.Svg.FEFUNCA=new t.utils.Svg("feFuncA"),t.utils.Svg.FEGAUSSIANBLUR=new t.utils.Svg("feGaussianBlur"),t.utils.Svg.FEPOINTLIGHT=new t.utils.Svg("fePointLight"),t.utils.Svg.FESPECULARLIGHTING=new t.utils.Svg("feSpecularLighting"),t.utils.Svg.FILTER=new t.utils.Svg("filter"),t.utils.Svg.FOREIGNOBJECT=new t.utils.Svg("foreignObject"),t.utils.Svg.G=new t.utils.Svg("g"),t.utils.Svg.IMAGE=new t.utils.Svg("image"),t.utils.Svg.LINE=new t.utils.Svg("line"),t.utils.Svg.PATH=new t.utils.Svg("path"),t.utils.Svg.PATTERN=new t.utils.Svg("pattern"),t.utils.Svg.POLYGON=new t.utils.Svg("polygon"),t.utils.Svg.RECT=new t.utils.Svg("rect"),t.utils.Svg.SVG=new t.utils.Svg("svg"),t.utils.Svg.TEXT=new t.utils.Svg("text"),t.utils.Svg.TSPAN=new t.utils.Svg("tspan"),t.utils.dom={},t.utils.dom.SVG_NS="http://www.w3.org/2000/svg",t.utils.dom.HTML_NS="http://www.w3.org/1999/xhtml",t.utils.dom.XLINK_NS="http://www.w3.org/1999/xlink",t.utils.dom.NodeType={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_POSITION_CONTAINED_BY:16},t.utils.dom.cacheWidths_=null,t.utils.dom.cacheReference_=0,t.utils.dom.canvasContext_=null,t.utils.dom.createSvgElement=function(e,n,i){for(var o in e=document.createElementNS(t.utils.dom.SVG_NS,String(e)),n)e.setAttribute(o,n[o]);return document.body.runtimeStyle&&(e.runtimeStyle=e.currentStyle=e.style),i&&i.appendChild(e),e},t.utils.dom.addClass=function(t,e){var n=t.getAttribute("class")||"";return-1==(" "+n+" ").indexOf(" "+e+" ")&&(n&&(n+=" "),t.setAttribute("class",n+e),!0)},t.utils.dom.removeClasses=function(e,n){n=n.split(" ");for(var i=0;i<n.length;i++)t.utils.dom.removeClass(e,n[i])},t.utils.dom.removeClass=function(t,e){var n=t.getAttribute("class");if(-1==(" "+n+" ").indexOf(" "+e+" "))return!1;n=n.split(/\s+/);for(var i=0;i<n.length;i++)n[i]&&n[i]!=e||(n.splice(i,1),i--);return n.length?t.setAttribute("class",n.join(" ")):t.removeAttribute("class"),!0},t.utils.dom.hasClass=function(t,e){return-1!=(" "+t.getAttribute("class")+" ").indexOf(" "+e+" ")},t.utils.dom.removeNode=function(t){return t&&t.parentNode?t.parentNode.removeChild(t):null},t.utils.dom.insertAfter=function(t,e){var n=e.nextSibling;if(!(e=e.parentNode))throw Error("Reference node has no parent.");n?e.insertBefore(t,n):e.appendChild(t)},t.utils.dom.containsNode=function(e,n){return!!(e.compareDocumentPosition(n)&t.utils.dom.NodeType.DOCUMENT_POSITION_CONTAINED_BY)},t.utils.dom.setCssTransform=function(t,e){t.style.transform=e,t.style["-webkit-transform"]=e},t.utils.dom.startTextWidthCache=function(){t.utils.dom.cacheReference_++,t.utils.dom.cacheWidths_||(t.utils.dom.cacheWidths_={})},t.utils.dom.stopTextWidthCache=function(){t.utils.dom.cacheReference_--,t.utils.dom.cacheReference_||(t.utils.dom.cacheWidths_=null)},t.utils.dom.getTextWidth=function(e){var n,i=e.textContent+"\n"+e.className.baseVal;if(t.utils.dom.cacheWidths_&&(n=t.utils.dom.cacheWidths_[i]))return n;try{n=t.utils.userAgent.IE||t.utils.userAgent.EDGE?e.getBBox().width:e.getComputedTextLength()}catch(o){return 8*e.textContent.length}return t.utils.dom.cacheWidths_&&(t.utils.dom.cacheWidths_[i]=n),n},t.utils.dom.getFastTextWidth=function(e,n,i,o){return t.utils.dom.getFastTextWidthWithSizeString(e,n+"pt",i,o)},t.utils.dom.getFastTextWidthWithSizeString=function(e,n,i,o){var r,s=e.textContent;return e=s+"\n"+e.className.baseVal,t.utils.dom.cacheWidths_&&(r=t.utils.dom.cacheWidths_[e])||(t.utils.dom.canvasContext_||((r=document.createElement("canvas")).className="blocklyComputeCanvas",document.body.appendChild(r),t.utils.dom.canvasContext_=r.getContext("2d")),t.utils.dom.canvasContext_.font=i+" "+n+" "+o,r=t.utils.dom.canvasContext_.measureText(s).width,t.utils.dom.cacheWidths_&&(t.utils.dom.cacheWidths_[e]=r)),r},t.utils.dom.measureFontMetrics=function(t,e,n,i){var o=document.createElement("span");o.style.font=n+" "+e+" "+i,o.textContent=t,(t=document.createElement("div")).style.width="1px",t.style.height="0px",(e=document.createElement("div")).setAttribute("style","position: fixed; top: 0; left: 0; display: flex;"),e.appendChild(o),e.appendChild(t),document.body.appendChild(e);try{n={},e.style.alignItems="baseline",n.baseline=t.offsetTop-o.offsetTop,e.style.alignItems="flex-end",n.height=t.offsetTop-o.offsetTop}finally{document.body.removeChild(e)}return n},t.Xml={},t.Xml.workspaceToDom=function(e,n){var i=t.utils.xml.createElement("xml"),o=t.Xml.variablesToDom(t.Variables.allUsedVarModels(e));o.hasChildNodes()&&i.appendChild(o);var r,s=e.getTopComments(!0);for(o=0;r=s[o];o++)i.appendChild(r.toXmlWithXY(n));for(e=e.getTopBlocks(!0),o=0;s=e[o];o++)i.appendChild(t.Xml.blockToDomWithXY(s,n));return i},t.Xml.variablesToDom=function(e){for(var n,i=t.utils.xml.createElement("variables"),o=0;n=e[o];o++){var r=t.utils.xml.createElement("variable");r.appendChild(t.utils.xml.createTextNode(n.name)),n.type&&r.setAttribute("type",n.type),r.id=n.getId(),i.appendChild(r)}return i},t.Xml.blockToDomWithXY=function(e,n){if(e.isInsertionMarker()&&!(e=e.getChildren(!1)[0]))return new DocumentFragment;var i;e.workspace.RTL&&(i=e.workspace.getWidth()),n=t.Xml.blockToDom(e,n);var o=e.getRelativeToSurfaceXY();return n.setAttribute("x",Math.round(e.workspace.RTL?i-o.x:o.x)),n.setAttribute("y",Math.round(o.y)),n},t.Xml.fieldToDom_=function(e){if(e.isSerializable()){var n=t.utils.xml.createElement("field");return n.setAttribute("name",e.name||""),e.toXml(n)}return null},t.Xml.allFieldsToDom_=function(e,n){for(var i,o=0;i=e.inputList[o];o++)for(var r,s=0;r=i.fieldRow[s];s++)(r=t.Xml.fieldToDom_(r))&&n.appendChild(r)},t.Xml.blockToDom=function(e,n){if(e.isInsertionMarker())return(e=e.getChildren(!1)[0])?t.Xml.blockToDom(e):new DocumentFragment;var i=t.utils.xml.createElement(e.isShadow()?"shadow":"block");if(i.setAttribute("type",e.type),n||i.setAttribute("id",e.id),e.mutationToDom){var o=e.mutationToDom();o&&(o.hasChildNodes()||o.hasAttributes())&&i.appendChild(o)}if(t.Xml.allFieldsToDom_(e,i),o=e.getCommentText()){var r=e.commentModel.size,s=e.commentModel.pinned,a=t.utils.xml.createElement("comment");a.appendChild(t.utils.xml.createTextNode(o)),a.setAttribute("pinned",s),a.setAttribute("h",r.height),a.setAttribute("w",r.width),i.appendChild(a)}for(e.data&&((o=t.utils.xml.createElement("data")).appendChild(t.utils.xml.createTextNode(e.data)),i.appendChild(o)),o=0;r=e.inputList[o];o++){var l;if(s=!0,r.type!=t.inputTypes.DUMMY){var c=r.connection.targetBlock();r.type==t.inputTypes.VALUE?l=t.utils.xml.createElement("value"):r.type==t.inputTypes.STATEMENT&&(l=t.utils.xml.createElement("statement")),!(a=r.connection.getShadowDom())||c&&c.isShadow()||l.appendChild(t.Xml.cloneShadow_(a,n)),c&&(a=t.Xml.blockToDom(c,n)).nodeType==t.utils.dom.NodeType.ELEMENT_NODE&&(l.appendChild(a),s=!1),l.setAttribute("name",r.name),s||i.appendChild(l)}}return null!=e.inputsInline&&e.inputsInline!=e.inputsInlineDefault&&i.setAttribute("inline",e.inputsInline),e.isCollapsed()&&i.setAttribute("collapsed",!0),e.isEnabled()||i.setAttribute("disabled",!0),e.isDeletable()||e.isShadow()||i.setAttribute("deletable",!1),e.isMovable()||e.isShadow()||i.setAttribute("movable",!1),e.isEditable()||i.setAttribute("editable",!1),(o=e.getNextBlock())&&(a=t.Xml.blockToDom(o,n)).nodeType==t.utils.dom.NodeType.ELEMENT_NODE&&((l=t.utils.xml.createElement("next")).appendChild(a),i.appendChild(l)),!(a=e.nextConnection&&e.nextConnection.getShadowDom())||o&&o.isShadow()||l.appendChild(t.Xml.cloneShadow_(a,n)),i},t.Xml.cloneShadow_=function(e,n){for(var i,o=e=e.cloneNode(!0);o;)if(n&&"shadow"==o.nodeName&&o.removeAttribute("id"),o.firstChild)o=o.firstChild;else{for(;o&&!o.nextSibling;)i=o,o=o.parentNode,i.nodeType==t.utils.dom.NodeType.TEXT_NODE&&""==i.data.trim()&&o.firstChild!=i&&t.utils.dom.removeNode(i);o&&(i=o,o=o.nextSibling,i.nodeType==t.utils.dom.NodeType.TEXT_NODE&&""==i.data.trim()&&t.utils.dom.removeNode(i))}return e},t.Xml.domToText=function(e){return t.utils.xml.domToText(e).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")},t.Xml.domToPrettyText=function(e){e=t.Xml.domToText(e).split("<");for(var n="",i=1;i<e.length;i++){var o=e[i];"/"==o[0]&&(n=n.substring(2)),e[i]=n+"<"+o,"/"!=o[0]&&"/>"!=o.slice(-2)&&(n+="  ")}return(e=(e=e.join("\n")).replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>")).replace(/^\n/,"")},t.Xml.textToDom=function(e){var n=t.utils.xml.textToDomDocument(e);if(!n||!n.documentElement||n.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+e);return n.documentElement},t.Xml.clearWorkspaceAndLoadFromXml=function(e,n){return n.setResizesEnabled(!1),n.clear(),e=t.Xml.domToWorkspace(e,n),n.setResizesEnabled(!0),e},t.Xml.domToWorkspace=function(e,n){if(e instanceof t.Workspace){var i=e;e=n,n=i,console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var o;n.RTL&&(o=n.getWidth()),i=[],t.utils.dom.startTextWidthCache();var r=t.Events.getGroup();r||t.Events.setGroup(!0),n.setResizesEnabled&&n.setResizesEnabled(!1);var s=!0;try{for(var a,l=0;a=e.childNodes[l];l++){var c=a.nodeName.toLowerCase(),u=a;if("block"==c||"shadow"==c&&!t.Events.recordUndo){var h=t.Xml.domToBlock(u,n);i.push(h.id);var d=u.hasAttribute("x")?parseInt(u.getAttribute("x"),10):10,p=u.hasAttribute("y")?parseInt(u.getAttribute("y"),10):10;isNaN(d)||isNaN(p)||h.moveBy(n.RTL?o-d:d,p),s=!1}else{if("shadow"==c)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==c)n.rendered?t.WorkspaceCommentSvg?t.WorkspaceCommentSvg.fromXml(u,n,o):console.warn("Missing require for Blockly.WorkspaceCommentSvg, ignoring workspace comment."):t.WorkspaceComment?t.WorkspaceComment.fromXml(u,n):console.warn("Missing require for Blockly.WorkspaceComment, ignoring workspace comment.");else if("variables"==c){if(!s)throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");t.Xml.domToVariables(u,n),s=!1}}}}finally{r||t.Events.setGroup(!1),t.utils.dom.stopTextWidthCache()}return n.setResizesEnabled&&n.setResizesEnabled(!0),t.Events.fire(new(t.Events.get(t.Events.FINISHED_LOADING))(n)),i},t.Xml.appendDomToWorkspace=function(e,n){var i;if(Object.prototype.hasOwnProperty.call(n,"scale")&&(i=n.getBlocksBoundingBox()),e=t.Xml.domToWorkspace(e,n),i&&i.top!=i.bottom){var o=i.bottom,r=n.RTL?i.right:i.left,s=1/0,a=-1/0,l=1/0;for(i=0;i<e.length;i++){var c=n.getBlockById(e[i]).getRelativeToSurfaceXY();c.y<l&&(l=c.y),c.x<s&&(s=c.x),c.x>a&&(a=c.x)}for(o=o-l+10,r=n.RTL?r-a:r-s,i=0;i<e.length;i++)n.getBlockById(e[i]).moveBy(r,o)}return e},t.Xml.domToBlock=function(e,n){if(e instanceof t.Workspace){var i=e;e=n,n=i,console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}t.Events.disable(),i=n.getAllVariables();try{var o=t.Xml.domToBlockHeadless_(e,n),r=o.getDescendants(!1);if(n.rendered){o.setConnectionTracking(!1);for(var s=r.length-1;0<=s;s--)r[s].initSvg();for(s=r.length-1;0<=s;s--)r[s].render(!1);setTimeout(function(){o.disposed||o.setConnectionTracking(!0)},1),o.updateDisabled(),n.resizeContents()}else for(s=r.length-1;0<=s;s--)r[s].initModel()}finally{t.Events.enable()}if(t.Events.isEnabled()){for(e=t.Variables.getAddedVariables(n,i),s=0;s<e.length;s++)n=e[s],t.Events.fire(new(t.Events.get(t.Events.VAR_CREATE))(n));t.Events.fire(new(t.Events.get(t.Events.CREATE))(o))}return o},t.Xml.domToVariables=function(e,n){for(var i,o=0;i=e.childNodes[o];o++)if(i.nodeType==t.utils.dom.NodeType.ELEMENT_NODE){var r=i.getAttribute("type"),s=i.getAttribute("id");n.createVariable(i.textContent,r,s)}},t.Xml.mapSupportedXmlTags_=function(e){for(var n,i={mutation:[],comment:[],data:[],field:[],input:[],next:[]},o=0;n=e.childNodes[o];o++)if(n.nodeType!=t.utils.dom.NodeType.TEXT_NODE)switch(n.nodeName.toLowerCase()){case"mutation":i.mutation.push(n);break;case"comment":if(!t.Comment){console.warn("Missing require for Blockly.Comment, ignoring block comment.");break}i.comment.push(n);break;case"data":i.data.push(n);break;case"title":case"field":i.field.push(n);break;case"value":case"statement":i.input.push(n);break;case"next":i.next.push(n);break;default:console.warn("Ignoring unknown tag: "+n.nodeName)}return i},t.Xml.applyMutationTagNodes_=function(t,e){for(var n,i=!1,o=0;n=t[o];o++)e.domToMutation&&(e.domToMutation(n),e.initSvg&&(i=!0));return i},t.Xml.applyCommentTagNodes_=function(e,n){for(var i,o=0;i=e[o];o++){var r=i.textContent,s="true"==i.getAttribute("pinned"),a=parseInt(i.getAttribute("w"),10);i=parseInt(i.getAttribute("h"),10),n.setCommentText(r),n.commentModel.pinned=s,isNaN(a)||isNaN(i)||(n.commentModel.size=new t.utils.Size(a,i)),s&&n.getCommentIcon&&!n.isInFlyout&&setTimeout(function(){n.getCommentIcon().setVisible(!0)},1)}},t.Xml.applyDataTagNodes_=function(t,e){for(var n,i=0;n=t[i];i++)e.data=n.textContent},t.Xml.applyFieldTagNodes_=function(e,n){for(var i,o=0;i=e[o];o++){var r=i.getAttribute("name");t.Xml.domToField_(n,r,i)}},t.Xml.findChildBlocks_=function(e){for(var n,i={childBlockElement:null,childShadowElement:null},o=0;n=e.childNodes[o];o++)n.nodeType==t.utils.dom.NodeType.ELEMENT_NODE&&("block"==n.nodeName.toLowerCase()?i.childBlockElement=n:"shadow"==n.nodeName.toLowerCase()&&(i.childShadowElement=n));return i},t.Xml.applyInputTagNodes_=function(e,n,i,o){for(var r,s=0;r=e[s];s++){var a=r.getAttribute("name"),l=i.getInput(a);if(!l){console.warn("Ignoring non-existent input "+a+" in block "+o);break}if((r=t.Xml.findChildBlocks_(r)).childBlockElement){if(!l.connection)throw TypeError("Input connection does not exist.");t.Xml.domToBlockHeadless_(r.childBlockElement,n,l.connection,!1)}r.childShadowElement&&l.connection.setShadowDom(r.childShadowElement)}},t.Xml.applyNextTagNodes_=function(e,n,i){for(var o,r=0;o=e[r];r++){if((o=t.Xml.findChildBlocks_(o)).childBlockElement){if(!i.nextConnection)throw TypeError("Next statement does not exist.");if(i.nextConnection.isConnected())throw TypeError("Next statement is already connected.");t.Xml.domToBlockHeadless_(o.childBlockElement,n,i.nextConnection,!0)}o.childShadowElement&&i.nextConnection&&i.nextConnection.setShadowDom(o.childShadowElement)}},t.Xml.domToBlockHeadless_=function(e,n,i,o){var r=e.getAttribute("type");if(!r)throw TypeError("Block type unspecified: "+e.outerHTML);var s=e.getAttribute("id");s=n.newBlock(r,s);var a=t.Xml.mapSupportedXmlTags_(e),l=t.Xml.applyMutationTagNodes_(a.mutation,s);if(t.Xml.applyCommentTagNodes_(a.comment,s),t.Xml.applyDataTagNodes_(a.data,s),i)if(o){if(!s.previousConnection)throw TypeError("Next block does not have previous statement.");i.connect(s.previousConnection)}else if(s.outputConnection)i.connect(s.outputConnection);else{if(!s.previousConnection)throw TypeError("Child block does not have output or previous statement.");i.connect(s.previousConnection)}if(t.Xml.applyFieldTagNodes_(a.field,s),t.Xml.applyInputTagNodes_(a.input,n,s,r),t.Xml.applyNextTagNodes_(a.next,n,s),l&&s.initSvg(),(n=e.getAttribute("inline"))&&s.setInputsInline("true"==n),(n=e.getAttribute("disabled"))&&s.setEnabled("true"!=n&&"disabled"!=n),(n=e.getAttribute("deletable"))&&s.setDeletable("true"==n),(n=e.getAttribute("movable"))&&s.setMovable("true"==n),(n=e.getAttribute("editable"))&&s.setEditable("true"==n),(n=e.getAttribute("collapsed"))&&s.setCollapsed("true"==n),"shadow"==e.nodeName.toLowerCase()){for(e=s.getChildren(!1),n=0;i=e[n];n++)if(!i.isShadow())throw TypeError("Shadow block not allowed non-shadow child.");if(s.getVarModels().length)throw TypeError("Shadow blocks cannot have variable references.");s.setShadow(!0)}return s},t.Xml.domToField_=function(t,e,n){var i=t.getField(e);i?i.fromXml(n):console.warn("Ignoring non-existent field "+e+" in block "+t.type)},t.Xml.deleteNext=function(t){for(var e,n=0;e=t.childNodes[n];n++)if("next"==e.nodeName.toLowerCase()){t.removeChild(e);break}},t.Events.BlockBase=function(e){t.Events.BlockBase.superClass_.constructor.call(this),this.blockId=(this.isBlank=void 0===e)?"":e.id,this.workspaceId=this.isBlank?"":e.workspace.id},t.utils.object.inherits(t.Events.BlockBase,t.Events.Abstract),t.Events.BlockBase.prototype.toJson=function(){var e=t.Events.BlockBase.superClass_.toJson.call(this);return e.blockId=this.blockId,e},t.Events.BlockBase.prototype.fromJson=function(e){t.Events.BlockBase.superClass_.fromJson.call(this,e),this.blockId=e.blockId},t.Events.Change=function(e,n,i,o,r){t.Events.Change.superClass_.constructor.call(this,e),e&&(this.element=void 0===n?"":n,this.name=void 0===i?"":i,this.oldValue=void 0===o?"":o,this.newValue=void 0===r?"":r)},t.utils.object.inherits(t.Events.Change,t.Events.BlockBase),t.Events.BlockChange=t.Events.Change,t.Events.Change.prototype.type=t.Events.CHANGE,t.Events.Change.prototype.toJson=function(){var e=t.Events.Change.superClass_.toJson.call(this);return e.element=this.element,this.name&&(e.name=this.name),e.oldValue=this.oldValue,e.newValue=this.newValue,e},t.Events.Change.prototype.fromJson=function(e){t.Events.Change.superClass_.fromJson.call(this,e),this.element=e.element,this.name=e.name,this.oldValue=e.oldValue,this.newValue=e.newValue},t.Events.Change.prototype.isNull=function(){return this.oldValue==this.newValue},t.Events.Change.prototype.run=function(e){var n=this.getEventWorkspace_().getBlockById(this.blockId);if(n)switch(n.mutator&&n.mutator.setVisible(!1),e=e?this.newValue:this.oldValue,this.element){case"field":(n=n.getField(this.name))?n.setValue(e):console.warn("Can't set non-existent field: "+this.name);break;case"comment":n.setCommentText(e||null);break;case"collapsed":n.setCollapsed(!!e);break;case"disabled":n.setEnabled(!e);break;case"inline":n.setInputsInline(!!e);break;case"mutation":var i="";if(n.mutationToDom&&(i=(i=n.mutationToDom())&&t.Xml.domToText(i)),n.domToMutation){var o=t.Xml.textToDom(e||"<mutation/>");n.domToMutation(o)}t.Events.fire(new(t.Events.get(t.Events.CHANGE))(n,"mutation",null,i,e));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.blockId)},t.Events.Create=function(e){t.Events.Create.superClass_.constructor.call(this,e),e&&(e.isShadow()&&(this.recordUndo=!1),this.xml=e.workspace.rendered?t.Xml.blockToDomWithXY(e):t.Xml.blockToDom(e),this.ids=t.Events.getDescendantIds(e))},t.utils.object.inherits(t.Events.Create,t.Events.BlockBase),t.Events.BlockCreate=t.Events.Create,t.Events.Create.prototype.type=t.Events.CREATE,t.Events.Create.prototype.toJson=function(){var e=t.Events.Create.superClass_.toJson.call(this);return e.xml=t.Xml.domToText(this.xml),e.ids=this.ids,this.recordUndo||(e.recordUndo=this.recordUndo),e},t.Events.Create.prototype.fromJson=function(e){t.Events.Create.superClass_.fromJson.call(this,e),this.xml=t.Xml.textToDom(e.xml),this.ids=e.ids,void 0!==e.recordUndo&&(this.recordUndo=e.recordUndo)},t.Events.Create.prototype.run=function(e){var n=this.getEventWorkspace_();if(e)(e=t.utils.xml.createElement("xml")).appendChild(this.xml),t.Xml.domToWorkspace(e,n);else{e=0;for(var i;i=this.ids[e];e++){var o=n.getBlockById(i);o?o.dispose(!1):i==this.blockId&&console.warn("Can't uncreate non-existent block: "+i)}}},t.Events.Delete=function(e){if(t.Events.Delete.superClass_.constructor.call(this,e),e){if(e.getParent())throw Error("Connected blocks cannot be deleted.");e.isShadow()&&(this.recordUndo=!1),this.oldXml=e.workspace.rendered?t.Xml.blockToDomWithXY(e):t.Xml.blockToDom(e),this.ids=t.Events.getDescendantIds(e)}},t.utils.object.inherits(t.Events.Delete,t.Events.BlockBase),t.Events.BlockDelete=t.Events.Delete,t.Events.Delete.prototype.type=t.Events.DELETE,t.Events.Delete.prototype.toJson=function(){var e=t.Events.Delete.superClass_.toJson.call(this);return e.oldXml=t.Xml.domToText(this.oldXml),e.ids=this.ids,this.recordUndo||(e.recordUndo=this.recordUndo),e},t.Events.Delete.prototype.fromJson=function(e){t.Events.Delete.superClass_.fromJson.call(this,e),this.oldXml=t.Xml.textToDom(e.oldXml),this.ids=e.ids,void 0!==e.recordUndo&&(this.recordUndo=e.recordUndo)},t.Events.Delete.prototype.run=function(e){var n=this.getEventWorkspace_();if(e){e=0;for(var i;i=this.ids[e];e++){var o=n.getBlockById(i);o?o.dispose(!1):i==this.blockId&&console.warn("Can't delete non-existent block: "+i)}}else(e=t.utils.xml.createElement("xml")).appendChild(this.oldXml),t.Xml.domToWorkspace(e,n)},t.Events.Move=function(e){t.Events.Move.superClass_.constructor.call(this,e),e&&(e.isShadow()&&(this.recordUndo=!1),e=this.currentLocation_(),this.oldParentId=e.parentId,this.oldInputName=e.inputName,this.oldCoordinate=e.coordinate)},t.utils.object.inherits(t.Events.Move,t.Events.BlockBase),t.Events.BlockMove=t.Events.Move,t.Events.Move.prototype.type=t.Events.MOVE,t.Events.Move.prototype.toJson=function(){var e=t.Events.Move.superClass_.toJson.call(this);return this.newParentId&&(e.newParentId=this.newParentId),this.newInputName&&(e.newInputName=this.newInputName),this.newCoordinate&&(e.newCoordinate=Math.round(this.newCoordinate.x)+","+Math.round(this.newCoordinate.y)),this.recordUndo||(e.recordUndo=this.recordUndo),e},t.Events.Move.prototype.fromJson=function(e){if(t.Events.Move.superClass_.fromJson.call(this,e),this.newParentId=e.newParentId,this.newInputName=e.newInputName,e.newCoordinate){var n=e.newCoordinate.split(",");this.newCoordinate=new t.utils.Coordinate(Number(n[0]),Number(n[1]))}void 0!==e.recordUndo&&(this.recordUndo=e.recordUndo)},t.Events.Move.prototype.recordNew=function(){var t=this.currentLocation_();this.newParentId=t.parentId,this.newInputName=t.inputName,this.newCoordinate=t.coordinate},t.Events.Move.prototype.currentLocation_=function(){var t=this.getEventWorkspace_().getBlockById(this.blockId),e={},n=t.getParent();return n?(e.parentId=n.id,(t=n.getInputWithBlock(t))&&(e.inputName=t.name)):e.coordinate=t.getRelativeToSurfaceXY(),e},t.Events.Move.prototype.isNull=function(){return this.oldParentId==this.newParentId&&this.oldInputName==this.newInputName&&t.utils.Coordinate.equals(this.oldCoordinate,this.newCoordinate)},t.Events.Move.prototype.run=function(e){var n=this.getEventWorkspace_(),i=n.getBlockById(this.blockId);if(i){var o=e?this.newParentId:this.oldParentId,r=e?this.newInputName:this.oldInputName,s=e?this.newCoordinate:this.oldCoordinate;if(e=null,o&&!(e=n.getBlockById(o)))return void console.warn("Can't connect to non-existent block: "+o);if(i.getParent()&&i.unplug(),s)r=i.getRelativeToSurfaceXY(),i.moveBy(s.x-r.x,s.y-r.y);else{if(n=(i=i.outputConnection||i.previousConnection).type,r){if(e=e.getInput(r))var a=e.connection}else n==t.connectionTypes.PREVIOUS_STATEMENT&&(a=e.nextConnection);a?i.connect(a):console.warn("Can't connect to non-existent input: "+r)}}else console.warn("Can't move non-existent block: "+this.blockId)},t.registry.register(t.registry.Type.EVENT,t.Events.CREATE,t.Events.Create),t.registry.register(t.registry.Type.EVENT,t.Events.DELETE,t.Events.Delete),t.registry.register(t.registry.Type.EVENT,t.Events.CHANGE,t.Events.Change),t.registry.register(t.registry.Type.EVENT,t.Events.MOVE,t.Events.Move),t.Events.FinishedLoading=function(e){this.isBlank=void 0===e,this.workspaceId=e?e.id:"",this.group=t.Events.getGroup(),this.recordUndo=!1},t.utils.object.inherits(t.Events.FinishedLoading,t.Events.Abstract),t.Events.FinishedLoading.prototype.type=t.Events.FINISHED_LOADING,t.Events.FinishedLoading.prototype.toJson=function(){var t={type:this.type};return this.group&&(t.group=this.group),this.workspaceId&&(t.workspaceId=this.workspaceId),t},t.Events.FinishedLoading.prototype.fromJson=function(t){this.isBlank=!1,this.workspaceId=t.workspaceId,this.group=t.group},t.registry.register(t.registry.Type.EVENT,t.Events.FINISHED_LOADING,t.Events.FinishedLoading),t.Events.UiBase=function(e){t.Events.UiBase.superClass_.constructor.call(this),this.isBlank=void 0===e,this.workspaceId=e||"",this.recordUndo=!1},t.utils.object.inherits(t.Events.UiBase,t.Events.Abstract),t.Events.UiBase.prototype.isUiEvent=!0,t.Events.Ui=function(e,n,i,o){t.Events.Ui.superClass_.constructor.call(this,e?e.workspace.id:void 0),this.blockId=e?e.id:null,this.element=void 0===n?"":n,this.oldValue=void 0===i?"":i,this.newValue=void 0===o?"":o},t.utils.object.inherits(t.Events.Ui,t.Events.UiBase),t.Events.Ui.prototype.type=t.Events.UI,t.Events.Ui.prototype.toJson=function(){var e=t.Events.Ui.superClass_.toJson.call(this);return e.element=this.element,void 0!==this.newValue&&(e.newValue=this.newValue),this.blockId&&(e.blockId=this.blockId),e},t.Events.Ui.prototype.fromJson=function(e){t.Events.Ui.superClass_.fromJson.call(this,e),this.element=e.element,this.newValue=e.newValue,this.blockId=e.blockId},t.registry.register(t.registry.Type.EVENT,t.Events.UI,t.Events.Ui),t.Events.VarBase=function(e){t.Events.VarBase.superClass_.constructor.call(this),this.varId=(this.isBlank=void 0===e)?"":e.getId(),this.workspaceId=this.isBlank?"":e.workspace.id},t.utils.object.inherits(t.Events.VarBase,t.Events.Abstract),t.Events.VarBase.prototype.toJson=function(){var e=t.Events.VarBase.superClass_.toJson.call(this);return e.varId=this.varId,e},t.Events.VarBase.prototype.fromJson=function(e){t.Events.VarBase.superClass_.toJson.call(this),this.varId=e.varId},t.Events.VarCreate=function(e){t.Events.VarCreate.superClass_.constructor.call(this,e),e&&(this.varType=e.type,this.varName=e.name)},t.utils.object.inherits(t.Events.VarCreate,t.Events.VarBase),t.Events.VarCreate.prototype.type=t.Events.VAR_CREATE,t.Events.VarCreate.prototype.toJson=function(){var e=t.Events.VarCreate.superClass_.toJson.call(this);return e.varType=this.varType,e.varName=this.varName,e},t.Events.VarCreate.prototype.fromJson=function(e){t.Events.VarCreate.superClass_.fromJson.call(this,e),this.varType=e.varType,this.varName=e.varName},t.Events.VarCreate.prototype.run=function(t){var e=this.getEventWorkspace_();t?e.createVariable(this.varName,this.varType,this.varId):e.deleteVariableById(this.varId)},t.Events.VarDelete=function(e){t.Events.VarDelete.superClass_.constructor.call(this,e),e&&(this.varType=e.type,this.varName=e.name)},t.utils.object.inherits(t.Events.VarDelete,t.Events.VarBase),t.Events.VarDelete.prototype.type=t.Events.VAR_DELETE,t.Events.VarDelete.prototype.toJson=function(){var e=t.Events.VarDelete.superClass_.toJson.call(this);return e.varType=this.varType,e.varName=this.varName,e},t.Events.VarDelete.prototype.fromJson=function(e){t.Events.VarDelete.superClass_.fromJson.call(this,e),this.varType=e.varType,this.varName=e.varName},t.Events.VarDelete.prototype.run=function(t){var e=this.getEventWorkspace_();t?e.deleteVariableById(this.varId):e.createVariable(this.varName,this.varType,this.varId)},t.Events.VarRename=function(e,n){t.Events.VarRename.superClass_.constructor.call(this,e),e&&(this.oldName=e.name,this.newName=void 0===n?"":n)},t.utils.object.inherits(t.Events.VarRename,t.Events.VarBase),t.Events.VarRename.prototype.type=t.Events.VAR_RENAME,t.Events.VarRename.prototype.toJson=function(){var e=t.Events.VarRename.superClass_.toJson.call(this);return e.oldName=this.oldName,e.newName=this.newName,e},t.Events.VarRename.prototype.fromJson=function(e){t.Events.VarRename.superClass_.fromJson.call(this,e),this.oldName=e.oldName,this.newName=e.newName},t.Events.VarRename.prototype.run=function(t){this.getEventWorkspace_().renameVariableById(this.varId,t?this.newName:this.oldName)},t.registry.register(t.registry.Type.EVENT,t.Events.VAR_CREATE,t.Events.VarCreate),t.registry.register(t.registry.Type.EVENT,t.Events.VAR_DELETE,t.Events.VarDelete),t.registry.register(t.registry.Type.EVENT,t.Events.VAR_RENAME,t.Events.VarRename),t.BlockDragSurfaceSvg=function(t){this.container_=t,this.createDom()},t.BlockDragSurfaceSvg.prototype.SVG_=null,t.BlockDragSurfaceSvg.prototype.dragGroup_=null,t.BlockDragSurfaceSvg.prototype.container_=null,t.BlockDragSurfaceSvg.prototype.scale_=1,t.BlockDragSurfaceSvg.prototype.surfaceXY_=null,t.BlockDragSurfaceSvg.prototype.createDom=function(){this.SVG_||(this.SVG_=t.utils.dom.createSvgElement(t.utils.Svg.SVG,{xmlns:t.utils.dom.SVG_NS,"xmlns:html":t.utils.dom.HTML_NS,"xmlns:xlink":t.utils.dom.XLINK_NS,version:"1.1",class:"blocklyBlockDragSurface"},this.container_),this.dragGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{},this.SVG_))},t.BlockDragSurfaceSvg.prototype.setBlocksAndShow=function(e){if(this.dragGroup_.childNodes.length)throw Error("Already dragging a block.");this.dragGroup_.appendChild(e),this.SVG_.style.display="block",this.surfaceXY_=new t.utils.Coordinate(0,0)},t.BlockDragSurfaceSvg.prototype.translateAndScaleGroup=function(t,e,n){this.scale_=n,t=t.toFixed(0),e=e.toFixed(0),this.dragGroup_.setAttribute("transform","translate("+t+","+e+") scale("+n+")")},t.BlockDragSurfaceSvg.prototype.translateSurfaceInternal_=function(){var e=this.surfaceXY_.x,n=this.surfaceXY_.y;e=e.toFixed(0),n=n.toFixed(0),this.SVG_.style.display="block",t.utils.dom.setCssTransform(this.SVG_,"translate3d("+e+"px, "+n+"px, 0px)")},t.BlockDragSurfaceSvg.prototype.translateSurface=function(e,n){this.surfaceXY_=new t.utils.Coordinate(e*this.scale_,n*this.scale_),this.translateSurfaceInternal_()},t.BlockDragSurfaceSvg.prototype.getSurfaceTranslation=function(){var e=t.utils.getRelativeXY(this.SVG_);return new t.utils.Coordinate(e.x/this.scale_,e.y/this.scale_)},t.BlockDragSurfaceSvg.prototype.getGroup=function(){return this.dragGroup_},t.BlockDragSurfaceSvg.prototype.getCurrentBlock=function(){return this.dragGroup_.firstChild},t.BlockDragSurfaceSvg.prototype.clearAndHide=function(t){if(t?t.appendChild(this.getCurrentBlock()):this.dragGroup_.removeChild(this.getCurrentBlock()),this.SVG_.style.display="none",this.dragGroup_.childNodes.length)throw Error("Drag group was not cleared.");this.surfaceXY_=null},t.Css={},t.Css.injected_=!1,t.Css.register=function(e){if(t.Css.injected_)throw Error("CSS already injected");Array.prototype.push.apply(t.Css.CONTENT,e),e.length=0},t.Css.inject=function(e,n){if(!t.Css.injected_){t.Css.injected_=!0;var i=t.Css.CONTENT.join("\n");t.Css.CONTENT.length=0,e&&(e=n.replace(/[\\/]$/,""),i=i.replace(/<<<PATH>>>/g,e),(e=document.createElement("style")).id="blockly-common-style",i=document.createTextNode(i),e.appendChild(i),document.head.insertBefore(e,document.head.firstChild))}},t.Css.CONTENT=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none;","}",".blocklyNonSelectable {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);","color: #000;","display: none;","font: 9pt sans-serif;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: absolute;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-color: #dadce0;","background-color: #fff;","border-radius: 2px;","padding: 4px;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownContent {","max-height: 300px;","overflow: auto;","overflow-x: hidden;","position: relative;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;","width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".blocklyArrowTop {","border-top: 1px solid;","border-left: 1px solid;","border-top-left-radius: 4px;","border-color: inherit;","}",".blocklyArrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;","border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;","}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;","}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none;","}",".blocklyMultilineText {","font-family: monospace;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklyText text {","cursor: default;","}",".blocklySvg text,",".blocklyBlockDragSurface text {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {","margin: 0;","padding: 0;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","display: block;","box-sizing: border-box;","}",".blocklyHtmlInput::-ms-clear {","display: none;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;","}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal,",".blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyVerticalMarker {","stroke-width: 3px;","fill: rgba(255,255,255,.5);","pointer-events: none;","}",".blocklyComputeCanvas {","position: absolute;","width: 0;","height: 0;","}",".blocklyNoPointerEvents {","pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","border-radius: 2px;","padding: 0 !important;","}",".blocklyDropdownMenu .blocklyMenuItem {","padding-left: 28px;","}",".blocklyDropdownMenu .blocklyMenuItemRtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyWidgetDiv .blocklyMenu {","background: #fff;","border: 1px solid transparent;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyWidgetDiv .blocklyMenu.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv .blocklyMenu {","background: inherit;","border: inherit;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","position: relative;","z-index: 20000;","}",".blocklyMenuItem {","border: none;","color: #000;","cursor: pointer;","list-style: none;","margin: 0;","min-width: 7em;","padding: 6px 15px;","white-space: nowrap;","}",".blocklyMenuItemDisabled {","color: #ccc;","cursor: inherit;","}",".blocklyMenuItemHighlight {","background-color: rgba(0,0,0,.1);","}",".blocklyMenuItemCheckbox {","height: 16px;","position: absolute;","width: 16px;","}",".blocklyMenuItemSelected .blocklyMenuItemCheckbox {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","float: left;","margin-left: -24px;","position: static;","}",".blocklyMenuItemRtl .blocklyMenuItemCheckbox {","float: right;","margin-right: -24px;","}"],t.utils.math={},t.utils.math.toRadians=function(t){return t*Math.PI/180},t.utils.math.toDegrees=function(t){return 180*t/Math.PI},t.utils.math.clamp=function(t,e,n){if(n<t){var i=n;n=t,t=i}return Math.max(t,Math.min(e,n))},t.DropDownDiv=function(){},t.DropDownDiv.boundsElement_=null,t.DropDownDiv.owner_=null,t.DropDownDiv.positionToField_=null,t.DropDownDiv.ARROW_SIZE=16,t.DropDownDiv.BORDER_SIZE=1,t.DropDownDiv.ARROW_HORIZONTAL_PADDING=12,t.DropDownDiv.PADDING_Y=16,t.DropDownDiv.ANIMATION_TIME=.25,t.DropDownDiv.animateOutTimer_=null,t.DropDownDiv.onHide_=null,t.DropDownDiv.rendererClassName_="",t.DropDownDiv.themeClassName_="",t.DropDownDiv.createDom=function(){if(!t.DropDownDiv.DIV_){var e=document.createElement("div");e.className="blocklyDropDownDiv",(t.parentContainer||document.body).appendChild(e),t.DropDownDiv.DIV_=e;var n=document.createElement("div");n.className="blocklyDropDownContent",e.appendChild(n),t.DropDownDiv.content_=n,(n=document.createElement("div")).className="blocklyDropDownArrow",e.appendChild(n),t.DropDownDiv.arrow_=n,t.DropDownDiv.DIV_.style.opacity=0,t.DropDownDiv.DIV_.style.transition="transform "+t.DropDownDiv.ANIMATION_TIME+"s, opacity "+t.DropDownDiv.ANIMATION_TIME+"s",e.addEventListener("focusin",function(){t.utils.dom.addClass(e,"blocklyFocused")}),e.addEventListener("focusout",function(){t.utils.dom.removeClass(e,"blocklyFocused")})}},t.DropDownDiv.setBoundsElement=function(e){t.DropDownDiv.boundsElement_=e},t.DropDownDiv.getContentDiv=function(){return t.DropDownDiv.content_},t.DropDownDiv.clearContent=function(){t.DropDownDiv.content_.textContent="",t.DropDownDiv.content_.style.width=""},t.DropDownDiv.setColour=function(e,n){t.DropDownDiv.DIV_.style.backgroundColor=e,t.DropDownDiv.DIV_.style.borderColor=n},t.DropDownDiv.showPositionedByBlock=function(e,n,i,o){return t.DropDownDiv.showPositionedByRect_(t.DropDownDiv.getScaledBboxOfBlock_(n),e,i,o)},t.DropDownDiv.showPositionedByField=function(e,n,i){return t.DropDownDiv.positionToField_=!0,t.DropDownDiv.showPositionedByRect_(t.DropDownDiv.getScaledBboxOfField_(e),e,n,i)},t.DropDownDiv.getScaledBboxOfBlock_=function(e){var n=e.getSvgRoot(),i=n.getBBox(),o=e.workspace.scale;return e=i.height*o,i=i.width*o,n=t.utils.style.getPageOffset(n),new t.utils.Rect(n.y,n.y+e,n.x,n.x+i)},t.DropDownDiv.getScaledBboxOfField_=function(e){return e=e.getScaledBBox(),new t.utils.Rect(e.top,e.bottom,e.left,e.right)},t.DropDownDiv.showPositionedByRect_=function(e,n,i,o){var r=e.left+(e.right-e.left)/2,s=e.bottom;e=e.top,o&&(e+=o);for(var a=(o=n.getSourceBlock()).workspace;a.options.parentWorkspace;)a=a.options.parentWorkspace;return t.DropDownDiv.setBoundsElement(a.getParentSvg().parentNode),t.DropDownDiv.show(n,o.RTL,r,s,r,e,i)},t.DropDownDiv.show=function(e,n,i,o,r,s,a){return t.DropDownDiv.owner_=e,t.DropDownDiv.onHide_=a||null,(e=t.DropDownDiv.DIV_).style.direction=n?"rtl":"ltr",n=t.getMainWorkspace(),t.DropDownDiv.rendererClassName_=n.getRenderer().getClassName(),t.DropDownDiv.themeClassName_=n.getTheme().getClassName(),t.utils.dom.addClass(e,t.DropDownDiv.rendererClassName_),t.utils.dom.addClass(e,t.DropDownDiv.themeClassName_),t.DropDownDiv.positionInternal_(i,o,r,s)},t.DropDownDiv.getBoundsInfo_=function(){var e=t.utils.style.getPageOffset(t.DropDownDiv.boundsElement_),n=t.utils.style.getSize(t.DropDownDiv.boundsElement_);return{left:e.x,right:e.x+n.width,top:e.y,bottom:e.y+n.height,width:n.width,height:n.height}},t.DropDownDiv.getPositionMetrics_=function(e,n,i,o){var r=t.DropDownDiv.getBoundsInfo_(),s=t.utils.style.getSize(t.DropDownDiv.DIV_);return n+s.height<r.bottom?t.DropDownDiv.getPositionBelowMetrics_(e,n,r,s):o-s.height>r.top?t.DropDownDiv.getPositionAboveMetrics_(i,o,r,s):n+s.height<document.documentElement.clientHeight?t.DropDownDiv.getPositionBelowMetrics_(e,n,r,s):o-s.height>document.documentElement.clientTop?t.DropDownDiv.getPositionAboveMetrics_(i,o,r,s):t.DropDownDiv.getPositionTopOfPageMetrics_(e,r,s)},t.DropDownDiv.getPositionBelowMetrics_=function(e,n,i,o){return{initialX:(e=t.DropDownDiv.getPositionX(e,i.left,i.right,o.width)).divX,initialY:n,finalX:e.divX,finalY:n+t.DropDownDiv.PADDING_Y,arrowX:e.arrowX,arrowY:-(t.DropDownDiv.ARROW_SIZE/2+t.DropDownDiv.BORDER_SIZE),arrowAtTop:!0,arrowVisible:!0}},t.DropDownDiv.getPositionAboveMetrics_=function(e,n,i,o){return{initialX:(e=t.DropDownDiv.getPositionX(e,i.left,i.right,o.width)).divX,initialY:n-o.height,finalX:e.divX,finalY:n-o.height-t.DropDownDiv.PADDING_Y,arrowX:e.arrowX,arrowY:o.height-2*t.DropDownDiv.BORDER_SIZE-t.DropDownDiv.ARROW_SIZE/2,arrowAtTop:!1,arrowVisible:!0}},t.DropDownDiv.getPositionTopOfPageMetrics_=function(e,n,i){return{initialX:(e=t.DropDownDiv.getPositionX(e,n.left,n.right,i.width)).divX,initialY:0,finalX:e.divX,finalY:0,arrowAtTop:null,arrowX:null,arrowY:null,arrowVisible:!1}},t.DropDownDiv.getPositionX=function(e,n,i,o){var r=e;return e=t.utils.math.clamp(n,e-o/2,i-o),{arrowX:o=t.utils.math.clamp(n=t.DropDownDiv.ARROW_HORIZONTAL_PADDING,(r-=t.DropDownDiv.ARROW_SIZE/2)-e,o-n-t.DropDownDiv.ARROW_SIZE),divX:e}},t.DropDownDiv.isVisible=function(){return!!t.DropDownDiv.owner_},t.DropDownDiv.hideIfOwner=function(e,n){return t.DropDownDiv.owner_===e&&(n?t.DropDownDiv.hideWithoutAnimation():t.DropDownDiv.hide(),!0)},t.DropDownDiv.hide=function(){var e=t.DropDownDiv.DIV_;e.style.transform="translate(0, 0)",e.style.opacity=0,t.DropDownDiv.animateOutTimer_=setTimeout(function(){t.DropDownDiv.hideWithoutAnimation()},1e3*t.DropDownDiv.ANIMATION_TIME),t.DropDownDiv.onHide_&&(t.DropDownDiv.onHide_(),t.DropDownDiv.onHide_=null)},t.DropDownDiv.hideWithoutAnimation=function(){if(t.DropDownDiv.isVisible()){t.DropDownDiv.animateOutTimer_&&clearTimeout(t.DropDownDiv.animateOutTimer_);var e=t.DropDownDiv.DIV_;e.style.transform="",e.style.left="",e.style.top="",e.style.opacity=0,e.style.display="none",e.style.backgroundColor="",e.style.borderColor="",t.DropDownDiv.onHide_&&(t.DropDownDiv.onHide_(),t.DropDownDiv.onHide_=null),t.DropDownDiv.clearContent(),t.DropDownDiv.owner_=null,t.DropDownDiv.rendererClassName_&&(t.utils.dom.removeClass(e,t.DropDownDiv.rendererClassName_),t.DropDownDiv.rendererClassName_=""),t.DropDownDiv.themeClassName_&&(t.utils.dom.removeClass(e,t.DropDownDiv.themeClassName_),t.DropDownDiv.themeClassName_=""),t.getMainWorkspace().markFocused()}},t.DropDownDiv.positionInternal_=function(e,n,i,o){(e=t.DropDownDiv.getPositionMetrics_(e,n,i,o)).arrowVisible?(t.DropDownDiv.arrow_.style.display="",t.DropDownDiv.arrow_.style.transform="translate("+e.arrowX+"px,"+e.arrowY+"px) rotate(45deg)",t.DropDownDiv.arrow_.setAttribute("class",e.arrowAtTop?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):t.DropDownDiv.arrow_.style.display="none",n=Math.floor(e.initialX),i=Math.floor(e.initialY),o=Math.floor(e.finalX);var r=Math.floor(e.finalY),s=t.DropDownDiv.DIV_;return s.style.left=n+"px",s.style.top=i+"px",s.style.display="block",s.style.opacity=1,s.style.transform="translate("+(o-n)+"px,"+(r-i)+"px)",!!e.arrowAtTop},t.DropDownDiv.repositionForWindowResize=function(){if(t.DropDownDiv.owner_){var e=t.DropDownDiv.owner_,n=e.getSourceBlock();e=t.DropDownDiv.positionToField_?t.DropDownDiv.getScaledBboxOfField_(e):t.DropDownDiv.getScaledBboxOfBlock_(n),t.DropDownDiv.positionInternal_(n=e.left+(e.right-e.left)/2,e.bottom,n,e.top)}else t.DropDownDiv.hide()},t.Grid=function(t,e){this.gridPattern_=t,this.spacing_=e.spacing,this.length_=e.length,this.line2_=(this.line1_=t.firstChild)&&this.line1_.nextSibling,this.snapToGrid_=e.snap},t.Grid.prototype.scale_=1,t.Grid.prototype.dispose=function(){this.gridPattern_=null},t.Grid.prototype.shouldSnap=function(){return this.snapToGrid_},t.Grid.prototype.getSpacing=function(){return this.spacing_},t.Grid.prototype.getPatternId=function(){return this.gridPattern_.id},t.Grid.prototype.update=function(t){this.scale_=t;var e=this.spacing_*t||100;this.gridPattern_.setAttribute("width",e),this.gridPattern_.setAttribute("height",e);var n=(e=Math.floor(this.spacing_/2)+.5)-this.length_/2,i=e+this.length_/2;this.setLineAttributes_(this.line1_,t,n*=t,i*=t,e*=t,e),this.setLineAttributes_(this.line2_,t,e,e,n,i)},t.Grid.prototype.setLineAttributes_=function(t,e,n,i,o,r){t&&(t.setAttribute("stroke-width",e),t.setAttribute("x1",n),t.setAttribute("y1",o),t.setAttribute("x2",i),t.setAttribute("y2",r))},t.Grid.prototype.moveTo=function(e,n){this.gridPattern_.setAttribute("x",e),this.gridPattern_.setAttribute("y",n),(t.utils.userAgent.IE||t.utils.userAgent.EDGE)&&this.update(this.scale_)},t.Grid.createDom=function(e,n,i){return e=t.utils.dom.createSvgElement(t.utils.Svg.PATTERN,{id:"blocklyGridPattern"+e,patternUnits:"userSpaceOnUse"},i),0<n.length&&0<n.spacing?(t.utils.dom.createSvgElement(t.utils.Svg.LINE,{stroke:n.colour},e),1<n.length&&t.utils.dom.createSvgElement(t.utils.Svg.LINE,{stroke:n.colour},e)):t.utils.dom.createSvgElement(t.utils.Svg.LINE,{},e),e},t.Theme=function(e,n,i,o){this.name=e,this.blockStyles=n||Object.create(null),this.categoryStyles=i||Object.create(null),this.componentStyles=o||Object.create(null),this.fontStyle=Object.create(null),this.startHats=null,t.registry.register(t.registry.Type.THEME,e,this)},t.Theme.prototype.getClassName=function(){return this.name+"-theme"},t.Theme.prototype.setBlockStyle=function(t,e){this.blockStyles[t]=e},t.Theme.prototype.setCategoryStyle=function(t,e){this.categoryStyles[t]=e},t.Theme.prototype.getComponentStyle=function(t){return(t=this.componentStyles[t])&&"string"==typeof t&&this.getComponentStyle(t)?this.getComponentStyle(t):t?String(t):null},t.Theme.prototype.setComponentStyle=function(t,e){this.componentStyles[t]=e},t.Theme.prototype.setFontStyle=function(t){this.fontStyle=t},t.Theme.prototype.setStartHats=function(t){this.startHats=t},t.Theme.defineTheme=function(e,n){var i=new t.Theme(e),o=n.base;return o&&("string"==typeof o&&(o=t.registry.getObject(t.registry.Type.THEME,o)),o instanceof t.Theme&&(t.utils.object.deepMerge(i,o),i.name=e)),t.utils.object.deepMerge(i.blockStyles,n.blockStyles),t.utils.object.deepMerge(i.categoryStyles,n.categoryStyles),t.utils.object.deepMerge(i.componentStyles,n.componentStyles),t.utils.object.deepMerge(i.fontStyle,n.fontStyle),null!=n.startHats&&(i.startHats=n.startHats),i},t.Themes={},t.Themes.Classic={},t.Themes.Classic.defaultBlockStyles={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}},t.Themes.Classic.categoryStyles={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}},t.Themes.Classic=new t.Theme("classic",t.Themes.Classic.defaultBlockStyles,t.Themes.Classic.categoryStyles),t.utils.IdGenerator={},t.utils.IdGenerator.nextId_=0,t.utils.IdGenerator.getNextUniqueId=function(){return"blockly-"+(t.utils.IdGenerator.nextId_++).toString(36)},t.utils.Metrics=function(){},t.utils.toolbox={},t.utils.toolbox.CATEGORY_TOOLBOX_KIND="categoryToolbox",t.utils.toolbox.FLYOUT_TOOLBOX_KIND="flyoutToolbox",t.utils.toolbox.Position={TOP:0,BOTTOM:1,LEFT:2,RIGHT:3},t.utils.toolbox.convertToolboxDefToJson=function(e){return e?((e instanceof Element||"string"==typeof e)&&(e=t.utils.toolbox.parseToolboxTree(e),e=t.utils.toolbox.convertToToolboxJson_(e)),t.utils.toolbox.validateToolbox_(e),e):null},t.utils.toolbox.validateToolbox_=function(e){var n=e.kind;if(e=e.contents,n&&n!=t.utils.toolbox.FLYOUT_TOOLBOX_KIND&&n!=t.utils.toolbox.CATEGORY_TOOLBOX_KIND)throw Error("Invalid toolbox kind "+n+". Please supply either "+t.utils.toolbox.FLYOUT_TOOLBOX_KIND+" or "+t.utils.toolbox.CATEGORY_TOOLBOX_KIND);if(!e)throw Error("Toolbox must have a contents attribute.")},t.utils.toolbox.convertFlyoutDefToJsonArray=function(e){return e?e.contents?e.contents:Array.isArray(e)&&0<e.length&&!e[0].nodeType?e:t.utils.toolbox.xmlToJsonArray_(e):[]},t.utils.toolbox.hasCategories=function(e){if(!e)return!1;var n=e.kind;return n?n==t.utils.toolbox.CATEGORY_TOOLBOX_KIND:!!e.contents.filter(function(t){return"CATEGORY"==t.kind.toUpperCase()}).length},t.utils.toolbox.isCategoryCollapsible=function(t){return!(!t||!t.contents||!t.contents.filter(function(t){return"CATEGORY"==t.kind.toUpperCase()}).length)},t.utils.toolbox.convertToToolboxJson_=function(e){var n={contents:t.utils.toolbox.xmlToJsonArray_(e)};return e instanceof Node&&t.utils.toolbox.addAttributes_(e,n),n},t.utils.toolbox.xmlToJsonArray_=function(e){var n,i=[],o=e.childNodes;for(o||(o=e),e=0;n=o[e];e++)if(n.tagName){var r={},s=n.tagName.toUpperCase();r.kind=s,"BLOCK"==s?r.blockxml=n:n.childNodes&&0<n.childNodes.length&&(r.contents=t.utils.toolbox.xmlToJsonArray_(n)),t.utils.toolbox.addAttributes_(n,r),i.push(r)}return i},t.utils.toolbox.addAttributes_=function(t,e){for(var n=0;n<t.attributes.length;n++){var i=t.attributes[n];-1<i.nodeName.indexOf("css-")?(e.cssconfig=e.cssconfig||{},e.cssconfig[i.nodeName.replace("css-","")]=i.value):e[i.nodeName]=i.value}},t.utils.toolbox.parseToolboxTree=function(e){if(e){if("string"!=typeof e&&(t.utils.userAgent.IE&&e.outerHTML?e=e.outerHTML:e instanceof Element||(e=null)),"string"==typeof e&&"xml"!=(e=t.Xml.textToDom(e)).nodeName.toLowerCase())throw TypeError("Toolbox should be an <xml> document.")}else e=null;return e},t.Options=function(e){var n=!!e.readOnly;if(n)var i=null,o=!1,r=!1,s=!1,a=!1,l=!1,c=!1;else{i=t.utils.toolbox.convertToolboxDefToJson(e.toolbox),o=t.utils.toolbox.hasCategories(i),void 0===(r=e.trashcan)&&(r=o);var u=e.maxTrashcanContents;r?void 0===u&&(u=32):u=0,void 0===(s=e.collapse)&&(s=o),void 0===(a=e.comments)&&(a=o),void 0===(l=e.disable)&&(l=o),void 0===(c=e.sounds)&&(c=!0)}var h=!!e.rtl,d=e.horizontalLayout;void 0===d&&(d=!1);var p=e.toolboxPosition;p="end"!==p,p=d?p?t.utils.toolbox.Position.TOP:t.utils.toolbox.Position.BOTTOM:p==h?t.utils.toolbox.Position.RIGHT:t.utils.toolbox.Position.LEFT;var g=e.css;void 0===g&&(g=!0);var m="https://blockly-demo.appspot.com/static/media/";e.media?m=e.media:e.path&&(m=e.path+"media/");var f=void 0===e.oneBasedIndex||!!e.oneBasedIndex,_=e.renderer||"geras",b=e.plugins||{};this.RTL=h,this.oneBasedIndex=f,this.collapse=s,this.comments=a,this.disable=l,this.readOnly=n,this.maxBlocks=e.maxBlocks||1/0,this.maxInstances=e.maxInstances,this.pathToMedia=m,this.hasCategories=o,this.moveOptions=t.Options.parseMoveOptions_(e,o),this.hasScrollbars=!!this.moveOptions.scrollbars,this.hasTrashcan=r,this.maxTrashcanContents=u,this.hasSounds=c,this.hasCss=g,this.horizontalLayout=d,this.languageTree=i,this.gridOptions=t.Options.parseGridOptions_(e),this.zoomOptions=t.Options.parseZoomOptions_(e),this.toolboxPosition=p,this.theme=t.Options.parseThemeOptions_(e),this.renderer=_,this.rendererOverrides=e.rendererOverrides,this.gridPattern=null,this.parentWorkspace=e.parentWorkspace,this.plugins=b},t.BlocklyOptions=function(){},t.Options.parseMoveOptions_=function(t,e){var n=t.move||{},i={};return void 0===n.scrollbars&&void 0===t.scrollbars?i.scrollbars=e:"object"==typeof n.scrollbars?(i.scrollbars={},i.scrollbars.horizontal=!!n.scrollbars.horizontal,i.scrollbars.vertical=!!n.scrollbars.vertical,i.scrollbars.horizontal&&i.scrollbars.vertical?i.scrollbars=!0:i.scrollbars.horizontal||i.scrollbars.vertical||(i.scrollbars=!1)):i.scrollbars=!!n.scrollbars||!!t.scrollbars,i.wheel=i.scrollbars&&void 0!==n.wheel?!!n.wheel:"object"==typeof i.scrollbars,i.drag=!(!i.scrollbars||void 0!==n.drag&&!n.drag),i},t.Options.parseZoomOptions_=function(t){var e={};return e.controls=void 0!==(t=t.zoom||{}).controls&&!!t.controls,e.wheel=void 0!==t.wheel&&!!t.wheel,e.startScale=void 0===t.startScale?1:Number(t.startScale),e.maxScale=void 0===t.maxScale?3:Number(t.maxScale),e.minScale=void 0===t.minScale?.3:Number(t.minScale),e.scaleSpeed=void 0===t.scaleSpeed?1.2:Number(t.scaleSpeed),e.pinch=void 0===t.pinch?e.wheel||e.controls:!!t.pinch,e},t.Options.parseGridOptions_=function(t){t=t.grid||{};var e={};return e.spacing=Number(t.spacing)||0,e.colour=t.colour||"#888",e.length=void 0===t.length?1:Number(t.length),e.snap=0<e.spacing&&!!t.snap,e},t.Options.parseThemeOptions_=function(e){return"string"==typeof(e=e.theme||t.Themes.Classic)?t.registry.getObject(t.registry.Type.THEME,e):e instanceof t.Theme?e:t.Theme.defineTheme(e.name||"builtin"+t.utils.IdGenerator.getNextUniqueId(),e)},t.Options.parseToolboxTree=function(e){return t.utils.deprecation.warn("Blockly.Options.parseToolboxTree","September 2020","September 2021","Blockly.utils.toolbox.parseToolboxTree"),t.utils.toolbox.parseToolboxTree(e)},t.ScrollbarPair=function(e,n,i,o){this.workspace_=e,i=void 0===i||i;var r=(n=void 0===n||n)&&i;n&&(this.hScroll=new t.Scrollbar(e,!0,r,o)),i&&(this.vScroll=new t.Scrollbar(e,!1,r,o)),r&&(this.corner_=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{height:t.Scrollbar.scrollbarThickness,width:t.Scrollbar.scrollbarThickness,class:"blocklyScrollbarBackground"},null),t.utils.dom.insertAfter(this.corner_,e.getBubbleCanvas())),this.oldHostMetrics_=null},t.ScrollbarPair.prototype.dispose=function(){t.utils.dom.removeNode(this.corner_),this.oldHostMetrics_=this.workspace_=this.corner_=null,this.hScroll&&(this.hScroll.dispose(),this.hScroll=null),this.vScroll&&(this.vScroll.dispose(),this.vScroll=null)},t.ScrollbarPair.prototype.resize=function(){var e=this.workspace_.getMetrics();if(e){var n=!1,i=!1;if(this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth==e.viewWidth&&this.oldHostMetrics_.viewHeight==e.viewHeight&&this.oldHostMetrics_.absoluteTop==e.absoluteTop&&this.oldHostMetrics_.absoluteLeft==e.absoluteLeft?(this.oldHostMetrics_&&this.oldHostMetrics_.scrollWidth==e.scrollWidth&&this.oldHostMetrics_.viewLeft==e.viewLeft&&this.oldHostMetrics_.scrollLeft==e.scrollLeft||(n=!0),this.oldHostMetrics_&&this.oldHostMetrics_.scrollHeight==e.scrollHeight&&this.oldHostMetrics_.viewTop==e.viewTop&&this.oldHostMetrics_.scrollTop==e.scrollTop||(i=!0)):i=n=!0,n||i){try{t.Events.disable(),this.hScroll&&n&&this.hScroll.resize(e),this.vScroll&&i&&this.vScroll.resize(e)}finally{t.Events.enable()}this.workspace_.maybeFireViewportChangeEvent()}this.hScroll&&this.vScroll&&(this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth==e.viewWidth&&this.oldHostMetrics_.absoluteLeft==e.absoluteLeft||this.corner_.setAttribute("x",this.vScroll.position.x),this.oldHostMetrics_&&this.oldHostMetrics_.viewHeight==e.viewHeight&&this.oldHostMetrics_.absoluteTop==e.absoluteTop||this.corner_.setAttribute("y",this.hScroll.position.y)),this.oldHostMetrics_=e}},t.ScrollbarPair.prototype.canScrollHorizontally=function(){return!!this.hScroll},t.ScrollbarPair.prototype.canScrollVertically=function(){return!!this.vScroll},t.ScrollbarPair.prototype.setOrigin=function(t,e){this.hScroll&&this.hScroll.setOrigin(t,e),this.vScroll&&this.vScroll.setOrigin(t,e)},t.ScrollbarPair.prototype.set=function(t,e,n){this.hScroll&&this.hScroll.set(t,!1),this.vScroll&&this.vScroll.set(e,!1),(n||void 0===n)&&(t={},this.hScroll&&(t.x=this.hScroll.getRatio_()),this.vScroll&&(t.y=this.vScroll.getRatio_()),this.workspace_.setMetrics(t))},t.ScrollbarPair.prototype.setX=function(t){this.hScroll&&this.hScroll.set(t,!0)},t.ScrollbarPair.prototype.setY=function(t){this.vScroll&&this.vScroll.set(t,!0)},t.ScrollbarPair.prototype.setContainerVisible=function(t){this.hScroll&&this.hScroll.setContainerVisible(t),this.vScroll&&this.vScroll.setContainerVisible(t)},t.ScrollbarPair.prototype.isVisible=function(){var t=!1;return this.hScroll&&(t=this.hScroll.isVisible()),this.vScroll&&(t=t||this.vScroll.isVisible()),t},t.ScrollbarPair.prototype.resizeContent=function(t){this.hScroll&&this.hScroll.resizeContentHorizontal(t),this.vScroll&&this.vScroll.resizeContentVertical(t)},t.ScrollbarPair.prototype.resizeView=function(t){this.hScroll&&this.hScroll.resizeViewHorizontal(t),this.vScroll&&this.vScroll.resizeViewVertical(t)},t.Scrollbar=function(e,n,i,o){this.workspace_=e,this.pair_=i||!1,this.horizontal_=n,this.ratio=this.oldHostMetrics_=null,this.createDom_(o),this.position=new t.utils.Coordinate(0,0),e=t.Scrollbar.scrollbarThickness,n?(this.svgBackground_.setAttribute("height",e),this.outerSvg_.setAttribute("height",e),this.svgHandle_.setAttribute("height",e-5),this.svgHandle_.setAttribute("y",2.5),this.lengthAttribute_="width",this.positionAttribute_="x"):(this.svgBackground_.setAttribute("width",e),this.outerSvg_.setAttribute("width",e),this.svgHandle_.setAttribute("width",e-5),this.svgHandle_.setAttribute("x",2.5),this.lengthAttribute_="height",this.positionAttribute_="y"),this.onMouseDownBarWrapper_=t.browserEvents.conditionalBind(this.svgBackground_,"mousedown",this,this.onMouseDownBar_),this.onMouseDownHandleWrapper_=t.browserEvents.conditionalBind(this.svgHandle_,"mousedown",this,this.onMouseDownHandle_)},t.Scrollbar.prototype.origin_=new t.utils.Coordinate(0,0),t.Scrollbar.prototype.startDragMouse_=0,t.Scrollbar.prototype.scrollbarLength_=0,t.Scrollbar.prototype.handleLength_=0,t.Scrollbar.prototype.handlePosition_=0,t.Scrollbar.prototype.isVisible_=!0,t.Scrollbar.prototype.containerVisible_=!0,t.Scrollbar.scrollbarThickness=15,t.Touch.TOUCH_ENABLED&&(t.Scrollbar.scrollbarThickness=25),t.Scrollbar.SCROLLBAR_MARGIN=.5,t.Scrollbar.metricsAreEquivalent_=function(t,e){return!(!t||!e||t.viewWidth!=e.viewWidth||t.viewHeight!=e.viewHeight||t.viewLeft!=e.viewLeft||t.viewTop!=e.viewTop||t.absoluteTop!=e.absoluteTop||t.absoluteLeft!=e.absoluteLeft||t.scrollWidth!=e.scrollWidth||t.scrollHeight!=e.scrollHeight||t.scrollLeft!=e.scrollLeft||t.scrollTop!=e.scrollTop)},t.Scrollbar.prototype.dispose=function(){this.cleanUp_(),t.browserEvents.unbind(this.onMouseDownBarWrapper_),this.onMouseDownBarWrapper_=null,t.browserEvents.unbind(this.onMouseDownHandleWrapper_),this.onMouseDownHandleWrapper_=null,t.utils.dom.removeNode(this.outerSvg_),this.svgBackground_=this.svgGroup_=this.outerSvg_=null,this.svgHandle_&&(this.workspace_.getThemeManager().unsubscribe(this.svgHandle_),this.svgHandle_=null),this.workspace_=null},t.Scrollbar.prototype.constrainHandleLength_=function(t){return 0>=t||isNaN(t)?0:Math.min(t,this.scrollbarLength_)},t.Scrollbar.prototype.setHandleLength_=function(t){this.handleLength_=t,this.svgHandle_.setAttribute(this.lengthAttribute_,this.handleLength_)},t.Scrollbar.prototype.constrainHandlePosition_=function(t){return 0>=t||isNaN(t)?0:Math.min(t,this.scrollbarLength_-this.handleLength_)},t.Scrollbar.prototype.setHandlePosition=function(t){this.handlePosition_=t,this.svgHandle_.setAttribute(this.positionAttribute_,this.handlePosition_)},t.Scrollbar.prototype.setScrollbarLength_=function(t){this.scrollbarLength_=t,this.outerSvg_.setAttribute(this.lengthAttribute_,this.scrollbarLength_),this.svgBackground_.setAttribute(this.lengthAttribute_,this.scrollbarLength_)},t.Scrollbar.prototype.setPosition=function(e,n){this.position.x=e,this.position.y=n,t.utils.dom.setCssTransform(this.outerSvg_,"translate("+(this.position.x+this.origin_.x)+"px,"+(this.position.y+this.origin_.y)+"px)")},t.Scrollbar.prototype.resize=function(e){(e||(e=this.workspace_.getMetrics()))&&(t.Scrollbar.metricsAreEquivalent_(e,this.oldHostMetrics_)||(this.horizontal_?this.resizeHorizontal_(e):this.resizeVertical_(e),this.oldHostMetrics_=e,this.updateMetrics_()))},t.Scrollbar.prototype.requiresViewResize_=function(t){return!this.oldHostMetrics_||this.oldHostMetrics_.viewWidth!==t.viewWidth||this.oldHostMetrics_.viewHeight!==t.viewHeight||this.oldHostMetrics_.absoluteLeft!==t.absoluteLeft||this.oldHostMetrics_.absoluteTop!==t.absoluteTop},t.Scrollbar.prototype.resizeHorizontal_=function(t){this.requiresViewResize_(t)?this.resizeViewHorizontal(t):this.resizeContentHorizontal(t)},t.Scrollbar.prototype.resizeViewHorizontal=function(e){var n=e.viewWidth-2*t.Scrollbar.SCROLLBAR_MARGIN;this.pair_&&(n-=t.Scrollbar.scrollbarThickness),this.setScrollbarLength_(Math.max(0,n)),n=e.absoluteLeft+t.Scrollbar.SCROLLBAR_MARGIN,this.pair_&&this.workspace_.RTL&&(n+=t.Scrollbar.scrollbarThickness),this.setPosition(n,e.absoluteTop+e.viewHeight-t.Scrollbar.scrollbarThickness-t.Scrollbar.SCROLLBAR_MARGIN),this.resizeContentHorizontal(e)},t.Scrollbar.prototype.resizeContentHorizontal=function(t){if(t.viewWidth>=t.scrollWidth)this.setHandleLength_(this.scrollbarLength_),this.setHandlePosition(0),this.pair_||this.setVisible(!1);else{this.pair_||this.setVisible(!0);var e=this.scrollbarLength_*t.viewWidth/t.scrollWidth;e=this.constrainHandleLength_(e),this.setHandleLength_(e);var n=this.scrollbarLength_-this.handleLength_;t=this.constrainHandlePosition_(t=(t.viewLeft-t.scrollLeft)/(e=t.scrollWidth-t.viewWidth)*n),this.setHandlePosition(t),this.ratio=n/e}},t.Scrollbar.prototype.resizeVertical_=function(t){this.requiresViewResize_(t)?this.resizeViewVertical(t):this.resizeContentVertical(t)},t.Scrollbar.prototype.resizeViewVertical=function(e){var n=e.viewHeight-2*t.Scrollbar.SCROLLBAR_MARGIN;this.pair_&&(n-=t.Scrollbar.scrollbarThickness),this.setScrollbarLength_(Math.max(0,n)),this.setPosition(this.workspace_.RTL?e.absoluteLeft+t.Scrollbar.SCROLLBAR_MARGIN:e.absoluteLeft+e.viewWidth-t.Scrollbar.scrollbarThickness-t.Scrollbar.SCROLLBAR_MARGIN,e.absoluteTop+t.Scrollbar.SCROLLBAR_MARGIN),this.resizeContentVertical(e)},t.Scrollbar.prototype.resizeContentVertical=function(t){if(t.viewHeight>=t.scrollHeight)this.setHandleLength_(this.scrollbarLength_),this.setHandlePosition(0),this.pair_||this.setVisible(!1);else{this.pair_||this.setVisible(!0);var e=this.scrollbarLength_*t.viewHeight/t.scrollHeight;e=this.constrainHandleLength_(e),this.setHandleLength_(e);var n=this.scrollbarLength_-this.handleLength_;t=this.constrainHandlePosition_(t=(t.viewTop-t.scrollTop)/(e=t.scrollHeight-t.viewHeight)*n),this.setHandlePosition(t),this.ratio=n/e}},t.Scrollbar.prototype.createDom_=function(e){var n="blocklyScrollbar"+(this.horizontal_?"Horizontal":"Vertical");e&&(n+=" "+e),this.outerSvg_=t.utils.dom.createSvgElement(t.utils.Svg.SVG,{class:n},null),this.svgGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{},this.outerSvg_),this.svgBackground_=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blocklyScrollbarBackground"},this.svgGroup_),e=Math.floor((t.Scrollbar.scrollbarThickness-5)/2),this.svgHandle_=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blocklyScrollbarHandle",rx:e,ry:e},this.svgGroup_),this.workspace_.getThemeManager().subscribe(this.svgHandle_,"scrollbarColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgHandle_,"scrollbarOpacity","fill-opacity"),t.utils.dom.insertAfter(this.outerSvg_,this.workspace_.getParentSvg())},t.Scrollbar.prototype.isVisible=function(){return this.isVisible_},t.Scrollbar.prototype.setContainerVisible=function(t){var e=t!=this.containerVisible_;this.containerVisible_=t,e&&this.updateDisplay_()},t.Scrollbar.prototype.setVisible=function(t){var e=t!=this.isVisible();if(this.pair_)throw Error("Unable to toggle visibility of paired scrollbars.");this.isVisible_=t,e&&this.updateDisplay_()},t.Scrollbar.prototype.updateDisplay_=function(){this.containerVisible_&&this.isVisible()?this.outerSvg_.setAttribute("display","block"):this.outerSvg_.setAttribute("display","none")},t.Scrollbar.prototype.onMouseDownBar_=function(e){if(this.workspace_.markFocused(),t.Touch.clearTouchIdentifier(),this.cleanUp_(),t.utils.isRightButton(e))e.stopPropagation();else{var n=t.utils.mouseToSvg(e,this.workspace_.getParentSvg(),this.workspace_.getInverseScreenCTM());n=this.horizontal_?n.x:n.y;var i=t.utils.getInjectionDivXY_(this.svgHandle_),o=this.handlePosition_,r=.95*this.handleLength_;n<=(i=this.horizontal_?i.x:i.y)?o-=r:n>=i+this.handleLength_&&(o+=r),this.setHandlePosition(this.constrainHandlePosition_(o)),this.updateMetrics_(),e.stopPropagation(),e.preventDefault()}},t.Scrollbar.prototype.onMouseDownHandle_=function(e){this.workspace_.markFocused(),this.cleanUp_(),t.utils.isRightButton(e)?e.stopPropagation():(this.startDragHandle=this.handlePosition_,this.workspace_.setupDragSurface(),this.startDragMouse_=this.horizontal_?e.clientX:e.clientY,t.Scrollbar.onMouseUpWrapper_=t.browserEvents.conditionalBind(document,"mouseup",this,this.onMouseUpHandle_),t.Scrollbar.onMouseMoveWrapper_=t.browserEvents.conditionalBind(document,"mousemove",this,this.onMouseMoveHandle_),e.stopPropagation(),e.preventDefault())},t.Scrollbar.prototype.onMouseMoveHandle_=function(t){this.setHandlePosition(this.constrainHandlePosition_(this.startDragHandle+((this.horizontal_?t.clientX:t.clientY)-this.startDragMouse_))),this.updateMetrics_()},t.Scrollbar.prototype.onMouseUpHandle_=function(){this.workspace_.resetDragSurface(),t.Touch.clearTouchIdentifier(),this.cleanUp_()},t.Scrollbar.prototype.cleanUp_=function(){t.hideChaff(!0),t.Scrollbar.onMouseUpWrapper_&&(t.browserEvents.unbind(t.Scrollbar.onMouseUpWrapper_),t.Scrollbar.onMouseUpWrapper_=null),t.Scrollbar.onMouseMoveWrapper_&&(t.browserEvents.unbind(t.Scrollbar.onMouseMoveWrapper_),t.Scrollbar.onMouseMoveWrapper_=null)},t.Scrollbar.prototype.getRatio_=function(){var t=this.handlePosition_/(this.scrollbarLength_-this.handleLength_);return isNaN(t)&&(t=0),t},t.Scrollbar.prototype.updateMetrics_=function(){var t=this.getRatio_(),e={};this.horizontal_?e.x=t:e.y=t,this.workspace_.setMetrics(e)},t.Scrollbar.prototype.set=function(t,e){this.setHandlePosition(this.constrainHandlePosition_(t*this.ratio)),(e||void 0===e)&&this.updateMetrics_()},t.Scrollbar.prototype.setOrigin=function(e,n){this.origin_=new t.utils.Coordinate(e,n)},t.Tooltip={},t.Tooltip.visible=!1,t.Tooltip.blocked_=!1,t.Tooltip.LIMIT=50,t.Tooltip.mouseOutPid_=0,t.Tooltip.showPid_=0,t.Tooltip.lastX_=0,t.Tooltip.lastY_=0,t.Tooltip.element_=null,t.Tooltip.poisonedElement_=null,t.Tooltip.OFFSET_X=0,t.Tooltip.OFFSET_Y=10,t.Tooltip.RADIUS_OK=10,t.Tooltip.HOVER_MS=750,t.Tooltip.MARGINS=5,t.Tooltip.DIV=null,t.Tooltip.getTooltipOfObject=function(e){if(e=t.Tooltip.getTargetObject_(e)){for(e=e.tooltip;"function"==typeof e;)e=e();if("string"!=typeof e)throw Error("Tooltip function must return a string.");return e}return""},t.Tooltip.getTargetObject_=function(t){for(;t&&t.tooltip;){if("string"==typeof t.tooltip||"function"==typeof t.tooltip)return t;t=t.tooltip}return null},t.Tooltip.createDom=function(){t.Tooltip.DIV||(t.Tooltip.DIV=document.createElement("div"),t.Tooltip.DIV.className="blocklyTooltipDiv",(t.parentContainer||document.body).appendChild(t.Tooltip.DIV))},t.Tooltip.bindMouseEvents=function(e){e.mouseOverWrapper_=t.browserEvents.bind(e,"mouseover",null,t.Tooltip.onMouseOver_),e.mouseOutWrapper_=t.browserEvents.bind(e,"mouseout",null,t.Tooltip.onMouseOut_),e.addEventListener("mousemove",t.Tooltip.onMouseMove_,!1)},t.Tooltip.unbindMouseEvents=function(e){e&&(t.browserEvents.unbind(e.mouseOverWrapper_),t.browserEvents.unbind(e.mouseOutWrapper_),e.removeEventListener("mousemove",t.Tooltip.onMouseMove_))},t.Tooltip.onMouseOver_=function(e){t.Tooltip.blocked_||(e=t.Tooltip.getTargetObject_(e.currentTarget),t.Tooltip.element_!=e&&(t.Tooltip.hide(),t.Tooltip.poisonedElement_=null,t.Tooltip.element_=e),clearTimeout(t.Tooltip.mouseOutPid_))},t.Tooltip.onMouseOut_=function(e){t.Tooltip.blocked_||(t.Tooltip.mouseOutPid_=setTimeout(function(){t.Tooltip.element_=null,t.Tooltip.poisonedElement_=null,t.Tooltip.hide()},1),clearTimeout(t.Tooltip.showPid_))},t.Tooltip.onMouseMove_=function(e){if(t.Tooltip.element_&&t.Tooltip.element_.tooltip&&!t.Tooltip.blocked_)if(t.Tooltip.visible){var n=t.Tooltip.lastX_-e.pageX;e=t.Tooltip.lastY_-e.pageY,Math.sqrt(n*n+e*e)>t.Tooltip.RADIUS_OK&&t.Tooltip.hide()}else t.Tooltip.poisonedElement_!=t.Tooltip.element_&&(clearTimeout(t.Tooltip.showPid_),t.Tooltip.lastX_=e.pageX,t.Tooltip.lastY_=e.pageY,t.Tooltip.showPid_=setTimeout(t.Tooltip.show_,t.Tooltip.HOVER_MS))},t.Tooltip.dispose=function(){t.Tooltip.element_=null,t.Tooltip.poisonedElement_=null,t.Tooltip.hide()},t.Tooltip.hide=function(){t.Tooltip.visible&&(t.Tooltip.visible=!1,t.Tooltip.DIV&&(t.Tooltip.DIV.style.display="none")),t.Tooltip.showPid_&&clearTimeout(t.Tooltip.showPid_)},t.Tooltip.block=function(){t.Tooltip.hide(),t.Tooltip.blocked_=!0},t.Tooltip.unblock=function(){t.Tooltip.blocked_=!1},t.Tooltip.show_=function(){if(!t.Tooltip.blocked_&&(t.Tooltip.poisonedElement_=t.Tooltip.element_,t.Tooltip.DIV)){t.Tooltip.DIV.textContent="";var e=t.Tooltip.getTooltipOfObject(t.Tooltip.element_);e=(e=t.utils.string.wrap(e,t.Tooltip.LIMIT)).split("\n");for(var n=0;n<e.length;n++){var i=document.createElement("div");i.appendChild(document.createTextNode(e[n])),t.Tooltip.DIV.appendChild(i)}e=t.Tooltip.element_.RTL,n=document.documentElement.clientWidth,i=document.documentElement.clientHeight,t.Tooltip.DIV.style.direction=e?"rtl":"ltr",t.Tooltip.DIV.style.display="block",t.Tooltip.visible=!0;var o=t.Tooltip.lastX_;o=e?o-(t.Tooltip.OFFSET_X+t.Tooltip.DIV.offsetWidth):o+t.Tooltip.OFFSET_X;var r=t.Tooltip.lastY_+t.Tooltip.OFFSET_Y;r+t.Tooltip.DIV.offsetHeight>i+window.scrollY&&(r-=t.Tooltip.DIV.offsetHeight+2*t.Tooltip.OFFSET_Y),e?o=Math.max(t.Tooltip.MARGINS-window.scrollX,o):o+t.Tooltip.DIV.offsetWidth>n+window.scrollX-2*t.Tooltip.MARGINS&&(o=n-t.Tooltip.DIV.offsetWidth-2*t.Tooltip.MARGINS),t.Tooltip.DIV.style.top=r+"px",t.Tooltip.DIV.style.left=o+"px"}},t.utils.aria={},t.utils.aria.ARIA_PREFIX_="aria-",t.utils.aria.ROLE_ATTRIBUTE_="role",t.utils.aria.Role={GRID:"grid",GRIDCELL:"gridcell",GROUP:"group",LISTBOX:"listbox",MENU:"menu",MENUITEM:"menuitem",MENUITEMCHECKBOX:"menuitemcheckbox",OPTION:"option",PRESENTATION:"presentation",ROW:"row",TREE:"tree",TREEITEM:"treeitem"},t.utils.aria.State={ACTIVEDESCENDANT:"activedescendant",COLCOUNT:"colcount",DISABLED:"disabled",EXPANDED:"expanded",INVALID:"invalid",LABEL:"label",LABELLEDBY:"labelledby",LEVEL:"level",ORIENTATION:"orientation",POSINSET:"posinset",ROWCOUNT:"rowcount",SELECTED:"selected",SETSIZE:"setsize",VALUEMAX:"valuemax",VALUEMIN:"valuemin"},t.utils.aria.setRole=function(e,n){e.setAttribute(t.utils.aria.ROLE_ATTRIBUTE_,n)},t.utils.aria.setState=function(e,n,i){Array.isArray(i)&&(i=i.join(" ")),e.setAttribute(t.utils.aria.ARIA_PREFIX_+n,i)},t.WorkspaceDragSurfaceSvg=function(t){this.container_=t,this.createDom()},t.WorkspaceDragSurfaceSvg.prototype.SVG_=null,t.WorkspaceDragSurfaceSvg.prototype.container_=null,t.WorkspaceDragSurfaceSvg.prototype.createDom=function(){this.SVG_||(this.SVG_=t.utils.dom.createSvgElement(t.utils.Svg.SVG,{xmlns:t.utils.dom.SVG_NS,"xmlns:html":t.utils.dom.HTML_NS,"xmlns:xlink":t.utils.dom.XLINK_NS,version:"1.1",class:"blocklyWsDragSurface blocklyOverflowVisible"},null),this.container_.appendChild(this.SVG_))},t.WorkspaceDragSurfaceSvg.prototype.translateSurface=function(e,n){e=e.toFixed(0),n=n.toFixed(0),this.SVG_.style.display="block",t.utils.dom.setCssTransform(this.SVG_,"translate3d("+e+"px, "+n+"px, 0px)")},t.WorkspaceDragSurfaceSvg.prototype.getSurfaceTranslation=function(){return t.utils.getRelativeXY(this.SVG_)},t.WorkspaceDragSurfaceSvg.prototype.clearAndHide=function(e){if(!e)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var n=this.SVG_.childNodes[0],i=this.SVG_.childNodes[1];if(!(n&&i&&t.utils.dom.hasClass(n,"blocklyBlockCanvas")&&t.utils.dom.hasClass(i,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");if(null!=this.previousSibling_?t.utils.dom.insertAfter(n,this.previousSibling_):e.insertBefore(n,e.firstChild),t.utils.dom.insertAfter(i,n),this.SVG_.style.display="none",this.SVG_.childNodes.length)throw Error("Drag surface was not cleared.");t.utils.dom.setCssTransform(this.SVG_,""),this.previousSibling_=null},t.WorkspaceDragSurfaceSvg.prototype.setContentsAndShow=function(t,e,n,i,o,r){if(this.SVG_.childNodes.length)throw Error("Already dragging a block.");this.previousSibling_=n,t.setAttribute("transform","translate(0, 0) scale("+r+")"),e.setAttribute("transform","translate(0, 0) scale("+r+")"),this.SVG_.setAttribute("width",i),this.SVG_.setAttribute("height",o),this.SVG_.appendChild(t),this.SVG_.appendChild(e),this.SVG_.style.display="block"},t.blockRendering={},t.blockRendering.useDebugger=!1,t.blockRendering.register=function(e,n){t.registry.register(t.registry.Type.RENDERER,e,n)},t.blockRendering.unregister=function(e){t.registry.unregister(t.registry.Type.RENDERER,e)},t.blockRendering.startDebugger=function(){t.blockRendering.useDebugger=!0},t.blockRendering.stopDebugger=function(){t.blockRendering.useDebugger=!1},t.blockRendering.init=function(e,n,i){return(e=new(t.registry.getClass(t.registry.Type.RENDERER,e))(e)).init(n,i),e},t.ASTNode=function(e,n,i){if(!n)throw Error("Cannot create a node without a location.");this.type_=e,this.isConnection_=t.ASTNode.isConnectionType_(e),this.location_=n,this.wsCoordinate_=null,this.processParams_(i||null)},t.ASTNode.types={FIELD:"field",BLOCK:"block",INPUT:"input",OUTPUT:"output",NEXT:"next",PREVIOUS:"previous",STACK:"stack",WORKSPACE:"workspace"},t.ASTNode.NAVIGATE_ALL_FIELDS=!1,t.ASTNode.DEFAULT_OFFSET_Y=-20,t.ASTNode.isConnectionType_=function(e){switch(e){case t.ASTNode.types.PREVIOUS:case t.ASTNode.types.NEXT:case t.ASTNode.types.INPUT:case t.ASTNode.types.OUTPUT:return!0}return!1},t.ASTNode.createFieldNode=function(e){return e?new t.ASTNode(t.ASTNode.types.FIELD,e):null},t.ASTNode.createConnectionNode=function(e){if(!e)return null;var n=e.type;return n==t.connectionTypes.INPUT_VALUE||n==t.connectionTypes.NEXT_STATEMENT&&e.getParentInput()?t.ASTNode.createInputNode(e.getParentInput()):n==t.connectionTypes.NEXT_STATEMENT?new t.ASTNode(t.ASTNode.types.NEXT,e):n==t.connectionTypes.OUTPUT_VALUE?new t.ASTNode(t.ASTNode.types.OUTPUT,e):n==t.connectionTypes.PREVIOUS_STATEMENT?new t.ASTNode(t.ASTNode.types.PREVIOUS,e):null},t.ASTNode.createInputNode=function(e){return e&&e.connection?new t.ASTNode(t.ASTNode.types.INPUT,e.connection):null},t.ASTNode.createBlockNode=function(e){return e?new t.ASTNode(t.ASTNode.types.BLOCK,e):null},t.ASTNode.createStackNode=function(e){return e?new t.ASTNode(t.ASTNode.types.STACK,e):null},t.ASTNode.createWorkspaceNode=function(e,n){return n&&e?new t.ASTNode(t.ASTNode.types.WORKSPACE,e,{wsCoordinate:n}):null},t.ASTNode.createTopNode=function(e){var n=e.previousConnection||e.outputConnection;return n?t.ASTNode.createConnectionNode(n):t.ASTNode.createBlockNode(e)},t.ASTNode.prototype.processParams_=function(t){t&&t.wsCoordinate&&(this.wsCoordinate_=t.wsCoordinate)},t.ASTNode.prototype.getLocation=function(){return this.location_},t.ASTNode.prototype.getType=function(){return this.type_},t.ASTNode.prototype.getWsCoordinate=function(){return this.wsCoordinate_},t.ASTNode.prototype.isConnection=function(){return this.isConnection_},t.ASTNode.prototype.findNextForInput_=function(){var e,n=this.location_.getParentInput(),i=n.getSourceBlock();for(n=i.inputList.indexOf(n)+1;e=i.inputList[n];n++){for(var o,r=e.fieldRow,s=0;o=r[s];s++)if(o.isClickable()||t.ASTNode.NAVIGATE_ALL_FIELDS)return t.ASTNode.createFieldNode(o);if(e.connection)return t.ASTNode.createInputNode(e)}return null},t.ASTNode.prototype.findNextForField_=function(){var e=this.location_,n=e.getParentInput(),i=e.getSourceBlock(),o=i.inputList.indexOf(n);for(e=n.fieldRow.indexOf(e)+1;n=i.inputList[o];o++){for(var r=n.fieldRow;e<r.length;){if(r[e].isClickable()||t.ASTNode.NAVIGATE_ALL_FIELDS)return t.ASTNode.createFieldNode(r[e]);e++}if(e=0,n.connection)return t.ASTNode.createInputNode(n)}return null},t.ASTNode.prototype.findPrevForInput_=function(){for(var e,n=this.location_.getParentInput(),i=n.getSourceBlock(),o=i.inputList.indexOf(n);e=i.inputList[o];o--){if(e.connection&&e!==n)return t.ASTNode.createInputNode(e);for(var r,s=(e=e.fieldRow).length-1;r=e[s];s--)if(r.isClickable()||t.ASTNode.NAVIGATE_ALL_FIELDS)return t.ASTNode.createFieldNode(r)}return null},t.ASTNode.prototype.findPrevForField_=function(){var e,n=this.location_,i=n.getParentInput(),o=n.getSourceBlock(),r=o.inputList.indexOf(i);for(n=i.fieldRow.indexOf(n)-1;e=o.inputList[r];r--){if(e.connection&&e!==i)return t.ASTNode.createInputNode(e);for(e=e.fieldRow;-1<n;){if(e[n].isClickable()||t.ASTNode.NAVIGATE_ALL_FIELDS)return t.ASTNode.createFieldNode(e[n]);n--}0<=r-1&&(n=o.inputList[r-1].fieldRow.length-1)}return null},t.ASTNode.prototype.navigateBetweenStacks_=function(e){var n=this.getLocation();if(n instanceof t.Block||(n=n.getSourceBlock()),!n||!n.workspace)return null;var i=n.getRootBlock();n=i.workspace.getTopBlocks(!0);for(var o,r=0;o=n[r];r++)if(i.id==o.id)return-1==(e=r+(e?1:-1))||e==n.length?null:t.ASTNode.createStackNode(n[e]);throw Error("Couldn't find "+(e?"next":"previous")+" stack?!")},t.ASTNode.prototype.findTopASTNodeForBlock_=function(e){var n=e.previousConnection||e.outputConnection;return n?t.ASTNode.createConnectionNode(n):t.ASTNode.createBlockNode(e)},t.ASTNode.prototype.getOutAstNodeForBlock_=function(e){if(!e)return null;var n=(e=e.getTopStackBlock()).previousConnection||e.outputConnection;return n&&n.targetConnection&&n.targetConnection.getParentInput()?t.ASTNode.createInputNode(n.targetConnection.getParentInput()):t.ASTNode.createStackNode(e)},t.ASTNode.prototype.findFirstFieldOrInput_=function(e){e=e.inputList;for(var n,i=0;n=e[i];i++){for(var o,r=n.fieldRow,s=0;o=r[s];s++)if(o.isClickable()||t.ASTNode.NAVIGATE_ALL_FIELDS)return t.ASTNode.createFieldNode(o);if(n.connection)return t.ASTNode.createInputNode(n)}return null},t.ASTNode.prototype.getSourceBlock=function(){return this.getType()===t.ASTNode.types.BLOCK||this.getType()===t.ASTNode.types.STACK?this.getLocation():this.getType()===t.ASTNode.types.WORKSPACE?null:this.getLocation().getSourceBlock()},t.ASTNode.prototype.next=function(){switch(this.type_){case t.ASTNode.types.STACK:return this.navigateBetweenStacks_(!0);case t.ASTNode.types.OUTPUT:var e=this.location_;return t.ASTNode.createBlockNode(e.getSourceBlock());case t.ASTNode.types.FIELD:return this.findNextForField_();case t.ASTNode.types.INPUT:return this.findNextForInput_();case t.ASTNode.types.BLOCK:return t.ASTNode.createConnectionNode(this.location_.nextConnection);case t.ASTNode.types.PREVIOUS:return t.ASTNode.createBlockNode((e=this.location_).getSourceBlock());case t.ASTNode.types.NEXT:return t.ASTNode.createConnectionNode((e=this.location_).targetConnection)}return null},t.ASTNode.prototype.in=function(){switch(this.type_){case t.ASTNode.types.WORKSPACE:var e=this.location_.getTopBlocks(!0);if(0<e.length)return t.ASTNode.createStackNode(e[0]);break;case t.ASTNode.types.STACK:return this.findTopASTNodeForBlock_(e=this.location_);case t.ASTNode.types.BLOCK:return this.findFirstFieldOrInput_(e=this.location_);case t.ASTNode.types.INPUT:return t.ASTNode.createConnectionNode(this.location_.targetConnection)}return null},t.ASTNode.prototype.prev=function(){switch(this.type_){case t.ASTNode.types.STACK:return this.navigateBetweenStacks_(!1);case t.ASTNode.types.FIELD:return this.findPrevForField_();case t.ASTNode.types.INPUT:return this.findPrevForInput_();case t.ASTNode.types.BLOCK:var e=this.location_;return t.ASTNode.createConnectionNode(e.previousConnection||e.outputConnection);case t.ASTNode.types.PREVIOUS:if((e=(e=this.location_).targetConnection)&&!e.getParentInput())return t.ASTNode.createConnectionNode(e);break;case t.ASTNode.types.NEXT:return t.ASTNode.createBlockNode((e=this.location_).getSourceBlock())}return null},t.ASTNode.prototype.out=function(){switch(this.type_){case t.ASTNode.types.STACK:var e=this.location_,n=e.getRelativeToSurfaceXY();return n=new t.utils.Coordinate(n.x,n.y+t.ASTNode.DEFAULT_OFFSET_Y),t.ASTNode.createWorkspaceNode(e.workspace,n);case t.ASTNode.types.OUTPUT:return(n=(e=this.location_).targetConnection)?t.ASTNode.createConnectionNode(n):t.ASTNode.createStackNode(e.getSourceBlock());case t.ASTNode.types.FIELD:return t.ASTNode.createBlockNode(this.location_.getSourceBlock());case t.ASTNode.types.INPUT:return t.ASTNode.createBlockNode((e=this.location_).getSourceBlock());case t.ASTNode.types.BLOCK:return this.getOutAstNodeForBlock_(e=this.location_);case t.ASTNode.types.PREVIOUS:case t.ASTNode.types.NEXT:return this.getOutAstNodeForBlock_((e=this.location_).getSourceBlock())}return null},t.Blocks=Object.create(null),t.utils.deprecation={},t.utils.deprecation.warn=function(t,e,n,i){t=t+" was deprecated on "+e+" and will be deleted on "+n+".",i&&(t+="\nUse "+i+" instead."),console.warn(t)},t.Connection=function(t,e){this.sourceBlock_=t,this.type=e},t.Connection.CAN_CONNECT=0,t.Connection.REASON_SELF_CONNECTION=1,t.Connection.REASON_WRONG_TYPE=2,t.Connection.REASON_TARGET_NULL=3,t.Connection.REASON_CHECKS_FAILED=4,t.Connection.REASON_DIFFERENT_WORKSPACES=5,t.Connection.REASON_SHADOW_PARENT=6,t.Connection.REASON_DRAG_CHECKS_FAILED=7,t.Connection.prototype.targetConnection=null,t.Connection.prototype.disposed=!1,t.Connection.prototype.check_=null,t.Connection.prototype.shadowDom_=null,t.Connection.prototype.x=0,t.Connection.prototype.y=0,t.Connection.prototype.connect_=function(e){var n,i=this,o=i.getSourceBlock(),r=e.getSourceBlock();if(e.isConnected()&&e.disconnect(),i.isConnected()){var s=i.targetBlock(),a=i.getShadowDom();if(i.shadowDom_=null,s.isShadow())a=t.Xml.blockToDom(s),s.dispose(!1),s=null;else if(i.type==t.connectionTypes.INPUT_VALUE){if(!s.outputConnection)throw Error("Orphan block does not have an output connection.");var l=t.Connection.lastConnectionInRow(r,s);l&&(s.outputConnection.connect(l),s=null)}else if(i.type==t.connectionTypes.NEXT_STATEMENT){if(!s.previousConnection)throw Error("Orphan block does not have a previous connection.");for(l=r;l.nextConnection;){var c=l.getNextBlock();if(!c||c.isShadow()){s.workspace.connectionChecker.canConnect(s.previousConnection,l.nextConnection,!1)&&(l.nextConnection.connect(s.previousConnection),s=null);break}l=c}}if(s&&(i.disconnect(),t.Events.recordUndo)){var u=t.Events.getGroup();setTimeout(function(){s.workspace&&!s.getParent()&&(t.Events.setGroup(u),s.outputConnection?s.outputConnection.onFailedConnect(i):s.previousConnection&&s.previousConnection.onFailedConnect(i),t.Events.setGroup(!1))},t.BUMP_DELAY)}i.shadowDom_=a}t.Events.isEnabled()&&(n=new(t.Events.get(t.Events.BLOCK_MOVE))(r)),t.Connection.connectReciprocally_(i,e),r.setParent(o),n&&(n.recordNew(),t.Events.fire(n))},t.Connection.prototype.dispose=function(){if(this.isConnected()){this.setShadowDom(null);var t=this.targetBlock();t&&t.unplug()}this.disposed=!0},t.Connection.prototype.getSourceBlock=function(){return this.sourceBlock_},t.Connection.prototype.isSuperior=function(){return this.type==t.connectionTypes.INPUT_VALUE||this.type==t.connectionTypes.NEXT_STATEMENT},t.Connection.prototype.isConnected=function(){return!!this.targetConnection},t.Connection.prototype.canConnectWithReason=function(e){return t.utils.deprecation.warn("Connection.prototype.canConnectWithReason","July 2020","July 2021","the workspace's connection checker"),this.getConnectionChecker().canConnectWithReason(this,e,!1)},t.Connection.prototype.checkConnection=function(e){t.utils.deprecation.warn("Connection.prototype.checkConnection","July 2020","July 2021","the workspace's connection checker");var n=this.getConnectionChecker(),i=n.canConnectWithReason(this,e,!1);if(i!=t.Connection.CAN_CONNECT)throw Error(n.getErrorMessage(i,this,e))},t.Connection.prototype.getConnectionChecker=function(){return this.sourceBlock_.workspace.connectionChecker},t.Connection.prototype.isConnectionAllowed=function(e){return t.utils.deprecation.warn("Connection.prototype.isConnectionAllowed","July 2020","July 2021","the workspace's connection checker"),this.getConnectionChecker().canConnect(this,e,!0)},t.Connection.prototype.onFailedConnect=function(t){},t.Connection.prototype.connect=function(e){if(this.targetConnection!=e&&this.getConnectionChecker().canConnect(this,e,!1)){var n=t.Events.getGroup();n||t.Events.setGroup(!0),this.isSuperior()?this.connect_(e):e.connect_(this),n||t.Events.setGroup(!1)}},t.Connection.connectReciprocally_=function(t,e){if(!t||!e)throw Error("Cannot connect null connections.");t.targetConnection=e,e.targetConnection=t},t.Connection.singleConnection_=function(e,n){var i=null;n=n.outputConnection;for(var o=0;o<e.inputList.length;o++){var r=e.inputList[o].connection,s=n.getConnectionChecker();if(r&&r.type==t.connectionTypes.INPUT_VALUE&&s.canConnect(n,r,!1)){if(i)return null;i=r}}return i},t.Connection.lastConnectionInRow=function(e,n){for(var i;i=t.Connection.singleConnection_(e,n);)if(!(e=i.targetBlock())||e.isShadow())return i;return null},t.Connection.prototype.disconnect=function(){var e=this.targetConnection;if(!e)throw Error("Source connection not connected.");if(e.targetConnection!=this)throw Error("Target connection not connected to source connection.");if(this.isSuperior()){var n=this.sourceBlock_,i=e.getSourceBlock();e=this}else n=e.getSourceBlock(),i=this.sourceBlock_;var o=t.Events.getGroup();o||t.Events.setGroup(!0),this.disconnectInternal_(n,i),i.isShadow()||e.respawnShadow_(),o||t.Events.setGroup(!1)},t.Connection.prototype.disconnectInternal_=function(e,n){var i;t.Events.isEnabled()&&(i=new(t.Events.get(t.Events.BLOCK_MOVE))(n)),this.targetConnection=this.targetConnection.targetConnection=null,n.setParent(null),i&&(i.recordNew(),t.Events.fire(i))},t.Connection.prototype.respawnShadow_=function(){var e=this.getSourceBlock(),n=this.getShadowDom();if(e.workspace&&n)if((e=t.Xml.domToBlock(n,e.workspace)).outputConnection)this.connect(e.outputConnection);else{if(!e.previousConnection)throw Error("Child block does not have output or previous statement.");this.connect(e.previousConnection)}},t.Connection.prototype.targetBlock=function(){return this.isConnected()?this.targetConnection.getSourceBlock():null},t.Connection.prototype.checkType=function(e){return t.utils.deprecation.warn("Connection.prototype.checkType","October 2019","January 2021","the workspace's connection checker"),this.getConnectionChecker().canConnect(this,e,!1)},t.Connection.prototype.checkType_=function(e){return t.utils.deprecation.warn("Connection.prototype.checkType_","October 2019","January 2021","the workspace's connection checker"),this.checkType(e)},t.Connection.prototype.onCheckChanged_=function(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()},t.Connection.prototype.setCheck=function(t){return t?(Array.isArray(t)||(t=[t]),this.check_=t,this.onCheckChanged_()):this.check_=null,this},t.Connection.prototype.getCheck=function(){return this.check_},t.Connection.prototype.setShadowDom=function(t){this.shadowDom_=t,(t=this.targetBlock())?t.isShadow()&&(t.dispose(!1),this.respawnShadow_()):this.respawnShadow_()},t.Connection.prototype.getShadowDom=function(){return this.shadowDom_},t.Connection.prototype.neighbours=function(t){return[]},t.Connection.prototype.getParentInput=function(){for(var t=null,e=this.sourceBlock_,n=e.inputList,i=0;i<e.inputList.length;i++)if(n[i].connection===this){t=n[i];break}return t},t.Connection.prototype.toString=function(){var t=this.sourceBlock_;if(!t)return"Orphan Connection";if(t.outputConnection==this)var e="Output Connection of ";else if(t.previousConnection==this)e="Previous Connection of ";else if(t.nextConnection==this)e="Next Connection of ";else{e=null;for(var n,i=0;n=t.inputList[i];i++)if(n.connection==this){e=n;break}if(!e)return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection";e='Input "'+e.name+'" connection on '}return e+t.toDevString()},t.Extensions={},t.Extensions.ALL_={},t.Extensions.register=function(e,n){if("string"!=typeof e||""==e.trim())throw Error('Error: Invalid extension name "'+e+'"');if(t.Extensions.ALL_[e])throw Error('Error: Extension "'+e+'" is already registered.');if("function"!=typeof n)throw Error('Error: Extension "'+e+'" must be a function');t.Extensions.ALL_[e]=n},t.Extensions.registerMixin=function(e,n){if(!n||"object"!=typeof n)throw Error('Error: Mixin "'+e+'" must be a object');t.Extensions.register(e,function(){this.mixin(n)})},t.Extensions.registerMutator=function(e,n,i,o){var r='Error when registering mutator "'+e+'": ';t.Extensions.checkHasFunction_(r,n.domToMutation,"domToMutation"),t.Extensions.checkHasFunction_(r,n.mutationToDom,"mutationToDom");var s=t.Extensions.checkMutatorDialog_(n,r);if(i&&"function"!=typeof i)throw Error('Extension "'+e+'" is not a function');t.Extensions.register(e,function(){if(s){if(!t.Mutator)throw Error(r+"Missing require for Blockly.Mutator");this.setMutator(new t.Mutator(o||[]))}this.mixin(n),i&&i.apply(this)})},t.Extensions.unregister=function(e){t.Extensions.ALL_[e]?delete t.Extensions.ALL_[e]:console.warn('No extension mapping for name "'+e+'" found to unregister')},t.Extensions.apply=function(e,n,i){var o=t.Extensions.ALL_[e];if("function"!=typeof o)throw Error('Error: Extension "'+e+'" not found.');if(i)t.Extensions.checkNoMutatorProperties_(e,n);else var r=t.Extensions.getMutatorProperties_(n);if(o.apply(n),i)t.Extensions.checkBlockHasMutatorProperties_('Error after applying mutator "'+e+'": ',n);else if(!t.Extensions.mutatorPropertiesMatch_(r,n))throw Error('Error when applying extension "'+e+'": mutation properties changed when applying a non-mutator extension.')},t.Extensions.checkHasFunction_=function(t,e,n){if(!e)throw Error(t+'missing required property "'+n+'"');if("function"!=typeof e)throw Error(t+'" required property "'+n+'" must be a function')},t.Extensions.checkNoMutatorProperties_=function(e,n){if(t.Extensions.getMutatorProperties_(n).length)throw Error('Error: tried to apply mutation "'+e+'" to a block that already has mutator functions.  Block id: '+n.id)},t.Extensions.checkMutatorDialog_=function(t,e){var n=void 0!==t.compose,i=void 0!==t.decompose;if(n&&i){if("function"!=typeof t.compose)throw Error(e+"compose must be a function.");if("function"!=typeof t.decompose)throw Error(e+"decompose must be a function.");return!0}if(n||i)throw Error(e+'Must have both or neither of "compose" and "decompose"');return!1},t.Extensions.checkBlockHasMutatorProperties_=function(e,n){if("function"!=typeof n.domToMutation)throw Error(e+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof n.mutationToDom)throw Error(e+'Applying a mutator didn\'t add "mutationToDom"');t.Extensions.checkMutatorDialog_(n,e)},t.Extensions.getMutatorProperties_=function(t){var e=[];return void 0!==t.domToMutation&&e.push(t.domToMutation),void 0!==t.mutationToDom&&e.push(t.mutationToDom),void 0!==t.compose&&e.push(t.compose),void 0!==t.decompose&&e.push(t.decompose),e},t.Extensions.mutatorPropertiesMatch_=function(e,n){if((n=t.Extensions.getMutatorProperties_(n)).length!=e.length)return!1;for(var i=0;i<n.length;i++)if(e[i]!=n[i])return!1;return!0},t.Extensions.buildTooltipForDropdown=function(e,n){var i=[];return"object"==typeof document&&t.utils.runAfterPageLoad(function(){for(var e in n)t.utils.checkMessageReferences(n[e])}),function(){this.type&&-1==i.indexOf(this.type)&&(t.Extensions.checkDropdownOptionsInTable_(this,e,n),i.push(this.type)),this.setTooltip((function(){var o=String(this.getFieldValue(e)),r=n[o];return null==r?-1==i.indexOf(this.type)&&(o="No tooltip mapping for value "+o+" of field "+e,null!=this.type&&(o+=" of block type "+this.type),console.warn(o+".")):r=t.utils.replaceMessageReferences(r),r}).bind(this))}},t.Extensions.checkDropdownOptionsInTable_=function(t,e,n){var i=t.getField(e);if(!i.isOptionListDynamic()){i=i.getOptions();for(var o=0;o<i.length;++o){var r=i[o][1];null==n[r]&&console.warn("No tooltip mapping for value "+r+" of field "+e+" of block type "+t.type)}}},t.Extensions.buildTooltipWithFieldText=function(e,n){return"object"==typeof document&&t.utils.runAfterPageLoad(function(){t.utils.checkMessageReferences(e)}),function(){this.setTooltip((function(){var i=this.getField(n);return t.utils.replaceMessageReferences(e).replace("%1",i?i.getText():"")}).bind(this))}},t.Extensions.extensionParentTooltip_=function(){this.tooltipWhenNotConnected_=this.tooltip,this.setTooltip((function(){var t=this.getParent();return t&&t.getInputsInline()&&t.tooltip||this.tooltipWhenNotConnected_}).bind(this))},t.Extensions.register("parent_tooltip_when_inline",t.Extensions.extensionParentTooltip_),t.fieldRegistry={},t.fieldRegistry.register=function(e,n){t.registry.register(t.registry.Type.FIELD,e,n)},t.fieldRegistry.unregister=function(e){t.registry.unregister(t.registry.Type.FIELD,e)},t.fieldRegistry.fromJson=function(e){var n=t.registry.getObject(t.registry.Type.FIELD,e.type);return n?n.fromJson(e):(console.warn("Blockly could not create a field of type "+e.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)},t.blockAnimations={},t.blockAnimations.disconnectPid_=0,t.blockAnimations.disconnectGroup_=null,t.blockAnimations.disposeUiEffect=function(e){var n=e.workspace,i=e.getSvgRoot();n.getAudioManager().play("delete"),e=n.getSvgXY(i),(i=i.cloneNode(!0)).translateX_=e.x,i.translateY_=e.y,i.setAttribute("transform","translate("+e.x+","+e.y+")"),n.getParentSvg().appendChild(i),i.bBox_=i.getBBox(),t.blockAnimations.disposeUiStep_(i,n.RTL,new Date,n.scale)},t.blockAnimations.disposeUiStep_=function(e,n,i,o){var r=(new Date-i)/150;1<r?t.utils.dom.removeNode(e):(e.setAttribute("transform","translate("+(e.translateX_+(n?-1:1)*e.bBox_.width*o/2*r)+","+(e.translateY_+e.bBox_.height*o*r)+") scale("+(1-r)*o+")"),setTimeout(t.blockAnimations.disposeUiStep_,10,e,n,i,o))},t.blockAnimations.connectionUiEffect=function(e){var n=e.workspace,i=n.scale;if(n.getAudioManager().play("click"),!(1>i)){var o=n.getSvgXY(e.getSvgRoot());e.outputConnection?(o.x+=(e.RTL?3:-3)*i,o.y+=13*i):e.previousConnection&&(o.x+=(e.RTL?-23:23)*i,o.y+=3*i),e=t.utils.dom.createSvgElement(t.utils.Svg.CIRCLE,{cx:o.x,cy:o.y,r:0,fill:"none",stroke:"#888","stroke-width":10},n.getParentSvg()),t.blockAnimations.connectionUiStep_(e,new Date,i)}},t.blockAnimations.connectionUiStep_=function(e,n,i){var o=(new Date-n)/150;1<o?t.utils.dom.removeNode(e):(e.setAttribute("r",25*o*i),e.style.opacity=1-o,t.blockAnimations.disconnectPid_=setTimeout(t.blockAnimations.connectionUiStep_,10,e,n,i))},t.blockAnimations.disconnectUiEffect=function(e){if(e.workspace.getAudioManager().play("disconnect"),!(1>e.workspace.scale)){var n=e.getHeightWidth().height;n=Math.atan(10/n)/Math.PI*180,e.RTL||(n*=-1),t.blockAnimations.disconnectUiStep_(e.getSvgRoot(),n,new Date)}},t.blockAnimations.disconnectUiStep_=function(e,n,i){var o=(new Date-i)/200;1<o?e.skew_="":(e.skew_="skewX("+Math.round(Math.sin(o*Math.PI*3)*(1-o)*n)+")",t.blockAnimations.disconnectGroup_=e,t.blockAnimations.disconnectPid_=setTimeout(t.blockAnimations.disconnectUiStep_,10,e,n,i)),e.setAttribute("transform",e.translate_+e.skew_)},t.blockAnimations.disconnectUiStop=function(){if(t.blockAnimations.disconnectGroup_){clearTimeout(t.blockAnimations.disconnectPid_);var e=t.blockAnimations.disconnectGroup_;e.skew_="",e.setAttribute("transform",e.translate_),t.blockAnimations.disconnectGroup_=null}},t.Events.BlockDrag=function(e,n,i){t.Events.BlockDrag.superClass_.constructor.call(this,e?e.workspace.id:void 0),this.blockId=e?e.id:null,this.isStart=n,this.blocks=i},t.utils.object.inherits(t.Events.BlockDrag,t.Events.UiBase),t.Events.BlockDrag.prototype.type=t.Events.BLOCK_DRAG,t.Events.BlockDrag.prototype.toJson=function(){var e=t.Events.BlockDrag.superClass_.toJson.call(this);return e.isStart=this.isStart,e.blockId=this.blockId,e.blocks=this.blocks,e},t.Events.BlockDrag.prototype.fromJson=function(e){t.Events.BlockDrag.superClass_.fromJson.call(this,e),this.isStart=e.isStart,this.blockId=e.blockId,this.blocks=e.blocks},t.registry.register(t.registry.Type.EVENT,t.Events.BLOCK_DRAG,t.Events.BlockDrag),t.InsertionMarkerManager=function(e){this.topBlock_=t.selected=e,this.workspace_=e.workspace,this.lastMarker_=this.lastOnStack_=null,this.firstMarker_=this.createMarkerBlock_(this.topBlock_),this.localConnection_=this.closestConnection_=null,this.wouldDeleteBlock_=!1,this.fadedBlock_=this.highlightedBlock_=this.markerConnection_=null,this.availableConnections_=this.initAvailableConnections_()},t.InsertionMarkerManager.PREVIEW_TYPE={INSERTION_MARKER:0,INPUT_OUTLINE:1,REPLACEMENT_FADE:2},t.InsertionMarkerManager.prototype.dispose=function(){this.availableConnections_.length=0,t.Events.disable();try{this.firstMarker_&&this.firstMarker_.dispose(),this.lastMarker_&&this.lastMarker_.dispose()}finally{t.Events.enable()}},t.InsertionMarkerManager.prototype.updateAvailableConnections=function(){this.availableConnections_=this.initAvailableConnections_()},t.InsertionMarkerManager.prototype.wouldDeleteBlock=function(){return this.wouldDeleteBlock_},t.InsertionMarkerManager.prototype.wouldConnectBlock=function(){return!!this.closestConnection_},t.InsertionMarkerManager.prototype.applyConnections=function(){if(this.closestConnection_&&(t.Events.disable(),this.hidePreview_(),t.Events.enable(),this.localConnection_.connect(this.closestConnection_),this.topBlock_.rendered)){var e=this.localConnection_.isSuperior()?this.closestConnection_:this.localConnection_;t.blockAnimations.connectionUiEffect(e.getSourceBlock()),this.topBlock_.getRootBlock().bringToFront()}},t.InsertionMarkerManager.prototype.update=function(e,n){var i=this.getCandidate_(e);((this.wouldDeleteBlock_=this.shouldDelete_(i,n))||this.shouldUpdatePreviews_(i,e))&&(t.Events.disable(),this.maybeHidePreview_(i),this.maybeShowPreview_(i),t.Events.enable())},t.InsertionMarkerManager.prototype.createMarkerBlock_=function(e){var n=e.type;t.Events.disable();try{var i=this.workspace_.newBlock(n);if(i.setInsertionMarker(!0),e.mutationToDom){var o=e.mutationToDom();o&&i.domToMutation(o)}for(n=0;n<e.inputList.length;n++){var r=e.inputList[n];if(r.name!=t.constants.COLLAPSED_INPUT_NAME){var s=i.inputList[n];for(o=0;o<r.fieldRow.length;o++)s.fieldRow[o].setValue(r.fieldRow[o].getValue())}}i.setCollapsed(e.isCollapsed()),i.setInputsInline(e.getInputsInline()),i.initSvg(),i.getSvgRoot().setAttribute("visibility","hidden")}finally{t.Events.enable()}return i},t.InsertionMarkerManager.prototype.initAvailableConnections_=function(){var e=this.topBlock_.getConnections_(!1),n=this.topBlock_.lastConnectionInStack();if(n&&n!=this.topBlock_.nextConnection){if(e.push(n),this.lastOnStack_=n,this.lastMarker_){t.Events.disable();try{this.lastMarker_.dispose()}finally{t.Events.enable()}}this.lastMarker_=this.createMarkerBlock_(n.getSourceBlock())}return e},t.InsertionMarkerManager.prototype.shouldUpdatePreviews_=function(e,n){var i=e.local,o=e.closest;return e=e.radius,i&&o?this.localConnection_&&this.closestConnection_?!(this.closestConnection_==o&&this.localConnection_==i||(i=this.localConnection_.x+n.x-this.closestConnection_.x,n=this.localConnection_.y+n.y-this.closestConnection_.y,n=Math.sqrt(i*i+n*n),o&&e>n-t.CURRENT_CONNECTION_PREFERENCE)):!this.localConnection_&&!this.closestConnection_||(console.error("Only one of localConnection_ and closestConnection_ was set."),console.error("Returning true from shouldUpdatePreviews, but it's not clear why."),!0):!(!this.localConnection_||!this.closestConnection_)},t.InsertionMarkerManager.prototype.getCandidate_=function(t){for(var e=this.getStartRadius_(),n=null,i=null,o=0;o<this.availableConnections_.length;o++){var r=this.availableConnections_[o],s=r.closest(e,t);s.connection&&(n=s.connection,i=r,e=s.radius)}return{closest:n,local:i,radius:e}},t.InsertionMarkerManager.prototype.getStartRadius_=function(){return this.closestConnection_&&this.localConnection_?t.CONNECTING_SNAP_RADIUS:t.SNAP_RADIUS},t.InsertionMarkerManager.prototype.shouldDelete_=function(e,n){return e=e&&!!e.closest&&n!=t.DELETE_AREA_TOOLBOX,!!n&&!this.topBlock_.getParent()&&this.topBlock_.isDeletable()&&!e},t.InsertionMarkerManager.prototype.maybeShowPreview_=function(t){if(!this.wouldDeleteBlock_){var e=t.closest;t=t.local,e&&(e==this.closestConnection_||e.getSourceBlock().isInsertionMarker()?console.log("Trying to connect to an insertion marker"):(this.closestConnection_=e,this.localConnection_=t,this.showPreview_()))}},t.InsertionMarkerManager.prototype.showPreview_=function(){var e=this.closestConnection_,n=this.workspace_.getRenderer();switch(n.getConnectionPreviewMethod(e,this.localConnection_,this.topBlock_)){case t.InsertionMarkerManager.PREVIEW_TYPE.INPUT_OUTLINE:this.showInsertionInputOutline_();break;case t.InsertionMarkerManager.PREVIEW_TYPE.INSERTION_MARKER:this.showInsertionMarker_();break;case t.InsertionMarkerManager.PREVIEW_TYPE.REPLACEMENT_FADE:this.showReplacementFade_()}e&&n.shouldHighlightConnection(e)&&e.highlight()},t.InsertionMarkerManager.prototype.maybeHidePreview_=function(t){if(t.closest){var e=this.closestConnection_!=t.closest;t=this.localConnection_!=t.local,this.closestConnection_&&this.localConnection_&&(e||t||this.wouldDeleteBlock_)&&this.hidePreview_()}else this.hidePreview_();this.localConnection_=this.closestConnection_=this.markerConnection_=null},t.InsertionMarkerManager.prototype.hidePreview_=function(){this.closestConnection_&&this.closestConnection_.targetBlock()&&this.workspace_.getRenderer().shouldHighlightConnection(this.closestConnection_)&&this.closestConnection_.unhighlight(),this.fadedBlock_?this.hideReplacementFade_():this.highlightedBlock_?this.hideInsertionInputOutline_():this.markerConnection_&&this.hideInsertionMarker_()},t.InsertionMarkerManager.prototype.showInsertionMarker_=function(){var t=this.localConnection_,e=this.closestConnection_,n=this.lastOnStack_&&t==this.lastOnStack_?this.lastMarker_:this.firstMarker_;if((t=n.getMatchingConnection(t.getSourceBlock(),t))==this.markerConnection_)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");n.render(),n.rendered=!0,n.getSvgRoot().setAttribute("visibility","visible"),t&&e&&n.positionNearConnection(t,e),e&&t.connect(e),this.markerConnection_=t},t.InsertionMarkerManager.prototype.hideInsertionMarker_=function(){if(this.markerConnection_){var e=this.markerConnection_,n=e.getSourceBlock(),i=n.nextConnection,o=n.previousConnection,r=n.outputConnection;if(r=e.type==t.connectionTypes.INPUT_VALUE&&!(r&&r.targetConnection),!(e!=i||o&&o.targetConnection)||r?e.targetBlock().unplug(!1):e.type==t.connectionTypes.NEXT_STATEMENT&&e!=i?((i=e.targetConnection).getSourceBlock().unplug(!1),o=o?o.targetConnection:null,n.unplug(!0),o&&o.connect(i)):n.unplug(!0),e.targetConnection)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");this.markerConnection_=null,n.getSvgRoot().setAttribute("visibility","hidden")}else console.log("No insertion marker connection to disconnect")},t.InsertionMarkerManager.prototype.showInsertionInputOutline_=function(){var t=this.closestConnection_;this.highlightedBlock_=t.getSourceBlock(),this.highlightedBlock_.highlightShapeForInput(t,!0)},t.InsertionMarkerManager.prototype.hideInsertionInputOutline_=function(){this.highlightedBlock_.highlightShapeForInput(this.closestConnection_,!1),this.highlightedBlock_=null},t.InsertionMarkerManager.prototype.showReplacementFade_=function(){this.fadedBlock_=this.closestConnection_.targetBlock(),this.fadedBlock_.fadeForReplacement(!0)},t.InsertionMarkerManager.prototype.hideReplacementFade_=function(){this.fadedBlock_.fadeForReplacement(!1),this.fadedBlock_=null},t.InsertionMarkerManager.prototype.getInsertionMarkers=function(){var t=[];return this.firstMarker_&&t.push(this.firstMarker_),this.lastMarker_&&t.push(this.lastMarker_),t},t.BlockDragger=function(e,n){this.draggingBlock_=e,this.workspace_=n,this.draggedConnectionManager_=new t.InsertionMarkerManager(this.draggingBlock_),this.deleteArea_=null,this.wouldDeleteBlock_=!1,this.startXY_=this.draggingBlock_.getRelativeToSurfaceXY(),this.dragIconData_=t.BlockDragger.initIconData_(e)},t.BlockDragger.prototype.dispose=function(){this.dragIconData_.length=0,this.draggedConnectionManager_&&this.draggedConnectionManager_.dispose()},t.BlockDragger.initIconData_=function(t){var e=[];t=t.getDescendants(!1);for(var n,i=0;n=t[i];i++){n=n.getIcons();for(var o=0;o<n.length;o++){var r={location:n[o].getIconLocation(),icon:n[o]};e.push(r)}}return e},t.BlockDragger.prototype.startBlockDrag=function(e,n){t.Events.getGroup()||t.Events.setGroup(!0),this.fireDragStartEvent_(),this.workspace_.isMutator&&this.draggingBlock_.bringToFront(),t.utils.dom.startTextWidthCache(),this.workspace_.setResizesEnabled(!1),t.blockAnimations.disconnectUiStop(),(this.draggingBlock_.getParent()||n&&this.draggingBlock_.nextConnection&&this.draggingBlock_.nextConnection.targetBlock())&&(this.draggingBlock_.unplug(n),e=this.pixelsToWorkspaceUnits_(e),e=t.utils.Coordinate.sum(this.startXY_,e),this.draggingBlock_.translate(e.x,e.y),t.blockAnimations.disconnectUiEffect(this.draggingBlock_),this.draggedConnectionManager_.updateAvailableConnections()),this.draggingBlock_.setDragging(!0),this.draggingBlock_.moveToDragSurface(),(e=this.workspace_.getToolbox())&&"function"==typeof e.addStyle&&(n=this.draggingBlock_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab",e.addStyle(n))},t.BlockDragger.prototype.fireDragStartEvent_=function(){var e=new(t.Events.get(t.Events.BLOCK_DRAG))(this.draggingBlock_,!0,this.draggingBlock_.getDescendants(!1));t.Events.fire(e)},t.BlockDragger.prototype.dragBlock=function(e,n){n=this.pixelsToWorkspaceUnits_(n);var i=t.utils.Coordinate.sum(this.startXY_,n);this.draggingBlock_.moveDuringDrag(i),this.dragIcons_(n),this.deleteArea_=this.workspace_.isDeleteArea(e),this.draggedConnectionManager_.update(n,this.deleteArea_),this.updateCursorDuringBlockDrag_()},t.BlockDragger.prototype.endBlockDrag=function(e,n){this.dragBlock(e,n),this.dragIconData_=[],this.fireDragEndEvent_(),t.utils.dom.stopTextWidthCache(),t.blockAnimations.disconnectUiStop(),e=this.pixelsToWorkspaceUnits_(n),n=t.utils.Coordinate.sum(this.startXY_,e),this.draggingBlock_.moveOffDragSurface(n),this.maybeDeleteBlock_()||(this.draggingBlock_.moveConnections(e.x,e.y),this.draggingBlock_.setDragging(!1),this.fireMoveEvent_(),this.draggedConnectionManager_.wouldConnectBlock()?this.draggedConnectionManager_.applyConnections():this.draggingBlock_.render(),this.draggingBlock_.scheduleSnapAndBump()),this.workspace_.setResizesEnabled(!0),(e=this.workspace_.getToolbox())&&"function"==typeof e.removeStyle&&(n=this.draggingBlock_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab",e.removeStyle(n)),t.Events.setGroup(!1)},t.BlockDragger.prototype.fireDragEndEvent_=function(){var e=new(t.Events.get(t.Events.BLOCK_DRAG))(this.draggingBlock_,!1,this.draggingBlock_.getDescendants(!1));t.Events.fire(e)},t.BlockDragger.prototype.fireMoveEvent_=function(){var e=new(t.Events.get(t.Events.BLOCK_MOVE))(this.draggingBlock_);e.oldCoordinate=this.startXY_,e.recordNew(),t.Events.fire(e)},t.BlockDragger.prototype.maybeDeleteBlock_=function(){var e=this.workspace_.trashcan;return this.wouldDeleteBlock_?(e&&setTimeout(e.closeLid.bind(e),100),this.fireMoveEvent_(),this.draggingBlock_.dispose(!1,!0),t.draggingConnections=[]):e&&e.closeLid(),this.wouldDeleteBlock_},t.BlockDragger.prototype.updateCursorDuringBlockDrag_=function(){this.wouldDeleteBlock_=this.draggedConnectionManager_.wouldDeleteBlock();var e=this.workspace_.trashcan;this.wouldDeleteBlock_?(this.draggingBlock_.setDeleteStyle(!0),this.deleteArea_==t.DELETE_AREA_TRASH&&e&&e.setLidOpen(!0)):(this.draggingBlock_.setDeleteStyle(!1),e&&e.setLidOpen(!1))},t.BlockDragger.prototype.pixelsToWorkspaceUnits_=function(e){return e=new t.utils.Coordinate(e.x/this.workspace_.scale,e.y/this.workspace_.scale),this.workspace_.isMutator&&e.scale(1/this.workspace_.options.parentWorkspace.scale),e},t.BlockDragger.prototype.dragIcons_=function(e){for(var n=0;n<this.dragIconData_.length;n++){var i=this.dragIconData_[n];i.icon.setIconLocation(t.utils.Coordinate.sum(i.location,e))}},t.BlockDragger.prototype.getInsertionMarkers=function(){return this.draggedConnectionManager_&&this.draggedConnectionManager_.getInsertionMarkers?this.draggedConnectionManager_.getInsertionMarkers():[]},t.IConnectionChecker=function(){},t.ConnectionChecker=function(){},t.ConnectionChecker.prototype.canConnect=function(e,n,i,o){return this.canConnectWithReason(e,n,i,o)==t.Connection.CAN_CONNECT},t.ConnectionChecker.prototype.canConnectWithReason=function(e,n,i,o){var r=this.doSafetyChecks(e,n);return r!=t.Connection.CAN_CONNECT?r:this.doTypeChecks(e,n)?i&&!this.doDragChecks(e,n,o||0)?t.Connection.REASON_DRAG_CHECKS_FAILED:t.Connection.CAN_CONNECT:t.Connection.REASON_CHECKS_FAILED},t.ConnectionChecker.prototype.getErrorMessage=function(e,n,i){switch(e){case t.Connection.REASON_SELF_CONNECTION:return"Attempted to connect a block to itself.";case t.Connection.REASON_DIFFERENT_WORKSPACES:return"Blocks not on same workspace.";case t.Connection.REASON_WRONG_TYPE:return"Attempt to connect incompatible types.";case t.Connection.REASON_TARGET_NULL:return"Target connection is null.";case t.Connection.REASON_CHECKS_FAILED:return"Connection checks failed. "+n+" expected "+n.getCheck()+", found "+i.getCheck();case t.Connection.REASON_SHADOW_PARENT:return"Connecting non-shadow to shadow block.";case t.Connection.REASON_DRAG_CHECKS_FAILED:return"Drag checks failed.";default:return"Unknown connection failure: this should never happen!"}},t.ConnectionChecker.prototype.doSafetyChecks=function(e,n){if(!e||!n)return t.Connection.REASON_TARGET_NULL;if(e.isSuperior())var i=e.getSourceBlock(),o=n.getSourceBlock();else o=e.getSourceBlock(),i=n.getSourceBlock();return i==o?t.Connection.REASON_SELF_CONNECTION:n.type!=t.OPPOSITE_TYPE[e.type]?t.Connection.REASON_WRONG_TYPE:i.workspace!==o.workspace?t.Connection.REASON_DIFFERENT_WORKSPACES:i.isShadow()&&!o.isShadow()?t.Connection.REASON_SHADOW_PARENT:t.Connection.CAN_CONNECT},t.ConnectionChecker.prototype.doTypeChecks=function(t,e){if(t=t.getCheck(),e=e.getCheck(),!t||!e)return!0;for(var n=0;n<t.length;n++)if(-1!=e.indexOf(t[n]))return!0;return!1},t.ConnectionChecker.prototype.doDragChecks=function(e,n,i){if(e.distanceFrom(n)>i||n.getSourceBlock().isInsertionMarker())return!1;switch(n.type){case t.connectionTypes.PREVIOUS_STATEMENT:return this.canConnectToPrevious_(e,n);case t.connectionTypes.OUTPUT_VALUE:if(n.isConnected()&&!n.targetBlock().isInsertionMarker()||e.isConnected())return!1;break;case t.connectionTypes.INPUT_VALUE:if(n.isConnected()&&!n.targetBlock().isMovable()&&!n.targetBlock().isShadow())return!1;break;case t.connectionTypes.NEXT_STATEMENT:if(n.isConnected()&&!e.getSourceBlock().nextConnection&&!n.targetBlock().isShadow()&&n.targetBlock().nextConnection)return!1;break;default:return!1}return-1==t.draggingConnections.indexOf(n)},t.ConnectionChecker.prototype.canConnectToPrevious_=function(e,n){return!(e.targetConnection||-1!=t.draggingConnections.indexOf(n)||n.targetConnection&&(!(e=n.targetBlock()).isInsertionMarker()||e.getPreviousBlock()))},t.registry.register(t.registry.Type.CONNECTION_CHECKER,t.registry.DEFAULT,t.ConnectionChecker),t.VariableMap=function(t){this.variableMap_=Object.create(null),this.workspace=t},t.VariableMap.prototype.clear=function(){this.variableMap_=Object.create(null)},t.VariableMap.prototype.renameVariable=function(e,n){var i=this.getVariable(n,e.type),o=this.workspace.getAllBlocks(!1);t.Events.setGroup(!0);try{i&&i.getId()!=e.getId()?this.renameVariableWithConflict_(e,n,i,o):this.renameVariableAndUses_(e,n,o)}finally{t.Events.setGroup(!1)}},t.VariableMap.prototype.renameVariableById=function(t,e){var n=this.getVariableById(t);if(!n)throw Error("Tried to rename a variable that didn't exist. ID: "+t);this.renameVariable(n,e)},t.VariableMap.prototype.renameVariableAndUses_=function(e,n,i){for(t.Events.fire(new(t.Events.get(t.Events.VAR_RENAME))(e,n)),e.name=n,n=0;n<i.length;n++)i[n].updateVarName(e)},t.VariableMap.prototype.renameVariableWithConflict_=function(e,n,i,o){var r=e.type;for(n!=i.name&&this.renameVariableAndUses_(i,n,o),n=0;n<o.length;n++)o[n].renameVarById(e.getId(),i.getId());t.Events.fire(new(t.Events.get(t.Events.VAR_DELETE))(e)),e=this.getVariablesOfType(r).indexOf(e),this.variableMap_[r].splice(e,1)},t.VariableMap.prototype.createVariable=function(e,n,i){var o=this.getVariable(e,n);if(o){if(i&&o.getId()!=i)throw Error('Variable "'+e+'" is already in use and its id is "'+o.getId()+'" which conflicts with the passed in id, "'+i+'".');return o}if(i&&this.getVariableById(i))throw Error('Variable id, "'+i+'", is already in use.');return o=i||t.utils.genUid(),o=new t.VariableModel(this.workspace,e,n=n||"",o),(e=this.variableMap_[n]||[]).push(o),delete this.variableMap_[n],this.variableMap_[n]=e,o},t.VariableMap.prototype.deleteVariable=function(e){for(var n,i=this.variableMap_[e.type],o=0;n=i[o];o++)if(n.getId()==e.getId()){i.splice(o,1),t.Events.fire(new(t.Events.get(t.Events.VAR_DELETE))(e));break}},t.VariableMap.prototype.deleteVariableById=function(e){var n=this.getVariableById(e);if(n){var i,o=n.name,r=this.getVariableUsesById(e);for(e=0;i=r[e];e++)if("procedures_defnoreturn"==i.type||"procedures_defreturn"==i.type)return e=i.getFieldValue("NAME"),o=t.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",o).replace("%2",e),void t.alert(o);var s=this;1<r.length?(o=t.Msg.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(r.length)).replace("%2",o),t.confirm(o,function(t){t&&n&&s.deleteVariableInternal(n,r)})):s.deleteVariableInternal(n,r)}else console.warn("Can't delete non-existent variable: "+e)},t.VariableMap.prototype.deleteVariableInternal=function(e,n){var i=t.Events.getGroup();i||t.Events.setGroup(!0);try{for(var o=0;o<n.length;o++)n[o].dispose(!0);this.deleteVariable(e)}finally{i||t.Events.setGroup(!1)}},t.VariableMap.prototype.getVariable=function(e,n){if(n=this.variableMap_[n||""])for(var i,o=0;i=n[o];o++)if(t.Names.equals(i.name,e))return i;return null},t.VariableMap.prototype.getVariableById=function(t){for(var e=Object.keys(this.variableMap_),n=0;n<e.length;n++)for(var i,o=e[n],r=0;i=this.variableMap_[o][r];r++)if(i.getId()==t)return i;return null},t.VariableMap.prototype.getVariablesOfType=function(t){return(t=this.variableMap_[t||""])?t.slice():[]},t.VariableMap.prototype.getVariableTypes=function(e){var n={};t.utils.object.mixin(n,this.variableMap_),e&&e.getPotentialVariableMap()&&t.utils.object.mixin(n,e.getPotentialVariableMap().variableMap_),e=Object.keys(n),n=!1;for(var i=0;i<e.length;i++)""==e[i]&&(n=!0);return n||e.push(""),e},t.VariableMap.prototype.getAllVariables=function(){var t,e=[];for(t in this.variableMap_)e=e.concat(this.variableMap_[t]);return e},t.VariableMap.prototype.getAllVariableNames=function(){var t,e=[];for(t in this.variableMap_)for(var n,i=this.variableMap_[t],o=0;n=i[o];o++)e.push(n.name);return e},t.VariableMap.prototype.getVariableUsesById=function(t){for(var e=[],n=this.workspace.getAllBlocks(!1),i=0;i<n.length;i++){var o=n[i].getVarModels();if(o)for(var r=0;r<o.length;r++)o[r].getId()==t&&e.push(n[i])}return e},t.Workspace=function(e){this.id=t.utils.genUid(),t.Workspace.WorkspaceDB_[this.id]=this,this.options=e||new t.Options({}),this.RTL=!!this.options.RTL,this.horizontalLayout=!!this.options.horizontalLayout,this.toolboxPosition=this.options.toolboxPosition,this.connectionChecker=new(t.registry.getClassFromOptions(t.registry.Type.CONNECTION_CHECKER,this.options,!0))(this),this.topBlocks_=[],this.topComments_=[],this.commentDB_=Object.create(null),this.listeners_=[],this.undoStack_=[],this.redoStack_=[],this.blockDB_=Object.create(null),this.typedBlocksDB_=Object.create(null),this.variableMap_=new t.VariableMap(this),this.potentialVariableMap_=null},t.Workspace.prototype.rendered=!1,t.Workspace.prototype.isClearing=!1,t.Workspace.prototype.MAX_UNDO=1024,t.Workspace.prototype.connectionDBList=null,t.Workspace.prototype.dispose=function(){this.listeners_.length=0,this.clear(),delete t.Workspace.WorkspaceDB_[this.id]},t.Workspace.SCAN_ANGLE=3,t.Workspace.prototype.sortObjects_=function(e,n){return e=e.getRelativeToSurfaceXY(),n=n.getRelativeToSurfaceXY(),e.y+t.Workspace.prototype.sortObjects_.offset*e.x-(n.y+t.Workspace.prototype.sortObjects_.offset*n.x)},t.Workspace.prototype.addTopBlock=function(t){this.topBlocks_.push(t)},t.Workspace.prototype.removeTopBlock=function(e){if(!t.utils.arrayRemove(this.topBlocks_,e))throw Error("Block not present in workspace's list of top-most blocks.")},t.Workspace.prototype.getTopBlocks=function(e){var n=[].concat(this.topBlocks_);return e&&1<n.length&&(this.sortObjects_.offset=Math.sin(t.utils.math.toRadians(t.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),n.sort(this.sortObjects_)),n},t.Workspace.prototype.addTypedBlock=function(t){this.typedBlocksDB_[t.type]||(this.typedBlocksDB_[t.type]=[]),this.typedBlocksDB_[t.type].push(t)},t.Workspace.prototype.removeTypedBlock=function(t){this.typedBlocksDB_[t.type].splice(this.typedBlocksDB_[t.type].indexOf(t),1),this.typedBlocksDB_[t.type].length||delete this.typedBlocksDB_[t.type]},t.Workspace.prototype.getBlocksByType=function(e,n){return this.typedBlocksDB_[e]?(e=this.typedBlocksDB_[e].slice(0),n&&1<e.length&&(this.sortObjects_.offset=Math.sin(t.utils.math.toRadians(t.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),e.sort(this.sortObjects_)),e):[]},t.Workspace.prototype.addTopComment=function(t){this.topComments_.push(t),this.commentDB_[t.id]&&console.warn('Overriding an existing comment on this workspace, with id "'+t.id+'"'),this.commentDB_[t.id]=t},t.Workspace.prototype.removeTopComment=function(e){if(!t.utils.arrayRemove(this.topComments_,e))throw Error("Comment not present in workspace's list of top-most comments.");delete this.commentDB_[e.id]},t.Workspace.prototype.getTopComments=function(e){var n=[].concat(this.topComments_);return e&&1<n.length&&(this.sortObjects_.offset=Math.sin(t.utils.math.toRadians(t.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),n.sort(this.sortObjects_)),n},t.Workspace.prototype.getAllBlocks=function(t){if(t){t=this.getTopBlocks(!0);for(var e=[],n=0;n<t.length;n++)e.push.apply(e,t[n].getDescendants(!0))}else for(e=this.getTopBlocks(!1),n=0;n<e.length;n++)e.push.apply(e,e[n].getChildren(!1));return e.filter(function(t){return!t.isInsertionMarker()})},t.Workspace.prototype.clear=function(){this.isClearing=!0;try{var e=t.Events.getGroup();for(e||t.Events.setGroup(!0);this.topBlocks_.length;)this.topBlocks_[0].dispose(!1);for(;this.topComments_.length;)this.topComments_[this.topComments_.length-1].dispose(!1);e||t.Events.setGroup(!1),this.variableMap_.clear(),this.potentialVariableMap_&&this.potentialVariableMap_.clear()}finally{this.isClearing=!1}},t.Workspace.prototype.renameVariableById=function(t,e){this.variableMap_.renameVariableById(t,e)},t.Workspace.prototype.createVariable=function(t,e,n){return this.variableMap_.createVariable(t,e,n)},t.Workspace.prototype.getVariableUsesById=function(t){return this.variableMap_.getVariableUsesById(t)},t.Workspace.prototype.deleteVariableById=function(t){this.variableMap_.deleteVariableById(t)},t.Workspace.prototype.getVariable=function(t,e){return this.variableMap_.getVariable(t,e)},t.Workspace.prototype.getVariableById=function(t){return this.variableMap_.getVariableById(t)},t.Workspace.prototype.getVariablesOfType=function(t){return this.variableMap_.getVariablesOfType(t)},t.Workspace.prototype.getVariableTypes=function(){return this.variableMap_.getVariableTypes(this)},t.Workspace.prototype.getAllVariables=function(){return this.variableMap_.getAllVariables()},t.Workspace.prototype.getAllVariableNames=function(){return this.variableMap_.getAllVariableNames()},t.Workspace.prototype.getWidth=function(){return 0},t.Workspace.prototype.newBlock=function(e,n){return new t.Block(this,e,n)},t.Workspace.prototype.remainingCapacity=function(){return isNaN(this.options.maxBlocks)?1/0:this.options.maxBlocks-this.getAllBlocks(!1).length},t.Workspace.prototype.remainingCapacityOfType=function(t){return this.options.maxInstances?(void 0!==this.options.maxInstances[t]?this.options.maxInstances[t]:1/0)-this.getBlocksByType(t,!1).length:1/0},t.Workspace.prototype.isCapacityAvailable=function(t){if(!this.hasBlockLimits())return!0;var e,n=0;for(e in t){if(t[e]>this.remainingCapacityOfType(e))return!1;n+=t[e]}return!(n>this.remainingCapacity())},t.Workspace.prototype.hasBlockLimits=function(){return 1/0!=this.options.maxBlocks||!!this.options.maxInstances},t.Workspace.prototype.getUndoStack=function(){return this.undoStack_},t.Workspace.prototype.getRedoStack=function(){return this.redoStack_},t.Workspace.prototype.undo=function(e){var n=e?this.redoStack_:this.undoStack_,i=e?this.undoStack_:this.redoStack_,o=n.pop();if(o){for(var r=[o];n.length&&o.group&&o.group==n[n.length-1].group;)r.push(n.pop());for(n=0;o=r[n];n++)i.push(o);r=t.Events.filter(r,e),t.Events.recordUndo=!1;try{for(n=0;o=r[n];n++)o.run(e)}finally{t.Events.recordUndo=!0}}},t.Workspace.prototype.clearUndo=function(){this.undoStack_.length=0,this.redoStack_.length=0,t.Events.clearPendingUndo()},t.Workspace.prototype.addChangeListener=function(t){return this.listeners_.push(t),t},t.Workspace.prototype.removeChangeListener=function(e){t.utils.arrayRemove(this.listeners_,e)},t.Workspace.prototype.fireChangeListener=function(t){if(t.recordUndo)for(this.undoStack_.push(t),this.redoStack_.length=0;this.undoStack_.length>this.MAX_UNDO&&0<=this.MAX_UNDO;)this.undoStack_.shift();for(var e,n=0;e=this.listeners_[n];n++)e(t)},t.Workspace.prototype.getBlockById=function(t){return this.blockDB_[t]||null},t.Workspace.prototype.setBlockById=function(t,e){this.blockDB_[t]=e},t.Workspace.prototype.removeBlockById=function(t){delete this.blockDB_[t]},t.Workspace.prototype.getCommentById=function(t){return this.commentDB_[t]||null},t.Workspace.prototype.allInputsFilled=function(t){for(var e,n=this.getTopBlocks(!1),i=0;e=n[i];i++)if(!e.allInputsFilled(t))return!1;return!0},t.Workspace.prototype.getPotentialVariableMap=function(){return this.potentialVariableMap_},t.Workspace.prototype.createPotentialVariableMap=function(){this.potentialVariableMap_=new t.VariableMap(this)},t.Workspace.prototype.getVariableMap=function(){return this.variableMap_},t.Workspace.prototype.setVariableMap=function(t){this.variableMap_=t},t.Workspace.WorkspaceDB_=Object.create(null),t.Workspace.getById=function(e){return t.Workspace.WorkspaceDB_[e]||null},t.Workspace.getAll=function(){var e,n=[];for(e in t.Workspace.WorkspaceDB_)n.push(t.Workspace.WorkspaceDB_[e]);return n},t.Bubble=function(e,n,i,o,r,s){this.workspace_=e,this.content_=n,this.shape_=i,this.onMouseDownResizeWrapper_=this.onMouseDownBubbleWrapper_=this.moveCallback_=this.resizeCallback_=null,this.disposed=!1,i=t.Bubble.ARROW_ANGLE,this.workspace_.RTL&&(i=-i),this.arrow_radians_=t.utils.math.toRadians(i),e.getBubbleCanvas().appendChild(this.createDom_(n,!(!r||!s))),this.setAnchorLocation(o),r&&s||(r=(e=this.content_.getBBox()).width+2*t.Bubble.BORDER_WIDTH,s=e.height+2*t.Bubble.BORDER_WIDTH),this.setBubbleSize(r,s),this.positionBubble_(),this.renderArrow_(),this.rendered_=!0},t.Bubble.BORDER_WIDTH=6,t.Bubble.ARROW_THICKNESS=5,t.Bubble.ARROW_ANGLE=20,t.Bubble.ARROW_BEND=4,t.Bubble.ANCHOR_RADIUS=8,t.Bubble.onMouseUpWrapper_=null,t.Bubble.onMouseMoveWrapper_=null,t.Bubble.unbindDragEvents_=function(){t.Bubble.onMouseUpWrapper_&&(t.browserEvents.unbind(t.Bubble.onMouseUpWrapper_),t.Bubble.onMouseUpWrapper_=null),t.Bubble.onMouseMoveWrapper_&&(t.browserEvents.unbind(t.Bubble.onMouseMoveWrapper_),t.Bubble.onMouseMoveWrapper_=null)},t.Bubble.bubbleMouseUp_=function(e){t.Touch.clearTouchIdentifier(),t.Bubble.unbindDragEvents_()},t.Bubble.prototype.rendered_=!1,t.Bubble.prototype.anchorXY_=null,t.Bubble.prototype.relativeLeft_=0,t.Bubble.prototype.relativeTop_=0,t.Bubble.prototype.width_=0,t.Bubble.prototype.height_=0,t.Bubble.prototype.autoLayout_=!0,t.Bubble.prototype.createDom_=function(e,n){this.bubbleGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{},null);var i={filter:"url(#"+this.workspace_.getRenderer().getConstants().embossFilterId+")"};return t.utils.userAgent.JAVA_FX&&(i={}),i=t.utils.dom.createSvgElement(t.utils.Svg.G,i,this.bubbleGroup_),this.bubbleArrow_=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{},i),this.bubbleBack_=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blocklyDraggable",x:0,y:0,rx:t.Bubble.BORDER_WIDTH,ry:t.Bubble.BORDER_WIDTH},i),n?(this.resizeGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:this.workspace_.RTL?"blocklyResizeSW":"blocklyResizeSE"},this.bubbleGroup_),t.utils.dom.createSvgElement(t.utils.Svg.POLYGON,{points:"0,x x,x x,0".replace(/x/g,(n=2*t.Bubble.BORDER_WIDTH).toString())},this.resizeGroup_),t.utils.dom.createSvgElement(t.utils.Svg.LINE,{class:"blocklyResizeLine",x1:n/3,y1:n-1,x2:n-1,y2:n/3},this.resizeGroup_),t.utils.dom.createSvgElement(t.utils.Svg.LINE,{class:"blocklyResizeLine",x1:2*n/3,y1:n-1,x2:n-1,y2:2*n/3},this.resizeGroup_)):this.resizeGroup_=null,this.workspace_.options.readOnly||(this.onMouseDownBubbleWrapper_=t.browserEvents.conditionalBind(this.bubbleBack_,"mousedown",this,this.bubbleMouseDown_),this.resizeGroup_&&(this.onMouseDownResizeWrapper_=t.browserEvents.conditionalBind(this.resizeGroup_,"mousedown",this,this.resizeMouseDown_))),this.bubbleGroup_.appendChild(e),this.bubbleGroup_},t.Bubble.prototype.getSvgRoot=function(){return this.bubbleGroup_},t.Bubble.prototype.setSvgId=function(t){this.bubbleGroup_.dataset&&(this.bubbleGroup_.dataset.blockId=t)},t.Bubble.prototype.bubbleMouseDown_=function(t){var e=this.workspace_.getGesture(t);e&&e.handleBubbleStart(t,this)},t.Bubble.prototype.showContextMenu=function(t){},t.Bubble.prototype.isDeletable=function(){return!1},t.Bubble.prototype.setDeleteStyle=function(t){},t.Bubble.prototype.resizeMouseDown_=function(e){this.promote(),t.Bubble.unbindDragEvents_(),t.utils.isRightButton(e)||(this.workspace_.startDrag(e,new t.utils.Coordinate(this.workspace_.RTL?-this.width_:this.width_,this.height_)),t.Bubble.onMouseUpWrapper_=t.browserEvents.conditionalBind(document,"mouseup",this,t.Bubble.bubbleMouseUp_),t.Bubble.onMouseMoveWrapper_=t.browserEvents.conditionalBind(document,"mousemove",this,this.resizeMouseMove_),t.hideChaff()),e.stopPropagation()},t.Bubble.prototype.resizeMouseMove_=function(t){this.autoLayout_=!1,t=this.workspace_.moveDrag(t),this.setBubbleSize(this.workspace_.RTL?-t.x:t.x,t.y),this.workspace_.RTL&&this.positionBubble_()},t.Bubble.prototype.registerResizeEvent=function(t){this.resizeCallback_=t},t.Bubble.prototype.registerMoveEvent=function(t){this.moveCallback_=t},t.Bubble.prototype.promote=function(){var t=this.bubbleGroup_.parentNode;return t.lastChild!==this.bubbleGroup_&&(t.appendChild(this.bubbleGroup_),!0)},t.Bubble.prototype.setAnchorLocation=function(t){this.anchorXY_=t,this.rendered_&&this.positionBubble_()},t.Bubble.prototype.layoutBubble_=function(){var t=this.workspace_.getMetricsManager().getViewMetrics(!0),e=this.getOptimalRelativeLeft_(t),n=this.getOptimalRelativeTop_(t),i=this.shape_.getBBox(),o={x:e,y:-this.height_-this.workspace_.getRenderer().getConstants().MIN_BLOCK_HEIGHT},r={x:-this.width_-30,y:n};n={x:i.width,y:n};var s={x:e,y:i.height};e=i.width<i.height?n:s,i=i.width<i.height?s:n,n=this.getOverlap_(o,t),s=this.getOverlap_(r,t);var a=this.getOverlap_(e,t);t=this.getOverlap_(i,t),n==(t=Math.max(n,s,a,t))?(this.relativeLeft_=o.x,this.relativeTop_=o.y):s==t?(this.relativeLeft_=r.x,this.relativeTop_=r.y):a==t?(this.relativeLeft_=e.x,this.relativeTop_=e.y):(this.relativeLeft_=i.x,this.relativeTop_=i.y)},t.Bubble.prototype.getOverlap_=function(t,e){var n=this.workspace_.RTL?this.anchorXY_.x-t.x-this.width_:t.x+this.anchorXY_.x;return t=t.y+this.anchorXY_.y,Math.max(0,Math.min(1,(Math.min(n+this.width_,e.left+e.width)-Math.max(n,e.left))*(Math.min(t+this.height_,e.top+e.height)-Math.max(t,e.top))/(this.width_*this.height_)))},t.Bubble.prototype.getOptimalRelativeLeft_=function(e){var n=-this.width_/4;if(this.width_>e.width)return n;if(this.workspace_.RTL)var i=this.anchorXY_.x-n,o=i-this.width_,r=e.left+e.width,s=e.left+t.Scrollbar.scrollbarThickness/this.workspace_.scale;else i=(o=n+this.anchorXY_.x)+this.width_,s=e.left,r=e.left+e.width-t.Scrollbar.scrollbarThickness/this.workspace_.scale;return this.workspace_.RTL?o<s?n=-(s-this.anchorXY_.x+this.width_):i>r&&(n=-(r-this.anchorXY_.x)):o<s?n=s-this.anchorXY_.x:i>r&&(n=r-this.anchorXY_.x-this.width_),n},t.Bubble.prototype.getOptimalRelativeTop_=function(e){var n=-this.height_/4;if(this.height_>e.height)return n;var i=this.anchorXY_.y+n,o=e.top;e=e.top+e.height-t.Scrollbar.scrollbarThickness/this.workspace_.scale;var r=this.anchorXY_.y;return i<o?n=o-r:i+this.height_>e&&(n=e-r-this.height_),n},t.Bubble.prototype.positionBubble_=function(){var t=this.anchorXY_.x;this.moveTo(t=this.workspace_.RTL?t-(this.relativeLeft_+this.width_):t+this.relativeLeft_,this.relativeTop_+this.anchorXY_.y)},t.Bubble.prototype.moveTo=function(t,e){this.bubbleGroup_.setAttribute("transform","translate("+t+","+e+")")},t.Bubble.prototype.setDragging=function(t){!t&&this.moveCallback_&&this.moveCallback_()},t.Bubble.prototype.getBubbleSize=function(){return new t.utils.Size(this.width_,this.height_)},t.Bubble.prototype.setBubbleSize=function(e,n){var i=2*t.Bubble.BORDER_WIDTH;e=Math.max(e,i+45),n=Math.max(n,i+20),this.width_=e,this.height_=n,this.bubbleBack_.setAttribute("width",e),this.bubbleBack_.setAttribute("height",n),this.resizeGroup_&&this.resizeGroup_.setAttribute("transform",this.workspace_.RTL?"translate("+2*t.Bubble.BORDER_WIDTH+","+(n-i)+") scale(-1 1)":"translate("+(e-i)+","+(n-i)+")"),this.autoLayout_&&this.layoutBubble_(),this.positionBubble_(),this.renderArrow_(),this.resizeCallback_&&this.resizeCallback_()},t.Bubble.prototype.renderArrow_=function(){var e=[],n=this.width_/2,i=this.height_/2,o=-this.relativeLeft_,r=-this.relativeTop_;if(n==o&&i==r)e.push("M "+n+","+i);else{r-=i,o-=n,this.workspace_.RTL&&(o*=-1);var s=Math.sqrt(r*r+o*o),a=Math.acos(o/s);0>r&&(a=2*Math.PI-a);var l=a+Math.PI/2;l>2*Math.PI&&(l-=2*Math.PI);var c=Math.sin(l),u=Math.cos(l),h=this.getBubbleSize();l=(h.width+h.height)/t.Bubble.ARROW_THICKNESS,l=Math.min(l,h.width,h.height)/4,o=n+(h=1-t.Bubble.ANCHOR_RADIUS/s)*o,r=i+h*r,h=n+l*u;var d=i+l*c;n-=l*u,i-=l*c,(c=a+this.arrow_radians_)>2*Math.PI&&(c-=2*Math.PI),a=Math.sin(c)*s/t.Bubble.ARROW_BEND,s=Math.cos(c)*s/t.Bubble.ARROW_BEND,e.push("M"+h+","+d),e.push("C"+(h+s)+","+(d+a)+" "+o+","+r+" "+o+","+r),e.push("C"+o+","+r+" "+(n+s)+","+(i+a)+" "+n+","+i)}e.push("z"),this.bubbleArrow_.setAttribute("d",e.join(" "))},t.Bubble.prototype.setColour=function(t){this.bubbleBack_.setAttribute("fill",t),this.bubbleArrow_.setAttribute("fill",t)},t.Bubble.prototype.dispose=function(){this.onMouseDownBubbleWrapper_&&t.browserEvents.unbind(this.onMouseDownBubbleWrapper_),this.onMouseDownResizeWrapper_&&t.browserEvents.unbind(this.onMouseDownResizeWrapper_),t.Bubble.unbindDragEvents_(),t.utils.dom.removeNode(this.bubbleGroup_),this.disposed=!0},t.Bubble.prototype.moveDuringDrag=function(t,e){t?t.translateSurface(e.x,e.y):this.moveTo(e.x,e.y),this.relativeLeft_=this.workspace_.RTL?this.anchorXY_.x-e.x-this.width_:e.x-this.anchorXY_.x,this.relativeTop_=e.y-this.anchorXY_.y,this.renderArrow_()},t.Bubble.prototype.getRelativeToSurfaceXY=function(){return new t.utils.Coordinate(this.workspace_.RTL?-this.relativeLeft_+this.anchorXY_.x-this.width_:this.anchorXY_.x+this.relativeLeft_,this.anchorXY_.y+this.relativeTop_)},t.Bubble.prototype.setAutoLayout=function(t){this.autoLayout_=t},t.Bubble.textToDom=function(e){var n=t.utils.dom.createSvgElement(t.utils.Svg.TEXT,{class:"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:t.Bubble.BORDER_WIDTH},null);e=e.split("\n");for(var i=0;i<e.length;i++){var o=t.utils.dom.createSvgElement(t.utils.Svg.TSPAN,{dy:"1em",x:t.Bubble.BORDER_WIDTH},n),r=document.createTextNode(e[i]);o.appendChild(r)}return n},t.Bubble.createNonEditableBubble=function(e,n,i){if((i=new t.Bubble(n.workspace,e,n.pathObject.svgPath,i,null,null)).setSvgId(n.id),n.RTL){n=e.getBBox().width;for(var o,r=0;o=e.childNodes[r];r++)o.setAttribute("text-anchor","end"),o.setAttribute("x",n+t.Bubble.BORDER_WIDTH)}return i},t.Events.CommentBase=function(e){this.commentId=(this.isBlank=void 0===e)?"":e.id,this.workspaceId=this.isBlank?"":e.workspace.id,this.group=t.Events.getGroup(),this.recordUndo=t.Events.recordUndo},t.utils.object.inherits(t.Events.CommentBase,t.Events.Abstract),t.Events.CommentBase.prototype.toJson=function(){var e=t.Events.CommentBase.superClass_.toJson.call(this);return this.commentId&&(e.commentId=this.commentId),e},t.Events.CommentBase.prototype.fromJson=function(e){t.Events.CommentBase.superClass_.fromJson.call(this,e),this.commentId=e.commentId},t.Events.CommentChange=function(e,n,i){t.Events.CommentChange.superClass_.constructor.call(this,e),e&&(this.oldContents_=void 0===n?"":n,this.newContents_=void 0===i?"":i)},t.utils.object.inherits(t.Events.CommentChange,t.Events.CommentBase),t.Events.CommentChange.prototype.type=t.Events.COMMENT_CHANGE,t.Events.CommentChange.prototype.toJson=function(){var e=t.Events.CommentChange.superClass_.toJson.call(this);return e.oldContents=this.oldContents_,e.newContents=this.newContents_,e},t.Events.CommentChange.prototype.fromJson=function(e){t.Events.CommentChange.superClass_.fromJson.call(this,e),this.oldContents_=e.oldContents,this.newContents_=e.newContents},t.Events.CommentChange.prototype.isNull=function(){return this.oldContents_==this.newContents_},t.Events.CommentChange.prototype.run=function(t){var e=this.getEventWorkspace_().getCommentById(this.commentId);e?e.setContent(t?this.newContents_:this.oldContents_):console.warn("Can't change non-existent comment: "+this.commentId)},t.Events.CommentCreate=function(e){t.Events.CommentCreate.superClass_.constructor.call(this,e),e&&(this.xml=e.toXmlWithXY())},t.utils.object.inherits(t.Events.CommentCreate,t.Events.CommentBase),t.Events.CommentCreate.prototype.type=t.Events.COMMENT_CREATE,t.Events.CommentCreate.prototype.toJson=function(){var e=t.Events.CommentCreate.superClass_.toJson.call(this);return e.xml=t.Xml.domToText(this.xml),e},t.Events.CommentCreate.prototype.fromJson=function(e){t.Events.CommentCreate.superClass_.fromJson.call(this,e),this.xml=t.Xml.textToDom(e.xml)},t.Events.CommentCreate.prototype.run=function(e){t.Events.CommentCreateDeleteHelper(this,e)},t.Events.CommentCreateDeleteHelper=function(e,n){var i=e.getEventWorkspace_();n?((n=t.utils.xml.createElement("xml")).appendChild(e.xml),t.Xml.domToWorkspace(n,i)):(i=i.getCommentById(e.commentId))?i.dispose(!1,!1):console.warn("Can't uncreate non-existent comment: "+e.commentId)},t.Events.CommentDelete=function(e){t.Events.CommentDelete.superClass_.constructor.call(this,e),e&&(this.xml=e.toXmlWithXY())},t.utils.object.inherits(t.Events.CommentDelete,t.Events.CommentBase),t.Events.CommentDelete.prototype.type=t.Events.COMMENT_DELETE,t.Events.CommentDelete.prototype.toJson=function(){return t.Events.CommentDelete.superClass_.toJson.call(this)},t.Events.CommentDelete.prototype.fromJson=function(e){t.Events.CommentDelete.superClass_.fromJson.call(this,e)},t.Events.CommentDelete.prototype.run=function(e){t.Events.CommentCreateDeleteHelper(this,!e)},t.Events.CommentMove=function(e){t.Events.CommentMove.superClass_.constructor.call(this,e),e&&(this.comment_=e,this.oldCoordinate_=e.getXY(),this.newCoordinate_=null)},t.utils.object.inherits(t.Events.CommentMove,t.Events.CommentBase),t.Events.CommentMove.prototype.recordNew=function(){if(!this.comment_)throw Error("Tried to record the new position of a comment on the same event twice.");this.newCoordinate_=this.comment_.getXY(),this.comment_=null},t.Events.CommentMove.prototype.type=t.Events.COMMENT_MOVE,t.Events.CommentMove.prototype.setOldCoordinate=function(t){this.oldCoordinate_=t},t.Events.CommentMove.prototype.toJson=function(){var e=t.Events.CommentMove.superClass_.toJson.call(this);return this.oldCoordinate_&&(e.oldCoordinate=Math.round(this.oldCoordinate_.x)+","+Math.round(this.oldCoordinate_.y)),this.newCoordinate_&&(e.newCoordinate=Math.round(this.newCoordinate_.x)+","+Math.round(this.newCoordinate_.y)),e},t.Events.CommentMove.prototype.fromJson=function(e){if(t.Events.CommentMove.superClass_.fromJson.call(this,e),e.oldCoordinate){var n=e.oldCoordinate.split(",");this.oldCoordinate_=new t.utils.Coordinate(Number(n[0]),Number(n[1]))}e.newCoordinate&&(n=e.newCoordinate.split(","),this.newCoordinate_=new t.utils.Coordinate(Number(n[0]),Number(n[1])))},t.Events.CommentMove.prototype.isNull=function(){return t.utils.Coordinate.equals(this.oldCoordinate_,this.newCoordinate_)},t.Events.CommentMove.prototype.run=function(t){var e=this.getEventWorkspace_().getCommentById(this.commentId);if(e){t=t?this.newCoordinate_:this.oldCoordinate_;var n=e.getXY();e.moveBy(t.x-n.x,t.y-n.y)}else console.warn("Can't move non-existent comment: "+this.commentId)},t.registry.register(t.registry.Type.EVENT,t.Events.COMMENT_CREATE,t.Events.CommentCreate),t.registry.register(t.registry.Type.EVENT,t.Events.COMMENT_CHANGE,t.Events.CommentChange),t.registry.register(t.registry.Type.EVENT,t.Events.COMMENT_MOVE,t.Events.CommentMove),t.registry.register(t.registry.Type.EVENT,t.Events.COMMENT_DELETE,t.Events.CommentDelete),t.BubbleDragger=function(e,n){this.draggingBubble_=e,this.workspace_=n,this.deleteArea_=null,this.wouldDeleteBubble_=!1,this.startXY_=this.draggingBubble_.getRelativeToSurfaceXY(),this.dragSurface_=t.utils.is3dSupported()&&n.getBlockDragSurface()?n.getBlockDragSurface():null},t.BubbleDragger.prototype.dispose=function(){this.dragSurface_=this.workspace_=this.draggingBubble_=null},t.BubbleDragger.prototype.startBubbleDrag=function(){t.Events.getGroup()||t.Events.setGroup(!0),this.workspace_.setResizesEnabled(!1),this.draggingBubble_.setAutoLayout(!1),this.dragSurface_&&this.moveToDragSurface_(),this.draggingBubble_.setDragging&&this.draggingBubble_.setDragging(!0);var e=this.workspace_.getToolbox();if(e&&"function"==typeof e.addStyle){var n=this.draggingBubble_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab";e.addStyle(n)}},t.BubbleDragger.prototype.dragBubble=function(e,n){n=this.pixelsToWorkspaceUnits_(n),n=t.utils.Coordinate.sum(this.startXY_,n),this.draggingBubble_.moveDuringDrag(this.dragSurface_,n),this.draggingBubble_.isDeletable()&&(this.deleteArea_=this.workspace_.isDeleteArea(e),this.updateCursorDuringBubbleDrag_())},t.BubbleDragger.prototype.maybeDeleteBubble_=function(){var t=this.workspace_.trashcan;return this.wouldDeleteBubble_?(t&&setTimeout(t.closeLid.bind(t),100),this.fireMoveEvent_(),this.draggingBubble_.dispose(!1,!0)):t&&t.closeLid(),this.wouldDeleteBubble_},t.BubbleDragger.prototype.updateCursorDuringBubbleDrag_=function(){this.wouldDeleteBubble_=this.deleteArea_!=t.DELETE_AREA_NONE;var e=this.workspace_.trashcan;this.wouldDeleteBubble_?(this.draggingBubble_.setDeleteStyle(!0),this.deleteArea_==t.DELETE_AREA_TRASH&&e&&e.setLidOpen(!0)):(this.draggingBubble_.setDeleteStyle(!1),e&&e.setLidOpen(!1))},t.BubbleDragger.prototype.endBubbleDrag=function(e,n){this.dragBubble(e,n),e=this.pixelsToWorkspaceUnits_(n),e=t.utils.Coordinate.sum(this.startXY_,e),this.draggingBubble_.moveTo(e.x,e.y),this.maybeDeleteBubble_()||(this.dragSurface_&&this.dragSurface_.clearAndHide(this.workspace_.getBubbleCanvas()),this.draggingBubble_.setDragging&&this.draggingBubble_.setDragging(!1),this.fireMoveEvent_()),this.workspace_.setResizesEnabled(!0),(e=this.workspace_.getToolbox())&&"function"==typeof e.removeStyle&&(n=this.draggingBubble_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab",e.removeStyle(n)),t.Events.setGroup(!1)},t.BubbleDragger.prototype.fireMoveEvent_=function(){if(this.draggingBubble_.isComment){var e=new(t.Events.get(t.Events.COMMENT_MOVE))(this.draggingBubble_);e.setOldCoordinate(this.startXY_),e.recordNew(),t.Events.fire(e)}},t.BubbleDragger.prototype.pixelsToWorkspaceUnits_=function(e){return e=new t.utils.Coordinate(e.x/this.workspace_.scale,e.y/this.workspace_.scale),this.workspace_.isMutator&&e.scale(1/this.workspace_.options.parentWorkspace.scale),e},t.BubbleDragger.prototype.moveToDragSurface_=function(){this.draggingBubble_.moveTo(0,0),this.dragSurface_.translateSurface(this.startXY_.x,this.startXY_.y),this.dragSurface_.setBlocksAndShow(this.draggingBubble_.getSvgRoot())},t.Events.Click=function(e,n,i){t.Events.Click.superClass_.constructor.call(this,e?e.workspace.id:n),this.blockId=e?e.id:null,this.targetType=i},t.utils.object.inherits(t.Events.Click,t.Events.UiBase),t.Events.Click.prototype.type=t.Events.CLICK,t.Events.Click.prototype.toJson=function(){var e=t.Events.Click.superClass_.toJson.call(this);return e.targetType=this.targetType,this.blockId&&(e.blockId=this.blockId),e},t.Events.Click.prototype.fromJson=function(e){t.Events.Click.superClass_.fromJson.call(this,e),this.targetType=e.targetType,this.blockId=e.blockId},t.registry.register(t.registry.Type.EVENT,t.Events.CLICK,t.Events.Click),t.WorkspaceDragger=function(e){this.workspace_=e,this.horizontalScrollEnabled_=this.workspace_.isMovableHorizontally(),this.verticalScrollEnabled_=this.workspace_.isMovableVertically(),this.startScrollXY_=new t.utils.Coordinate(e.scrollX,e.scrollY)},t.WorkspaceDragger.prototype.dispose=function(){this.workspace_=null},t.WorkspaceDragger.prototype.startDrag=function(){t.selected&&t.selected.unselect(),this.workspace_.setupDragSurface()},t.WorkspaceDragger.prototype.endDrag=function(t){this.drag(t),this.workspace_.resetDragSurface()},t.WorkspaceDragger.prototype.drag=function(e){if(e=t.utils.Coordinate.sum(this.startScrollXY_,e),this.horizontalScrollEnabled_&&this.verticalScrollEnabled_)this.workspace_.scroll(e.x,e.y);else if(this.horizontalScrollEnabled_)this.workspace_.scroll(e.x,this.workspace_.scrollY);else{if(!this.verticalScrollEnabled_)throw new TypeError("Invalid state.");this.workspace_.scroll(this.workspace_.scrollX,e.y)}},t.Gesture=function(e,n){this.mouseDownXY_=null,this.currentDragDeltaXY_=new t.utils.Coordinate(0,0),this.startWorkspace_=this.targetBlock_=this.startBlock_=this.startField_=this.startBubble_=null,this.creatorWorkspace_=n,this.isDraggingBubble_=this.isDraggingBlock_=this.isDraggingWorkspace_=this.hasExceededDragRadius_=!1,this.mostRecentEvent_=e,this.flyout_=this.workspaceDragger_=this.blockDragger_=this.bubbleDragger_=this.onUpWrapper_=this.onMoveWrapper_=null,this.isEnding_=this.hasStarted_=this.calledUpdateIsDragging_=!1,this.healStack_=!t.DRAG_STACK},t.Gesture.prototype.dispose=function(){t.Touch.clearTouchIdentifier(),t.Tooltip.unblock(),this.creatorWorkspace_.clearGesture(),this.onMoveWrapper_&&t.browserEvents.unbind(this.onMoveWrapper_),this.onUpWrapper_&&t.browserEvents.unbind(this.onUpWrapper_),this.blockDragger_&&this.blockDragger_.dispose(),this.workspaceDragger_&&this.workspaceDragger_.dispose(),this.bubbleDragger_&&this.bubbleDragger_.dispose()},t.Gesture.prototype.updateFromEvent_=function(e){var n=new t.utils.Coordinate(e.clientX,e.clientY);this.updateDragDelta_(n)&&(this.updateIsDragging_(),t.longStop_()),this.mostRecentEvent_=e},t.Gesture.prototype.updateDragDelta_=function(e){return this.currentDragDeltaXY_=t.utils.Coordinate.difference(e,this.mouseDownXY_),!this.hasExceededDragRadius_&&(this.hasExceededDragRadius_=t.utils.Coordinate.magnitude(this.currentDragDeltaXY_)>(this.flyout_?t.FLYOUT_DRAG_RADIUS:t.DRAG_RADIUS))},t.Gesture.prototype.updateIsDraggingFromFlyout_=function(){return!(!this.targetBlock_||!this.flyout_.isBlockCreatable_(this.targetBlock_)||this.flyout_.isScrollable()&&!this.flyout_.isDragTowardWorkspace(this.currentDragDeltaXY_)||(this.startWorkspace_=this.flyout_.targetWorkspace,this.startWorkspace_.updateScreenCalculationsIfScrolled(),t.Events.getGroup()||t.Events.setGroup(!0),this.startBlock_=null,this.targetBlock_=this.flyout_.createBlock(this.targetBlock_),this.targetBlock_.select(),0))},t.Gesture.prototype.updateIsDraggingBubble_=function(){return!!this.startBubble_&&(this.isDraggingBubble_=!0,this.startDraggingBubble_(),!0)},t.Gesture.prototype.updateIsDraggingBlock_=function(){return!!this.targetBlock_&&(this.flyout_?this.isDraggingBlock_=this.updateIsDraggingFromFlyout_():this.targetBlock_.isMovable()&&(this.isDraggingBlock_=!0),!!this.isDraggingBlock_&&(this.startDraggingBlock_(),!0))},t.Gesture.prototype.updateIsDraggingWorkspace_=function(){(this.flyout_?this.flyout_.isScrollable():this.startWorkspace_&&this.startWorkspace_.isDraggable())&&(this.workspaceDragger_=new t.WorkspaceDragger(this.startWorkspace_),this.isDraggingWorkspace_=!0,this.workspaceDragger_.startDrag())},t.Gesture.prototype.updateIsDragging_=function(){if(this.calledUpdateIsDragging_)throw Error("updateIsDragging_ should only be called once per gesture.");this.calledUpdateIsDragging_=!0,this.updateIsDraggingBubble_()||this.updateIsDraggingBlock_()||this.updateIsDraggingWorkspace_()},t.Gesture.prototype.startDraggingBlock_=function(){this.blockDragger_=new t.BlockDragger(this.targetBlock_,this.startWorkspace_),this.blockDragger_.startBlockDrag(this.currentDragDeltaXY_,this.healStack_),this.blockDragger_.dragBlock(this.mostRecentEvent_,this.currentDragDeltaXY_)},t.Gesture.prototype.startDraggingBubble_=function(){this.bubbleDragger_=new t.BubbleDragger(this.startBubble_,this.startWorkspace_),this.bubbleDragger_.startBubbleDrag(),this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_)},t.Gesture.prototype.doStart=function(e){t.utils.isTargetInput(e)?this.cancel():(this.hasStarted_=!0,t.blockAnimations.disconnectUiStop(),this.startWorkspace_.updateScreenCalculationsIfScrolled(),this.startWorkspace_.isMutator&&this.startWorkspace_.resize(),t.hideChaff(!!this.flyout_),this.startWorkspace_.markFocused(),this.mostRecentEvent_=e,t.Tooltip.block(),this.targetBlock_&&this.targetBlock_.select(),t.utils.isRightButton(e)?this.handleRightClick(e):("touchstart"!=e.type.toLowerCase()&&"pointerdown"!=e.type.toLowerCase()||"mouse"==e.pointerType||t.longStart(e,this),this.mouseDownXY_=new t.utils.Coordinate(e.clientX,e.clientY),this.healStack_=e.altKey||e.ctrlKey||e.metaKey,this.bindMouseEvents(e)))},t.Gesture.prototype.bindMouseEvents=function(e){this.onMoveWrapper_=t.browserEvents.conditionalBind(document,"mousemove",null,this.handleMove.bind(this)),this.onUpWrapper_=t.browserEvents.conditionalBind(document,"mouseup",null,this.handleUp.bind(this)),e.preventDefault(),e.stopPropagation()},t.Gesture.prototype.handleMove=function(t){this.updateFromEvent_(t),this.isDraggingWorkspace_?this.workspaceDragger_.drag(this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.dragBlock(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingBubble_&&this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_),t.preventDefault(),t.stopPropagation()},t.Gesture.prototype.handleUp=function(e){this.updateFromEvent_(e),t.longStop_(),this.isEnding_?console.log("Trying to end a gesture recursively."):(this.isEnding_=!0,this.isDraggingBubble_?this.bubbleDragger_.endBubbleDrag(e,this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.endBlockDrag(e,this.currentDragDeltaXY_):this.isDraggingWorkspace_?this.workspaceDragger_.endDrag(this.currentDragDeltaXY_):this.isBubbleClick_()?this.doBubbleClick_():this.isFieldClick_()?this.doFieldClick_():this.isBlockClick_()?this.doBlockClick_():this.isWorkspaceClick_()&&this.doWorkspaceClick_(e),e.preventDefault(),e.stopPropagation(),this.dispose())},t.Gesture.prototype.cancel=function(){this.isEnding_||(t.longStop_(),this.isDraggingBubble_?this.bubbleDragger_.endBubbleDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.endBlockDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingWorkspace_&&this.workspaceDragger_.endDrag(this.currentDragDeltaXY_),this.dispose())},t.Gesture.prototype.handleRightClick=function(e){this.targetBlock_?(this.bringBlockToFront_(),t.hideChaff(!!this.flyout_),this.targetBlock_.showContextMenu(e)):this.startBubble_?this.startBubble_.showContextMenu(e):this.startWorkspace_&&!this.flyout_&&(t.hideChaff(),this.startWorkspace_.showContextMenu(e)),e.preventDefault(),e.stopPropagation(),this.dispose()},t.Gesture.prototype.handleWsStart=function(t,e){if(this.hasStarted_)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");this.setStartWorkspace_(e),this.mostRecentEvent_=t,this.doStart(t)},t.Gesture.prototype.fireWorkspaceClick_=function(e){t.Events.fire(new(t.Events.get(t.Events.CLICK))(null,e.id,"workspace"))},t.Gesture.prototype.handleFlyoutStart=function(t,e){if(this.hasStarted_)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");this.setStartFlyout_(e),this.handleWsStart(t,e.getWorkspace())},t.Gesture.prototype.handleBlockStart=function(t,e){if(this.hasStarted_)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");this.setStartBlock(e),this.mostRecentEvent_=t},t.Gesture.prototype.handleBubbleStart=function(t,e){if(this.hasStarted_)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");this.setStartBubble(e),this.mostRecentEvent_=t},t.Gesture.prototype.doBubbleClick_=function(){this.startBubble_.setFocus&&this.startBubble_.setFocus(),this.startBubble_.select&&this.startBubble_.select()},t.Gesture.prototype.doFieldClick_=function(){this.startField_.showEditor(this.mostRecentEvent_),this.bringBlockToFront_()},t.Gesture.prototype.doBlockClick_=function(){if(this.flyout_&&this.flyout_.autoClose)this.targetBlock_.isEnabled()&&(t.Events.getGroup()||t.Events.setGroup(!0),this.flyout_.createBlock(this.targetBlock_).scheduleSnapAndBump());else{var e=new(t.Events.get(t.Events.CLICK))(this.startBlock_,this.startWorkspace_.id,"block");t.Events.fire(e)}this.bringBlockToFront_(),t.Events.setGroup(!1)},t.Gesture.prototype.doWorkspaceClick_=function(e){e=this.creatorWorkspace_,t.selected&&t.selected.unselect(),this.fireWorkspaceClick_(this.startWorkspace_||e)},t.Gesture.prototype.bringBlockToFront_=function(){this.targetBlock_&&!this.flyout_&&this.targetBlock_.bringToFront()},t.Gesture.prototype.setStartField=function(t){if(this.hasStarted_)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");this.startField_||(this.startField_=t)},t.Gesture.prototype.setStartBubble=function(t){this.startBubble_||(this.startBubble_=t)},t.Gesture.prototype.setStartBlock=function(t){this.startBlock_||this.startBubble_||(this.startBlock_=t,t.isInFlyout&&t!=t.getRootBlock()?this.setTargetBlock_(t.getRootBlock()):this.setTargetBlock_(t))},t.Gesture.prototype.setTargetBlock_=function(t){t.isShadow()?this.setTargetBlock_(t.getParent()):this.targetBlock_=t},t.Gesture.prototype.setStartWorkspace_=function(t){this.startWorkspace_||(this.startWorkspace_=t)},t.Gesture.prototype.setStartFlyout_=function(t){this.flyout_||(this.flyout_=t)},t.Gesture.prototype.isBubbleClick_=function(){return!!this.startBubble_&&!this.hasExceededDragRadius_},t.Gesture.prototype.isBlockClick_=function(){return!!this.startBlock_&&!this.hasExceededDragRadius_&&!this.isFieldClick_()},t.Gesture.prototype.isFieldClick_=function(){return!!this.startField_&&this.startField_.isClickable()&&!this.hasExceededDragRadius_&&(!this.flyout_||!this.flyout_.autoClose)},t.Gesture.prototype.isWorkspaceClick_=function(){return!(this.startBlock_||this.startBubble_||this.startField_||this.hasExceededDragRadius_)},t.Gesture.prototype.isDragging=function(){return this.isDraggingWorkspace_||this.isDraggingBlock_||this.isDraggingBubble_},t.Gesture.prototype.hasStarted=function(){return this.hasStarted_},t.Gesture.prototype.getInsertionMarkers=function(){return this.blockDragger_?this.blockDragger_.getInsertionMarkers():[]},t.Gesture.inProgress=function(){for(var e,n=t.Workspace.getAll(),i=0;e=n[i];i++)if(e.currentGesture_)return!0;return!1},t.Field=function(e,n,i){this.value_=this.DEFAULT_VALUE,this.tooltip_=this.validator_=null,this.size_=new t.utils.Size(0,0),this.constants_=this.mouseDownWrapper_=this.textContent_=this.textElement_=this.borderRect_=this.fieldGroup_=this.markerSvg_=this.cursorSvg_=null,i&&this.configure_(i),this.setValue(e),n&&this.setValidator(n)},t.Field.prototype.DEFAULT_VALUE=null,t.Field.prototype.name=void 0,t.Field.prototype.disposed=!1,t.Field.prototype.maxDisplayLength=50,t.Field.prototype.sourceBlock_=null,t.Field.prototype.isDirty_=!0,t.Field.prototype.visible_=!0,t.Field.prototype.clickTarget_=null,t.Field.NBSP="\xa0",t.Field.prototype.EDITABLE=!0,t.Field.prototype.SERIALIZABLE=!1,t.Field.prototype.configure_=function(e){var n=e.tooltip;"string"==typeof n&&(n=t.utils.replaceMessageReferences(e.tooltip)),n&&this.setTooltip(n)},t.Field.prototype.setSourceBlock=function(t){if(this.sourceBlock_)throw Error("Field already bound to a block.");this.sourceBlock_=t},t.Field.prototype.getConstants=function(){return!this.constants_&&this.sourceBlock_&&this.sourceBlock_.workspace&&this.sourceBlock_.workspace.rendered&&(this.constants_=this.sourceBlock_.workspace.getRenderer().getConstants()),this.constants_},t.Field.prototype.getSourceBlock=function(){return this.sourceBlock_},t.Field.prototype.init=function(){this.fieldGroup_||(this.fieldGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{},null),this.isVisible()||(this.fieldGroup_.style.display="none"),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.initView(),this.updateEditable(),this.setTooltip(this.tooltip_),this.bindEvents_(),this.initModel())},t.Field.prototype.initView=function(){this.createBorderRect_(),this.createTextElement_()},t.Field.prototype.initModel=function(){},t.Field.prototype.createBorderRect_=function(){this.borderRect_=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{rx:this.getConstants().FIELD_BORDER_RECT_RADIUS,ry:this.getConstants().FIELD_BORDER_RECT_RADIUS,x:0,y:0,height:this.size_.height,width:this.size_.width,class:"blocklyFieldRect"},this.fieldGroup_)},t.Field.prototype.createTextElement_=function(){this.textElement_=t.utils.dom.createSvgElement(t.utils.Svg.TEXT,{class:"blocklyText"},this.fieldGroup_),this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.textElement_.setAttribute("dominant-baseline","central"),this.textContent_=document.createTextNode(""),this.textElement_.appendChild(this.textContent_)},t.Field.prototype.bindEvents_=function(){t.Tooltip.bindMouseEvents(this.getClickTarget_()),this.mouseDownWrapper_=t.browserEvents.conditionalBind(this.getClickTarget_(),"mousedown",this,this.onMouseDown_)},t.Field.prototype.fromXml=function(t){this.setValue(t.textContent)},t.Field.prototype.toXml=function(t){return t.textContent=this.getValue(),t},t.Field.prototype.dispose=function(){t.DropDownDiv.hideIfOwner(this),t.WidgetDiv.hideIfOwner(this),t.Tooltip.unbindMouseEvents(this.getClickTarget_()),this.mouseDownWrapper_&&t.browserEvents.unbind(this.mouseDownWrapper_),t.utils.dom.removeNode(this.fieldGroup_),this.disposed=!0},t.Field.prototype.updateEditable=function(){var e=this.fieldGroup_;this.EDITABLE&&e&&(this.sourceBlock_.isEditable()?(t.utils.dom.addClass(e,"blocklyEditableText"),t.utils.dom.removeClass(e,"blocklyNonEditableText"),e.style.cursor=this.CURSOR):(t.utils.dom.addClass(e,"blocklyNonEditableText"),t.utils.dom.removeClass(e,"blocklyEditableText"),e.style.cursor=""))},t.Field.prototype.isClickable=function(){return!!this.sourceBlock_&&this.sourceBlock_.isEditable()&&!!this.showEditor_&&"function"==typeof this.showEditor_},t.Field.prototype.isCurrentlyEditable=function(){return this.EDITABLE&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()},t.Field.prototype.isSerializable=function(){var t=!1;return this.name&&(this.SERIALIZABLE?t=!0:this.EDITABLE&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),t=!0)),t},t.Field.prototype.isVisible=function(){return this.visible_},t.Field.prototype.setVisible=function(t){if(this.visible_!=t){this.visible_=t;var e=this.getSvgRoot();e&&(e.style.display=t?"block":"none")}},t.Field.prototype.setValidator=function(t){this.validator_=t},t.Field.prototype.getValidator=function(){return this.validator_},t.Field.prototype.getSvgRoot=function(){return this.fieldGroup_},t.Field.prototype.applyColour=function(){},t.Field.prototype.render_=function(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_()},t.Field.prototype.showEditor=function(t){this.isClickable()&&this.showEditor_(t)},t.Field.prototype.updateSize_=function(e){var n=this.getConstants(),i=2*(e=null!=e?e:this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0),o=n.FIELD_TEXT_HEIGHT,r=0;this.textElement_&&(i+=r=t.utils.dom.getFastTextWidth(this.textElement_,n.FIELD_TEXT_FONTSIZE,n.FIELD_TEXT_FONTWEIGHT,n.FIELD_TEXT_FONTFAMILY)),this.borderRect_&&(o=Math.max(o,n.FIELD_BORDER_RECT_HEIGHT)),this.size_.height=o,this.size_.width=i,this.positionTextElement_(e,r),this.positionBorderRect_()},t.Field.prototype.positionTextElement_=function(t,e){if(this.textElement_){var n=this.getConstants(),i=this.size_.height/2;this.textElement_.setAttribute("x",this.sourceBlock_.RTL?this.size_.width-e-t:t),this.textElement_.setAttribute("y",n.FIELD_TEXT_BASELINE_CENTER?i:i-n.FIELD_TEXT_HEIGHT/2+n.FIELD_TEXT_BASELINE)}},t.Field.prototype.positionBorderRect_=function(){this.borderRect_&&(this.borderRect_.setAttribute("width",this.size_.width),this.borderRect_.setAttribute("height",this.size_.height),this.borderRect_.setAttribute("rx",this.getConstants().FIELD_BORDER_RECT_RADIUS),this.borderRect_.setAttribute("ry",this.getConstants().FIELD_BORDER_RECT_RADIUS))},t.Field.prototype.getSize=function(){return this.isVisible()?(this.isDirty_?(this.render_(),this.isDirty_=!1):this.visible_&&0==this.size_.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.render_()),this.size_):new t.utils.Size(0,0)},t.Field.prototype.getScaledBBox=function(){if(this.borderRect_)e=this.borderRect_.getBoundingClientRect(),i=t.utils.style.getPageOffset(this.borderRect_),o=e.width,e=e.height;else{var e=this.sourceBlock_.getHeightWidth(),n=this.sourceBlock_.workspace.scale,i=this.getAbsoluteXY_(),o=e.width*n;e=e.height*n,t.utils.userAgent.GECKO?(i.x+=1.5*n,i.y+=1.5*n):t.utils.userAgent.EDGE||t.utils.userAgent.IE||(i.x-=.5*n,i.y-=.5*n),o+=1*n,e+=1*n}return new t.utils.Rect(i.y,i.y+e,i.x,i.x+o)},t.Field.prototype.getDisplayText_=function(){var e=this.getText();return e?(e.length>this.maxDisplayLength&&(e=e.substring(0,this.maxDisplayLength-2)+"\u2026"),e=e.replace(/\s/g,t.Field.NBSP),this.sourceBlock_&&this.sourceBlock_.RTL&&(e+="\u200f"),e):t.Field.NBSP},t.Field.prototype.getText=function(){if(this.getText_){var t=this.getText_.call(this);if(null!==t)return String(t)}return String(this.getValue())},t.Field.prototype.markDirty=function(){this.isDirty_=!0,this.constants_=null},t.Field.prototype.forceRerender=function(){this.isDirty_=!0,this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours(),this.updateMarkers_())},t.Field.prototype.setValue=function(e){if(null!==e){var n=this.doClassValidation_(e);if(!((e=this.processValidation_(e,n))instanceof Error)){if((n=this.getValidator())&&(n=n.call(this,e),(e=this.processValidation_(e,n))instanceof Error))return;if(!(n=this.sourceBlock_)||!n.disposed){var i=this.getValue();i===e?this.doValueUpdate_(e):(n&&t.Events.isEnabled()&&t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(n,"field",this.name||null,i,e)),this.doValueUpdate_(e),this.isDirty_&&this.forceRerender())}}}},t.Field.prototype.processValidation_=function(t,e){return null===e?(this.doValueInvalid_(t),this.isDirty_&&this.forceRerender(),Error()):(void 0!==e&&(t=e),t)},t.Field.prototype.getValue=function(){return this.value_},t.Field.prototype.doClassValidation_=function(t){return null==t?null:t},t.Field.prototype.doValueUpdate_=function(t){this.value_=t,this.isDirty_=!0},t.Field.prototype.doValueInvalid_=function(t){},t.Field.prototype.onMouseDown_=function(t){this.sourceBlock_&&this.sourceBlock_.workspace&&(t=this.sourceBlock_.workspace.getGesture(t))&&t.setStartField(this)},t.Field.prototype.setTooltip=function(t){t||""===t||(t=this.sourceBlock_);var e=this.getClickTarget_();e?e.tooltip=t:this.tooltip_=t},t.Field.prototype.getTooltip=function(){var e=this.getClickTarget_();return t.Tooltip.getTooltipOfObject(e||{tooltip:this.tooltip_})},t.Field.prototype.getClickTarget_=function(){return this.clickTarget_||this.getSvgRoot()},t.Field.prototype.getAbsoluteXY_=function(){return t.utils.style.getPageOffset(this.getClickTarget_())},t.Field.prototype.referencesVariables=function(){return!1},t.Field.prototype.getParentInput=function(){for(var t=null,e=this.sourceBlock_,n=e.inputList,i=0;i<e.inputList.length;i++)for(var o=n[i],r=o.fieldRow,s=0;s<r.length;s++)if(r[s]===this){t=o;break}return t},t.Field.prototype.getFlipRtl=function(){return!1},t.Field.prototype.isTabNavigable=function(){return!1},t.Field.prototype.onShortcut=function(t){return!1},t.Field.prototype.setCursorSvg=function(t){t?(this.fieldGroup_.appendChild(t),this.cursorSvg_=t):this.cursorSvg_=null},t.Field.prototype.setMarkerSvg=function(t){t?(this.fieldGroup_.appendChild(t),this.markerSvg_=t):this.markerSvg_=null},t.Field.prototype.updateMarkers_=function(){var e=this.sourceBlock_.workspace;e.keyboardAccessibilityMode&&this.cursorSvg_&&e.getCursor().draw(),e.keyboardAccessibilityMode&&this.markerSvg_&&e.getMarker(t.MarkerManager.LOCAL_MARKER).draw()},t.FieldLabel=function(e,n,i){this.class_=null,t.FieldLabel.superClass_.constructor.call(this,e,null,i),i||(this.class_=n||null)},t.utils.object.inherits(t.FieldLabel,t.Field),t.FieldLabel.prototype.DEFAULT_VALUE="",t.FieldLabel.fromJson=function(e){var n=t.utils.replaceMessageReferences(e.text);return new t.FieldLabel(n,void 0,e)},t.FieldLabel.prototype.EDITABLE=!1,t.FieldLabel.prototype.configure_=function(e){t.FieldLabel.superClass_.configure_.call(this,e),this.class_=e.class},t.FieldLabel.prototype.initView=function(){this.createTextElement_(),this.class_&&t.utils.dom.addClass(this.textElement_,this.class_)},t.FieldLabel.prototype.doClassValidation_=function(t){return null==t?null:String(t)},t.FieldLabel.prototype.setClass=function(e){this.textElement_&&(this.class_&&t.utils.dom.removeClass(this.textElement_,this.class_),e&&t.utils.dom.addClass(this.textElement_,e)),this.class_=e},t.fieldRegistry.register("field_label",t.FieldLabel),t.Input=function(e,n,i,o){if(e!=t.inputTypes.DUMMY&&!n)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=e,this.name=n,this.sourceBlock_=i,this.connection=o,this.fieldRow=[]},t.Input.prototype.align=t.constants.ALIGN.LEFT,t.Input.prototype.visible_=!0,t.Input.prototype.getSourceBlock=function(){return this.sourceBlock_},t.Input.prototype.appendField=function(t,e){return this.insertFieldAt(this.fieldRow.length,t,e),this},t.Input.prototype.insertFieldAt=function(e,n,i){if(0>e||e>this.fieldRow.length)throw Error("index "+e+" out of bounds.");return n||""==n&&i?("string"==typeof n&&(n=t.fieldRegistry.fromJson({type:"field_label",text:n})),n.setSourceBlock(this.sourceBlock_),this.sourceBlock_.rendered&&(n.init(),n.applyColour()),n.name=i,n.setVisible(this.isVisible()),n.prefixField&&(e=this.insertFieldAt(e,n.prefixField)),this.fieldRow.splice(e,0,n),++e,n.suffixField&&(e=this.insertFieldAt(e,n.suffixField)),this.sourceBlock_.rendered&&(this.sourceBlock_=this.sourceBlock_,this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours()),e):e},t.Input.prototype.removeField=function(t,e){for(var n,i=0;n=this.fieldRow[i];i++)if(n.name===t)return n.dispose(),this.fieldRow.splice(i,1),this.sourceBlock_.rendered&&(this.sourceBlock_=this.sourceBlock_,this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours()),!0;if(e)return!1;throw Error('Field "'+t+'" not found.')},t.Input.prototype.isVisible=function(){return this.visible_},t.Input.prototype.setVisible=function(t){var e=[];if(this.visible_==t)return e;this.visible_=t;for(var n,i=0;n=this.fieldRow[i];i++)n.setVisible(t);return this.connection&&(this.connection=this.connection,t?e=this.connection.startTrackingAll():this.connection.stopTrackingAll(),i=this.connection.targetBlock())&&(i.getSvgRoot().style.display=t?"block":"none"),e},t.Input.prototype.markDirty=function(){for(var t,e=0;t=this.fieldRow[e];e++)t.markDirty()},t.Input.prototype.setCheck=function(t){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setCheck(t),this},t.Input.prototype.setAlign=function(t){return this.align=t,this.sourceBlock_.rendered&&(this.sourceBlock_=this.sourceBlock_,this.sourceBlock_.render()),this},t.Input.prototype.setShadowDom=function(t){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setShadowDom(t),this},t.Input.prototype.getShadowDom=function(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.getShadowDom()},t.Input.prototype.init=function(){if(this.sourceBlock_.workspace.rendered)for(var t=0;t<this.fieldRow.length;t++)this.fieldRow[t].init()},t.Input.prototype.dispose=function(){for(var t,e=0;t=this.fieldRow[e];e++)t.dispose();this.connection&&this.connection.dispose(),this.sourceBlock_=null},t.Block=function(e,n,i){if(t.Generator&&void 0!==t.Generator.prototype[n])throw Error('Block prototypeName "'+n+'" conflicts with Blockly.Generator members.');if(this.id=i&&!e.getBlockById(i)?i:t.utils.genUid(),e.setBlockById(this.id,this),this.previousConnection=this.nextConnection=this.outputConnection=null,this.inputList=[],this.inputsInline=void 0,this.disabled=!1,this.tooltip="",this.contextMenu=!0,this.parentBlock_=null,this.childBlocks_=[],this.editable_=this.movable_=this.deletable_=!0,this.collapsed_=this.isShadow_=!1,this.comment=this.outputShape_=null,this.commentModel={text:null,pinned:!1,size:new t.utils.Size(160,80)},this.xy_=new t.utils.Coordinate(0,0),this.workspace=e,this.isInFlyout=e.isFlyout,this.isInMutator=e.isMutator,this.RTL=e.RTL,this.isInsertionMarker_=!1,this.hat=void 0,this.rendered=null,this.statementInputCount=0,n){if(this.type=n,!(i=t.Blocks[n])||"object"!=typeof i)throw TypeError("Unknown block type: "+n);t.utils.object.mixin(this,i)}e.addTopBlock(this),e.addTypedBlock(this),(e=t.Events.getGroup())||t.Events.setGroup(!0),n=t.Events.recordUndo;try{"function"==typeof this.init&&(t.Events.recordUndo=!1,this.init(),t.Events.recordUndo=n),t.Events.isEnabled()&&t.Events.fire(new(t.Events.get(t.Events.BLOCK_CREATE))(this))}finally{e||t.Events.setGroup(!1),t.Events.recordUndo=n}this.inputsInlineDefault=this.inputsInline,"function"==typeof this.onchange&&this.setOnChange(this.onchange)},t.Block.COLLAPSED_INPUT_NAME=t.constants.COLLAPSED_INPUT_NAME,t.Block.COLLAPSED_FIELD_NAME=t.constants.COLLAPSED_FIELD_NAME,t.Block.prototype.data=null,t.Block.prototype.disposed=!1,t.Block.prototype.hue_=null,t.Block.prototype.colour_="#000000",t.Block.prototype.styleName_=null,t.Block.prototype.dispose=function(e){if(this.workspace){this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.unplug(e),t.Events.isEnabled()&&t.Events.fire(new(t.Events.get(t.Events.BLOCK_DELETE))(this)),t.Events.disable();try{this.workspace&&(this.workspace.removeTopBlock(this),this.workspace.removeTypedBlock(this),this.workspace.removeBlockById(this.id),this.workspace=null),t.selected==this&&(t.selected=null);for(var n=this.childBlocks_.length-1;0<=n;n--)this.childBlocks_[n].dispose(!1);n=0;for(var i;i=this.inputList[n];n++)i.dispose();this.inputList.length=0;var o,r=this.getConnections_(!0);for(n=0;o=r[n];n++)o.dispose()}finally{t.Events.enable(),this.disposed=!0}}},t.Block.prototype.initModel=function(){for(var t,e=0;t=this.inputList[e];e++)for(var n,i=0;n=t.fieldRow[i];i++)n.initModel&&n.initModel()},t.Block.prototype.unplug=function(t){this.outputConnection?this.unplugFromRow_(t):this.previousConnection&&this.unplugFromStack_(t)},t.Block.prototype.unplugFromRow_=function(t){var e=null;this.outputConnection.isConnected()&&(e=this.outputConnection.targetConnection,this.outputConnection.disconnect()),e&&t&&(t=this.getOnlyValueConnection_())&&t.isConnected()&&!t.targetBlock().isShadow()&&((t=t.targetConnection).disconnect(),this.workspace.connectionChecker.canConnect(t,e,!1)?e.connect(t):t.onFailedConnect(e))},t.Block.prototype.getOnlyValueConnection_=function(){for(var e=null,n=0;n<this.inputList.length;n++){var i=this.inputList[n].connection;if(i&&i.type==t.connectionTypes.INPUT_VALUE&&i.targetConnection){if(e)return null;e=i}}return e},t.Block.prototype.unplugFromStack_=function(t){var e=null;this.previousConnection.isConnected()&&(e=this.previousConnection.targetConnection,this.previousConnection.disconnect());var n=this.getNextBlock();t&&n&&!n.isShadow()&&((t=this.nextConnection.targetConnection).disconnect(),e&&this.workspace.connectionChecker.canConnect(e,t,!1)&&e.connect(t))},t.Block.prototype.getConnections_=function(t){t=[],this.outputConnection&&t.push(this.outputConnection),this.previousConnection&&t.push(this.previousConnection),this.nextConnection&&t.push(this.nextConnection);for(var e,n=0;e=this.inputList[n];n++)e.connection&&t.push(e.connection);return t},t.Block.prototype.lastConnectionInStack=function(){for(var t=this.nextConnection;t;){var e=t.targetBlock();if(!e)return t;t=e.nextConnection}return null},t.Block.prototype.bumpNeighbours=function(){},t.Block.prototype.getParent=function(){return this.parentBlock_},t.Block.prototype.getInputWithBlock=function(t){for(var e,n=0;e=this.inputList[n];n++)if(e.connection&&e.connection.targetBlock()==t)return e;return null},t.Block.prototype.getSurroundParent=function(){var t=this;do{var e=t;if(!(t=t.getParent()))return null}while(t.getNextBlock()==e);return t},t.Block.prototype.getNextBlock=function(){return this.nextConnection&&this.nextConnection.targetBlock()},t.Block.prototype.getPreviousBlock=function(){return this.previousConnection&&this.previousConnection.targetBlock()},t.Block.prototype.getFirstStatementConnection=function(){for(var e,n=0;e=this.inputList[n];n++)if(e.connection&&e.connection.type==t.connectionTypes.NEXT_STATEMENT)return e.connection;return null},t.Block.prototype.getRootBlock=function(){var t=this;do{var e=t;t=e.parentBlock_}while(t);return e},t.Block.prototype.getTopStackBlock=function(){var t=this;do{var e=t.getPreviousBlock()}while(e&&e.getNextBlock()==t&&(t=e));return t},t.Block.prototype.getChildren=function(t){if(!t)return this.childBlocks_;t=[];for(var e,n=0;e=this.inputList[n];n++)e.connection&&(e=e.connection.targetBlock())&&t.push(e);return(n=this.getNextBlock())&&t.push(n),t},t.Block.prototype.setParent=function(e){if(e!=this.parentBlock_){if(this.parentBlock_){if(t.utils.arrayRemove(this.parentBlock_.childBlocks_,this),this.previousConnection&&this.previousConnection.isConnected())throw Error("Still connected to previous block.");if(this.outputConnection&&this.outputConnection.isConnected())throw Error("Still connected to parent block.");this.parentBlock_=null}else this.workspace.removeTopBlock(this);(this.parentBlock_=e)?e.childBlocks_.push(this):this.workspace.addTopBlock(this)}},t.Block.prototype.getDescendants=function(t){for(var e,n=[this],i=this.getChildren(t),o=0;e=i[o];o++)n.push.apply(n,e.getDescendants(t));return n},t.Block.prototype.isDeletable=function(){return this.deletable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)},t.Block.prototype.setDeletable=function(t){this.deletable_=t},t.Block.prototype.isMovable=function(){return this.movable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)},t.Block.prototype.setMovable=function(t){this.movable_=t},t.Block.prototype.isDuplicatable=function(){return!this.workspace.hasBlockLimits()||this.workspace.isCapacityAvailable(t.utils.getBlockTypeCounts(this,!0))},t.Block.prototype.isShadow=function(){return this.isShadow_},t.Block.prototype.setShadow=function(t){this.isShadow_=t},t.Block.prototype.isInsertionMarker=function(){return this.isInsertionMarker_},t.Block.prototype.setInsertionMarker=function(t){this.isInsertionMarker_=t},t.Block.prototype.isEditable=function(){return this.editable_&&!(this.workspace&&this.workspace.options.readOnly)},t.Block.prototype.setEditable=function(t){this.editable_=t,t=0;for(var e;e=this.inputList[t];t++)for(var n,i=0;n=e.fieldRow[i];i++)n.updateEditable()},t.Block.prototype.isDisposed=function(){return this.disposed},t.Block.prototype.getMatchingConnection=function(t,e){var n=this.getConnections_(!0);if(t=t.getConnections_(!0),n.length!=t.length)throw Error("Connection lists did not match in length.");for(var i=0;i<t.length;i++)if(t[i]==e)return n[i];return null},t.Block.prototype.setHelpUrl=function(t){this.helpUrl=t},t.Block.prototype.setTooltip=function(t){this.tooltip=t},t.Block.prototype.getTooltip=function(){return t.Tooltip.getTooltipOfObject(this)},t.Block.prototype.getColour=function(){return this.colour_},t.Block.prototype.getStyleName=function(){return this.styleName_},t.Block.prototype.getHue=function(){return this.hue_},t.Block.prototype.setColour=function(e){e=t.utils.parseBlockColour(e),this.hue_=e.hue,this.colour_=e.hex},t.Block.prototype.setStyle=function(t){this.styleName_=t},t.Block.prototype.setOnChange=function(t){if(t&&"function"!=typeof t)throw Error("onchange must be a function.");this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),(this.onchange=t)&&(this.onchangeWrapper_=t.bind(this),this.workspace.addChangeListener(this.onchangeWrapper_))},t.Block.prototype.getField=function(t){for(var e,n=0;e=this.inputList[n];n++)for(var i,o=0;i=e.fieldRow[o];o++)if(i.name==t)return i;return null},t.Block.prototype.getVars=function(){for(var t,e=[],n=0;t=this.inputList[n];n++)for(var i,o=0;i=t.fieldRow[o];o++)i.referencesVariables()&&e.push(i.getValue());return e},t.Block.prototype.getVarModels=function(){for(var t,e=[],n=0;t=this.inputList[n];n++)for(var i,o=0;i=t.fieldRow[o];o++)i.referencesVariables()&&(i=this.workspace.getVariableById(i.getValue()))&&e.push(i);return e},t.Block.prototype.updateVarName=function(t){for(var e,n=0;e=this.inputList[n];n++)for(var i,o=0;i=e.fieldRow[o];o++)i.referencesVariables()&&t.getId()==i.getValue()&&i.refreshVariableName()},t.Block.prototype.renameVarById=function(t,e){for(var n,i=0;n=this.inputList[i];i++)for(var o,r=0;o=n.fieldRow[r];r++)o.referencesVariables()&&t==o.getValue()&&o.setValue(e)},t.Block.prototype.getFieldValue=function(t){return(t=this.getField(t))?t.getValue():null},t.Block.prototype.setFieldValue=function(t,e){var n=this.getField(e);if(!n)throw Error('Field "'+e+'" not found.');n.setValue(t)},t.Block.prototype.setPreviousStatement=function(e,n){if(e){if(void 0===n&&(n=null),!this.previousConnection){if(this.outputConnection)throw Error("Remove output connection prior to adding previous connection.");this.previousConnection=this.makeConnection_(t.connectionTypes.PREVIOUS_STATEMENT)}this.previousConnection.setCheck(n)}else if(this.previousConnection){if(this.previousConnection.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.previousConnection.dispose(),this.previousConnection=null}},t.Block.prototype.setNextStatement=function(e,n){if(e)void 0===n&&(n=null),this.nextConnection||(this.nextConnection=this.makeConnection_(t.connectionTypes.NEXT_STATEMENT)),this.nextConnection.setCheck(n);else if(this.nextConnection){if(this.nextConnection.isConnected())throw Error("Must disconnect next statement before removing connection.");this.nextConnection.dispose(),this.nextConnection=null}},t.Block.prototype.setOutput=function(e,n){if(e){if(void 0===n&&(n=null),!this.outputConnection){if(this.previousConnection)throw Error("Remove previous connection prior to adding output connection.");this.outputConnection=this.makeConnection_(t.connectionTypes.OUTPUT_VALUE)}this.outputConnection.setCheck(n)}else if(this.outputConnection){if(this.outputConnection.isConnected())throw Error("Must disconnect output value before removing connection.");this.outputConnection.dispose(),this.outputConnection=null}},t.Block.prototype.setInputsInline=function(e){this.inputsInline!=e&&(t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(this,"inline",null,this.inputsInline,e)),this.inputsInline=e)},t.Block.prototype.getInputsInline=function(){if(null!=this.inputsInline)return this.inputsInline;for(var e=1;e<this.inputList.length;e++)if(this.inputList[e-1].type==t.inputTypes.DUMMY&&this.inputList[e].type==t.inputTypes.DUMMY)return!1;for(e=1;e<this.inputList.length;e++)if(this.inputList[e-1].type==t.inputTypes.VALUE&&this.inputList[e].type==t.inputTypes.DUMMY)return!0;return!1},t.Block.prototype.setOutputShape=function(t){this.outputShape_=t},t.Block.prototype.getOutputShape=function(){return this.outputShape_},t.Block.prototype.isEnabled=function(){return!this.disabled},t.Block.prototype.setEnabled=function(e){this.isEnabled()!=e&&(t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(this,"disabled",null,this.disabled,!e)),this.disabled=!e)},t.Block.prototype.getInheritedDisabled=function(){for(var t=this.getSurroundParent();t;){if(t.disabled)return!0;t=t.getSurroundParent()}return!1},t.Block.prototype.isCollapsed=function(){return this.collapsed_},t.Block.prototype.setCollapsed=function(e){this.collapsed_!=e&&(t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(this,"collapsed",null,this.collapsed_,e)),this.collapsed_=e)},t.Block.prototype.toString=function(e,n){function i(t){var e=t.getCheck();return!e&&t.targetConnection&&(e=t.targetConnection.getCheck()),!!e&&(-1!=e.indexOf("Boolean")||-1!=e.indexOf("Number"))}function o(){a&&a.getType()==l.getType()&&a.getLocation()==l.getLocation()&&(a=null)}var r=[];n=n||"?";var s=t.ASTNode.NAVIGATE_ALL_FIELDS;t.ASTNode.NAVIGATE_ALL_FIELDS=!0;for(var a=t.ASTNode.createBlockNode(this),l=a;a;){switch(a.getType()){case t.ASTNode.types.INPUT:var c=a.getLocation();a.in()?i(c)&&r.push("("):r.push(n);break;case t.ASTNode.types.FIELD:(c=a.getLocation()).name!=t.constants.COLLAPSED_FIELD_NAME&&r.push(c.getText())}if(!(a=(c=a).in()||c.next())){for(a=c.out(),o();a&&!a.next();)a=a.out(),o(),a&&a.getType()==t.ASTNode.types.INPUT&&i(a.getLocation())&&r.push(")");a&&(a=a.next())}}for(t.ASTNode.NAVIGATE_ALL_FIELDS=s,n=2,s=r.length;n<s;n++)"("==r[n-2]&&")"==r[n]&&(r[n-2]=r[n-1],r.splice(n-1,2),s-=2);return r=r.join(" ").replace(/(\() | (\))/gim,"$1$2").trim()||"???",e&&r.length>e&&(r=r.substring(0,e-3)+"..."),r},t.Block.prototype.appendValueInput=function(e){return this.appendInput_(t.inputTypes.VALUE,e)},t.Block.prototype.appendStatementInput=function(e){return this.appendInput_(t.inputTypes.STATEMENT,e)},t.Block.prototype.appendDummyInput=function(e){return this.appendInput_(t.inputTypes.DUMMY,e||"")},t.Block.prototype.jsonInit=function(e){var n=e.type?'Block "'+e.type+'": ':"";if(e.output&&e.previousStatement)throw Error(n+"Must not have both an output and a previousStatement.");if(e.style&&e.style.hat&&(this.hat=e.style.hat,e.style=null),e.style&&e.colour)throw Error(n+"Must not have both a colour and a style.");e.style?this.jsonInitStyle_(e,n):this.jsonInitColour_(e,n);for(var i=0;void 0!==e["message"+i];)this.interpolate_(e["message"+i],e["args"+i]||[],e["lastDummyAlign"+i],n),i++;if(void 0!==e.inputsInline&&this.setInputsInline(e.inputsInline),void 0!==e.output&&this.setOutput(!0,e.output),void 0!==e.outputShape&&this.setOutputShape(e.outputShape),void 0!==e.previousStatement&&this.setPreviousStatement(!0,e.previousStatement),void 0!==e.nextStatement&&this.setNextStatement(!0,e.nextStatement),void 0!==e.tooltip&&(i=t.utils.replaceMessageReferences(i=e.tooltip),this.setTooltip(i)),void 0!==e.enableContextMenu&&(this.contextMenu=!!(i=e.enableContextMenu)),void 0!==e.helpUrl&&(i=t.utils.replaceMessageReferences(i=e.helpUrl),this.setHelpUrl(i)),"string"==typeof e.extensions&&(console.warn(n+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+e.type+"' block."),e.extensions=[e.extensions]),void 0!==e.mutator&&t.Extensions.apply(e.mutator,this,!0),Array.isArray(e.extensions))for(e=e.extensions,n=0;n<e.length;++n)t.Extensions.apply(e[n],this,!1)},t.Block.prototype.jsonInitColour_=function(t,e){if("colour"in t)if(void 0===t.colour)console.warn(e+"Undefined colour value.");else{t=t.colour;try{this.setColour(t)}catch(n){console.warn(e+"Illegal colour value: ",t)}}},t.Block.prototype.jsonInitStyle_=function(t,e){t=t.style;try{this.setStyle(t)}catch(n){console.warn(e+"Style does not exist: ",t)}},t.Block.prototype.mixin=function(e,n){if(void 0!==n&&"boolean"!=typeof n)throw Error("opt_disableCheck must be a boolean if provided");if(!n){for(var i in n=[],e)void 0!==this[i]&&n.push(i);if(n.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(n))}t.utils.object.mixin(this,e)},t.Block.prototype.interpolate_=function(e,n,i,o){e=t.utils.tokenizeInterpolation(e),this.validateTokens_(e,n.length),n=this.interpolateArguments_(e,n,i),i=[],e=0;for(var r;r=n[e];e++)if(this.isInputKeyword_(r.type)){if(r=this.inputFromJson_(r,o)){for(var s,a=0;s=i[a];a++)r.appendField(s[0],s[1]);i.length=0}}else(a=this.fieldFromJson_(r))&&i.push([a,r.name])},t.Block.prototype.validateTokens_=function(t,e){for(var n=[],i=0,o=0;o<t.length;o++){var r=t[o];if("number"==typeof r){if(1>r||r>e)throw Error('Block "'+this.type+'": Message index %'+r+" out of range.");if(n[r])throw Error('Block "'+this.type+'": Message index %'+r+" duplicated.");n[r]=!0,i++}}if(i!=e)throw Error('Block "'+this.type+'": Message does not reference all '+e+" arg(s).")},t.Block.prototype.interpolateArguments_=function(t,e,n){for(var i=[],o=0;o<t.length;o++){var r=t[o];"number"==typeof r&&(r=e[r-1]),("string"!=typeof r||(r=this.stringToFieldJson_(r)))&&i.push(r)}return(t=i.length)&&!this.isInputKeyword_(i[t-1].type)&&(t={type:"input_dummy"},n&&(t.align=n),i.push(t)),i},t.Block.prototype.fieldFromJson_=function(e){var n=t.fieldRegistry.fromJson(e);return!n&&e.alt?"string"==typeof e.alt?(e=this.stringToFieldJson_(e.alt))?this.fieldFromJson_(e):null:this.fieldFromJson_(e.alt):n},t.Block.prototype.inputFromJson_=function(e,n){var i={LEFT:t.constants.ALIGN.LEFT,RIGHT:t.constants.ALIGN.RIGHT,CENTRE:t.constants.ALIGN.CENTRE,CENTER:t.constants.ALIGN.CENTRE},o=null;switch(e.type){case"input_value":o=this.appendValueInput(e.name);break;case"input_statement":o=this.appendStatementInput(e.name);break;case"input_dummy":o=this.appendDummyInput(e.name)}return o?(e.check&&o.setCheck(e.check),e.align&&(void 0===(i=i[e.align.toUpperCase()])?console.warn(n+"Illegal align value: ",e.align):o.setAlign(i)),o):null},t.Block.prototype.isInputKeyword_=function(t){return"input_value"==t||"input_statement"==t||"input_dummy"==t},t.Block.prototype.stringToFieldJson_=function(t){return(t=t.trim())?{type:"field_label",text:t}:null},t.Block.prototype.appendInput_=function(e,n){var i=null;return e!=t.inputTypes.VALUE&&e!=t.inputTypes.STATEMENT||(i=this.makeConnection_(e)),e==t.inputTypes.STATEMENT&&this.statementInputCount++,e=new t.Input(e,n,this,i),this.inputList.push(e),e},t.Block.prototype.moveInputBefore=function(t,e){if(t!=e){for(var n,i=-1,o=e?-1:this.inputList.length,r=0;n=this.inputList[r];r++)if(n.name==t){if(i=r,-1!=o)break}else if(e&&n.name==e&&(o=r,-1!=i))break;if(-1==i)throw Error('Named input "'+t+'" not found.');if(-1==o)throw Error('Reference input "'+e+'" not found.');this.moveNumberedInputBefore(i,o)}},t.Block.prototype.moveNumberedInputBefore=function(t,e){if(t==e)throw Error("Can't move input to itself.");if(t>=this.inputList.length)throw RangeError("Input index "+t+" out of bounds.");if(e>this.inputList.length)throw RangeError("Reference input "+e+" out of bounds.");var n=this.inputList[t];this.inputList.splice(t,1),t<e&&e--,this.inputList.splice(e,0,n)},t.Block.prototype.removeInput=function(e,n){for(var i,o=0;i=this.inputList[o];o++)if(i.name==e)return i.type==t.inputTypes.STATEMENT&&this.statementInputCount--,i.dispose(),this.inputList.splice(o,1),!0;if(n)return!1;throw Error("Input not found: "+e)},t.Block.prototype.getInput=function(t){for(var e,n=0;e=this.inputList[n];n++)if(e.name==t)return e;return null},t.Block.prototype.getInputTargetBlock=function(t){return(t=this.getInput(t))&&t.connection&&t.connection.targetBlock()},t.Block.prototype.getCommentText=function(){return this.commentModel.text},t.Block.prototype.setCommentText=function(e){this.commentModel.text!=e&&(t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(this,"comment",null,this.commentModel.text,e)),this.comment=this.commentModel.text=e)},t.Block.prototype.setWarningText=function(t,e){},t.Block.prototype.setMutator=function(t){},t.Block.prototype.getRelativeToSurfaceXY=function(){return this.xy_},t.Block.prototype.moveBy=function(e,n){if(this.parentBlock_)throw Error("Block has parent.");var i=new(t.Events.get(t.Events.BLOCK_MOVE))(this);this.xy_.translate(e,n),i.recordNew(),t.Events.fire(i)},t.Block.prototype.makeConnection_=function(e){return new t.Connection(this,e)},t.Block.prototype.allInputsFilled=function(t){if(void 0===t&&(t=!0),!t&&this.isShadow())return!1;for(var e,n=0;e=this.inputList[n];n++)if(e.connection&&(!(e=e.connection.targetBlock())||!e.allInputsFilled(t)))return!1;return!(n=this.getNextBlock())||n.allInputsFilled(t)},t.Block.prototype.toDevString=function(){var t=this.type?'"'+this.type+'" block':"Block";return this.id&&(t+=' (id="'+this.id+'")'),t},t.blockRendering.IPathObject=function(t,e){},t.utils.KeyCodes={WIN_KEY_FF_LINUX:0,MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PLUS_SIGN:43,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,FF_SEMICOLON:59,FF_EQUALS:61,FF_DASH:173,FF_HASH:163,QUESTION_MARK:63,AT_SIGN:64,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SCROLL_LOCK:145,FIRST_MEDIA_KEY:166,LAST_MEDIA_KEY:183,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,TILDE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,MAC_WK_CMD_LEFT:91,MAC_WK_CMD_RIGHT:93,WIN_IME:229,VK_NONAME:252,PHANTOM:255},t.Menu=function(){this.menuItems_=[],this.roleName_=this.element_=this.onKeyDownHandler_=this.mouseLeaveHandler_=this.mouseEnterHandler_=this.clickHandler_=this.mouseOverHandler_=this.highlightedItem_=this.openingCoords=null},t.Menu.prototype.addChild=function(t){this.menuItems_.push(t)},t.Menu.prototype.render=function(e){var n=document.createElement("div");n.className="blocklyMenu goog-menu blocklyNonSelectable",n.tabIndex=0,this.roleName_&&t.utils.aria.setRole(n,this.roleName_),this.element_=n;for(var i,o=0;i=this.menuItems_[o];o++)n.appendChild(i.createDom());this.mouseOverHandler_=t.browserEvents.conditionalBind(n,"mouseover",this,this.handleMouseOver_,!0),this.clickHandler_=t.browserEvents.conditionalBind(n,"click",this,this.handleClick_,!0),this.mouseEnterHandler_=t.browserEvents.conditionalBind(n,"mouseenter",this,this.handleMouseEnter_,!0),this.mouseLeaveHandler_=t.browserEvents.conditionalBind(n,"mouseleave",this,this.handleMouseLeave_,!0),this.onKeyDownHandler_=t.browserEvents.conditionalBind(n,"keydown",this,this.handleKeyEvent_),e.appendChild(n)},t.Menu.prototype.getElement=function(){return this.element_},t.Menu.prototype.focus=function(){var e=this.getElement();e&&(e.focus({preventScroll:!0}),t.utils.dom.addClass(e,"blocklyFocused"))},t.Menu.prototype.blur_=function(){var e=this.getElement();e&&(e.blur(),t.utils.dom.removeClass(e,"blocklyFocused"))},t.Menu.prototype.setRole=function(t){this.roleName_=t},t.Menu.prototype.dispose=function(){this.mouseOverHandler_&&(t.browserEvents.unbind(this.mouseOverHandler_),this.mouseOverHandler_=null),this.clickHandler_&&(t.browserEvents.unbind(this.clickHandler_),this.clickHandler_=null),this.mouseEnterHandler_&&(t.browserEvents.unbind(this.mouseEnterHandler_),this.mouseEnterHandler_=null),this.mouseLeaveHandler_&&(t.browserEvents.unbind(this.mouseLeaveHandler_),this.mouseLeaveHandler_=null),this.onKeyDownHandler_&&(t.browserEvents.unbind(this.onKeyDownHandler_),this.onKeyDownHandler_=null);for(var e,n=0;e=this.menuItems_[n];n++)e.dispose();this.element_=null},t.Menu.prototype.getMenuItem_=function(e){for(var n=this.getElement();e&&e!=n;){if(t.utils.dom.hasClass(e,"blocklyMenuItem"))for(var i,o=0;i=this.menuItems_[o];o++)if(i.getElement()==e)return i;e=e.parentElement}return null},t.Menu.prototype.setHighlighted=function(e){var n=this.highlightedItem_;n&&(n.setHighlighted(!1),this.highlightedItem_=null),e&&(e.setHighlighted(!0),this.highlightedItem_=e,n=this.getElement(),t.utils.style.scrollIntoContainerView(e.getElement(),n),t.utils.aria.setState(n,t.utils.aria.State.ACTIVEDESCENDANT,e.getId()))},t.Menu.prototype.highlightNext=function(){var t=this.menuItems_.indexOf(this.highlightedItem_);this.highlightHelper_(t,1)},t.Menu.prototype.highlightPrevious=function(){var t=this.menuItems_.indexOf(this.highlightedItem_);this.highlightHelper_(0>t?this.menuItems_.length:t,-1)},t.Menu.prototype.highlightFirst_=function(){this.highlightHelper_(-1,1)},t.Menu.prototype.highlightLast_=function(){this.highlightHelper_(this.menuItems_.length,-1)},t.Menu.prototype.highlightHelper_=function(t,e){t+=e;for(var n;n=this.menuItems_[t];){if(n.isEnabled()){this.setHighlighted(n);break}t+=e}},t.Menu.prototype.handleMouseOver_=function(t){(t=this.getMenuItem_(t.target))&&(t.isEnabled()?this.highlightedItem_!=t&&this.setHighlighted(t):this.setHighlighted(null))},t.Menu.prototype.handleClick_=function(e){var n=this.openingCoords;if(this.openingCoords=null,n&&"number"==typeof e.clientX){var i=new t.utils.Coordinate(e.clientX,e.clientY);if(1>t.utils.Coordinate.distance(n,i))return}(e=this.getMenuItem_(e.target))&&e.performAction()},t.Menu.prototype.handleMouseEnter_=function(t){this.focus()},t.Menu.prototype.handleMouseLeave_=function(t){this.getElement()&&(this.blur_(),this.setHighlighted(null))},t.Menu.prototype.handleKeyEvent_=function(e){if(this.menuItems_.length&&!(e.shiftKey||e.ctrlKey||e.metaKey||e.altKey)){var n=this.highlightedItem_;switch(e.keyCode){case t.utils.KeyCodes.ENTER:case t.utils.KeyCodes.SPACE:n&&n.performAction();break;case t.utils.KeyCodes.UP:this.highlightPrevious();break;case t.utils.KeyCodes.DOWN:this.highlightNext();break;case t.utils.KeyCodes.PAGE_UP:case t.utils.KeyCodes.HOME:this.highlightFirst_();break;case t.utils.KeyCodes.PAGE_DOWN:case t.utils.KeyCodes.END:this.highlightLast_();break;default:return}e.preventDefault(),e.stopPropagation()}},t.Menu.prototype.getSize=function(){var e=this.getElement(),n=t.utils.style.getSize(e);return n.height=e.scrollHeight,n},t.MenuItem=function(t,e){this.content_=t,this.value_=e,this.enabled_=!0,this.element_=null,this.rightToLeft_=!1,this.roleName_=null,this.highlight_=this.checked_=this.checkable_=!1,this.actionHandler_=null},t.MenuItem.prototype.createDom=function(){var e=document.createElement("div");e.id=t.utils.IdGenerator.getNextUniqueId(),this.element_=e,e.className="blocklyMenuItem goog-menuitem "+(this.enabled_?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.checked_?"blocklyMenuItemSelected goog-option-selected ":"")+(this.highlight_?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.rightToLeft_?"blocklyMenuItemRtl goog-menuitem-rtl ":"");var n=document.createElement("div");if(n.className="blocklyMenuItemContent goog-menuitem-content",this.checkable_){var i=document.createElement("div");i.className="blocklyMenuItemCheckbox goog-menuitem-checkbox",n.appendChild(i)}return i=this.content_,"string"==typeof this.content_&&(i=document.createTextNode(this.content_)),n.appendChild(i),e.appendChild(n),this.roleName_&&t.utils.aria.setRole(e,this.roleName_),t.utils.aria.setState(e,t.utils.aria.State.SELECTED,this.checkable_&&this.checked_||!1),t.utils.aria.setState(e,t.utils.aria.State.DISABLED,!this.enabled_),e},t.MenuItem.prototype.dispose=function(){this.element_=null},t.MenuItem.prototype.getElement=function(){return this.element_},t.MenuItem.prototype.getId=function(){return this.element_.id},t.MenuItem.prototype.getValue=function(){return this.value_},t.MenuItem.prototype.setRightToLeft=function(t){this.rightToLeft_=t},t.MenuItem.prototype.setRole=function(t){this.roleName_=t},t.MenuItem.prototype.setCheckable=function(t){this.checkable_=t},t.MenuItem.prototype.setChecked=function(t){this.checked_=t},t.MenuItem.prototype.setHighlighted=function(e){this.highlight_=e;var n=this.getElement();n&&this.isEnabled()&&(e?(t.utils.dom.addClass(n,"blocklyMenuItemHighlight"),t.utils.dom.addClass(n,"goog-menuitem-highlight")):(t.utils.dom.removeClass(n,"blocklyMenuItemHighlight"),t.utils.dom.removeClass(n,"goog-menuitem-highlight")))},t.MenuItem.prototype.isEnabled=function(){return this.enabled_},t.MenuItem.prototype.setEnabled=function(t){this.enabled_=t},t.MenuItem.prototype.performAction=function(){this.isEnabled()&&this.actionHandler_&&this.actionHandler_(this)},t.MenuItem.prototype.onAction=function(t,e){this.actionHandler_=t.bind(e)},t.WidgetDiv={},t.WidgetDiv.owner_=null,t.WidgetDiv.dispose_=null,t.WidgetDiv.rendererClassName_="",t.WidgetDiv.themeClassName_="",t.WidgetDiv.createDom=function(){t.WidgetDiv.DIV||(t.WidgetDiv.DIV=document.createElement("div"),t.WidgetDiv.DIV.className="blocklyWidgetDiv",(t.parentContainer||document.body).appendChild(t.WidgetDiv.DIV))},t.WidgetDiv.show=function(e,n,i){t.WidgetDiv.hide(),t.WidgetDiv.owner_=e,t.WidgetDiv.dispose_=i,(e=t.WidgetDiv.DIV).style.direction=n?"rtl":"ltr",e.style.display="block",n=t.getMainWorkspace(),t.WidgetDiv.rendererClassName_=n.getRenderer().getClassName(),t.WidgetDiv.themeClassName_=n.getTheme().getClassName(),t.utils.dom.addClass(e,t.WidgetDiv.rendererClassName_),t.utils.dom.addClass(e,t.WidgetDiv.themeClassName_)},t.WidgetDiv.hide=function(){if(t.WidgetDiv.isVisible()){t.WidgetDiv.owner_=null;var e=t.WidgetDiv.DIV;e.style.display="none",e.style.left="",e.style.top="",t.WidgetDiv.dispose_&&t.WidgetDiv.dispose_(),t.WidgetDiv.dispose_=null,e.textContent="",t.WidgetDiv.rendererClassName_&&(t.utils.dom.removeClass(e,t.WidgetDiv.rendererClassName_),t.WidgetDiv.rendererClassName_=""),t.WidgetDiv.themeClassName_&&(t.utils.dom.removeClass(e,t.WidgetDiv.themeClassName_),t.WidgetDiv.themeClassName_=""),t.getMainWorkspace().markFocused()}},t.WidgetDiv.isVisible=function(){return!!t.WidgetDiv.owner_},t.WidgetDiv.hideIfOwner=function(e){t.WidgetDiv.owner_==e&&t.WidgetDiv.hide()},t.WidgetDiv.positionInternal_=function(e,n,i){t.WidgetDiv.DIV.style.left=e+"px",t.WidgetDiv.DIV.style.top=n+"px",t.WidgetDiv.DIV.style.height=i+"px"},t.WidgetDiv.positionWithAnchor=function(e,n,i,o){var r=t.WidgetDiv.calculateY_(e,n,i);e=t.WidgetDiv.calculateX_(e,n,i,o),0>r?t.WidgetDiv.positionInternal_(e,0,i.height+r):t.WidgetDiv.positionInternal_(e,r,i.height)},t.WidgetDiv.calculateX_=function(t,e,n,i){return i?(e=Math.max(e.right-n.width,t.left),Math.min(e,t.right-n.width)):(e=Math.min(e.left,t.right-n.width),Math.max(e,t.left))},t.WidgetDiv.calculateY_=function(t,e,n){return e.bottom+n.height>=t.bottom?e.top-n.height:e.bottom},t.ContextMenu={},t.ContextMenu.currentBlock=null,t.ContextMenu.menu_=null,t.ContextMenu.show=function(e,n,i){if(t.WidgetDiv.show(t.ContextMenu,i,t.ContextMenu.dispose),n.length){var o=t.ContextMenu.populate_(n,i);t.ContextMenu.menu_=o,t.ContextMenu.position_(o,e,i),setTimeout(function(){o.focus()},1),t.ContextMenu.currentBlock=null}else t.ContextMenu.hide()},t.ContextMenu.populate_=function(e,n){var i=new t.Menu;i.setRole(t.utils.aria.Role.MENU);for(var o,r=0;o=e[r];r++){var s=new t.MenuItem(o.text);s.setRightToLeft(n),s.setRole(t.utils.aria.Role.MENUITEM),i.addChild(s),s.setEnabled(o.enabled),o.enabled&&s.onAction(function(e){t.ContextMenu.hide(),this.callback(this.scope)},o)}return i},t.ContextMenu.position_=function(e,n,i){var o=t.utils.getViewportBBox();n=new t.utils.Rect(n.clientY+o.top,n.clientY+o.top,n.clientX+o.left,n.clientX+o.left),t.ContextMenu.createWidget_(e);var r=e.getSize();i&&(n.left+=r.width,n.right+=r.width,o.left+=r.width,o.right+=r.width),t.WidgetDiv.positionWithAnchor(o,n,r,i),e.focus()},t.ContextMenu.createWidget_=function(e){e.render(t.WidgetDiv.DIV);var n=e.getElement();t.utils.dom.addClass(n,"blocklyContextMenu"),t.browserEvents.conditionalBind(n,"contextmenu",null,t.utils.noEvent),e.focus()},t.ContextMenu.hide=function(){t.WidgetDiv.hideIfOwner(t.ContextMenu),t.ContextMenu.currentBlock=null},t.ContextMenu.dispose=function(){t.ContextMenu.menu_&&(t.ContextMenu.menu_.dispose(),t.ContextMenu.menu_=null)},t.ContextMenu.callbackFactory=function(e,n){return function(){t.Events.disable();try{var i=t.Xml.domToBlock(n,e.workspace),o=e.getRelativeToSurfaceXY();o.x=e.RTL?o.x-t.SNAP_RADIUS:o.x+t.SNAP_RADIUS,o.y+=2*t.SNAP_RADIUS,i.moveBy(o.x,o.y)}finally{t.Events.enable()}t.Events.isEnabled()&&!i.isShadow()&&t.Events.fire(new(t.Events.get(t.Events.BLOCK_CREATE))(i)),i.select()}},t.ContextMenu.commentDeleteOption=function(e){return{text:t.Msg.REMOVE_COMMENT,enabled:!0,callback:function(){t.Events.setGroup(!0),e.dispose(!0,!0),t.Events.setGroup(!1)}}},t.ContextMenu.commentDuplicateOption=function(e){return{text:t.Msg.DUPLICATE_COMMENT,enabled:!0,callback:function(){t.duplicate(e)}}},t.ContextMenu.workspaceCommentOption=function(e,n){if(!t.WorkspaceCommentSvg)throw Error("Missing require for Blockly.WorkspaceCommentSvg");var i={enabled:!t.utils.userAgent.IE};return i.text=t.Msg.ADD_COMMENT,i.callback=function(){var i=new t.WorkspaceCommentSvg(e,t.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT,t.WorkspaceCommentSvg.DEFAULT_SIZE,t.WorkspaceCommentSvg.DEFAULT_SIZE),o=e.getInjectionDiv().getBoundingClientRect();o=new t.utils.Coordinate(n.clientX-o.left,n.clientY-o.top);var r=e.getOriginOffsetInPixels();(o=t.utils.Coordinate.difference(o,r)).scale(1/e.scale),i.moveBy(o.x,o.y),e.rendered&&(i.initSvg(),i.render(),i.select())},i},t.ContextMenuRegistry=function(){t.ContextMenuRegistry.registry=this,this.registry_={}},t.ContextMenuRegistry.ScopeType={BLOCK:"block",WORKSPACE:"workspace"},t.ContextMenuRegistry.registry=null,t.ContextMenuRegistry.prototype.register=function(t){if(this.registry_[t.id])throw Error('Menu item with id "'+t.id+'" is already registered.');this.registry_[t.id]=t},t.ContextMenuRegistry.prototype.unregister=function(t){if(!this.registry_[t])throw Error('Menu item with id "'+t+'" not found.');delete this.registry_[t]},t.ContextMenuRegistry.prototype.getItem=function(t){return this.registry_[t]?this.registry_[t]:null},t.ContextMenuRegistry.prototype.getContextMenuOptions=function(t,e){var n=[],i=this.registry_;return Object.keys(i).forEach(function(o){if(t==(o=i[o]).scopeType){var r=o.preconditionFn(e);"hidden"!=r&&(o={text:"function"==typeof o.displayText?o.displayText(e):o.displayText,enabled:"enabled"==r,callback:o.callback,scope:e,weight:o.weight},n.push(o))}}),n.sort(function(t,e){return t.weight-e.weight}),n},new t.ContextMenuRegistry,t.Events.Selected=function(e,n,i){t.Events.Selected.superClass_.constructor.call(this,i),this.oldElementId=e,this.newElementId=n},t.utils.object.inherits(t.Events.Selected,t.Events.UiBase),t.Events.Selected.prototype.type=t.Events.SELECTED,t.Events.Selected.prototype.toJson=function(){var e=t.Events.Selected.superClass_.toJson.call(this);return e.oldElementId=this.oldElementId,e.newElementId=this.newElementId,e},t.Events.Selected.prototype.fromJson=function(e){t.Events.Selected.superClass_.fromJson.call(this,e),this.oldElementId=e.oldElementId,this.newElementId=e.newElementId},t.registry.register(t.registry.Type.EVENT,t.Events.SELECTED,t.Events.Selected),t.RenderedConnection=function(e,n){t.RenderedConnection.superClass_.constructor.call(this,e,n),this.db_=e.workspace.connectionDBList[n],this.dbOpposite_=e.workspace.connectionDBList[t.OPPOSITE_TYPE[n]],this.offsetInBlock_=new t.utils.Coordinate(0,0),this.trackedState_=t.RenderedConnection.TrackedState.WILL_TRACK,this.targetConnection=null},t.utils.object.inherits(t.RenderedConnection,t.Connection),t.RenderedConnection.TrackedState={WILL_TRACK:-1,UNTRACKED:0,TRACKED:1},t.RenderedConnection.prototype.dispose=function(){t.RenderedConnection.superClass_.dispose.call(this),this.trackedState_==t.RenderedConnection.TrackedState.TRACKED&&this.db_.removeConnection(this,this.y)},t.RenderedConnection.prototype.getSourceBlock=function(){return t.RenderedConnection.superClass_.getSourceBlock.call(this)},t.RenderedConnection.prototype.targetBlock=function(){return t.RenderedConnection.superClass_.targetBlock.call(this)},t.RenderedConnection.prototype.distanceFrom=function(t){var e=this.x-t.x;return t=this.y-t.y,Math.sqrt(e*e+t*t)},t.RenderedConnection.prototype.bumpAwayFrom=function(e){if(!this.sourceBlock_.workspace.isDragging()){var n=this.sourceBlock_.getRootBlock();if(!n.isInFlyout){var i=!1;if(!n.isMovable()){if(!(n=e.getSourceBlock().getRootBlock()).isMovable())return;e=this,i=!0}var o=t.selected==n;o||n.addSelect();var r=e.x+t.SNAP_RADIUS+Math.floor(Math.random()*t.BUMP_RANDOMNESS)-this.x,s=e.y+t.SNAP_RADIUS+Math.floor(Math.random()*t.BUMP_RANDOMNESS)-this.y;i&&(s=-s),n.RTL&&(r=e.x-t.SNAP_RADIUS-Math.floor(Math.random()*t.BUMP_RANDOMNESS)-this.x),n.moveBy(r,s),o||n.removeSelect()}}},t.RenderedConnection.prototype.moveTo=function(e,n){this.trackedState_==t.RenderedConnection.TrackedState.WILL_TRACK?(this.db_.addConnection(this,n),this.trackedState_=t.RenderedConnection.TrackedState.TRACKED):this.trackedState_==t.RenderedConnection.TrackedState.TRACKED&&(this.db_.removeConnection(this,this.y),this.db_.addConnection(this,n)),this.x=e,this.y=n},t.RenderedConnection.prototype.moveBy=function(t,e){this.moveTo(this.x+t,this.y+e)},t.RenderedConnection.prototype.moveToOffset=function(t){this.moveTo(t.x+this.offsetInBlock_.x,t.y+this.offsetInBlock_.y)},t.RenderedConnection.prototype.setOffsetInBlock=function(t,e){this.offsetInBlock_.x=t,this.offsetInBlock_.y=e},t.RenderedConnection.prototype.getOffsetInBlock=function(){return this.offsetInBlock_},t.RenderedConnection.prototype.tighten=function(){var e=this.targetConnection.x-this.x,n=this.targetConnection.y-this.y;if(0!=e||0!=n){var i=this.targetBlock(),o=i.getSvgRoot();if(!o)throw Error("block is not rendered.");o=t.utils.getRelativeXY(o),i.getSvgRoot().setAttribute("transform","translate("+(o.x-e)+","+(o.y-n)+")"),i.moveConnections(-e,-n)}},t.RenderedConnection.prototype.closest=function(t,e){return this.dbOpposite_.searchForClosest(this,t,e)},t.RenderedConnection.prototype.highlight=function(){var e=this.sourceBlock_.workspace.getRenderer().getConstants(),n=e.shapeFor(this);n=this.type==t.connectionTypes.INPUT_VALUE||this.type==t.connectionTypes.OUTPUT_VALUE?t.utils.svgPaths.moveBy(0,-(e=e.TAB_OFFSET_FROM_TOP))+t.utils.svgPaths.lineOnAxis("v",e)+n.pathDown+t.utils.svgPaths.lineOnAxis("v",e):t.utils.svgPaths.moveBy(-(e=e.NOTCH_OFFSET_LEFT-e.CORNER_RADIUS),0)+t.utils.svgPaths.lineOnAxis("h",e)+n.pathLeft+t.utils.svgPaths.lineOnAxis("h",e),e=this.sourceBlock_.getRelativeToSurfaceXY(),t.Connection.highlightedPath_=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyHighlightedConnectionPath",d:n,transform:"translate("+(this.x-e.x)+","+(this.y-e.y)+")"+(this.sourceBlock_.RTL?" scale(-1 1)":"")},this.sourceBlock_.getSvgRoot())},t.RenderedConnection.prototype.unhighlight=function(){t.utils.dom.removeNode(t.Connection.highlightedPath_),delete t.Connection.highlightedPath_},t.RenderedConnection.prototype.setTracking=function(e){e&&this.trackedState_==t.RenderedConnection.TrackedState.TRACKED||!e&&this.trackedState_==t.RenderedConnection.TrackedState.UNTRACKED||this.sourceBlock_.isInFlyout||(e?(this.db_.addConnection(this,this.y),this.trackedState_=t.RenderedConnection.TrackedState.TRACKED):(this.trackedState_==t.RenderedConnection.TrackedState.TRACKED&&this.db_.removeConnection(this,this.y),this.trackedState_=t.RenderedConnection.TrackedState.UNTRACKED))},t.RenderedConnection.prototype.stopTrackingAll=function(){if(this.setTracking(!1),this.targetConnection)for(var t=this.targetBlock().getDescendants(!1),e=0;e<t.length;e++){for(var n=t[e],i=n.getConnections_(!0),o=0;o<i.length;o++)i[o].setTracking(!1);for(n=n.getIcons(),o=0;o<n.length;o++)n[o].setVisible(!1)}},t.RenderedConnection.prototype.startTrackingAll=function(){this.setTracking(!0);var e=[];if(this.type!=t.connectionTypes.INPUT_VALUE&&this.type!=t.connectionTypes.NEXT_STATEMENT)return e;var n=this.targetBlock();if(n){if(n.isCollapsed()){var i=[];n.outputConnection&&i.push(n.outputConnection),n.nextConnection&&i.push(n.nextConnection),n.previousConnection&&i.push(n.previousConnection)}else i=n.getConnections_(!0);for(var o=0;o<i.length;o++)e.push.apply(e,i[o].startTrackingAll());e.length||(e[0]=n)}return e},t.RenderedConnection.prototype.isConnectionAllowed=function(e,n){return t.utils.deprecation.warn("RenderedConnection.prototype.isConnectionAllowed","July 2020","July 2021","Blockly.Workspace.prototype.getConnectionChecker().canConnect"),!(this.distanceFrom(e)>n)&&t.RenderedConnection.superClass_.isConnectionAllowed.call(this,e)},t.RenderedConnection.prototype.onFailedConnect=function(t){this.bumpAwayFrom(t)},t.RenderedConnection.prototype.disconnectInternal_=function(e,n){t.RenderedConnection.superClass_.disconnectInternal_.call(this,e,n),e.rendered&&e.render(),n.rendered&&(n.updateDisabled(),n.render(),n.getSvgRoot().style.display="block")},t.RenderedConnection.prototype.respawnShadow_=function(){t.RenderedConnection.superClass_.respawnShadow_.call(this);var e=this.targetBlock();e&&(e.initSvg(),e.render(!1),(e=this.getSourceBlock()).rendered&&e.render())},t.RenderedConnection.prototype.neighbours=function(t){return this.dbOpposite_.getNeighbours(this,t)},t.RenderedConnection.prototype.connect_=function(e){t.RenderedConnection.superClass_.connect_.call(this,e);var n=this.getSourceBlock();e=e.getSourceBlock();var i=n.rendered,o=e.rendered;i&&n.updateDisabled(),o&&e.updateDisabled(),i&&o&&(this.type==t.connectionTypes.NEXT_STATEMENT||this.type==t.connectionTypes.PREVIOUS_STATEMENT?e.render():n.render()),(n=n.getInputWithBlock(e))&&(n=n.isVisible(),e.getSvgRoot().style.display=n?"block":"none")},t.RenderedConnection.prototype.onCheckChanged_=function(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||((this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug(),this.sourceBlock_.bumpNeighbours())},t.Marker=function(){this.drawer_=this.curNode_=this.colour=null,this.type="marker"},t.Marker.prototype.setDrawer=function(t){this.drawer_=t},t.Marker.prototype.getDrawer=function(){return this.drawer_},t.Marker.prototype.getCurNode=function(){return this.curNode_},t.Marker.prototype.setCurNode=function(t){var e=this.curNode_;this.curNode_=t,this.drawer_&&this.drawer_.draw(e,this.curNode_)},t.Marker.prototype.draw=function(){this.drawer_&&this.drawer_.draw(this.curNode_,this.curNode_)},t.Marker.prototype.hide=function(){this.drawer_&&this.drawer_.hide()},t.Marker.prototype.dispose=function(){this.getDrawer()&&this.getDrawer().dispose()},t.Cursor=function(){t.Cursor.superClass_.constructor.call(this),this.type="cursor"},t.utils.object.inherits(t.Cursor,t.Marker),t.Cursor.prototype.next=function(){var e=this.getCurNode();if(!e)return null;for(e=e.next();e&&e.next()&&(e.getType()==t.ASTNode.types.NEXT||e.getType()==t.ASTNode.types.BLOCK);)e=e.next();return e&&this.setCurNode(e),e},t.Cursor.prototype.in=function(){var e=this.getCurNode();return e?(e.getType()!=t.ASTNode.types.PREVIOUS&&e.getType()!=t.ASTNode.types.OUTPUT||(e=e.next()),(e=e.in())&&this.setCurNode(e),e):null},t.Cursor.prototype.prev=function(){var e=this.getCurNode();if(!e)return null;for(e=e.prev();e&&e.prev()&&(e.getType()==t.ASTNode.types.NEXT||e.getType()==t.ASTNode.types.BLOCK);)e=e.prev();return e&&this.setCurNode(e),e},t.Cursor.prototype.out=function(){var e=this.getCurNode();return e?((e=e.out())&&e.getType()==t.ASTNode.types.BLOCK&&(e=e.prev()||e),e&&this.setCurNode(e),e):null},t.registry.register(t.registry.Type.CURSOR,t.registry.DEFAULT,t.Cursor),t.BasicCursor=function(){t.BasicCursor.superClass_.constructor.call(this)},t.utils.object.inherits(t.BasicCursor,t.Cursor),t.BasicCursor.registrationName="basicCursor",t.BasicCursor.prototype.next=function(){var t=this.getCurNode();return t?((t=this.getNextNode_(t,this.validNode_))&&this.setCurNode(t),t):null},t.BasicCursor.prototype.in=function(){return this.next()},t.BasicCursor.prototype.prev=function(){var t=this.getCurNode();return t?((t=this.getPreviousNode_(t,this.validNode_))&&this.setCurNode(t),t):null},t.BasicCursor.prototype.out=function(){return this.prev()},t.BasicCursor.prototype.getNextNode_=function(t,e){if(!t)return null;var n=t.in()||t.next();return e(n)?n:n?this.getNextNode_(n,e):e(t=this.findSiblingOrParent_(t.out()))?t:t?this.getNextNode_(t,e):null},t.BasicCursor.prototype.getPreviousNode_=function(t,e){if(!t)return null;var n=t.prev();return e(n=n?this.getRightMostChild_(n):t.out())?n:n?this.getPreviousNode_(n,e):null},t.BasicCursor.prototype.validNode_=function(e){var n=!1;return(e=e&&e.getType())!=t.ASTNode.types.OUTPUT&&e!=t.ASTNode.types.INPUT&&e!=t.ASTNode.types.FIELD&&e!=t.ASTNode.types.NEXT&&e!=t.ASTNode.types.PREVIOUS&&e!=t.ASTNode.types.WORKSPACE||(n=!0),n},t.BasicCursor.prototype.findSiblingOrParent_=function(t){return t?t.next()||this.findSiblingOrParent_(t.out()):null},t.BasicCursor.prototype.getRightMostChild_=function(t){if(!t.in())return t;for(t=t.in();t.next();)t=t.next();return this.getRightMostChild_(t)},t.registry.register(t.registry.Type.CURSOR,t.BasicCursor.registrationName,t.BasicCursor),t.TabNavigateCursor=function(){t.TabNavigateCursor.superClass_.constructor.call(this)},t.utils.object.inherits(t.TabNavigateCursor,t.BasicCursor),t.TabNavigateCursor.prototype.validNode_=function(e){var n=!1,i=e&&e.getType();return e&&(e=e.getLocation(),i==t.ASTNode.types.FIELD&&e&&e.isTabNavigable()&&e.isClickable()&&(n=!0)),n},t.BlockSvg=function(e,n,i){this.svgGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{},null),this.svgGroup_.translate_="",this.style=e.getRenderer().getConstants().getBlockStyle(null),this.pathObject=e.getRenderer().makePathObject(this.svgGroup_,this.style),this.renderIsInProgress_=this.rendered=!1,this.workspace=e,this.previousConnection=this.nextConnection=this.outputConnection=null,this.useDragSurface_=t.utils.is3dSupported()&&!!e.getBlockDragSurface();var o=this.pathObject.svgPath;o.tooltip=this,t.Tooltip.bindMouseEvents(o),t.BlockSvg.superClass_.constructor.call(this,e,n,i),this.svgGroup_.dataset?this.svgGroup_.dataset.id=this.id:t.utils.userAgent.IE&&this.svgGroup_.setAttribute("data-id",this.id)},t.utils.object.inherits(t.BlockSvg,t.Block),t.BlockSvg.prototype.height=0,t.BlockSvg.prototype.width=0,t.BlockSvg.prototype.warningTextDb_=null,t.BlockSvg.INLINE=-1,t.BlockSvg.COLLAPSED_WARNING_ID="TEMP_COLLAPSED_WARNING_",t.BlockSvg.prototype.initSvg=function(){if(!this.workspace.rendered)throw TypeError("Workspace is headless.");for(var e,n=0;e=this.inputList[n];n++)e.init();for(e=this.getIcons(),n=0;n<e.length;n++)e[n].createIcon();this.applyColour(),this.pathObject.updateMovable(this.isMovable()),n=this.getSvgRoot(),this.workspace.options.readOnly||this.eventsInit_||!n||t.browserEvents.conditionalBind(n,"mousedown",this,this.onMouseDown_),this.eventsInit_=!0,n.parentNode||this.workspace.getCanvas().appendChild(n)},t.BlockSvg.prototype.getColourSecondary=function(){return this.style.colourSecondary},t.BlockSvg.prototype.getColourTertiary=function(){return this.style.colourTertiary},t.BlockSvg.prototype.getColourShadow=function(){return t.utils.deprecation.warn("BlockSvg.prototype.getColourShadow","January 2020","January 2021","style.colourSecondary"),this.getColourSecondary()},t.BlockSvg.prototype.getColourBorder=function(){return t.utils.deprecation.warn("BlockSvg.prototype.getColourBorder","January 2020","January 2021","style.colourTertiary"),{colourBorder:this.getColourTertiary(),colourLight:null,colourDark:null}},t.BlockSvg.prototype.select=function(){if(this.isShadow()&&this.getParent())this.getParent().select();else if(t.selected!=this){var e=null;if(t.selected){e=t.selected.id,t.Events.disable();try{t.selected.unselect()}finally{t.Events.enable()}}e=new(t.Events.get(t.Events.SELECTED))(e,this.id,this.workspace.id),t.Events.fire(e),t.selected=this,this.addSelect()}},t.BlockSvg.prototype.unselect=function(){if(t.selected==this){var e=new(t.Events.get(t.Events.SELECTED))(this.id,null,this.workspace.id);e.workspaceId=this.workspace.id,t.Events.fire(e),t.selected=null,this.removeSelect()}},t.BlockSvg.prototype.mutator=null,t.BlockSvg.prototype.comment=null,t.BlockSvg.prototype.commentIcon_=null,t.BlockSvg.prototype.warning=null,t.BlockSvg.prototype.getIcons=function(){var t=[];return this.mutator&&t.push(this.mutator),this.commentIcon_&&t.push(this.commentIcon_),this.warning&&t.push(this.warning),t},t.BlockSvg.prototype.setParent=function(e){var n=this.parentBlock_;if(e!=n){t.utils.dom.startTextWidthCache(),t.BlockSvg.superClass_.setParent.call(this,e),t.utils.dom.stopTextWidthCache();var i=this.getSvgRoot();if(!this.workspace.isClearing&&i){var o=this.getRelativeToSurfaceXY();e?(e.getSvgRoot().appendChild(i),e=this.getRelativeToSurfaceXY(),this.moveConnections(e.x-o.x,e.y-o.y)):n&&(this.workspace.getCanvas().appendChild(i),this.translate(o.x,o.y)),this.applyColour()}}},t.BlockSvg.prototype.getRelativeToSurfaceXY=function(){var e=0,n=0,i=this.useDragSurface_?this.workspace.getBlockDragSurface().getGroup():null,o=this.getSvgRoot();if(o)do{var r=t.utils.getRelativeXY(o);e+=r.x,n+=r.y,this.useDragSurface_&&this.workspace.getBlockDragSurface().getCurrentBlock()==o&&(e+=(r=this.workspace.getBlockDragSurface().getSurfaceTranslation()).x,n+=r.y),o=o.parentNode}while(o&&o!=this.workspace.getCanvas()&&o!=i);return new t.utils.Coordinate(e,n)},t.BlockSvg.prototype.moveBy=function(e,n){if(this.parentBlock_)throw Error("Block has parent.");var i=t.Events.isEnabled();if(i)var o=new(t.Events.get(t.Events.BLOCK_MOVE))(this);var r=this.getRelativeToSurfaceXY();this.translate(r.x+e,r.y+n),this.moveConnections(e,n),i&&(o.recordNew(),t.Events.fire(o)),this.workspace.resizeContents()},t.BlockSvg.prototype.translate=function(t,e){this.getSvgRoot().setAttribute("transform","translate("+t+","+e+")")},t.BlockSvg.prototype.moveToDragSurface=function(){if(this.useDragSurface_){var t=this.getRelativeToSurfaceXY();this.clearTransformAttributes_(),this.workspace.getBlockDragSurface().translateSurface(t.x,t.y),(t=this.getSvgRoot())&&this.workspace.getBlockDragSurface().setBlocksAndShow(t)}},t.BlockSvg.prototype.moveTo=function(t){var e=this.getRelativeToSurfaceXY();this.moveBy(t.x-e.x,t.y-e.y)},t.BlockSvg.prototype.moveOffDragSurface=function(t){this.useDragSurface_&&(this.translate(t.x,t.y),this.workspace.getBlockDragSurface().clearAndHide(this.workspace.getCanvas()))},t.BlockSvg.prototype.moveDuringDrag=function(t){this.useDragSurface_?this.workspace.getBlockDragSurface().translateSurface(t.x,t.y):(this.svgGroup_.translate_="translate("+t.x+","+t.y+")",this.svgGroup_.setAttribute("transform",this.svgGroup_.translate_+this.svgGroup_.skew_))},t.BlockSvg.prototype.clearTransformAttributes_=function(){this.getSvgRoot().removeAttribute("transform")},t.BlockSvg.prototype.snapToGrid=function(){if(this.workspace&&!this.workspace.isDragging()&&!this.getParent()&&!this.isInFlyout){var t=this.workspace.getGrid();if(t&&t.shouldSnap()){var e=t.getSpacing(),n=e/2,i=this.getRelativeToSurfaceXY();t=Math.round((i.x-n)/e)*e+n-i.x,e=Math.round((i.y-n)/e)*e+n-i.y,t=Math.round(t),e=Math.round(e),0==t&&0==e||this.moveBy(t,e)}}},t.BlockSvg.prototype.getBoundingRectangle=function(){var e=this.getRelativeToSurfaceXY(),n=this.getHeightWidth();if(this.RTL)var i=e.x-n.width,o=e.x;else i=e.x,o=e.x+n.width;return new t.utils.Rect(e.y,e.y+n.height,i,o)},t.BlockSvg.prototype.markDirty=function(){this.pathObject.constants=this.workspace.getRenderer().getConstants();for(var t,e=0;t=this.inputList[e];e++)t.markDirty()},t.BlockSvg.prototype.setCollapsed=function(e){this.collapsed_!=e&&(t.BlockSvg.superClass_.setCollapsed.call(this,e),e?this.rendered&&this.render():this.updateCollapsed_())},t.BlockSvg.prototype.updateCollapsed_=function(){for(var e,n=this.isCollapsed(),i=t.constants.COLLAPSED_INPUT_NAME,o=t.constants.COLLAPSED_FIELD_NAME,r=0;e=this.inputList[r];r++)e.name!=i&&e.setVisible(!n);if(n){for(e=this.getIcons(),r=0;n=e[r];r++)n.setVisible(!1);r=this.toString(t.COLLAPSE_CHARS),(e=this.getField(o))?e.setValue(r):(e=this.getInput(i)||this.appendDummyInput(i)).appendField(new t.FieldLabel(r),o)}else this.updateDisabled(),this.removeInput(i)},t.BlockSvg.prototype.tab=function(e,n){var i=new t.TabNavigateCursor;i.setCurNode(t.ASTNode.createFieldNode(e)),e=i.getCurNode(),n?i.next():i.prev(),(n=i.getCurNode())&&n!==e&&(n.getLocation().showEditor(),this.workspace.keyboardAccessibilityMode&&this.workspace.getCursor().setCurNode(n))},t.BlockSvg.prototype.onMouseDown_=function(t){var e=this.workspace&&this.workspace.getGesture(t);e&&e.handleBlockStart(t,this)},t.BlockSvg.prototype.showHelp=function(){var t="function"==typeof this.helpUrl?this.helpUrl():this.helpUrl;t&&window.open(t)},t.BlockSvg.prototype.generateContextMenu=function(){if(this.workspace.options.readOnly||!this.contextMenu)return null;var e=t.ContextMenuRegistry.registry.getContextMenuOptions(t.ContextMenuRegistry.ScopeType.BLOCK,{block:this});return this.customContextMenu&&this.customContextMenu(e),e},t.BlockSvg.prototype.showContextMenu=function(e){var n=this.generateContextMenu();n&&n.length&&(t.ContextMenu.show(e,n,this.RTL),t.ContextMenu.currentBlock=this)},t.BlockSvg.prototype.moveConnections=function(t,e){if(this.rendered){for(var n=this.getConnections_(!1),i=0;i<n.length;i++)n[i].moveBy(t,e);for(n=this.getIcons(),i=0;i<n.length;i++)n[i].computeIconLocation();for(i=0;i<this.childBlocks_.length;i++)this.childBlocks_[i].moveConnections(t,e)}},t.BlockSvg.prototype.setDragging=function(e){if(e){var n=this.getSvgRoot();n.translate_="",n.skew_="",t.draggingConnections=t.draggingConnections.concat(this.getConnections_(!0)),t.utils.dom.addClass(this.svgGroup_,"blocklyDragging")}else t.draggingConnections=[],t.utils.dom.removeClass(this.svgGroup_,"blocklyDragging");for(n=0;n<this.childBlocks_.length;n++)this.childBlocks_[n].setDragging(e)},t.BlockSvg.prototype.setMovable=function(e){t.BlockSvg.superClass_.setMovable.call(this,e),this.pathObject.updateMovable(e)},t.BlockSvg.prototype.setEditable=function(e){t.BlockSvg.superClass_.setEditable.call(this,e),e=this.getIcons();for(var n=0;n<e.length;n++)e[n].updateEditable()},t.BlockSvg.prototype.setShadow=function(e){t.BlockSvg.superClass_.setShadow.call(this,e),this.applyColour()},t.BlockSvg.prototype.setInsertionMarker=function(t){this.isInsertionMarker_!=t&&(this.isInsertionMarker_=t)&&(this.setColour(this.workspace.getRenderer().getConstants().INSERTION_MARKER_COLOUR),this.pathObject.updateInsertionMarker(!0))},t.BlockSvg.prototype.getSvgRoot=function(){return this.svgGroup_},t.BlockSvg.prototype.dispose=function(e,n){if(this.workspace){t.Tooltip.dispose(),t.Tooltip.unbindMouseEvents(this.pathObject.svgPath),t.utils.dom.startTextWidthCache();var i=this.workspace;if(t.selected==this&&(this.unselect(),this.workspace.cancelCurrentGesture()),t.ContextMenu.currentBlock==this&&t.ContextMenu.hide(),n&&this.rendered&&(this.unplug(e),t.blockAnimations.disposeUiEffect(this)),this.rendered=!1,this.warningTextDb_){for(var o in this.warningTextDb_)clearTimeout(this.warningTextDb_[o]);this.warningTextDb_=null}for(n=this.getIcons(),o=0;o<n.length;o++)n[o].dispose();t.BlockSvg.superClass_.dispose.call(this,!!e),t.utils.dom.removeNode(this.svgGroup_),i.resizeContents(),this.svgGroup_=null,t.utils.dom.stopTextWidthCache()}},t.BlockSvg.prototype.toCopyData=function(){if(this.isInsertionMarker_)return null;var e=t.Xml.blockToDom(this,!0);t.Xml.deleteNext(e);var n=this.getRelativeToSurfaceXY();return e.setAttribute("x",this.RTL?-n.x:n.x),e.setAttribute("y",n.y),{xml:e,source:this.workspace,typeCounts:t.utils.getBlockTypeCounts(this,!0)}},t.BlockSvg.prototype.applyColour=function(){this.pathObject.applyColour(this);for(var t=this.getIcons(),e=0;e<t.length;e++)t[e].applyColour();for(t=0;e=this.inputList[t];t++)for(var n,i=0;n=e.fieldRow[i];i++)n.applyColour()},t.BlockSvg.prototype.updateDisabled=function(){var t=this.getChildren(!1);if(this.applyColour(),!this.isCollapsed())for(var e,n=0;e=t[n];n++)e.rendered&&e.updateDisabled()},t.BlockSvg.prototype.getCommentIcon=function(){return this.commentIcon_},t.BlockSvg.prototype.setCommentText=function(e){if(!t.Comment)throw Error("Missing require for Blockly.Comment");this.commentModel.text!=e&&(t.BlockSvg.superClass_.setCommentText.call(this,e),!!this.commentIcon_==(e=null!=e)?this.commentIcon_.updateText():(e?this.comment=this.commentIcon_=new t.Comment(this):(this.commentIcon_.dispose(),this.comment=this.commentIcon_=null),this.rendered&&(this.render(),this.bumpNeighbours())))},t.BlockSvg.prototype.setWarningText=function(e,n){if(!t.Warning)throw Error("Missing require for Blockly.Warning");this.warningTextDb_||(this.warningTextDb_=Object.create(null));var i=n||"";if(i)this.warningTextDb_[i]&&(clearTimeout(this.warningTextDb_[i]),delete this.warningTextDb_[i]);else for(var o in this.warningTextDb_)clearTimeout(this.warningTextDb_[o]),delete this.warningTextDb_[o];if(this.workspace.isDragging()){var r=this;this.warningTextDb_[i]=setTimeout(function(){r.workspace&&(delete r.warningTextDb_[i],r.setWarningText(e,i))},100)}else{if(this.isInFlyout&&(e=null),n=!1,"string"==typeof e){o=this.getSurroundParent();for(var s=null;o;)o.isCollapsed()&&(s=o),o=o.getSurroundParent();s&&s.setWarningText(t.Msg.COLLAPSED_WARNINGS_WARNING,t.BlockSvg.COLLAPSED_WARNING_ID),this.warning||(this.warning=new t.Warning(this),n=!0),this.warning.setText(e,i)}else this.warning&&!i?(this.warning.dispose(),n=!0):this.warning&&(n=this.warning.getText(),this.warning.setText("",i),(o=this.warning.getText())||this.warning.dispose(),n=n!=o);n&&this.rendered&&(this.render(),this.bumpNeighbours())}},t.BlockSvg.prototype.setMutator=function(t){this.mutator&&this.mutator!==t&&this.mutator.dispose(),t&&(t.setBlock(this),this.mutator=t,t.createIcon()),this.rendered&&(this.render(),this.bumpNeighbours())},t.BlockSvg.prototype.setEnabled=function(e){this.isEnabled()!=e&&(t.BlockSvg.superClass_.setEnabled.call(this,e),this.rendered&&!this.getInheritedDisabled()&&this.updateDisabled())},t.BlockSvg.prototype.setHighlighted=function(t){this.rendered&&this.pathObject.updateHighlighted(t)},t.BlockSvg.prototype.addSelect=function(){this.pathObject.updateSelected(!0)},t.BlockSvg.prototype.removeSelect=function(){this.pathObject.updateSelected(!1)},t.BlockSvg.prototype.setDeleteStyle=function(t){this.pathObject.updateDraggingDelete(t)},t.BlockSvg.prototype.getColour=function(){return this.style.colourPrimary},t.BlockSvg.prototype.setColour=function(e){t.BlockSvg.superClass_.setColour.call(this,e),e=this.workspace.getRenderer().getConstants().getBlockStyleForColour(this.colour_),this.pathObject.setStyle(e.style),this.style=e.style,this.styleName_=e.name,this.applyColour()},t.BlockSvg.prototype.setStyle=function(t){var e=this.workspace.getRenderer().getConstants().getBlockStyle(t);if(this.styleName_=t,!e)throw Error("Invalid style name: "+t);this.hat=e.hat,this.pathObject.setStyle(e),this.colour_=e.colourPrimary,this.style=e,this.applyColour()},t.BlockSvg.prototype.bringToFront=function(){var t=this;do{var e=t.getSvgRoot(),n=e.parentNode,i=n.childNodes;i[i.length-1]!==e&&n.appendChild(e),t=t.getParent()}while(t)},t.BlockSvg.prototype.setPreviousStatement=function(e,n){t.BlockSvg.superClass_.setPreviousStatement.call(this,e,n),this.rendered&&(this.render(),this.bumpNeighbours())},t.BlockSvg.prototype.setNextStatement=function(e,n){t.BlockSvg.superClass_.setNextStatement.call(this,e,n),this.rendered&&(this.render(),this.bumpNeighbours())},t.BlockSvg.prototype.setOutput=function(e,n){t.BlockSvg.superClass_.setOutput.call(this,e,n),this.rendered&&(this.render(),this.bumpNeighbours())},t.BlockSvg.prototype.setInputsInline=function(e){t.BlockSvg.superClass_.setInputsInline.call(this,e),this.rendered&&(this.render(),this.bumpNeighbours())},t.BlockSvg.prototype.removeInput=function(e,n){return e=t.BlockSvg.superClass_.removeInput.call(this,e,n),this.rendered&&(this.render(),this.bumpNeighbours()),e},t.BlockSvg.prototype.moveNumberedInputBefore=function(e,n){t.BlockSvg.superClass_.moveNumberedInputBefore.call(this,e,n),this.rendered&&(this.render(),this.bumpNeighbours())},t.BlockSvg.prototype.appendInput_=function(e,n){return e=t.BlockSvg.superClass_.appendInput_.call(this,e,n),this.rendered&&(this.render(),this.bumpNeighbours()),e},t.BlockSvg.prototype.setConnectionTracking=function(t){if(this.previousConnection&&this.previousConnection.setTracking(t),this.outputConnection&&this.outputConnection.setTracking(t),this.nextConnection){this.nextConnection.setTracking(t);var e=this.nextConnection.targetBlock();e&&e.setConnectionTracking(t)}if(!this.collapsed_)for(e=0;e<this.inputList.length;e++){var n=this.inputList[e].connection;n&&(n.setTracking(t),(n=n.targetBlock())&&n.setConnectionTracking(t))}},t.BlockSvg.prototype.getConnections_=function(t){var e=[];if((t||this.rendered)&&(this.outputConnection&&e.push(this.outputConnection),this.previousConnection&&e.push(this.previousConnection),this.nextConnection&&e.push(this.nextConnection),t||!this.collapsed_)){t=0;for(var n;n=this.inputList[t];t++)n.connection&&e.push(n.connection)}return e},t.BlockSvg.prototype.lastConnectionInStack=function(){return t.BlockSvg.superClass_.lastConnectionInStack.call(this)},t.BlockSvg.prototype.getMatchingConnection=function(e,n){return t.BlockSvg.superClass_.getMatchingConnection.call(this,e,n)},t.BlockSvg.prototype.makeConnection_=function(e){return new t.RenderedConnection(this,e)},t.BlockSvg.prototype.bumpNeighbours=function(){if(this.workspace&&!this.workspace.isDragging()){var e=this.getRootBlock();if(!e.isInFlyout)for(var n,i=this.getConnections_(!1),o=0;n=i[o];o++){n.isConnected()&&n.isSuperior()&&n.targetBlock().bumpNeighbours();for(var r,s=n.neighbours(t.SNAP_RADIUS),a=0;r=s[a];a++)n.isConnected()&&r.isConnected()||r.getSourceBlock().getRootBlock()!=e&&(n.isSuperior()?r.bumpAwayFrom(n):n.bumpAwayFrom(r))}}},t.BlockSvg.prototype.scheduleSnapAndBump=function(){var e=this,n=t.Events.getGroup();setTimeout(function(){t.Events.setGroup(n),e.snapToGrid(),t.Events.setGroup(!1)},t.BUMP_DELAY/2),setTimeout(function(){t.Events.setGroup(n),e.bumpNeighbours(),t.Events.setGroup(!1)},t.BUMP_DELAY)},t.BlockSvg.prototype.positionNearConnection=function(e,n){e.type!=t.connectionTypes.NEXT_STATEMENT&&e.type!=t.connectionTypes.INPUT_VALUE||this.moveBy(n.x-e.x,n.y-e.y)},t.BlockSvg.prototype.getParent=function(){return t.BlockSvg.superClass_.getParent.call(this)},t.BlockSvg.prototype.getRootBlock=function(){return t.BlockSvg.superClass_.getRootBlock.call(this)},t.BlockSvg.prototype.render=function(e){if(!this.renderIsInProgress_){this.renderIsInProgress_=!0;try{if(this.rendered=!0,t.utils.dom.startTextWidthCache(),this.isCollapsed()&&this.updateCollapsed_(),this.workspace.getRenderer().render(this),this.updateConnectionLocations_(),!1!==e){var n=this.getParent();n?n.render(!0):this.workspace.resizeContents()}t.utils.dom.stopTextWidthCache(),this.updateMarkers_()}finally{this.renderIsInProgress_=!1}}},t.BlockSvg.prototype.updateMarkers_=function(){this.workspace.keyboardAccessibilityMode&&this.pathObject.cursorSvg&&this.workspace.getCursor().draw(),this.workspace.keyboardAccessibilityMode&&this.pathObject.markerSvg&&this.workspace.getMarker(t.MarkerManager.LOCAL_MARKER).draw()},t.BlockSvg.prototype.updateConnectionLocations_=function(){var t=this.getRelativeToSurfaceXY();this.previousConnection&&this.previousConnection.moveToOffset(t),this.outputConnection&&this.outputConnection.moveToOffset(t);for(var e=0;e<this.inputList.length;e++){var n=this.inputList[e].connection;n&&(n.moveToOffset(t),n.isConnected()&&n.tighten())}this.nextConnection&&(this.nextConnection.moveToOffset(t),this.nextConnection.isConnected()&&this.nextConnection.tighten())},t.BlockSvg.prototype.setCursorSvg=function(t){this.pathObject.setCursorSvg(t)},t.BlockSvg.prototype.setMarkerSvg=function(t){this.pathObject.setMarkerSvg(t)},t.BlockSvg.prototype.getHeightWidth=function(){var t=this.height,e=this.width,n=this.getNextBlock();if(n){n=n.getHeightWidth();var i=this.workspace.getRenderer().getConstants().NOTCH_HEIGHT;t+=n.height-i,e=Math.max(e,n.width)}return{height:t,width:e}},t.BlockSvg.prototype.fadeForReplacement=function(t){this.pathObject.updateReplacementFade(t)},t.BlockSvg.prototype.highlightShapeForInput=function(t,e){this.pathObject.updateShapeForInputHighlight(t,e)},t.ConnectionDB=function(t){this.connections_=[],this.connectionChecker_=t},t.ConnectionDB.prototype.addConnection=function(t,e){e=this.calculateIndexForYPos_(e),this.connections_.splice(e,0,t)},t.ConnectionDB.prototype.findIndexOfConnection_=function(t,e){if(!this.connections_.length)return-1;var n=this.calculateIndexForYPos_(e);if(n>=this.connections_.length)return-1;e=t.y;for(var i=n;0<=i&&this.connections_[i].y==e;){if(this.connections_[i]==t)return i;i--}for(;n<this.connections_.length&&this.connections_[n].y==e;){if(this.connections_[n]==t)return n;n++}return-1},t.ConnectionDB.prototype.calculateIndexForYPos_=function(t){if(!this.connections_.length)return 0;for(var e=0,n=this.connections_.length;e<n;){var i=Math.floor((e+n)/2);if(this.connections_[i].y<t)e=i+1;else{if(!(this.connections_[i].y>t)){e=i;break}n=i}}return e},t.ConnectionDB.prototype.removeConnection=function(t,e){if(-1==(t=this.findIndexOfConnection_(t,e)))throw Error("Unable to find connection in connectionDB.");this.connections_.splice(t,1)},t.ConnectionDB.prototype.getNeighbours=function(t,e){function n(t){var n=o-i[t].x,s=r-i[t].y;return Math.sqrt(n*n+s*s)<=e&&l.push(i[t]),s<e}var i=this.connections_,o=t.x,r=t.y;t=0;for(var s=i.length-2,a=s;t<a;)i[a].y<r?t=a:s=a,a=Math.floor((t+s)/2);var l=[];if(s=t=a,i.length){for(;0<=t&&n(t);)t--;do{s++}while(s<i.length&&n(s))}return l},t.ConnectionDB.prototype.isInYRange_=function(t,e,n){return Math.abs(this.connections_[t].y-e)<=n},t.ConnectionDB.prototype.searchForClosest=function(t,e,n){if(!this.connections_.length)return{connection:null,radius:e};var i=t.y,o=t.x;t.x=o+n.x,t.y=i+n.y;var r=this.calculateIndexForYPos_(t.y);n=null;for(var s,a=e,l=r-1;0<=l&&this.isInYRange_(l,t.y,e);)this.connectionChecker_.canConnect(t,s=this.connections_[l],!0,a)&&(n=s,a=s.distanceFrom(t)),l--;for(;r<this.connections_.length&&this.isInYRange_(r,t.y,e);)this.connectionChecker_.canConnect(t,s=this.connections_[r],!0,a)&&(n=s,a=s.distanceFrom(t)),r++;return t.x=o,t.y=i,{connection:n,radius:a}},t.ConnectionDB.init=function(e){var n=[];return n[t.connectionTypes.INPUT_VALUE]=new t.ConnectionDB(e),n[t.connectionTypes.OUTPUT_VALUE]=new t.ConnectionDB(e),n[t.connectionTypes.NEXT_STATEMENT]=new t.ConnectionDB(e),n[t.connectionTypes.PREVIOUS_STATEMENT]=new t.ConnectionDB(e),n},t.Events.ThemeChange=function(e,n){t.Events.ThemeChange.superClass_.constructor.call(this,n),this.themeName=e},t.utils.object.inherits(t.Events.ThemeChange,t.Events.UiBase),t.Events.ThemeChange.prototype.type=t.Events.THEME_CHANGE,t.Events.ThemeChange.prototype.toJson=function(){var e=t.Events.ThemeChange.superClass_.toJson.call(this);return e.themeName=this.themeName,e},t.Events.ThemeChange.prototype.fromJson=function(e){t.Events.ThemeChange.superClass_.fromJson.call(this,e),this.themeName=e.themeName},t.registry.register(t.registry.Type.EVENT,t.Events.THEME_CHANGE,t.Events.ThemeChange),t.Events.ViewportChange=function(e,n,i,o,r){t.Events.ViewportChange.superClass_.constructor.call(this,o),this.viewTop=e,this.viewLeft=n,this.scale=i,this.oldScale=r},t.utils.object.inherits(t.Events.ViewportChange,t.Events.UiBase),t.Events.ViewportChange.prototype.type=t.Events.VIEWPORT_CHANGE,t.Events.ViewportChange.prototype.toJson=function(){var e=t.Events.ViewportChange.superClass_.toJson.call(this);return e.viewTop=this.viewTop,e.viewLeft=this.viewLeft,e.scale=this.scale,e.oldScale=this.oldScale,e},t.Events.ViewportChange.prototype.fromJson=function(e){t.Events.ViewportChange.superClass_.fromJson.call(this,e),this.viewTop=e.viewTop,this.viewLeft=e.viewLeft,this.scale=e.scale,this.oldScale=e.oldScale},t.registry.register(t.registry.Type.EVENT,t.Events.VIEWPORT_CHANGE,t.Events.ViewportChange),t.MarkerManager=function(t){this.cursorSvg_=this.cursor_=null,this.markers_={},this.workspace_=t},t.MarkerManager.LOCAL_MARKER="local_marker_1",t.MarkerManager.prototype.registerMarker=function(t,e){this.markers_[t]&&this.unregisterMarker(t),e.setDrawer(this.workspace_.getRenderer().makeMarkerDrawer(this.workspace_,e)),this.setMarkerSvg(e.getDrawer().createDom()),this.markers_[t]=e},t.MarkerManager.prototype.unregisterMarker=function(t){var e=this.markers_[t];if(!e)throw Error("Marker with id "+t+" does not exist. Can only unregistermarkers that exist.");e.dispose(),delete this.markers_[t]},t.MarkerManager.prototype.getCursor=function(){return this.cursor_},t.MarkerManager.prototype.getMarker=function(t){return this.markers_[t]},t.MarkerManager.prototype.setCursor=function(t){this.cursor_&&this.cursor_.getDrawer()&&this.cursor_.getDrawer().dispose(),(this.cursor_=t)&&(t=this.workspace_.getRenderer().makeMarkerDrawer(this.workspace_,this.cursor_),this.cursor_.setDrawer(t),this.setCursorSvg(this.cursor_.getDrawer().createDom()))},t.MarkerManager.prototype.setCursorSvg=function(t){t?(this.workspace_.getBlockCanvas().appendChild(t),this.cursorSvg_=t):this.cursorSvg_=null},t.MarkerManager.prototype.setMarkerSvg=function(t){t?this.workspace_.getBlockCanvas()&&(this.cursorSvg_?this.workspace_.getBlockCanvas().insertBefore(t,this.cursorSvg_):this.workspace_.getBlockCanvas().appendChild(t)):this.markerSvg_=null},t.MarkerManager.prototype.updateMarkers=function(){this.workspace_.keyboardAccessibilityMode&&this.cursorSvg_&&this.workspace_.getCursor().draw()},t.MarkerManager.prototype.dispose=function(){for(var t,e=Object.keys(this.markers_),n=0;t=e[n];n++)this.unregisterMarker(t);this.markers_=null,this.cursor_&&(this.cursor_.dispose(),this.cursor_=null)},t.IMetricsManager=function(){},t.MetricsManager=function(t){this.workspace_=t},t.MetricsManager.prototype.getDimensionsPx_=function(e){var n=0,i=0;return e&&(n=e.getWidth(),i=e.getHeight()),new t.utils.Size(n,i)},t.MetricsManager.prototype.getFlyoutMetrics=function(t){return{width:(t=this.getDimensionsPx_(this.workspace_.getFlyout(t))).width,height:t.height,position:this.workspace_.toolboxPosition}},t.MetricsManager.prototype.getToolboxMetrics=function(){var t=this.getDimensionsPx_(this.workspace_.getToolbox());return{width:t.width,height:t.height,position:this.workspace_.toolboxPosition}},t.MetricsManager.prototype.getSvgMetrics=function(){return this.workspace_.getCachedParentSvgSize()},t.MetricsManager.prototype.getAbsoluteMetrics=function(){var e=0,n=this.getToolboxMetrics(),i=this.getFlyoutMetrics(!0),o=!!this.workspace_.getToolbox(),r=!!this.workspace_.getFlyout(!0),s=o?n.position:i.position,a=s==t.utils.toolbox.Position.LEFT;return s=s==t.utils.toolbox.Position.TOP,o&&a?e=n.width:r&&a&&(e=i.width),a=0,o&&s?a=n.height:r&&s&&(a=i.height),{top:a,left:e}},t.MetricsManager.prototype.getViewMetrics=function(e){e=e?this.workspace_.scale:1;var n=this.getSvgMetrics(),i=this.getToolboxMetrics(),o=this.getFlyoutMetrics(!0),r=this.workspace_.getToolbox()?i.position:o.position;return this.workspace_.getToolbox()?r==t.utils.toolbox.Position.TOP||r==t.utils.toolbox.Position.BOTTOM?n.height-=i.height:r!=t.utils.toolbox.Position.LEFT&&r!=t.utils.toolbox.Position.RIGHT||(n.width-=i.width):this.workspace_.getFlyout(!0)&&(r==t.utils.toolbox.Position.TOP||r==t.utils.toolbox.Position.BOTTOM?n.height-=o.height:r!=t.utils.toolbox.Position.LEFT&&r!=t.utils.toolbox.Position.RIGHT||(n.width-=o.width)),{height:n.height/e,width:n.width/e,top:-this.workspace_.scrollY/e,left:-this.workspace_.scrollX/e}},t.MetricsManager.prototype.getContentMetrics=function(t){t=t?1:this.workspace_.scale;var e=this.workspace_.getBlocksBoundingBox();return{height:(e.bottom-e.top)*t,width:(e.right-e.left)*t,top:e.top*t,left:e.left*t}},t.MetricsManager.prototype.hasFixedEdges=function(){return!this.workspace_.isMovableHorizontally()||!this.workspace_.isMovableVertically()},t.MetricsManager.prototype.getComputedFixedEdges_=function(t){if(!this.hasFixedEdges())return{};var e=this.workspace_.isMovableHorizontally(),n=this.workspace_.isMovableVertically();t=t||this.getViewMetrics(!1);var i={};return n||(i.top=t.top,i.bottom=t.top+t.height),e||(i.left=t.left,i.right=t.left+t.width),i},t.MetricsManager.prototype.getPaddedContent_=function(t,e){var n=e.top+e.height,i=e.left+e.width,o=t.width,r=o/2,s=(t=t.height)/2;return{top:Math.min(e.top-s,n-t),bottom:Math.max(n+s,e.top+t),left:Math.min(e.left-r,i-o),right:Math.max(i+r,e.left+o)}},t.MetricsManager.prototype.getScrollMetrics=function(t,e,n){t=t?this.workspace_.scale:1,e=e||this.getViewMetrics(!1);var i=n||this.getContentMetrics();n=this.getComputedFixedEdges_(e),e=this.getPaddedContent_(e,i);var o=void 0!==n.left?n.left:e.left;return{top:(i=void 0!==n.top?n.top:e.top)/t,left:o/t,width:((void 0!==n.right?n.right:e.right)-o)/t,height:((void 0!==n.bottom?n.bottom:e.bottom)-i)/t}},t.MetricsManager.prototype.getUiMetrics=function(){return{viewMetrics:this.getViewMetrics(),absoluteMetrics:this.getAbsoluteMetrics(),toolboxMetrics:this.getToolboxMetrics()}},t.MetricsManager.prototype.getMetrics=function(){var t=this.getToolboxMetrics(),e=this.getFlyoutMetrics(!0),n=this.getSvgMetrics(),i=this.getAbsoluteMetrics(),o=this.getViewMetrics(),r=this.getContentMetrics(),s=this.getScrollMetrics(!1,o,r);return{contentHeight:r.height,contentWidth:r.width,contentTop:r.top,contentLeft:r.left,scrollHeight:s.height,scrollWidth:s.width,scrollTop:s.top,scrollLeft:s.left,viewHeight:o.height,viewWidth:o.width,viewTop:o.top,viewLeft:o.left,absoluteTop:i.top,absoluteLeft:i.left,svgHeight:n.height,svgWidth:n.width,toolboxWidth:t.width,toolboxHeight:t.height,toolboxPosition:t.position,flyoutWidth:e.width,flyoutHeight:e.height}},t.registry.register(t.registry.Type.METRICS_MANAGER,t.registry.DEFAULT,t.MetricsManager),t.FlyoutMetricsManager=function(e,n){this.flyout_=n,t.FlyoutMetricsManager.superClass_.constructor.call(this,e)},t.utils.object.inherits(t.FlyoutMetricsManager,t.MetricsManager),t.FlyoutMetricsManager.prototype.getBoundingBox_=function(){try{var t=this.workspace_.getCanvas().getBBox()}catch(e){t={height:0,y:0,width:0,x:0}}return t},t.FlyoutMetricsManager.prototype.getContentMetrics=function(t){var e=this.getBoundingBox_();return{height:e.height*(t=t?1:this.workspace_.scale),width:e.width*t,top:e.y*t,left:e.x*t}},t.FlyoutMetricsManager.prototype.getScrollMetrics=function(t,e,n){return{height:((e=n||this.getContentMetrics()).height+2*(n=this.flyout_.MARGIN*this.workspace_.scale))/(t=t?this.workspace_.scale:1),width:(e.width+e.left+n)/t,top:0,left:0}},t.FlyoutMetricsManager.prototype.getViewMetrics=function(t){var e=this.getSvgMetrics();if(this.flyout_.horizontalLayout){var n=e.width-2*this.flyout_.SCROLLBAR_PADDING;e=e.height-this.flyout_.SCROLLBAR_PADDING}else n=e.width-this.flyout_.SCROLLBAR_PADDING,e=e.height-2*this.flyout_.SCROLLBAR_PADDING;return{height:e/(t=t?this.workspace_.scale:1),width:n/t,top:-this.workspace_.scrollY/t,left:-this.workspace_.scrollX/t}},t.FlyoutMetricsManager.prototype.getAbsoluteMetrics=function(){var t=this.flyout_.SCROLLBAR_PADDING;return this.flyout_.horizontalLayout?{top:0,left:t}:{top:t,left:0}},t.PluginManager=function(){this.pluginData_={},this.typeToPluginIds_={}},t.PluginManager.prototype.addPlugin=function(t){this.pluginData_[t.id]=t;for(var e,n=0;e=t.types[n];n++)e=String(e).toLowerCase(),void 0===this.typeToPluginIds_[e]?this.typeToPluginIds_[e]=[t.id]:this.typeToPluginIds_[e].push(t.id)},t.PluginManager.prototype.getPlugin=function(t){return this.pluginData_[t]&&this.pluginData_[t].plugin},t.PluginManager.prototype.getPlugins=function(t,e){if(t=String(t).toLowerCase(),!(t=this.typeToPluginIds_[t]))return[];var n=[];if(e){var i=[],o=this.pluginData_;t.forEach(function(t){i.push(o[t])}),i.sort(function(t,e){return t.weight-e.weight}),i.forEach(function(t){n.push(t.plugin)})}else o=this.pluginData_,t.forEach(function(t){n.push(o[t].plugin)});return n},t.PluginManager.Type=function(t){this.name_=t},t.PluginManager.Type.prototype.toString=function(){return this.name_},t.PluginManager.Type.POSITIONABLE=new t.PluginManager.Type("positionable"),t.ThemeManager=function(t,e){this.workspace_=t,this.theme_=e,this.subscribedWorkspaces_=[],this.componentDB_=Object.create(null)},t.ThemeManager.prototype.getTheme=function(){return this.theme_},t.ThemeManager.prototype.setTheme=function(e){var n,i=this.theme_;for(this.theme_=e,(e=this.workspace_.getInjectionDiv())&&(i&&t.utils.dom.removeClass(e,i.getClassName()),t.utils.dom.addClass(e,this.theme_.getClassName())),i=0;e=this.subscribedWorkspaces_[i];i++)e.refreshTheme();for(i=0,e=Object.keys(this.componentDB_);n=e[i];i++)for(var o,r=0;o=this.componentDB_[n][r];r++){var s=o.element;o=o.propertyName;var a=this.theme_&&this.theme_.getComponentStyle(n);s.style[o]=a||""}t.hideChaff()},t.ThemeManager.prototype.subscribeWorkspace=function(t){this.subscribedWorkspaces_.push(t)},t.ThemeManager.prototype.unsubscribeWorkspace=function(t){if(0>(t=this.subscribedWorkspaces_.indexOf(t)))throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.");this.subscribedWorkspaces_.splice(t,1)},t.ThemeManager.prototype.subscribe=function(t,e,n){this.componentDB_[e]||(this.componentDB_[e]=[]),this.componentDB_[e].push({element:t,propertyName:n}),e=this.theme_&&this.theme_.getComponentStyle(e),t.style[n]=e||""},t.ThemeManager.prototype.unsubscribe=function(t){if(t)for(var e,n=Object.keys(this.componentDB_),i=0;e=n[i];i++){for(var o=this.componentDB_[e],r=o.length-1;0<=r;r--)o[r].element===t&&o.splice(r,1);this.componentDB_[e].length||delete this.componentDB_[e]}},t.ThemeManager.prototype.dispose=function(){this.componentDB_=this.subscribedWorkspaces_=this.theme_=this.owner_=null},t.TouchGesture=function(e,n){t.TouchGesture.superClass_.constructor.call(this,e,n),this.isMultiTouch_=!1,this.cachedPoints_=Object.create(null),this.startDistance_=this.previousScale_=0,this.isPinchZoomEnabled_=this.onStartWrapper_=null},t.utils.object.inherits(t.TouchGesture,t.Gesture),t.TouchGesture.ZOOM_IN_MULTIPLIER=5,t.TouchGesture.ZOOM_OUT_MULTIPLIER=6,t.TouchGesture.prototype.doStart=function(e){this.isPinchZoomEnabled_=this.startWorkspace_.options.zoomOptions&&this.startWorkspace_.options.zoomOptions.pinch,t.TouchGesture.superClass_.doStart.call(this,e),!this.isEnding_&&t.Touch.isTouchEvent(e)&&this.handleTouchStart(e)},t.TouchGesture.prototype.bindMouseEvents=function(e){this.onStartWrapper_=t.browserEvents.conditionalBind(document,"mousedown",null,this.handleStart.bind(this),!0),this.onMoveWrapper_=t.browserEvents.conditionalBind(document,"mousemove",null,this.handleMove.bind(this),!0),this.onUpWrapper_=t.browserEvents.conditionalBind(document,"mouseup",null,this.handleUp.bind(this),!0),e.preventDefault(),e.stopPropagation()},t.TouchGesture.prototype.handleStart=function(e){!this.isDragging()&&t.Touch.isTouchEvent(e)&&(this.handleTouchStart(e),this.isMultiTouch()&&t.longStop_())},t.TouchGesture.prototype.handleMove=function(e){this.isDragging()?t.Touch.shouldHandleEvent(e)&&t.TouchGesture.superClass_.handleMove.call(this,e):this.isMultiTouch()?(t.Touch.isTouchEvent(e)&&this.handleTouchMove(e),t.longStop_()):t.TouchGesture.superClass_.handleMove.call(this,e)},t.TouchGesture.prototype.handleUp=function(e){t.Touch.isTouchEvent(e)&&!this.isDragging()&&this.handleTouchEnd(e),!this.isMultiTouch()||this.isDragging()?t.Touch.shouldHandleEvent(e)&&t.TouchGesture.superClass_.handleUp.call(this,e):(e.preventDefault(),e.stopPropagation(),this.dispose())},t.TouchGesture.prototype.isMultiTouch=function(){return this.isMultiTouch_},t.TouchGesture.prototype.dispose=function(){t.TouchGesture.superClass_.dispose.call(this),this.onStartWrapper_&&t.browserEvents.unbind(this.onStartWrapper_)},t.TouchGesture.prototype.handleTouchStart=function(e){var n=t.Touch.getTouchIdentifierFromEvent(e);this.cachedPoints_[n]=this.getTouchPoint(e),2==(n=Object.keys(this.cachedPoints_)).length&&(this.startDistance_=t.utils.Coordinate.distance(this.cachedPoints_[n[0]],this.cachedPoints_[n[1]]),this.isMultiTouch_=!0,e.preventDefault())},t.TouchGesture.prototype.handleTouchMove=function(e){var n=t.Touch.getTouchIdentifierFromEvent(e);this.cachedPoints_[n]=this.getTouchPoint(e),n=Object.keys(this.cachedPoints_),this.isPinchZoomEnabled_&&2===n.length?this.handlePinch_(e):t.TouchGesture.superClass_.handleMove.call(this,e)},t.TouchGesture.prototype.handlePinch_=function(e){var n=Object.keys(this.cachedPoints_);if(n=t.utils.Coordinate.distance(this.cachedPoints_[n[0]],this.cachedPoints_[n[1]])/this.startDistance_,0<this.previousScale_&&1/0>this.previousScale_){var i=n-this.previousScale_;i=0<i?i*t.TouchGesture.ZOOM_IN_MULTIPLIER:i*t.TouchGesture.ZOOM_OUT_MULTIPLIER;var o=this.startWorkspace_,r=t.utils.mouseToSvg(e,o.getParentSvg(),o.getInverseScreenCTM());o.zoom(r.x,r.y,i)}this.previousScale_=n,e.preventDefault()},t.TouchGesture.prototype.handleTouchEnd=function(e){e=t.Touch.getTouchIdentifierFromEvent(e),this.cachedPoints_[e]&&delete this.cachedPoints_[e],2>Object.keys(this.cachedPoints_).length&&(this.cachedPoints_=Object.create(null),this.previousScale_=0)},t.TouchGesture.prototype.getTouchPoint=function(e){return this.startWorkspace_?new t.utils.Coordinate(e.pageX?e.pageX:e.changedTouches[0].pageX,e.pageY?e.pageY:e.changedTouches[0].pageY):null},t.WorkspaceAudio=function(t){this.parentWorkspace_=t,this.SOUNDS_=Object.create(null)},t.WorkspaceAudio.prototype.lastSound_=null,t.WorkspaceAudio.prototype.dispose=function(){this.SOUNDS_=this.parentWorkspace_=null},t.WorkspaceAudio.prototype.load=function(e,n){if(e.length){try{var i=new t.utils.global.Audio}catch(l){return}for(var o,r=0;r<e.length;r++){var s=e[r],a=s.match(/\.(\w+)$/);if(a&&i.canPlayType("audio/"+a[1])){o=new t.utils.global.Audio(s);break}}o&&o.play&&(this.SOUNDS_[n]=o)}},t.WorkspaceAudio.prototype.preload=function(){for(var e in this.SOUNDS_){var n=this.SOUNDS_[e];n.volume=.01;var i=n.play();if(void 0!==i?i.then(n.pause).catch(function(){}):n.pause(),t.utils.userAgent.IPAD||t.utils.userAgent.IPHONE)break}},t.WorkspaceAudio.prototype.play=function(e,n){var i=this.SOUNDS_[e];i?(e=new Date,null!=this.lastSound_&&e-this.lastSound_<t.SOUND_LIMIT||(this.lastSound_=e,(i=t.utils.userAgent.IPAD||t.utils.userAgent.ANDROID?i:i.cloneNode()).volume=void 0===n?1:n,i.play())):this.parentWorkspace_&&this.parentWorkspace_.getAudioManager().play(e,n)},t.WorkspaceSvg=function(e,n,i){t.WorkspaceSvg.superClass_.constructor.call(this,e),this.metricsManager_=new(t.registry.getClassFromOptions(t.registry.Type.METRICS_MANAGER,e,!0))(this),this.getMetrics=e.getMetrics||this.metricsManager_.getMetrics.bind(this.metricsManager_),this.setMetrics=e.setMetrics||t.WorkspaceSvg.setTopLevelWorkspaceMetrics_,this.pluginManager_=new t.PluginManager,this.connectionDBList=t.ConnectionDB.init(this.connectionChecker),n&&(this.blockDragSurface_=n),i&&(this.workspaceDragSurface_=i),this.useWorkspaceDragSurface_=!!this.workspaceDragSurface_&&t.utils.is3dSupported(),this.highlightedBlocks_=[],this.audioManager_=new t.WorkspaceAudio(e.parentWorkspace),this.grid_=this.options.gridPattern?new t.Grid(this.options.gridPattern,e.gridOptions):null,this.markerManager_=new t.MarkerManager(this),this.toolboxCategoryCallbacks_={},this.flyoutButtonCallbacks_={},t.Variables&&t.Variables.flyoutCategory&&this.registerToolboxCategoryCallback(t.VARIABLE_CATEGORY_NAME,t.Variables.flyoutCategory),t.VariablesDynamic&&t.VariablesDynamic.flyoutCategory&&this.registerToolboxCategoryCallback(t.VARIABLE_DYNAMIC_CATEGORY_NAME,t.VariablesDynamic.flyoutCategory),t.Procedures&&t.Procedures.flyoutCategory&&(this.registerToolboxCategoryCallback(t.PROCEDURE_CATEGORY_NAME,t.Procedures.flyoutCategory),this.addChangeListener(t.Procedures.mutatorOpenListener)),this.themeManager_=this.options.parentWorkspace?this.options.parentWorkspace.getThemeManager():new t.ThemeManager(this,this.options.theme||t.Themes.Classic),this.themeManager_.subscribeWorkspace(this),this.renderer_=t.blockRendering.init(this.options.renderer||"geras",this.getTheme(),this.options.rendererOverrides),this.cachedParentSvg_=null,this.keyboardAccessibilityMode=!1,this.topBoundedElements_=[],this.cachedParentSvgSize_=new t.utils.Size(0,0)},t.utils.object.inherits(t.WorkspaceSvg,t.Workspace),t.WorkspaceSvg.prototype.resizeHandlerWrapper_=null,t.WorkspaceSvg.prototype.rendered=!0,t.WorkspaceSvg.prototype.isVisible_=!0,t.WorkspaceSvg.prototype.isFlyout=!1,t.WorkspaceSvg.prototype.isMutator=!1,t.WorkspaceSvg.prototype.resizesEnabled_=!0,t.WorkspaceSvg.prototype.scrollX=0,t.WorkspaceSvg.prototype.scrollY=0,t.WorkspaceSvg.prototype.startScrollX=0,t.WorkspaceSvg.prototype.startScrollY=0,t.WorkspaceSvg.prototype.dragDeltaXY_=null,t.WorkspaceSvg.prototype.scale=1,t.WorkspaceSvg.prototype.oldScale_=1,t.WorkspaceSvg.prototype.oldTop_=0,t.WorkspaceSvg.prototype.oldLeft_=0,t.WorkspaceSvg.prototype.trashcan=null,t.WorkspaceSvg.prototype.scrollbar=null,t.WorkspaceSvg.prototype.flyout_=null,t.WorkspaceSvg.prototype.toolbox_=null,t.WorkspaceSvg.prototype.currentGesture_=null,t.WorkspaceSvg.prototype.blockDragSurface_=null,t.WorkspaceSvg.prototype.workspaceDragSurface_=null,t.WorkspaceSvg.prototype.useWorkspaceDragSurface_=!1,t.WorkspaceSvg.prototype.isDragSurfaceActive_=!1,t.WorkspaceSvg.prototype.injectionDiv_=null,t.WorkspaceSvg.prototype.lastRecordedPageScroll_=null,t.WorkspaceSvg.prototype.targetWorkspace=null,t.WorkspaceSvg.prototype.inverseScreenCTM_=null,t.WorkspaceSvg.prototype.inverseScreenCTMDirty_=!0,t.WorkspaceSvg.prototype.getMarkerManager=function(){return this.markerManager_},t.WorkspaceSvg.prototype.getMetricsManager=function(){return this.metricsManager_},t.WorkspaceSvg.prototype.setMetricsManager=function(t){this.metricsManager_=t,this.getMetrics=this.metricsManager_.getMetrics.bind(this.metricsManager_)},t.WorkspaceSvg.prototype.getPluginManager=function(){return this.pluginManager_},t.WorkspaceSvg.prototype.setCursorSvg=function(t){this.markerManager_.setCursorSvg(t)},t.WorkspaceSvg.prototype.setMarkerSvg=function(t){this.markerManager_.setMarkerSvg(t)},t.WorkspaceSvg.prototype.getMarker=function(t){return this.markerManager_?this.markerManager_.getMarker(t):null},t.WorkspaceSvg.prototype.getCursor=function(){return this.markerManager_?this.markerManager_.getCursor():null},t.WorkspaceSvg.prototype.getRenderer=function(){return this.renderer_},t.WorkspaceSvg.prototype.getThemeManager=function(){return this.themeManager_},t.WorkspaceSvg.prototype.getTheme=function(){return this.themeManager_.getTheme()},t.WorkspaceSvg.prototype.setTheme=function(e){e||(e=t.Themes.Classic),this.themeManager_.setTheme(e)},t.WorkspaceSvg.prototype.refreshTheme=function(){this.svgGroup_&&this.renderer_.refreshDom(this.svgGroup_,this.getTheme()),this.updateBlockStyles_(this.getAllBlocks(!1).filter(function(t){return void 0!==t.getStyleName()})),this.refreshToolboxSelection(),this.toolbox_&&this.toolbox_.refreshTheme(),this.isVisible()&&this.setVisible(!0);var e=new(t.Events.get(t.Events.THEME_CHANGE))(this.getTheme().name,this.id);t.Events.fire(e)},t.WorkspaceSvg.prototype.updateBlockStyles_=function(t){for(var e,n=0;e=t[n];n++){var i=e.getStyleName();i&&(e.setStyle(i),e.mutator&&e.mutator.updateBlockStyle())}},t.WorkspaceSvg.prototype.getInverseScreenCTM=function(){if(this.inverseScreenCTMDirty_){var t=this.getParentSvg().getScreenCTM();t&&(this.inverseScreenCTM_=t.inverse(),this.inverseScreenCTMDirty_=!1)}return this.inverseScreenCTM_},t.WorkspaceSvg.prototype.updateInverseScreenCTM=function(){this.inverseScreenCTMDirty_=!0},t.WorkspaceSvg.prototype.isVisible=function(){return this.isVisible_},t.WorkspaceSvg.prototype.getSvgXY=function(e){var n=0,i=0,o=1;(t.utils.dom.containsNode(this.getCanvas(),e)||t.utils.dom.containsNode(this.getBubbleCanvas(),e))&&(o=this.scale);do{var r=t.utils.getRelativeXY(e);e!=this.getCanvas()&&e!=this.getBubbleCanvas()||(o=1),n+=r.x*o,i+=r.y*o,e=e.parentNode}while(e&&e!=this.getParentSvg());return new t.utils.Coordinate(n,i)},t.WorkspaceSvg.prototype.getCachedParentSvgSize=function(){var e=this.cachedParentSvgSize_;return new t.utils.Size(e.width,e.height)},t.WorkspaceSvg.prototype.getOriginOffsetInPixels=function(){return t.utils.getInjectionDivXY_(this.getCanvas())},t.WorkspaceSvg.prototype.getInjectionDiv=function(){if(!this.injectionDiv_)for(var t=this.svgGroup_;t;){if(-1!=(" "+(t.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){this.injectionDiv_=t;break}t=t.parentNode}return this.injectionDiv_},t.WorkspaceSvg.prototype.getBlockCanvas=function(){return this.svgBlockCanvas_},t.WorkspaceSvg.prototype.setResizeHandlerWrapper=function(t){this.resizeHandlerWrapper_=t},t.WorkspaceSvg.prototype.createDom=function(e){return this.svgGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyWorkspace"},null),e&&(this.svgBackground_=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{height:"100%",width:"100%",class:e},this.svgGroup_),"blocklyMainBackground"==e&&this.grid_?this.svgBackground_.style.fill="url(#"+this.grid_.getPatternId()+")":this.themeManager_.subscribe(this.svgBackground_,"workspaceBackgroundColour","fill")),this.svgBlockCanvas_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyBlockCanvas"},this.svgGroup_),this.svgBubbleCanvas_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyBubbleCanvas"},this.svgGroup_),this.isFlyout||(t.browserEvents.conditionalBind(this.svgGroup_,"mousedown",this,this.onMouseDown_,!1,!0),t.browserEvents.conditionalBind(this.svgGroup_,"wheel",this,this.onMouseWheel_)),this.options.hasCategories&&(this.toolbox_=new(t.registry.getClassFromOptions(t.registry.Type.TOOLBOX,this.options,!0))(this)),this.grid_&&this.grid_.update(this.scale),this.recordDeleteAreas(),(e=t.registry.getClassFromOptions(t.registry.Type.CURSOR,this.options))&&this.markerManager_.setCursor(new e),this.renderer_.createDom(this.svgGroup_,this.getTheme()),this.svgGroup_},t.WorkspaceSvg.prototype.dispose=function(){if(this.rendered=!1,this.currentGesture_&&this.currentGesture_.cancel(),this.svgGroup_&&(t.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.svgBubbleCanvas_=this.svgBlockCanvas_=null,this.toolbox_&&(this.toolbox_.dispose(),this.toolbox_=null),this.flyout_&&(this.flyout_.dispose(),this.flyout_=null),this.trashcan&&(this.trashcan.dispose(),this.trashcan=null),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null),this.zoomControls_&&(this.zoomControls_.dispose(),this.zoomControls_=null),this.audioManager_&&(this.audioManager_.dispose(),this.audioManager_=null),this.grid_&&(this.grid_.dispose(),this.grid_=null),this.renderer_.dispose(),this.markerManager_&&(this.markerManager_.dispose(),this.markerManager_=null),t.WorkspaceSvg.superClass_.dispose.call(this),this.themeManager_&&(this.themeManager_.unsubscribeWorkspace(this),this.themeManager_.unsubscribe(this.svgBackground_),this.options.parentWorkspace||(this.themeManager_.dispose(),this.themeManager_=null)),this.flyoutButtonCallbacks_=this.toolboxCategoryCallbacks_=this.connectionDBList=null,!this.options.parentWorkspace){var e=this.getParentSvg();e&&e.parentNode&&t.utils.dom.removeNode(e.parentNode)}this.resizeHandlerWrapper_&&(t.browserEvents.unbind(this.resizeHandlerWrapper_),this.resizeHandlerWrapper_=null)},t.WorkspaceSvg.prototype.newBlock=function(e,n){return new t.BlockSvg(this,e,n)},t.WorkspaceSvg.prototype.addTrashcan=function(){if(!t.Trashcan)throw Error("Missing require for Blockly.Trashcan");this.trashcan=new t.Trashcan(this);var e=this.trashcan.createDom();this.svgGroup_.insertBefore(e,this.svgBlockCanvas_),this.pluginManager_.addPlugin({id:"trashcan",plugin:this.trashcan,weight:1,types:[t.PluginManager.Type.POSITIONABLE]})},t.WorkspaceSvg.prototype.addZoomControls=function(){if(!t.ZoomControls)throw Error("Missing require for Blockly.ZoomControls");this.zoomControls_=new t.ZoomControls(this);var e=this.zoomControls_.createDom();this.svgGroup_.appendChild(e),this.pluginManager_.addPlugin({id:"zoomControls",plugin:this.zoomControls_,weight:2,types:[t.PluginManager.Type.POSITIONABLE]})},t.WorkspaceSvg.prototype.addFlyout=function(e){var n=new t.Options({parentWorkspace:this,rtl:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,renderer:this.options.renderer,rendererOverrides:this.options.rendererOverrides,move:{scrollbars:!0}});return n.toolboxPosition=this.options.toolboxPosition,this.flyout_=this.horizontalLayout?new(t.registry.getClassFromOptions(t.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX,this.options,!0))(n):new(t.registry.getClassFromOptions(t.registry.Type.FLYOUTS_VERTICAL_TOOLBOX,this.options,!0))(n),this.flyout_.autoClose=!1,this.flyout_.getWorkspace().setVisible(!0),this.flyout_.createDom(e)},t.WorkspaceSvg.prototype.getFlyout=function(t){return this.flyout_||t?this.flyout_:this.toolbox_?this.toolbox_.getFlyout():null},t.WorkspaceSvg.prototype.getToolbox=function(){return this.toolbox_},t.WorkspaceSvg.prototype.updateScreenCalculations_=function(){this.updateInverseScreenCTM(),this.recordDeleteAreas()},t.WorkspaceSvg.prototype.resizeContents=function(){this.resizesEnabled_&&this.rendered&&(this.scrollbar&&this.scrollbar.resize(),this.updateInverseScreenCTM())},t.WorkspaceSvg.prototype.resize=function(){this.toolbox_&&this.toolbox_.position(),this.flyout_&&this.flyout_.position();for(var e,n=this.pluginManager_.getPlugins(t.PluginManager.Type.POSITIONABLE,!0),i=this.getMetricsManager().getUiMetrics(),o=[],r=0;e=n[r];r++)e.position(i,o),o.push(e.getBoundingRectangle());this.scrollbar&&this.scrollbar.resize(),this.updateScreenCalculations_()},t.WorkspaceSvg.prototype.updateScreenCalculationsIfScrolled=function(){var e=t.utils.getDocumentScroll();t.utils.Coordinate.equals(this.lastRecordedPageScroll_,e)||(this.lastRecordedPageScroll_=e,this.updateScreenCalculations_())},t.WorkspaceSvg.prototype.getCanvas=function(){return this.svgBlockCanvas_},t.WorkspaceSvg.prototype.setCachedParentSvgSize=function(t,e){var n=this.getParentSvg();t&&(this.cachedParentSvgSize_.width=t,n.cachedWidth_=t),e&&(this.cachedParentSvgSize_.height=e,n.cachedHeight_=e)},t.WorkspaceSvg.prototype.getBubbleCanvas=function(){return this.svgBubbleCanvas_},t.WorkspaceSvg.prototype.getParentSvg=function(){if(!this.cachedParentSvg_)for(var t=this.svgGroup_;t;){if("svg"==t.tagName){this.cachedParentSvg_=t;break}t=t.parentNode}return this.cachedParentSvg_},t.WorkspaceSvg.prototype.maybeFireViewportChangeEvent=function(){if(t.Events.isEnabled()){var e=this.scale,n=-this.scrollY,i=-this.scrollX;if(!(e==this.oldScale_&&1>Math.abs(n-this.oldTop_)&&1>Math.abs(i-this.oldLeft_))){var o=new(t.Events.get(t.Events.VIEWPORT_CHANGE))(n,i,e,this.id,this.oldScale_);this.oldScale_=e,this.oldTop_=n,this.oldLeft_=i,t.Events.fire(o)}}},t.WorkspaceSvg.prototype.translate=function(t,e){if(this.useWorkspaceDragSurface_&&this.isDragSurfaceActive_)this.workspaceDragSurface_.translateSurface(t,e);else{var n="translate("+t+","+e+") scale("+this.scale+")";this.svgBlockCanvas_.setAttribute("transform",n),this.svgBubbleCanvas_.setAttribute("transform",n)}this.blockDragSurface_&&this.blockDragSurface_.translateAndScaleGroup(t,e,this.scale),this.grid_&&this.grid_.moveTo(t,e),this.maybeFireViewportChangeEvent()},t.WorkspaceSvg.prototype.resetDragSurface=function(){if(this.useWorkspaceDragSurface_){this.isDragSurfaceActive_=!1;var t=this.workspaceDragSurface_.getSurfaceTranslation();this.workspaceDragSurface_.clearAndHide(this.svgGroup_),this.svgBlockCanvas_.setAttribute("transform",t="translate("+t.x+","+t.y+") scale("+this.scale+")"),this.svgBubbleCanvas_.setAttribute("transform",t)}},t.WorkspaceSvg.prototype.setupDragSurface=function(){if(this.useWorkspaceDragSurface_&&!this.isDragSurfaceActive_){this.isDragSurfaceActive_=!0;var e=this.svgBlockCanvas_.previousSibling,n=parseInt(this.getParentSvg().getAttribute("width"),10),i=parseInt(this.getParentSvg().getAttribute("height"),10),o=t.utils.getRelativeXY(this.getCanvas());this.workspaceDragSurface_.setContentsAndShow(this.getCanvas(),this.getBubbleCanvas(),e,n,i,this.scale),this.workspaceDragSurface_.translateSurface(o.x,o.y)}},t.WorkspaceSvg.prototype.getBlockDragSurface=function(){return this.blockDragSurface_},t.WorkspaceSvg.prototype.getWidth=function(){var t=this.getMetrics();return t?t.viewWidth/this.scale:0},t.WorkspaceSvg.prototype.setVisible=function(e){if(this.isVisible_=e,this.svgGroup_)if(this.scrollbar&&this.scrollbar.setContainerVisible(e),this.getFlyout()&&this.getFlyout().setContainerVisible(e),this.getParentSvg().style.display=e?"block":"none",this.toolbox_&&this.toolbox_.setVisible(e),e){for(var n=(e=this.getAllBlocks(!1)).length-1;0<=n;n--)e[n].markDirty();this.render(),this.toolbox_&&this.toolbox_.position()}else t.hideChaff(!0)},t.WorkspaceSvg.prototype.render=function(){for(var t=this.getAllBlocks(!1),e=t.length-1;0<=e;e--)t[e].render(!1);if(this.currentGesture_)for(t=this.currentGesture_.getInsertionMarkers(),e=0;e<t.length;e++)t[e].render(!1);this.markerManager_.updateMarkers()},t.WorkspaceSvg.prototype.highlightBlock=function(e,n){if(void 0===n){for(var i,o=0;i=this.highlightedBlocks_[o];o++)i.setHighlighted(!1);this.highlightedBlocks_.length=0}(i=e?this.getBlockById(e):null)&&((e=void 0===n||n)?-1==this.highlightedBlocks_.indexOf(i)&&this.highlightedBlocks_.push(i):t.utils.arrayRemove(this.highlightedBlocks_,i),i.setHighlighted(e))},t.WorkspaceSvg.prototype.paste=function(t){!this.rendered||!t.tagName||t.getElementsByTagName("block").length>=this.remainingCapacity()||(this.currentGesture_&&this.currentGesture_.cancel(),"comment"==t.tagName.toLowerCase()?this.pasteWorkspaceComment_(t):this.pasteBlock_(t))},t.WorkspaceSvg.prototype.pasteBlock_=function(e){t.Events.disable();try{var n=t.Xml.domToBlock(e,this),i=parseInt(e.getAttribute("x"),10),o=parseInt(e.getAttribute("y"),10);if(!isNaN(i)&&!isNaN(o)){this.RTL&&(i=-i);do{e=!1;for(var r,s=this.getAllBlocks(!1),a=0;r=s[a];a++){var l=r.getRelativeToSurfaceXY();if(1>=Math.abs(i-l.x)&&1>=Math.abs(o-l.y)){e=!0;break}}if(!e){var c,u=n.getConnections_(!1);for(a=0;c=u[a];a++)if(c.closest(t.SNAP_RADIUS,new t.utils.Coordinate(i,o)).connection){e=!0;break}}e&&(i=this.RTL?i-t.SNAP_RADIUS:i+t.SNAP_RADIUS,o+=2*t.SNAP_RADIUS)}while(e);n.moveBy(i,o)}}finally{t.Events.enable()}t.Events.isEnabled()&&!n.isShadow()&&t.Events.fire(new(t.Events.get(t.Events.BLOCK_CREATE))(n)),n.select()},t.WorkspaceSvg.prototype.pasteWorkspaceComment_=function(e){t.Events.disable();try{var n=t.WorkspaceCommentSvg.fromXml(e,this),i=parseInt(e.getAttribute("x"),10),o=parseInt(e.getAttribute("y"),10);isNaN(i)||isNaN(o)||(this.RTL&&(i=-i),n.moveBy(i+50,o+50))}finally{t.Events.enable()}t.Events.isEnabled()&&t.WorkspaceComment.fireCreateEvent(n),n.select()},t.WorkspaceSvg.prototype.refreshToolboxSelection=function(){var t=this.isFlyout?this.targetWorkspace:this;t&&!t.currentGesture_&&t.toolbox_&&t.toolbox_.getFlyout()&&t.toolbox_.refreshSelection()},t.WorkspaceSvg.prototype.renameVariableById=function(e,n){t.WorkspaceSvg.superClass_.renameVariableById.call(this,e,n),this.refreshToolboxSelection()},t.WorkspaceSvg.prototype.deleteVariableById=function(e){t.WorkspaceSvg.superClass_.deleteVariableById.call(this,e),this.refreshToolboxSelection()},t.WorkspaceSvg.prototype.createVariable=function(e,n,i){return e=t.WorkspaceSvg.superClass_.createVariable.call(this,e,n,i),this.refreshToolboxSelection(),e},t.WorkspaceSvg.prototype.recordDeleteAreas=function(){this.deleteAreaTrash_=this.trashcan&&this.svgGroup_.parentNode?this.trashcan.getClientRect():null,this.deleteAreaToolbox_=this.flyout_?this.flyout_.getClientRect():this.toolbox_&&"function"==typeof this.toolbox_.getClientRect?this.toolbox_.getClientRect():null},t.WorkspaceSvg.prototype.isDeleteArea=function(e){return this.deleteAreaTrash_&&this.deleteAreaTrash_.contains(e.clientX,e.clientY)?t.DELETE_AREA_TRASH:this.deleteAreaToolbox_&&this.deleteAreaToolbox_.contains(e.clientX,e.clientY)?t.DELETE_AREA_TOOLBOX:t.DELETE_AREA_NONE},t.WorkspaceSvg.prototype.onMouseDown_=function(t){var e=this.getGesture(t);e&&e.handleWsStart(t,this)},t.WorkspaceSvg.prototype.startDrag=function(e,n){(e=t.utils.mouseToSvg(e,this.getParentSvg(),this.getInverseScreenCTM())).x/=this.scale,e.y/=this.scale,this.dragDeltaXY_=t.utils.Coordinate.difference(n,e)},t.WorkspaceSvg.prototype.moveDrag=function(e){return(e=t.utils.mouseToSvg(e,this.getParentSvg(),this.getInverseScreenCTM())).x/=this.scale,e.y/=this.scale,t.utils.Coordinate.sum(this.dragDeltaXY_,e)},t.WorkspaceSvg.prototype.isDragging=function(){return null!=this.currentGesture_&&this.currentGesture_.isDragging()},t.WorkspaceSvg.prototype.isDraggable=function(){return this.options.moveOptions&&this.options.moveOptions.drag},t.WorkspaceSvg.prototype.isMovable=function(){return this.options.moveOptions&&!!this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.wheel||this.options.zoomOptions&&this.options.zoomOptions.pinch},t.WorkspaceSvg.prototype.isMovableHorizontally=function(){var t=!!this.scrollbar;return this.isMovable()&&(!t||t&&this.scrollbar.canScrollHorizontally())},t.WorkspaceSvg.prototype.isMovableVertically=function(){var t=!!this.scrollbar;return this.isMovable()&&(!t||t&&this.scrollbar.canScrollVertically())},t.WorkspaceSvg.prototype.onMouseWheel_=function(e){if(t.Gesture.inProgress())e.preventDefault(),e.stopPropagation();else{var n=this.options.zoomOptions&&this.options.zoomOptions.wheel,i=this.options.moveOptions&&this.options.moveOptions.wheel;if(n||i){var o=t.utils.getScrollDeltaPixels(e);!n||!e.ctrlKey&&i?(n=this.scrollX-o.x,i=this.scrollY-o.y,e.shiftKey&&!o.x&&(n=this.scrollX-o.y,i=this.scrollY),this.scroll(n,i)):(o=-o.y/50,n=t.utils.mouseToSvg(e,this.getParentSvg(),this.getInverseScreenCTM()),this.zoom(n.x,n.y,o)),e.preventDefault()}}},t.WorkspaceSvg.prototype.getBlocksBoundingBox=function(){var e=this.getTopBoundedElements();if(!e.length)return new t.utils.Rect(0,0,0,0);for(var n=e[0].getBoundingRectangle(),i=1;i<e.length;i++){var o=e[i];o.isInsertionMarker&&o.isInsertionMarker()||((o=o.getBoundingRectangle()).top<n.top&&(n.top=o.top),o.bottom>n.bottom&&(n.bottom=o.bottom),o.left<n.left&&(n.left=o.left),o.right>n.right&&(n.right=o.right))}return n},t.WorkspaceSvg.prototype.cleanUp=function(){this.setResizesEnabled(!1),t.Events.setGroup(!0);for(var e,n=this.getTopBlocks(!0),i=0,o=0;e=n[o];o++)if(e.isMovable()){var r=e.getRelativeToSurfaceXY();e.moveBy(-r.x,i-r.y),e.snapToGrid(),i=e.getRelativeToSurfaceXY().y+e.getHeightWidth().height+this.renderer_.getConstants().MIN_BLOCK_HEIGHT}t.Events.setGroup(!1),this.setResizesEnabled(!0)},t.WorkspaceSvg.prototype.showContextMenu=function(e){if(!this.options.readOnly&&!this.isFlyout){var n=t.ContextMenuRegistry.registry.getContextMenuOptions(t.ContextMenuRegistry.ScopeType.WORKSPACE,{workspace:this});this.configureContextMenu&&this.configureContextMenu(n,e),t.ContextMenu.show(e,n,this.RTL)}},t.WorkspaceSvg.prototype.updateToolbox=function(e){if(e=t.utils.toolbox.convertToolboxDefToJson(e)){if(!this.options.languageTree)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(t.utils.toolbox.hasCategories(e)){if(!this.toolbox_)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.languageTree=e,this.toolbox_.render(e)}else{if(!this.flyout_)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.languageTree=e,this.flyout_.show(e)}}else if(this.options.languageTree)throw Error("Can't nullify an existing toolbox.")},t.WorkspaceSvg.prototype.markFocused=function(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():(t.mainWorkspace=this,this.setBrowserFocus())},t.WorkspaceSvg.prototype.setBrowserFocus=function(){document.activeElement&&document.activeElement.blur&&document.activeElement.blur();try{this.getParentSvg().focus({preventScroll:!0})}catch(t){try{this.getParentSvg().parentNode.setActive()}catch(e){this.getParentSvg().parentNode.focus({preventScroll:!0})}}},t.WorkspaceSvg.prototype.zoom=function(t,e,n){n=Math.pow(this.options.zoomOptions.scaleSpeed,n);var i=this.scale*n;if(this.scale!=i){i>this.options.zoomOptions.maxScale?n=this.options.zoomOptions.maxScale/this.scale:i<this.options.zoomOptions.minScale&&(n=this.options.zoomOptions.minScale/this.scale);var o=this.getCanvas().getCTM(),r=this.getParentSvg().createSVGPoint();r.x=t,r.y=e,r=r.matrixTransform(o.inverse()),o=o.translate((t=r.x)*(1-n),(e=r.y)*(1-n)).scale(n),this.scrollX=o.e,this.scrollY=o.f,this.setScale(i)}},t.WorkspaceSvg.prototype.zoomCenter=function(t){var e=this.getMetrics();if(this.flyout_){var n=e.svgWidth?e.svgWidth/2:0;e=e.svgHeight?e.svgHeight/2:0}else n=e.viewWidth/2+e.absoluteLeft,e=e.viewHeight/2+e.absoluteTop;this.zoom(n,e,t)},t.WorkspaceSvg.prototype.zoomToFit=function(){if(this.isMovable()){var e=this.getMetrics(),n=e.viewWidth;e=e.viewHeight;var i=this.getBlocksBoundingBox(),o=i.right-i.left;if(i=i.bottom-i.top,o){this.flyout_&&(this.horizontalLayout?(e+=this.flyout_.getHeight(),i+=this.flyout_.getHeight()/this.scale):(n+=this.flyout_.getWidth(),o+=this.flyout_.getWidth()/this.scale)),n/=o,e/=i,t.Events.disable();try{this.setScale(Math.min(n,e)),this.scrollCenter()}finally{t.Events.enable()}this.maybeFireViewportChangeEvent()}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},t.WorkspaceSvg.prototype.beginCanvasTransition=function(){t.utils.dom.addClass(this.svgBlockCanvas_,"blocklyCanvasTransitioning"),t.utils.dom.addClass(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")},t.WorkspaceSvg.prototype.endCanvasTransition=function(){t.utils.dom.removeClass(this.svgBlockCanvas_,"blocklyCanvasTransitioning"),t.utils.dom.removeClass(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")},t.WorkspaceSvg.prototype.scrollCenter=function(){if(this.isMovable()){var t=this.getMetrics(),e=(t.scrollWidth-t.viewWidth)/2,n=(t.scrollHeight-t.viewHeight)/2;this.scroll(e=-e-t.scrollLeft,n=-n-t.scrollTop)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},t.WorkspaceSvg.prototype.centerOnBlock=function(t){if(this.isMovable()){if(t=t?this.getBlockById(t):null){var e=t.getRelativeToSurfaceXY(),n=t.getHeightWidth(),i=this.scale;t=(e.x+(this.RTL?-1:1)*n.width/2)*i,e=(e.y+n.height/2)*i,n=this.getMetrics(),this.scroll(-(t-n.viewWidth/2),-(e-n.viewHeight/2))}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},t.WorkspaceSvg.prototype.setScale=function(e){this.options.zoomOptions.maxScale&&e>this.options.zoomOptions.maxScale?e=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&e<this.options.zoomOptions.minScale&&(e=this.options.zoomOptions.minScale),this.scale=e,t.hideChaff(!1),this.flyout_&&(this.flyout_.reflow(),this.recordDeleteAreas()),this.grid_&&this.grid_.update(this.scale),e=this.getMetrics(),this.scrollX-=e.absoluteLeft,this.scrollY-=e.absoluteTop,e.viewLeft+=e.absoluteLeft,e.viewTop+=e.absoluteTop,this.scroll(this.scrollX,this.scrollY),this.scrollbar&&(this.flyout_?this.scrollbar.resizeView(e):this.scrollbar.resizeContent(e))},t.WorkspaceSvg.prototype.getScale=function(){return this.options.parentWorkspace?this.options.parentWorkspace.getScale():this.scale},t.WorkspaceSvg.prototype.scroll=function(e,n){t.hideChaff(!0);var i=this.getMetrics();e=Math.min(e,-i.scrollLeft),n=Math.min(n,-i.scrollTop);var o=i.scrollTop+Math.max(0,i.scrollHeight-i.viewHeight);e=Math.max(e,-(i.scrollLeft+Math.max(0,i.scrollWidth-i.viewWidth))),n=Math.max(n,-o),this.scrollX=e,this.scrollY=n,this.scrollbar&&this.scrollbar.set(-(e+i.scrollLeft),-(n+i.scrollTop),!1),this.translate(e+=i.absoluteLeft,n+=i.absoluteTop)},t.WorkspaceSvg.setTopLevelWorkspaceMetrics_=function(t){var e=this.getMetrics();"number"==typeof t.x&&(this.scrollX=-(e.scrollLeft+(e.scrollWidth-e.viewWidth)*t.x)),"number"==typeof t.y&&(this.scrollY=-(e.scrollTop+(e.scrollHeight-e.viewHeight)*t.y)),this.translate(this.scrollX+e.absoluteLeft,this.scrollY+e.absoluteTop)},t.WorkspaceSvg.prototype.getBlockById=function(e){return t.WorkspaceSvg.superClass_.getBlockById.call(this,e)},t.WorkspaceSvg.prototype.getTopBlocks=function(e){return t.WorkspaceSvg.superClass_.getTopBlocks.call(this,e)},t.WorkspaceSvg.prototype.addTopBlock=function(e){this.addTopBoundedElement(e),t.WorkspaceSvg.superClass_.addTopBlock.call(this,e)},t.WorkspaceSvg.prototype.removeTopBlock=function(e){this.removeTopBoundedElement(e),t.WorkspaceSvg.superClass_.removeTopBlock.call(this,e)},t.WorkspaceSvg.prototype.addTopComment=function(e){this.addTopBoundedElement(e),t.WorkspaceSvg.superClass_.addTopComment.call(this,e)},t.WorkspaceSvg.prototype.removeTopComment=function(e){this.removeTopBoundedElement(e),t.WorkspaceSvg.superClass_.removeTopComment.call(this,e)},t.WorkspaceSvg.prototype.addTopBoundedElement=function(t){this.topBoundedElements_.push(t)},t.WorkspaceSvg.prototype.removeTopBoundedElement=function(e){t.utils.arrayRemove(this.topBoundedElements_,e)},t.WorkspaceSvg.prototype.getTopBoundedElements=function(){return[].concat(this.topBoundedElements_)},t.WorkspaceSvg.prototype.setResizesEnabled=function(t){var e=!this.resizesEnabled_&&t;this.resizesEnabled_=t,e&&this.resizeContents()},t.WorkspaceSvg.prototype.clear=function(){this.setResizesEnabled(!1),t.WorkspaceSvg.superClass_.clear.call(this),this.topBoundedElements_=[],this.setResizesEnabled(!0)},t.WorkspaceSvg.prototype.registerButtonCallback=function(t,e){if("function"!=typeof e)throw TypeError("Button callbacks must be functions.");this.flyoutButtonCallbacks_[t]=e},t.WorkspaceSvg.prototype.getButtonCallback=function(t){return(t=this.flyoutButtonCallbacks_[t])?t:null},t.WorkspaceSvg.prototype.removeButtonCallback=function(t){this.flyoutButtonCallbacks_[t]=null},t.WorkspaceSvg.prototype.registerToolboxCategoryCallback=function(t,e){if("function"!=typeof e)throw TypeError("Toolbox category callbacks must be functions.");this.toolboxCategoryCallbacks_[t]=e},t.WorkspaceSvg.prototype.getToolboxCategoryCallback=function(t){return this.toolboxCategoryCallbacks_[t]||null},t.WorkspaceSvg.prototype.removeToolboxCategoryCallback=function(t){this.toolboxCategoryCallbacks_[t]=null},t.WorkspaceSvg.prototype.getGesture=function(e){var n="mousedown"==e.type||"touchstart"==e.type||"pointerdown"==e.type,i=this.currentGesture_;return i?n&&i.hasStarted()?(console.warn("Tried to start the same gesture twice."),i.cancel(),null):i:n?this.currentGesture_=new t.TouchGesture(e,this):null},t.WorkspaceSvg.prototype.clearGesture=function(){this.currentGesture_=null},t.WorkspaceSvg.prototype.cancelCurrentGesture=function(){this.currentGesture_&&this.currentGesture_.cancel()},t.WorkspaceSvg.prototype.getAudioManager=function(){return this.audioManager_},t.WorkspaceSvg.prototype.getGrid=function(){return this.grid_},t.inject=function(e,n){if(t.checkBlockColourConstants(),"string"==typeof e&&(e=document.getElementById(e)||document.querySelector(e)),!e||!t.utils.dom.containsNode(document,e))throw Error("Error: container is not in current document.");n=new t.Options(n||{});var i=document.createElement("div");i.className="injectionDiv",i.tabIndex=0,t.utils.aria.setState(i,t.utils.aria.State.LABEL,t.Msg.WORKSPACE_ARIA_LABEL),e.appendChild(i),e=t.createDom_(i,n);var o=new t.BlockDragSurfaceSvg(i),r=new t.WorkspaceDragSurfaceSvg(i),s=t.createMainWorkspace_(e,n,o,r);return t.init_(s),t.mainWorkspace=s,t.svgResize(s),i.addEventListener("focusin",function(){t.mainWorkspace=s}),s},t.createDom_=function(e,n){e.setAttribute("dir","LTR"),t.Css.inject(n.hasCss,n.pathToMedia),e=t.utils.dom.createSvgElement(t.utils.Svg.SVG,{xmlns:t.utils.dom.SVG_NS,"xmlns:html":t.utils.dom.HTML_NS,"xmlns:xlink":t.utils.dom.XLINK_NS,version:"1.1",class:"blocklySvg",tabindex:"0"},e);var i=t.utils.dom.createSvgElement(t.utils.Svg.DEFS,{},e),o=String(Math.random()).substring(2);return n.gridPattern=t.Grid.createDom(o,n.gridOptions,i),e},t.createMainWorkspace_=function(e,n,i,o){return n.parentWorkspace=null,(n=new t.WorkspaceSvg(n,i,o)).scale=(i=n.options).zoomOptions.startScale,e.appendChild(n.createDom("blocklyMainBackground")),t.utils.dom.addClass(n.getInjectionDiv(),n.getRenderer().getClassName()),t.utils.dom.addClass(n.getInjectionDiv(),n.getTheme().getClassName()),!i.hasCategories&&i.languageTree&&(o=n.addFlyout(t.utils.Svg.SVG),t.utils.dom.insertAfter(o,e)),i.hasTrashcan&&n.addTrashcan(),i.zoomOptions&&i.zoomOptions.controls&&n.addZoomControls(),n.getThemeManager().subscribe(e,"workspaceBackgroundColour","background-color"),n.translate(0,0),n.addChangeListener(t.bumpIntoBoundsHandler_(n)),t.svgResize(n),t.WidgetDiv.createDom(),t.DropDownDiv.createDom(),t.Tooltip.createDom(),n},t.extractObjectFromEvent_=function(e,n){var i=null;switch(n.type){case t.Events.BLOCK_CREATE:case t.Events.BLOCK_MOVE:(i=e.getBlockById(n.blockId))&&(i=i.getRootBlock());break;case t.Events.COMMENT_CREATE:case t.Events.COMMENT_MOVE:i=e.getCommentById(n.commentId)}return i},t.bumpTopObjectsIntoBounds_=function(e){var n=e.getMetricsManager();if(n.hasFixedEdges()&&!e.isDragging()){n=n.getScrollMetrics(!0);for(var i,o=e.getTopBoundedElements(),r=0;i=o[r];r++)t.bumpObjectIntoBounds_(e,n,i)}},t.bumpIntoBoundsHandler_=function(e){return function(n){var i=e.getMetricsManager();if(i.hasFixedEdges&&!e.isDragging())if(-1!==t.Events.BUMP_EVENTS.indexOf(n.type)){i=i.getScrollMetrics(!0);var o=t.extractObjectFromEvent_(e,n);if(o){var r=t.Events.getGroup();t.Events.setGroup(n.group),t.bumpObjectIntoBounds_(e,i,o)&&!n.group&&console.warn("Moved object in bounds but there was no event group. This may break undo."),null!==r&&t.Events.setGroup(r)}}else n.type===t.Events.VIEWPORT_CHANGE&&n.scale>n.oldScale&&t.bumpTopObjectsIntoBounds_(e)}},t.bumpObjectIntoBounds_=function(e,n,i){var o=i.getBoundingRectangle(),r=o.right-o.left,s=t.utils.math.clamp(n.top,o.top,n.top+n.height-(o.bottom-o.top))-o.top,a=n.left;return n=n.left+n.width-r,e.RTL?a=Math.min(n,a):n=Math.max(a,n),!(!(e=t.utils.math.clamp(a,o.left,n)-o.left)&&!s||(i.moveBy(e,s),0))},t.init_=function(e){var n=e.options,i=e.getParentSvg();if(t.browserEvents.conditionalBind(i.parentNode,"contextmenu",null,function(e){t.utils.isTargetInput(e)||e.preventDefault()}),i=t.browserEvents.conditionalBind(window,"resize",null,function(){t.hideChaff(!0),t.svgResize(e),t.bumpTopObjectsIntoBounds_(e)}),e.setResizeHandlerWrapper(i),t.inject.bindDocumentEvents_(),n.languageTree){i=e.getToolbox();var o=e.getFlyout(!0);i?i.init():o&&(o.init(e),o.show(n.languageTree),"function"==typeof o.scrollToStart&&o.scrollToStart())}i=t.Scrollbar.scrollbarThickness,n.hasTrashcan&&(i=e.trashcan.init(i)),n.zoomOptions&&n.zoomOptions.controls&&e.zoomControls_.init(i),n.moveOptions&&n.moveOptions.scrollbars?(e.scrollbar=new t.ScrollbarPair(e,!0===n.moveOptions.scrollbars||!!n.moveOptions.scrollbars.horizontal,!0===n.moveOptions.scrollbars||!!n.moveOptions.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),e.scrollbar.resize()):e.setMetrics({x:.5,y:.5}),n.hasSounds&&t.inject.loadSounds_(n.pathToMedia,e)},t.inject.bindDocumentEvents_=function(){t.documentEventsBound_||(t.browserEvents.conditionalBind(document,"scroll",null,function(){for(var e,n=t.Workspace.getAll(),i=0;e=n[i];i++)e.updateInverseScreenCTM&&e.updateInverseScreenCTM()}),t.browserEvents.conditionalBind(document,"keydown",null,t.onKeyDown),t.browserEvents.bind(document,"touchend",null,t.longStop_),t.browserEvents.bind(document,"touchcancel",null,t.longStop_),t.utils.userAgent.IPAD&&t.browserEvents.conditionalBind(window,"orientationchange",document,function(){t.svgResize(t.getMainWorkspace())})),t.documentEventsBound_=!0},t.inject.loadSounds_=function(e,n){var i=n.getAudioManager();i.load([e+"click.mp3",e+"click.wav",e+"click.ogg"],"click"),i.load([e+"disconnect.wav",e+"disconnect.mp3",e+"disconnect.ogg"],"disconnect"),i.load([e+"delete.mp3",e+"delete.ogg",e+"delete.wav"],"delete");var o=[];e=function(){for(;o.length;)t.browserEvents.unbind(o.pop());i.preload()},o.push(t.browserEvents.conditionalBind(document,"mousemove",null,e,!0)),o.push(t.browserEvents.conditionalBind(document,"touchstart",null,e,!0))},t.Names=function(t,e){if(this.variablePrefix_=e||"",this.reservedDict_=Object.create(null),t)for(t=t.split(","),e=0;e<t.length;e++)this.reservedDict_[t[e]]=!0;this.reset()},t.Names.DEVELOPER_VARIABLE_TYPE="DEVELOPER_VARIABLE",t.Names.prototype.reset=function(){this.db_=Object.create(null),this.dbReverse_=Object.create(null),this.variableMap_=null},t.Names.prototype.setVariableMap=function(t){this.variableMap_=t},t.Names.prototype.getNameForUserVariable_=function(t){return this.variableMap_?(t=this.variableMap_.getVariableById(t))?t.name:null:(console.log("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\nBlockly.YourGeneratorName.variableDB_.setVariableMap(workspace.getVariableMap());"),null)},t.Names.prototype.getName=function(e,n){if(n==t.VARIABLE_CATEGORY_NAME){var i=this.getNameForUserVariable_(e);i&&(e=i)}i=e.toLowerCase()+"_"+n;var o=n==t.VARIABLE_CATEGORY_NAME||n==t.Names.DEVELOPER_VARIABLE_TYPE?this.variablePrefix_:"";return i in this.db_?o+this.db_[i]:(e=this.getDistinctName(e,n),this.db_[i]=e.substr(o.length),e)},t.Names.prototype.getDistinctName=function(e,n){e=this.safeName_(e);for(var i="";this.dbReverse_[e+i]||e+i in this.reservedDict_;)i=i?i+1:2;return this.dbReverse_[e+=i]=!0,(n==t.VARIABLE_CATEGORY_NAME||n==t.Names.DEVELOPER_VARIABLE_TYPE?this.variablePrefix_:"")+e},t.Names.prototype.safeName_=function(e){return e?(e=encodeURI(e.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!="0123456789".indexOf(e[0])&&(e="my_"+e)):e=t.Msg.UNNAMED_KEY||"unnamed",e},t.Names.equals=function(t,e){return t.toLowerCase()==e.toLowerCase()},t.Procedures={},t.Procedures.NAME_TYPE=t.PROCEDURE_CATEGORY_NAME,t.Procedures.DEFAULT_ARG="x",t.Procedures.allProcedures=function(e){var n=e.getBlocksByType("procedures_defnoreturn",!1).map(function(t){return t.getProcedureDef()});return e=e.getBlocksByType("procedures_defreturn",!1).map(function(t){return t.getProcedureDef()}),n.sort(t.Procedures.procTupleComparator_),e.sort(t.Procedures.procTupleComparator_),[n,e]},t.Procedures.procTupleComparator_=function(t,e){return t[0].toLowerCase().localeCompare(e[0].toLowerCase())},t.Procedures.findLegalName=function(e,n){if(n.isInFlyout)return e;for(e=e||t.Msg.UNNAMED_KEY||"unnamed";!t.Procedures.isLegalName_(e,n.workspace,n);){var i=e.match(/^(.*?)(\d+)$/);e=i?i[1]+(parseInt(i[2],10)+1):e+"2"}return e},t.Procedures.isLegalName_=function(e,n,i){return!t.Procedures.isNameUsed(e,n,i)},t.Procedures.isNameUsed=function(e,n,i){n=n.getAllBlocks(!1);for(var o=0;o<n.length;o++)if(n[o]!=i&&n[o].getProcedureDef){var r=n[o].getProcedureDef();if(t.Names.equals(r[0],e))return!0}return!1},t.Procedures.rename=function(e){e=e.trim();var n=t.Procedures.findLegalName(e,this.getSourceBlock()),i=this.getValue();if(i!=e&&i!=n){e=this.getSourceBlock().workspace.getAllBlocks(!1);for(var o=0;o<e.length;o++)e[o].renameProcedure&&e[o].renameProcedure(i,n)}return n},t.Procedures.flyoutCategory=function(e){function n(e,n){for(var o=0;o<e.length;o++){var r=e[o][0],s=e[o][1],a=t.utils.xml.createElement("block");a.setAttribute("type",n),a.setAttribute("gap",16);var l=t.utils.xml.createElement("mutation");for(l.setAttribute("name",r),a.appendChild(l),r=0;r<s.length;r++){var c=t.utils.xml.createElement("arg");c.setAttribute("name",s[r]),l.appendChild(c)}i.push(a)}}var i=[];if(t.Blocks.procedures_defnoreturn){var o=t.utils.xml.createElement("block");o.setAttribute("type","procedures_defnoreturn"),o.setAttribute("gap",16);var r=t.utils.xml.createElement("field");r.setAttribute("name","NAME"),r.appendChild(t.utils.xml.createTextNode(t.Msg.PROCEDURES_DEFNORETURN_PROCEDURE)),o.appendChild(r),i.push(o)}return t.Blocks.procedures_defreturn&&((o=t.utils.xml.createElement("block")).setAttribute("type","procedures_defreturn"),o.setAttribute("gap",16),(r=t.utils.xml.createElement("field")).setAttribute("name","NAME"),r.appendChild(t.utils.xml.createTextNode(t.Msg.PROCEDURES_DEFRETURN_PROCEDURE)),o.appendChild(r),i.push(o)),t.Blocks.procedures_ifreturn&&((o=t.utils.xml.createElement("block")).setAttribute("type","procedures_ifreturn"),o.setAttribute("gap",16),i.push(o)),i.length&&i[i.length-1].setAttribute("gap",24),n((e=t.Procedures.allProcedures(e))[0],"procedures_callnoreturn"),n(e[1],"procedures_callreturn"),i},t.Procedures.updateMutatorFlyout_=function(e){for(var n,i=[],o=e.getBlocksByType("procedures_mutatorarg",!1),r=0;n=o[r];r++)i.push(n.getFieldValue("NAME"));o=t.utils.xml.createElement("xml"),(r=t.utils.xml.createElement("block")).setAttribute("type","procedures_mutatorarg"),(n=t.utils.xml.createElement("field")).setAttribute("name","NAME"),i=t.Variables.generateUniqueNameFromOptions(t.Procedures.DEFAULT_ARG,i),i=t.utils.xml.createTextNode(i),n.appendChild(i),r.appendChild(n),o.appendChild(r),e.updateToolbox(o)},t.Procedures.mutatorOpenListener=function(e){if(e.type==t.Events.BUBBLE_OPEN&&"mutator"===e.bubbleType&&e.isOpen){var n=(e=t.Workspace.getById(e.workspaceId).getBlockById(e.blockId)).type;"procedures_defnoreturn"!=n&&"procedures_defreturn"!=n||(e=e.mutator.getWorkspace(),t.Procedures.updateMutatorFlyout_(e),e.addChangeListener(t.Procedures.mutatorChangeListener_))}},t.Procedures.mutatorChangeListener_=function(e){e.type!=t.Events.BLOCK_CREATE&&e.type!=t.Events.BLOCK_DELETE&&e.type!=t.Events.BLOCK_CHANGE||(e=t.Workspace.getById(e.workspaceId),t.Procedures.updateMutatorFlyout_(e))},t.Procedures.getCallers=function(e,n){var i=[];n=n.getAllBlocks(!1);for(var o=0;o<n.length;o++)if(n[o].getProcedureCall){var r=n[o].getProcedureCall();r&&t.Names.equals(r,e)&&i.push(n[o])}return i},t.Procedures.mutateCallers=function(e){var n,i=t.Events.recordUndo,o=e.getProcedureDef()[0],r=e.mutationToDom(!0);for(e=t.Procedures.getCallers(o,e.workspace),o=0;n=e[o];o++){var s=n.mutationToDom();s=s&&t.Xml.domToText(s),n.domToMutation(r);var a=n.mutationToDom();s!=(a=a&&t.Xml.domToText(a))&&(t.Events.recordUndo=!1,t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(n,"mutation",null,s,a)),t.Events.recordUndo=i)}},t.Procedures.getDefinition=function(e,n){n=n.getTopBlocks(!1);for(var i=0;i<n.length;i++)if(n[i].getProcedureDef){var o=n[i].getProcedureDef();if(o&&t.Names.equals(o[0],e))return n[i]}return null},t.ShortcutRegistry=function(){t.ShortcutRegistry.registry=this,this.registry_=Object.create(null),this.keyMap_=Object.create(null)},t.ShortcutRegistry.modifierKeys={Shift:t.utils.KeyCodes.SHIFT,Control:t.utils.KeyCodes.CTRL,Alt:t.utils.KeyCodes.ALT,Meta:t.utils.KeyCodes.META},t.ShortcutRegistry.prototype.register=function(t,e){if(this.registry_[t.name]&&!e)throw Error('Shortcut with name "'+t.name+'" already exists.');this.registry_[t.name]=t},t.ShortcutRegistry.prototype.unregister=function(t){return this.registry_[t]?(this.removeAllKeyMappings(t),delete this.registry_[t],!0):(console.warn('Keyboard shortcut with name "'+t+'" not found.'),!1)},t.ShortcutRegistry.prototype.addKeyMapping=function(t,e,n){t=String(t);var i=this.keyMap_[t];if(i&&!n)throw Error('Shortcut with name "'+e+'" collides with shortcuts '+i.toString());i&&n?i.unshift(e):this.keyMap_[t]=[e]},t.ShortcutRegistry.prototype.removeKeyMapping=function(t,e,n){var i=this.keyMap_[t];if(!i&&!n)return console.warn('No keyboard shortcut with name "'+e+'" registered with key code "'+t+'"'),!1;var o=i.indexOf(e);return-1<o?(i.splice(o,1),0==i.length&&delete this.keyMap_[t],!0):(n||console.warn('No keyboard shortcut with name "'+e+'" registered with key code "'+t+'"'),!1)},t.ShortcutRegistry.prototype.removeAllKeyMappings=function(t){for(var e in this.keyMap_)this.removeKeyMapping(e,t,!0)},t.ShortcutRegistry.prototype.setKeyMap=function(t){this.keyMap_=t},t.ShortcutRegistry.prototype.getKeyMap=function(){return t.utils.object.deepMerge(Object.create(null),this.keyMap_)},t.ShortcutRegistry.prototype.getRegistry=function(){return t.utils.object.deepMerge(Object.create(null),this.registry_)},t.ShortcutRegistry.prototype.onKeyDown=function(t,e){var n=this.serializeKeyEvent_(e);if(!(n=this.getShortcutNamesByKeyCode(n)))return!1;for(var i,o=0;i=n[o];o++)if((!(i=this.registry_[i]).preconditionFn||i.preconditionFn(t))&&i.callback&&i.callback(t,e,i))return!0;return!1},t.ShortcutRegistry.prototype.getShortcutNamesByKeyCode=function(t){return this.keyMap_[t]||[]},t.ShortcutRegistry.prototype.getKeyCodesByShortcutName=function(t){var e,n=[];for(e in this.keyMap_)-1<this.keyMap_[e].indexOf(t)&&n.push(e);return n},t.ShortcutRegistry.prototype.serializeKeyEvent_=function(e){var n,i="";for(n in t.ShortcutRegistry.modifierKeys)e.getModifierState(n)&&(""!=i&&(i+="+"),i+=n);return""!=i&&e.keyCode?i=i+"+"+e.keyCode:e.keyCode&&(i=e.keyCode.toString()),i},t.ShortcutRegistry.prototype.checkModifiers_=function(e){for(var n,i=t.utils.object.values(t.ShortcutRegistry.modifierKeys),o=0;n=e[o];o++)if(0>i.indexOf(n))throw Error(n+" is not a valid modifier key.")},t.ShortcutRegistry.prototype.createSerializedKey=function(e,n){var i="";if(n)for(var o in this.checkModifiers_(n),t.ShortcutRegistry.modifierKeys)-1<n.indexOf(t.ShortcutRegistry.modifierKeys[o])&&(""!=i&&(i+="+"),i+=o);return""!=i&&e?i=i+"+"+e:e&&(i=e.toString()),i},new t.ShortcutRegistry,t.VariableModel=function(e,n,i,o){this.workspace=e,this.name=n,this.type=i||"",this.id_=o||t.utils.genUid(),t.Events.fire(new(t.Events.get(t.Events.VAR_CREATE))(this))},t.VariableModel.prototype.getId=function(){return this.id_},t.VariableModel.compareByName=function(t,e){return(t=t.name.toLowerCase())<(e=e.name.toLowerCase())?-1:t==e?0:1},t.Variables={},t.Variables.NAME_TYPE=t.VARIABLE_CATEGORY_NAME,t.Variables.allUsedVarModels=function(t){var e=t.getAllBlocks(!1);t=Object.create(null);for(var n=0;n<e.length;n++){var i=e[n].getVarModels();if(i)for(var o=0;o<i.length;o++){var r=i[o],s=r.getId();s&&(t[s]=r)}}for(s in e=[],t)e.push(t[s]);return e},t.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_={},t.Variables.allDeveloperVariables=function(e){e=e.getAllBlocks(!1);for(var n,i=Object.create(null),o=0;n=e[o];o++){var r=n.getDeveloperVariables;if(!r&&n.getDeveloperVars&&(r=n.getDeveloperVars,t.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_[n.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+n.type+"')"),t.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_[n.type]=!0)),r)for(n=r(),r=0;r<n.length;r++)i[n[r]]=!0}return Object.keys(i)},t.Variables.flyoutCategory=function(e){var n=[],i=document.createElement("button");return i.setAttribute("text","%{BKY_NEW_VARIABLE}"),i.setAttribute("callbackKey","CREATE_VARIABLE"),e.registerButtonCallback("CREATE_VARIABLE",function(e){t.Variables.createVariableButtonHandler(e.getTargetWorkspace())}),n.push(i),e=t.Variables.flyoutCategoryBlocks(e),n.concat(e)},t.Variables.flyoutCategoryBlocks=function(e){var n=[];if(0<(e=e.getVariablesOfType("")).length){var i=e[e.length-1];if(t.Blocks.variables_set){var o=t.utils.xml.createElement("block");o.setAttribute("type","variables_set"),o.setAttribute("gap",t.Blocks.math_change?8:24),o.appendChild(t.Variables.generateVariableFieldDom(i)),n.push(o)}if(t.Blocks.math_change&&((o=t.utils.xml.createElement("block")).setAttribute("type","math_change"),o.setAttribute("gap",t.Blocks.variables_get?20:8),o.appendChild(t.Variables.generateVariableFieldDom(i)),i=t.Xml.textToDom('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),o.appendChild(i),n.push(o)),t.Blocks.variables_get){e.sort(t.VariableModel.compareByName),i=0;for(var r;r=e[i];i++)(o=t.utils.xml.createElement("block")).setAttribute("type","variables_get"),o.setAttribute("gap",8),o.appendChild(t.Variables.generateVariableFieldDom(r)),n.push(o)}}return n},t.Variables.VAR_LETTER_OPTIONS="ijkmnopqrstuvwxyzabcdefgh",t.Variables.generateUniqueName=function(e){return t.Variables.generateUniqueNameFromOptions(t.Variables.VAR_LETTER_OPTIONS.charAt(0),e.getAllVariableNames())},t.Variables.generateUniqueNameFromOptions=function(e,n){if(!n.length)return e;for(var i=t.Variables.VAR_LETTER_OPTIONS,o="",r=i.indexOf(e);;){for(var s=!1,a=0;a<n.length;a++)if(n[a].toLowerCase()==e){s=!0;break}if(!s)return e;++r==i.length&&(r=0,o=Number(o)+1),e=i.charAt(r)+o}},t.Variables.createVariableButtonHandler=function(e,n,i){var o=i||"",r=function(i){t.Variables.promptName(t.Msg.NEW_VARIABLE_TITLE,i,function(i){if(i){var s=t.Variables.nameUsedWithAnyType(i,e);if(s){if(s.type==o)var a=t.Msg.VARIABLE_ALREADY_EXISTS.replace("%1",s.name);else a=(a=t.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE).replace("%1",s.name).replace("%2",s.type);t.alert(a,function(){r(i)})}else e.createVariable(i,o),n&&n(i)}else n&&n(null)})};r("")},t.Variables.createVariable=t.Variables.createVariableButtonHandler,t.Variables.renameVariable=function(e,n,i){var o=function(r){var s=t.Msg.RENAME_VARIABLE_TITLE.replace("%1",n.name);t.Variables.promptName(s,r,function(r){if(r){var s=t.Variables.nameUsedWithOtherType_(r,n.type,e);s?(s=t.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",s.name).replace("%2",s.type),t.alert(s,function(){o(r)})):(e.renameVariableById(n.getId(),r),i&&i(r))}else i&&i(null)})};o("")},t.Variables.promptName=function(e,n,i){t.prompt(e,n,function(e){e&&((e=e.replace(/[\s\xa0]+/g," ").trim())==t.Msg.RENAME_VARIABLE||e==t.Msg.NEW_VARIABLE)&&(e=null),i(e)})},t.Variables.nameUsedWithOtherType_=function(t,e,n){n=n.getVariableMap().getAllVariables(),t=t.toLowerCase();for(var i,o=0;i=n[o];o++)if(i.name.toLowerCase()==t&&i.type!=e)return i;return null},t.Variables.nameUsedWithAnyType=function(t,e){e=e.getVariableMap().getAllVariables(),t=t.toLowerCase();for(var n,i=0;n=e[i];i++)if(n.name.toLowerCase()==t)return n;return null},t.Variables.generateVariableFieldDom=function(e){var n=t.utils.xml.createElement("field");return n.setAttribute("name","VAR"),n.setAttribute("id",e.getId()),n.setAttribute("variabletype",e.type),e=t.utils.xml.createTextNode(e.name),n.appendChild(e),n},t.Variables.getOrCreateVariablePackage=function(e,n,i,o){var r=t.Variables.getVariable(e,n,i,o);return r||(r=t.Variables.createVariable_(e,n,i,o)),r},t.Variables.getVariable=function(t,e,n,i){var o=t.getPotentialVariableMap(),r=null;if(e&&(!(r=t.getVariableById(e))&&o&&(r=o.getVariableById(e)),r))return r;if(n){if(null==i)throw Error("Tried to look up a variable by name without a type");!(r=t.getVariable(n,i))&&o&&(r=o.getVariable(n,i))}return r},t.Variables.createVariable_=function(e,n,i,o){var r=e.getPotentialVariableMap();return i||(i=t.Variables.generateUniqueName(e.isFlyout?e.targetWorkspace:e)),r?r.createVariable(i,o,n):e.createVariable(i,o,n)},t.Variables.getAddedVariables=function(t,e){t=t.getAllVariables();var n=[];if(e.length!=t.length)for(var i=0;i<t.length;i++){var o=t[i];-1==e.indexOf(o)&&n.push(o)}return n},t.VERSION="5.20210325.0",t.mainWorkspace=null,t.selected=null,t.draggingConnections=[],t.clipboardXml_=null,t.clipboardSource_=null,t.clipboardTypeCounts_=null,t.cache3dSupported_=null,t.parentContainer=null,t.svgSize=function(e){return t.utils.deprecation.warn("Blockly.svgSize","March 2021","March 2022","workspace.getCachedParentSvgSize"),new t.utils.Size(e.cachedWidth_,e.cachedHeight_)},t.resizeSvgContents=function(t){t.resizeContents()},t.svgResize=function(t){for(;t.options.parentWorkspace;)t=t.options.parentWorkspace;var e=t.getParentSvg(),n=t.getCachedParentSvgSize(),i=e.parentNode;if(i){var o=i.offsetWidth;i=i.offsetHeight,n.width!=o&&(e.setAttribute("width",o+"px"),t.setCachedParentSvgSize(o,null)),n.height!=i&&(e.setAttribute("height",i+"px"),t.setCachedParentSvgSize(null,i)),t.resize()}},t.onKeyDown=function(e){var n=t.mainWorkspace;n&&!(t.utils.isTargetInput(e)||n.rendered&&!n.isVisible())&&t.ShortcutRegistry.registry.onKeyDown(n,e)},t.deleteBlock=function(e){e.workspace.isFlyout||(t.Events.setGroup(!0),t.hideChaff(),e.dispose(!0,!0),t.Events.setGroup(!1))},t.copy=function(e){(e=e.toCopyData())&&(t.clipboardXml_=e.xml,t.clipboardSource_=e.source,t.clipboardTypeCounts_=e.typeCounts)},t.paste=function(){if(!t.clipboardXml_)return!1;var e=t.clipboardSource_;return e.isFlyout&&(e=e.targetWorkspace),!(!t.clipboardTypeCounts_||!e.isCapacityAvailable(t.clipboardTypeCounts_)||(t.Events.setGroup(!0),e.paste(t.clipboardXml_),t.Events.setGroup(!1),0))},t.duplicate=function(e){var n=t.clipboardXml_,i=t.clipboardSource_;t.copy(e),e.workspace.paste(t.clipboardXml_),t.clipboardXml_=n,t.clipboardSource_=i},t.onContextMenu_=function(e){t.utils.isTargetInput(e)||e.preventDefault()},t.hideChaff=function(e){t.Tooltip.hide(),t.WidgetDiv.hide(),t.DropDownDiv.hideWithoutAnimation(),e||((e=t.getMainWorkspace()).trashcan&&e.trashcan.flyout&&e.trashcan.closeFlyout(),(e=e.getToolbox())&&e.getFlyout()&&e.getFlyout().autoClose&&e.clearSelection())},t.getMainWorkspace=function(){return t.mainWorkspace},t.alert=function(t,e){alert(t),e&&e()},t.confirm=function(t,e){e(confirm(t))},t.prompt=function(t,e,n){n(prompt(t,e))},t.jsonInitFactory_=function(t){return function(){this.jsonInit(t)}},t.defineBlocksWithJsonArray=function(e){for(var n=0;n<e.length;n++){var i=e[n];if(i){var o=i.type;null==o||""===o?console.warn("Block definition #"+n+" in JSON array is missing a type attribute. Skipping."):(t.Blocks[o]&&console.warn("Block definition #"+n+' in JSON array overwrites prior definition of "'+o+'".'),t.Blocks[o]={init:t.jsonInitFactory_(i)})}else console.warn("Block definition #"+n+" in JSON array is "+i+". Skipping.")}},t.isNumber=function(t){return/^\s*-?\d+(\.\d+)?\s*$/.test(t)},t.hueToHex=function(e){return t.utils.colour.hsvToHex(e,t.HSV_SATURATION,255*t.HSV_VALUE)},t.checkBlockColourConstants=function(){t.checkBlockColourConstant_("LOGIC_HUE",["Blocks","logic","HUE"],void 0),t.checkBlockColourConstant_("LOGIC_HUE",["Constants","Logic","HUE"],210),t.checkBlockColourConstant_("LOOPS_HUE",["Blocks","loops","HUE"],void 0),t.checkBlockColourConstant_("LOOPS_HUE",["Constants","Loops","HUE"],120),t.checkBlockColourConstant_("MATH_HUE",["Blocks","math","HUE"],void 0),t.checkBlockColourConstant_("MATH_HUE",["Constants","Math","HUE"],230),t.checkBlockColourConstant_("TEXTS_HUE",["Blocks","texts","HUE"],void 0),t.checkBlockColourConstant_("TEXTS_HUE",["Constants","Text","HUE"],160),t.checkBlockColourConstant_("LISTS_HUE",["Blocks","lists","HUE"],void 0),t.checkBlockColourConstant_("LISTS_HUE",["Constants","Lists","HUE"],260),t.checkBlockColourConstant_("COLOUR_HUE",["Blocks","colour","HUE"],void 0),t.checkBlockColourConstant_("COLOUR_HUE",["Constants","Colour","HUE"],20),t.checkBlockColourConstant_("VARIABLES_HUE",["Blocks","variables","HUE"],void 0),t.checkBlockColourConstant_("VARIABLES_HUE",["Constants","Variables","HUE"],330),t.checkBlockColourConstant_("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310),t.checkBlockColourConstant_("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)},t.checkBlockColourConstant_=function(e,n,i){for(var o="Blockly",r=t,s=0;s<n.length;++s)o+="."+n[s],r&&(r=r[n[s]]);r&&r!==i&&(e=(void 0===i?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",o).replace("%2",e),console.warn(e))},t.setParentContainer=function(e){t.parentContainer=e},t.bindEvent_=t.browserEvents.bind,t.unbindEvent_=t.browserEvents.unbind,t.bindEventWithChecks_=t.browserEvents.conditionalBind,t.ALIGN_LEFT=t.constants.ALIGN.LEFT,t.ALIGN_CENTRE=t.constants.ALIGN.CENTRE,t.ALIGN_RIGHT=t.constants.ALIGN.RIGHT,t.INPUT_VALUE=t.connectionTypes.INPUT_VALUE,t.OUTPUT_VALUE=t.connectionTypes.OUTPUT_VALUE,t.NEXT_STATEMENT=t.connectionTypes.NEXT_STATEMENT,t.PREVIOUS_STATEMENT=t.connectionTypes.PREVIOUS_STATEMENT,t.DUMMY_INPUT=t.inputTypes.DUMMY,t.TOOLBOX_AT_TOP=t.utils.toolbox.Position.TOP,t.TOOLBOX_AT_BOTTOM=t.utils.toolbox.Position.BOTTOM,t.TOOLBOX_AT_LEFT=t.utils.toolbox.Position.LEFT,t.TOOLBOX_AT_RIGHT=t.utils.toolbox.Position.RIGHT,t.Events.BubbleOpen=function(e,n,i){t.Events.BubbleOpen.superClass_.constructor.call(this,e?e.workspace.id:void 0),this.blockId=e?e.id:null,this.isOpen=n,this.bubbleType=i},t.utils.object.inherits(t.Events.BubbleOpen,t.Events.UiBase),t.Events.BubbleOpen.prototype.type=t.Events.BUBBLE_OPEN,t.Events.BubbleOpen.prototype.toJson=function(){var e=t.Events.BubbleOpen.superClass_.toJson.call(this);return e.isOpen=this.isOpen,e.bubbleType=this.bubbleType,e.blockId=this.blockId,e},t.Events.BubbleOpen.prototype.fromJson=function(e){t.Events.BubbleOpen.superClass_.fromJson.call(this,e),this.isOpen=e.isOpen,this.bubbleType=e.bubbleType,this.blockId=e.blockId},t.registry.register(t.registry.Type.EVENT,t.Events.BUBBLE_OPEN,t.Events.BubbleOpen),t.Icon=function(t){this.block_=t,this.iconGroup_=null},t.Icon.prototype.collapseHidden=!0,t.Icon.prototype.SIZE=17,t.Icon.prototype.bubble_=null,t.Icon.prototype.iconXY_=null,t.Icon.prototype.createIcon=function(){this.iconGroup_||(this.iconGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyIconGroup"},null),this.block_.isInFlyout&&t.utils.dom.addClass(this.iconGroup_,"blocklyIconGroupReadonly"),this.drawIcon_(this.iconGroup_),this.block_.getSvgRoot().appendChild(this.iconGroup_),t.browserEvents.conditionalBind(this.iconGroup_,"mouseup",this,this.iconClick_),this.updateEditable())},t.Icon.prototype.dispose=function(){t.utils.dom.removeNode(this.iconGroup_),this.iconGroup_=null,this.setVisible(!1),this.block_=null},t.Icon.prototype.updateEditable=function(){},t.Icon.prototype.isVisible=function(){return!!this.bubble_},t.Icon.prototype.iconClick_=function(e){this.block_.workspace.isDragging()||this.block_.isInFlyout||t.utils.isRightButton(e)||this.setVisible(!this.isVisible())},t.Icon.prototype.applyColour=function(){this.isVisible()&&this.bubble_.setColour(this.block_.style.colourPrimary)},t.Icon.prototype.setIconLocation=function(t){this.iconXY_=t,this.isVisible()&&this.bubble_.setAnchorLocation(t)},t.Icon.prototype.computeIconLocation=function(){var e=this.block_.getRelativeToSurfaceXY(),n=t.utils.getRelativeXY(this.iconGroup_);e=new t.utils.Coordinate(e.x+n.x+this.SIZE/2,e.y+n.y+this.SIZE/2),t.utils.Coordinate.equals(this.getIconLocation(),e)||this.setIconLocation(e)},t.Icon.prototype.getIconLocation=function(){return this.iconXY_},t.Icon.prototype.getCorrectedSize=function(){return new t.utils.Size(t.Icon.prototype.SIZE,t.Icon.prototype.SIZE-2)},t.Warning=function(e){t.Warning.superClass_.constructor.call(this,e),this.createIcon(),this.text_={}},t.utils.object.inherits(t.Warning,t.Icon),t.Warning.prototype.collapseHidden=!1,t.Warning.prototype.drawIcon_=function(e){t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},e),t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},e),t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},e)},t.Warning.prototype.setVisible=function(e){e!=this.isVisible()&&(t.Events.fire(new(t.Events.get(t.Events.BUBBLE_OPEN))(this.block_,e,"warning")),e?this.createBubble_():this.disposeBubble_())},t.Warning.prototype.createBubble_=function(){this.paragraphElement_=t.Bubble.textToDom(this.getText()),this.bubble_=t.Bubble.createNonEditableBubble(this.paragraphElement_,this.block_,this.iconXY_),this.applyColour()},t.Warning.prototype.disposeBubble_=function(){this.bubble_.dispose(),this.paragraphElement_=this.bubble_=null},t.Warning.prototype.setText=function(t,e){this.text_[e]!=t&&(t?this.text_[e]=t:delete this.text_[e],this.isVisible()&&(this.setVisible(!1),this.setVisible(!0)))},t.Warning.prototype.getText=function(){var t,e=[];for(t in this.text_)e.push(this.text_[t]);return e.join("\n")},t.Warning.prototype.dispose=function(){this.block_.warning=null,t.Icon.prototype.dispose.call(this)},t.Comment=function(e){t.Comment.superClass_.constructor.call(this,e),this.model_=e.commentModel,this.model_.text=this.model_.text||"",this.cachedText_="",this.onInputWrapper_=this.onChangeWrapper_=this.onWheelWrapper_=this.onMouseUpWrapper_=null,this.createIcon()},t.utils.object.inherits(t.Comment,t.Icon),t.Comment.prototype.drawIcon_=function(e){t.utils.dom.createSvgElement(t.utils.Svg.CIRCLE,{class:"blocklyIconShape",r:"8",cx:"8",cy:"8"},e),t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},e),t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},e)},t.Comment.prototype.createEditor_=function(){this.foreignObject_=t.utils.dom.createSvgElement(t.utils.Svg.FOREIGNOBJECT,{x:t.Bubble.BORDER_WIDTH,y:t.Bubble.BORDER_WIDTH},null);var e=document.createElementNS(t.utils.dom.HTML_NS,"body");e.setAttribute("xmlns",t.utils.dom.HTML_NS),e.className="blocklyMinimalBody";var n=this.textarea_=document.createElementNS(t.utils.dom.HTML_NS,"textarea");return n.className="blocklyCommentTextarea",n.setAttribute("dir",this.block_.RTL?"RTL":"LTR"),n.value=this.model_.text,this.resizeTextarea_(),e.appendChild(n),this.foreignObject_.appendChild(e),this.onMouseUpWrapper_=t.browserEvents.conditionalBind(n,"mouseup",this,this.startEdit_,!0,!0),this.onWheelWrapper_=t.browserEvents.conditionalBind(n,"wheel",this,function(t){t.stopPropagation()}),this.onChangeWrapper_=t.browserEvents.conditionalBind(n,"change",this,function(e){this.cachedText_!=this.model_.text&&t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(this.block_,"comment",null,this.cachedText_,this.model_.text))}),this.onInputWrapper_=t.browserEvents.conditionalBind(n,"input",this,function(t){this.model_.text=n.value}),setTimeout(n.focus.bind(n),0),this.foreignObject_},t.Comment.prototype.updateEditable=function(){t.Comment.superClass_.updateEditable.call(this),this.isVisible()&&(this.disposeBubble_(),this.createBubble_())},t.Comment.prototype.onBubbleResize_=function(){this.isVisible()&&(this.model_.size=this.bubble_.getBubbleSize(),this.resizeTextarea_())},t.Comment.prototype.resizeTextarea_=function(){var e=this.model_.size,n=2*t.Bubble.BORDER_WIDTH,i=e.width-n;e=e.height-n,this.foreignObject_.setAttribute("width",i),this.foreignObject_.setAttribute("height",e),this.textarea_.style.width=i-4+"px",this.textarea_.style.height=e-4+"px"},t.Comment.prototype.setVisible=function(e){e!=this.isVisible()&&(t.Events.fire(new(t.Events.get(t.Events.BUBBLE_OPEN))(this.block_,e,"comment")),(this.model_.pinned=e)?this.createBubble_():this.disposeBubble_())},t.Comment.prototype.createBubble_=function(){!this.block_.isEditable()||t.utils.userAgent.IE?this.createNonEditableBubble_():this.createEditableBubble_()},t.Comment.prototype.createEditableBubble_=function(){this.bubble_=new t.Bubble(this.block_.workspace,this.createEditor_(),this.block_.pathObject.svgPath,this.iconXY_,this.model_.size.width,this.model_.size.height),this.bubble_.setSvgId(this.block_.id),this.bubble_.registerResizeEvent(this.onBubbleResize_.bind(this)),this.applyColour()},t.Comment.prototype.createNonEditableBubble_=function(){this.paragraphElement_=t.Bubble.textToDom(this.block_.getCommentText()),this.bubble_=t.Bubble.createNonEditableBubble(this.paragraphElement_,this.block_,this.iconXY_),this.applyColour()},t.Comment.prototype.disposeBubble_=function(){this.onMouseUpWrapper_&&(t.browserEvents.unbind(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null),this.onWheelWrapper_&&(t.browserEvents.unbind(this.onWheelWrapper_),this.onWheelWrapper_=null),this.onChangeWrapper_&&(t.browserEvents.unbind(this.onChangeWrapper_),this.onChangeWrapper_=null),this.onInputWrapper_&&(t.browserEvents.unbind(this.onInputWrapper_),this.onInputWrapper_=null),this.bubble_.dispose(),this.paragraphElement_=this.foreignObject_=this.textarea_=this.bubble_=null},t.Comment.prototype.startEdit_=function(t){this.bubble_.promote()&&this.textarea_.focus(),this.cachedText_=this.model_.text},t.Comment.prototype.getBubbleSize=function(){return this.model_.size},t.Comment.prototype.setBubbleSize=function(t,e){this.bubble_?this.bubble_.setBubbleSize(t,e):(this.model_.size.width=t,this.model_.size.height=e)},t.Comment.prototype.updateText=function(){this.textarea_?this.textarea_.value=this.model_.text:this.paragraphElement_&&(this.paragraphElement_.firstChild.textContent=this.model_.text)},t.Comment.prototype.dispose=function(){this.block_.comment=null,t.Icon.prototype.dispose.call(this)},t.Css.register(".blocklyCommentTextarea {,background-color: #fef49c;,border: 0;,outline: 0;,margin: 0;,padding: 3px;,resize: none;,display: block;,text-overflow: hidden;,}".split(",")),t.Flyout=function(e){e.setMetrics=this.setMetrics_.bind(this),this.workspace_=new t.WorkspaceSvg(e),this.workspace_.setMetricsManager(new t.FlyoutMetricsManager(this.workspace_,this)),this.workspace_.isFlyout=!0,this.workspace_.setVisible(this.isVisible_),this.RTL=!!e.RTL,this.horizontalLayout=!1,this.toolboxPosition_=e.toolboxPosition,this.eventWrappers_=[],this.mats_=[],this.buttons_=[],this.listeners_=[],this.permanentlyDisabled_=[],this.tabWidth_=this.workspace_.getRenderer().getConstants().TAB_WIDTH,this.targetWorkspace=null},t.Flyout.prototype.autoClose=!0,t.Flyout.prototype.isVisible_=!1,t.Flyout.prototype.containerVisible_=!0,t.Flyout.prototype.CORNER_RADIUS=8,t.Flyout.prototype.MARGIN=t.Flyout.prototype.CORNER_RADIUS,t.Flyout.prototype.GAP_X=3*t.Flyout.prototype.MARGIN,t.Flyout.prototype.GAP_Y=3*t.Flyout.prototype.MARGIN,t.Flyout.prototype.SCROLLBAR_PADDING=2,t.Flyout.prototype.width_=0,t.Flyout.prototype.height_=0,t.Flyout.prototype.dragAngleRange_=70,t.Flyout.prototype.createDom=function(e){return this.svgGroup_=t.utils.dom.createSvgElement(e,{class:"blocklyFlyout",style:"display: none"},null),this.svgBackground_=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyFlyoutBackground"},this.svgGroup_),this.svgGroup_.appendChild(this.workspace_.createDom()),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutBackgroundColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutOpacity","fill-opacity"),this.svgGroup_},t.Flyout.prototype.init=function(e){this.targetWorkspace=e,this.workspace_.targetWorkspace=e,this.workspace_.scrollbar=new t.ScrollbarPair(this.workspace_,this.horizontalLayout,!this.horizontalLayout,"blocklyFlyoutScrollbar"),this.hide(),Array.prototype.push.apply(this.eventWrappers_,t.browserEvents.conditionalBind(this.svgGroup_,"wheel",this,this.wheel_)),this.autoClose||(this.filterWrapper_=this.filterForCapacity_.bind(this),this.targetWorkspace.addChangeListener(this.filterWrapper_)),Array.prototype.push.apply(this.eventWrappers_,t.browserEvents.conditionalBind(this.svgBackground_,"mousedown",this,this.onMouseDown_)),this.workspace_.getGesture=this.targetWorkspace.getGesture.bind(this.targetWorkspace),this.workspace_.setVariableMap(this.targetWorkspace.getVariableMap()),this.workspace_.createPotentialVariableMap()},t.Flyout.prototype.dispose=function(){this.hide(),t.browserEvents.unbind(this.eventWrappers_),this.filterWrapper_&&(this.targetWorkspace.removeChangeListener(this.filterWrapper_),this.filterWrapper_=null),this.workspace_&&(this.workspace_.getThemeManager().unsubscribe(this.svgBackground_),this.workspace_.targetWorkspace=null,this.workspace_.dispose(),this.workspace_=null),this.svgGroup_&&(t.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.targetWorkspace=this.svgBackground_=null},t.Flyout.prototype.getWidth=function(){return this.width_},t.Flyout.prototype.getHeight=function(){return this.height_},t.Flyout.prototype.getFlyoutScale=function(){return this.targetWorkspace.scale},t.Flyout.prototype.getWorkspace=function(){return this.workspace_},t.Flyout.prototype.isVisible=function(){return this.isVisible_},t.Flyout.prototype.setVisible=function(t){var e=t!=this.isVisible();this.isVisible_=t,e&&this.updateDisplay_()},t.Flyout.prototype.setContainerVisible=function(t){var e=t!=this.containerVisible_;this.containerVisible_=t,e&&this.updateDisplay_()},t.Flyout.prototype.updateDisplay_=function(){var t=!!this.containerVisible_&&this.isVisible();this.svgGroup_.style.display=t?"block":"none",this.workspace_.scrollbar.setContainerVisible(t)},t.Flyout.prototype.positionAt_=function(e,n,i,o){this.svgGroup_.setAttribute("width",e),this.svgGroup_.setAttribute("height",n),this.workspace_.setCachedParentSvgSize(e,n),"svg"==this.svgGroup_.tagName?t.utils.dom.setCssTransform(this.svgGroup_,"translate("+i+"px,"+o+"px)"):this.svgGroup_.setAttribute("transform","translate("+i+","+o+")"),(e=this.workspace_.scrollbar)&&(e.setOrigin(i,o),e.resize(),e.hScroll&&e.hScroll.setPosition(e.hScroll.position.x,e.hScroll.position.y),e.vScroll&&e.vScroll.setPosition(e.vScroll.position.x,e.vScroll.position.y))},t.Flyout.prototype.hide=function(){if(this.isVisible()){this.setVisible(!1);for(var e,n=0;e=this.listeners_[n];n++)t.browserEvents.unbind(e);this.listeners_.length=0,this.reflowWrapper_&&(this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowWrapper_=null)}},t.Flyout.prototype.show=function(e){this.workspace_.setResizesEnabled(!1),this.hide(),this.clearOldBlocks_(),"string"==typeof e&&(e=this.getDynamicCategoryContents_(e)),this.setVisible(!0),e=t.utils.toolbox.convertFlyoutDefToJsonArray(e),e=this.createFlyoutInfo_(e),this.layout_(e.contents,e.gaps),this.listeners_.push(t.browserEvents.conditionalBind(this.svgBackground_,"mouseover",this,function(){for(var t,e=this.workspace_.getTopBlocks(!1),n=0;t=e[n];n++)t.removeSelect()})),this.horizontalLayout?this.height_=0:this.width_=0,this.workspace_.setResizesEnabled(!0),this.reflow(),this.filterForCapacity_(),this.position(),this.reflowWrapper_=this.reflow.bind(this),this.workspace_.addChangeListener(this.reflowWrapper_)},t.Flyout.prototype.createFlyoutInfo_=function(e){var n=[],i=[];this.permanentlyDisabled_.length=0;for(var o,r=this.horizontalLayout?this.GAP_X:this.GAP_Y,s=0;o=e[s];s++)switch(o.custom&&(o=this.getDynamicCategoryContents_(o.custom),o=t.utils.toolbox.convertFlyoutDefToJsonArray(o),e.splice.apply(e,[s,1].concat(o)),o=e[s]),o.kind.toUpperCase()){case"BLOCK":var a=o,l=this.getBlockXml_(a);o=this.createBlock_(l),a=parseInt(a.gap||l.getAttribute("gap"),10),i.push(isNaN(a)?r:a),n.push({type:"block",block:o});break;case"SEP":this.addSeparatorGap_(o,i,r);break;case"LABEL":o=this.createButton_(o,!0),n.push({type:"button",button:o}),i.push(r);break;case"BUTTON":o=this.createButton_(o,!1),n.push({type:"button",button:o}),i.push(r)}return{contents:n,gaps:i}},t.Flyout.prototype.getDynamicCategoryContents_=function(t){if("function"!=typeof(t=this.workspace_.targetWorkspace.getToolboxCategoryCallback(t)))throw TypeError("Couldn't find a callback function when opening a toolbox category.");if(t=t(this.workspace_.targetWorkspace),!Array.isArray(t))throw new TypeError("Result of toolbox category callback must be an array.");return t},t.Flyout.prototype.createButton_=function(e,n){if(!t.FlyoutButton)throw Error("Missing require for Blockly.FlyoutButton");return new t.FlyoutButton(this.workspace_,this.targetWorkspace,e,n)},t.Flyout.prototype.createBlock_=function(e){return(e=t.Xml.domToBlock(e,this.workspace_)).isEnabled()||this.permanentlyDisabled_.push(e),e},t.Flyout.prototype.getBlockXml_=function(e){var n=null,i=e.blockxml;if(i&&"string"!=typeof i?n=i:i&&"string"==typeof i?(n=t.Xml.textToDom(i),e.blockxml=n):e.type&&((n=t.utils.xml.createElement("xml")).setAttribute("type",e.type),n.setAttribute("disabled",e.disabled),e.blockxml=n),!n)throw Error("Error: Invalid block definition. Block definition must have blockxml or type.");return n},t.Flyout.prototype.addSeparatorGap_=function(t,e,n){t=parseInt(t.gap,10),!isNaN(t)&&0<e.length?e[e.length-1]=t:e.push(n)},t.Flyout.prototype.clearOldBlocks_=function(){for(var e,n=this.workspace_.getTopBlocks(!1),i=0;e=n[i];i++)e.workspace==this.workspace_&&e.dispose(!1,!1);for(i=0;i<this.mats_.length;i++)(n=this.mats_[i])&&(t.Tooltip.unbindMouseEvents(n),t.utils.dom.removeNode(n));for(i=this.mats_.length=0;n=this.buttons_[i];i++)n.dispose();this.buttons_.length=0,this.workspace_.getPotentialVariableMap().clear()},t.Flyout.prototype.addBlockListeners_=function(e,n,i){this.listeners_.push(t.browserEvents.conditionalBind(e,"mousedown",null,this.blockMouseDown_(n))),this.listeners_.push(t.browserEvents.conditionalBind(i,"mousedown",null,this.blockMouseDown_(n))),this.listeners_.push(t.browserEvents.bind(e,"mouseenter",n,n.addSelect)),this.listeners_.push(t.browserEvents.bind(e,"mouseleave",n,n.removeSelect)),this.listeners_.push(t.browserEvents.bind(i,"mouseenter",n,n.addSelect)),this.listeners_.push(t.browserEvents.bind(i,"mouseleave",n,n.removeSelect))},t.Flyout.prototype.blockMouseDown_=function(t){var e=this;return function(n){var i=e.targetWorkspace.getGesture(n);i&&(i.setStartBlock(t),i.handleFlyoutStart(n,e))}},t.Flyout.prototype.onMouseDown_=function(t){var e=this.targetWorkspace.getGesture(t);e&&e.handleFlyoutStart(t,this)},t.Flyout.prototype.isBlockCreatable_=function(t){return t.isEnabled()},t.Flyout.prototype.createBlock=function(e){var n=null;t.Events.disable();var i=this.targetWorkspace.getAllVariables();this.targetWorkspace.setResizesEnabled(!1);try{n=this.placeNewBlock_(e)}finally{t.Events.enable()}if(t.hideChaff(),e=t.Variables.getAddedVariables(this.targetWorkspace,i),t.Events.isEnabled()){for(t.Events.setGroup(!0),i=0;i<e.length;i++){var o=e[i];t.Events.fire(new(t.Events.get(t.Events.VAR_CREATE))(o))}t.Events.fire(new(t.Events.get(t.Events.BLOCK_CREATE))(n))}return this.autoClose?this.hide():this.filterForCapacity_(),n},t.Flyout.prototype.initFlyoutButton_=function(e,n,i){var o=e.createDom();e.moveTo(n,i),e.show(),this.listeners_.push(t.browserEvents.conditionalBind(o,"mousedown",this,this.onMouseDown_)),this.buttons_.push(e)},t.Flyout.prototype.createRect_=function(e,n,i,o,r){return(n=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{"fill-opacity":0,x:n,y:i,height:o.height,width:o.width},null)).tooltip=e,t.Tooltip.bindMouseEvents(n),this.workspace_.getCanvas().insertBefore(n,e.getSvgRoot()),e.flyoutRect_=n,this.mats_[r]=n},t.Flyout.prototype.moveRectToBlock_=function(t,e){var n=e.getHeightWidth();t.setAttribute("width",n.width),t.setAttribute("height",n.height),e=e.getRelativeToSurfaceXY(),t.setAttribute("y",e.y),t.setAttribute("x",this.RTL?e.x-n.width:e.x)},t.Flyout.prototype.filterForCapacity_=function(){for(var e,n=this.workspace_.getTopBlocks(!1),i=0;e=n[i];i++)if(-1==this.permanentlyDisabled_.indexOf(e))for(var o=this.targetWorkspace.isCapacityAvailable(t.utils.getBlockTypeCounts(e));e;)e.setEnabled(o),e=e.getNextBlock()},t.Flyout.prototype.reflow=function(){this.reflowWrapper_&&this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowInternal_(),this.reflowWrapper_&&this.workspace_.addChangeListener(this.reflowWrapper_)},t.Flyout.prototype.isScrollable=function(){return!!this.workspace_.scrollbar&&this.workspace_.scrollbar.isVisible()},t.Flyout.prototype.placeNewBlock_=function(e){var n=this.targetWorkspace;if(!e.getSvgRoot())throw Error("oldBlock is not rendered.");var i=t.Xml.blockToDom(e,!0);if(n.setResizesEnabled(!1),!(i=t.Xml.domToBlock(i,n)).getSvgRoot())throw Error("block is not rendered.");var o=n.getOriginOffsetInPixels(),r=this.workspace_.getOriginOffsetInPixels();return(e=e.getRelativeToSurfaceXY()).scale(this.workspace_.scale),e=t.utils.Coordinate.sum(r,e),(o=t.utils.Coordinate.difference(e,o)).scale(1/n.scale),i.moveBy(o.x,o.y),i},t.HorizontalFlyout=function(e){t.HorizontalFlyout.superClass_.constructor.call(this,e),this.horizontalLayout=!0},t.utils.object.inherits(t.HorizontalFlyout,t.Flyout),t.HorizontalFlyout.prototype.setMetrics_=function(t){if(this.isVisible()){var e=this.workspace_.getMetricsManager(),n=e.getScrollMetrics(),i=e.getViewMetrics();e=e.getAbsoluteMetrics(),"number"==typeof t.x&&(this.workspace_.scrollX=-(n.left+(n.width-i.width)*t.x)),this.workspace_.translate(this.workspace_.scrollX+e.left,this.workspace_.scrollY+e.top)}},t.HorizontalFlyout.prototype.getX=function(){return 0},t.HorizontalFlyout.prototype.getY=function(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager(),n=e.getAbsoluteMetrics(),i=e.getViewMetrics();e=e.getToolboxMetrics();var o=this.toolboxPosition_==t.utils.toolbox.Position.TOP;return this.targetWorkspace.toolboxPosition==this.toolboxPosition_?this.targetWorkspace.getToolbox()?o?e.height:i.height-this.height_:o?0:i.height:o?0:i.height+n.top-this.height_},t.HorizontalFlyout.prototype.position=function(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var t=this.targetWorkspace.getMetricsManager().getViewMetrics();this.width_=t.width,this.setBackgroundPath_(t.width-2*this.CORNER_RADIUS,this.height_-this.CORNER_RADIUS),t=this.getX();var e=this.getY();this.positionAt_(this.width_,this.height_,t,e)}},t.HorizontalFlyout.prototype.setBackgroundPath_=function(e,n){var i=this.toolboxPosition_==t.utils.toolbox.Position.TOP,o=["M 0,"+(i?0:this.CORNER_RADIUS)];i?(o.push("h",e+2*this.CORNER_RADIUS),o.push("v",n),o.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),o.push("h",-e),o.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(o.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),o.push("h",e),o.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),o.push("v",n),o.push("h",-e-2*this.CORNER_RADIUS)),o.push("z"),this.svgBackground_.setAttribute("d",o.join(" "))},t.HorizontalFlyout.prototype.scrollToStart=function(){this.workspace_.scrollbar.setX(this.RTL?1/0:0)},t.HorizontalFlyout.prototype.wheel_=function(e){var n=t.utils.getScrollDeltaPixels(e);if(n=n.x||n.y){var i=this.workspace_.getMetricsManager(),o=i.getScrollMetrics();n=i.getViewMetrics().left-o.left+n,this.workspace_.scrollbar.setX(n),t.WidgetDiv.hide(),t.DropDownDiv.hideWithoutAnimation()}e.preventDefault(),e.stopPropagation()},t.HorizontalFlyout.prototype.layout_=function(t,e){this.workspace_.scale=this.targetWorkspace.scale;var n=this.MARGIN,i=n+this.tabWidth_;this.RTL&&(t=t.reverse());for(var o,r=0;o=t[r];r++)if("block"==o.type){for(var s,a=(o=o.block).getDescendants(!1),l=0;s=a[l];l++)s.isInFlyout=!0;o.render(),a=o.getSvgRoot(),l=o.getHeightWidth(),s=o.outputConnection?this.tabWidth_:0,o.moveBy(s=this.RTL?i+l.width:i-s,n),s=this.createRect_(o,s,n,l,r),i+=l.width+e[r],this.addBlockListeners_(a,o,s)}else"button"==o.type&&(this.initFlyoutButton_(o.button,i,n),i+=o.button.width+e[r])},t.HorizontalFlyout.prototype.isDragTowardWorkspace=function(t){t=Math.atan2(t.y,t.x)/Math.PI*180;var e=this.dragAngleRange_;return t<90+e&&t>90-e||t>-90-e&&t<-90+e},t.HorizontalFlyout.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var e=this.svgGroup_.getBoundingClientRect(),n=e.top;return this.toolboxPosition_==t.utils.toolbox.Position.TOP?new t.utils.Rect(-1e9,n+e.height,-1e9,1e9):new t.utils.Rect(n,1e9,-1e9,1e9)},t.HorizontalFlyout.prototype.reflowInternal_=function(){this.workspace_.scale=this.getFlyoutScale();for(var e,n=0,i=this.workspace_.getTopBlocks(!1),o=0;e=i[o];o++)n=Math.max(n,e.getHeightWidth().height);if(n+=1.5*this.MARGIN,n*=this.workspace_.scale,this.height_!=(n+=t.Scrollbar.scrollbarThickness)){for(o=0;e=i[o];o++)e.flyoutRect_&&this.moveRectToBlock_(e.flyoutRect_,e);this.targetWorkspace.toolboxPosition!=this.toolboxPosition_||this.toolboxPosition_!=t.utils.toolbox.Position.TOP||this.targetWorkspace.getToolbox()||this.targetWorkspace.translate(this.targetWorkspace.scrollX,this.targetWorkspace.scrollY+n),this.height_=n,this.position()}},t.registry.register(t.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX,t.registry.DEFAULT,t.HorizontalFlyout),t.VerticalFlyout=function(e){t.VerticalFlyout.superClass_.constructor.call(this,e)},t.utils.object.inherits(t.VerticalFlyout,t.Flyout),t.VerticalFlyout.registryName="verticalFlyout",t.VerticalFlyout.prototype.setMetrics_=function(t){if(this.isVisible()){var e=this.workspace_.getMetricsManager(),n=e.getScrollMetrics(),i=e.getViewMetrics();e=e.getAbsoluteMetrics(),"number"==typeof t.y&&(this.workspace_.scrollY=-(n.top+(n.height-i.height)*t.y)),this.workspace_.translate(this.workspace_.scrollX+e.left,this.workspace_.scrollY+e.top)}},t.VerticalFlyout.prototype.getX=function(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager(),n=e.getAbsoluteMetrics(),i=e.getViewMetrics();return e=e.getToolboxMetrics(),this.targetWorkspace.toolboxPosition==this.toolboxPosition_?this.targetWorkspace.getToolbox()?this.toolboxPosition_==t.utils.toolbox.Position.LEFT?e.width:i.width-this.width_:this.toolboxPosition_==t.utils.toolbox.Position.LEFT?0:i.width:this.toolboxPosition_==t.utils.toolbox.Position.LEFT?0:i.width+n.left-this.width_},t.VerticalFlyout.prototype.getY=function(){return 0},t.VerticalFlyout.prototype.position=function(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var t=this.targetWorkspace.getMetricsManager().getViewMetrics();this.height_=t.height,this.setBackgroundPath_(this.width_-this.CORNER_RADIUS,t.height-2*this.CORNER_RADIUS),t=this.getX();var e=this.getY();this.positionAt_(this.width_,this.height_,t,e)}},t.VerticalFlyout.prototype.setBackgroundPath_=function(e,n){var i=this.toolboxPosition_==t.utils.toolbox.Position.RIGHT,o=e+this.CORNER_RADIUS;(o=["M "+(i?o:0)+",0"]).push("h",i?-e:e),o.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,i?0:1,i?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS),o.push("v",Math.max(0,n)),o.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,i?0:1,i?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS),o.push("h",i?e:-e),o.push("z"),this.svgBackground_.setAttribute("d",o.join(" "))},t.VerticalFlyout.prototype.scrollToStart=function(){this.workspace_.scrollbar.setY(0)},t.VerticalFlyout.prototype.wheel_=function(e){var n=t.utils.getScrollDeltaPixels(e);if(n.y){var i=this.workspace_.getMetricsManager(),o=i.getScrollMetrics();n=i.getViewMetrics().top-o.top+n.y,this.workspace_.scrollbar.setY(n),t.WidgetDiv.hide(),t.DropDownDiv.hideWithoutAnimation()}e.preventDefault(),e.stopPropagation()},t.VerticalFlyout.prototype.layout_=function(t,e){this.workspace_.scale=this.targetWorkspace.scale;for(var n,i=this.MARGIN,o=this.RTL?i:i+this.tabWidth_,r=0;n=t[r];r++)if("block"==n.type){for(var s,a=(n=n.block).getDescendants(!1),l=0;s=a[l];l++)s.isInFlyout=!0;n.render(),a=n.getSvgRoot(),l=n.getHeightWidth(),n.moveBy(s=n.outputConnection?o-this.tabWidth_:o,i),s=this.createRect_(n,this.RTL?s-l.width:s,i,l,r),this.addBlockListeners_(a,n,s),i+=l.height+e[r]}else"button"==n.type&&(this.initFlyoutButton_(n.button,o,i),i+=n.button.height+e[r])},t.VerticalFlyout.prototype.isDragTowardWorkspace=function(t){t=Math.atan2(t.y,t.x)/Math.PI*180;var e=this.dragAngleRange_;return t<e&&t>-e||t<-180+e||t>180-e},t.VerticalFlyout.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var e=this.svgGroup_.getBoundingClientRect(),n=e.left;return this.toolboxPosition_==t.utils.toolbox.Position.LEFT?new t.utils.Rect(-1e9,1e9,-1e9,n+e.width):new t.utils.Rect(-1e9,1e9,n,1e9)},t.VerticalFlyout.prototype.reflowInternal_=function(){this.workspace_.scale=this.getFlyoutScale();for(var e,n=0,i=this.workspace_.getTopBlocks(!1),o=0;e=i[o];o++){var r=e.getHeightWidth().width;e.outputConnection&&(r-=this.tabWidth_),n=Math.max(n,r)}for(o=0;e=this.buttons_[o];o++)n=Math.max(n,e.width);if(n+=1.5*this.MARGIN+this.tabWidth_,n*=this.workspace_.scale,this.width_!=(n+=t.Scrollbar.scrollbarThickness)){for(o=0;e=i[o];o++){if(this.RTL){r=e.getRelativeToSurfaceXY().x;var s=n/this.workspace_.scale-this.MARGIN;e.outputConnection||(s-=this.tabWidth_),e.moveBy(s-r,0)}e.flyoutRect_&&this.moveRectToBlock_(e.flyoutRect_,e)}if(this.RTL)for(o=0;e=this.buttons_[o];o++)i=e.getPosition().y,e.moveTo(n/this.workspace_.scale-e.width-this.MARGIN-this.tabWidth_,i);this.targetWorkspace.toolboxPosition!=this.toolboxPosition_||this.toolboxPosition_!=t.utils.toolbox.Position.LEFT||this.targetWorkspace.getToolbox()||this.targetWorkspace.translate(this.targetWorkspace.scrollX+n,this.targetWorkspace.scrollY),this.width_=n,this.position()}},t.registry.register(t.registry.Type.FLYOUTS_VERTICAL_TOOLBOX,t.registry.DEFAULT,t.VerticalFlyout),t.FlyoutButton=function(e,n,i,o){this.workspace_=e,this.targetWorkspace_=n,this.text_=i.text,this.position_=new t.utils.Coordinate(0,0),this.isLabel_=o,this.callbackKey_=i.callbackKey||i.callbackkey,this.cssClass_=i["web-class"]||null,this.onMouseUpWrapper_=null,this.info=i},t.FlyoutButton.MARGIN_X=5,t.FlyoutButton.MARGIN_Y=2,t.FlyoutButton.prototype.width=0,t.FlyoutButton.prototype.height=0,t.FlyoutButton.prototype.createDom=function(){var e=this.isLabel_?"blocklyFlyoutLabel":"blocklyFlyoutButton";if(this.cssClass_&&(e+=" "+this.cssClass_),this.svgGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:e},this.workspace_.getCanvas()),!this.isLabel_)var n=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blocklyFlyoutButtonShadow",rx:4,ry:4,x:1,y:1},this.svgGroup_);e=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:this.isLabel_?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:4,ry:4},this.svgGroup_);var i=t.utils.dom.createSvgElement(t.utils.Svg.TEXT,{class:this.isLabel_?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.svgGroup_),o=t.utils.replaceMessageReferences(this.text_);this.workspace_.RTL&&(o+="\u200f"),i.textContent=o,this.isLabel_&&(this.svgText_=i,this.workspace_.getThemeManager().subscribe(this.svgText_,"flyoutForegroundColour","fill"));var r=t.utils.style.getComputedStyle(i,"fontSize"),s=t.utils.style.getComputedStyle(i,"fontWeight"),a=t.utils.style.getComputedStyle(i,"fontFamily");return this.width=t.utils.dom.getFastTextWidthWithSizeString(i,r,s,a),o=t.utils.dom.measureFontMetrics(o,r,s,a),this.height=o.height,this.isLabel_||(this.width+=2*t.FlyoutButton.MARGIN_X,this.height+=2*t.FlyoutButton.MARGIN_Y,n.setAttribute("width",this.width),n.setAttribute("height",this.height)),e.setAttribute("width",this.width),e.setAttribute("height",this.height),i.setAttribute("x",this.width/2),i.setAttribute("y",this.height/2-o.height/2+o.baseline),this.updateTransform_(),this.onMouseUpWrapper_=t.browserEvents.conditionalBind(this.svgGroup_,"mouseup",this,this.onMouseUp_),this.svgGroup_},t.FlyoutButton.prototype.show=function(){this.updateTransform_(),this.svgGroup_.setAttribute("display","block")},t.FlyoutButton.prototype.updateTransform_=function(){this.svgGroup_.setAttribute("transform","translate("+this.position_.x+","+this.position_.y+")")},t.FlyoutButton.prototype.moveTo=function(t,e){this.position_.x=t,this.position_.y=e,this.updateTransform_()},t.FlyoutButton.prototype.isLabel=function(){return this.isLabel_},t.FlyoutButton.prototype.getPosition=function(){return this.position_},t.FlyoutButton.prototype.getButtonText=function(){return this.text_},t.FlyoutButton.prototype.getTargetWorkspace=function(){return this.targetWorkspace_},t.FlyoutButton.prototype.dispose=function(){this.onMouseUpWrapper_&&t.browserEvents.unbind(this.onMouseUpWrapper_),this.svgGroup_&&t.utils.dom.removeNode(this.svgGroup_),this.svgText_&&this.workspace_.getThemeManager().unsubscribe(this.svgText_)},t.FlyoutButton.prototype.onMouseUp_=function(t){(t=this.targetWorkspace_.getGesture(t))&&t.cancel(),this.isLabel_&&this.callbackKey_?console.warn("Labels should not have callbacks. Label text: "+this.text_):this.isLabel_||this.callbackKey_&&this.targetWorkspace_.getButtonCallback(this.callbackKey_)?this.isLabel_||this.targetWorkspace_.getButtonCallback(this.callbackKey_)(this):console.warn("Buttons should have callbacks. Button text: "+this.text_)},t.Css.register(".blocklyFlyoutButton {,fill: #888;,cursor: default;,},.blocklyFlyoutButtonShadow {,fill: #666;,},.blocklyFlyoutButton:hover {,fill: #aaa;,},.blocklyFlyoutLabel {,cursor: default;,},.blocklyFlyoutLabelBackground {,opacity: 0;,}".split(",")),t.Generator=function(t){this.name_=t,this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,"g")},t.Generator.NAME_TYPE="generated_function",t.Generator.prototype.INFINITE_LOOP_TRAP=null,t.Generator.prototype.STATEMENT_PREFIX=null,t.Generator.prototype.STATEMENT_SUFFIX=null,t.Generator.prototype.INDENT="  ",t.Generator.prototype.COMMENT_WRAP=60,t.Generator.prototype.ORDER_OVERRIDES=[],t.Generator.prototype.isInitialized=null,t.Generator.prototype.workspaceToCode=function(e){e||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),e=t.getMainWorkspace());var n=[];this.init(e),e=e.getTopBlocks(!0);for(var i,o=0;i=e[o];o++){var r=this.blockToCode(i);Array.isArray(r)&&(r=r[0]),r&&(i.outputConnection&&(r=this.scrubNakedValue(r),this.STATEMENT_PREFIX&&!i.suppressPrefixSuffix&&(r=this.injectId(this.STATEMENT_PREFIX,i)+r),this.STATEMENT_SUFFIX&&!i.suppressPrefixSuffix&&(r+=this.injectId(this.STATEMENT_SUFFIX,i))),n.push(r))}return n=n.join("\n"),(n=(n=(n=this.finish(n)).replace(/^\s+\n/,"")).replace(/\n\s+$/,"\n")).replace(/[ \t]+\n/g,"\n")},t.Generator.prototype.prefixLines=function(t,e){return e+t.replace(/(?!\n$)\n/g,"\n"+e)},t.Generator.prototype.allNestedComments=function(t){var e=[];t=t.getDescendants(!0);for(var n=0;n<t.length;n++){var i=t[n].getCommentText();i&&e.push(i)}return e.length&&e.push(""),e.join("\n")},t.Generator.prototype.blockToCode=function(t,e){if(!1===this.isInitialized&&console.warn("Generator init was not called before blockToCode was called."),!t)return"";if(!t.isEnabled())return e?"":this.blockToCode(t.getNextBlock());if(t.isInsertionMarker())return e?"":this.blockToCode(t.getChildren(!1)[0]);var n=this[t.type];if("function"!=typeof n)throw Error('Language "'+this.name_+'" does not know how to generate  code for block type "'+t.type+'".');if(n=n.call(t,t),Array.isArray(n)){if(!t.outputConnection)throw TypeError("Expecting string from statement block: "+t.type);return[this.scrub_(t,n[0],e),n[1]]}if("string"==typeof n)return this.STATEMENT_PREFIX&&!t.suppressPrefixSuffix&&(n=this.injectId(this.STATEMENT_PREFIX,t)+n),this.STATEMENT_SUFFIX&&!t.suppressPrefixSuffix&&(n+=this.injectId(this.STATEMENT_SUFFIX,t)),this.scrub_(t,n,e);if(null===n)return"";throw SyntaxError("Invalid code generated: "+n)},t.Generator.prototype.valueToCode=function(t,e,n){if(isNaN(n))throw TypeError("Expecting valid order from block: "+t.type);var i=t.getInputTargetBlock(e);if(!i)return"";if(""===(e=this.blockToCode(i)))return"";if(!Array.isArray(e))throw TypeError("Expecting tuple from value block: "+i.type);if(t=e[0],e=e[1],isNaN(e))throw TypeError("Expecting valid order from value block: "+i.type);if(!t)return"";i=!1;var o=Math.floor(n),r=Math.floor(e);if(o<=r&&(o!=r||0!=o&&99!=o))for(i=!0,o=0;o<this.ORDER_OVERRIDES.length;o++)if(this.ORDER_OVERRIDES[o][0]==n&&this.ORDER_OVERRIDES[o][1]==e){i=!1;break}return i&&(t="("+t+")"),t},t.Generator.prototype.statementToCode=function(t,e){if(t=t.getInputTargetBlock(e),"string"!=typeof(e=this.blockToCode(t)))throw TypeError("Expecting code from statement block: "+(t&&t.type));return e&&(e=this.prefixLines(e,this.INDENT)),e},t.Generator.prototype.addLoopTrap=function(t,e){return this.INFINITE_LOOP_TRAP&&(t=this.prefixLines(this.injectId(this.INFINITE_LOOP_TRAP,e),this.INDENT)+t),this.STATEMENT_SUFFIX&&!e.suppressPrefixSuffix&&(t=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,e),this.INDENT)+t),this.STATEMENT_PREFIX&&!e.suppressPrefixSuffix&&(t+=this.prefixLines(this.injectId(this.STATEMENT_PREFIX,e),this.INDENT)),t},t.Generator.prototype.injectId=function(t,e){return e=e.id.replace(/\$/g,"$$$$"),t.replace(/%1/g,"'"+e+"'")},t.Generator.prototype.RESERVED_WORDS_="",t.Generator.prototype.addReservedWords=function(t){this.RESERVED_WORDS_+=t+","},t.Generator.prototype.FUNCTION_NAME_PLACEHOLDER_="{leCUI8hutHZI4480Dc}",t.Generator.prototype.provideFunction_=function(e,n){if(!this.definitions_[e]){var i,o=this.variableDB_.getDistinctName(e,t.PROCEDURE_CATEGORY_NAME);for(this.functionNames_[e]=o,n=n.join("\n").replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,o);i!=n;)i=n,n=n.replace(/^(( {2})*) {2}/gm,"$1\0");n=n.replace(/\0/g,this.INDENT),this.definitions_[e]=n}return this.functionNames_[e]},t.Generator.prototype.init=function(t){},t.Generator.prototype.scrub_=function(t,e,n){return e},t.Generator.prototype.finish=function(t){return t},t.Generator.prototype.scrubNakedValue=function(t){return t},t.ToolboxItem=function(e,n,i){this.id_=e.toolboxitemid||t.utils.IdGenerator.getNextUniqueId(),this.level_=(this.parent_=i||null)?this.parent_.getLevel()+1:0,this.toolboxItemDef_=e,this.parentToolbox_=n,this.workspace_=this.parentToolbox_.getWorkspace()},t.ToolboxItem.prototype.init=function(){},t.ToolboxItem.prototype.getDiv=function(){return null},t.ToolboxItem.prototype.getId=function(){return this.id_},t.ToolboxItem.prototype.getParent=function(){return null},t.ToolboxItem.prototype.getLevel=function(){return this.level_},t.ToolboxItem.prototype.isSelectable=function(){return!1},t.ToolboxItem.prototype.isCollapsible=function(){return!1},t.ToolboxItem.prototype.dispose=function(){},t.ToolboxCategory=function(e,n,i){t.ToolboxCategory.superClass_.constructor.call(this,e,n,i),this.name_=t.utils.replaceMessageReferences(e.name),this.colour_=this.getColour_(e),this.labelDom_=this.iconDom_=this.rowContents_=this.rowDiv_=this.htmlDiv_=null,this.cssConfig_=this.makeDefaultCssConfig_(),t.utils.object.mixin(this.cssConfig_,e.cssconfig||e.cssConfig),this.isDisabled_=this.isHidden_=!1,this.flyoutItems_=[],this.parseContents_(e)},t.utils.object.inherits(t.ToolboxCategory,t.ToolboxItem),t.ToolboxCategory.registrationName="category",t.ToolboxCategory.nestedPadding=19,t.ToolboxCategory.borderWidth=8,t.ToolboxCategory.defaultBackgroundColour="#57e",t.ToolboxCategory.prototype.makeDefaultCssConfig_=function(){return{container:"blocklyToolboxCategory",row:"blocklyTreeRow",rowcontentcontainer:"blocklyTreeRowContentContainer",icon:"blocklyTreeIcon",label:"blocklyTreeLabel",contents:"blocklyToolboxContents",selected:"blocklyTreeSelected",openicon:"blocklyTreeIconOpen",closedicon:"blocklyTreeIconClosed"}},t.ToolboxCategory.prototype.parseContents_=function(t){var e=t.contents;if(t.custom)this.flyoutItems_=t.custom;else if(e){t=0;for(var n;n=e[t];t++)this.flyoutItems_.push(n)}},t.ToolboxCategory.prototype.init=function(){this.createDom_(),"true"==this.toolboxItemDef_.hidden&&this.hide()},t.ToolboxCategory.prototype.createDom_=function(){return this.htmlDiv_=this.createContainer_(),t.utils.aria.setRole(this.htmlDiv_,t.utils.aria.Role.TREEITEM),t.utils.aria.setState(this.htmlDiv_,t.utils.aria.State.SELECTED,!1),t.utils.aria.setState(this.htmlDiv_,t.utils.aria.State.LEVEL,this.level_),this.rowDiv_=this.createRowContainer_(),this.rowDiv_.style.pointerEvents="auto",this.htmlDiv_.appendChild(this.rowDiv_),this.rowContents_=this.createRowContentsContainer_(),this.rowContents_.style.pointerEvents="none",this.rowDiv_.appendChild(this.rowContents_),this.iconDom_=this.createIconDom_(),t.utils.aria.setRole(this.iconDom_,t.utils.aria.Role.PRESENTATION),this.rowContents_.appendChild(this.iconDom_),this.labelDom_=this.createLabelDom_(this.name_),this.rowContents_.appendChild(this.labelDom_),t.utils.aria.setState(this.htmlDiv_,t.utils.aria.State.LABELLEDBY,this.labelDom_.getAttribute("id")),this.addColourBorder_(this.colour_),this.htmlDiv_},t.ToolboxCategory.prototype.createContainer_=function(){var e=document.createElement("div");return t.utils.dom.addClass(e,this.cssConfig_.container),e},t.ToolboxCategory.prototype.createRowContainer_=function(){var e=document.createElement("div");t.utils.dom.addClass(e,this.cssConfig_.row);var n=t.ToolboxCategory.nestedPadding*this.getLevel();return n=n.toString()+"px",this.workspace_.RTL?e.style.paddingRight=n:e.style.paddingLeft=n,e},t.ToolboxCategory.prototype.createRowContentsContainer_=function(){var e=document.createElement("div");return t.utils.dom.addClass(e,this.cssConfig_.rowcontentcontainer),e},t.ToolboxCategory.prototype.createIconDom_=function(){var e=document.createElement("span");return this.parentToolbox_.isHorizontal()||t.utils.dom.addClass(e,this.cssConfig_.icon),e.style.display="inline-block",e},t.ToolboxCategory.prototype.createLabelDom_=function(e){var n=document.createElement("span");return n.setAttribute("id",this.getId()+".label"),n.textContent=e,t.utils.dom.addClass(n,this.cssConfig_.label),n},t.ToolboxCategory.prototype.refreshTheme=function(){this.colour_=this.getColour_(this.toolboxItemDef_),this.addColourBorder_(this.colour_)},t.ToolboxCategory.prototype.addColourBorder_=function(e){e&&(e=t.ToolboxCategory.borderWidth+"px solid "+(e||"#ddd"),this.workspace_.RTL?this.rowDiv_.style.borderRight=e:this.rowDiv_.style.borderLeft=e)},t.ToolboxCategory.prototype.getColour_=function(t){var e=t.categorystyle||t.categoryStyle;return(t=t.colour)&&e?(console.warn('Toolbox category "'+this.name_+'" must not have both a style and a colour'),""):e?this.getColourfromStyle_(e):this.parseColour_(t)},t.ToolboxCategory.prototype.getColourfromStyle_=function(t){var e=this.workspace_.getTheme();if(t&&e){if((e=e.categoryStyles[t])&&e.colour)return this.parseColour_(e.colour);console.warn('Style "'+t+'" must exist and contain a colour value')}return""},t.ToolboxCategory.prototype.getClickTarget=function(){return this.rowDiv_},t.ToolboxCategory.prototype.parseColour_=function(e){if(null==(e=t.utils.replaceMessageReferences(e))||""===e)return"";var n=Number(e);return isNaN(n)?(n=t.utils.colour.parse(e))?n:(console.warn('Toolbox category "'+this.name_+'" has unrecognized colour attribute: '+e),""):t.hueToHex(n)},t.ToolboxCategory.prototype.openIcon_=function(e){e&&(t.utils.dom.removeClasses(e,this.cssConfig_.closedicon),t.utils.dom.addClass(e,this.cssConfig_.openicon))},t.ToolboxCategory.prototype.closeIcon_=function(e){e&&(t.utils.dom.removeClasses(e,this.cssConfig_.openicon),t.utils.dom.addClass(e,this.cssConfig_.closedicon))},t.ToolboxCategory.prototype.setVisible_=function(t){this.htmlDiv_.style.display=t?"block":"none",this.isHidden_=!t,this.parentToolbox_.getSelectedItem()==this&&this.parentToolbox_.clearSelection()},t.ToolboxCategory.prototype.hide=function(){this.setVisible_(!1)},t.ToolboxCategory.prototype.show=function(){this.setVisible_(!0)},t.ToolboxCategory.prototype.isVisible=function(){return!this.isHidden_&&this.allAncestorsExpanded_()},t.ToolboxCategory.prototype.allAncestorsExpanded_=function(){for(var t=this;t.getParent();)if(!(t=t.getParent()).isExpanded())return!1;return!0},t.ToolboxCategory.prototype.isSelectable=function(){return this.isVisible()&&!this.isDisabled_},t.ToolboxCategory.prototype.onClick=function(t){},t.ToolboxCategory.prototype.setSelected=function(e){if(e){var n=this.parseColour_(t.ToolboxCategory.defaultBackgroundColour);this.rowDiv_.style.backgroundColor=this.colour_||n,t.utils.dom.addClass(this.rowDiv_,this.cssConfig_.selected)}else this.rowDiv_.style.backgroundColor="",t.utils.dom.removeClass(this.rowDiv_,this.cssConfig_.selected);t.utils.aria.setState(this.htmlDiv_,t.utils.aria.State.SELECTED,e)},t.ToolboxCategory.prototype.setDisabled=function(t){this.isDisabled_=t,this.getDiv().setAttribute("disabled",t),t?this.getDiv().setAttribute("disabled","true"):this.getDiv().removeAttribute("disabled")},t.ToolboxCategory.prototype.getName=function(){return this.name_},t.ToolboxCategory.prototype.getParent=function(){return this.parent_},t.ToolboxCategory.prototype.getDiv=function(){return this.htmlDiv_},t.ToolboxCategory.prototype.getContents=function(){return this.flyoutItems_},t.ToolboxCategory.prototype.updateFlyoutContents=function(e){this.flyoutItems_=[],"string"==typeof e?this.toolboxItemDef_.custom=e:(delete this.toolboxItemDef_.custom,this.toolboxItemDef_.contents=t.utils.toolbox.convertFlyoutDefToJsonArray(e)),this.parseContents_(this.toolboxItemDef_)},t.ToolboxCategory.prototype.dispose=function(){t.utils.dom.removeNode(this.htmlDiv_)},t.Css.register([".blocklyTreeRow:not(.blocklyTreeSelected):hover {","background-color: rgba(255, 255, 255, 0.2);","}",'.blocklyToolboxDiv[layout="h"] .blocklyToolboxCategory {',"margin: 1px 5px 1px 0;","}",'.blocklyToolboxDiv[dir="RTL"][layout="h"] .blocklyToolboxCategory {',"margin: 1px 0 1px 5px;","}",".blocklyTreeRow {","height: 22px;","line-height: 22px;","margin-bottom: 3px;","padding-right: 8px;","white-space: nowrap;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {',"margin-left: 8px;","padding-right: 0px","}",".blocklyTreeIcon {","background-image: url(<<<PATH>>>/sprites.png);","height: 16px;","vertical-align: middle;","visibility: hidden;","width: 16px;","}",".blocklyTreeIconClosed {","background-position: -32px -1px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeIconClosed {',"background-position: 0 -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosed {","background-position: -32px -17px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeSelected>.blocklyTreeIconClosed {',"background-position: 0 -17px;","}",".blocklyTreeIconOpen {","background-position: -16px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconOpen {","background-position: -16px -17px;","}",".blocklyTreeLabel {","cursor: default;","font: 16px sans-serif;","padding: 0 3px;","vertical-align: middle;","}",".blocklyToolboxDelete .blocklyTreeLabel {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyTreeSelected .blocklyTreeLabel {","color: #fff;","}"]),t.registry.register(t.registry.Type.TOOLBOX_ITEM,t.ToolboxCategory.registrationName,t.ToolboxCategory),t.ToolboxSeparator=function(e,n){t.ToolboxSeparator.superClass_.constructor.call(this,e,n),this.cssConfig_={container:"blocklyTreeSeparator"},t.utils.object.mixin(this.cssConfig_,e.cssconfig||e.cssConfig)},t.utils.object.inherits(t.ToolboxSeparator,t.ToolboxItem),t.ToolboxSeparator.registrationName="sep",t.ToolboxSeparator.prototype.init=function(){this.createDom_()},t.ToolboxSeparator.prototype.createDom_=function(){var e=document.createElement("div");return t.utils.dom.addClass(e,this.cssConfig_.container),this.htmlDiv_=e},t.ToolboxSeparator.prototype.getDiv=function(){return this.htmlDiv_},t.ToolboxSeparator.prototype.dispose=function(){t.utils.dom.removeNode(this.htmlDiv_)},t.Css.register('.blocklyTreeSeparator {,border-bottom: solid #e5e5e5 1px;,height: 0;,margin: 5px 0;,},.blocklyToolboxDiv[layout="h"] .blocklyTreeSeparator {,border-right: solid #e5e5e5 1px;,border-bottom: none;,height: auto;,margin: 0 5px 0 5px;,padding: 5px 0;,width: 0;,}'.split(",")),t.registry.register(t.registry.Type.TOOLBOX_ITEM,t.ToolboxSeparator.registrationName,t.ToolboxSeparator),t.CollapsibleToolboxCategory=function(e,n,i){this.subcategoriesDiv_=null,this.expanded_=!1,this.toolboxItems_=[],t.CollapsibleToolboxCategory.superClass_.constructor.call(this,e,n,i)},t.utils.object.inherits(t.CollapsibleToolboxCategory,t.ToolboxCategory),t.CollapsibleToolboxCategory.registrationName="collapsibleCategory",t.CollapsibleToolboxCategory.prototype.makeDefaultCssConfig_=function(){var e=t.CollapsibleToolboxCategory.superClass_.makeDefaultCssConfig_.call(this);return e.contents="blocklyToolboxContents",e},t.CollapsibleToolboxCategory.prototype.parseContents_=function(e){var n=e.contents,i=!0;if(e.custom)this.flyoutItems_=e.custom;else if(n){e=0;for(var o;o=n[e];e++)!t.registry.hasItem(t.registry.Type.TOOLBOX_ITEM,o.kind)||o.kind.toLowerCase()==t.ToolboxSeparator.registrationName&&i?(this.flyoutItems_.push(o),i=!0):(this.createToolboxItem_(o),i=!1)}},t.CollapsibleToolboxCategory.prototype.createToolboxItem_=function(e){var n=e.kind;"CATEGORY"==n.toUpperCase()&&t.utils.toolbox.isCategoryCollapsible(e)&&(n=t.CollapsibleToolboxCategory.registrationName),e=new(t.registry.getClass(t.registry.Type.TOOLBOX_ITEM,n))(e,this.parentToolbox_,this),this.toolboxItems_.push(e)},t.CollapsibleToolboxCategory.prototype.init=function(){t.CollapsibleToolboxCategory.superClass_.init.call(this),this.setExpanded("true"==this.toolboxItemDef_.expanded||this.toolboxItemDef_.expanded)},t.CollapsibleToolboxCategory.prototype.createDom_=function(){t.CollapsibleToolboxCategory.superClass_.createDom_.call(this);var e=this.getChildToolboxItems();return this.subcategoriesDiv_=this.createSubCategoriesDom_(e),t.utils.aria.setRole(this.subcategoriesDiv_,t.utils.aria.Role.GROUP),this.htmlDiv_.appendChild(this.subcategoriesDiv_),this.htmlDiv_},t.CollapsibleToolboxCategory.prototype.createIconDom_=function(){var e=document.createElement("span");return this.parentToolbox_.isHorizontal()||(t.utils.dom.addClass(e,this.cssConfig_.icon),e.style.visibility="visible"),e.style.display="inline-block",e},t.CollapsibleToolboxCategory.prototype.createSubCategoriesDom_=function(e){var n=document.createElement("div");t.utils.dom.addClass(n,this.cssConfig_.contents);for(var i=0;i<e.length;i++){var o=e[i];o.init();var r=o.getDiv();n.appendChild(r),o.getClickTarget&&o.getClickTarget().setAttribute("id",o.getId())}return n},t.CollapsibleToolboxCategory.prototype.setExpanded=function(e){this.expanded_!=e&&((this.expanded_=e)?(this.subcategoriesDiv_.style.display="block",this.openIcon_(this.iconDom_)):(this.subcategoriesDiv_.style.display="none",this.closeIcon_(this.iconDom_)),t.utils.aria.setState(this.htmlDiv_,t.utils.aria.State.EXPANDED,e),this.parentToolbox_.handleToolboxItemResize())},t.CollapsibleToolboxCategory.prototype.setVisible_=function(t){this.htmlDiv_.style.display=t?"block":"none";for(var e,n=0;e=this.getChildToolboxItems()[n];n++)e.setVisible_(t);this.isHidden_=!t,this.parentToolbox_.getSelectedItem()==this&&this.parentToolbox_.clearSelection()},t.CollapsibleToolboxCategory.prototype.isExpanded=function(){return this.expanded_},t.CollapsibleToolboxCategory.prototype.isCollapsible=function(){return!0},t.CollapsibleToolboxCategory.prototype.onClick=function(t){this.toggleExpanded()},t.CollapsibleToolboxCategory.prototype.toggleExpanded=function(){this.setExpanded(!this.expanded_)},t.CollapsibleToolboxCategory.prototype.getDiv=function(){return this.htmlDiv_},t.CollapsibleToolboxCategory.prototype.getChildToolboxItems=function(){return this.toolboxItems_},t.registry.register(t.registry.Type.TOOLBOX_ITEM,t.CollapsibleToolboxCategory.registrationName,t.CollapsibleToolboxCategory),t.Events.ToolboxItemSelect=function(e,n,i){t.Events.ToolboxItemSelect.superClass_.constructor.call(this,i),this.oldItem=e,this.newItem=n},t.utils.object.inherits(t.Events.ToolboxItemSelect,t.Events.UiBase),t.Events.ToolboxItemSelect.prototype.type=t.Events.TOOLBOX_ITEM_SELECT,t.Events.ToolboxItemSelect.prototype.toJson=function(){var e=t.Events.ToolboxItemSelect.superClass_.toJson.call(this);return e.oldItem=this.oldItem,e.newItem=this.newItem,e},t.Events.ToolboxItemSelect.prototype.fromJson=function(e){t.Events.ToolboxItemSelect.superClass_.fromJson.call(this,e),this.oldItem=e.oldItem,this.newItem=e.newItem},t.registry.register(t.registry.Type.EVENT,t.Events.TOOLBOX_ITEM_SELECT,t.Events.ToolboxItemSelect),t.Toolbox=function(t){this.workspace_=t,this.toolboxDef_=t.options.languageTree||{contents:[]},this.horizontalLayout_=t.options.horizontalLayout,this.contentsDiv_=this.HtmlDiv=null,this.contents_=[],this.height_=this.width_=0,this.RTL=t.options.RTL,this.flyout_=null,this.contentMap_={},this.toolboxPosition=t.options.toolboxPosition,this.previouslySelectedItem_=this.selectedItem_=null,this.boundEvents_=[]},t.Toolbox.prototype.onShortcut=function(t){return!1},t.Toolbox.prototype.init=function(){var e=this.workspace_,n=e.getParentSvg();this.flyout_=this.createFlyout_(),this.HtmlDiv=this.createDom_(this.workspace_),t.utils.dom.insertAfter(this.flyout_.createDom("svg"),n),this.flyout_.init(e),this.render(this.toolboxDef_),(e=e.getThemeManager()).subscribe(this.HtmlDiv,"toolboxBackgroundColour","background-color"),e.subscribe(this.HtmlDiv,"toolboxForegroundColour","color")},t.Toolbox.prototype.createDom_=function(e){e=e.getParentSvg();var n=this.createContainer_();return this.contentsDiv_=this.createContentsContainer_(),this.contentsDiv_.tabIndex=0,t.utils.aria.setRole(this.contentsDiv_,t.utils.aria.Role.TREE),n.appendChild(this.contentsDiv_),e.parentNode.insertBefore(n,e),this.attachEvents_(n,this.contentsDiv_),n},t.Toolbox.prototype.createContainer_=function(){var e=document.createElement("div");return e.setAttribute("layout",this.isHorizontal()?"h":"v"),t.utils.dom.addClass(e,"blocklyToolboxDiv"),t.utils.dom.addClass(e,"blocklyNonSelectable"),e.setAttribute("dir",this.RTL?"RTL":"LTR"),e},t.Toolbox.prototype.createContentsContainer_=function(){var e=document.createElement("div");return t.utils.dom.addClass(e,"blocklyToolboxContents"),this.isHorizontal()&&(e.style.flexDirection="row"),e},t.Toolbox.prototype.attachEvents_=function(e,n){e=t.browserEvents.conditionalBind(e,"click",this,this.onClick_,!1,!0),this.boundEvents_.push(e),n=t.browserEvents.conditionalBind(n,"keydown",this,this.onKeyDown_,!1,!0),this.boundEvents_.push(n)},t.Toolbox.prototype.onClick_=function(e){if(t.utils.isRightButton(e)||e.target==this.HtmlDiv)t.hideChaff(!1);else{var n=e.target.getAttribute("id");n&&(n=this.getToolboxItemById(n)).isSelectable()&&(this.setSelectedItem(n),n.onClick(e)),t.hideChaff(!0)}t.Touch.clearTouchIdentifier()},t.Toolbox.prototype.onKeyDown_=function(e){var n=!1;switch(e.keyCode){case t.utils.KeyCodes.DOWN:n=this.selectNext_();break;case t.utils.KeyCodes.UP:n=this.selectPrevious_();break;case t.utils.KeyCodes.LEFT:n=this.selectParent_();break;case t.utils.KeyCodes.RIGHT:n=this.selectChild_();break;case t.utils.KeyCodes.ENTER:case t.utils.KeyCodes.SPACE:this.selectedItem_&&this.selectedItem_.isCollapsible()&&(this.selectedItem_.toggleExpanded(),n=!0);break;default:n=!1}!n&&this.selectedItem_&&this.selectedItem_.onKeyDown&&(n=this.selectedItem_.onKeyDown(e)),n&&e.preventDefault()},t.Toolbox.prototype.createFlyout_=function(){var e=this.workspace_,n=new t.Options({parentWorkspace:e,rtl:e.RTL,oneBasedIndex:e.options.oneBasedIndex,horizontalLayout:e.horizontalLayout,renderer:e.options.renderer,rendererOverrides:e.options.rendererOverrides,move:{scrollbars:!0}});return n.toolboxPosition=e.options.toolboxPosition,new(t.registry.getClassFromOptions(e.horizontalLayout?t.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX:t.registry.Type.FLYOUTS_VERTICAL_TOOLBOX,e.options,!0))(n)},t.Toolbox.prototype.render=function(t){this.toolboxDef_=t;for(var e=0;e<this.contents_.length;e++){var n=this.contents_[e];n&&n.dispose()}this.contents_=[],this.contentMap_={},this.renderContents_(t.contents),this.position()},t.Toolbox.prototype.renderContents_=function(t){for(var e,n=document.createDocumentFragment(),i=0;e=t[i];i++)this.createToolboxItem_(e,n);this.contentsDiv_.appendChild(n)},t.Toolbox.prototype.createToolboxItem_=function(e,n){var i=e.kind;"CATEGORY"==i.toUpperCase()&&t.utils.toolbox.isCategoryCollapsible(e)&&(i=t.CollapsibleToolboxCategory.registrationName),(i=t.registry.getClass(t.registry.Type.TOOLBOX_ITEM,i.toLowerCase()))&&(e=new i(e,this),this.addToolboxItem_(e),e.init(),(i=e.getDiv())&&n.appendChild(i),e.getClickTarget&&e.getClickTarget().setAttribute("id",e.getId()))},t.Toolbox.prototype.addToolboxItem_=function(t){if(this.contents_.push(t),this.contentMap_[t.getId()]=t,t.isCollapsible())for(var e,n=0;e=t.getChildToolboxItems()[n];n++)this.addToolboxItem_(e)},t.Toolbox.prototype.getToolboxItems=function(){return this.contents_},t.Toolbox.prototype.addStyle=function(e){t.utils.dom.addClass(this.HtmlDiv,e)},t.Toolbox.prototype.removeStyle=function(e){t.utils.dom.removeClass(this.HtmlDiv,e)},t.Toolbox.prototype.getClientRect=function(){if(!this.HtmlDiv)return null;var e=this.HtmlDiv.getBoundingClientRect(),n=e.top,i=n+e.height,o=e.left;return e=o+e.width,this.toolboxPosition==t.utils.toolbox.Position.TOP?new t.utils.Rect(-1e7,i,-1e7,1e7):this.toolboxPosition==t.utils.toolbox.Position.BOTTOM?new t.utils.Rect(n,1e7,-1e7,1e7):this.toolboxPosition==t.utils.toolbox.Position.LEFT?new t.utils.Rect(-1e7,1e7,-1e7,e):new t.utils.Rect(-1e7,1e7,o,1e7)},t.Toolbox.prototype.getToolboxItemById=function(t){return this.contentMap_[t]},t.Toolbox.prototype.getWidth=function(){return this.width_},t.Toolbox.prototype.getHeight=function(){return this.height_},t.Toolbox.prototype.getFlyout=function(){return this.flyout_},t.Toolbox.prototype.getWorkspace=function(){return this.workspace_},t.Toolbox.prototype.getSelectedItem=function(){return this.selectedItem_},t.Toolbox.prototype.getPreviouslySelectedItem=function(){return this.previouslySelectedItem_},t.Toolbox.prototype.isHorizontal=function(){return this.horizontalLayout_},t.Toolbox.prototype.position=function(){var e=this.workspace_.getMetrics(),n=this.HtmlDiv;n&&(this.horizontalLayout_?(n.style.left="0",n.style.height="auto",n.style.width="100%",this.height_=n.offsetHeight,this.width_=e.viewWidth,this.toolboxPosition==t.utils.toolbox.Position.TOP?n.style.top="0":n.style.bottom="0"):(this.toolboxPosition==t.utils.toolbox.Position.RIGHT?n.style.right="0":n.style.left="0",n.style.height="100%",this.width_=n.offsetWidth,this.height_=e.viewHeight),this.flyout_.position())},t.Toolbox.prototype.handleToolboxItemResize=function(){var e=this.workspace_,n=this.HtmlDiv.getBoundingClientRect();e.translate(this.toolboxPosition==t.utils.toolbox.Position.LEFT?e.scrollX+n.width:e.scrollX,this.toolboxPosition==t.utils.toolbox.Position.TOP?e.scrollY+n.height:e.scrollY),t.svgResize(e)},t.Toolbox.prototype.clearSelection=function(){this.setSelectedItem(null)},t.Toolbox.prototype.refreshTheme=function(){for(var t=0;t<this.contents_.length;t++){var e=this.contents_[t];e.refreshTheme&&e.refreshTheme()}},t.Toolbox.prototype.refreshSelection=function(){this.selectedItem_&&this.selectedItem_.isSelectable()&&this.selectedItem_.getContents().length&&this.flyout_.show(this.selectedItem_.getContents())},t.Toolbox.prototype.setVisible=function(t){this.HtmlDiv.style.display=t?"block":"none"},t.Toolbox.prototype.setSelectedItem=function(t){var e=this.selectedItem_;!t&&!e||t&&!t.isSelectable()||(this.shouldDeselectItem_(e,t)&&null!=e&&this.deselectItem_(e),this.shouldSelectItem_(e,t)&&null!=t&&this.selectItem_(e,t),this.updateFlyout_(e,t),this.fireSelectEvent_(e,t))},t.Toolbox.prototype.shouldDeselectItem_=function(t,e){return null!=t&&(!t.isCollapsible()||t!=e)},t.Toolbox.prototype.shouldSelectItem_=function(t,e){return null!=e&&e!=t},t.Toolbox.prototype.deselectItem_=function(e){this.selectedItem_=null,this.previouslySelectedItem_=e,e.setSelected(!1),t.utils.aria.setState(this.contentsDiv_,t.utils.aria.State.ACTIVEDESCENDANT,"")},t.Toolbox.prototype.selectItem_=function(e,n){this.selectedItem_=n,this.previouslySelectedItem_=e,n.setSelected(!0),t.utils.aria.setState(this.contentsDiv_,t.utils.aria.State.ACTIVEDESCENDANT,n.getId())},t.Toolbox.prototype.selectItemByPosition=function(t){-1<t&&t<this.contents_.length&&(t=this.contents_[t]).isSelectable()&&this.setSelectedItem(t)},t.Toolbox.prototype.updateFlyout_=function(t,e){(t!=e||e.isCollapsible())&&e&&e.getContents().length?(this.flyout_.show(e.getContents()),this.flyout_.scrollToStart()):this.flyout_.hide()},t.Toolbox.prototype.fireSelectEvent_=function(e,n){var i=e&&e.getName(),o=n&&n.getName();e==n&&(o=null),e=new(t.Events.get(t.Events.TOOLBOX_ITEM_SELECT))(i,o,this.workspace_.id),t.Events.fire(e)},t.Toolbox.prototype.selectParent_=function(){return!(!this.selectedItem_||(this.selectedItem_.isCollapsible()&&this.selectedItem_.isExpanded()?(this.selectedItem_.setExpanded(!1),0):!this.selectedItem_.getParent()||!this.selectedItem_.getParent().isSelectable()||(this.setSelectedItem(this.selectedItem_.getParent()),0)))},t.Toolbox.prototype.selectChild_=function(){if(!this.selectedItem_||!this.selectedItem_.isCollapsible())return!1;var t=this.selectedItem_;return t.isExpanded()?this.selectNext_():t.setExpanded(!0),!0},t.Toolbox.prototype.selectNext_=function(){if(!this.selectedItem_)return!1;var t=this.contents_.indexOf(this.selectedItem_)+1;if(-1<t&&t<this.contents_.length){for(var e=this.contents_[t];e&&!e.isSelectable();)e=this.contents_[++t];if(e&&e.isSelectable())return this.setSelectedItem(e),!0}return!1},t.Toolbox.prototype.selectPrevious_=function(){if(!this.selectedItem_)return!1;var t=this.contents_.indexOf(this.selectedItem_)-1;if(-1<t&&t<this.contents_.length){for(var e=this.contents_[t];e&&!e.isSelectable();)e=this.contents_[--t];if(e&&e.isSelectable())return this.setSelectedItem(e),!0}return!1},t.Toolbox.prototype.dispose=function(){this.flyout_.dispose();for(var e=0;e<this.contents_.length;e++)this.contents_[e].dispose();for(e=0;e<this.boundEvents_.length;e++)t.browserEvents.unbind(this.boundEvents_[e]);this.boundEvents_=[],this.contents_=[],this.workspace_.getThemeManager().unsubscribe(this.HtmlDiv),t.utils.dom.removeNode(this.HtmlDiv)},t.Css.register([".blocklyToolboxDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxGrab {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyToolboxDiv {","background-color: #ddd;","overflow-x: visible;","overflow-y: auto;","padding: 4px 0 4px 0;","position: absolute;","z-index: 70;","-webkit-tap-highlight-color: transparent;","}",".blocklyToolboxContents {","display: flex;","flex-wrap: wrap;","flex-direction: column;","}",".blocklyToolboxContents:focus {","outline: none;","}"]),t.registry.register(t.registry.Type.TOOLBOX,t.registry.DEFAULT,t.Toolbox),t.Events.TrashcanOpen=function(e,n){t.Events.TrashcanOpen.superClass_.constructor.call(this,n),this.isOpen=e},t.utils.object.inherits(t.Events.TrashcanOpen,t.Events.UiBase),t.Events.TrashcanOpen.prototype.type=t.Events.TRASHCAN_OPEN,t.Events.TrashcanOpen.prototype.toJson=function(){var e=t.Events.TrashcanOpen.superClass_.toJson.call(this);return e.isOpen=this.isOpen,e},t.Events.TrashcanOpen.prototype.fromJson=function(e){t.Events.TrashcanOpen.superClass_.fromJson.call(this,e),this.isOpen=e.isOpen},t.registry.register(t.registry.Type.EVENT,t.Events.TRASHCAN_OPEN,t.Events.TrashcanOpen),t.IPlugin=function(){},t.IPositionable=function(){},t.Trashcan=function(e){this.workspace_=e,this.contents_=[],this.flyout=null,0>=this.workspace_.options.maxTrashcanContents||(e=new t.Options({scrollbars:!0,parentWorkspace:this.workspace_,rtl:this.workspace_.RTL,oneBasedIndex:this.workspace_.options.oneBasedIndex,renderer:this.workspace_.options.renderer,rendererOverrides:this.workspace_.options.rendererOverrides,move:{scrollbars:!0}}),this.workspace_.horizontalLayout?(e.toolboxPosition=this.workspace_.toolboxPosition==t.utils.toolbox.Position.TOP?t.utils.toolbox.Position.BOTTOM:t.utils.toolbox.Position.TOP,this.flyout=new(t.registry.getClassFromOptions(t.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX,this.workspace_.options,!0))(e)):(e.toolboxPosition=this.workspace_.toolboxPosition==t.utils.toolbox.Position.RIGHT?t.utils.toolbox.Position.LEFT:t.utils.toolbox.Position.RIGHT,this.flyout=new(t.registry.getClassFromOptions(t.registry.Type.FLYOUTS_VERTICAL_TOOLBOX,this.workspace_.options,!0))(e)),this.workspace_.addChangeListener(this.onDelete_.bind(this)))},t.Trashcan.prototype.WIDTH_=47,t.Trashcan.prototype.BODY_HEIGHT_=44,t.Trashcan.prototype.LID_HEIGHT_=16,t.Trashcan.prototype.MARGIN_BOTTOM_=20,t.Trashcan.prototype.MARGIN_SIDE_=20,t.Trashcan.prototype.MARGIN_HOTSPOT_=10,t.Trashcan.prototype.SPRITE_LEFT_=0,t.Trashcan.prototype.SPRITE_TOP_=32,t.Trashcan.prototype.HAS_BLOCKS_LID_ANGLE_=.1,t.Trashcan.ANIMATION_LENGTH_=80,t.Trashcan.ANIMATION_FRAMES_=4,t.Trashcan.OPACITY_MIN_=.4,t.Trashcan.OPACITY_MAX_=.8,t.Trashcan.MAX_LID_ANGLE_=45,t.Trashcan.prototype.isLidOpen=!1,t.Trashcan.prototype.minOpenness_=0,t.Trashcan.prototype.svgGroup_=null,t.Trashcan.prototype.svgLid_=null,t.Trashcan.prototype.lidTask_=0,t.Trashcan.prototype.lidOpen_=0,t.Trashcan.prototype.left_=0,t.Trashcan.prototype.top_=0,t.Trashcan.prototype.createDom=function(){this.svgGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyTrash"},null);var e=String(Math.random()).substring(2),n=t.utils.dom.createSvgElement(t.utils.Svg.CLIPPATH,{id:"blocklyTrashBodyClipPath"+e},this.svgGroup_);t.utils.dom.createSvgElement(t.utils.Svg.RECT,{width:this.WIDTH_,height:this.BODY_HEIGHT_,y:this.LID_HEIGHT_},n);var i=t.utils.dom.createSvgElement(t.utils.Svg.IMAGE,{width:t.SPRITE.width,x:-this.SPRITE_LEFT_,height:t.SPRITE.height,y:-this.SPRITE_TOP_,"clip-path":"url(#blocklyTrashBodyClipPath"+e+")"},this.svgGroup_);return i.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+t.SPRITE.url),n=t.utils.dom.createSvgElement(t.utils.Svg.CLIPPATH,{id:"blocklyTrashLidClipPath"+e},this.svgGroup_),t.utils.dom.createSvgElement(t.utils.Svg.RECT,{width:this.WIDTH_,height:this.LID_HEIGHT_},n),this.svgLid_=t.utils.dom.createSvgElement(t.utils.Svg.IMAGE,{width:t.SPRITE.width,x:-this.SPRITE_LEFT_,height:t.SPRITE.height,y:-this.SPRITE_TOP_,"clip-path":"url(#blocklyTrashLidClipPath"+e+")"},this.svgGroup_),this.svgLid_.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+t.SPRITE.url),t.browserEvents.bind(this.svgGroup_,"mousedown",this,this.blockMouseDownWhenOpenable_),t.browserEvents.bind(this.svgGroup_,"mouseup",this,this.click),t.browserEvents.bind(i,"mouseover",this,this.mouseOver_),t.browserEvents.bind(i,"mouseout",this,this.mouseOut_),this.animateLid_(),this.svgGroup_},t.Trashcan.prototype.init=function(e){return 0<this.workspace_.options.maxTrashcanContents&&(t.utils.dom.insertAfter(this.flyout.createDom(t.utils.Svg.SVG),this.workspace_.getParentSvg()),this.flyout.init(this.workspace_)),this.verticalSpacing_=this.MARGIN_BOTTOM_+e,this.setLidOpen(!1),this.verticalSpacing_+this.BODY_HEIGHT_+this.LID_HEIGHT_},t.Trashcan.prototype.dispose=function(){this.svgGroup_&&(t.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.workspace_=this.svgLid_=null,clearTimeout(this.lidTask_)},t.Trashcan.prototype.hasContents_=function(){return!!this.contents_.length},t.Trashcan.prototype.contentsIsOpen=function(){return this.flyout.isVisible()},t.Trashcan.prototype.openFlyout=function(){if(!this.contentsIsOpen()){for(var e,n=[],i=0;e=this.contents_[i];i++)n[i]=t.Xml.textToDom(e);this.flyout.show(n),this.fireUiEvent_(!0)}},t.Trashcan.prototype.closeFlyout=function(){this.contentsIsOpen()&&(this.flyout.hide(),this.fireUiEvent_(!1))},t.Trashcan.prototype.emptyContents=function(){this.hasContents_()&&(this.contents_.length=0,this.setMinOpenness_(0),this.closeFlyout())},t.Trashcan.prototype.position=function(e,n){if(this.verticalSpacing_){this.left_=e.toolboxMetrics.position==t.utils.toolbox.Position.LEFT||this.workspace_.horizontalLayout&&!this.workspace_.RTL?e.viewMetrics.width+e.absoluteMetrics.left-this.WIDTH_-this.MARGIN_SIDE_-t.Scrollbar.scrollbarThickness:this.MARGIN_SIDE_+t.Scrollbar.scrollbarThickness;var i=this.BODY_HEIGHT_+this.LID_HEIGHT_,o=this.top_=e.absoluteMetrics.top+this.verticalSpacing_,r=e.absoluteMetrics.top+e.viewMetrics.height-i-this.verticalSpacing_;this.top_=(e=e.toolboxMetrics.position!==t.utils.toolbox.Position.BOTTOM)?r:o;for(var s,a=this.getBoundingRectangle(),l=0;s=n[l];l++)a.intersects(s)&&(this.top_=e?s.top-i-this.MARGIN_BOTTOM_:s.bottom+this.MARGIN_BOTTOM_,a=this.getBoundingRectangle(),l=-1);this.top_=t.utils.math.clamp(o,this.top_,r),this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")")}},t.Trashcan.prototype.getBoundingRectangle=function(){return new t.utils.Rect(this.top_,this.top_+this.BODY_HEIGHT_+this.LID_HEIGHT_,this.left_,this.left_+this.WIDTH_)},t.Trashcan.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var e=this.svgGroup_.getBoundingClientRect(),n=e.top+this.SPRITE_TOP_-this.MARGIN_HOTSPOT_;return new t.utils.Rect(n,n+this.LID_HEIGHT_+this.BODY_HEIGHT_+2*this.MARGIN_HOTSPOT_,e=e.left+this.SPRITE_LEFT_-this.MARGIN_HOTSPOT_,e+this.WIDTH_+2*this.MARGIN_HOTSPOT_)},t.Trashcan.prototype.setLidOpen=function(t){this.isLidOpen!=t&&(clearTimeout(this.lidTask_),this.isLidOpen=t,this.animateLid_())},t.Trashcan.prototype.animateLid_=function(){var e=t.Trashcan.ANIMATION_FRAMES_,n=1/(e+1);this.lidOpen_+=this.isLidOpen?n:-n,this.lidOpen_=Math.min(Math.max(this.lidOpen_,this.minOpenness_),1),this.setLidAngle_(this.lidOpen_*t.Trashcan.MAX_LID_ANGLE_),this.svgGroup_.style.opacity=(n=t.Trashcan.OPACITY_MIN_)+this.lidOpen_*(t.Trashcan.OPACITY_MAX_-n),this.lidOpen_>this.minOpenness_&&1>this.lidOpen_&&(this.lidTask_=setTimeout(this.animateLid_.bind(this),t.Trashcan.ANIMATION_LENGTH_/e))},t.Trashcan.prototype.setLidAngle_=function(e){var n=this.workspace_.toolboxPosition==t.utils.toolbox.Position.RIGHT||this.workspace_.horizontalLayout&&this.workspace_.RTL;this.svgLid_.setAttribute("transform","rotate("+(n?-e:e)+","+(n?4:this.WIDTH_-4)+","+(this.LID_HEIGHT_-2)+")")},t.Trashcan.prototype.setMinOpenness_=function(e){this.minOpenness_=e,this.isLidOpen||this.setLidAngle_(e*t.Trashcan.MAX_LID_ANGLE_)},t.Trashcan.prototype.closeLid=function(){this.setLidOpen(!1)},t.Trashcan.prototype.click=function(){this.hasContents_()&&this.openFlyout()},t.Trashcan.prototype.fireUiEvent_=function(e){e=new(t.Events.get(t.Events.TRASHCAN_OPEN))(e,this.workspace_.id),t.Events.fire(e)},t.Trashcan.prototype.blockMouseDownWhenOpenable_=function(t){!this.contentsIsOpen()&&this.hasContents_()&&t.stopPropagation()},t.Trashcan.prototype.mouseOver_=function(){this.hasContents_()&&this.setLidOpen(!0)},t.Trashcan.prototype.mouseOut_=function(){this.setLidOpen(!1)},t.Trashcan.prototype.onDelete_=function(e){if(!(0>=this.workspace_.options.maxTrashcanContents)&&e.type==t.Events.BLOCK_DELETE&&e.oldXml.tagName&&"shadow"!=e.oldXml.tagName.toLowerCase()&&(e=this.cleanBlockXML_(e.oldXml),-1==this.contents_.indexOf(e))){for(this.contents_.unshift(e);this.contents_.length>this.workspace_.options.maxTrashcanContents;)this.contents_.pop();this.setMinOpenness_(this.HAS_BLOCKS_LID_ANGLE_)}},t.Trashcan.prototype.cleanBlockXML_=function(e){for(var n=e=e.cloneNode(!0);n;){n.removeAttribute&&(n.removeAttribute("x"),n.removeAttribute("y"),n.removeAttribute("id"),n.removeAttribute("disabled"),"comment"==n.nodeName&&(n.removeAttribute("h"),n.removeAttribute("w"),n.removeAttribute("pinned")));var i=n.firstChild||n.nextSibling;if(!i)for(i=n.parentNode;i;){if(i.nextSibling){i=i.nextSibling;break}i=i.parentNode}n=i}return t.Xml.domToText(e)},t.VariablesDynamic={},t.VariablesDynamic.onCreateVariableButtonClick_String=function(e){t.Variables.createVariableButtonHandler(e.getTargetWorkspace(),void 0,"String")},t.VariablesDynamic.onCreateVariableButtonClick_Number=function(e){t.Variables.createVariableButtonHandler(e.getTargetWorkspace(),void 0,"Number")},t.VariablesDynamic.onCreateVariableButtonClick_Colour=function(e){t.Variables.createVariableButtonHandler(e.getTargetWorkspace(),void 0,"Colour")},t.VariablesDynamic.flyoutCategory=function(e){var n=[],i=document.createElement("button");return i.setAttribute("text",t.Msg.NEW_STRING_VARIABLE),i.setAttribute("callbackKey","CREATE_VARIABLE_STRING"),n.push(i),(i=document.createElement("button")).setAttribute("text",t.Msg.NEW_NUMBER_VARIABLE),i.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER"),n.push(i),(i=document.createElement("button")).setAttribute("text",t.Msg.NEW_COLOUR_VARIABLE),i.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR"),n.push(i),e.registerButtonCallback("CREATE_VARIABLE_STRING",t.VariablesDynamic.onCreateVariableButtonClick_String),e.registerButtonCallback("CREATE_VARIABLE_NUMBER",t.VariablesDynamic.onCreateVariableButtonClick_Number),e.registerButtonCallback("CREATE_VARIABLE_COLOUR",t.VariablesDynamic.onCreateVariableButtonClick_Colour),e=t.VariablesDynamic.flyoutCategoryBlocks(e),n.concat(e)},t.VariablesDynamic.flyoutCategoryBlocks=function(e){var n=[];if(0<(e=e.getAllVariables()).length){if(t.Blocks.variables_set_dynamic){var i=e[e.length-1],o=t.utils.xml.createElement("block");o.setAttribute("type","variables_set_dynamic"),o.setAttribute("gap",24),o.appendChild(t.Variables.generateVariableFieldDom(i)),n.push(o)}if(t.Blocks.variables_get_dynamic){e.sort(t.VariableModel.compareByName),i=0;for(var r;r=e[i];i++)(o=t.utils.xml.createElement("block")).setAttribute("type","variables_get_dynamic"),o.setAttribute("gap",8),o.appendChild(t.Variables.generateVariableFieldDom(r)),n.push(o)}}return n},t.ZoomControls=function(t){this.workspace_=t,this.zoomResetGroup_=this.zoomOutGroup_=this.zoomInGroup_=this.verticalSpacing_=this.onZoomOutWrapper_=this.onZoomInWrapper_=this.onZoomResetWrapper_=null},t.ZoomControls.prototype.WIDTH_=32,t.ZoomControls.prototype.HEIGHT_=110,t.ZoomControls.prototype.MARGIN_BOTTOM_=20,t.ZoomControls.prototype.MARGIN_SIDE_=20,t.ZoomControls.prototype.svgGroup_=null,t.ZoomControls.prototype.left_=0,t.ZoomControls.prototype.top_=0,t.ZoomControls.prototype.createDom=function(){this.svgGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{},null);var e=String(Math.random()).substring(2);return this.createZoomOutSvg_(e),this.createZoomInSvg_(e),this.workspace_.isMovable()&&this.createZoomResetSvg_(e),this.svgGroup_},t.ZoomControls.prototype.init=function(t){return this.verticalSpacing_=this.MARGIN_BOTTOM_+t,this.verticalSpacing_+this.HEIGHT_},t.ZoomControls.prototype.dispose=function(){this.svgGroup_&&t.utils.dom.removeNode(this.svgGroup_),this.onZoomResetWrapper_&&t.browserEvents.unbind(this.onZoomResetWrapper_),this.onZoomInWrapper_&&t.browserEvents.unbind(this.onZoomInWrapper_),this.onZoomOutWrapper_&&t.browserEvents.unbind(this.onZoomOutWrapper_)},t.ZoomControls.prototype.getBoundingRectangle=function(){return new t.utils.Rect(this.top_,this.top_+this.HEIGHT_,this.left_,this.left_+this.WIDTH_)},t.ZoomControls.prototype.position=function(e,n){if(this.verticalSpacing_){this.left_=e.toolboxMetrics.position==t.utils.toolbox.Position.LEFT||this.workspace_.horizontalLayout&&!this.workspace_.RTL?e.viewMetrics.width+e.absoluteMetrics.left-this.WIDTH_-this.MARGIN_SIDE_-t.Scrollbar.scrollbarThickness:this.MARGIN_SIDE_+t.Scrollbar.scrollbarThickness;var i=this.top_=e.absoluteMetrics.top+this.verticalSpacing_,o=e.absoluteMetrics.top+e.viewMetrics.height-this.HEIGHT_-this.verticalSpacing_;this.top_=(e=e.toolboxMetrics.position!==t.utils.toolbox.Position.BOTTOM)?o:i,e?(this.zoomInGroup_.setAttribute("transform","translate(0, 43)"),this.zoomOutGroup_.setAttribute("transform","translate(0, 77)")):(this.zoomInGroup_.setAttribute("transform","translate(0, 34)"),this.zoomResetGroup_&&this.zoomResetGroup_.setAttribute("transform","translate(0, 77)"));for(var r,s=this.getBoundingRectangle(),a=0;r=n[a];a++)s.intersects(r)&&(this.top_=e?r.top-this.HEIGHT_-this.MARGIN_BOTTOM_:r.bottom+this.MARGIN_BOTTOM_,s=this.getBoundingRectangle(),a=-1);this.top_=t.utils.math.clamp(i,this.top_,o),this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")")}},t.ZoomControls.prototype.createZoomOutSvg_=function(e){this.zoomOutGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyZoom"},this.svgGroup_);var n=t.utils.dom.createSvgElement(t.utils.Svg.CLIPPATH,{id:"blocklyZoomoutClipPath"+e},this.zoomOutGroup_);t.utils.dom.createSvgElement(t.utils.Svg.RECT,{width:32,height:32},n),t.utils.dom.createSvgElement(t.utils.Svg.IMAGE,{width:t.SPRITE.width,height:t.SPRITE.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+e+")"},this.zoomOutGroup_).setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+t.SPRITE.url),this.onZoomOutWrapper_=t.browserEvents.conditionalBind(this.zoomOutGroup_,"mousedown",null,this.zoom_.bind(this,-1))},t.ZoomControls.prototype.createZoomInSvg_=function(e){this.zoomInGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyZoom"},this.svgGroup_);var n=t.utils.dom.createSvgElement(t.utils.Svg.CLIPPATH,{id:"blocklyZoominClipPath"+e},this.zoomInGroup_);t.utils.dom.createSvgElement(t.utils.Svg.RECT,{width:32,height:32},n),t.utils.dom.createSvgElement(t.utils.Svg.IMAGE,{width:t.SPRITE.width,height:t.SPRITE.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+e+")"},this.zoomInGroup_).setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+t.SPRITE.url),this.onZoomInWrapper_=t.browserEvents.conditionalBind(this.zoomInGroup_,"mousedown",null,this.zoom_.bind(this,1))},t.ZoomControls.prototype.zoom_=function(e,n){this.workspace_.markFocused(),this.workspace_.zoomCenter(e),this.fireZoomEvent_(),t.Touch.clearTouchIdentifier(),n.stopPropagation(),n.preventDefault()},t.ZoomControls.prototype.createZoomResetSvg_=function(e){this.zoomResetGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyZoom"},this.svgGroup_);var n=t.utils.dom.createSvgElement(t.utils.Svg.CLIPPATH,{id:"blocklyZoomresetClipPath"+e},this.zoomResetGroup_);t.utils.dom.createSvgElement(t.utils.Svg.RECT,{width:32,height:32},n),t.utils.dom.createSvgElement(t.utils.Svg.IMAGE,{width:t.SPRITE.width,height:t.SPRITE.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+e+")"},this.zoomResetGroup_).setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+t.SPRITE.url),this.onZoomResetWrapper_=t.browserEvents.conditionalBind(this.zoomResetGroup_,"mousedown",null,this.resetZoom_.bind(this))},t.ZoomControls.prototype.resetZoom_=function(e){this.workspace_.markFocused();var n=Math.log(this.workspace_.options.zoomOptions.startScale/this.workspace_.scale)/Math.log(this.workspace_.options.zoomOptions.scaleSpeed);this.workspace_.beginCanvasTransition(),this.workspace_.zoomCenter(n),this.workspace_.scrollCenter(),setTimeout(this.workspace_.endCanvasTransition.bind(this.workspace_),500),this.fireZoomEvent_(),t.Touch.clearTouchIdentifier(),e.stopPropagation(),e.preventDefault()},t.ZoomControls.prototype.fireZoomEvent_=function(){var e=new(t.Events.get(t.Events.CLICK))(null,this.workspace_.id,"zoom_controls");t.Events.fire(e)},t.Css.register([".blocklyZoom>image, .blocklyZoom>svg>image {","opacity: .4;","}",".blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {","opacity: .6;","}",".blocklyZoom>image:active, .blocklyZoom>svg>image:active {","opacity: .8;","}"]),t.ShortcutItems={},t.ShortcutItems.names={ESCAPE:"escape",DELETE:"delete",COPY:"copy",CUT:"cut",PASTE:"paste",UNDO:"undo",REDO:"redo"},t.ShortcutItems.registerEscape=function(){var e={name:t.ShortcutItems.names.ESCAPE,preconditionFn:function(t){return!t.options.readOnly},callback:function(){return t.hideChaff(),!0}};t.ShortcutRegistry.registry.register(e),t.ShortcutRegistry.registry.addKeyMapping(t.utils.KeyCodes.ESC,e.name)},t.ShortcutItems.registerDelete=function(){var e={name:t.ShortcutItems.names.DELETE,preconditionFn:function(e){return!e.options.readOnly&&t.selected&&t.selected.isDeletable()},callback:function(e,n){return n.preventDefault(),!t.Gesture.inProgress()&&(t.deleteBlock(t.selected),!0)}};t.ShortcutRegistry.registry.register(e),t.ShortcutRegistry.registry.addKeyMapping(t.utils.KeyCodes.DELETE,e.name),t.ShortcutRegistry.registry.addKeyMapping(t.utils.KeyCodes.BACKSPACE,e.name)},t.ShortcutItems.registerCopy=function(){var e={name:t.ShortcutItems.names.COPY,preconditionFn:function(e){return!e.options.readOnly&&!t.Gesture.inProgress()&&t.selected&&t.selected.isDeletable()&&t.selected.isMovable()},callback:function(){return t.hideChaff(),t.copy(t.selected),!0}};t.ShortcutRegistry.registry.register(e);var n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.C,[t.utils.KeyCodes.CTRL]);t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.C,[t.utils.KeyCodes.ALT]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.C,[t.utils.KeyCodes.META]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name)},t.ShortcutItems.registerCut=function(){var e={name:t.ShortcutItems.names.CUT,preconditionFn:function(e){return!e.options.readOnly&&!t.Gesture.inProgress()&&t.selected&&t.selected.isDeletable()&&t.selected.isMovable()&&!t.selected.workspace.isFlyout},callback:function(){return t.copy(t.selected),t.deleteBlock(t.selected),!0}};t.ShortcutRegistry.registry.register(e);var n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.X,[t.utils.KeyCodes.CTRL]);t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.X,[t.utils.KeyCodes.ALT]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.X,[t.utils.KeyCodes.META]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name)},t.ShortcutItems.registerPaste=function(){var e={name:t.ShortcutItems.names.PASTE,preconditionFn:function(e){return!e.options.readOnly&&!t.Gesture.inProgress()},callback:function(){return t.paste()}};t.ShortcutRegistry.registry.register(e);var n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.V,[t.utils.KeyCodes.CTRL]);t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.V,[t.utils.KeyCodes.ALT]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.V,[t.utils.KeyCodes.META]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name)},t.ShortcutItems.registerUndo=function(){var e={name:t.ShortcutItems.names.UNDO,preconditionFn:function(e){return!e.options.readOnly&&!t.Gesture.inProgress()},callback:function(e){return t.hideChaff(),e.undo(!1),!0}};t.ShortcutRegistry.registry.register(e);var n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.Z,[t.utils.KeyCodes.CTRL]);t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.Z,[t.utils.KeyCodes.ALT]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.Z,[t.utils.KeyCodes.META]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name)},t.ShortcutItems.registerRedo=function(){var e={name:t.ShortcutItems.names.REDO,preconditionFn:function(e){return!t.Gesture.inProgress()&&!e.options.readOnly},callback:function(e){return t.hideChaff(),e.undo(!0),!0}};t.ShortcutRegistry.registry.register(e);var n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.Z,[t.utils.KeyCodes.SHIFT,t.utils.KeyCodes.CTRL]);t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.Z,[t.utils.KeyCodes.SHIFT,t.utils.KeyCodes.ALT]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.Z,[t.utils.KeyCodes.SHIFT,t.utils.KeyCodes.META]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.Y,[t.utils.KeyCodes.CTRL]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name)},t.ShortcutItems.registerDefaultShortcuts=function(){t.ShortcutItems.registerEscape(),t.ShortcutItems.registerDelete(),t.ShortcutItems.registerCopy(),t.ShortcutItems.registerCut(),t.ShortcutItems.registerPaste(),t.ShortcutItems.registerUndo(),t.ShortcutItems.registerRedo()},t.ShortcutItems.registerDefaultShortcuts(),t.ContextMenuItems={},t.ContextMenuItems.registerUndo=function(){t.ContextMenuRegistry.registry.register({displayText:function(){return t.Msg.UNDO},preconditionFn:function(t){return 0<t.workspace.getUndoStack().length?"enabled":"disabled"},callback:function(t){t.workspace.undo(!1)},scopeType:t.ContextMenuRegistry.ScopeType.WORKSPACE,id:"undoWorkspace",weight:1})},t.ContextMenuItems.registerRedo=function(){t.ContextMenuRegistry.registry.register({displayText:function(){return t.Msg.REDO},preconditionFn:function(t){return 0<t.workspace.getRedoStack().length?"enabled":"disabled"},callback:function(t){t.workspace.undo(!0)},scopeType:t.ContextMenuRegistry.ScopeType.WORKSPACE,id:"redoWorkspace",weight:2})},t.ContextMenuItems.registerCleanup=function(){t.ContextMenuRegistry.registry.register({displayText:function(){return t.Msg.CLEAN_UP},preconditionFn:function(t){return t.workspace.isMovable()?1<t.workspace.getTopBlocks(!1).length?"enabled":"disabled":"hidden"},callback:function(t){t.workspace.cleanUp()},scopeType:t.ContextMenuRegistry.ScopeType.WORKSPACE,id:"cleanWorkspace",weight:3})},t.ContextMenuItems.toggleOption_=function(t,e){for(var n=0,i=0;i<e.length;i++)for(var o=e[i];o;)setTimeout(o.setCollapsed.bind(o,t),n),o=o.getNextBlock(),n+=10},t.ContextMenuItems.registerCollapse=function(){t.ContextMenuRegistry.registry.register({displayText:function(){return t.Msg.COLLAPSE_ALL},preconditionFn:function(t){if(t.workspace.options.collapse){t=t.workspace.getTopBlocks(!1);for(var e=0;e<t.length;e++)for(var n=t[e];n;){if(!n.isCollapsed())return"enabled";n=n.getNextBlock()}return"disabled"}return"hidden"},callback:function(e){t.ContextMenuItems.toggleOption_(!0,e.workspace.getTopBlocks(!0))},scopeType:t.ContextMenuRegistry.ScopeType.WORKSPACE,id:"collapseWorkspace",weight:4})},t.ContextMenuItems.registerExpand=function(){t.ContextMenuRegistry.registry.register({displayText:function(){return t.Msg.EXPAND_ALL},preconditionFn:function(t){if(t.workspace.options.collapse){t=t.workspace.getTopBlocks(!1);for(var e=0;e<t.length;e++)for(var n=t[e];n;){if(n.isCollapsed())return"enabled";n=n.getNextBlock()}return"disabled"}return"hidden"},callback:function(e){t.ContextMenuItems.toggleOption_(!1,e.workspace.getTopBlocks(!0))},scopeType:t.ContextMenuRegistry.ScopeType.WORKSPACE,id:"expandWorkspace",weight:5})},t.ContextMenuItems.addDeletableBlocks_=function(e,n){if(e.isDeletable())Array.prototype.push.apply(n,e.getDescendants(!1));else{e=e.getChildren(!1);for(var i=0;i<e.length;i++)t.ContextMenuItems.addDeletableBlocks_(e[i],n)}},t.ContextMenuItems.getDeletableBlocks_=function(e){var n=[];e=e.getTopBlocks(!0);for(var i=0;i<e.length;i++)t.ContextMenuItems.addDeletableBlocks_(e[i],n);return n},t.ContextMenuItems.deleteNext_=function(e,n){t.Events.setGroup(n);var i=e.shift();i&&(i.workspace?(i.dispose(!1,!0),setTimeout(t.ContextMenuItems.deleteNext_,10,e,n)):t.ContextMenuItems.deleteNext_(e,n)),t.Events.setGroup(!1)},t.ContextMenuItems.registerDeleteAll=function(){t.ContextMenuRegistry.registry.register({displayText:function(e){if(e.workspace)return 1==(e=t.ContextMenuItems.getDeletableBlocks_(e.workspace).length)?t.Msg.DELETE_BLOCK:t.Msg.DELETE_X_BLOCKS.replace("%1",String(e))},preconditionFn:function(e){if(e.workspace)return 0<t.ContextMenuItems.getDeletableBlocks_(e.workspace).length?"enabled":"disabled"},callback:function(e){if(e.workspace){e.workspace.cancelCurrentGesture();var n=t.ContextMenuItems.getDeletableBlocks_(e.workspace),i=t.utils.genUid();2>n.length?t.ContextMenuItems.deleteNext_(n,i):t.confirm(t.Msg.DELETE_ALL_BLOCKS.replace("%1",n.length),function(e){e&&t.ContextMenuItems.deleteNext_(n,i)})}},scopeType:t.ContextMenuRegistry.ScopeType.WORKSPACE,id:"workspaceDelete",weight:6})},t.ContextMenuItems.registerWorkspaceOptions_=function(){t.ContextMenuItems.registerUndo(),t.ContextMenuItems.registerRedo(),t.ContextMenuItems.registerCleanup(),t.ContextMenuItems.registerCollapse(),t.ContextMenuItems.registerExpand(),t.ContextMenuItems.registerDeleteAll()},t.ContextMenuItems.registerDuplicate=function(){t.ContextMenuRegistry.registry.register({displayText:function(){return t.Msg.DUPLICATE_BLOCK},preconditionFn:function(t){return!(t=t.block).isInFlyout&&t.isDeletable()&&t.isMovable()?t.isDuplicatable()?"enabled":"disabled":"hidden"},callback:function(e){e.block&&t.duplicate(e.block)},scopeType:t.ContextMenuRegistry.ScopeType.BLOCK,id:"blockDuplicate",weight:1})},t.ContextMenuItems.registerComment=function(){t.ContextMenuRegistry.registry.register({displayText:function(e){return e.block.getCommentIcon()?t.Msg.REMOVE_COMMENT:t.Msg.ADD_COMMENT},preconditionFn:function(e){return e=e.block,t.utils.userAgent.IE||e.isInFlyout||!e.workspace.options.comments||e.isCollapsed()||!e.isEditable()?"hidden":"enabled"},callback:function(t){(t=t.block).getCommentIcon()?t.setCommentText(null):t.setCommentText("")},scopeType:t.ContextMenuRegistry.ScopeType.BLOCK,id:"blockComment",weight:2})},t.ContextMenuItems.registerInline=function(){t.ContextMenuRegistry.registry.register({displayText:function(e){return e.block.getInputsInline()?t.Msg.EXTERNAL_INPUTS:t.Msg.INLINE_INPUTS},preconditionFn:function(e){if(!(e=e.block).isInFlyout&&e.isMovable()&&!e.isCollapsed())for(var n=1;n<e.inputList.length;n++)if(e.inputList[n-1].type!=t.inputTypes.STATEMENT&&e.inputList[n].type!=t.inputTypes.STATEMENT)return"enabled";return"hidden"},callback:function(t){t.block.setInputsInline(!t.block.getInputsInline())},scopeType:t.ContextMenuRegistry.ScopeType.BLOCK,id:"blockInline",weight:3})},t.ContextMenuItems.registerCollapseExpandBlock=function(){t.ContextMenuRegistry.registry.register({displayText:function(e){return e.block.isCollapsed()?t.Msg.EXPAND_BLOCK:t.Msg.COLLAPSE_BLOCK},preconditionFn:function(t){return!(t=t.block).isInFlyout&&t.isMovable()?"enabled":"hidden"},callback:function(t){t.block.setCollapsed(!t.block.isCollapsed())},scopeType:t.ContextMenuRegistry.ScopeType.BLOCK,id:"blockCollapseExpand",weight:4})},t.ContextMenuItems.registerDisable=function(){t.ContextMenuRegistry.registry.register({displayText:function(e){return e.block.isEnabled()?t.Msg.DISABLE_BLOCK:t.Msg.ENABLE_BLOCK},preconditionFn:function(t){return!(t=t.block).isInFlyout&&t.workspace.options.disable&&t.isEditable()?t.getInheritedDisabled()?"disabled":"enabled":"hidden"},callback:function(e){e=e.block;var n=t.Events.getGroup();n||t.Events.setGroup(!0),e.setEnabled(!e.isEnabled()),n||t.Events.setGroup(!1)},scopeType:t.ContextMenuRegistry.ScopeType.BLOCK,id:"blockDisable",weight:5})},t.ContextMenuItems.registerDelete=function(){t.ContextMenuRegistry.registry.register({displayText:function(e){var n=e.block;return e=n.getDescendants(!1).length,(n=n.getNextBlock())&&(e-=n.getDescendants(!1).length),1==e?t.Msg.DELETE_BLOCK:t.Msg.DELETE_X_BLOCKS.replace("%1",String(e))},preconditionFn:function(t){return!t.block.isInFlyout&&t.block.isDeletable()?"enabled":"hidden"},callback:function(e){t.Events.setGroup(!0),e.block.dispose(!0,!0),t.Events.setGroup(!1)},scopeType:t.ContextMenuRegistry.ScopeType.BLOCK,id:"blockDelete",weight:6})},t.ContextMenuItems.registerHelp=function(){t.ContextMenuRegistry.registry.register({displayText:function(){return t.Msg.HELP},preconditionFn:function(t){return("function"==typeof(t=t.block).helpUrl?t.helpUrl():t.helpUrl)?"enabled":"hidden"},callback:function(t){t.block.showHelp()},scopeType:t.ContextMenuRegistry.ScopeType.BLOCK,id:"blockHelp",weight:7})},t.ContextMenuItems.registerBlockOptions_=function(){t.ContextMenuItems.registerDuplicate(),t.ContextMenuItems.registerComment(),t.ContextMenuItems.registerInline(),t.ContextMenuItems.registerCollapseExpandBlock(),t.ContextMenuItems.registerDisable(),t.ContextMenuItems.registerDelete(),t.ContextMenuItems.registerHelp()},t.ContextMenuItems.registerDefaultOptions=function(){t.ContextMenuItems.registerWorkspaceOptions_(),t.ContextMenuItems.registerBlockOptions_()},t.ContextMenuItems.registerDefaultOptions(),t.Mutator=function(e){t.Mutator.superClass_.constructor.call(this,null),this.quarkNames_=e},t.utils.object.inherits(t.Mutator,t.Icon),t.Mutator.prototype.workspaceWidth_=0,t.Mutator.prototype.workspaceHeight_=0,t.Mutator.prototype.setBlock=function(t){this.block_=t},t.Mutator.prototype.getWorkspace=function(){return this.workspace_},t.Mutator.prototype.drawIcon_=function(e){t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},e),t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},e),t.utils.dom.createSvgElement(t.utils.Svg.CIRCLE,{class:"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},e)},t.Mutator.prototype.iconClick_=function(e){this.block_.isEditable()&&t.Icon.prototype.iconClick_.call(this,e)},t.Mutator.prototype.createEditor_=function(){if(this.svgDialog_=t.utils.dom.createSvgElement(t.utils.Svg.SVG,{x:t.Bubble.BORDER_WIDTH,y:t.Bubble.BORDER_WIDTH},null),this.quarkNames_.length)for(var e,n=t.utils.xml.createElement("xml"),i=0;e=this.quarkNames_[i];i++){var o=t.utils.xml.createElement("block");o.setAttribute("type",e),n.appendChild(o)}else n=null;return(i=new t.Options({disable:!1,parentWorkspace:this.block_.workspace,media:this.block_.workspace.options.pathToMedia,rtl:this.block_.RTL,horizontalLayout:!1,renderer:this.block_.workspace.options.renderer,rendererOverrides:this.block_.workspace.options.rendererOverrides})).toolboxPosition=this.block_.RTL?t.utils.toolbox.Position.RIGHT:t.utils.toolbox.Position.LEFT,(e=!!n)&&(i.languageTree=t.utils.toolbox.convertToolboxDefToJson(n)),this.workspace_=new t.WorkspaceSvg(i),this.workspace_.isMutator=!0,this.workspace_.addChangeListener(t.Events.disableOrphans),n=e?this.workspace_.addFlyout(t.utils.Svg.G):null,i=this.workspace_.createDom("blocklyMutatorBackground"),n&&i.insertBefore(n,this.workspace_.svgBlockCanvas_),this.svgDialog_.appendChild(i),this.svgDialog_},t.Mutator.prototype.updateEditable=function(){t.Mutator.superClass_.updateEditable.call(this),this.block_.isInFlyout||(this.block_.isEditable()?this.iconGroup_&&t.utils.dom.removeClass(this.iconGroup_,"blocklyIconGroupReadonly"):(this.setVisible(!1),this.iconGroup_&&t.utils.dom.addClass(this.iconGroup_,"blocklyIconGroupReadonly")))},t.Mutator.prototype.resizeBubble_=function(){var e=2*t.Bubble.BORDER_WIDTH,n=this.workspace_.getCanvas().getBBox(),i=n.width+n.x,o=n.height+3*e,r=this.workspace_.getFlyout();if(r){var s=r.getWorkspace().getMetricsManager().getScrollMetrics();o=Math.max(o,s.height+20),i+=r.getWidth()}this.block_.RTL&&(i=-n.x),i+=3*e,(Math.abs(this.workspaceWidth_-i)>e||Math.abs(this.workspaceHeight_-o)>e)&&(this.workspaceWidth_=i,this.workspaceHeight_=o,this.bubble_.setBubbleSize(i+e,o+e),this.svgDialog_.setAttribute("width",this.workspaceWidth_),this.svgDialog_.setAttribute("height",this.workspaceHeight_),this.workspace_.setCachedParentSvgSize(this.workspaceWidth_,this.workspaceHeight_)),this.block_.RTL&&(e="translate("+this.workspaceWidth_+",0)",this.workspace_.getCanvas().setAttribute("transform",e)),this.workspace_.resize()},t.Mutator.prototype.onBubbleMove_=function(){this.workspace_&&this.workspace_.recordDeleteAreas()},t.Mutator.prototype.setVisible=function(e){if(e!=this.isVisible())if(t.Events.fire(new(t.Events.get(t.Events.BUBBLE_OPEN))(this.block_,e,"mutator")),e){this.bubble_=new t.Bubble(this.block_.workspace,this.createEditor_(),this.block_.pathObject.svgPath,this.iconXY_,null,null),this.bubble_.setSvgId(this.block_.id),this.bubble_.registerMoveEvent(this.onBubbleMove_.bind(this));var n=this.workspace_.options.languageTree;e=this.workspace_.getFlyout(),n&&(e.init(this.workspace_),e.show(n)),this.rootBlock_=this.block_.decompose(this.workspace_),n=this.rootBlock_.getDescendants(!1);for(var i,o=0;i=n[o];o++)i.render();if(this.rootBlock_.setMovable(!1),this.rootBlock_.setDeletable(!1),e?(n=2*e.CORNER_RADIUS,e=this.rootBlock_.RTL?e.getWidth()+n:n):e=n=16,this.block_.RTL&&(e=-e),this.rootBlock_.moveBy(e,n),this.block_.saveConnections){var r=this,s=this.block_;s.saveConnections(this.rootBlock_),this.sourceListener_=function(){s.saveConnections(r.rootBlock_)},this.block_.workspace.addChangeListener(this.sourceListener_)}this.resizeBubble_(),this.workspace_.addChangeListener(this.workspaceChanged_.bind(this)),this.applyColour()}else this.svgDialog_=null,this.workspace_.dispose(),this.rootBlock_=this.workspace_=null,this.bubble_.dispose(),this.bubble_=null,this.workspaceHeight_=this.workspaceWidth_=0,this.sourceListener_&&(this.block_.workspace.removeChangeListener(this.sourceListener_),this.sourceListener_=null)},t.Mutator.prototype.workspaceChanged_=function(e){if(!(e.isUiEvent||e.type==t.Events.CHANGE&&"disabled"==e.element)){if(!this.workspace_.isDragging()){e=this.workspace_.getTopBlocks(!1);for(var n,i=0;n=e[i];i++){var o=n.getRelativeToSurfaceXY();if(20>o.y&&n.moveBy(0,20-o.y),n.RTL){var r=-20,s=this.workspace_.getFlyout();s&&(r-=s.getWidth()),o.x>r&&n.moveBy(r-o.x,0)}else 20>o.x&&n.moveBy(20-o.x,0)}}if(this.rootBlock_.workspace==this.workspace_){if(t.Events.setGroup(!0),e=(e=(n=this.block_).mutationToDom())&&t.Xml.domToText(e),i=n.rendered,n.rendered=!1,n.compose(this.rootBlock_),n.rendered=i,n.initSvg(),n.rendered&&n.render(),e!=(i=(i=n.mutationToDom())&&t.Xml.domToText(i))){t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(n,"mutation",null,e,i));var a=t.Events.getGroup();setTimeout(function(){t.Events.setGroup(a),n.bumpNeighbours(),t.Events.setGroup(!1)},t.BUMP_DELAY)}this.workspace_.isDragging()||this.resizeBubble_(),t.Events.setGroup(!1)}}},t.Mutator.prototype.dispose=function(){this.block_.mutator=null,t.Icon.prototype.dispose.call(this)},t.Mutator.prototype.updateBlockStyle=function(){var t=this.workspace_;if(t&&t.getAllBlocks(!1)){for(var e=t.getAllBlocks(!1),n=0;n<e.length;n++){var i=e[n];i.setStyle(i.getStyleName())}if(n=t.getFlyout())for(t=n.workspace_.getAllBlocks(!1),n=0;n<t.length;n++)(i=t[n]).setStyle(i.getStyleName())}},t.Mutator.reconnect=function(t,e,n){if(!t||!t.getSourceBlock().workspace)return!1;n=e.getInput(n).connection;var i=t.targetBlock();return!(i&&i!=e||n.targetConnection==t||(n.isConnected()&&n.disconnect(),n.connect(t),0))},t.Mutator.findParentWs=function(t){var e=null;if(t&&t.options){var n=t.options.parentWorkspace;t.isFlyout?n&&n.options&&(e=n.options.parentWorkspace):n&&(e=n)}return e},t.FieldTextInput=function(e,n,i){this.spellcheck_=!0,t.FieldTextInput.superClass_.constructor.call(this,e,n,i),this.onKeyInputWrapper_=this.onKeyDownWrapper_=this.htmlInput_=null,this.fullBlockClickTarget_=!1,this.workspace_=null},t.utils.object.inherits(t.FieldTextInput,t.Field),t.FieldTextInput.prototype.DEFAULT_VALUE="",t.FieldTextInput.fromJson=function(e){var n=t.utils.replaceMessageReferences(e.text);return new t.FieldTextInput(n,void 0,e)},t.FieldTextInput.prototype.SERIALIZABLE=!0,t.FieldTextInput.BORDERRADIUS=4,t.FieldTextInput.prototype.CURSOR="text",t.FieldTextInput.prototype.configure_=function(e){t.FieldTextInput.superClass_.configure_.call(this,e),"boolean"==typeof e.spellcheck&&(this.spellcheck_=e.spellcheck)},t.FieldTextInput.prototype.initView=function(){if(this.getConstants().FULL_BLOCK_FIELDS){for(var t,e=0,n=0,i=0;t=this.sourceBlock_.inputList[i];i++){for(var o=0;t.fieldRow[o];o++)e++;t.connection&&n++}this.fullBlockClickTarget_=1>=e&&this.sourceBlock_.outputConnection&&!n}else this.fullBlockClickTarget_=!1;this.fullBlockClickTarget_?this.clickTarget_=this.sourceBlock_.getSvgRoot():this.createBorderRect_(),this.createTextElement_()},t.FieldTextInput.prototype.doClassValidation_=function(t){return null==t?null:String(t)},t.FieldTextInput.prototype.doValueInvalid_=function(e){this.isBeingEdited_&&(this.isTextValid_=!1,e=this.value_,this.value_=this.htmlInput_.untypedDefaultValue_,this.sourceBlock_&&t.Events.isEnabled()&&t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(this.sourceBlock_,"field",this.name||null,e,this.value_)))},t.FieldTextInput.prototype.doValueUpdate_=function(t){this.isTextValid_=!0,this.value_=t,this.isBeingEdited_||(this.isDirty_=!0)},t.FieldTextInput.prototype.applyColour=function(){this.sourceBlock_&&this.getConstants().FULL_BLOCK_FIELDS&&(this.borderRect_?this.borderRect_.setAttribute("stroke",this.sourceBlock_.style.colourTertiary):this.sourceBlock_.pathObject.svgPath.setAttribute("fill",this.getConstants().FIELD_BORDER_RECT_COLOUR))},t.FieldTextInput.prototype.render_=function(){if(t.FieldTextInput.superClass_.render_.call(this),this.isBeingEdited_){this.resizeEditor_();var e=this.htmlInput_;this.isTextValid_?(t.utils.dom.removeClass(e,"blocklyInvalidInput"),t.utils.aria.setState(e,t.utils.aria.State.INVALID,!1)):(t.utils.dom.addClass(e,"blocklyInvalidInput"),t.utils.aria.setState(e,t.utils.aria.State.INVALID,!0))}},t.FieldTextInput.prototype.setSpellcheck=function(t){t!=this.spellcheck_&&(this.spellcheck_=t,this.htmlInput_&&this.htmlInput_.setAttribute("spellcheck",this.spellcheck_))},t.FieldTextInput.prototype.showEditor_=function(e,n){this.workspace_=this.sourceBlock_.workspace,!(e=n||!1)&&(t.utils.userAgent.MOBILE||t.utils.userAgent.ANDROID||t.utils.userAgent.IPAD)?this.showPromptEditor_():this.showInlineEditor_(e)},t.FieldTextInput.prototype.showPromptEditor_=function(){t.prompt(t.Msg.CHANGE_VALUE_TITLE,this.getText(),(function(t){this.setValue(this.getValueFromEditorText_(t))}).bind(this))},t.FieldTextInput.prototype.showInlineEditor_=function(e){t.WidgetDiv.show(this,this.sourceBlock_.RTL,this.widgetDispose_.bind(this)),this.htmlInput_=this.widgetCreate_(),this.isBeingEdited_=!0,e||(this.htmlInput_.focus({preventScroll:!0}),this.htmlInput_.select())},t.FieldTextInput.prototype.widgetCreate_=function(){var e=t.WidgetDiv.DIV;t.utils.dom.addClass(this.getClickTarget_(),"editing");var n=document.createElement("input");n.className="blocklyHtmlInput",n.setAttribute("spellcheck",this.spellcheck_);var i=this.workspace_.getScale(),o=this.getConstants().FIELD_TEXT_FONTSIZE*i+"pt";if(e.style.fontSize=o,n.style.fontSize=o,o=t.FieldTextInput.BORDERRADIUS*i+"px",this.fullBlockClickTarget_){o=((o=this.getScaledBBox()).bottom-o.top)/2+"px";var r=this.sourceBlock_.getParent()?this.sourceBlock_.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary;n.style.border=1*i+"px solid "+r,e.style.borderRadius=o,e.style.transition="box-shadow 0.25s ease 0s",this.getConstants().FIELD_TEXTINPUT_BOX_SHADOW&&(e.style.boxShadow="rgba(255, 255, 255, 0.3) 0px 0px 0px "+4*i+"px")}return n.style.borderRadius=o,e.appendChild(n),n.value=n.defaultValue=this.getEditorText_(this.value_),n.untypedDefaultValue_=this.value_,n.oldValue_=null,this.resizeEditor_(),this.bindInputEvents_(n),n},t.FieldTextInput.prototype.widgetDispose_=function(){this.isBeingEdited_=!1,this.isTextValid_=!0,this.forceRerender(),this.onFinishEditing_&&this.onFinishEditing_(this.value_),this.unbindInputEvents_();var e=t.WidgetDiv.DIV.style;e.width="auto",e.height="auto",e.fontSize="",e.transition="",e.boxShadow="",this.htmlInput_=null,t.utils.dom.removeClass(this.getClickTarget_(),"editing")},t.FieldTextInput.prototype.bindInputEvents_=function(e){this.onKeyDownWrapper_=t.browserEvents.conditionalBind(e,"keydown",this,this.onHtmlInputKeyDown_),this.onKeyInputWrapper_=t.browserEvents.conditionalBind(e,"input",this,this.onHtmlInputChange_)},t.FieldTextInput.prototype.unbindInputEvents_=function(){this.onKeyDownWrapper_&&(t.browserEvents.unbind(this.onKeyDownWrapper_),this.onKeyDownWrapper_=null),this.onKeyInputWrapper_&&(t.browserEvents.unbind(this.onKeyInputWrapper_),this.onKeyInputWrapper_=null)},t.FieldTextInput.prototype.onHtmlInputKeyDown_=function(e){e.keyCode==t.utils.KeyCodes.ENTER?(t.WidgetDiv.hide(),t.DropDownDiv.hideWithoutAnimation()):e.keyCode==t.utils.KeyCodes.ESC?(this.htmlInput_.value=this.htmlInput_.defaultValue,t.WidgetDiv.hide(),t.DropDownDiv.hideWithoutAnimation()):e.keyCode==t.utils.KeyCodes.TAB&&(t.WidgetDiv.hide(),t.DropDownDiv.hideWithoutAnimation(),this.sourceBlock_.tab(this,!e.shiftKey),e.preventDefault())},t.FieldTextInput.prototype.onHtmlInputChange_=function(e){(e=this.htmlInput_.value)!==this.htmlInput_.oldValue_&&(this.htmlInput_.oldValue_=e,t.Events.setGroup(!0),e=this.getValueFromEditorText_(e),this.setValue(e),this.forceRerender(),this.resizeEditor_(),t.Events.setGroup(!1))},t.FieldTextInput.prototype.setEditorValue_=function(t){this.isDirty_=!0,this.isBeingEdited_&&(this.htmlInput_.value=this.getEditorText_(t)),this.setValue(t)},t.FieldTextInput.prototype.resizeEditor_=function(){var e=t.WidgetDiv.DIV,n=this.getScaledBBox();e.style.width=n.right-n.left+"px",e.style.height=n.bottom-n.top+"px",n=new t.utils.Coordinate(this.sourceBlock_.RTL?n.right-e.offsetWidth:n.left,n.top),e.style.left=n.x+"px",e.style.top=n.y+"px"},t.FieldTextInput.prototype.isTabNavigable=function(){return!0},t.FieldTextInput.prototype.getText_=function(){return this.isBeingEdited_&&this.htmlInput_?this.htmlInput_.value:null},t.FieldTextInput.prototype.getEditorText_=function(t){return String(t)},t.FieldTextInput.prototype.getValueFromEditorText_=function(t){return t},t.fieldRegistry.register("field_input",t.FieldTextInput),t.FieldAngle=function(e,n,i){this.clockwise_=t.FieldAngle.CLOCKWISE,this.offset_=t.FieldAngle.OFFSET,this.wrap_=t.FieldAngle.WRAP,this.round_=t.FieldAngle.ROUND,t.FieldAngle.superClass_.constructor.call(this,e,n,i),this.moveSurfaceWrapper_=this.clickSurfaceWrapper_=this.clickWrapper_=this.line_=this.gauge_=null},t.utils.object.inherits(t.FieldAngle,t.FieldTextInput),t.FieldAngle.prototype.DEFAULT_VALUE=0,t.FieldAngle.fromJson=function(e){return new t.FieldAngle(e.angle,void 0,e)},t.FieldAngle.prototype.SERIALIZABLE=!0,t.FieldAngle.ROUND=15,t.FieldAngle.HALF=50,t.FieldAngle.CLOCKWISE=!1,t.FieldAngle.OFFSET=0,t.FieldAngle.WRAP=360,t.FieldAngle.RADIUS=t.FieldAngle.HALF-1,t.FieldAngle.prototype.configure_=function(e){switch(t.FieldAngle.superClass_.configure_.call(this,e),e.mode){case"compass":this.clockwise_=!0,this.offset_=90;break;case"protractor":this.clockwise_=!1,this.offset_=0}var n=e.clockwise;"boolean"==typeof n&&(this.clockwise_=n),null!=(n=e.offset)&&(n=Number(n),isNaN(n)||(this.offset_=n)),null!=(n=e.wrap)&&(n=Number(n),isNaN(n)||(this.wrap_=n)),null!=(e=e.round)&&(e=Number(e),isNaN(e)||(this.round_=e))},t.FieldAngle.prototype.initView=function(){t.FieldAngle.superClass_.initView.call(this),this.symbol_=t.utils.dom.createSvgElement(t.utils.Svg.TSPAN,{},null),this.symbol_.appendChild(document.createTextNode("\xb0")),this.textElement_.appendChild(this.symbol_)},t.FieldAngle.prototype.render_=function(){t.FieldAngle.superClass_.render_.call(this),this.updateGraph_()},t.FieldAngle.prototype.showEditor_=function(e){t.FieldAngle.superClass_.showEditor_.call(this,e,t.utils.userAgent.MOBILE||t.utils.userAgent.ANDROID||t.utils.userAgent.IPAD),e=this.dropdownCreate_(),t.DropDownDiv.getContentDiv().appendChild(e),t.DropDownDiv.setColour(this.sourceBlock_.style.colourPrimary,this.sourceBlock_.style.colourTertiary),t.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this)),this.updateGraph_()},t.FieldAngle.prototype.dropdownCreate_=function(){var e=t.utils.dom.createSvgElement(t.utils.Svg.SVG,{xmlns:t.utils.dom.SVG_NS,"xmlns:html":t.utils.dom.HTML_NS,"xmlns:xlink":t.utils.dom.XLINK_NS,version:"1.1",height:2*t.FieldAngle.HALF+"px",width:2*t.FieldAngle.HALF+"px",style:"touch-action: none"},null),n=t.utils.dom.createSvgElement(t.utils.Svg.CIRCLE,{cx:t.FieldAngle.HALF,cy:t.FieldAngle.HALF,r:t.FieldAngle.RADIUS,class:"blocklyAngleCircle"},e);this.gauge_=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyAngleGauge"},e),this.line_=t.utils.dom.createSvgElement(t.utils.Svg.LINE,{x1:t.FieldAngle.HALF,y1:t.FieldAngle.HALF,class:"blocklyAngleLine"},e);for(var i=0;360>i;i+=15)t.utils.dom.createSvgElement(t.utils.Svg.LINE,{x1:t.FieldAngle.HALF+t.FieldAngle.RADIUS,y1:t.FieldAngle.HALF,x2:t.FieldAngle.HALF+t.FieldAngle.RADIUS-(0==i%45?10:5),y2:t.FieldAngle.HALF,class:"blocklyAngleMarks",transform:"rotate("+i+","+t.FieldAngle.HALF+","+t.FieldAngle.HALF+")"},e);return this.clickWrapper_=t.browserEvents.conditionalBind(e,"click",this,this.hide_),this.clickSurfaceWrapper_=t.browserEvents.conditionalBind(n,"click",this,this.onMouseMove_,!0,!0),this.moveSurfaceWrapper_=t.browserEvents.conditionalBind(n,"mousemove",this,this.onMouseMove_,!0,!0),e},t.FieldAngle.prototype.dropdownDispose_=function(){this.clickWrapper_&&(t.browserEvents.unbind(this.clickWrapper_),this.clickWrapper_=null),this.clickSurfaceWrapper_&&(t.browserEvents.unbind(this.clickSurfaceWrapper_),this.clickSurfaceWrapper_=null),this.moveSurfaceWrapper_&&(t.browserEvents.unbind(this.moveSurfaceWrapper_),this.moveSurfaceWrapper_=null),this.line_=this.gauge_=null},t.FieldAngle.prototype.hide_=function(){t.DropDownDiv.hideIfOwner(this),t.WidgetDiv.hide()},t.FieldAngle.prototype.onMouseMove_=function(e){var n=this.gauge_.ownerSVGElement.getBoundingClientRect(),i=e.clientX-n.left-t.FieldAngle.HALF;e=e.clientY-n.top-t.FieldAngle.HALF,n=Math.atan(-e/i),isNaN(n)||(n=t.utils.math.toDegrees(n),0>i?n+=180:0<e&&(n+=360),this.displayMouseOrKeyboardValue_(n=this.clockwise_?this.offset_+360-n:360-(this.offset_-n)))},t.FieldAngle.prototype.displayMouseOrKeyboardValue_=function(t){this.round_&&(t=Math.round(t/this.round_)*this.round_),(t=this.wrapValue_(t))!=this.value_&&this.setEditorValue_(t)},t.FieldAngle.prototype.updateGraph_=function(){if(this.gauge_){var e=Number(this.getText())+this.offset_,n=t.utils.math.toRadians(e%360);e=["M ",t.FieldAngle.HALF,",",t.FieldAngle.HALF];var i=t.FieldAngle.HALF,o=t.FieldAngle.HALF;if(!isNaN(n)){var r=Number(this.clockwise_),s=t.utils.math.toRadians(this.offset_),a=Math.cos(s)*t.FieldAngle.RADIUS,l=Math.sin(s)*-t.FieldAngle.RADIUS;r&&(n=2*s-n),i+=Math.cos(n)*t.FieldAngle.RADIUS,o-=Math.sin(n)*t.FieldAngle.RADIUS,n=Math.abs(Math.floor((n-s)/Math.PI)%2),r&&(n=1-n),e.push(" l ",a,",",l," A ",t.FieldAngle.RADIUS,",",t.FieldAngle.RADIUS," 0 ",n," ",r," ",i,",",o," z")}this.gauge_.setAttribute("d",e.join("")),this.line_.setAttribute("x2",i),this.line_.setAttribute("y2",o)}},t.FieldAngle.prototype.onHtmlInputKeyDown_=function(e){var n;if(t.FieldAngle.superClass_.onHtmlInputKeyDown_.call(this,e),e.keyCode===t.utils.KeyCodes.LEFT?n=this.sourceBlock_.RTL?1:-1:e.keyCode===t.utils.KeyCodes.RIGHT?n=this.sourceBlock_.RTL?-1:1:e.keyCode===t.utils.KeyCodes.DOWN?n=-1:e.keyCode===t.utils.KeyCodes.UP&&(n=1),n){var i=this.getValue();this.displayMouseOrKeyboardValue_(i+n*this.round_),e.preventDefault(),e.stopPropagation()}},t.FieldAngle.prototype.doClassValidation_=function(t){return t=Number(t),isNaN(t)||!isFinite(t)?null:this.wrapValue_(t)},t.FieldAngle.prototype.wrapValue_=function(t){return 0>(t%=360)&&(t+=360),t>this.wrap_&&(t-=360),t},t.Css.register(".blocklyAngleCircle {,stroke: #444;,stroke-width: 1;,fill: #ddd;,fill-opacity: .8;,},.blocklyAngleMarks {,stroke: #444;,stroke-width: 1;,},.blocklyAngleGauge {,fill: #f88;,fill-opacity: .8;,pointer-events: none;,},.blocklyAngleLine {,stroke: #f00;,stroke-width: 2;,stroke-linecap: round;,pointer-events: none;,}".split(",")),t.fieldRegistry.register("field_angle",t.FieldAngle),t.FieldCheckbox=function(e,n,i){this.checkChar_=null,t.FieldCheckbox.superClass_.constructor.call(this,e,n,i)},t.utils.object.inherits(t.FieldCheckbox,t.Field),t.FieldCheckbox.prototype.DEFAULT_VALUE=!1,t.FieldCheckbox.fromJson=function(e){return new t.FieldCheckbox(e.checked,void 0,e)},t.FieldCheckbox.CHECK_CHAR="\u2713",t.FieldCheckbox.prototype.SERIALIZABLE=!0,t.FieldCheckbox.prototype.CURSOR="default",t.FieldCheckbox.prototype.configure_=function(e){t.FieldCheckbox.superClass_.configure_.call(this,e),e.checkCharacter&&(this.checkChar_=e.checkCharacter)},t.FieldCheckbox.prototype.initView=function(){t.FieldCheckbox.superClass_.initView.call(this),t.utils.dom.addClass(this.textElement_,"blocklyCheckbox"),this.textElement_.style.display=this.value_?"block":"none"},t.FieldCheckbox.prototype.render_=function(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_(this.getConstants().FIELD_CHECKBOX_X_OFFSET)},t.FieldCheckbox.prototype.getDisplayText_=function(){return this.checkChar_||t.FieldCheckbox.CHECK_CHAR},t.FieldCheckbox.prototype.setCheckCharacter=function(t){this.checkChar_=t,this.forceRerender()},t.FieldCheckbox.prototype.showEditor_=function(){this.setValue(!this.value_)},t.FieldCheckbox.prototype.doClassValidation_=function(t){return!0===t||"TRUE"===t?"TRUE":!1===t||"FALSE"===t?"FALSE":null},t.FieldCheckbox.prototype.doValueUpdate_=function(t){this.value_=this.convertValueToBool_(t),this.textElement_&&(this.textElement_.style.display=this.value_?"block":"none")},t.FieldCheckbox.prototype.getValue=function(){return this.value_?"TRUE":"FALSE"},t.FieldCheckbox.prototype.getValueBoolean=function(){return this.value_},t.FieldCheckbox.prototype.getText=function(){return String(this.convertValueToBool_(this.value_))},t.FieldCheckbox.prototype.convertValueToBool_=function(t){return"string"==typeof t?"TRUE"==t:!!t},t.fieldRegistry.register("field_checkbox",t.FieldCheckbox),t.FieldColour=function(e,n,i){t.FieldColour.superClass_.constructor.call(this,e,n,i),this.onKeyDownWrapper_=this.onMouseLeaveWrapper_=this.onMouseEnterWrapper_=this.onMouseMoveWrapper_=this.onClickWrapper_=this.highlightedIndex_=this.picker_=null},t.utils.object.inherits(t.FieldColour,t.Field),t.FieldColour.fromJson=function(e){return new t.FieldColour(e.colour,void 0,e)},t.FieldColour.prototype.SERIALIZABLE=!0,t.FieldColour.prototype.CURSOR="default",t.FieldColour.prototype.isDirty_=!1,t.FieldColour.prototype.colours_=null,t.FieldColour.prototype.titles_=null,t.FieldColour.prototype.columns_=0,t.FieldColour.prototype.configure_=function(e){t.FieldColour.superClass_.configure_.call(this,e),e.colourOptions&&(this.colours_=e.colourOptions,this.titles_=e.colourTitles),e.columns&&(this.columns_=e.columns)},t.FieldColour.prototype.initView=function(){this.size_=new t.utils.Size(this.getConstants().FIELD_COLOUR_DEFAULT_WIDTH,this.getConstants().FIELD_COLOUR_DEFAULT_HEIGHT),this.getConstants().FIELD_COLOUR_FULL_BLOCK?this.clickTarget_=this.sourceBlock_.getSvgRoot():(this.createBorderRect_(),this.borderRect_.style.fillOpacity="1")},t.FieldColour.prototype.applyColour=function(){this.getConstants().FIELD_COLOUR_FULL_BLOCK?(this.sourceBlock_.pathObject.svgPath.setAttribute("fill",this.getValue()),this.sourceBlock_.pathObject.svgPath.setAttribute("stroke","#fff")):this.borderRect_&&(this.borderRect_.style.fill=this.getValue())},t.FieldColour.prototype.doClassValidation_=function(e){return"string"!=typeof e?null:t.utils.colour.parse(e)},t.FieldColour.prototype.doValueUpdate_=function(t){this.value_=t,this.borderRect_?this.borderRect_.style.fill=t:this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.pathObject.svgPath.setAttribute("fill",t),this.sourceBlock_.pathObject.svgPath.setAttribute("stroke","#fff"))},t.FieldColour.prototype.getText=function(){var t=this.value_;return/^#(.)\1(.)\2(.)\3$/.test(t)&&(t="#"+t[1]+t[3]+t[5]),t},t.FieldColour.COLOURS="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" "),t.FieldColour.prototype.DEFAULT_VALUE=t.FieldColour.COLOURS[0],t.FieldColour.TITLES=[],t.FieldColour.COLUMNS=7,t.FieldColour.prototype.setColours=function(t,e){return this.colours_=t,e&&(this.titles_=e),this},t.FieldColour.prototype.setColumns=function(t){return this.columns_=t,this},t.FieldColour.prototype.showEditor_=function(){this.picker_=this.dropdownCreate_(),t.DropDownDiv.getContentDiv().appendChild(this.picker_),t.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this)),this.picker_.focus({preventScroll:!0})},t.FieldColour.prototype.onClick_=function(e){null!==(e=(e=e.target)&&e.label)&&(this.setValue(e),t.DropDownDiv.hideIfOwner(this))},t.FieldColour.prototype.onKeyDown_=function(e){var n=!1;e.keyCode===t.utils.KeyCodes.UP?(this.moveHighlightBy_(0,-1),n=!0):e.keyCode===t.utils.KeyCodes.DOWN?(this.moveHighlightBy_(0,1),n=!0):e.keyCode===t.utils.KeyCodes.LEFT?(this.moveHighlightBy_(-1,0),n=!0):e.keyCode===t.utils.KeyCodes.RIGHT?(this.moveHighlightBy_(1,0),n=!0):e.keyCode===t.utils.KeyCodes.ENTER&&((n=this.getHighlighted_())&&null!==(n=n&&n.label)&&this.setValue(n),t.DropDownDiv.hideWithoutAnimation(),n=!0),n&&e.stopPropagation()},t.FieldColour.prototype.moveHighlightBy_=function(e,n){var i=this.colours_||t.FieldColour.COLOURS,o=this.columns_||t.FieldColour.COLUMNS,r=this.highlightedIndex_%o,s=Math.floor(this.highlightedIndex_/o);r+=e,s+=n,0>e?0>r&&0<s?(r=o-1,s--):0>r&&(r=0):0<e?r>o-1&&s<Math.floor(i.length/o)-1?(r=0,s++):r>o-1&&r--:0>n?0>s&&(s=0):0<n&&s>Math.floor(i.length/o)-1&&(s=Math.floor(i.length/o)-1),this.setHighlightedCell_(this.picker_.childNodes[s].childNodes[r],s*o+r)},t.FieldColour.prototype.onMouseMove_=function(t){var e=(t=t.target)&&Number(t.getAttribute("data-index"));null!==e&&e!==this.highlightedIndex_&&this.setHighlightedCell_(t,e)},t.FieldColour.prototype.onMouseEnter_=function(){this.picker_.focus({preventScroll:!0})},t.FieldColour.prototype.onMouseLeave_=function(){this.picker_.blur();var e=this.getHighlighted_();e&&t.utils.dom.removeClass(e,"blocklyColourHighlighted")},t.FieldColour.prototype.getHighlighted_=function(){var e=this.columns_||t.FieldColour.COLUMNS,n=this.picker_.childNodes[Math.floor(this.highlightedIndex_/e)];return n?n.childNodes[this.highlightedIndex_%e]:null},t.FieldColour.prototype.setHighlightedCell_=function(e,n){var i=this.getHighlighted_();i&&t.utils.dom.removeClass(i,"blocklyColourHighlighted"),t.utils.dom.addClass(e,"blocklyColourHighlighted"),this.highlightedIndex_=n,t.utils.aria.setState(this.picker_,t.utils.aria.State.ACTIVEDESCENDANT,e.getAttribute("id"))},t.FieldColour.prototype.dropdownCreate_=function(){var e=this.columns_||t.FieldColour.COLUMNS,n=this.colours_||t.FieldColour.COLOURS,i=this.titles_||t.FieldColour.TITLES,o=this.getValue(),r=document.createElement("table");r.className="blocklyColourTable",r.tabIndex=0,r.dir="ltr",t.utils.aria.setRole(r,t.utils.aria.Role.GRID),t.utils.aria.setState(r,t.utils.aria.State.EXPANDED,!0),t.utils.aria.setState(r,t.utils.aria.State.ROWCOUNT,Math.floor(n.length/e)),t.utils.aria.setState(r,t.utils.aria.State.COLCOUNT,e);for(var s,a=0;a<n.length;a++){0==a%e&&(s=document.createElement("tr"),t.utils.aria.setRole(s,t.utils.aria.Role.ROW),r.appendChild(s));var l=document.createElement("td");s.appendChild(l),l.label=n[a],l.title=i[a]||n[a],l.id=t.utils.IdGenerator.getNextUniqueId(),l.setAttribute("data-index",a),t.utils.aria.setRole(l,t.utils.aria.Role.GRIDCELL),t.utils.aria.setState(l,t.utils.aria.State.LABEL,n[a]),t.utils.aria.setState(l,t.utils.aria.State.SELECTED,n[a]==o),l.style.backgroundColor=n[a],n[a]==o&&(l.className="blocklyColourSelected",this.highlightedIndex_=a)}return this.onClickWrapper_=t.browserEvents.conditionalBind(r,"click",this,this.onClick_,!0),this.onMouseMoveWrapper_=t.browserEvents.conditionalBind(r,"mousemove",this,this.onMouseMove_,!0),this.onMouseEnterWrapper_=t.browserEvents.conditionalBind(r,"mouseenter",this,this.onMouseEnter_,!0),this.onMouseLeaveWrapper_=t.browserEvents.conditionalBind(r,"mouseleave",this,this.onMouseLeave_,!0),this.onKeyDownWrapper_=t.browserEvents.conditionalBind(r,"keydown",this,this.onKeyDown_),r},t.FieldColour.prototype.dropdownDispose_=function(){this.onClickWrapper_&&(t.browserEvents.unbind(this.onClickWrapper_),this.onClickWrapper_=null),this.onMouseMoveWrapper_&&(t.browserEvents.unbind(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null),this.onMouseEnterWrapper_&&(t.browserEvents.unbind(this.onMouseEnterWrapper_),this.onMouseEnterWrapper_=null),this.onMouseLeaveWrapper_&&(t.browserEvents.unbind(this.onMouseLeaveWrapper_),this.onMouseLeaveWrapper_=null),this.onKeyDownWrapper_&&(t.browserEvents.unbind(this.onKeyDownWrapper_),this.onKeyDownWrapper_=null),this.highlightedIndex_=this.picker_=null},t.Css.register([".blocklyColourTable {","border-collapse: collapse;","display: block;","outline: none;","padding: 1px;","}",".blocklyColourTable>tr>td {","border: .5px solid #888;","box-sizing: border-box;","cursor: pointer;","display: inline-block;","height: 20px;","padding: 0;","width: 20px;","}",".blocklyColourTable>tr>td.blocklyColourHighlighted {","border-color: #eee;","box-shadow: 2px 2px 7px 2px rgba(0,0,0,.3);","position: relative;","}",".blocklyColourSelected, .blocklyColourSelected:hover {","border-color: #eee !important;","outline: 1px solid #333;","position: relative;","}"]),t.fieldRegistry.register("field_colour",t.FieldColour),t.FieldDropdown=function(e,n,i){"function"!=typeof e&&t.FieldDropdown.validateOptions_(e),this.menuGenerator_=e,this.suffixField=this.prefixField=this.generatedOptions_=null,this.trimOptions_(),this.selectedOption_=this.getOptions(!1)[0],t.FieldDropdown.superClass_.constructor.call(this,this.selectedOption_[1],n,i),this.svgArrow_=this.arrow_=this.imageElement_=this.menu_=this.selectedMenuItem_=null},t.utils.object.inherits(t.FieldDropdown,t.Field),t.FieldDropdown.fromJson=function(e){return new t.FieldDropdown(e.options,void 0,e)},t.FieldDropdown.prototype.fromXml=function(t){this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(t.textContent)},t.FieldDropdown.prototype.SERIALIZABLE=!0,t.FieldDropdown.CHECKMARK_OVERHANG=25,t.FieldDropdown.MAX_MENU_HEIGHT_VH=.45,t.FieldDropdown.IMAGE_Y_OFFSET=5,t.FieldDropdown.IMAGE_Y_PADDING=2*t.FieldDropdown.IMAGE_Y_OFFSET,t.FieldDropdown.ARROW_CHAR=t.utils.userAgent.ANDROID?"\u25bc":"\u25be",t.FieldDropdown.prototype.CURSOR="default",t.FieldDropdown.prototype.initView=function(){this.shouldAddBorderRect_()?this.createBorderRect_():this.clickTarget_=this.sourceBlock_.getSvgRoot(),this.createTextElement_(),this.imageElement_=t.utils.dom.createSvgElement(t.utils.Svg.IMAGE,{},this.fieldGroup_),this.getConstants().FIELD_DROPDOWN_SVG_ARROW?this.createSVGArrow_():this.createTextArrow_(),this.borderRect_&&t.utils.dom.addClass(this.borderRect_,"blocklyDropdownRect")},t.FieldDropdown.prototype.shouldAddBorderRect_=function(){return!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW&&!this.sourceBlock_.isShadow()},t.FieldDropdown.prototype.createTextArrow_=function(){this.arrow_=t.utils.dom.createSvgElement(t.utils.Svg.TSPAN,{},this.textElement_),this.arrow_.appendChild(document.createTextNode(this.sourceBlock_.RTL?t.FieldDropdown.ARROW_CHAR+" ":" "+t.FieldDropdown.ARROW_CHAR)),this.sourceBlock_.RTL?this.textElement_.insertBefore(this.arrow_,this.textContent_):this.textElement_.appendChild(this.arrow_)},t.FieldDropdown.prototype.createSVGArrow_=function(){this.svgArrow_=t.utils.dom.createSvgElement(t.utils.Svg.IMAGE,{height:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px",width:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px"},this.fieldGroup_),this.svgArrow_.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.getConstants().FIELD_DROPDOWN_SVG_ARROW_DATAURI)},t.FieldDropdown.prototype.showEditor_=function(e){if(this.menu_=this.dropdownCreate_(),this.menu_.openingCoords=e&&"number"==typeof e.clientX?new t.utils.Coordinate(e.clientX,e.clientY):null,this.menu_.render(t.DropDownDiv.getContentDiv()),e=this.menu_.getElement(),t.utils.dom.addClass(e,"blocklyDropdownMenu"),this.getConstants().FIELD_DROPDOWN_COLOURED_DIV){e=this.sourceBlock_.isShadow()?this.sourceBlock_.getParent().getColour():this.sourceBlock_.getColour();var n=this.sourceBlock_.isShadow()?this.sourceBlock_.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary;t.DropDownDiv.setColour(e,n)}t.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this)),this.menu_.focus(),this.selectedMenuItem_&&this.menu_.setHighlighted(this.selectedMenuItem_),this.applyColour()},t.FieldDropdown.prototype.dropdownCreate_=function(){var e=new t.Menu;e.setRole(t.utils.aria.Role.LISTBOX);var n=this.getOptions(!1);this.selectedMenuItem_=null;for(var i=0;i<n.length;i++){var o=n[i][0],r=n[i][1];if("object"==typeof o){var s=new Image(o.width,o.height);s.src=o.src,s.alt=o.alt||"",o=s}(o=new t.MenuItem(o,r)).setRole(t.utils.aria.Role.OPTION),o.setRightToLeft(this.sourceBlock_.RTL),o.setCheckable(!0),e.addChild(o),o.setChecked(r==this.value_),r==this.value_&&(this.selectedMenuItem_=o),o.onAction(this.handleMenuActionEvent_,this)}return e},t.FieldDropdown.prototype.dropdownDispose_=function(){this.menu_&&this.menu_.dispose(),this.selectedMenuItem_=this.menu_=null,this.applyColour()},t.FieldDropdown.prototype.handleMenuActionEvent_=function(e){t.DropDownDiv.hideIfOwner(this,!0),this.onItemSelected_(this.menu_,e)},t.FieldDropdown.prototype.onItemSelected_=function(t,e){this.setValue(e.getValue())},t.FieldDropdown.prototype.trimOptions_=function(){var e=this.menuGenerator_;if(Array.isArray(e)){for(var n=!1,i=0;i<e.length;i++){var o=e[i][0];"string"==typeof o?e[i][0]=t.utils.replaceMessageReferences(o):(null!=o.alt&&(e[i][0].alt=t.utils.replaceMessageReferences(o.alt)),n=!0)}if(!(n||2>e.length)){for(n=[],i=0;i<e.length;i++)n.push(e[i][0]);i=t.utils.string.shortestStringLength(n),o=t.utils.string.commonWordPrefix(n,i);var r=t.utils.string.commonWordSuffix(n,i);!o&&!r||i<=o+r||(o&&(this.prefixField=n[0].substring(0,o-1)),r&&(this.suffixField=n[0].substr(1-r)),this.menuGenerator_=t.FieldDropdown.applyTrim_(e,o,r))}}},t.FieldDropdown.applyTrim_=function(t,e,n){for(var i=[],o=0;o<t.length;o++){var r=t[o][0],s=t[o][1];r=r.substring(e,r.length-n),i[o]=[r,s]}return i},t.FieldDropdown.prototype.isOptionListDynamic=function(){return"function"==typeof this.menuGenerator_},t.FieldDropdown.prototype.getOptions=function(e){return this.isOptionListDynamic()?(this.generatedOptions_&&e||(this.generatedOptions_=this.menuGenerator_.call(this),t.FieldDropdown.validateOptions_(this.generatedOptions_)),this.generatedOptions_):this.menuGenerator_},t.FieldDropdown.prototype.doClassValidation_=function(t){for(var e,n=!1,i=this.getOptions(!0),o=0;e=i[o];o++)if(e[1]==t){n=!0;break}return n?t:(this.sourceBlock_&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.sourceBlock_.type+", Field name: "+this.name+", Value: "+t),null)},t.FieldDropdown.prototype.doValueUpdate_=function(e){t.FieldDropdown.superClass_.doValueUpdate_.call(this,e),e=this.getOptions(!0);for(var n,i=0;n=e[i];i++)n[1]==this.value_&&(this.selectedOption_=n)},t.FieldDropdown.prototype.applyColour=function(){this.borderRect_&&(this.borderRect_.setAttribute("stroke",this.sourceBlock_.style.colourTertiary),this.borderRect_.setAttribute("fill",this.menu_?this.sourceBlock_.style.colourTertiary:"transparent")),this.sourceBlock_&&this.arrow_&&(this.arrow_.style.fill=this.sourceBlock_.isShadow()?this.sourceBlock_.style.colourSecondary:this.sourceBlock_.style.colourPrimary)},t.FieldDropdown.prototype.render_=function(){this.textContent_.nodeValue="",this.imageElement_.style.display="none";var t=this.selectedOption_&&this.selectedOption_[0];t&&"object"==typeof t?this.renderSelectedImage_(t):this.renderSelectedText_(),this.positionBorderRect_()},t.FieldDropdown.prototype.renderSelectedImage_=function(e){this.imageElement_.style.display="",this.imageElement_.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",e.src),this.imageElement_.setAttribute("height",e.height),this.imageElement_.setAttribute("width",e.width);var n=Number(e.height);e=Number(e.width);var i=!!this.borderRect_,o=Math.max(i?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,n+t.FieldDropdown.IMAGE_Y_PADDING);i=i?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;var r=this.svgArrow_?this.positionSVGArrow_(e+i,o/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2):t.utils.dom.getFastTextWidth(this.arrow_,this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY);this.size_.width=e+r+2*i,this.size_.height=o;var s=0;this.sourceBlock_.RTL?this.imageElement_.setAttribute("x",i+r):(s=e+r,this.textElement_.setAttribute("text-anchor","end"),this.imageElement_.setAttribute("x",i)),this.imageElement_.setAttribute("y",o/2-n/2),this.positionTextElement_(s+i,e+r)},t.FieldDropdown.prototype.renderSelectedText_=function(){this.textContent_.nodeValue=this.getDisplayText_(),t.utils.dom.addClass(this.textElement_,"blocklyDropdownText"),this.textElement_.setAttribute("text-anchor","start");var e=!!this.borderRect_,n=Math.max(e?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,this.getConstants().FIELD_TEXT_HEIGHT),i=t.utils.dom.getFastTextWidth(this.textElement_,this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY);e=e?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;var o=0;this.svgArrow_&&(o=this.positionSVGArrow_(i+e,n/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2)),this.size_.width=i+o+2*e,this.size_.height=n,this.positionTextElement_(e,i)},t.FieldDropdown.prototype.positionSVGArrow_=function(t,e){if(!this.svgArrow_)return 0;var n=this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0,i=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_PADDING,o=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE;return this.svgArrow_.setAttribute("transform","translate("+(this.sourceBlock_.RTL?n:t+i)+","+e+")"),o+i},t.FieldDropdown.prototype.getText_=function(){if(!this.selectedOption_)return null;var t=this.selectedOption_[0];return"object"==typeof t?t.alt:t},t.FieldDropdown.validateOptions_=function(t){if(!Array.isArray(t))throw TypeError("FieldDropdown options must be an array.");if(!t.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var e=!1,n=0;n<t.length;++n){var i=t[n];Array.isArray(i)?"string"!=typeof i[1]?(e=!0,console.error("Invalid option["+n+"]: Each FieldDropdown option id must be a string. Found "+i[1]+" in: ",i)):i[0]&&"string"!=typeof i[0]&&"string"!=typeof i[0].src&&(e=!0,console.error("Invalid option["+n+"]: Each FieldDropdown option must have a string label or image description. Found"+i[0]+" in: ",i)):(e=!0,console.error("Invalid option["+n+"]: Each FieldDropdown option must be an array. Found: ",i))}if(e)throw TypeError("Found invalid FieldDropdown options.")},t.fieldRegistry.register("field_dropdown",t.FieldDropdown),t.FieldLabelSerializable=function(e,n,i){t.FieldLabelSerializable.superClass_.constructor.call(this,e,n,i)},t.utils.object.inherits(t.FieldLabelSerializable,t.FieldLabel),t.FieldLabelSerializable.fromJson=function(e){var n=t.utils.replaceMessageReferences(e.text);return new t.FieldLabelSerializable(n,void 0,e)},t.FieldLabelSerializable.prototype.EDITABLE=!1,t.FieldLabelSerializable.prototype.SERIALIZABLE=!0,t.fieldRegistry.register("field_label_serializable",t.FieldLabelSerializable),t.FieldImage=function(e,n,i,o,r,s,a){if(!e)throw Error("Src value of an image field is required");if(e=t.utils.replaceMessageReferences(e),i=Number(t.utils.replaceMessageReferences(i)),n=Number(t.utils.replaceMessageReferences(n)),isNaN(i)||isNaN(n))throw Error("Height and width values of an image field must cast to numbers.");if(0>=i||0>=n)throw Error("Height and width values of an image field must be greater than 0.");this.flipRtl_=!1,this.altText_="",t.FieldImage.superClass_.constructor.call(this,e,null,a),a||(this.flipRtl_=!!s,this.altText_=t.utils.replaceMessageReferences(o)||""),this.size_=new t.utils.Size(n,i+t.FieldImage.Y_PADDING),this.imageHeight_=i,this.clickHandler_=null,"function"==typeof r&&(this.clickHandler_=r),this.imageElement_=null},t.utils.object.inherits(t.FieldImage,t.Field),t.FieldImage.prototype.DEFAULT_VALUE="",t.FieldImage.fromJson=function(e){return new t.FieldImage(e.src,e.width,e.height,void 0,void 0,void 0,e)},t.FieldImage.Y_PADDING=1,t.FieldImage.prototype.EDITABLE=!1,t.FieldImage.prototype.isDirty_=!1,t.FieldImage.prototype.configure_=function(e){t.FieldImage.superClass_.configure_.call(this,e),this.flipRtl_=!!e.flipRtl,this.altText_=t.utils.replaceMessageReferences(e.alt)||""},t.FieldImage.prototype.initView=function(){this.imageElement_=t.utils.dom.createSvgElement(t.utils.Svg.IMAGE,{height:this.imageHeight_+"px",width:this.size_.width+"px",alt:this.altText_},this.fieldGroup_),this.imageElement_.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.value_),this.clickHandler_&&(this.imageElement_.style.cursor="pointer")},t.FieldImage.prototype.updateSize_=function(){},t.FieldImage.prototype.doClassValidation_=function(t){return"string"!=typeof t?null:t},t.FieldImage.prototype.doValueUpdate_=function(e){this.value_=e,this.imageElement_&&this.imageElement_.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",String(this.value_))},t.FieldImage.prototype.getFlipRtl=function(){return this.flipRtl_},t.FieldImage.prototype.setAlt=function(t){t!=this.altText_&&(this.altText_=t||"",this.imageElement_&&this.imageElement_.setAttribute("alt",this.altText_))},t.FieldImage.prototype.showEditor_=function(){this.clickHandler_&&this.clickHandler_(this)},t.FieldImage.prototype.setOnClickHandler=function(t){this.clickHandler_=t},t.FieldImage.prototype.getText_=function(){return this.altText_},t.fieldRegistry.register("field_image",t.FieldImage),t.FieldMultilineInput=function(e,n,i){t.FieldMultilineInput.superClass_.constructor.call(this,e,n,i),this.textGroup_=null,this.maxLines_=1/0,this.isOverflowedY_=!1},t.utils.object.inherits(t.FieldMultilineInput,t.FieldTextInput),t.FieldMultilineInput.prototype.configure_=function(e){t.FieldMultilineInput.superClass_.configure_.call(this,e),e.maxLines&&this.setMaxLines(e.maxLines)},t.FieldMultilineInput.fromJson=function(e){var n=t.utils.replaceMessageReferences(e.text);return new t.FieldMultilineInput(n,void 0,e)},t.FieldMultilineInput.prototype.toXml=function(t){return t.textContent=this.getValue().replace(/\n/g,"&#10;"),t},t.FieldMultilineInput.prototype.fromXml=function(t){this.setValue(t.textContent.replace(/&#10;/g,"\n"))},t.FieldMultilineInput.prototype.initView=function(){this.createBorderRect_(),this.textGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyEditableText"},this.fieldGroup_)},t.FieldMultilineInput.prototype.getDisplayText_=function(){var e=this.getText();if(!e)return t.Field.NBSP;var n=e.split("\n");e="";for(var i=this.isOverflowedY_?this.maxLines_:n.length,o=0;o<i;o++){var r=n[o];r.length>this.maxDisplayLength?r=r.substring(0,this.maxDisplayLength-4)+"...":this.isOverflowedY_&&o===i-1&&(r=r.substring(0,r.length-3)+"..."),e+=r=r.replace(/\s/g,t.Field.NBSP),o!==i-1&&(e+="\n")}return this.sourceBlock_.RTL&&(e+="\u200f"),e},t.FieldMultilineInput.prototype.doValueUpdate_=function(e){t.FieldMultilineInput.superClass_.doValueUpdate_.call(this,e),this.isOverflowedY_=this.value_.split("\n").length>this.maxLines_},t.FieldMultilineInput.prototype.render_=function(){for(var e;e=this.textGroup_.firstChild;)this.textGroup_.removeChild(e);e=this.getDisplayText_().split("\n");for(var n=0,i=0;i<e.length;i++){var o=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING;t.utils.dom.createSvgElement(t.utils.Svg.TEXT,{class:"blocklyText blocklyMultilineText",x:this.getConstants().FIELD_BORDER_RECT_X_PADDING,y:n+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,dy:this.getConstants().FIELD_TEXT_BASELINE},this.textGroup_).appendChild(document.createTextNode(e[i])),n+=o}this.isBeingEdited_&&(e=this.htmlInput_,this.isOverflowedY_?t.utils.dom.addClass(e,"blocklyHtmlTextAreaInputOverflowedY"):t.utils.dom.removeClass(e,"blocklyHtmlTextAreaInputOverflowedY")),this.updateSize_(),this.isBeingEdited_&&(this.sourceBlock_.RTL?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),e=this.htmlInput_,this.isTextValid_?(t.utils.dom.removeClass(e,"blocklyInvalidInput"),t.utils.aria.setState(e,t.utils.aria.State.INVALID,!1)):(t.utils.dom.addClass(e,"blocklyInvalidInput"),t.utils.aria.setState(e,t.utils.aria.State.INVALID,!0)))},t.FieldMultilineInput.prototype.updateSize_=function(){for(var e=this.textGroup_.childNodes,n=0,i=0,o=0;o<e.length;o++){var r=t.utils.dom.getTextWidth(e[o]);r>n&&(n=r),i+=this.getConstants().FIELD_TEXT_HEIGHT+(0<o?this.getConstants().FIELD_BORDER_RECT_Y_PADDING:0)}if(this.isBeingEdited_){e=this.value_.split("\n"),r=t.utils.dom.createSvgElement(t.utils.Svg.TEXT,{class:"blocklyText blocklyMultilineText"});var s=this.getConstants().FIELD_TEXT_FONTSIZE,a=this.getConstants().FIELD_TEXT_FONTWEIGHT,l=this.getConstants().FIELD_TEXT_FONTFAMILY;for(o=0;o<e.length;o++){e[o].length>this.maxDisplayLength&&(e[o]=e[o].substring(0,this.maxDisplayLength)),r.textContent=e[o];var c=t.utils.dom.getFastTextWidth(r,s,a,l);c>n&&(n=c)}n+=this.htmlInput_.offsetWidth-this.htmlInput_.clientWidth}this.borderRect_&&(i+=2*this.getConstants().FIELD_BORDER_RECT_Y_PADDING,n+=2*this.getConstants().FIELD_BORDER_RECT_X_PADDING,this.borderRect_.setAttribute("width",n),this.borderRect_.setAttribute("height",i)),this.size_.width=n,this.size_.height=i,this.positionBorderRect_()},t.FieldMultilineInput.prototype.showEditor_=function(e,n){t.FieldMultilineInput.superClass_.showEditor_.call(this,e,n),this.forceRerender()},t.FieldMultilineInput.prototype.widgetCreate_=function(){var e=t.WidgetDiv.DIV,n=this.workspace_.getScale(),i=document.createElement("textarea");i.className="blocklyHtmlInput blocklyHtmlTextAreaInput",i.setAttribute("spellcheck",this.spellcheck_);var o=this.getConstants().FIELD_TEXT_FONTSIZE*n+"pt";e.style.fontSize=o,i.style.fontSize=o,i.style.borderRadius=t.FieldTextInput.BORDERRADIUS*n+"px",o=this.getConstants().FIELD_BORDER_RECT_X_PADDING*n;var r=this.getConstants().FIELD_BORDER_RECT_Y_PADDING*n/2;return i.style.padding=r+"px "+o+"px "+r+"px "+o+"px",o=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,i.style.lineHeight=o*n+"px",e.appendChild(i),i.value=i.defaultValue=this.getEditorText_(this.value_),i.untypedDefaultValue_=this.value_,i.oldValue_=null,t.utils.userAgent.GECKO?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),this.bindInputEvents_(i),i},t.FieldMultilineInput.prototype.setMaxLines=function(t){"number"==typeof t&&0<t&&t!==this.maxLines_&&(this.maxLines_=t,this.forceRerender())},t.FieldMultilineInput.prototype.getMaxLines=function(){return this.maxLines_},t.FieldMultilineInput.prototype.onHtmlInputKeyDown_=function(e){e.keyCode!==t.utils.KeyCodes.ENTER&&t.FieldMultilineInput.superClass_.onHtmlInputKeyDown_.call(this,e)},t.Css.register(".blocklyHtmlTextAreaInput {,font-family: monospace;,resize: none;,overflow: hidden;,height: 100%;,text-align: left;,},.blocklyHtmlTextAreaInputOverflowedY {,overflow-y: scroll;,}".split(",")),t.fieldRegistry.register("field_multilinetext",t.FieldMultilineInput),t.FieldNumber=function(e,n,i,o,r,s){this.min_=-1/0,this.max_=1/0,this.precision_=0,this.decimalPlaces_=null,t.FieldNumber.superClass_.constructor.call(this,e,r,s),s||this.setConstraints(n,i,o)},t.utils.object.inherits(t.FieldNumber,t.FieldTextInput),t.FieldNumber.prototype.DEFAULT_VALUE=0,t.FieldNumber.fromJson=function(e){return new t.FieldNumber(e.value,void 0,void 0,void 0,void 0,e)},t.FieldNumber.prototype.SERIALIZABLE=!0,t.FieldNumber.prototype.configure_=function(e){t.FieldNumber.superClass_.configure_.call(this,e),this.setMinInternal_(e.min),this.setMaxInternal_(e.max),this.setPrecisionInternal_(e.precision)},t.FieldNumber.prototype.setConstraints=function(t,e,n){this.setMinInternal_(t),this.setMaxInternal_(e),this.setPrecisionInternal_(n),this.setValue(this.getValue())},t.FieldNumber.prototype.setMin=function(t){this.setMinInternal_(t),this.setValue(this.getValue())},t.FieldNumber.prototype.setMinInternal_=function(t){null==t?this.min_=-1/0:(t=Number(t),isNaN(t)||(this.min_=t))},t.FieldNumber.prototype.getMin=function(){return this.min_},t.FieldNumber.prototype.setMax=function(t){this.setMaxInternal_(t),this.setValue(this.getValue())},t.FieldNumber.prototype.setMaxInternal_=function(t){null==t?this.max_=1/0:(t=Number(t),isNaN(t)||(this.max_=t))},t.FieldNumber.prototype.getMax=function(){return this.max_},t.FieldNumber.prototype.setPrecision=function(t){this.setPrecisionInternal_(t),this.setValue(this.getValue())},t.FieldNumber.prototype.setPrecisionInternal_=function(t){null==t?this.precision_=0:(t=Number(t),isNaN(t)||(this.precision_=t));var e=this.precision_.toLocaleString("en-US",{maximumFractionDigits:20}),n=e.indexOf(".");this.decimalPlaces_=-1==n?t?0:null:e.length-n-1},t.FieldNumber.prototype.getPrecision=function(){return this.precision_},t.FieldNumber.prototype.doClassValidation_=function(t){return null===t?null:(t=(t=(t=(t=String(t)).replace(/O/gi,"0")).replace(/,/g,"")).replace(/infinity/i,"Infinity"),t=Number(t||0),isNaN(t)?null:(t=Math.min(Math.max(t,this.min_),this.max_),this.precision_&&isFinite(t)&&(t=Math.round(t/this.precision_)*this.precision_),null!=this.decimalPlaces_&&(t=Number(t.toFixed(this.decimalPlaces_))),t))},t.FieldNumber.prototype.widgetCreate_=function(){var e=t.FieldNumber.superClass_.widgetCreate_.call(this);return-1/0<this.min_&&t.utils.aria.setState(e,t.utils.aria.State.VALUEMIN,this.min_),1/0>this.max_&&t.utils.aria.setState(e,t.utils.aria.State.VALUEMAX,this.max_),e},t.fieldRegistry.register("field_number",t.FieldNumber),t.FieldVariable=function(e,n,i,o,r){this.menuGenerator_=t.FieldVariable.dropdownCreate,this.defaultVariableName="string"==typeof e?e:"",this.size_=new t.utils.Size(0,0),r&&this.configure_(r),n&&this.setValidator(n),r||this.setTypes_(i,o)},t.utils.object.inherits(t.FieldVariable,t.FieldDropdown),t.FieldVariable.fromJson=function(e){var n=t.utils.replaceMessageReferences(e.variable);return new t.FieldVariable(n,void 0,void 0,void 0,e)},t.FieldVariable.prototype.SERIALIZABLE=!0,t.FieldVariable.prototype.configure_=function(e){t.FieldVariable.superClass_.configure_.call(this,e),this.setTypes_(e.variableTypes,e.defaultType)},t.FieldVariable.prototype.initModel=function(){if(!this.variable_){var e=t.Variables.getOrCreateVariablePackage(this.sourceBlock_.workspace,null,this.defaultVariableName,this.defaultType_);this.doValueUpdate_(e.getId())}},t.FieldVariable.prototype.shouldAddBorderRect_=function(){return t.FieldVariable.superClass_.shouldAddBorderRect_.call(this)&&(!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||"variables_get"!=this.sourceBlock_.type)},t.FieldVariable.prototype.fromXml=function(e){var n=e.getAttribute("id"),i=e.textContent,o=e.getAttribute("variabletype")||e.getAttribute("variableType")||"";if(n=t.Variables.getOrCreateVariablePackage(this.sourceBlock_.workspace,n,i,o),null!=o&&o!==n.type)throw Error("Serialized variable type with id '"+n.getId()+"' had type "+n.type+", and does not match variable field that references it: "+t.Xml.domToText(e)+".");this.setValue(n.getId())},t.FieldVariable.prototype.toXml=function(t){return this.initModel(),t.id=this.variable_.getId(),t.textContent=this.variable_.name,this.variable_.type&&t.setAttribute("variabletype",this.variable_.type),t},t.FieldVariable.prototype.setSourceBlock=function(e){if(e.isShadow())throw Error("Variable fields are not allowed to exist on shadow blocks.");t.FieldVariable.superClass_.setSourceBlock.call(this,e)},t.FieldVariable.prototype.getValue=function(){return this.variable_?this.variable_.getId():null},t.FieldVariable.prototype.getText=function(){return this.variable_?this.variable_.name:""},t.FieldVariable.prototype.getVariable=function(){return this.variable_},t.FieldVariable.prototype.getValidator=function(){return this.variable_?this.validator_:null},t.FieldVariable.prototype.doClassValidation_=function(e){if(null===e)return null;var n=t.Variables.getVariable(this.sourceBlock_.workspace,e);return n?this.typeIsAllowed_(n=n.type)?e:(console.warn("Variable type doesn't match this field!  Type was "+n),null):(console.warn("Variable id doesn't point to a real variable! ID was "+e),null)},t.FieldVariable.prototype.doValueUpdate_=function(e){this.variable_=t.Variables.getVariable(this.sourceBlock_.workspace,e),t.FieldVariable.superClass_.doValueUpdate_.call(this,e)},t.FieldVariable.prototype.typeIsAllowed_=function(t){var e=this.getVariableTypes_();if(!e)return!0;for(var n=0;n<e.length;n++)if(t==e[n])return!0;return!1},t.FieldVariable.prototype.getVariableTypes_=function(){var t=this.variableTypes;if(null===t&&this.sourceBlock_&&this.sourceBlock_.workspace)return this.sourceBlock_.workspace.getVariableTypes();if(0==(t=t||[""]).length)throw t=this.getText(),Error("'variableTypes' of field variable "+t+" was an empty list");return t},t.FieldVariable.prototype.setTypes_=function(t,e){if(e=e||"",null==t||null==t)t=null;else{if(!Array.isArray(t))throw Error("'variableTypes' was not an array in the definition of a FieldVariable");for(var n=!1,i=0;i<t.length;i++)t[i]==e&&(n=!0);if(!n)throw Error("Invalid default type '"+e+"' in the definition of a FieldVariable")}this.defaultType_=e,this.variableTypes=t},t.FieldVariable.prototype.refreshVariableName=function(){this.forceRerender()},t.FieldVariable.dropdownCreate=function(){if(!this.variable_)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var e=this.getText(),n=[];if(this.sourceBlock_&&this.sourceBlock_.workspace)for(var i=this.getVariableTypes_(),o=0;o<i.length;o++){var r=this.sourceBlock_.workspace.getVariablesOfType(i[o]);n=n.concat(r)}for(n.sort(t.VariableModel.compareByName),i=[],o=0;o<n.length;o++)i[o]=[n[o].name,n[o].getId()];return i.push([t.Msg.RENAME_VARIABLE,t.RENAME_VARIABLE_ID]),t.Msg.DELETE_VARIABLE&&i.push([t.Msg.DELETE_VARIABLE.replace("%1",e),t.DELETE_VARIABLE_ID]),i},t.FieldVariable.prototype.onItemSelected_=function(e,n){if(e=n.getValue(),this.sourceBlock_&&this.sourceBlock_.workspace){if(e==t.RENAME_VARIABLE_ID)return void t.Variables.renameVariable(this.sourceBlock_.workspace,this.variable_);if(e==t.DELETE_VARIABLE_ID)return void this.sourceBlock_.workspace.deleteVariableById(this.variable_.getId())}this.setValue(e)},t.FieldVariable.prototype.referencesVariables=function(){return!0},t.fieldRegistry.register("field_variable",t.FieldVariable),t.utils.svgPaths={},t.utils.svgPaths.point=function(t,e){return" "+t+","+e+" "},t.utils.svgPaths.curve=function(t,e){return" "+t+e.join("")},t.utils.svgPaths.moveTo=function(t,e){return" M "+t+","+e+" "},t.utils.svgPaths.moveBy=function(t,e){return" m "+t+","+e+" "},t.utils.svgPaths.lineTo=function(t,e){return" l "+t+","+e+" "},t.utils.svgPaths.line=function(t){return" l"+t.join("")},t.utils.svgPaths.lineOnAxis=function(t,e){return" "+t+" "+e+" "},t.utils.svgPaths.arc=function(t,e,n,i){return t+" "+n+" "+n+" "+e+i},t.blockRendering.ConstantProvider=function(){this.NO_PADDING=0,this.SMALL_PADDING=3,this.MEDIUM_PADDING=5,this.MEDIUM_LARGE_PADDING=8,this.LARGE_PADDING=10,this.TALL_INPUT_FIELD_OFFSET_Y=this.MEDIUM_PADDING,this.TAB_HEIGHT=15,this.TAB_OFFSET_FROM_TOP=5,this.TAB_VERTICAL_OVERLAP=2.5,this.TAB_WIDTH=8,this.NOTCH_WIDTH=15,this.NOTCH_HEIGHT=4,this.MIN_BLOCK_WIDTH=12,this.EMPTY_BLOCK_SPACER_HEIGHT=16,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=this.DUMMY_INPUT_MIN_HEIGHT=this.TAB_HEIGHT,this.CORNER_RADIUS=8,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=15,this.STATEMENT_BOTTOM_SPACER=0,this.STATEMENT_INPUT_PADDING_LEFT=20,this.BETWEEN_STATEMENT_PADDING_Y=4,this.TOP_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.ADD_START_HATS=!1,this.START_HAT_HEIGHT=15,this.START_HAT_WIDTH=100,this.SPACER_DEFAULT_HEIGHT=15,this.MIN_BLOCK_HEIGHT=24,this.EMPTY_INLINE_INPUT_PADDING=14.5,this.EMPTY_INLINE_INPUT_HEIGHT=this.TAB_HEIGHT+11,this.EXTERNAL_VALUE_INPUT_PADDING=2,this.EMPTY_STATEMENT_INPUT_HEIGHT=this.MIN_BLOCK_HEIGHT,this.START_POINT=t.utils.svgPaths.moveBy(0,0),this.JAGGED_TEETH_HEIGHT=12,this.JAGGED_TEETH_WIDTH=6,this.FIELD_TEXT_FONTSIZE=11,this.FIELD_TEXT_FONTWEIGHT="normal",this.FIELD_TEXT_FONTFAMILY="sans-serif",this.FIELD_TEXT_BASELINE=this.FIELD_TEXT_HEIGHT=-1,this.FIELD_BORDER_RECT_RADIUS=4,this.FIELD_BORDER_RECT_HEIGHT=16,this.FIELD_BORDER_RECT_X_PADDING=5,this.FIELD_BORDER_RECT_Y_PADDING=3,this.FIELD_BORDER_RECT_COLOUR="#fff",this.FIELD_TEXT_BASELINE_CENTER=!t.utils.userAgent.IE&&!t.utils.userAgent.EDGE,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!1,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_DROPDOWN_SVG_ARROW_SIZE=12,this.FIELD_DROPDOWN_SVG_ARROW_DATAURI="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=",this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!1,this.FIELD_COLOUR_DEFAULT_WIDTH=26,this.FIELD_COLOUR_DEFAULT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_CHECKBOX_X_OFFSET=this.FIELD_BORDER_RECT_X_PADDING-3,this.randomIdentifier=String(Math.random()).substring(2),this.embossFilterId="",this.embossFilter_=null,this.disabledPatternId="",this.disabledPattern_=null,this.debugFilterId="",this.cssNode_=this.debugFilter_=null,this.CURSOR_COLOUR="#cc0a0a",this.MARKER_COLOUR="#4286f4",this.CURSOR_WS_WIDTH=100,this.WS_CURSOR_HEIGHT=5,this.CURSOR_STACK_PADDING=10,this.CURSOR_BLOCK_PADDING=2,this.CURSOR_STROKE_WIDTH=4,this.FULL_BLOCK_FIELDS=!1,this.INSERTION_MARKER_COLOUR="#000000",this.INSERTION_MARKER_OPACITY=.2,this.SHAPES={PUZZLE:1,NOTCH:2}},t.blockRendering.ConstantProvider.prototype.init=function(){this.JAGGED_TEETH=this.makeJaggedTeeth(),this.NOTCH=this.makeNotch(),this.START_HAT=this.makeStartHat(),this.PUZZLE_TAB=this.makePuzzleTab(),this.INSIDE_CORNERS=this.makeInsideCorners(),this.OUTSIDE_CORNERS=this.makeOutsideCorners()},t.blockRendering.ConstantProvider.prototype.setTheme=function(t){this.blockStyles={};var e,n=t.blockStyles;for(e in n)this.blockStyles[e]=this.validatedBlockStyle_(n[e]);this.setDynamicProperties_(t)},t.blockRendering.ConstantProvider.prototype.setDynamicProperties_=function(t){this.setFontConstants_(t),this.setComponentConstants_(t),this.ADD_START_HATS=null!=t.startHats?t.startHats:this.ADD_START_HATS},t.blockRendering.ConstantProvider.prototype.setFontConstants_=function(e){this.FIELD_TEXT_FONTFAMILY=e.fontStyle&&null!=e.fontStyle.family?e.fontStyle.family:this.FIELD_TEXT_FONTFAMILY,this.FIELD_TEXT_FONTWEIGHT=e.fontStyle&&null!=e.fontStyle.weight?e.fontStyle.weight:this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTSIZE=e.fontStyle&&null!=e.fontStyle.size?e.fontStyle.size:this.FIELD_TEXT_FONTSIZE,e=t.utils.dom.measureFontMetrics("Hg",this.FIELD_TEXT_FONTSIZE+"pt",this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTFAMILY),this.FIELD_TEXT_HEIGHT=e.height,this.FIELD_TEXT_BASELINE=e.baseline},t.blockRendering.ConstantProvider.prototype.setComponentConstants_=function(t){this.CURSOR_COLOUR=t.getComponentStyle("cursorColour")||this.CURSOR_COLOUR,this.MARKER_COLOUR=t.getComponentStyle("markerColour")||this.MARKER_COLOUR,this.INSERTION_MARKER_COLOUR=t.getComponentStyle("insertionMarkerColour")||this.INSERTION_MARKER_COLOUR,this.INSERTION_MARKER_OPACITY=Number(t.getComponentStyle("insertionMarkerOpacity"))||this.INSERTION_MARKER_OPACITY},t.blockRendering.ConstantProvider.prototype.getBlockStyleForColour=function(t){var e="auto_"+t;return this.blockStyles[e]||(this.blockStyles[e]=this.createBlockStyle_(t)),{style:this.blockStyles[e],name:e}},t.blockRendering.ConstantProvider.prototype.getBlockStyle=function(t){return this.blockStyles[t||""]||(t&&0==t.indexOf("auto_")?this.getBlockStyleForColour(t.substring(5)).style:this.createBlockStyle_("#000000"))},t.blockRendering.ConstantProvider.prototype.createBlockStyle_=function(t){return this.validatedBlockStyle_({colourPrimary:t})},t.blockRendering.ConstantProvider.prototype.validatedBlockStyle_=function(e){var n={};return e&&t.utils.object.mixin(n,e),e=t.utils.parseBlockColour(n.colourPrimary||"#000"),n.colourPrimary=e.hex,n.colourSecondary=n.colourSecondary?t.utils.parseBlockColour(n.colourSecondary).hex:this.generateSecondaryColour_(n.colourPrimary),n.colourTertiary=n.colourTertiary?t.utils.parseBlockColour(n.colourTertiary).hex:this.generateTertiaryColour_(n.colourPrimary),n.hat=n.hat||"",n},t.blockRendering.ConstantProvider.prototype.generateSecondaryColour_=function(e){return t.utils.colour.blend("#fff",e,.6)||e},t.blockRendering.ConstantProvider.prototype.generateTertiaryColour_=function(e){return t.utils.colour.blend("#fff",e,.3)||e},t.blockRendering.ConstantProvider.prototype.dispose=function(){this.embossFilter_&&t.utils.dom.removeNode(this.embossFilter_),this.disabledPattern_&&t.utils.dom.removeNode(this.disabledPattern_),this.debugFilter_&&t.utils.dom.removeNode(this.debugFilter_),this.cssNode_=null},t.blockRendering.ConstantProvider.prototype.makeJaggedTeeth=function(){var e=this.JAGGED_TEETH_HEIGHT,n=this.JAGGED_TEETH_WIDTH;return{height:e,width:n,path:t.utils.svgPaths.line([t.utils.svgPaths.point(n,e/4),t.utils.svgPaths.point(2*-n,e/2),t.utils.svgPaths.point(n,e/4)])}},t.blockRendering.ConstantProvider.prototype.makeStartHat=function(){var e=this.START_HAT_HEIGHT,n=this.START_HAT_WIDTH;return{height:e,width:n,path:t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(30,-e),t.utils.svgPaths.point(70,-e),t.utils.svgPaths.point(n,0)])}},t.blockRendering.ConstantProvider.prototype.makePuzzleTab=function(){function e(e){var o=-(e=e?-1:1),r=i/2,s=r+2.5,a=r+.5,l=t.utils.svgPaths.point(-n,e*r);return r=t.utils.svgPaths.point(n,e*r),t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(0,e*s),t.utils.svgPaths.point(-n,o*a),l])+t.utils.svgPaths.curve("s",[t.utils.svgPaths.point(n,2.5*o),r])}var n=this.TAB_WIDTH,i=this.TAB_HEIGHT,o=e(!0),r=e(!1);return{type:this.SHAPES.PUZZLE,width:n,height:i,pathDown:r,pathUp:o}},t.blockRendering.ConstantProvider.prototype.makeNotch=function(){function e(e){return t.utils.svgPaths.line([t.utils.svgPaths.point(e*o,i),t.utils.svgPaths.point(3*e,0),t.utils.svgPaths.point(e*o,-i)])}var n=this.NOTCH_WIDTH,i=this.NOTCH_HEIGHT,o=(n-3)/2,r=e(1),s=e(-1);return{type:this.SHAPES.NOTCH,width:n,height:i,pathLeft:r,pathRight:s}},t.blockRendering.ConstantProvider.prototype.makeInsideCorners=function(){var e=this.CORNER_RADIUS;return{width:e,height:e,pathTop:t.utils.svgPaths.arc("a","0 0,0",e,t.utils.svgPaths.point(-e,e)),pathBottom:t.utils.svgPaths.arc("a","0 0,0",e,t.utils.svgPaths.point(e,e))}},t.blockRendering.ConstantProvider.prototype.makeOutsideCorners=function(){var e=this.CORNER_RADIUS,n=t.utils.svgPaths.moveBy(0,e)+t.utils.svgPaths.arc("a","0 0,1",e,t.utils.svgPaths.point(e,-e)),i=t.utils.svgPaths.arc("a","0 0,1",e,t.utils.svgPaths.point(e,e)),o=t.utils.svgPaths.arc("a","0 0,1",e,t.utils.svgPaths.point(-e,-e));return{topLeft:n,topRight:i,bottomRight:t.utils.svgPaths.arc("a","0 0,1",e,t.utils.svgPaths.point(-e,e)),bottomLeft:o,rightHeight:e}},t.blockRendering.ConstantProvider.prototype.shapeFor=function(e){switch(e.type){case t.connectionTypes.INPUT_VALUE:case t.connectionTypes.OUTPUT_VALUE:return this.PUZZLE_TAB;case t.connectionTypes.PREVIOUS_STATEMENT:case t.connectionTypes.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown connection type")}},t.blockRendering.ConstantProvider.prototype.createDom=function(e,n,i){this.injectCSS_(n,i),e=t.utils.dom.createSvgElement(t.utils.Svg.DEFS,{},e),n=t.utils.dom.createSvgElement(t.utils.Svg.FILTER,{id:"blocklyEmbossFilter"+this.randomIdentifier},e),t.utils.dom.createSvgElement(t.utils.Svg.FEGAUSSIANBLUR,{in:"SourceAlpha",stdDeviation:1,result:"blur"},n),i=t.utils.dom.createSvgElement(t.utils.Svg.FESPECULARLIGHTING,{in:"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},n),t.utils.dom.createSvgElement(t.utils.Svg.FEPOINTLIGHT,{x:-5e3,y:-1e4,z:2e4},i),t.utils.dom.createSvgElement(t.utils.Svg.FECOMPOSITE,{in:"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},n),t.utils.dom.createSvgElement(t.utils.Svg.FECOMPOSITE,{in:"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},n),this.embossFilterId=n.id,this.embossFilter_=n,n=t.utils.dom.createSvgElement(t.utils.Svg.PATTERN,{id:"blocklyDisabledPattern"+this.randomIdentifier,patternUnits:"userSpaceOnUse",width:10,height:10},e),t.utils.dom.createSvgElement(t.utils.Svg.RECT,{width:10,height:10,fill:"#aaa"},n),t.utils.dom.createSvgElement(t.utils.Svg.PATH,{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},n),this.disabledPatternId=n.id,this.disabledPattern_=n,t.blockRendering.Debug&&(e=t.utils.dom.createSvgElement(t.utils.Svg.FILTER,{id:"blocklyDebugFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),n=t.utils.dom.createSvgElement(t.utils.Svg.FECOMPONENTTRANSFER,{result:"outBlur"},e),t.utils.dom.createSvgElement(t.utils.Svg.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},n),t.utils.dom.createSvgElement(t.utils.Svg.FEFLOOD,{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},e),t.utils.dom.createSvgElement(t.utils.Svg.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),this.debugFilterId=e.id,this.debugFilter_=e)},t.blockRendering.ConstantProvider.prototype.injectCSS_=function(t,e){e=this.getCSS_(e),t="blockly-renderer-style-"+t,this.cssNode_=document.getElementById(t);var n=e.join("\n");this.cssNode_?this.cssNode_.firstChild.textContent=n:((e=document.createElement("style")).id=t,t=document.createTextNode(n),e.appendChild(t),document.head.insertBefore(e,document.head.firstChild),this.cssNode_=e)},t.blockRendering.ConstantProvider.prototype.getCSS_=function(t){return[t+" .blocklyText, ",t+" .blocklyFlyoutLabelText {","font: "+this.FIELD_TEXT_FONTWEIGHT+" "+this.FIELD_TEXT_FONTSIZE+"pt "+this.FIELD_TEXT_FONTFAMILY+";","}",t+" .blocklyText {","fill: #fff;","}",t+" .blocklyNonEditableText>rect,",t+" .blocklyEditableText>rect {","fill: "+this.FIELD_BORDER_RECT_COLOUR+";","fill-opacity: .6;","stroke: none;","}",t+" .blocklyNonEditableText>text,",t+" .blocklyEditableText>text {","fill: #000;","}",t+" .blocklyFlyoutLabelText {","fill: #000;","}",t+" .blocklyText.blocklyBubbleText {","fill: #000;","}",t+" .blocklyEditableText:not(.editing):hover>rect {","stroke: #fff;","stroke-width: 2;","}",t+" .blocklyHtmlInput {","font-family: "+this.FIELD_TEXT_FONTFAMILY+";","font-weight: "+this.FIELD_TEXT_FONTWEIGHT+";","}",t+" .blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",t+" .blocklyHighlightedConnectionPath {","stroke: #fc3;","}",t+" .blocklyReplaceable .blocklyPath {","fill-opacity: .5;","}",t+" .blocklyReplaceable .blocklyPathLight,",t+" .blocklyReplaceable .blocklyPathDark {","display: none;","}",t+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.INSERTION_MARKER_OPACITY+";","stroke: none;","}"]},t.blockRendering.Types={NONE:0,FIELD:1,HAT:2,ICON:4,SPACER:8,BETWEEN_ROW_SPACER:16,IN_ROW_SPACER:32,EXTERNAL_VALUE_INPUT:64,INPUT:128,INLINE_INPUT:256,STATEMENT_INPUT:512,CONNECTION:1024,PREVIOUS_CONNECTION:2048,NEXT_CONNECTION:4096,OUTPUT_CONNECTION:8192,CORNER:16384,LEFT_SQUARE_CORNER:32768,LEFT_ROUND_CORNER:65536,RIGHT_SQUARE_CORNER:131072,RIGHT_ROUND_CORNER:262144,JAGGED_EDGE:524288,ROW:1048576,TOP_ROW:2097152,BOTTOM_ROW:4194304,INPUT_ROW:8388608},t.blockRendering.Types.LEFT_CORNER=t.blockRendering.Types.LEFT_SQUARE_CORNER|t.blockRendering.Types.LEFT_ROUND_CORNER,t.blockRendering.Types.RIGHT_CORNER=t.blockRendering.Types.RIGHT_SQUARE_CORNER|t.blockRendering.Types.RIGHT_ROUND_CORNER,t.blockRendering.Types.nextTypeValue_=16777216,t.blockRendering.Types.getType=function(e){return Object.prototype.hasOwnProperty.call(t.blockRendering.Types,e)||(t.blockRendering.Types[e]=t.blockRendering.Types.nextTypeValue_,t.blockRendering.Types.nextTypeValue_<<=1),t.blockRendering.Types[e]},t.blockRendering.Types.isField=function(e){return e.type&t.blockRendering.Types.FIELD},t.blockRendering.Types.isHat=function(e){return e.type&t.blockRendering.Types.HAT},t.blockRendering.Types.isIcon=function(e){return e.type&t.blockRendering.Types.ICON},t.blockRendering.Types.isSpacer=function(e){return e.type&t.blockRendering.Types.SPACER},t.blockRendering.Types.isInRowSpacer=function(e){return e.type&t.blockRendering.Types.IN_ROW_SPACER},t.blockRendering.Types.isInput=function(e){return e.type&t.blockRendering.Types.INPUT},t.blockRendering.Types.isExternalInput=function(e){return e.type&t.blockRendering.Types.EXTERNAL_VALUE_INPUT},t.blockRendering.Types.isInlineInput=function(e){return e.type&t.blockRendering.Types.INLINE_INPUT},t.blockRendering.Types.isStatementInput=function(e){return e.type&t.blockRendering.Types.STATEMENT_INPUT},t.blockRendering.Types.isPreviousConnection=function(e){return e.type&t.blockRendering.Types.PREVIOUS_CONNECTION},t.blockRendering.Types.isNextConnection=function(e){return e.type&t.blockRendering.Types.NEXT_CONNECTION},t.blockRendering.Types.isPreviousOrNextConnection=function(e){return e.type&(t.blockRendering.Types.PREVIOUS_CONNECTION|t.blockRendering.Types.NEXT_CONNECTION)},t.blockRendering.Types.isLeftRoundedCorner=function(e){return e.type&t.blockRendering.Types.LEFT_ROUND_CORNER},t.blockRendering.Types.isRightRoundedCorner=function(e){return e.type&t.blockRendering.Types.RIGHT_ROUND_CORNER},t.blockRendering.Types.isLeftSquareCorner=function(e){return e.type&t.blockRendering.Types.LEFT_SQUARE_CORNER},t.blockRendering.Types.isRightSquareCorner=function(e){return e.type&t.blockRendering.Types.RIGHT_SQUARE_CORNER},t.blockRendering.Types.isCorner=function(e){return e.type&t.blockRendering.Types.CORNER},t.blockRendering.Types.isJaggedEdge=function(e){return e.type&t.blockRendering.Types.JAGGED_EDGE},t.blockRendering.Types.isRow=function(e){return e.type&t.blockRendering.Types.ROW},t.blockRendering.Types.isBetweenRowSpacer=function(e){return e.type&t.blockRendering.Types.BETWEEN_ROW_SPACER},t.blockRendering.Types.isTopRow=function(e){return e.type&t.blockRendering.Types.TOP_ROW},t.blockRendering.Types.isBottomRow=function(e){return e.type&t.blockRendering.Types.BOTTOM_ROW},t.blockRendering.Types.isTopOrBottomRow=function(e){return e.type&(t.blockRendering.Types.TOP_ROW|t.blockRendering.Types.BOTTOM_ROW)},t.blockRendering.Types.isInputRow=function(e){return e.type&t.blockRendering.Types.INPUT_ROW},t.blockRendering.Measurable=function(e){this.height=this.width=0,this.type=t.blockRendering.Types.NONE,this.centerline=this.xPos=0,this.constants_=e,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT},t.blockRendering.Connection=function(e,n){t.blockRendering.Connection.superClass_.constructor.call(this,e),this.connectionModel=n,this.shape=this.constants_.shapeFor(n),this.isDynamicShape=!!this.shape.isDynamic,this.type|=t.blockRendering.Types.CONNECTION},t.utils.object.inherits(t.blockRendering.Connection,t.blockRendering.Measurable),t.blockRendering.OutputConnection=function(e,n){t.blockRendering.OutputConnection.superClass_.constructor.call(this,e,n),this.type|=t.blockRendering.Types.OUTPUT_CONNECTION,this.height=this.isDynamicShape?0:this.shape.height,this.startX=this.width=this.isDynamicShape?0:this.shape.width,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionOffsetX=0},t.utils.object.inherits(t.blockRendering.OutputConnection,t.blockRendering.Connection),t.blockRendering.PreviousConnection=function(e,n){t.blockRendering.PreviousConnection.superClass_.constructor.call(this,e,n),this.type|=t.blockRendering.Types.PREVIOUS_CONNECTION,this.height=this.shape.height,this.width=this.shape.width},t.utils.object.inherits(t.blockRendering.PreviousConnection,t.blockRendering.Connection),t.blockRendering.NextConnection=function(e,n){t.blockRendering.NextConnection.superClass_.constructor.call(this,e,n),this.type|=t.blockRendering.Types.NEXT_CONNECTION,this.height=this.shape.height,this.width=this.shape.width},t.utils.object.inherits(t.blockRendering.NextConnection,t.blockRendering.Connection),t.blockRendering.InputConnection=function(e,n){t.blockRendering.InputConnection.superClass_.constructor.call(this,e,n.connection),this.type|=t.blockRendering.Types.INPUT,this.input=n,this.align=n.align,(this.connectedBlock=n.connection&&n.connection.targetBlock()?n.connection.targetBlock():null)?(e=this.connectedBlock.getHeightWidth(),this.connectedBlockWidth=e.width,this.connectedBlockHeight=e.height):this.connectedBlockHeight=this.connectedBlockWidth=0,this.connectionOffsetY=this.connectionOffsetX=0},t.utils.object.inherits(t.blockRendering.InputConnection,t.blockRendering.Connection),t.blockRendering.InlineInput=function(e,n){t.blockRendering.InlineInput.superClass_.constructor.call(this,e,n),this.type|=t.blockRendering.Types.INLINE_INPUT,this.connectedBlock?(this.width=this.connectedBlockWidth,this.height=this.connectedBlockHeight):(this.height=this.constants_.EMPTY_INLINE_INPUT_HEIGHT,this.width=this.constants_.EMPTY_INLINE_INPUT_PADDING),this.connectionHeight=this.isDynamicShape?this.shape.height(this.height):this.shape.height,this.connectionWidth=this.isDynamicShape?this.shape.width(this.height):this.shape.width,this.connectedBlock||(this.width+=this.connectionWidth*(this.isDynamicShape?2:1)),this.connectionOffsetY=this.isDynamicShape?this.shape.connectionOffsetY(this.connectionHeight):this.constants_.TAB_OFFSET_FROM_TOP,this.connectionOffsetX=this.isDynamicShape?this.shape.connectionOffsetX(this.connectionWidth):0},t.utils.object.inherits(t.blockRendering.InlineInput,t.blockRendering.InputConnection),t.blockRendering.StatementInput=function(e,n){t.blockRendering.StatementInput.superClass_.constructor.call(this,e,n),this.type|=t.blockRendering.Types.STATEMENT_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight+this.constants_.STATEMENT_BOTTOM_SPACER:this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT,this.width=this.constants_.STATEMENT_INPUT_NOTCH_OFFSET+this.shape.width},t.utils.object.inherits(t.blockRendering.StatementInput,t.blockRendering.InputConnection),t.blockRendering.ExternalValueInput=function(e,n){t.blockRendering.ExternalValueInput.superClass_.constructor.call(this,e,n),this.type|=t.blockRendering.Types.EXTERNAL_VALUE_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight-this.constants_.TAB_OFFSET_FROM_TOP-this.constants_.MEDIUM_PADDING:this.shape.height,this.width=this.shape.width+this.constants_.EXTERNAL_VALUE_INPUT_PADDING,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionHeight=this.shape.height,this.connectionWidth=this.shape.width},t.utils.object.inherits(t.blockRendering.ExternalValueInput,t.blockRendering.InputConnection),t.blockRendering.Icon=function(e,n){t.blockRendering.Icon.superClass_.constructor.call(this,e),this.icon=n,this.isVisible=n.isVisible(),this.type|=t.blockRendering.Types.ICON,e=n.getCorrectedSize(),this.height=e.height,this.width=e.width},t.utils.object.inherits(t.blockRendering.Icon,t.blockRendering.Measurable),t.blockRendering.JaggedEdge=function(e){t.blockRendering.JaggedEdge.superClass_.constructor.call(this,e),this.type|=t.blockRendering.Types.JAGGED_EDGE,this.height=this.constants_.JAGGED_TEETH.height,this.width=this.constants_.JAGGED_TEETH.width},t.utils.object.inherits(t.blockRendering.JaggedEdge,t.blockRendering.Measurable),t.blockRendering.Field=function(e,n,i){t.blockRendering.Field.superClass_.constructor.call(this,e),this.field=n,this.isEditable=n.EDITABLE,this.flipRtl=n.getFlipRtl(),this.type|=t.blockRendering.Types.FIELD,e=this.field.getSize(),this.height=e.height,this.width=e.width,this.parentInput=i},t.utils.object.inherits(t.blockRendering.Field,t.blockRendering.Measurable),t.blockRendering.Hat=function(e){t.blockRendering.Hat.superClass_.constructor.call(this,e),this.type|=t.blockRendering.Types.HAT,this.height=this.constants_.START_HAT.height,this.width=this.constants_.START_HAT.width,this.ascenderHeight=this.height},t.utils.object.inherits(t.blockRendering.Hat,t.blockRendering.Measurable),t.blockRendering.SquareCorner=function(e,n){t.blockRendering.SquareCorner.superClass_.constructor.call(this,e),this.type=(n&&"left"!=n?t.blockRendering.Types.RIGHT_SQUARE_CORNER:t.blockRendering.Types.LEFT_SQUARE_CORNER)|t.blockRendering.Types.CORNER,this.width=this.height=this.constants_.NO_PADDING},t.utils.object.inherits(t.blockRendering.SquareCorner,t.blockRendering.Measurable),t.blockRendering.RoundCorner=function(e,n){t.blockRendering.RoundCorner.superClass_.constructor.call(this,e),this.type=(n&&"left"!=n?t.blockRendering.Types.RIGHT_ROUND_CORNER:t.blockRendering.Types.LEFT_ROUND_CORNER)|t.blockRendering.Types.CORNER,this.width=this.constants_.CORNER_RADIUS,this.height=this.constants_.CORNER_RADIUS/2},t.utils.object.inherits(t.blockRendering.RoundCorner,t.blockRendering.Measurable),t.blockRendering.InRowSpacer=function(e,n){t.blockRendering.InRowSpacer.superClass_.constructor.call(this,e),this.type=this.type|t.blockRendering.Types.SPACER|t.blockRendering.Types.IN_ROW_SPACER,this.width=n,this.height=this.constants_.SPACER_DEFAULT_HEIGHT},t.utils.object.inherits(t.blockRendering.InRowSpacer,t.blockRendering.Measurable),t.blockRendering.Row=function(e){this.type=t.blockRendering.Types.ROW,this.elements=[],this.xPos=this.yPos=this.widthWithConnectedBlocks=this.minWidth=this.minHeight=this.width=this.height=0,this.hasJaggedEdge=this.hasDummyInput=this.hasInlineInput=this.hasStatement=this.hasExternalInput=!1,this.constants_=e,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT,this.align=null},t.blockRendering.Row.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.")},t.blockRendering.Row.prototype.getLastInput=function(){for(var e,n=this.elements.length-1;e=this.elements[n];n--)if(t.blockRendering.Types.isInput(e))return e;return null},t.blockRendering.Row.prototype.startsWithElemSpacer=function(){return!0},t.blockRendering.Row.prototype.endsWithElemSpacer=function(){return!0},t.blockRendering.Row.prototype.getFirstSpacer=function(){for(var e,n=0;e=this.elements[n];n++)if(t.blockRendering.Types.isSpacer(e))return e;return null},t.blockRendering.Row.prototype.getLastSpacer=function(){for(var e,n=this.elements.length-1;e=this.elements[n];n--)if(t.blockRendering.Types.isSpacer(e))return e;return null},t.blockRendering.TopRow=function(e){t.blockRendering.TopRow.superClass_.constructor.call(this,e),this.type|=t.blockRendering.Types.TOP_ROW,this.ascenderHeight=this.capline=0,this.hasPreviousConnection=!1,this.connection=null},t.utils.object.inherits(t.blockRendering.TopRow,t.blockRendering.Row),t.blockRendering.TopRow.prototype.hasLeftSquareCorner=function(t){var e=(t.hat?"cap"===t.hat:this.constants_.ADD_START_HATS)&&!t.outputConnection&&!t.previousConnection,n=t.getPreviousBlock();return!!t.outputConnection||e||!!n&&n.getNextBlock()==t},t.blockRendering.TopRow.prototype.hasRightSquareCorner=function(t){return!0},t.blockRendering.TopRow.prototype.measure=function(){for(var e,n=0,i=0,o=0,r=0;e=this.elements[r];r++)i+=e.width,t.blockRendering.Types.isSpacer(e)||(t.blockRendering.Types.isHat(e)?o=Math.max(o,e.ascenderHeight):n=Math.max(n,e.height));this.width=Math.max(this.minWidth,i),this.height=Math.max(this.minHeight,n)+o,this.capline=this.ascenderHeight=o,this.widthWithConnectedBlocks=this.width},t.blockRendering.TopRow.prototype.startsWithElemSpacer=function(){return!1},t.blockRendering.TopRow.prototype.endsWithElemSpacer=function(){return!1},t.blockRendering.BottomRow=function(e){t.blockRendering.BottomRow.superClass_.constructor.call(this,e),this.type|=t.blockRendering.Types.BOTTOM_ROW,this.hasNextConnection=!1,this.connection=null,this.baseline=this.descenderHeight=0},t.utils.object.inherits(t.blockRendering.BottomRow,t.blockRendering.Row),t.blockRendering.BottomRow.prototype.hasLeftSquareCorner=function(t){return!!t.outputConnection||!!t.getNextBlock()},t.blockRendering.BottomRow.prototype.hasRightSquareCorner=function(t){return!0},t.blockRendering.BottomRow.prototype.measure=function(){for(var e,n=0,i=0,o=0,r=0;e=this.elements[r];r++)i+=e.width,t.blockRendering.Types.isSpacer(e)||(t.blockRendering.Types.isNextConnection(e)?o=Math.max(o,e.height):n=Math.max(n,e.height));this.width=Math.max(this.minWidth,i),this.height=Math.max(this.minHeight,n)+o,this.descenderHeight=o,this.widthWithConnectedBlocks=this.width},t.blockRendering.BottomRow.prototype.startsWithElemSpacer=function(){return!1},t.blockRendering.BottomRow.prototype.endsWithElemSpacer=function(){return!1},t.blockRendering.SpacerRow=function(e,n,i){t.blockRendering.SpacerRow.superClass_.constructor.call(this,e),this.type=this.type|t.blockRendering.Types.SPACER|t.blockRendering.Types.BETWEEN_ROW_SPACER,this.width=i,this.height=n,this.followsStatement=!1,this.widthWithConnectedBlocks=0,this.elements=[new t.blockRendering.InRowSpacer(this.constants_,i)]},t.utils.object.inherits(t.blockRendering.SpacerRow,t.blockRendering.Row),t.blockRendering.SpacerRow.prototype.measure=function(){},t.blockRendering.InputRow=function(e){t.blockRendering.InputRow.superClass_.constructor.call(this,e),this.type|=t.blockRendering.Types.INPUT_ROW,this.connectedBlockWidths=0},t.utils.object.inherits(t.blockRendering.InputRow,t.blockRendering.Row),t.blockRendering.InputRow.prototype.measure=function(){this.width=this.minWidth,this.height=this.minHeight;for(var e,n=0,i=0;e=this.elements[i];i++)this.width+=e.width,t.blockRendering.Types.isInput(e)&&(t.blockRendering.Types.isStatementInput(e)?n+=e.connectedBlockWidth:t.blockRendering.Types.isExternalInput(e)&&0!=e.connectedBlockWidth&&(n+=e.connectedBlockWidth-e.connectionWidth)),t.blockRendering.Types.isSpacer(e)||(this.height=Math.max(this.height,e.height));this.connectedBlockWidths=n,this.widthWithConnectedBlocks=this.width+n},t.blockRendering.InputRow.prototype.endsWithElemSpacer=function(){return!this.hasExternalInput&&!this.hasStatement},t.blockRendering.RenderInfo=function(e,n){this.block_=n,this.renderer_=e,this.constants_=this.renderer_.getConstants(),this.outputConnection=n.outputConnection?new t.blockRendering.OutputConnection(this.constants_,n.outputConnection):null,this.isInline=n.getInputsInline()&&!n.isCollapsed(),this.isCollapsed=n.isCollapsed(),this.isInsertionMarker=n.isInsertionMarker(),this.RTL=n.RTL,this.statementEdge=this.width=this.widthWithChildren=this.height=0,this.rows=[],this.inputRows=[],this.hiddenIcons=[],this.topRow=new t.blockRendering.TopRow(this.constants_),this.bottomRow=new t.blockRendering.BottomRow(this.constants_),this.startY=this.startX=0},t.blockRendering.RenderInfo.prototype.getRenderer=function(){return this.renderer_},t.blockRendering.RenderInfo.prototype.measure=function(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()},t.blockRendering.RenderInfo.prototype.createRows_=function(){this.populateTopRow_(),this.rows.push(this.topRow);var e=new t.blockRendering.InputRow(this.constants_);this.inputRows.push(e);var n=this.block_.getIcons();if(n.length)for(var i,o=0;i=n[o];o++){var r=new t.blockRendering.Icon(this.constants_,i);this.isCollapsed&&i.collapseHidden?this.hiddenIcons.push(r):e.elements.push(r)}for(i=null,o=0;n=this.block_.inputList[o];o++)if(n.isVisible()){for(this.shouldStartNewRow_(n,i)&&(this.rows.push(e),e=new t.blockRendering.InputRow(this.constants_),this.inputRows.push(e)),i=0;r=n.fieldRow[i];i++)e.elements.push(new t.blockRendering.Field(this.constants_,r,n));this.addInput_(n,e),i=n}this.isCollapsed&&(e.hasJaggedEdge=!0,e.elements.push(new t.blockRendering.JaggedEdge(this.constants_))),(e.elements.length||e.hasDummyInput)&&this.rows.push(e),this.populateBottomRow_(),this.rows.push(this.bottomRow)},t.blockRendering.RenderInfo.prototype.populateTopRow_=function(){var e=!!this.block_.previousConnection,n=(this.block_.hat?"cap"===this.block_.hat:this.constants_.ADD_START_HATS)&&!this.outputConnection&&!e;this.topRow.hasLeftSquareCorner(this.block_)?this.topRow.elements.push(new t.blockRendering.SquareCorner(this.constants_)):this.topRow.elements.push(new t.blockRendering.RoundCorner(this.constants_)),n?(e=new t.blockRendering.Hat(this.constants_),this.topRow.elements.push(e),this.topRow.capline=e.ascenderHeight):e&&(this.topRow.hasPreviousConnection=!0,this.topRow.connection=new t.blockRendering.PreviousConnection(this.constants_,this.block_.previousConnection),this.topRow.elements.push(this.topRow.connection)),this.topRow.minHeight=this.block_.inputList.length&&this.block_.inputList[0].type==t.inputTypes.STATEMENT&&!this.block_.isCollapsed()?this.constants_.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT:this.constants_.TOP_ROW_MIN_HEIGHT,this.topRow.hasRightSquareCorner(this.block_)?this.topRow.elements.push(new t.blockRendering.SquareCorner(this.constants_,"right")):this.topRow.elements.push(new t.blockRendering.RoundCorner(this.constants_,"right"))},t.blockRendering.RenderInfo.prototype.populateBottomRow_=function(){this.bottomRow.hasNextConnection=!!this.block_.nextConnection,this.bottomRow.minHeight=this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1].type==t.inputTypes.STATEMENT?this.constants_.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT:this.constants_.BOTTOM_ROW_MIN_HEIGHT,this.bottomRow.hasLeftSquareCorner(this.block_)?this.bottomRow.elements.push(new t.blockRendering.SquareCorner(this.constants_)):this.bottomRow.elements.push(new t.blockRendering.RoundCorner(this.constants_)),this.bottomRow.hasNextConnection&&(this.bottomRow.connection=new t.blockRendering.NextConnection(this.constants_,this.block_.nextConnection),this.bottomRow.elements.push(this.bottomRow.connection)),this.bottomRow.hasRightSquareCorner(this.block_)?this.bottomRow.elements.push(new t.blockRendering.SquareCorner(this.constants_,"right")):this.bottomRow.elements.push(new t.blockRendering.RoundCorner(this.constants_,"right"))},t.blockRendering.RenderInfo.prototype.addInput_=function(e,n){this.isInline&&e.type==t.inputTypes.VALUE?(n.elements.push(new t.blockRendering.InlineInput(this.constants_,e)),n.hasInlineInput=!0):e.type==t.inputTypes.STATEMENT?(n.elements.push(new t.blockRendering.StatementInput(this.constants_,e)),n.hasStatement=!0):e.type==t.inputTypes.VALUE?(n.elements.push(new t.blockRendering.ExternalValueInput(this.constants_,e)),n.hasExternalInput=!0):e.type==t.inputTypes.DUMMY&&(n.minHeight=Math.max(n.minHeight,e.getSourceBlock()&&e.getSourceBlock().isShadow()?this.constants_.DUMMY_INPUT_SHADOW_MIN_HEIGHT:this.constants_.DUMMY_INPUT_MIN_HEIGHT),n.hasDummyInput=!0),null==n.align&&(n.align=e.align)},t.blockRendering.RenderInfo.prototype.shouldStartNewRow_=function(e,n){return!(!n||e.type!=t.inputTypes.STATEMENT&&n.type!=t.inputTypes.STATEMENT&&(e.type!=t.inputTypes.VALUE&&e.type!=t.inputTypes.DUMMY||this.isInline))},t.blockRendering.RenderInfo.prototype.addElemSpacing_=function(){for(var e,n=0;e=this.rows[n];n++){var i=e.elements;if(e.elements=[],e.startsWithElemSpacer()&&e.elements.push(new t.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(null,i[0]))),i.length){for(var o=0;o<i.length-1;o++){e.elements.push(i[o]);var r=this.getInRowSpacing_(i[o],i[o+1]);e.elements.push(new t.blockRendering.InRowSpacer(this.constants_,r))}e.elements.push(i[i.length-1]),e.endsWithElemSpacer()&&e.elements.push(new t.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(i[i.length-1],null)))}}},t.blockRendering.RenderInfo.prototype.getInRowSpacing_=function(e,n){if(!e&&n&&t.blockRendering.Types.isStatementInput(n))return this.constants_.STATEMENT_INPUT_PADDING_LEFT;if(e&&t.blockRendering.Types.isInput(e)&&!n){if(t.blockRendering.Types.isExternalInput(e))return this.constants_.NO_PADDING;if(t.blockRendering.Types.isInlineInput(e))return this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isStatementInput(e))return this.constants_.NO_PADDING}return e&&t.blockRendering.Types.isLeftSquareCorner(e)&&n&&(t.blockRendering.Types.isPreviousConnection(n)||t.blockRendering.Types.isNextConnection(n))?n.notchOffset:e&&t.blockRendering.Types.isLeftRoundedCorner(e)&&n&&(t.blockRendering.Types.isPreviousConnection(n)||t.blockRendering.Types.isNextConnection(n))?n.notchOffset-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING},t.blockRendering.RenderInfo.prototype.computeBounds_=function(){for(var t,e=0,n=0,i=0,o=0;t=this.rows[o];o++){if(t.measure(),n=Math.max(n,t.width),t.hasStatement){var r=t.getLastInput();e=Math.max(e,t.width-r.width)}i=Math.max(i,t.widthWithConnectedBlocks)}for(this.statementEdge=e,this.width=n,o=0;t=this.rows[o];o++)t.hasStatement&&(t.statementEdge=this.statementEdge);this.widthWithChildren=Math.max(n,i),this.outputConnection&&(this.startX=this.outputConnection.width,this.width+=this.outputConnection.width,this.widthWithChildren+=this.outputConnection.width)},t.blockRendering.RenderInfo.prototype.alignRowElements_=function(){for(var e,n=0;e=this.rows[n];n++)if(e.hasStatement)this.alignStatementRow_(e);else{var i=e.width;0<(i=this.getDesiredRowWidth_(e)-i)&&this.addAlignmentPadding_(e,i),t.blockRendering.Types.isTopOrBottomRow(e)&&(e.widthWithConnectedBlocks=e.width)}},t.blockRendering.RenderInfo.prototype.getDesiredRowWidth_=function(t){return this.width-this.startX},t.blockRendering.RenderInfo.prototype.addAlignmentPadding_=function(e,n){var i=e.getFirstSpacer(),o=e.getLastSpacer();(e.hasExternalInput||e.hasStatement)&&(e.widthWithConnectedBlocks+=n),e.align==t.constants.ALIGN.LEFT?o.width+=n:e.align==t.constants.ALIGN.CENTRE?(i.width+=n/2,o.width+=n/2):e.align==t.constants.ALIGN.RIGHT?i.width+=n:o.width+=n,e.width+=n},t.blockRendering.RenderInfo.prototype.alignStatementRow_=function(t){var e=t.getLastInput(),n=t.width-e.width,i=this.statementEdge;0<(n=i-n)&&this.addAlignmentPadding_(t,n),n=t.width,i=this.getDesiredRowWidth_(t),e.width+=i-n,e.height=Math.max(e.height,t.height),t.width+=i-n,t.widthWithConnectedBlocks=Math.max(t.width,this.statementEdge+t.connectedBlockWidths)},t.blockRendering.RenderInfo.prototype.addRowSpacing_=function(){var t=this.rows;this.rows=[];for(var e=0;e<t.length;e++)this.rows.push(t[e]),e!=t.length-1&&this.rows.push(this.makeSpacerRow_(t[e],t[e+1]))},t.blockRendering.RenderInfo.prototype.makeSpacerRow_=function(e,n){var i=this.getSpacerRowHeight_(e,n),o=this.getSpacerRowWidth_(e,n);return i=new t.blockRendering.SpacerRow(this.constants_,i,o),e.hasStatement&&(i.followsStatement=!0),n.hasStatement&&(i.precedesStatement=!0),i},t.blockRendering.RenderInfo.prototype.getSpacerRowWidth_=function(t,e){return this.width-this.startX},t.blockRendering.RenderInfo.prototype.getSpacerRowHeight_=function(t,e){return this.constants_.MEDIUM_PADDING},t.blockRendering.RenderInfo.prototype.getElemCenterline_=function(e,n){return t.blockRendering.Types.isSpacer(n)?e.yPos+n.height/2:t.blockRendering.Types.isBottomRow(e)?(e=e.yPos+e.height-e.descenderHeight,t.blockRendering.Types.isNextConnection(n)?e+n.height/2:e-n.height/2):t.blockRendering.Types.isTopRow(e)?t.blockRendering.Types.isHat(n)?e.capline-n.height/2:e.capline+n.height/2:e.yPos+e.height/2},t.blockRendering.RenderInfo.prototype.recordElemPositions_=function(e){for(var n,i=e.xPos,o=0;n=e.elements[o];o++)t.blockRendering.Types.isSpacer(n)&&(n.height=e.height),n.xPos=i,n.centerline=this.getElemCenterline_(e,n),i+=n.width},t.blockRendering.RenderInfo.prototype.finalize_=function(){for(var t,e=0,n=0,i=0;t=this.rows[i];i++)t.yPos=n,t.xPos=this.startX,n+=t.height,e=Math.max(e,t.widthWithConnectedBlocks),this.recordElemPositions_(t);this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(e=Math.max(e,this.block_.nextConnection.targetBlock().getHeightWidth().width)),this.widthWithChildren=e+this.startX,this.height=n,this.startY=this.topRow.capline,this.bottomRow.baseline=n-this.bottomRow.descenderHeight},t.blockRendering.Debug=function(t){this.debugElements_=[],this.svgRoot_=null,this.constants_=t},t.blockRendering.Debug.config={rowSpacers:!0,elemSpacers:!0,rows:!0,elems:!0,connections:!0,blockBounds:!0,connectedBlockBounds:!0,render:!0},t.blockRendering.Debug.prototype.clearElems=function(){for(var e,n=0;e=this.debugElements_[n];n++)t.utils.dom.removeNode(e);this.debugElements_=[]},t.blockRendering.Debug.prototype.drawSpacerRow=function(e,n,i){if(t.blockRendering.Debug.config.rowSpacers){var o=Math.abs(e.height),r=0>e.height;r&&(n-=o),this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"rowSpacerRect blockRenderDebug",x:i?-(e.xPos+e.width):e.xPos,y:n,width:e.width,height:o,stroke:r?"black":"blue",fill:"blue","fill-opacity":"0.5","stroke-width":"1px"},this.svgRoot_))}},t.blockRendering.Debug.prototype.drawSpacerElem=function(e,n,i){if(t.blockRendering.Debug.config.elemSpacers){n=Math.abs(e.width);var o=0>e.width,r=o?e.xPos-n:e.xPos;i&&(r=-(r+n)),this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"elemSpacerRect blockRenderDebug",x:r,y:e.centerline-e.height/2,width:n,height:e.height,stroke:"pink",fill:o?"black":"pink","fill-opacity":"0.5","stroke-width":"1px"},this.svgRoot_))}},t.blockRendering.Debug.prototype.drawRenderedElem=function(e,n){if(t.blockRendering.Debug.config.elems){var i=e.xPos;n&&(i=-(i+e.width)),this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"rowRenderingRect blockRenderDebug",x:i,y:n=e.centerline-e.height/2,width:e.width,height:e.height,stroke:"black",fill:"none","stroke-width":"1px"},this.svgRoot_)),t.blockRendering.Types.isField(e)&&e.field instanceof t.FieldLabel&&this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"rowRenderingRect blockRenderDebug",x:i,y:n+this.constants_.FIELD_TEXT_BASELINE,width:e.width,height:"0.1px",stroke:"red",fill:"none","stroke-width":"0.5px"},this.svgRoot_))}t.blockRendering.Types.isInput(e)&&t.blockRendering.Debug.config.connections&&this.drawConnection(e.connectionModel)},t.blockRendering.Debug.prototype.drawConnection=function(e){if(t.blockRendering.Debug.config.connections){if(e.type==t.connectionTypes.INPUT_VALUE)var n=4,i="magenta",o="none";else e.type==t.connectionTypes.OUTPUT_VALUE?(n=2,o=i="magenta"):e.type==t.connectionTypes.NEXT_STATEMENT?(n=4,i="goldenrod",o="none"):e.type==t.connectionTypes.PREVIOUS_STATEMENT&&(n=2,o=i="goldenrod");this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.CIRCLE,{class:"blockRenderDebug",cx:e.offsetInBlock_.x,cy:e.offsetInBlock_.y,r:n,fill:o,stroke:i},this.svgRoot_))}},t.blockRendering.Debug.prototype.drawRenderedRow=function(e,n,i){t.blockRendering.Debug.config.rows&&(this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"elemRenderingRect blockRenderDebug",x:i?-(e.xPos+e.width):e.xPos,y:e.yPos,width:e.width,height:e.height,stroke:"red",fill:"none","stroke-width":"1px"},this.svgRoot_)),t.blockRendering.Types.isTopOrBottomRow(e)||t.blockRendering.Debug.config.connectedBlockBounds&&this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"connectedBlockWidth blockRenderDebug",x:i?-(e.xPos+e.widthWithConnectedBlocks):e.xPos,y:e.yPos,width:e.widthWithConnectedBlocks,height:e.height,stroke:this.randomColour_,fill:"none","stroke-width":"1px","stroke-dasharray":"3,3"},this.svgRoot_)))},t.blockRendering.Debug.prototype.drawRowWithElements=function(e,n,i){for(var o=0,r=e.elements.length;o<r;o++){var s=e.elements[o];s?t.blockRendering.Types.isSpacer(s)?this.drawSpacerElem(s,e.height,i):this.drawRenderedElem(s,i):console.warn("A row has an undefined or null element.",e,s)}this.drawRenderedRow(e,n,i)},t.blockRendering.Debug.prototype.drawBoundingBox=function(e){if(t.blockRendering.Debug.config.blockBounds){var n=e.RTL?-e.width:0;this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blockBoundingBox blockRenderDebug",x:n,y:0,width:e.width,height:e.height,stroke:"black",fill:"none","stroke-width":"1px","stroke-dasharray":"5,5"},this.svgRoot_)),t.blockRendering.Debug.config.connectedBlockBounds&&this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blockRenderDebug",x:n=e.RTL?-e.widthWithChildren:0,y:0,width:e.widthWithChildren,height:e.height,stroke:"#DF57BC",fill:"none","stroke-width":"1px","stroke-dasharray":"3,3"},this.svgRoot_))}},t.blockRendering.Debug.prototype.drawDebug=function(e,n){this.clearElems(),this.svgRoot_=e.getSvgRoot(),this.randomColour_="#"+Math.floor(16777215*Math.random()).toString(16);for(var i,o=0,r=0;i=n.rows[r];r++)t.blockRendering.Types.isBetweenRowSpacer(i)?this.drawSpacerRow(i,o,n.RTL):this.drawRowWithElements(i,o,n.RTL),o+=i.height;e.previousConnection&&this.drawConnection(e.previousConnection),e.nextConnection&&this.drawConnection(e.nextConnection),e.outputConnection&&this.drawConnection(e.outputConnection),n.rightSide&&this.drawRenderedElem(n.rightSide,n.RTL),this.drawBoundingBox(n),this.drawRender(e.pathObject.svgPath)},t.blockRendering.Debug.prototype.drawRender=function(e){t.blockRendering.Debug.config.render&&(e.setAttribute("filter","url(#"+this.constants_.debugFilterId+")"),setTimeout(function(){e.setAttribute("filter","")},100))},t.blockRendering.Drawer=function(t,e){this.block_=t,this.info_=e,this.topLeft_=t.getRelativeToSurfaceXY(),this.inlinePath_=this.outlinePath_="",this.constants_=e.getRenderer().getConstants()},t.blockRendering.Drawer.prototype.draw=function(){this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_(),this.block_.pathObject.setPath(this.outlinePath_+"\n"+this.inlinePath_),this.info_.RTL&&this.block_.pathObject.flipRTL(),t.blockRendering.useDebugger&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_),this.recordSizeOnBlock_()},t.blockRendering.Drawer.prototype.recordSizeOnBlock_=function(){this.block_.height=this.info_.height,this.block_.width=this.info_.widthWithChildren},t.blockRendering.Drawer.prototype.hideHiddenIcons_=function(){for(var t,e=0;t=this.info_.hiddenIcons[e];e++)t.icon.iconGroup_.setAttribute("display","none")},t.blockRendering.Drawer.prototype.drawOutline_=function(){this.drawTop_();for(var t=1;t<this.info_.rows.length-1;t++){var e=this.info_.rows[t];e.hasJaggedEdge?this.drawJaggedEdge_(e):e.hasStatement?this.drawStatementInput_(e):e.hasExternalInput?this.drawValueInput_(e):this.drawRightSideRow_(e)}this.drawBottom_(),this.drawLeft_()},t.blockRendering.Drawer.prototype.drawTop_=function(){var e=this.info_.topRow,n=e.elements;this.positionPreviousConnection_(),this.outlinePath_+=t.utils.svgPaths.moveBy(e.xPos,this.info_.startY);for(var i,o=0;i=n[o];o++)t.blockRendering.Types.isLeftRoundedCorner(i)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topLeft:t.blockRendering.Types.isRightRoundedCorner(i)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topRight:t.blockRendering.Types.isPreviousConnection(i)?this.outlinePath_+=i.shape.pathLeft:t.blockRendering.Types.isHat(i)?this.outlinePath_+=this.constants_.START_HAT.path:t.blockRendering.Types.isSpacer(i)&&(this.outlinePath_+=t.utils.svgPaths.lineOnAxis("h",i.width));this.outlinePath_+=t.utils.svgPaths.lineOnAxis("v",e.height)},t.blockRendering.Drawer.prototype.drawJaggedEdge_=function(e){this.outlinePath_+=this.constants_.JAGGED_TEETH.path+t.utils.svgPaths.lineOnAxis("v",e.height-this.constants_.JAGGED_TEETH.height)},t.blockRendering.Drawer.prototype.drawValueInput_=function(e){var n=e.getLastInput();this.positionExternalValueConnection_(e);var i="function"==typeof n.shape.pathDown?n.shape.pathDown(n.height):n.shape.pathDown;this.outlinePath_+=t.utils.svgPaths.lineOnAxis("H",n.xPos+n.width)+i+t.utils.svgPaths.lineOnAxis("v",e.height-n.connectionHeight)},t.blockRendering.Drawer.prototype.drawStatementInput_=function(e){var n=e.getLastInput(),i=n.xPos+n.notchOffset+n.shape.width;n=n.shape.pathRight+t.utils.svgPaths.lineOnAxis("h",-(n.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop;var o=e.height-2*this.constants_.INSIDE_CORNERS.height;this.outlinePath_+=t.utils.svgPaths.lineOnAxis("H",i)+n+t.utils.svgPaths.lineOnAxis("v",o)+this.constants_.INSIDE_CORNERS.pathBottom+t.utils.svgPaths.lineOnAxis("H",e.xPos+e.width),this.positionStatementInputConnection_(e)},t.blockRendering.Drawer.prototype.drawRightSideRow_=function(e){this.outlinePath_+=t.utils.svgPaths.lineOnAxis("V",e.yPos+e.height)},t.blockRendering.Drawer.prototype.drawBottom_=function(){var e=this.info_.bottomRow,n=e.elements;this.positionNextConnection_();for(var i,o=0,r="",s=n.length-1;i=n[s];s--)t.blockRendering.Types.isNextConnection(i)?r+=i.shape.pathRight:t.blockRendering.Types.isLeftSquareCorner(i)?r+=t.utils.svgPaths.lineOnAxis("H",e.xPos):t.blockRendering.Types.isLeftRoundedCorner(i)?r+=this.constants_.OUTSIDE_CORNERS.bottomLeft:t.blockRendering.Types.isRightRoundedCorner(i)?(r+=this.constants_.OUTSIDE_CORNERS.bottomRight,o=this.constants_.OUTSIDE_CORNERS.rightHeight):t.blockRendering.Types.isSpacer(i)&&(r+=t.utils.svgPaths.lineOnAxis("h",-1*i.width));this.outlinePath_+=t.utils.svgPaths.lineOnAxis("V",e.baseline-o),this.outlinePath_+=r},t.blockRendering.Drawer.prototype.drawLeft_=function(){var e=this.info_.outputConnection;if(this.positionOutputConnection_(),e){var n=e.connectionOffsetY+e.height;e="function"==typeof e.shape.pathUp?e.shape.pathUp(e.height):e.shape.pathUp,this.outlinePath_+=t.utils.svgPaths.lineOnAxis("V",n)+e}this.outlinePath_+="z"},t.blockRendering.Drawer.prototype.drawInternals_=function(){for(var e,n=0;e=this.info_.rows[n];n++)for(var i,o=0;i=e.elements[o];o++)t.blockRendering.Types.isInlineInput(i)?this.drawInlineInput_(i):(t.blockRendering.Types.isIcon(i)||t.blockRendering.Types.isField(i))&&this.layoutField_(i)},t.blockRendering.Drawer.prototype.layoutField_=function(e){if(t.blockRendering.Types.isField(e))var n=e.field.getSvgRoot();else t.blockRendering.Types.isIcon(e)&&(n=e.icon.iconGroup_);var i=e.centerline-e.height/2,o=e.xPos,r="";this.info_.RTL&&(o=-(o+e.width),e.flipRtl&&(o+=e.width,r="scale(-1 1)")),t.blockRendering.Types.isIcon(e)?(n.setAttribute("display","block"),n.setAttribute("transform","translate("+o+","+i+")"),e.icon.computeIconLocation()):n.setAttribute("transform","translate("+o+","+i+")"+r),this.info_.isInsertionMarker&&n.setAttribute("display","none")},t.blockRendering.Drawer.prototype.drawInlineInput_=function(e){var n=e.width,i=e.height,o=e.connectionOffsetY,r=e.connectionHeight+o;this.inlinePath_+=t.utils.svgPaths.moveTo(e.xPos+e.connectionWidth,e.centerline-i/2)+t.utils.svgPaths.lineOnAxis("v",o)+e.shape.pathDown+t.utils.svgPaths.lineOnAxis("v",i-r)+t.utils.svgPaths.lineOnAxis("h",n-e.connectionWidth)+t.utils.svgPaths.lineOnAxis("v",-i)+"z",this.positionInlineInputConnection_(e)},t.blockRendering.Drawer.prototype.positionInlineInputConnection_=function(t){if(t.connectionModel){var e=t.xPos+t.connectionWidth+t.connectionOffsetX;this.info_.RTL&&(e*=-1),t.connectionModel.setOffsetInBlock(e,t.centerline-t.height/2+t.connectionOffsetY)}},t.blockRendering.Drawer.prototype.positionStatementInputConnection_=function(t){var e=t.getLastInput();if(e.connectionModel){var n=t.xPos+t.statementEdge+e.notchOffset;this.info_.RTL&&(n*=-1),e.connectionModel.setOffsetInBlock(n,t.yPos)}},t.blockRendering.Drawer.prototype.positionExternalValueConnection_=function(t){var e=t.getLastInput();if(e.connectionModel){var n=t.xPos+t.width;this.info_.RTL&&(n*=-1),e.connectionModel.setOffsetInBlock(n,t.yPos)}},t.blockRendering.Drawer.prototype.positionPreviousConnection_=function(){var t=this.info_.topRow;if(t.connection){var e=t.xPos+t.notchOffset;t.connection.connectionModel.setOffsetInBlock(this.info_.RTL?-e:e,0)}},t.blockRendering.Drawer.prototype.positionNextConnection_=function(){var t=this.info_.bottomRow;if(t.connection){var e=t.connection,n=e.xPos;e.connectionModel.setOffsetInBlock(this.info_.RTL?-n:n,t.baseline)}},t.blockRendering.Drawer.prototype.positionOutputConnection_=function(){if(this.info_.outputConnection){var t=this.info_.startX+this.info_.outputConnection.connectionOffsetX;this.block_.outputConnection.setOffsetInBlock(this.info_.RTL?-t:t,this.info_.outputConnection.connectionOffsetY)}},t.Events.MarkerMove=function(e,n,i,o){var r=e?e.workspace.id:void 0;o&&o.getType()==t.ASTNode.types.WORKSPACE&&(r=o.getLocation().id),t.Events.MarkerMove.superClass_.constructor.call(this,r),this.blockId=e?e.id:null,this.oldNode=i,this.newNode=o,this.isCursor=n},t.utils.object.inherits(t.Events.MarkerMove,t.Events.UiBase),t.Events.MarkerMove.prototype.type=t.Events.MARKER_MOVE,t.Events.MarkerMove.prototype.toJson=function(){var e=t.Events.MarkerMove.superClass_.toJson.call(this);return e.isCursor=this.isCursor,e.blockId=this.blockId,e.oldNode=this.oldNode,e.newNode=this.newNode,e},t.Events.MarkerMove.prototype.fromJson=function(e){t.Events.MarkerMove.superClass_.fromJson.call(this,e),this.isCursor=e.isCursor,this.blockId=e.blockId,this.oldNode=e.oldNode,this.newNode=e.newNode},t.registry.register(t.registry.Type.EVENT,t.Events.MARKER_MOVE,t.Events.MarkerMove),t.blockRendering.MarkerSvg=function(t,e,n){this.workspace_=t,this.marker_=n,this.parent_=null,this.constants_=e,this.currentMarkerSvg=null,t=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR,this.colour_=n.colour||t},t.blockRendering.MarkerSvg.CURSOR_CLASS="blocklyCursor",t.blockRendering.MarkerSvg.MARKER_CLASS="blocklyMarker",t.blockRendering.MarkerSvg.HEIGHT_MULTIPLIER=.75,t.blockRendering.MarkerSvg.prototype.getSvgRoot=function(){return this.svgGroup_},t.blockRendering.MarkerSvg.prototype.getMarker=function(){return this.marker_},t.blockRendering.MarkerSvg.prototype.isCursor=function(){return"cursor"==this.marker_.type},t.blockRendering.MarkerSvg.prototype.createDom=function(){var e=this.isCursor()?t.blockRendering.MarkerSvg.CURSOR_CLASS:t.blockRendering.MarkerSvg.MARKER_CLASS;return this.svgGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:e},null),this.createDomInternal_(),this.svgGroup_},t.blockRendering.MarkerSvg.prototype.setParent_=function(t){this.isCursor()?(this.parent_&&this.parent_.setCursorSvg(null),t.setCursorSvg(this.getSvgRoot())):(this.parent_&&this.parent_.setMarkerSvg(null),t.setMarkerSvg(this.getSvgRoot())),this.parent_=t},t.blockRendering.MarkerSvg.prototype.draw=function(t,e){if(e){this.constants_=this.workspace_.getRenderer().getConstants();var n=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR;this.colour_=this.marker_.colour||n,this.applyColour_(e),this.showAtLocation_(e),this.fireMarkerEvent_(t,e),void 0!==(t=this.currentMarkerSvg.childNodes[0])&&t.beginElement&&t.beginElement()}else this.hide()},t.blockRendering.MarkerSvg.prototype.showAtLocation_=function(e){var n=e.getLocation().type;e.getType()==t.ASTNode.types.BLOCK?this.showWithBlock_(e):e.getType()==t.ASTNode.types.OUTPUT?this.showWithOutput_(e):n==t.connectionTypes.INPUT_VALUE?this.showWithInput_(e):n==t.connectionTypes.NEXT_STATEMENT?this.showWithNext_(e):e.getType()==t.ASTNode.types.PREVIOUS?this.showWithPrevious_(e):e.getType()==t.ASTNode.types.FIELD?this.showWithField_(e):e.getType()==t.ASTNode.types.WORKSPACE?this.showWithCoordinates_(e):e.getType()==t.ASTNode.types.STACK&&this.showWithStack_(e)},t.blockRendering.MarkerSvg.prototype.showWithBlockPrevOutput_=function(e){var n=(e=e.getSourceBlock()).width,i=e.height,o=i*t.blockRendering.MarkerSvg.HEIGHT_MULTIPLIER,r=this.constants_.CURSOR_BLOCK_PADDING;if(e.previousConnection){var s=this.constants_.shapeFor(e.previousConnection);this.positionPrevious_(n,r,o,s)}else e.outputConnection?(s=this.constants_.shapeFor(e.outputConnection),this.positionOutput_(n,i,s)):this.positionBlock_(n,r,o);this.setParent_(e),this.showCurrent_()},t.blockRendering.MarkerSvg.prototype.showWithBlock_=function(t){this.showWithBlockPrevOutput_(t)},t.blockRendering.MarkerSvg.prototype.showWithPrevious_=function(t){this.showWithBlockPrevOutput_(t)},t.blockRendering.MarkerSvg.prototype.showWithOutput_=function(t){this.showWithBlockPrevOutput_(t)},t.blockRendering.MarkerSvg.prototype.showWithCoordinates_=function(t){var e=t.getWsCoordinate();t=e.x,this.workspace_.RTL&&(t-=this.constants_.CURSOR_WS_WIDTH),this.positionLine_(t,e=e.y,this.constants_.CURSOR_WS_WIDTH),this.setParent_(this.workspace_),this.showCurrent_()},t.blockRendering.MarkerSvg.prototype.showWithField_=function(t){var e=(t=t.getLocation()).getSize().width,n=t.getSize().height;this.positionRect_(0,0,e,n),this.setParent_(t),this.showCurrent_()},t.blockRendering.MarkerSvg.prototype.showWithInput_=function(t){var e=(t=t.getLocation()).getSourceBlock();this.positionInput_(t),this.setParent_(e),this.showCurrent_()},t.blockRendering.MarkerSvg.prototype.showWithNext_=function(t){var e=t.getLocation();t=e.getSourceBlock();var n=0;e=e.getOffsetInBlock().y;var i=t.getHeightWidth().width;this.workspace_.RTL&&(n=-i),this.positionLine_(n,e,i),this.setParent_(t),this.showCurrent_()},t.blockRendering.MarkerSvg.prototype.showWithStack_=function(t){var e=(t=t.getLocation()).getHeightWidth(),n=e.width+this.constants_.CURSOR_STACK_PADDING,i=-this.constants_.CURSOR_STACK_PADDING/2,o=i;this.workspace_.RTL&&(o=-(n+i)),this.positionRect_(o,-this.constants_.CURSOR_STACK_PADDING/2,n,e=e.height+this.constants_.CURSOR_STACK_PADDING),this.setParent_(t),this.showCurrent_()},t.blockRendering.MarkerSvg.prototype.showCurrent_=function(){this.hide(),this.currentMarkerSvg.style.display=""},t.blockRendering.MarkerSvg.prototype.positionBlock_=function(e,n,i){e=t.utils.svgPaths.moveBy(-n,i)+t.utils.svgPaths.lineOnAxis("V",-n)+t.utils.svgPaths.lineOnAxis("H",e+2*n)+t.utils.svgPaths.lineOnAxis("V",i),this.markerBlock_.setAttribute("d",e),this.workspace_.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_},t.blockRendering.MarkerSvg.prototype.positionInput_=function(e){var n=e.getOffsetInBlock().x,i=e.getOffsetInBlock().y;e=t.utils.svgPaths.moveTo(0,0)+this.constants_.shapeFor(e).pathDown,this.markerInput_.setAttribute("d",e),this.markerInput_.setAttribute("transform","translate("+n+","+i+")"+(this.workspace_.RTL?" scale(-1 1)":"")),this.currentMarkerSvg=this.markerInput_},t.blockRendering.MarkerSvg.prototype.positionLine_=function(t,e,n){this.markerSvgLine_.setAttribute("x",t),this.markerSvgLine_.setAttribute("y",e),this.markerSvgLine_.setAttribute("width",n),this.currentMarkerSvg=this.markerSvgLine_},t.blockRendering.MarkerSvg.prototype.positionOutput_=function(e,n,i){e=t.utils.svgPaths.moveBy(e,0)+t.utils.svgPaths.lineOnAxis("h",-(e-i.width))+t.utils.svgPaths.lineOnAxis("v",this.constants_.TAB_OFFSET_FROM_TOP)+i.pathDown+t.utils.svgPaths.lineOnAxis("V",n)+t.utils.svgPaths.lineOnAxis("H",e),this.markerBlock_.setAttribute("d",e),this.workspace_.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_},t.blockRendering.MarkerSvg.prototype.positionPrevious_=function(e,n,i,o){e=t.utils.svgPaths.moveBy(-n,i)+t.utils.svgPaths.lineOnAxis("V",-n)+t.utils.svgPaths.lineOnAxis("H",this.constants_.NOTCH_OFFSET_LEFT)+o.pathLeft+t.utils.svgPaths.lineOnAxis("H",e+2*n)+t.utils.svgPaths.lineOnAxis("V",i),this.markerBlock_.setAttribute("d",e),this.workspace_.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_},t.blockRendering.MarkerSvg.prototype.positionRect_=function(t,e,n,i){this.markerSvgRect_.setAttribute("x",t),this.markerSvgRect_.setAttribute("y",e),this.markerSvgRect_.setAttribute("width",n),this.markerSvgRect_.setAttribute("height",i),this.currentMarkerSvg=this.markerSvgRect_},t.blockRendering.MarkerSvg.prototype.flipRtl_=function(t){t.setAttribute("transform","scale(-1 1)")},t.blockRendering.MarkerSvg.prototype.hide=function(){this.markerSvgLine_.style.display="none",this.markerSvgRect_.style.display="none",this.markerInput_.style.display="none",this.markerBlock_.style.display="none"},t.blockRendering.MarkerSvg.prototype.fireMarkerEvent_=function(e,n){var i=n.getSourceBlock();e=new(t.Events.get(t.Events.MARKER_MOVE))(i,this.isCursor(),e,n),t.Events.fire(e)},t.blockRendering.MarkerSvg.prototype.getBlinkProperties_=function(){return{attributeType:"XML",attributeName:"fill",dur:"1s",values:this.colour_+";transparent;transparent;",repeatCount:"indefinite"}},t.blockRendering.MarkerSvg.prototype.createDomInternal_=function(){if(this.markerSvg_=t.utils.dom.createSvgElement(t.utils.Svg.G,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT},this.svgGroup_),this.markerSvgLine_=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT,style:"display: none"},this.markerSvg_),this.markerSvgRect_=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blocklyVerticalMarker",rx:10,ry:10,style:"display: none"},this.markerSvg_),this.markerInput_=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{transform:"",style:"display: none"},this.markerSvg_),this.markerBlock_=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{transform:"",style:"display: none",fill:"none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.isCursor()){var e=this.getBlinkProperties_();t.utils.dom.createSvgElement(t.utils.Svg.ANIMATE,e,this.markerSvgLine_),t.utils.dom.createSvgElement(t.utils.Svg.ANIMATE,e,this.markerInput_),e.attributeName="stroke",t.utils.dom.createSvgElement(t.utils.Svg.ANIMATE,e,this.markerBlock_)}return this.markerSvg_},t.blockRendering.MarkerSvg.prototype.applyColour_=function(t){this.markerSvgLine_.setAttribute("fill",this.colour_),this.markerSvgRect_.setAttribute("stroke",this.colour_),this.markerInput_.setAttribute("fill",this.colour_),this.markerBlock_.setAttribute("stroke",this.colour_),this.isCursor()&&(this.markerSvgLine_.firstChild.setAttribute("values",t=this.colour_+";transparent;transparent;"),this.markerInput_.firstChild.setAttribute("values",t),this.markerBlock_.firstChild.setAttribute("values",t))},t.blockRendering.MarkerSvg.prototype.dispose=function(){this.svgGroup_&&t.utils.dom.removeNode(this.svgGroup_)},t.blockRendering.PathObject=function(e,n,i){this.constants=i,this.svgRoot=e,this.svgPath=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyPath"},this.svgRoot),this.style=n,this.markerSvg=this.cursorSvg=null},t.blockRendering.PathObject.prototype.setPath=function(t){this.svgPath.setAttribute("d",t)},t.blockRendering.PathObject.prototype.flipRTL=function(){this.svgPath.setAttribute("transform","scale(-1 1)")},t.blockRendering.PathObject.prototype.setCursorSvg=function(t){t?(this.svgRoot.appendChild(t),this.cursorSvg=t):this.cursorSvg=null},t.blockRendering.PathObject.prototype.setMarkerSvg=function(t){t?(this.cursorSvg?this.svgRoot.insertBefore(t,this.cursorSvg):this.svgRoot.appendChild(t),this.markerSvg=t):this.markerSvg=null},t.blockRendering.PathObject.prototype.applyColour=function(t){this.svgPath.setAttribute("stroke",this.style.colourTertiary),this.svgPath.setAttribute("fill",this.style.colourPrimary),this.updateShadow_(t.isShadow()),this.updateDisabled_(!t.isEnabled()||t.getInheritedDisabled())},t.blockRendering.PathObject.prototype.setStyle=function(t){this.style=t},t.blockRendering.PathObject.prototype.setClass_=function(e,n){n?t.utils.dom.addClass(this.svgRoot,e):t.utils.dom.removeClass(this.svgRoot,e)},t.blockRendering.PathObject.prototype.updateHighlighted=function(t){this.svgPath.setAttribute("filter",t?"url(#"+this.constants.embossFilterId+")":"none")},t.blockRendering.PathObject.prototype.updateShadow_=function(t){t&&(this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary))},t.blockRendering.PathObject.prototype.updateDisabled_=function(t){this.setClass_("blocklyDisabled",t),t&&this.svgPath.setAttribute("fill","url(#"+this.constants.disabledPatternId+")")},t.blockRendering.PathObject.prototype.updateSelected=function(t){this.setClass_("blocklySelected",t)},t.blockRendering.PathObject.prototype.updateDraggingDelete=function(t){this.setClass_("blocklyDraggingDelete",t)},t.blockRendering.PathObject.prototype.updateInsertionMarker=function(t){this.setClass_("blocklyInsertionMarker",t)},t.blockRendering.PathObject.prototype.updateMovable=function(t){this.setClass_("blocklyDraggable",t)},t.blockRendering.PathObject.prototype.updateReplacementFade=function(t){this.setClass_("blocklyReplaceable",t)},t.blockRendering.PathObject.prototype.updateShapeForInputHighlight=function(t,e){},t.IRegistrable=function(){},t.blockRendering.Renderer=function(t){this.name=t,this.overrides=this.constants_=null},t.blockRendering.Renderer.prototype.getClassName=function(){return this.name+"-renderer"},t.blockRendering.Renderer.prototype.init=function(e,n){this.constants_=this.makeConstants_(),n&&(this.overrides=n,t.utils.object.mixin(this.constants_,n)),this.constants_.setTheme(e),this.constants_.init()},t.blockRendering.Renderer.prototype.createDom=function(t,e){this.constants_.createDom(t,this.name+"-"+e.name,"."+this.getClassName()+"."+e.getClassName())},t.blockRendering.Renderer.prototype.refreshDom=function(e,n){var i=this.getConstants();i.dispose(),this.constants_=this.makeConstants_(),this.overrides&&t.utils.object.mixin(this.constants_,this.overrides),this.constants_.randomIdentifier=i.randomIdentifier,this.constants_.setTheme(n),this.constants_.init(),this.createDom(e,n)},t.blockRendering.Renderer.prototype.dispose=function(){this.constants_&&this.constants_.dispose()},t.blockRendering.Renderer.prototype.makeConstants_=function(){return new t.blockRendering.ConstantProvider},t.blockRendering.Renderer.prototype.makeRenderInfo_=function(e){return new t.blockRendering.RenderInfo(this,e)},t.blockRendering.Renderer.prototype.makeDrawer_=function(e,n){return new t.blockRendering.Drawer(e,n)},t.blockRendering.Renderer.prototype.makeDebugger_=function(){if(!t.blockRendering.Debug)throw Error("Missing require for Blockly.blockRendering.Debug");return new t.blockRendering.Debug(this.getConstants())},t.blockRendering.Renderer.prototype.makeMarkerDrawer=function(e,n){return new t.blockRendering.MarkerSvg(e,this.getConstants(),n)},t.blockRendering.Renderer.prototype.makePathObject=function(e,n){return new t.blockRendering.PathObject(e,n,this.constants_)},t.blockRendering.Renderer.prototype.getConstants=function(){return this.constants_},t.blockRendering.Renderer.prototype.shouldHighlightConnection=function(t){return!0},t.blockRendering.Renderer.prototype.orphanCanConnectAtEnd=function(e,n,i){return i==t.connectionTypes.OUTPUT_VALUE?(i=n.outputConnection,e=t.Connection.lastConnectionInRow(e,n)):(i=n.previousConnection,e=e.lastConnectionInStack()),!!e&&i.getConnectionChecker().canConnect(e,i,!1)},t.blockRendering.Renderer.prototype.getConnectionPreviewMethod=function(e,n,i){return n.type==t.connectionTypes.OUTPUT_VALUE||n.type==t.connectionTypes.PREVIOUS_STATEMENT?!e.isConnected()||this.orphanCanConnectAtEnd(i,e.targetBlock(),n.type)?t.InsertionMarkerManager.PREVIEW_TYPE.INSERTION_MARKER:t.InsertionMarkerManager.PREVIEW_TYPE.REPLACEMENT_FADE:t.InsertionMarkerManager.PREVIEW_TYPE.INSERTION_MARKER},t.blockRendering.Renderer.prototype.render=function(e){t.blockRendering.useDebugger&&!e.renderingDebugger&&(e.renderingDebugger=this.makeDebugger_());var n=this.makeRenderInfo_(e);n.measure(),this.makeDrawer_(e,n).draw()},t.geras={},t.geras.ConstantProvider=function(){t.geras.ConstantProvider.superClass_.constructor.call(this),this.FIELD_TEXT_BASELINE_CENTER=!1,this.DARK_PATH_OFFSET=1,this.MAX_BOTTOM_WIDTH=30,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT/2},t.utils.object.inherits(t.geras.ConstantProvider,t.blockRendering.ConstantProvider),t.geras.ConstantProvider.prototype.getCSS_=function(e){return t.geras.ConstantProvider.superClass_.getCSS_.call(this,e).concat([e+" .blocklyInsertionMarker>.blocklyPathLight,",e+" .blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: "+this.INSERTION_MARKER_OPACITY+";","stroke: none;","}"])},t.geras.Highlighter=function(t){this.info_=t,this.inlineSteps_=this.steps_="",this.RTL_=this.info_.RTL,t=t.getRenderer(),this.constants_=t.getConstants(),this.highlightConstants_=t.getHighlightConstants(),this.highlightOffset_=this.highlightConstants_.OFFSET,this.outsideCornerPaths_=this.highlightConstants_.OUTSIDE_CORNER,this.insideCornerPaths_=this.highlightConstants_.INSIDE_CORNER,this.puzzleTabPaths_=this.highlightConstants_.PUZZLE_TAB,this.notchPaths_=this.highlightConstants_.NOTCH,this.startPaths_=this.highlightConstants_.START_HAT,this.jaggedTeethPaths_=this.highlightConstants_.JAGGED_TEETH},t.geras.Highlighter.prototype.getPath=function(){return this.steps_+"\n"+this.inlineSteps_},t.geras.Highlighter.prototype.drawTopCorner=function(e){this.steps_+=t.utils.svgPaths.moveBy(e.xPos,this.info_.startY);for(var n,i=0;n=e.elements[i];i++)t.blockRendering.Types.isLeftSquareCorner(n)?this.steps_+=this.highlightConstants_.START_POINT:t.blockRendering.Types.isLeftRoundedCorner(n)?this.steps_+=this.outsideCornerPaths_.topLeft(this.RTL_):t.blockRendering.Types.isPreviousConnection(n)?this.steps_+=this.notchPaths_.pathLeft:t.blockRendering.Types.isHat(n)?this.steps_+=this.startPaths_.path(this.RTL_):t.blockRendering.Types.isSpacer(n)&&0!=n.width&&(this.steps_+=t.utils.svgPaths.lineOnAxis("H",n.xPos+n.width-this.highlightOffset_));this.steps_+=t.utils.svgPaths.lineOnAxis("H",e.xPos+e.width-this.highlightOffset_)},t.geras.Highlighter.prototype.drawJaggedEdge_=function(e){this.info_.RTL&&(this.steps_+=this.jaggedTeethPaths_.pathLeft+t.utils.svgPaths.lineOnAxis("v",e.height-this.jaggedTeethPaths_.height-this.highlightOffset_))},t.geras.Highlighter.prototype.drawValueInput=function(e){var n=e.getLastInput();if(this.RTL_){var i=e.height-n.connectionHeight;this.steps_+=t.utils.svgPaths.moveTo(n.xPos+n.width-this.highlightOffset_,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)+t.utils.svgPaths.lineOnAxis("v",i)}else this.steps_+=t.utils.svgPaths.moveTo(n.xPos+n.width,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)},t.geras.Highlighter.prototype.drawStatementInput=function(e){var n=e.getLastInput();if(this.RTL_){var i=e.height-2*this.insideCornerPaths_.height;this.steps_+=t.utils.svgPaths.moveTo(n.xPos,e.yPos)+this.insideCornerPaths_.pathTop(this.RTL_)+t.utils.svgPaths.lineOnAxis("v",i)+this.insideCornerPaths_.pathBottom(this.RTL_)+t.utils.svgPaths.lineTo(e.width-n.xPos-this.insideCornerPaths_.width,0)}else this.steps_+=t.utils.svgPaths.moveTo(n.xPos,e.yPos+e.height)+this.insideCornerPaths_.pathBottom(this.RTL_)+t.utils.svgPaths.lineTo(e.width-n.xPos-this.insideCornerPaths_.width,0)},t.geras.Highlighter.prototype.drawRightSideRow=function(e){var n=e.xPos+e.width-this.highlightOffset_;e.followsStatement&&(this.steps_+=t.utils.svgPaths.lineOnAxis("H",n)),this.RTL_&&(this.steps_+=t.utils.svgPaths.lineOnAxis("H",n),e.height>this.highlightOffset_&&(this.steps_+=t.utils.svgPaths.lineOnAxis("V",e.yPos+e.height-this.highlightOffset_)))},t.geras.Highlighter.prototype.drawBottomRow=function(e){if(this.RTL_)this.steps_+=t.utils.svgPaths.lineOnAxis("V",e.baseline-this.highlightOffset_);else{var n=this.info_.bottomRow.elements[0];t.blockRendering.Types.isLeftSquareCorner(n)?this.steps_+=t.utils.svgPaths.moveTo(e.xPos+this.highlightOffset_,e.baseline-this.highlightOffset_):t.blockRendering.Types.isLeftRoundedCorner(n)&&(this.steps_+=t.utils.svgPaths.moveTo(e.xPos,e.baseline),this.steps_+=this.outsideCornerPaths_.bottomLeft())}},t.geras.Highlighter.prototype.drawLeft=function(){var e=this.info_.outputConnection;e&&(e=e.connectionOffsetY+e.height,this.RTL_?this.steps_+=t.utils.svgPaths.moveTo(this.info_.startX,e):(this.steps_+=t.utils.svgPaths.moveTo(this.info_.startX+this.highlightOffset_,this.info_.bottomRow.baseline-this.highlightOffset_),this.steps_+=t.utils.svgPaths.lineOnAxis("V",e)),this.steps_+=this.puzzleTabPaths_.pathUp(this.RTL_)),this.RTL_||(t.blockRendering.Types.isLeftRoundedCorner((e=this.info_.topRow).elements[0])?this.steps_+=t.utils.svgPaths.lineOnAxis("V",this.outsideCornerPaths_.height):this.steps_+=t.utils.svgPaths.lineOnAxis("V",e.capline+this.highlightOffset_))},t.geras.Highlighter.prototype.drawInlineInput=function(e){var n=this.highlightOffset_,i=e.xPos+e.connectionWidth,o=e.centerline-e.height/2,r=e.width-e.connectionWidth,s=o+n;this.RTL_?(o=e.connectionOffsetY-n,e=e.height-(e.connectionOffsetY+e.connectionHeight)+n,this.inlineSteps_+=t.utils.svgPaths.moveTo(i-n,s)+t.utils.svgPaths.lineOnAxis("v",o)+this.puzzleTabPaths_.pathDown(this.RTL_)+t.utils.svgPaths.lineOnAxis("v",e)+t.utils.svgPaths.lineOnAxis("h",r)):this.inlineSteps_+=t.utils.svgPaths.moveTo(e.xPos+e.width+n,s)+t.utils.svgPaths.lineOnAxis("v",e.height)+t.utils.svgPaths.lineOnAxis("h",-r)+t.utils.svgPaths.moveTo(i,o+e.connectionOffsetY)+this.puzzleTabPaths_.pathDown(this.RTL_)},t.geras.InlineInput=function(e,n){t.geras.InlineInput.superClass_.constructor.call(this,e,n),this.connectedBlock&&(this.width+=this.constants_.DARK_PATH_OFFSET,this.height+=this.constants_.DARK_PATH_OFFSET)},t.utils.object.inherits(t.geras.InlineInput,t.blockRendering.InlineInput),t.geras.StatementInput=function(e,n){t.geras.StatementInput.superClass_.constructor.call(this,e,n),this.connectedBlock&&(this.height+=this.constants_.DARK_PATH_OFFSET)},t.utils.object.inherits(t.geras.StatementInput,t.blockRendering.StatementInput),t.geras.RenderInfo=function(e,n){t.geras.RenderInfo.superClass_.constructor.call(this,e,n)},t.utils.object.inherits(t.geras.RenderInfo,t.blockRendering.RenderInfo),t.geras.RenderInfo.prototype.getRenderer=function(){return this.renderer_},t.geras.RenderInfo.prototype.populateBottomRow_=function(){t.geras.RenderInfo.superClass_.populateBottomRow_.call(this),this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1].type==t.inputTypes.STATEMENT||(this.bottomRow.minHeight=this.constants_.MEDIUM_PADDING-this.constants_.DARK_PATH_OFFSET)},t.geras.RenderInfo.prototype.addInput_=function(e,n){this.isInline&&e.type==t.inputTypes.VALUE?(n.elements.push(new t.geras.InlineInput(this.constants_,e)),n.hasInlineInput=!0):e.type==t.inputTypes.STATEMENT?(n.elements.push(new t.geras.StatementInput(this.constants_,e)),n.hasStatement=!0):e.type==t.inputTypes.VALUE?(n.elements.push(new t.blockRendering.ExternalValueInput(this.constants_,e)),n.hasExternalInput=!0):e.type==t.inputTypes.DUMMY&&(n.minHeight=Math.max(n.minHeight,this.constants_.DUMMY_INPUT_MIN_HEIGHT),n.hasDummyInput=!0),this.isInline||null!=n.align||(n.align=e.align)},t.geras.RenderInfo.prototype.addElemSpacing_=function(){for(var e,n=!1,i=0;e=this.rows[i];i++)e.hasExternalInput&&(n=!0);for(i=0;e=this.rows[i];i++){var o=e.elements;if(e.elements=[],e.startsWithElemSpacer()&&e.elements.push(new t.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(null,o[0]))),o.length){for(var r=0;r<o.length-1;r++){e.elements.push(o[r]);var s=this.getInRowSpacing_(o[r],o[r+1]);e.elements.push(new t.blockRendering.InRowSpacer(this.constants_,s))}e.elements.push(o[o.length-1]),e.endsWithElemSpacer()&&(s=this.getInRowSpacing_(o[o.length-1],null),n&&e.hasDummyInput&&(s+=this.constants_.TAB_WIDTH),e.elements.push(new t.blockRendering.InRowSpacer(this.constants_,s)))}}},t.geras.RenderInfo.prototype.getInRowSpacing_=function(e,n){if(!e)return n&&t.blockRendering.Types.isField(n)&&n.isEditable?this.constants_.MEDIUM_PADDING:n&&t.blockRendering.Types.isInlineInput(n)?this.constants_.MEDIUM_LARGE_PADDING:n&&t.blockRendering.Types.isStatementInput(n)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!t.blockRendering.Types.isInput(e)&&(!n||t.blockRendering.Types.isStatementInput(n)))return t.blockRendering.Types.isField(e)&&e.isEditable?this.constants_.MEDIUM_PADDING:t.blockRendering.Types.isIcon(e)?2*this.constants_.LARGE_PADDING+1:t.blockRendering.Types.isHat(e)?this.constants_.NO_PADDING:t.blockRendering.Types.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:t.blockRendering.Types.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:t.blockRendering.Types.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isInput(e)&&!n){if(t.blockRendering.Types.isExternalInput(e))return this.constants_.NO_PADDING;if(t.blockRendering.Types.isInlineInput(e))return this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isStatementInput(e))return this.constants_.NO_PADDING}if(!t.blockRendering.Types.isInput(e)&&n&&t.blockRendering.Types.isInput(n)){if(t.blockRendering.Types.isField(e)&&e.isEditable){if(t.blockRendering.Types.isInlineInput(n)||t.blockRendering.Types.isExternalInput(n))return this.constants_.SMALL_PADDING}else{if(t.blockRendering.Types.isInlineInput(n)||t.blockRendering.Types.isExternalInput(n))return this.constants_.MEDIUM_LARGE_PADDING;if(t.blockRendering.Types.isStatementInput(n))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(t.blockRendering.Types.isIcon(e)&&n&&!t.blockRendering.Types.isInput(n))return this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isInlineInput(e)&&n&&t.blockRendering.Types.isField(n))return n.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isLeftSquareCorner(e)&&n){if(t.blockRendering.Types.isHat(n))return this.constants_.NO_PADDING;if(t.blockRendering.Types.isPreviousConnection(n))return n.notchOffset;if(t.blockRendering.Types.isNextConnection(n))return n.notchOffset+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}if(t.blockRendering.Types.isLeftRoundedCorner(e)&&n){if(t.blockRendering.Types.isPreviousConnection(n))return n.notchOffset-this.constants_.CORNER_RADIUS;if(t.blockRendering.Types.isNextConnection(n))return n.notchOffset-this.constants_.CORNER_RADIUS+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}return t.blockRendering.Types.isField(e)&&n&&t.blockRendering.Types.isField(n)&&e.isEditable==n.isEditable||n&&t.blockRendering.Types.isJaggedEdge(n)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},t.geras.RenderInfo.prototype.getSpacerRowHeight_=function(e,n){return t.blockRendering.Types.isTopRow(e)&&t.blockRendering.Types.isBottomRow(n)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:t.blockRendering.Types.isTopRow(e)||t.blockRendering.Types.isBottomRow(n)?this.constants_.NO_PADDING:e.hasExternalInput&&n.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&n.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&n.hasStatement||!e.hasStatement&&n.hasDummyInput||e.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},t.geras.RenderInfo.prototype.getElemCenterline_=function(e,n){if(t.blockRendering.Types.isSpacer(n))return e.yPos+n.height/2;if(t.blockRendering.Types.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,t.blockRendering.Types.isNextConnection(n)?e+n.height/2:e-n.height/2;if(t.blockRendering.Types.isTopRow(e))return t.blockRendering.Types.isHat(n)?e.capline-n.height/2:e.capline+n.height/2;var i=e.yPos;return t.blockRendering.Types.isField(n)||t.blockRendering.Types.isIcon(n)?(i+=n.height/2,(e.hasInlineInput||e.hasStatement)&&n.height+this.constants_.TALL_INPUT_FIELD_OFFSET_Y<=e.height&&(i+=this.constants_.TALL_INPUT_FIELD_OFFSET_Y)):i=t.blockRendering.Types.isInlineInput(n)?i+n.height/2:i+e.height/2,i},t.geras.RenderInfo.prototype.alignRowElements_=function(){if(this.isInline){for(var e,n=0,i=null,o=this.rows.length-1;e=this.rows[o];o--)e.nextRightEdge=n,t.blockRendering.Types.isInputRow(e)&&(e.hasStatement&&this.alignStatementRow_(e),i&&i.hasStatement&&e.width<i.width?e.nextRightEdge=i.width:n=e.width,i=e);for(o=n=0;e=this.rows[o];o++)e.hasStatement?n=this.getDesiredRowWidth_(e):t.blockRendering.Types.isSpacer(e)?e.width=Math.max(n,e.nextRightEdge):(0<(n=Math.max(n,e.nextRightEdge)-e.width)&&this.addAlignmentPadding_(e,n),n=e.width)}else t.geras.RenderInfo.superClass_.alignRowElements_.call(this)},t.geras.RenderInfo.prototype.getDesiredRowWidth_=function(e){return this.isInline&&e.hasStatement?this.statementEdge+this.constants_.MAX_BOTTOM_WIDTH+this.startX:t.geras.RenderInfo.superClass_.getDesiredRowWidth_.call(this,e)},t.geras.RenderInfo.prototype.finalize_=function(){for(var t,e=0,n=0,i=0;t=this.rows[i];i++){t.yPos=n,t.xPos=this.startX,n+=t.height,e=Math.max(e,t.widthWithConnectedBlocks);var o=n-this.topRow.ascenderHeight;t==this.bottomRow&&o<this.constants_.MIN_BLOCK_HEIGHT&&(this.bottomRow.height+=o=this.constants_.MIN_BLOCK_HEIGHT-o,n+=o),this.recordElemPositions_(t)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(e=Math.max(e,this.block_.nextConnection.targetBlock().getHeightWidth().width-this.constants_.DARK_PATH_OFFSET)),this.bottomRow.baseline=n-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX+this.constants_.DARK_PATH_OFFSET,this.width+=this.constants_.DARK_PATH_OFFSET,this.height=n+this.constants_.DARK_PATH_OFFSET,this.startY=this.topRow.capline},t.geras.Drawer=function(e,n){t.geras.Drawer.superClass_.constructor.call(this,e,n),this.highlighter_=new t.geras.Highlighter(n)},t.utils.object.inherits(t.geras.Drawer,t.blockRendering.Drawer),t.geras.Drawer.prototype.draw=function(){this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_();var e=this.block_.pathObject;e.setPath(this.outlinePath_+"\n"+this.inlinePath_),e.setHighlightPath(this.highlighter_.getPath()),this.info_.RTL&&e.flipRTL(),t.blockRendering.useDebugger&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_),this.recordSizeOnBlock_()},t.geras.Drawer.prototype.drawTop_=function(){this.highlighter_.drawTopCorner(this.info_.topRow),this.highlighter_.drawRightSideRow(this.info_.topRow),t.geras.Drawer.superClass_.drawTop_.call(this)},t.geras.Drawer.prototype.drawJaggedEdge_=function(e){this.highlighter_.drawJaggedEdge_(e),t.geras.Drawer.superClass_.drawJaggedEdge_.call(this,e)},t.geras.Drawer.prototype.drawValueInput_=function(e){this.highlighter_.drawValueInput(e),t.geras.Drawer.superClass_.drawValueInput_.call(this,e)},t.geras.Drawer.prototype.drawStatementInput_=function(e){this.highlighter_.drawStatementInput(e),t.geras.Drawer.superClass_.drawStatementInput_.call(this,e)},t.geras.Drawer.prototype.drawRightSideRow_=function(e){this.highlighter_.drawRightSideRow(e),this.outlinePath_+=t.utils.svgPaths.lineOnAxis("H",e.xPos+e.width)+t.utils.svgPaths.lineOnAxis("V",e.yPos+e.height)},t.geras.Drawer.prototype.drawBottom_=function(){this.highlighter_.drawBottomRow(this.info_.bottomRow),t.geras.Drawer.superClass_.drawBottom_.call(this)},t.geras.Drawer.prototype.drawLeft_=function(){this.highlighter_.drawLeft(),t.geras.Drawer.superClass_.drawLeft_.call(this)},t.geras.Drawer.prototype.drawInlineInput_=function(e){this.highlighter_.drawInlineInput(e),t.geras.Drawer.superClass_.drawInlineInput_.call(this,e)},t.geras.Drawer.prototype.positionInlineInputConnection_=function(t){if(t.connectionModel){var e=t.xPos+t.connectionWidth+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(e*=-1),t.connectionModel.setOffsetInBlock(e,t.centerline-t.height/2+t.connectionOffsetY+this.constants_.DARK_PATH_OFFSET)}},t.geras.Drawer.prototype.positionStatementInputConnection_=function(t){var e=t.getLastInput();if(e.connectionModel){var n=t.xPos+t.statementEdge+e.notchOffset;e.connectionModel.setOffsetInBlock(n=this.info_.RTL?-1*n:n+this.constants_.DARK_PATH_OFFSET,t.yPos+this.constants_.DARK_PATH_OFFSET)}},t.geras.Drawer.prototype.positionExternalValueConnection_=function(t){var e=t.getLastInput();if(e.connectionModel){var n=t.xPos+t.width+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(n*=-1),e.connectionModel.setOffsetInBlock(n,t.yPos)}},t.geras.Drawer.prototype.positionNextConnection_=function(){var t=this.info_.bottomRow;if(t.connection){var e=t.connection,n=e.xPos;e.connectionModel.setOffsetInBlock((this.info_.RTL?-n:n)+this.constants_.DARK_PATH_OFFSET/2,t.baseline+this.constants_.DARK_PATH_OFFSET)}},t.geras.HighlightConstantProvider=function(e){this.constantProvider=e,this.OFFSET=.5,this.START_POINT=t.utils.svgPaths.moveBy(this.OFFSET,this.OFFSET)},t.geras.HighlightConstantProvider.prototype.init=function(){this.INSIDE_CORNER=this.makeInsideCorner(),this.OUTSIDE_CORNER=this.makeOutsideCorner(),this.PUZZLE_TAB=this.makePuzzleTab(),this.NOTCH=this.makeNotch(),this.JAGGED_TEETH=this.makeJaggedTeeth(),this.START_HAT=this.makeStartHat()},t.geras.HighlightConstantProvider.prototype.makeInsideCorner=function(){var e=this.constantProvider.CORNER_RADIUS,n=this.OFFSET,i=(1-Math.SQRT1_2)*(e+n)-n,o=t.utils.svgPaths.moveBy(i,i)+t.utils.svgPaths.arc("a","0 0,0",e,t.utils.svgPaths.point(-i-n,e-i)),r=t.utils.svgPaths.arc("a","0 0,0",e+n,t.utils.svgPaths.point(e+n,e+n)),s=t.utils.svgPaths.moveBy(i,-i)+t.utils.svgPaths.arc("a","0 0,0",e+n,t.utils.svgPaths.point(e-i,i+n));return{width:e+n,height:e,pathTop:function(t){return t?o:""},pathBottom:function(t){return t?r:s}}},t.geras.HighlightConstantProvider.prototype.makeOutsideCorner=function(){var e=this.constantProvider.CORNER_RADIUS,n=this.OFFSET,i=(1-Math.SQRT1_2)*(e-n)+n,o=t.utils.svgPaths.moveBy(i,i)+t.utils.svgPaths.arc("a","0 0,1",e-n,t.utils.svgPaths.point(e-i,-i+n)),r=t.utils.svgPaths.moveBy(n,e)+t.utils.svgPaths.arc("a","0 0,1",e-n,t.utils.svgPaths.point(e,-e+n)),s=-i,a=t.utils.svgPaths.moveBy(i,s)+t.utils.svgPaths.arc("a","0 0,1",e-n,t.utils.svgPaths.point(-i+n,-s-e));return{height:e,topLeft:function(t){return t?o:r},bottomLeft:function(){return a}}},t.geras.HighlightConstantProvider.prototype.makePuzzleTab=function(){var e=this.constantProvider.TAB_WIDTH,n=this.constantProvider.TAB_HEIGHT,i=t.utils.svgPaths.moveBy(-2,3.4-n)+t.utils.svgPaths.lineTo(-.45*e,-2.1),o=t.utils.svgPaths.lineOnAxis("v",2.5)+t.utils.svgPaths.moveBy(.97*-e,2.5)+t.utils.svgPaths.curve("q",[t.utils.svgPaths.point(.05*-e,10),t.utils.svgPaths.point(.3*e,9.5)])+t.utils.svgPaths.moveBy(.67*e,-1.9)+t.utils.svgPaths.lineOnAxis("v",2.5),r=t.utils.svgPaths.lineOnAxis("v",-1.5)+t.utils.svgPaths.moveBy(-.92*e,-.5)+t.utils.svgPaths.curve("q",[t.utils.svgPaths.point(-.19*e,-5.5),t.utils.svgPaths.point(0,-11)])+t.utils.svgPaths.moveBy(.92*e,1),s=t.utils.svgPaths.moveBy(-5,n-.7)+t.utils.svgPaths.lineTo(.46*e,-2.1);return{width:e,height:n,pathUp:function(t){return t?i:r},pathDown:function(t){return t?o:s}}},t.geras.HighlightConstantProvider.prototype.makeNotch=function(){return{pathLeft:t.utils.svgPaths.lineOnAxis("h",this.OFFSET)+this.constantProvider.NOTCH.pathLeft}},t.geras.HighlightConstantProvider.prototype.makeJaggedTeeth=function(){return{pathLeft:t.utils.svgPaths.lineTo(5.1,2.6)+t.utils.svgPaths.moveBy(-10.2,6.8)+t.utils.svgPaths.lineTo(5.1,2.6),height:12,width:10.2}},t.geras.HighlightConstantProvider.prototype.makeStartHat=function(){var e=this.constantProvider.START_HAT.height,n=t.utils.svgPaths.moveBy(25,-8.7)+t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(29.7,-6.2),t.utils.svgPaths.point(57.2,-.5),t.utils.svgPaths.point(75,8.7)]),i=t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(17.8,-9.2),t.utils.svgPaths.point(45.3,-14.9),t.utils.svgPaths.point(75,-8.7)])+t.utils.svgPaths.moveTo(100.5,e+.5);return{path:function(t){return t?n:i}}},t.geras.PathObject=function(e,n,i){this.constants=i,this.svgRoot=e,this.svgPathDark=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyPathDark",transform:"translate(1,1)"},this.svgRoot),this.svgPath=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyPath"},this.svgRoot),this.svgPathLight=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyPathLight"},this.svgRoot),this.colourDark="#000000",this.style=n},t.utils.object.inherits(t.geras.PathObject,t.blockRendering.PathObject),t.geras.PathObject.prototype.setPath=function(t){this.svgPath.setAttribute("d",t),this.svgPathDark.setAttribute("d",t)},t.geras.PathObject.prototype.setHighlightPath=function(t){this.svgPathLight.setAttribute("d",t)},t.geras.PathObject.prototype.flipRTL=function(){this.svgPath.setAttribute("transform","scale(-1 1)"),this.svgPathLight.setAttribute("transform","scale(-1 1)"),this.svgPathDark.setAttribute("transform","translate(1,1) scale(-1 1)")},t.geras.PathObject.prototype.applyColour=function(e){this.svgPathLight.style.display="",this.svgPathDark.style.display="",this.svgPathLight.setAttribute("stroke",this.style.colourTertiary),this.svgPathDark.setAttribute("fill",this.colourDark),t.geras.PathObject.superClass_.applyColour.call(this,e),this.svgPath.setAttribute("stroke","none")},t.geras.PathObject.prototype.setStyle=function(e){this.style=e,this.colourDark=t.utils.colour.blend("#000",this.style.colourPrimary,.2)||this.colourDark},t.geras.PathObject.prototype.updateHighlighted=function(t){t?(this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"),this.svgPathLight.style.display="none"):(this.svgPath.setAttribute("filter","none"),this.svgPathLight.style.display="inline")},t.geras.PathObject.prototype.updateShadow_=function(t){t&&(this.svgPathLight.style.display="none",this.svgPathDark.setAttribute("fill",this.style.colourSecondary),this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary))},t.geras.PathObject.prototype.updateDisabled_=function(e){t.geras.PathObject.superClass_.updateDisabled_.call(this,e),e&&this.svgPath.setAttribute("stroke","none")},t.geras.Renderer=function(e){t.geras.Renderer.superClass_.constructor.call(this,e),this.highlightConstants_=null},t.utils.object.inherits(t.geras.Renderer,t.blockRendering.Renderer),t.geras.Renderer.prototype.init=function(e,n){t.geras.Renderer.superClass_.init.call(this,e,n),this.highlightConstants_=this.makeHighlightConstants_(),this.highlightConstants_.init()},t.geras.Renderer.prototype.refreshDom=function(e,n){t.geras.Renderer.superClass_.refreshDom.call(this,e,n),this.getHighlightConstants().init()},t.geras.Renderer.prototype.makeConstants_=function(){return new t.geras.ConstantProvider},t.geras.Renderer.prototype.makeRenderInfo_=function(e){return new t.geras.RenderInfo(this,e)},t.geras.Renderer.prototype.makeDrawer_=function(e,n){return new t.geras.Drawer(e,n)},t.geras.Renderer.prototype.makePathObject=function(e,n){return new t.geras.PathObject(e,n,this.getConstants())},t.geras.Renderer.prototype.makeHighlightConstants_=function(){return new t.geras.HighlightConstantProvider(this.getConstants())},t.geras.Renderer.prototype.getHighlightConstants=function(){return this.highlightConstants_},t.blockRendering.register("geras",t.geras.Renderer),t.thrasos={},t.thrasos.RenderInfo=function(e,n){t.thrasos.RenderInfo.superClass_.constructor.call(this,e,n)},t.utils.object.inherits(t.thrasos.RenderInfo,t.blockRendering.RenderInfo),t.thrasos.RenderInfo.prototype.getRenderer=function(){return this.renderer_},t.thrasos.RenderInfo.prototype.addElemSpacing_=function(){for(var e,n=!1,i=0;e=this.rows[i];i++)e.hasExternalInput&&(n=!0);for(i=0;e=this.rows[i];i++){var o=e.elements;e.elements=[],e.startsWithElemSpacer()&&e.elements.push(new t.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(null,o[0])));for(var r=0;r<o.length-1;r++){e.elements.push(o[r]);var s=this.getInRowSpacing_(o[r],o[r+1]);e.elements.push(new t.blockRendering.InRowSpacer(this.constants_,s))}e.elements.push(o[o.length-1]),e.endsWithElemSpacer()&&(s=this.getInRowSpacing_(o[o.length-1],null),n&&e.hasDummyInput&&(s+=this.constants_.TAB_WIDTH),e.elements.push(new t.blockRendering.InRowSpacer(this.constants_,s)))}},t.thrasos.RenderInfo.prototype.getInRowSpacing_=function(e,n){if(!e)return n&&t.blockRendering.Types.isField(n)&&n.isEditable?this.constants_.MEDIUM_PADDING:n&&t.blockRendering.Types.isInlineInput(n)?this.constants_.MEDIUM_LARGE_PADDING:n&&t.blockRendering.Types.isStatementInput(n)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!t.blockRendering.Types.isInput(e)&&!n)return t.blockRendering.Types.isField(e)&&e.isEditable?this.constants_.MEDIUM_PADDING:t.blockRendering.Types.isIcon(e)?2*this.constants_.LARGE_PADDING+1:t.blockRendering.Types.isHat(e)?this.constants_.NO_PADDING:t.blockRendering.Types.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:t.blockRendering.Types.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:t.blockRendering.Types.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isInput(e)&&!n){if(t.blockRendering.Types.isExternalInput(e))return this.constants_.NO_PADDING;if(t.blockRendering.Types.isInlineInput(e))return this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isStatementInput(e))return this.constants_.NO_PADDING}if(!t.blockRendering.Types.isInput(e)&&n&&t.blockRendering.Types.isInput(n)){if(t.blockRendering.Types.isField(e)&&e.isEditable){if(t.blockRendering.Types.isInlineInput(n)||t.blockRendering.Types.isExternalInput(n))return this.constants_.SMALL_PADDING}else{if(t.blockRendering.Types.isInlineInput(n)||t.blockRendering.Types.isExternalInput(n))return this.constants_.MEDIUM_LARGE_PADDING;if(t.blockRendering.Types.isStatementInput(n))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(t.blockRendering.Types.isIcon(e)&&n&&!t.blockRendering.Types.isInput(n))return this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isInlineInput(e)&&n&&t.blockRendering.Types.isField(n))return n.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isLeftSquareCorner(e)&&n){if(t.blockRendering.Types.isHat(n))return this.constants_.NO_PADDING;if(t.blockRendering.Types.isPreviousConnection(n)||t.blockRendering.Types.isNextConnection(n))return n.notchOffset}return t.blockRendering.Types.isLeftRoundedCorner(e)&&n?n.notchOffset-this.constants_.CORNER_RADIUS:t.blockRendering.Types.isField(e)&&n&&t.blockRendering.Types.isField(n)&&e.isEditable==n.isEditable||n&&t.blockRendering.Types.isJaggedEdge(n)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},t.thrasos.RenderInfo.prototype.getSpacerRowHeight_=function(e,n){return t.blockRendering.Types.isTopRow(e)&&t.blockRendering.Types.isBottomRow(n)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:t.blockRendering.Types.isTopRow(e)||t.blockRendering.Types.isBottomRow(n)?this.constants_.NO_PADDING:e.hasExternalInput&&n.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&n.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&n.hasStatement||e.hasDummyInput||n.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},t.thrasos.RenderInfo.prototype.getElemCenterline_=function(e,n){if(t.blockRendering.Types.isSpacer(n))return e.yPos+n.height/2;if(t.blockRendering.Types.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,t.blockRendering.Types.isNextConnection(n)?e+n.height/2:e-n.height/2;if(t.blockRendering.Types.isTopRow(e))return t.blockRendering.Types.isHat(n)?e.capline-n.height/2:e.capline+n.height/2;var i=e.yPos;return t.blockRendering.Types.isField(n)&&e.hasStatement?i+(this.constants_.TALL_INPUT_FIELD_OFFSET_Y+n.height/2):i+e.height/2},t.thrasos.RenderInfo.prototype.finalize_=function(){for(var t,e=0,n=0,i=0;t=this.rows[i];i++){t.yPos=n,t.xPos=this.startX,n+=t.height,e=Math.max(e,t.widthWithConnectedBlocks);var o=n-this.topRow.ascenderHeight;t==this.bottomRow&&o<this.constants_.MIN_BLOCK_HEIGHT&&(this.bottomRow.height+=o=this.constants_.MIN_BLOCK_HEIGHT-o,n+=o),this.recordElemPositions_(t)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(e=Math.max(e,this.block_.nextConnection.targetBlock().getHeightWidth().width)),this.bottomRow.baseline=n-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX,this.height=n,this.startY=this.topRow.capline},t.thrasos.Renderer=function(e){t.thrasos.Renderer.superClass_.constructor.call(this,e)},t.utils.object.inherits(t.thrasos.Renderer,t.blockRendering.Renderer),t.thrasos.Renderer.prototype.makeRenderInfo_=function(e){return new t.thrasos.RenderInfo(this,e)},t.blockRendering.register("thrasos",t.thrasos.Renderer),t.zelos={},t.zelos.ConstantProvider=function(){t.zelos.ConstantProvider.superClass_.constructor.call(this),this.SMALL_PADDING=this.GRID_UNIT=4,this.MEDIUM_PADDING=2*this.GRID_UNIT,this.MEDIUM_LARGE_PADDING=3*this.GRID_UNIT,this.LARGE_PADDING=4*this.GRID_UNIT,this.CORNER_RADIUS=1*this.GRID_UNIT,this.NOTCH_WIDTH=9*this.GRID_UNIT,this.NOTCH_HEIGHT=2*this.GRID_UNIT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=3*this.GRID_UNIT,this.MIN_BLOCK_WIDTH=2*this.GRID_UNIT,this.MIN_BLOCK_HEIGHT=12*this.GRID_UNIT,this.EMPTY_STATEMENT_INPUT_HEIGHT=6*this.GRID_UNIT,this.TAB_OFFSET_FROM_TOP=0,this.TOP_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=6*this.GRID_UNIT,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT,this.STATEMENT_INPUT_SPACER_MIN_WIDTH=40*this.GRID_UNIT,this.STATEMENT_INPUT_PADDING_LEFT=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_PADDING=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_MIN_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=6*this.GRID_UNIT,this.CURSOR_WS_WIDTH=20*this.GRID_UNIT,this.CURSOR_COLOUR="#ffa200",this.CURSOR_RADIUS=5,this.JAGGED_TEETH_WIDTH=this.JAGGED_TEETH_HEIGHT=0,this.START_HAT_HEIGHT=22,this.START_HAT_WIDTH=96,this.SHAPES={HEXAGONAL:1,ROUND:2,SQUARE:3,PUZZLE:4,NOTCH:5},this.SHAPE_IN_SHAPE_PADDING={1:{0:5*this.GRID_UNIT,1:2*this.GRID_UNIT,2:5*this.GRID_UNIT,3:5*this.GRID_UNIT},2:{0:3*this.GRID_UNIT,1:3*this.GRID_UNIT,2:1*this.GRID_UNIT,3:2*this.GRID_UNIT},3:{0:2*this.GRID_UNIT,1:2*this.GRID_UNIT,2:2*this.GRID_UNIT,3:2*this.GRID_UNIT}},this.FULL_BLOCK_FIELDS=!0,this.FIELD_TEXT_FONTSIZE=3*this.GRID_UNIT,this.FIELD_TEXT_FONTWEIGHT="bold",this.FIELD_TEXT_FONTFAMILY='"Helvetica Neue", "Segoe UI", Helvetica, sans-serif',this.FIELD_BORDER_RECT_RADIUS=this.CORNER_RADIUS,this.FIELD_BORDER_RECT_X_PADDING=2*this.GRID_UNIT,this.FIELD_BORDER_RECT_Y_PADDING=1.625*this.GRID_UNIT,this.FIELD_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!0,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!0,this.FIELD_COLOUR_DEFAULT_WIDTH=2*this.GRID_UNIT,this.FIELD_COLOUR_DEFAULT_HEIGHT=4*this.GRID_UNIT,this.FIELD_CHECKBOX_X_OFFSET=1*this.GRID_UNIT,this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH=12*this.GRID_UNIT,this.SELECTED_GLOW_COLOUR="#fff200",this.SELECTED_GLOW_SIZE=.5,this.REPLACEMENT_GLOW_COLOUR="#fff200",this.REPLACEMENT_GLOW_SIZE=2,this.selectedGlowFilterId="",this.selectedGlowFilter_=null,this.replacementGlowFilterId="",this.replacementGlowFilter_=null},t.utils.object.inherits(t.zelos.ConstantProvider,t.blockRendering.ConstantProvider),t.zelos.ConstantProvider.prototype.setFontConstants_=function(e){t.zelos.ConstantProvider.superClass_.setFontConstants_.call(this,e),this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT=this.FIELD_TEXT_HEIGHT+2*this.FIELD_BORDER_RECT_Y_PADDING},t.zelos.ConstantProvider.prototype.init=function(){t.zelos.ConstantProvider.superClass_.init.call(this),this.HEXAGONAL=this.makeHexagonal(),this.ROUNDED=this.makeRounded(),this.SQUARED=this.makeSquared(),this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT+this.INSIDE_CORNERS.rightWidth},t.zelos.ConstantProvider.prototype.setDynamicProperties_=function(e){t.zelos.ConstantProvider.superClass_.setDynamicProperties_.call(this,e),this.SELECTED_GLOW_COLOUR=e.getComponentStyle("selectedGlowColour")||this.SELECTED_GLOW_COLOUR;var n=Number(e.getComponentStyle("selectedGlowSize"));this.SELECTED_GLOW_SIZE=n&&!isNaN(n)?n:this.SELECTED_GLOW_SIZE,this.REPLACEMENT_GLOW_COLOUR=e.getComponentStyle("replacementGlowColour")||this.REPLACEMENT_GLOW_COLOUR,this.REPLACEMENT_GLOW_SIZE=(e=Number(e.getComponentStyle("replacementGlowSize")))&&!isNaN(e)?e:this.REPLACEMENT_GLOW_SIZE},t.zelos.ConstantProvider.prototype.dispose=function(){t.zelos.ConstantProvider.superClass_.dispose.call(this),this.selectedGlowFilter_&&t.utils.dom.removeNode(this.selectedGlowFilter_),this.replacementGlowFilter_&&t.utils.dom.removeNode(this.replacementGlowFilter_)},t.zelos.ConstantProvider.prototype.makeStartHat=function(){var e=this.START_HAT_HEIGHT,n=this.START_HAT_WIDTH;return{height:e,width:n,path:t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(25,-e),t.utils.svgPaths.point(71,-e),t.utils.svgPaths.point(n,0)])}},t.zelos.ConstantProvider.prototype.makeHexagonal=function(){function e(e,i,o){var r=e/2;return t.utils.svgPaths.lineTo(-(o=o?-1:1)*(r=r>n?n:r),e=(i?-1:1)*e/2)+t.utils.svgPaths.lineTo(o*r,e)}var n=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH;return{type:this.SHAPES.HEXAGONAL,isDynamic:!0,width:function(t){return(t/=2)>n?n:t},height:function(t){return t},connectionOffsetY:function(t){return t/2},connectionOffsetX:function(t){return-t},pathDown:function(t){return e(t,!1,!1)},pathUp:function(t){return e(t,!0,!1)},pathRightDown:function(t){return e(t,!1,!0)},pathRightUp:function(t){return e(t,!1,!0)}}},t.zelos.ConstantProvider.prototype.makeRounded=function(){function e(e,n,o){var r=e>i?e-i:0;return t.utils.svgPaths.arc("a","0 0,1",e=(e>i?i:e)/2,t.utils.svgPaths.point((n?-1:1)*e,(n?-1:1)*e))+t.utils.svgPaths.lineOnAxis("v",(o?1:-1)*r)+t.utils.svgPaths.arc("a","0 0,1",e,t.utils.svgPaths.point((n?1:-1)*e,(n?-1:1)*e))}var n=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,i=2*n;return{type:this.SHAPES.ROUND,isDynamic:!0,width:function(t){return(t/=2)>n?n:t},height:function(t){return t},connectionOffsetY:function(t){return t/2},connectionOffsetX:function(t){return-t},pathDown:function(t){return e(t,!1,!1)},pathUp:function(t){return e(t,!0,!1)},pathRightDown:function(t){return e(t,!1,!0)},pathRightUp:function(t){return e(t,!1,!0)}}},t.zelos.ConstantProvider.prototype.makeSquared=function(){function e(e,i,o){return e-=2*n,t.utils.svgPaths.arc("a","0 0,1",n,t.utils.svgPaths.point((i?-1:1)*n,(i?-1:1)*n))+t.utils.svgPaths.lineOnAxis("v",(o?1:-1)*e)+t.utils.svgPaths.arc("a","0 0,1",n,t.utils.svgPaths.point((i?1:-1)*n,(i?-1:1)*n))}var n=this.CORNER_RADIUS;return{type:this.SHAPES.SQUARE,isDynamic:!0,width:function(t){return n},height:function(t){return t},connectionOffsetY:function(t){return t/2},connectionOffsetX:function(t){return-t},pathDown:function(t){return e(t,!1,!1)},pathUp:function(t){return e(t,!0,!1)},pathRightDown:function(t){return e(t,!1,!0)},pathRightUp:function(t){return e(t,!1,!0)}}},t.zelos.ConstantProvider.prototype.shapeFor=function(e){var n=e.getCheck();switch(!n&&e.targetConnection&&(n=e.targetConnection.getCheck()),e.type){case t.connectionTypes.INPUT_VALUE:case t.connectionTypes.OUTPUT_VALUE:if(null!=(e=e.getSourceBlock().getOutputShape()))switch(e){case this.SHAPES.HEXAGONAL:return this.HEXAGONAL;case this.SHAPES.ROUND:return this.ROUNDED;case this.SHAPES.SQUARE:return this.SQUARED}return n&&-1!=n.indexOf("Boolean")?this.HEXAGONAL:(n&&-1!=n.indexOf("Number")||n&&n.indexOf("String"),this.ROUNDED);case t.connectionTypes.PREVIOUS_STATEMENT:case t.connectionTypes.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown type")}},t.zelos.ConstantProvider.prototype.makeNotch=function(){function e(e){return t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(e*r/2,0),t.utils.svgPaths.point(e*r*3/4,a/2),t.utils.svgPaths.point(e*r,a)])+t.utils.svgPaths.line([t.utils.svgPaths.point(e*r,s)])+t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(e*r/4,a/2),t.utils.svgPaths.point(e*r/2,a),t.utils.svgPaths.point(e*r,a)])+t.utils.svgPaths.lineOnAxis("h",e*o)+t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(e*r/2,0),t.utils.svgPaths.point(e*r*3/4,-a/2),t.utils.svgPaths.point(e*r,-a)])+t.utils.svgPaths.line([t.utils.svgPaths.point(e*r,-s)])+t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(e*r/4,-a/2),t.utils.svgPaths.point(e*r/2,-a),t.utils.svgPaths.point(e*r,-a)])}var n=this.NOTCH_WIDTH,i=this.NOTCH_HEIGHT,o=n/3,r=o/3,s=i/2,a=s/2,l=e(1),c=e(-1);return{type:this.SHAPES.NOTCH,width:n,height:i,pathLeft:l,pathRight:c}},t.zelos.ConstantProvider.prototype.makeInsideCorners=function(){var e=this.CORNER_RADIUS,n=t.utils.svgPaths.arc("a","0 0,0",e,t.utils.svgPaths.point(-e,e)),i=t.utils.svgPaths.arc("a","0 0,1",e,t.utils.svgPaths.point(-e,e));return{width:e,height:e,pathTop:n,pathBottom:t.utils.svgPaths.arc("a","0 0,0",e,t.utils.svgPaths.point(e,e)),rightWidth:e,rightHeight:e,pathTopRight:i,pathBottomRight:t.utils.svgPaths.arc("a","0 0,1",e,t.utils.svgPaths.point(e,e))}},t.zelos.ConstantProvider.prototype.generateSecondaryColour_=function(e){return t.utils.colour.blend("#000",e,.15)||e},t.zelos.ConstantProvider.prototype.generateTertiaryColour_=function(e){return t.utils.colour.blend("#000",e,.25)||e},t.zelos.ConstantProvider.prototype.createDom=function(e,n,i){t.zelos.ConstantProvider.superClass_.createDom.call(this,e,n,i),e=t.utils.dom.createSvgElement(t.utils.Svg.DEFS,{},e),n=t.utils.dom.createSvgElement(t.utils.Svg.FILTER,{id:"blocklySelectedGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),t.utils.dom.createSvgElement(t.utils.Svg.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.SELECTED_GLOW_SIZE},n),i=t.utils.dom.createSvgElement(t.utils.Svg.FECOMPONENTTRANSFER,{result:"outBlur"},n),t.utils.dom.createSvgElement(t.utils.Svg.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},i),t.utils.dom.createSvgElement(t.utils.Svg.FEFLOOD,{"flood-color":this.SELECTED_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},n),t.utils.dom.createSvgElement(t.utils.Svg.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},n),this.selectedGlowFilterId=n.id,this.selectedGlowFilter_=n,e=t.utils.dom.createSvgElement(t.utils.Svg.FILTER,{id:"blocklyReplacementGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),t.utils.dom.createSvgElement(t.utils.Svg.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.REPLACEMENT_GLOW_SIZE},e),n=t.utils.dom.createSvgElement(t.utils.Svg.FECOMPONENTTRANSFER,{result:"outBlur"},e),t.utils.dom.createSvgElement(t.utils.Svg.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},n),t.utils.dom.createSvgElement(t.utils.Svg.FEFLOOD,{"flood-color":this.REPLACEMENT_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},e),t.utils.dom.createSvgElement(t.utils.Svg.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),t.utils.dom.createSvgElement(t.utils.Svg.FECOMPOSITE,{in:"SourceGraphic",in2:"outGlow",operator:"over"},e),this.replacementGlowFilterId=e.id,this.replacementGlowFilter_=e},t.zelos.ConstantProvider.prototype.getCSS_=function(t){return[t+" .blocklyText,",t+" .blocklyFlyoutLabelText {","font: "+this.FIELD_TEXT_FONTWEIGHT+" "+this.FIELD_TEXT_FONTSIZE+"pt "+this.FIELD_TEXT_FONTFAMILY+";","}",t+" .blocklyText {","fill: #fff;","}",t+" .blocklyNonEditableText>rect:not(.blocklyDropdownRect),",t+" .blocklyEditableText>rect:not(.blocklyDropdownRect) {","fill: "+this.FIELD_BORDER_RECT_COLOUR+";","}",t+" .blocklyNonEditableText>text,",t+" .blocklyEditableText>text,",t+" .blocklyNonEditableText>g>text,",t+" .blocklyEditableText>g>text {","fill: #575E75;","}",t+" .blocklyFlyoutLabelText {","fill: #575E75;","}",t+" .blocklyText.blocklyBubbleText {","fill: #575E75;","}",t+" .blocklyDraggable:not(.blocklyDisabled)"," .blocklyEditableText:not(.editing):hover>rect,",t+" .blocklyDraggable:not(.blocklyDisabled)"," .blocklyEditableText:not(.editing):hover>.blocklyPath {","stroke: #fff;","stroke-width: 2;","}",t+" .blocklyHtmlInput {","font-family: "+this.FIELD_TEXT_FONTFAMILY+";","font-weight: "+this.FIELD_TEXT_FONTWEIGHT+";","color: #575E75;","}",t+" .blocklyDropdownText {","fill: #fff !important;","}",t+".blocklyWidgetDiv .goog-menuitem,",t+".blocklyDropDownDiv .goog-menuitem {","font-family: "+this.FIELD_TEXT_FONTFAMILY+";","}",t+".blocklyDropDownDiv .goog-menuitem-content {","color: #fff;","}",t+" .blocklyHighlightedConnectionPath {","stroke: "+this.SELECTED_GLOW_COLOUR+";","}",t+" .blocklyDisabled > .blocklyOutlinePath {","fill: url(#blocklyDisabledPattern"+this.randomIdentifier+")","}",t+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.INSERTION_MARKER_OPACITY+";","stroke: none;","}"]},t.zelos.TopRow=function(e){t.zelos.TopRow.superClass_.constructor.call(this,e)},t.utils.object.inherits(t.zelos.TopRow,t.blockRendering.TopRow),t.zelos.TopRow.prototype.endsWithElemSpacer=function(){return!1},t.zelos.TopRow.prototype.hasLeftSquareCorner=function(t){return!!t.outputConnection||(t.hat?"cap"===t.hat:this.constants_.ADD_START_HATS)&&!t.outputConnection&&!t.previousConnection},t.zelos.TopRow.prototype.hasRightSquareCorner=function(t){return!!t.outputConnection&&!t.statementInputCount&&!t.nextConnection},t.zelos.BottomRow=function(e){t.zelos.BottomRow.superClass_.constructor.call(this,e)},t.utils.object.inherits(t.zelos.BottomRow,t.blockRendering.BottomRow),t.zelos.BottomRow.prototype.endsWithElemSpacer=function(){return!1},t.zelos.BottomRow.prototype.hasLeftSquareCorner=function(t){return!!t.outputConnection},t.zelos.BottomRow.prototype.hasRightSquareCorner=function(t){return!!t.outputConnection&&!t.statementInputCount&&!t.nextConnection},t.zelos.RightConnectionShape=function(e){t.zelos.RightConnectionShape.superClass_.constructor.call(this,e),this.type|=t.blockRendering.Types.getType("RIGHT_CONNECTION"),this.width=this.height=0},t.utils.object.inherits(t.zelos.RightConnectionShape,t.blockRendering.Measurable),t.zelos.RenderInfo=function(e,n){t.zelos.RenderInfo.superClass_.constructor.call(this,e,n),this.topRow=new t.zelos.TopRow(this.constants_),this.bottomRow=new t.zelos.BottomRow(this.constants_),this.isInline=!0,this.isMultiRow=!n.getInputsInline()||n.isCollapsed(),this.hasStatementInput=0<n.statementInputCount,this.rightSide=this.outputConnection?new t.zelos.RightConnectionShape(this.constants_):null},t.utils.object.inherits(t.zelos.RenderInfo,t.blockRendering.RenderInfo),t.zelos.RenderInfo.prototype.getRenderer=function(){return this.renderer_},t.zelos.RenderInfo.prototype.measure=function(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.adjustXPosition_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()},t.zelos.RenderInfo.prototype.shouldStartNewRow_=function(e,n){return!!n&&(e.type==t.inputTypes.STATEMENT||n.type==t.inputTypes.STATEMENT||(e.type==t.inputTypes.VALUE||e.type==t.inputTypes.DUMMY)&&(!this.isInline||this.isMultiRow))},t.zelos.RenderInfo.prototype.getDesiredRowWidth_=function(e){return e.hasStatement?this.width-this.startX-(this.constants_.INSIDE_CORNERS.rightWidth||0):t.zelos.RenderInfo.superClass_.getDesiredRowWidth_.call(this,e)},t.zelos.RenderInfo.prototype.getInRowSpacing_=function(e,n){return e&&n||!this.outputConnection||!this.outputConnection.isDynamicShape||this.hasStatementInput||this.bottomRow.hasNextConnection?!e&&n&&t.blockRendering.Types.isStatementInput(n)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:e&&t.blockRendering.Types.isLeftRoundedCorner(e)&&n&&(t.blockRendering.Types.isPreviousConnection(n)||t.blockRendering.Types.isNextConnection(n))?n.notchOffset-this.constants_.CORNER_RADIUS:e&&t.blockRendering.Types.isLeftSquareCorner(e)&&n&&t.blockRendering.Types.isHat(n)?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:this.constants_.NO_PADDING},t.zelos.RenderInfo.prototype.getSpacerRowHeight_=function(e,n){if(t.blockRendering.Types.isTopRow(e)&&t.blockRendering.Types.isBottomRow(n))return this.constants_.EMPTY_BLOCK_SPACER_HEIGHT;var i=t.blockRendering.Types.isInputRow(e)&&e.hasStatement,o=t.blockRendering.Types.isInputRow(n)&&n.hasStatement;return o||i?(e=Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.INSIDE_CORNERS.rightHeight||0),o&&i?Math.max(e,this.constants_.DUMMY_INPUT_MIN_HEIGHT):e):t.blockRendering.Types.isTopRow(e)?e.hasPreviousConnection||this.outputConnection&&!this.hasStatementInput?this.constants_.NO_PADDING:Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):t.blockRendering.Types.isBottomRow(n)?this.outputConnection?!n.hasNextConnection&&this.hasStatementInput?Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):this.constants_.NO_PADDING:Math.max(this.topRow.minHeight,Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.CORNER_RADIUS))-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING},t.zelos.RenderInfo.prototype.getSpacerRowWidth_=function(e,n){var i=this.width-this.startX;return t.blockRendering.Types.isInputRow(e)&&e.hasStatement||t.blockRendering.Types.isInputRow(n)&&n.hasStatement?Math.max(i,this.constants_.STATEMENT_INPUT_SPACER_MIN_WIDTH):i},t.zelos.RenderInfo.prototype.getElemCenterline_=function(e,n){if(e.hasStatement&&!t.blockRendering.Types.isSpacer(n)&&!t.blockRendering.Types.isStatementInput(n))return e.yPos+this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT/2;if(t.blockRendering.Types.isInlineInput(n)){var i=n.connectedBlock;if(i&&i.outputConnection&&i.nextConnection)return e.yPos+i.height/2}return t.zelos.RenderInfo.superClass_.getElemCenterline_.call(this,e,n)},t.zelos.RenderInfo.prototype.addInput_=function(e,n){e.type==t.inputTypes.DUMMY&&n.hasDummyInput&&n.align==t.constants.ALIGN.LEFT&&e.align==t.constants.ALIGN.RIGHT&&(n.rightAlignedDummyInput=e),t.zelos.RenderInfo.superClass_.addInput_.call(this,e,n)},t.zelos.RenderInfo.prototype.addAlignmentPadding_=function(e,n){if(e.rightAlignedDummyInput){for(var i,o,r=0;(o=e.elements[r])&&(t.blockRendering.Types.isSpacer(o)&&(i=o),!t.blockRendering.Types.isField(o)||o.parentInput!=e.rightAlignedDummyInput);r++);if(i)return i.width+=n,void(e.width+=n)}t.zelos.RenderInfo.superClass_.addAlignmentPadding_.call(this,e,n)},t.zelos.RenderInfo.prototype.adjustXPosition_=function(){for(var e=this.constants_.NOTCH_OFFSET_LEFT+this.constants_.NOTCH_WIDTH,n=e,i=2;i<this.rows.length-1;i+=2){var o=this.rows[i-1],r=this.rows[i],s=this.rows[i+1];if(o=2==i?!!this.topRow.hasPreviousConnection:!!o.followsStatement,s=i+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!s.precedesStatement,t.blockRendering.Types.isInputRow(r)&&r.hasStatement)r.measure(),n=r.width-r.getLastInput().width+e;else if(o&&(2==i||s)&&t.blockRendering.Types.isInputRow(r)&&!r.hasStatement){s=r.xPos,o=null;for(var a,l=0;a=r.elements[l];l++)t.blockRendering.Types.isSpacer(a)&&(o=a),!(o&&(t.blockRendering.Types.isField(a)||t.blockRendering.Types.isInput(a))&&s<n)||t.blockRendering.Types.isField(a)&&(a.field instanceof t.FieldLabel||a.field instanceof t.FieldImage)||(o.width+=n-s),s+=a.width}}},t.zelos.RenderInfo.prototype.finalizeOutputConnection_=function(){if(this.outputConnection&&this.outputConnection.isDynamicShape){for(var t,e=0,n=0;t=this.rows[n];n++)t.yPos=e,e+=t.height;this.height=e,e=this.outputConnection.shape.height(n=this.bottomRow.hasNextConnection?this.height-this.bottomRow.descenderHeight:this.height),n=this.outputConnection.shape.width(n),this.outputConnection.height=e,this.outputConnection.width=n,this.outputConnection.startX=n,this.outputConnection.connectionOffsetY=this.outputConnection.shape.connectionOffsetY(e),this.outputConnection.connectionOffsetX=this.outputConnection.shape.connectionOffsetX(n),t=0,this.hasStatementInput||this.bottomRow.hasNextConnection||(t=n,this.rightSide.height=e,this.rightSide.width=t,this.rightSide.centerline=e/2,this.rightSide.xPos=this.width+t),this.startX=n,this.width+=n+t,this.widthWithChildren+=n+t}},t.zelos.RenderInfo.prototype.finalizeHorizontalAlignment_=function(){if(this.outputConnection&&!this.hasStatementInput&&!this.bottomRow.hasNextConnection){for(var e,n=0,i=0;e=this.rows[i];i++)if(t.blockRendering.Types.isInputRow(e)){n=e.elements[e.elements.length-2];var o=this.getNegativeSpacing_(e.elements[1]),r=this.getNegativeSpacing_(n),s=this.constants_.MIN_BLOCK_WIDTH+2*this.outputConnection.width;this.width-(n=o+r)<s&&(o=(n=this.width-s)/2,r=n/2),e.elements.unshift(new t.blockRendering.InRowSpacer(this.constants_,-o)),e.elements.push(new t.blockRendering.InRowSpacer(this.constants_,-r))}if(n)for(this.width-=n,this.widthWithChildren-=n,this.rightSide.xPos-=n,i=0;e=this.rows[i];i++)t.blockRendering.Types.isTopOrBottomRow(e)&&(e.elements[1].width-=n,e.elements[1].widthWithConnectedBlocks-=n),e.width-=n,e.widthWithConnectedBlocks-=n}},t.zelos.RenderInfo.prototype.getNegativeSpacing_=function(e){if(!e)return 0;var n=this.outputConnection.width,i=this.outputConnection.shape.type,o=this.constants_;if(this.isMultiRow&&1<this.inputRows.length)switch(i){case o.SHAPES.ROUND:return n-(i=this.height/2>(i=this.constants_.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH)?i:this.height/2)*(1-Math.sin(Math.acos((i-this.constants_.SMALL_PADDING)/i)));default:return 0}if(t.blockRendering.Types.isInlineInput(e)){var r=e.connectedBlock;return e=r?r.pathObject.outputShapeType:e.shape.type,r&&r.outputConnection&&(r.statementInputCount||r.nextConnection)||i==o.SHAPES.HEXAGONAL&&i!=e?0:n-this.constants_.SHAPE_IN_SHAPE_PADDING[i][e]}return t.blockRendering.Types.isField(e)?i==o.SHAPES.ROUND&&e.field instanceof t.FieldTextInput?n-2.75*o.GRID_UNIT:n-this.constants_.SHAPE_IN_SHAPE_PADDING[i][0]:t.blockRendering.Types.isIcon(e)?this.constants_.SMALL_PADDING:0},t.zelos.RenderInfo.prototype.finalizeVerticalAlignment_=function(){if(!this.outputConnection)for(var e=2;e<this.rows.length-1;e+=2){var n=this.rows[e-1],i=this.rows[e],o=this.rows[e+1],r=2==e,s=e+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!o.precedesStatement;if(r?this.topRow.hasPreviousConnection:n.followsStatement){var a=3==i.elements.length&&(i.elements[1].field instanceof t.FieldLabel||i.elements[1].field instanceof t.FieldImage);if(!r&&a)n.height-=this.constants_.SMALL_PADDING,o.height-=this.constants_.SMALL_PADDING,i.height-=this.constants_.MEDIUM_PADDING;else if(r||s){if(s){for(r=!1,s=0;a=i.elements[s];s++)if(t.blockRendering.Types.isInlineInput(a)&&a.connectedBlock&&!a.connectedBlock.isShadow()&&40<=a.connectedBlock.getHeightWidth().height){r=!0;break}r&&(n.height-=this.constants_.SMALL_PADDING,o.height-=this.constants_.SMALL_PADDING)}}else n.height+=this.constants_.SMALL_PADDING}}},t.zelos.RenderInfo.prototype.finalize_=function(){this.finalizeOutputConnection_(),this.finalizeHorizontalAlignment_(),this.finalizeVerticalAlignment_(),t.zelos.RenderInfo.superClass_.finalize_.call(this),this.rightSide&&(this.widthWithChildren+=this.rightSide.width)},t.zelos.Drawer=function(e,n){t.zelos.Drawer.superClass_.constructor.call(this,e,n)},t.utils.object.inherits(t.zelos.Drawer,t.blockRendering.Drawer),t.zelos.Drawer.prototype.draw=function(){var e=this.block_.pathObject;e.beginDrawing(),this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_(),e.setPath(this.outlinePath_+"\n"+this.inlinePath_),this.info_.RTL&&e.flipRTL(),t.blockRendering.useDebugger&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_),this.recordSizeOnBlock_(),this.info_.outputConnection&&(e.outputShapeType=this.info_.outputConnection.shape.type),e.endDrawing()},t.zelos.Drawer.prototype.drawOutline_=function(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape&&!this.info_.hasStatementInput&&!this.info_.bottomRow.hasNextConnection?(this.drawFlatTop_(),this.drawRightDynamicConnection_(),this.drawFlatBottom_(),this.drawLeftDynamicConnection_()):t.zelos.Drawer.superClass_.drawOutline_.call(this)},t.zelos.Drawer.prototype.drawLeft_=function(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape?this.drawLeftDynamicConnection_():t.zelos.Drawer.superClass_.drawLeft_.call(this)},t.zelos.Drawer.prototype.drawRightSideRow_=function(e){if(!(0>=e.height))if(e.precedesStatement||e.followsStatement){var n=this.constants_.INSIDE_CORNERS.rightHeight;this.outlinePath_+=(e.followsStatement?this.constants_.INSIDE_CORNERS.pathBottomRight:"")+(0<(n=e.height-(e.precedesStatement?n:0))?t.utils.svgPaths.lineOnAxis("V",e.yPos+n):"")+(e.precedesStatement?this.constants_.INSIDE_CORNERS.pathTopRight:"")}else this.outlinePath_+=t.utils.svgPaths.lineOnAxis("V",e.yPos+e.height)},t.zelos.Drawer.prototype.drawRightDynamicConnection_=function(){this.outlinePath_+=this.info_.outputConnection.shape.pathRightDown(this.info_.outputConnection.height)},t.zelos.Drawer.prototype.drawLeftDynamicConnection_=function(){this.positionOutputConnection_(),this.outlinePath_+=this.info_.outputConnection.shape.pathUp(this.info_.outputConnection.height),this.outlinePath_+="z"},t.zelos.Drawer.prototype.drawFlatTop_=function(){var e=this.info_.topRow;this.positionPreviousConnection_(),this.outlinePath_+=t.utils.svgPaths.moveBy(e.xPos,this.info_.startY),this.outlinePath_+=t.utils.svgPaths.lineOnAxis("h",e.width)},t.zelos.Drawer.prototype.drawFlatBottom_=function(){var e=this.info_.bottomRow;this.positionNextConnection_(),this.outlinePath_+=t.utils.svgPaths.lineOnAxis("V",e.baseline),this.outlinePath_+=t.utils.svgPaths.lineOnAxis("h",-e.width)},t.zelos.Drawer.prototype.drawInlineInput_=function(e){this.positionInlineInputConnection_(e);var n=e.input.name;if(!e.connectedBlock&&!this.info_.isInsertionMarker){var i=e.width-2*e.connectionWidth;e=t.utils.svgPaths.moveTo(e.xPos+e.connectionWidth,e.centerline-e.height/2)+t.utils.svgPaths.lineOnAxis("h",i)+e.shape.pathRightDown(e.height)+t.utils.svgPaths.lineOnAxis("h",-i)+e.shape.pathUp(e.height)+"z",this.block_.pathObject.setOutlinePath(n,e)}},t.zelos.Drawer.prototype.drawStatementInput_=function(e){var n=e.getLastInput(),i=n.xPos+n.notchOffset+n.shape.width,o=n.shape.pathRight+t.utils.svgPaths.lineOnAxis("h",-(n.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop,r=e.height-2*this.constants_.INSIDE_CORNERS.height;n=this.constants_.INSIDE_CORNERS.pathBottom+t.utils.svgPaths.lineOnAxis("h",n.notchOffset-this.constants_.INSIDE_CORNERS.width)+(n.connectedBottomNextConnection?"":n.shape.pathLeft),this.outlinePath_+=t.utils.svgPaths.lineOnAxis("H",i)+o+t.utils.svgPaths.lineOnAxis("v",r)+n+t.utils.svgPaths.lineOnAxis("H",e.xPos+e.width),this.positionStatementInputConnection_(e)},t.zelos.MarkerSvg=function(e,n,i){t.zelos.MarkerSvg.superClass_.constructor.call(this,e,n,i)},t.utils.object.inherits(t.zelos.MarkerSvg,t.blockRendering.MarkerSvg),t.zelos.MarkerSvg.prototype.showWithInputOutput_=function(t){var e=t.getSourceBlock();t=t.getLocation().getOffsetInBlock(),this.positionCircle_(t.x,t.y),this.setParent_(e),this.showCurrent_()},t.zelos.MarkerSvg.prototype.showWithOutput_=function(t){this.showWithInputOutput_(t)},t.zelos.MarkerSvg.prototype.showWithInput_=function(t){this.showWithInputOutput_(t)},t.zelos.MarkerSvg.prototype.showWithBlock_=function(t){var e=(t=t.getLocation()).getHeightWidth();this.positionRect_(0,0,e.width,e.height),this.setParent_(t),this.showCurrent_()},t.zelos.MarkerSvg.prototype.positionCircle_=function(t,e){this.markerCircle_.setAttribute("cx",t),this.markerCircle_.setAttribute("cy",e),this.currentMarkerSvg=this.markerCircle_},t.zelos.MarkerSvg.prototype.hide=function(){t.zelos.MarkerSvg.superClass_.hide.call(this),this.markerCircle_.style.display="none"},t.zelos.MarkerSvg.prototype.createDomInternal_=function(){if(t.zelos.MarkerSvg.superClass_.createDomInternal_.call(this),this.markerCircle_=t.utils.dom.createSvgElement(t.utils.Svg.CIRCLE,{r:this.constants_.CURSOR_RADIUS,style:"display: none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.isCursor()){var e=this.getBlinkProperties_();t.utils.dom.createSvgElement(t.utils.Svg.ANIMATE,e,this.markerCircle_)}return this.markerSvg_},t.zelos.MarkerSvg.prototype.applyColour_=function(e){t.zelos.MarkerSvg.superClass_.applyColour_.call(this,e),this.markerCircle_.setAttribute("fill",this.colour_),this.markerCircle_.setAttribute("stroke",this.colour_),this.isCursor()&&this.markerCircle_.firstChild.setAttribute("values",this.colour_+";transparent;transparent;")},t.zelos.PathObject=function(e,n,i){t.zelos.PathObject.superClass_.constructor.call(this,e,n,i),this.constants=i,this.svgPathSelected_=null,this.outlines_={},this.outputShapeType=this.remainingOutlines_=null},t.utils.object.inherits(t.zelos.PathObject,t.blockRendering.PathObject),t.zelos.PathObject.prototype.setPath=function(e){t.zelos.PathObject.superClass_.setPath.call(this,e),this.svgPathSelected_&&this.svgPathSelected_.setAttribute("d",e)},t.zelos.PathObject.prototype.applyColour=function(e){t.zelos.PathObject.superClass_.applyColour.call(this,e),e.isShadow()&&e.getParent()&&this.svgPath.setAttribute("stroke",e.getParent().style.colourTertiary),e=0;for(var n,i=Object.keys(this.outlines_);n=i[e];e++)this.outlines_[n].setAttribute("fill",this.style.colourTertiary)},t.zelos.PathObject.prototype.flipRTL=function(){t.zelos.PathObject.superClass_.flipRTL.call(this);for(var e,n=0,i=Object.keys(this.outlines_);e=i[n];n++)this.outlines_[e].setAttribute("transform","scale(-1 1)")},t.zelos.PathObject.prototype.updateSelected=function(t){this.setClass_("blocklySelected",t),t?this.svgPathSelected_||(this.svgPathSelected_=this.svgPath.cloneNode(!0),this.svgPathSelected_.setAttribute("fill","none"),this.svgPathSelected_.setAttribute("filter","url(#"+this.constants.selectedGlowFilterId+")"),this.svgRoot.appendChild(this.svgPathSelected_)):this.svgPathSelected_&&(this.svgRoot.removeChild(this.svgPathSelected_),this.svgPathSelected_=null)},t.zelos.PathObject.prototype.updateReplacementFade=function(t){this.setClass_("blocklyReplaceable",t),t?this.svgPath.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):this.svgPath.removeAttribute("filter")},t.zelos.PathObject.prototype.updateShapeForInputHighlight=function(t,e){t=t.getParentInput().name,(t=this.getOutlinePath_(t))&&(e?t.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):t.removeAttribute("filter"))},t.zelos.PathObject.prototype.beginDrawing=function(){this.remainingOutlines_={};for(var t,e=0,n=Object.keys(this.outlines_);t=n[e];e++)this.remainingOutlines_[t]=1},t.zelos.PathObject.prototype.endDrawing=function(){if(this.remainingOutlines_)for(var t,e=0,n=Object.keys(this.remainingOutlines_);t=n[e];e++)this.removeOutlinePath_(t);this.remainingOutlines_=null},t.zelos.PathObject.prototype.setOutlinePath=function(t,e){(t=this.getOutlinePath_(t)).setAttribute("d",e),t.setAttribute("fill",this.style.colourTertiary)},t.zelos.PathObject.prototype.getOutlinePath_=function(e){return this.outlines_[e]||(this.outlines_[e]=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyOutlinePath",d:""},this.svgRoot)),this.remainingOutlines_&&delete this.remainingOutlines_[e],this.outlines_[e]},t.zelos.PathObject.prototype.removeOutlinePath_=function(t){this.outlines_[t].parentNode.removeChild(this.outlines_[t]),delete this.outlines_[t]},t.zelos.Renderer=function(e){t.zelos.Renderer.superClass_.constructor.call(this,e)},t.utils.object.inherits(t.zelos.Renderer,t.blockRendering.Renderer),t.zelos.Renderer.prototype.makeConstants_=function(){return new t.zelos.ConstantProvider},t.zelos.Renderer.prototype.makeRenderInfo_=function(e){return new t.zelos.RenderInfo(this,e)},t.zelos.Renderer.prototype.makeDrawer_=function(e,n){return new t.zelos.Drawer(e,n)},t.zelos.Renderer.prototype.makeMarkerDrawer=function(e,n){return new t.zelos.MarkerSvg(e,this.getConstants(),n)},t.zelos.Renderer.prototype.makePathObject=function(e,n){return new t.zelos.PathObject(e,n,this.getConstants())},t.zelos.Renderer.prototype.shouldHighlightConnection=function(e){return e.type!=t.connectionTypes.INPUT_VALUE&&e.type!==t.connectionTypes.OUTPUT_VALUE},t.zelos.Renderer.prototype.getConnectionPreviewMethod=function(e,n,i){return n.type==t.connectionTypes.OUTPUT_VALUE?e.isConnected()?t.InsertionMarkerManager.PREVIEW_TYPE.REPLACEMENT_FADE:t.InsertionMarkerManager.PREVIEW_TYPE.INPUT_OUTLINE:t.zelos.Renderer.superClass_.getConnectionPreviewMethod(e,n,i)},t.blockRendering.register("zelos",t.zelos.Renderer),t.Themes.Dark=t.Theme.defineTheme("dark",{base:t.Themes.Classic,componentStyles:{workspaceBackgroundColour:"#1e1e1e",toolboxBackgroundColour:"blackBackground",toolboxForegroundColour:"#fff",flyoutBackgroundColour:"#252526",flyoutForegroundColour:"#ccc",flyoutOpacity:1,scrollbarColour:"#797979",insertionMarkerColour:"#fff",insertionMarkerOpacity:.3,scrollbarOpacity:.4,cursorColour:"#d0d0d0",blackBackground:"#333"}}),t.Themes.Deuteranopia={},t.Themes.Deuteranopia.defaultBlockStyles={colour_blocks:{colourPrimary:"#f2a72c",colourSecondary:"#f1c172",colourTertiary:"#da921c"},list_blocks:{colourPrimary:"#7d65ab",colourSecondary:"#a88be0",colourTertiary:"#66518e"},logic_blocks:{colourPrimary:"#9fd2f1",colourSecondary:"#c0e0f4",colourTertiary:"#74bae5"},loop_blocks:{colourPrimary:"#795a07",colourSecondary:"#ac8726",colourTertiary:"#c4a03f"},math_blocks:{colourPrimary:"#e6da39",colourSecondary:"#f3ec8e",colourTertiary:"#f2eeb7"},procedure_blocks:{colourPrimary:"#590721",colourSecondary:"#8c475d",colourTertiary:"#885464"},text_blocks:{colourPrimary:"#058863",colourSecondary:"#5ecfaf",colourTertiary:"#04684c"},variable_blocks:{colourPrimary:"#47025a",colourSecondary:"#820fa1",colourTertiary:"#8e579d"},variable_dynamic_blocks:{colourPrimary:"#47025a",colourSecondary:"#820fa1",colourTertiary:"#8e579d"}},t.Themes.Deuteranopia.categoryStyles={colour_category:{colour:"#f2a72c"},list_category:{colour:"#7d65ab"},logic_category:{colour:"#9fd2f1"},loop_category:{colour:"#795a07"},math_category:{colour:"#e6da39"},procedure_category:{colour:"#590721"},text_category:{colour:"#058863"},variable_category:{colour:"#47025a"},variable_dynamic_category:{colour:"#47025a"}},t.Themes.Deuteranopia=new t.Theme("deuteranopia",t.Themes.Deuteranopia.defaultBlockStyles,t.Themes.Deuteranopia.categoryStyles),t.Themes.HighContrast={},t.Themes.HighContrast.defaultBlockStyles={colour_blocks:{colourPrimary:"#a52714",colourSecondary:"#FB9B8C",colourTertiary:"#FBE1DD"},list_blocks:{colourPrimary:"#4a148c",colourSecondary:"#AD7BE9",colourTertiary:"#CDB6E9"},logic_blocks:{colourPrimary:"#01579b",colourSecondary:"#64C7FF",colourTertiary:"#C5EAFF"},loop_blocks:{colourPrimary:"#33691e",colourSecondary:"#9AFF78",colourTertiary:"#E1FFD7"},math_blocks:{colourPrimary:"#1a237e",colourSecondary:"#8A9EFF",colourTertiary:"#DCE2FF"},procedure_blocks:{colourPrimary:"#006064",colourSecondary:"#77E6EE",colourTertiary:"#CFECEE"},text_blocks:{colourPrimary:"#004d40",colourSecondary:"#5ae27c",colourTertiary:"#D2FFDD"},variable_blocks:{colourPrimary:"#880e4f",colourSecondary:"#FF73BE",colourTertiary:"#FFD4EB"},variable_dynamic_blocks:{colourPrimary:"#880e4f",colourSecondary:"#FF73BE",colourTertiary:"#FFD4EB"},hat_blocks:{colourPrimary:"#880e4f",colourSecondary:"#FF73BE",colourTertiary:"#FFD4EB",hat:"cap"}},t.Themes.HighContrast.categoryStyles={colour_category:{colour:"#a52714"},list_category:{colour:"#4a148c"},logic_category:{colour:"#01579b"},loop_category:{colour:"#33691e"},math_category:{colour:"#1a237e"},procedure_category:{colour:"#006064"},text_category:{colour:"#004d40"},variable_category:{colour:"#880e4f"},variable_dynamic_category:{colour:"#880e4f"}},t.Themes.HighContrast=new t.Theme("highcontrast",t.Themes.HighContrast.defaultBlockStyles,t.Themes.HighContrast.categoryStyles),t.Themes.HighContrast.setComponentStyle("selectedGlowColour","#000000"),t.Themes.HighContrast.setComponentStyle("selectedGlowSize",1),t.Themes.HighContrast.setComponentStyle("replacementGlowColour","#000000"),t.Themes.HighContrast.setFontStyle({family:null,weight:null,size:16}),t.Themes.Tritanopia={},t.Themes.Tritanopia.defaultBlockStyles={colour_blocks:{colourPrimary:"#05427f",colourSecondary:"#2974c0",colourTertiary:"#2d74bb"},list_blocks:{colourPrimary:"#b69ce8",colourSecondary:"#ccbaef",colourTertiary:"#9176c5"},logic_blocks:{colourPrimary:"#9fd2f1",colourSecondary:"#c0e0f4",colourTertiary:"#74bae5"},loop_blocks:{colourPrimary:"#aa1846",colourSecondary:"#d36185",colourTertiary:"#7c1636"},math_blocks:{colourPrimary:"#e6da39",colourSecondary:"#f3ec8e",colourTertiary:"#f2eeb7"},procedure_blocks:{colourPrimary:"#590721",colourSecondary:"#8c475d",colourTertiary:"#885464"},text_blocks:{colourPrimary:"#058863",colourSecondary:"#5ecfaf",colourTertiary:"#04684c"},variable_blocks:{colourPrimary:"#4b2d84",colourSecondary:"#816ea7",colourTertiary:"#83759e"},variable_dynamic_blocks:{colourPrimary:"#4b2d84",colourSecondary:"#816ea7",colourTertiary:"#83759e"}},t.Themes.Tritanopia.categoryStyles={colour_category:{colour:"#05427f"},list_category:{colour:"#b69ce8"},logic_category:{colour:"#9fd2f1"},loop_category:{colour:"#aa1846"},math_category:{colour:"#e6da39"},procedure_category:{colour:"#590721"},text_category:{colour:"#058863"},variable_category:{colour:"#4b2d84"},variable_dynamic_category:{colour:"#4b2d84"}},t.Themes.Tritanopia=new t.Theme("tritanopia",t.Themes.Tritanopia.defaultBlockStyles,t.Themes.Tritanopia.categoryStyles),t.requires={},t})?n.apply(e,[]):n)||(t.exports=i)},2636:function(t,e,n){var i,o,r;o=[n(6672)],void 0===(r="function"==typeof(i=function(t){
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
"use strict";return t.setLocale=function(e){t.Msg=t.Msg||{},Object.keys(e).forEach(function(n){t.Msg[n]=e[n]})},t})?i.apply(e,o):i)||(t.exports=r)},1645:function(t,e){var n,i;void 0===(i="function"==typeof(n=function(){var t="undefined"==typeof window,e=new Map,n=new Map,i=[];i.total=0;var o=[],r=[];function s(){e.clear(),n.clear(),o=[],r=[]}function a(t){for(var e=-9007199254740991,n=t.length-1;n>=0;--n){var i=t[n];if(null!==i){var o=i.score;o>e&&(e=o)}}return-9007199254740991===e?null:e}function l(t,e){var n=t[e];if(void 0!==n)return n;var i=e;Array.isArray(e)||(i=e.split("."));for(var o=i.length,r=-1;t&&++r<o;)t=t[i[r]];return t}function c(t){return"object"==typeof t}var u=function(){var t=[],e=0,n={};function i(){for(var n=0,i=t[n],o=1;o<e;){var r=o+1;n=o,r<e&&t[r].score<t[o].score&&(n=r),t[n-1>>1]=t[n],o=1+(n<<1)}for(var s=n-1>>1;n>0&&i.score<t[s].score;s=(n=s)-1>>1)t[n]=t[s];t[n]=i}return n.add=function(n){var i=e;t[e++]=n;for(var o=i-1>>1;i>0&&n.score<t[o].score;o=(i=o)-1>>1)t[i]=t[o];t[i]=n},n.poll=function(){if(0!==e){var n=t[0];return t[0]=t[--e],i(),n}},n.peek=function(n){if(0!==e)return t[0]},n.replaceTop=function(e){t[0]=e,i()},n},h=u();return function d(p){var g={single:function(t,e,n){return t?(c(t)||(t=g.getPreparedSearch(t)),e?(c(e)||(e=g.getPrepared(e)),((n&&void 0!==n.allowTypo?n.allowTypo:!p||void 0===p.allowTypo||p.allowTypo)?g.algorithm:g.algorithmNoTypo)(t,e,t[0])):null):null},go:function(t,e,n){if(!t)return i;var o=(t=g.prepareSearch(t))[0],r=n&&n.threshold||p&&p.threshold||-9007199254740991,s=n&&n.limit||p&&p.limit||9007199254740991,u=(n&&void 0!==n.allowTypo?n.allowTypo:!p||void 0===p.allowTypo||p.allowTypo)?g.algorithm:g.algorithmNoTypo,d=0,m=0,f=e.length;if(n&&n.keys)for(var _=n.scoreFn||a,b=n.keys,v=b.length,y=f-1;y>=0;--y){for(var C=e[y],O=new Array(v),T=v-1;T>=0;--T)(w=l(C,S=b[T]))?(c(w)||(w=g.getPrepared(w)),O[T]=u(t,w,o)):O[T]=null;O.obj=C;var E=_(O);null!==E&&(E<r||(O.score=E,d<s?(h.add(O),++d):(++m,E>h.peek().score&&h.replaceTop(O))))}else if(n&&n.key){var S=n.key;for(y=f-1;y>=0;--y)(w=l(C=e[y],S))&&(c(w)||(w=g.getPrepared(w)),null!==(M=u(t,w,o))&&(M.score<r||(M={target:M.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:M.score,indexes:M.indexes,obj:C},d<s?(h.add(M),++d):(++m,M.score>h.peek().score&&h.replaceTop(M)))))}else for(y=f-1;y>=0;--y){var w,M;(w=e[y])&&(c(w)||(w=g.getPrepared(w)),null!==(M=u(t,w,o))&&(M.score<r||(d<s?(h.add(M),++d):(++m,M.score>h.peek().score&&h.replaceTop(M)))))}if(0===d)return i;var x=new Array(d);for(y=d-1;y>=0;--y)x[y]=h.poll();return x.total=d+m,x},goAsync:function(e,n,o){var r=!1,s=new Promise(function(s,h){if(!e)return s(i);var d=(e=g.prepareSearch(e))[0],m=u(),f=n.length-1,_=o&&o.threshold||p&&p.threshold||-9007199254740991,b=o&&o.limit||p&&p.limit||9007199254740991,v=(o&&void 0!==o.allowTypo?o.allowTypo:!p||void 0===p.allowTypo||p.allowTypo)?g.algorithm:g.algorithmNoTypo,y=0,C=0;function O(){if(r)return h("canceled");var u=Date.now();if(o&&o.keys)for(var p=o.scoreFn||a,T=o.keys,E=T.length;f>=0;--f){for(var S=n[f],w=new Array(E),M=E-1;M>=0;--M)(k=l(S,P=T[M]))?(c(k)||(k=g.getPrepared(k)),w[M]=v(e,k,d)):w[M]=null;w.obj=S;var x=p(w);if(null!==x&&!(x<_)&&(w.score=x,y<b?(m.add(w),++y):(++C,x>m.peek().score&&m.replaceTop(w)),f%1e3==0&&Date.now()-u>=10))return void(t?setImmediate(O):setTimeout(O))}else if(o&&o.key){for(var P=o.key;f>=0;--f)if((k=l(S=n[f],P))&&(c(k)||(k=g.getPrepared(k)),null!==(I=v(e,k,d))&&!(I.score<_)&&(I={target:I.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:I.score,indexes:I.indexes,obj:S},y<b?(m.add(I),++y):(++C,I.score>m.peek().score&&m.replaceTop(I)),f%1e3==0&&Date.now()-u>=10)))return void(t?setImmediate(O):setTimeout(O))}else for(;f>=0;--f){var k,I;if((k=n[f])&&(c(k)||(k=g.getPrepared(k)),null!==(I=v(e,k,d))&&!(I.score<_)&&(y<b?(m.add(I),++y):(++C,I.score>m.peek().score&&m.replaceTop(I)),f%1e3==0&&Date.now()-u>=10)))return void(t?setImmediate(O):setTimeout(O))}if(0===y)return s(i);for(var A=new Array(y),R=y-1;R>=0;--R)A[R]=m.poll();A.total=y+C,s(A)}t?setImmediate(O):O()});return s.cancel=function(){r=!0},s},highlight:function(t,e,n){if(null===t)return null;void 0===e&&(e="<b>"),void 0===n&&(n="</b>");for(var i="",o=0,r=!1,s=t.target,a=s.length,l=t.indexes,c=0;c<a;++c){var u=s[c];if(l[o]===c){if(r||(r=!0,i+=e),++o===l.length){i+=u+n+s.substr(c+1);break}}else r&&(r=!1,i+=n);i+=u}return i},prepare:function(t){if(t)return{target:t,_targetLowerCodes:g.prepareLowerCodes(t),_nextBeginningIndexes:null,score:null,indexes:null,obj:null}},prepareSlow:function(t){if(t)return{target:t,_targetLowerCodes:g.prepareLowerCodes(t),_nextBeginningIndexes:g.prepareNextBeginningIndexes(t),score:null,indexes:null,obj:null}},prepareSearch:function(t){if(t)return g.prepareLowerCodes(t)},getPrepared:function(t){if(t.length>999)return g.prepare(t);var n=e.get(t);return void 0!==n||(n=g.prepare(t),e.set(t,n)),n},getPreparedSearch:function(t){if(t.length>999)return g.prepareSearch(t);var e=n.get(t);return void 0!==e||(e=g.prepareSearch(t),n.set(t,e)),e},algorithm:function(t,e,n){for(var i=e._targetLowerCodes,s=t.length,a=i.length,l=0,c=0,u=0,h=0;;){if(n===i[c]){if(o[h++]=c,++l===s)break;n=t[0===u?l:u===l?l+1:u===l-1?l-1:l]}if(++c>=a)for(;;){if(l<=1)return null;if(0===u){if(n===t[--l])continue;u=l}else{if(1===u)return null;if((n=t[1+(l=--u)])===t[l])continue}c=o[(h=l)-1]+1;break}}l=0;var d=0,p=!1,m=0,f=e._nextBeginningIndexes;null===f&&(f=e._nextBeginningIndexes=g.prepareNextBeginningIndexes(e.target));var _=c=0===o[0]?0:f[o[0]-1];if(c!==a)for(;;)if(c>=a){if(l<=0){if(++d>s-2)break;if(t[d]===t[d+1])continue;c=_;continue}--l,c=f[r[--m]]}else if(t[0===d?l:d===l?l+1:d===l-1?l-1:l]===i[c]){if(r[m++]=c,++l===s){p=!0;break}++c}else c=f[c];if(p)var b=r,v=m;else b=o,v=h;for(var y=0,C=-1,O=0;O<s;++O)C!==(c=b[O])-1&&(y-=c),C=c;for(p?0!==d&&(y+=-20):(y*=1e3,0!==u&&(y+=-20)),e.score=y-=a-s,e.indexes=new Array(v),O=v-1;O>=0;--O)e.indexes[O]=b[O];return e},algorithmNoTypo:function(t,e,n){for(var i=e._targetLowerCodes,s=t.length,a=i.length,l=0,c=0,u=0;;){if(n===i[c]){if(o[u++]=c,++l===s)break;n=t[l]}if(++c>=a)return null}l=0;var h=!1,d=0,p=e._nextBeginningIndexes;if(null===p&&(p=e._nextBeginningIndexes=g.prepareNextBeginningIndexes(e.target)),(c=0===o[0]?0:p[o[0]-1])!==a)for(;;)if(c>=a){if(l<=0)break;--l,c=p[r[--d]]}else if(t[l]===i[c]){if(r[d++]=c,++l===s){h=!0;break}++c}else c=p[c];if(h)var m=r,f=d;else m=o,f=u;for(var _=0,b=-1,v=0;v<s;++v)b!==(c=m[v])-1&&(_-=c),b=c;for(h||(_*=1e3),e.score=_-=a-s,e.indexes=new Array(f),v=f-1;v>=0;--v)e.indexes[v]=m[v];return e},prepareLowerCodes:function(t){for(var e=t.length,n=[],i=t.toLowerCase(),o=0;o<e;++o)n[o]=i.charCodeAt(o);return n},prepareBeginningIndexes:function(t){for(var e=t.length,n=[],i=0,o=!1,r=!1,s=0;s<e;++s){var a=t.charCodeAt(s),l=a>=65&&a<=90,c=l||a>=97&&a<=122||a>=48&&a<=57,u=l&&!o||!r||!c;o=l,r=c,u&&(n[i++]=s)}return n},prepareNextBeginningIndexes:function(t){for(var e=t.length,n=g.prepareBeginningIndexes(t),i=[],o=n[0],r=0,s=0;s<e;++s)o>s?i[s]=o:(o=n[++r],i[s]=void 0===o?e:o);return i},cleanup:s,new:d};return g}()})?n.apply(e,[]):n)||(t.exports=i)},6206:function(__unused_webpack_module,exports){var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(t,e,n){t instanceof String&&(t=String(t));for(var i=t.length,o=0;o<i;o++){var r=t[o];if(e.call(n,r,o,t))return{i:o,v:r}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},$jscomp.getGlobal=function(t){return"undefined"!=typeof window&&window===t?t:"undefined"!=typeof global&&null!=global?global:t},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(t,e,n,i){if(e){for(n=$jscomp.global,t=t.split("."),i=0;i<t.length-1;i++){var o=t[i];o in n||(n[o]={}),n=n[o]}(e=e(i=n[t=t[t.length-1]]))!=i&&null!=e&&$jscomp.defineProperty(n,t,{configurable:!0,writable:!0,value:e})}},$jscomp.polyfill("Array.prototype.findIndex",function(t){return t||function(t,e){return $jscomp.findInternal(this,t,e).i}},"es6","es3"),$jscomp.checkStringArgs=function(t,e,n){if(null==t)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return t+""},$jscomp.polyfill("String.prototype.endsWith",function(t){return t||function(t,e){var n=$jscomp.checkStringArgs(this,t,"endsWith");t+="",void 0===e&&(e=n.length),e=Math.max(0,Math.min(0|e,n.length));for(var i=t.length;0<i&&0<e;)if(n[--e]!=t[--i])return!1;return 0>=i}},"es6","es3"),$jscomp.polyfill("Array.prototype.find",function(t){return t||function(t,e){return $jscomp.findInternal(this,t,e).v}},"es6","es3"),$jscomp.polyfill("String.prototype.startsWith",function(t){return t||function(t,e){var n=$jscomp.checkStringArgs(this,t,"startsWith"),i=n.length,o=(t+="").length;e=Math.max(0,Math.min(0|e,n.length));for(var r=0;r<o&&e<i;)if(n[e++]!=t[r++])return!1;return r>=o}},"es6","es3"),$jscomp.polyfill("String.prototype.repeat",function(t){return t||function(t){var e=$jscomp.checkStringArgs(this,null,"repeat");if(0>t||1342177279<t)throw new RangeError("Invalid count value");t|=0;for(var n="";t;)1&t&&(n+=e),(t>>>=1)&&(e+=e);return n}},"es6","es3");var COMPILED=!0,goog=goog||{};goog.global=this||self,goog.isDef=function(t){return void 0!==t},goog.isString=function(t){return"string"==typeof t},goog.isBoolean=function(t){return"boolean"==typeof t},goog.isNumber=function(t){return"number"==typeof t},goog.exportPath_=function(t,e,n){(t=t.split("."))[0]in(n=n||goog.global)||void 0===n.execScript||n.execScript("var "+t[0]);for(var i;t.length&&(i=t.shift());)!t.length&&goog.isDef(e)?n[i]=e:n=n[i]&&n[i]!==Object.prototype[i]?n[i]:n[i]={}},goog.define=function(t,e){if(!COMPILED){var n=goog.global.CLOSURE_UNCOMPILED_DEFINES,i=goog.global.CLOSURE_DEFINES;n&&void 0===n.nodeType&&Object.prototype.hasOwnProperty.call(n,t)?e=n[t]:i&&void 0===i.nodeType&&Object.prototype.hasOwnProperty.call(i,t)&&(e=i[t])}return e},goog.FEATURESET_YEAR=2012,goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(t){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");if(!COMPILED&&goog.isProvided_(t))throw Error('Namespace "'+t+'" already declared.');goog.constructNamespace_(t)},goog.constructNamespace_=function(t,e){if(!COMPILED){delete goog.implicitNamespaces_[t];for(var n=t;(n=n.substring(0,n.lastIndexOf(".")))&&!goog.getObjectByName(n);)goog.implicitNamespaces_[n]=!0}goog.exportPath_(t,e)},goog.getScriptNonce=function(t){return t&&t!=goog.global?goog.getScriptNonce_(t.document):(null===goog.cspNonce_&&(goog.cspNonce_=goog.getScriptNonce_(goog.global.document)),goog.cspNonce_)},goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/,goog.cspNonce_=null,goog.getScriptNonce_=function(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(t)?t:""},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(t){if(!goog.isString(t)||!t||-1==t.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+t+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=t,!COMPILED){if(goog.isProvided_(t))throw Error('Namespace "'+t+'" already declared.');delete goog.implicitNamespaces_[t]}},goog.module.get=function(t){return goog.module.getInternal_(t)},goog.module.getInternal_=function(t){if(!COMPILED){if(t in goog.loadedModules_)return goog.loadedModules_[t].exports;if(!goog.implicitNamespaces_[t])return null!=(t=goog.getObjectByName(t))?t:null}return null},goog.ModuleType={ES6:"es6",GOOG:"goog"},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()},goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG},goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var t=goog.global.$jscomp;return!!t&&"function"==typeof t.getCurrentModulePath&&!!t.getCurrentModulePath()},goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInGoogModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.declareModuleId=function(t){if(!COMPILED){if(!goog.isInEs6ModuleLoader_())throw Error("goog.declareModuleId may only be called from within an ES6 module");if(goog.moduleLoaderState_&&goog.moduleLoaderState_.moduleName)throw Error("goog.declareModuleId may only be called once per module.");if(t in goog.loadedModules_)throw Error('Module with namespace "'+t+'" already exists.')}if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=t;else{var e=goog.global.$jscomp;if(!e||"function"!=typeof e.getCurrentModulePath)throw Error('Module with namespace "'+t+'" has been loaded incorrectly.');e=e.require(e.getCurrentModulePath()),goog.loadedModules_[t]={exports:e,type:goog.ModuleType.ES6,moduleId:t}}},goog.setTestOnly=function(t){if(goog.DISALLOW_TEST_ONLY_CODE)throw t=t||"",Error("Importing test-only code into non-debug environment"+(t?": "+t:"."))},goog.forwardDeclare=function(t){},COMPILED||(goog.isProvided_=function(t){return t in goog.loadedModules_||!goog.implicitNamespaces_[t]&&goog.isDefAndNotNull(goog.getObjectByName(t))},goog.implicitNamespaces_={"goog.module":!0}),goog.getObjectByName=function(t,e){t=t.split("."),e=e||goog.global;for(var n=0;n<t.length;n++)if(!goog.isDefAndNotNull(e=e[t[n]]))return null;return e},goog.globalize=function(t,e){for(var n in e=e||goog.global,t)e[n]=t[n]},goog.addDependency=function(t,e,n,i){!COMPILED&&goog.DEPENDENCIES_ENABLED&&goog.debugLoader_.addDependency(t,e,n,i)},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(t){goog.global.console&&goog.global.console.error(t)},goog.require=function(t){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.debugLoader_.requested(t),goog.isProvided_(t)){if(goog.isInModuleLoader_())return goog.module.getInternal_(t)}else if(goog.ENABLE_DEBUG_LOADER){var e=goog.moduleLoaderState_;goog.moduleLoaderState_=null;try{goog.debugLoader_.load_(t)}finally{goog.moduleLoaderState_=e}}return null}},goog.requireType=function(t){return{}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(t){t.instance_=void 0,t.getInstance=function(){return t.instance_?t.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=t),t.instance_=new t)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.TRANSPILE="detect",goog.ASSUME_ES_MODULES_TRANSPILED=!1,goog.TRANSPILE_TO_LANGUAGE="",goog.TRANSPILER="transpile.js",goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(null==goog.hasBadLetScoping){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(b){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(t){return"(function(){"+t+"\n;})();\n"},goog.loadModule=function(t){var e=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG},goog.isFunction(t))var n=t.call(void 0,{});else{if(!goog.isString(t))throw Error("Invalid module definition");goog.useSafari10Workaround()&&(t=goog.workaroundSafari10EvalBug(t)),n=goog.loadModuleFromSource_.call(void 0,t)}var i=goog.moduleLoaderState_.moduleName;if(!goog.isString(i)||!i)throw Error('Invalid module name "'+i+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(i,n):goog.SEAL_MODULE_EXPORTS&&Object.seal&&"object"==typeof n&&null!=n&&Object.seal(n),goog.loadedModules_[i]={exports:n,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName}}finally{goog.moduleLoaderState_=e}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(t){t=t.split("/");for(var e=0;e<t.length;)"."==t[e]?t.splice(e,1):e&&".."==t[e]&&t[e-1]&&".."!=t[e-1]?t.splice(--e,2):e++;return t.join("/")},goog.loadFileSync_=function(t){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(t);try{var e=new goog.global.XMLHttpRequest;return e.open("get",t,!1),e.send(),0==e.status||200==e.status?e.responseText:null}catch(n){return null}},goog.transpile_=function(t,e,n){var i=goog.global.$jscomp;i||(goog.global.$jscomp=i={});var o=i.transpile;if(!o){var r=goog.basePath+goog.TRANSPILER,s=goog.loadFileSync_(r);if(s){if((function(){(0,eval)(s+"\n//# sourceURL="+r)}).call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,o=(i=goog.global.$jscomp).transpile}}return o||(o=i.transpile=function(t,e){return goog.logToConsole_(e+" requires transpilation but no transpiler was found."),t}),o(t,e,n)},goog.typeOf=function(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e},goog.isNull=function(t){return null===t},goog.isDefAndNotNull=function(t){return null!=t},goog.isArray=function(t){return"array"==goog.typeOf(t)},goog.isArrayLike=function(t){var e=goog.typeOf(t);return"array"==e||"object"==e&&"number"==typeof t.length},goog.isDateLike=function(t){return goog.isObject(t)&&"function"==typeof t.getFullYear},goog.isFunction=function(t){return"function"==goog.typeOf(t)},goog.isObject=function(t){var e=typeof t;return"object"==e&&null!=t||"function"==e},goog.getUid=function(t){return t[goog.UID_PROPERTY_]||(t[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(t){return!!t[goog.UID_PROPERTY_]},goog.removeUid=function(t){null!==t&&"removeAttribute"in t&&t.removeAttribute(goog.UID_PROPERTY_);try{delete t[goog.UID_PROPERTY_]}catch(e){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(t){var e=goog.typeOf(t);if("object"==e||"array"==e){if("function"==typeof t.clone)return t.clone();for(var n in e="array"==e?[]:{},t)e[n]=goog.cloneObject(t[n]);return e}return t},goog.bindNative_=function(t,e,n){return t.call.apply(t.bind,arguments)},goog.bindJs_=function(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}},goog.bind=function(t,e,n){return goog.bind=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bindNative_:goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}},goog.mixin=function(t,e){for(var n in e)t[n]=e[n]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(t){if(goog.global.execScript)goog.global.execScript(t,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_){try{goog.global.eval("var _evalTest_ = 1;")}catch(i){}if(void 0!==goog.global._evalTest_){try{delete goog.global._evalTest_}catch(i){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(t);else{var e=goog.global.document,n=e.createElement("SCRIPT");n.type="text/javascript",n.defer=!1,n.appendChild(e.createTextNode(t)),e.head.appendChild(n),e.head.removeChild(n)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(t,e){if("."==String(t).charAt(0))throw Error('className passed in goog.getCssName must not start with ".". You passed: '+t);var n=function(t){return goog.cssNameMapping_[t]||t},i=function(t){t=t.split("-");for(var e=[],i=0;i<t.length;i++)e.push(n(t[i]));return e.join("-")};return i=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?n:i:function(t){return t},t=e?t+"-"+i(e):i(t),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(t):t},goog.setCssNameMapping=function(t,e){goog.cssNameMapping_=t,goog.cssNameMappingStyle_=e},!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(t,e,n){return n&&n.html&&(t=t.replace(/</g,"&lt;")),e&&(t=t.replace(/\{\$([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t},goog.getMsgWithFallback=function(t,e){return t},goog.exportSymbol=function(t,e,n){goog.exportPath_(t,e,n)},goog.exportProperty=function(t,e,n){t[e]=n},goog.inherits=function(t,e){function n(){}n.prototype=e.prototype,t.superClass_=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.base=function(t,n,i){for(var o=Array(arguments.length-2),r=2;r<arguments.length;r++)o[r-2]=arguments[r];return e.prototype[n].apply(t,o)}},goog.base=function(t,e,n){var i=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!i)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(void 0!==i.superClass_){for(var o=Array(arguments.length-1),r=1;r<arguments.length;r++)o[r-1]=arguments[r];return i.superClass_.constructor.apply(t,o)}if("string"!=typeof e&&"symbol"!=typeof e)throw Error("method names provided to goog.base must be a string or a symbol");for(o=Array(arguments.length-2),r=2;r<arguments.length;r++)o[r-2]=arguments[r];r=!1;for(var s=t.constructor.prototype;s;s=Object.getPrototypeOf(s))if(s[e]===i)r=!0;else if(r)return s[e].apply(t,o);if(t[e]===i)return t.constructor.prototype[e].apply(t,o);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(t){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");t.call(goog.global)},COMPILED||(goog.global.COMPILED=COMPILED),goog.defineClass=function(t,e){var n=e.constructor,i=e.statics;return n&&n!=Object.prototype.constructor||(n=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),n=goog.defineClass.createSealingConstructor_(n,t),t&&goog.inherits(n,t),delete e.constructor,delete e.statics,goog.defineClass.applyProperties_(n.prototype,e),null!=i&&(i instanceof Function?i(n):goog.defineClass.applyProperties_(n,i)),n},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(t,e){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return t;var n=!goog.defineClass.isUnsealable_(e),i=function(){var e=t.apply(this,arguments)||this;return e[goog.UID_PROPERTY_]=e[goog.UID_PROPERTY_],this.constructor===i&&n&&Object.seal instanceof Function&&Object.seal(e),e};return i},goog.defineClass.isUnsealable_=function(t){return t&&t.prototype&&t.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);for(var i=0;i<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;i++)n=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[i],Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},goog.tagUnsealableClass=function(t){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(t.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",!COMPILED&&goog.DEPENDENCIES_ENABLED&&(goog.inHtmlDocument_=function(){var t=goog.global.document;return null!=t&&"write"in t},goog.isDocumentLoading_=function(){var t=goog.global.document;return t.attachEvent?"complete"!=t.readyState:"loading"==t.readyState},goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH)&&goog.isString(goog.global.CLOSURE_BASE_PATH))goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_()){var t=goog.global.document,e=t.currentScript;for(e=(t=e?[e]:t.getElementsByTagName("SCRIPT")).length-1;0<=e;--e){var n=t[e].src,i=n.lastIndexOf("?");if("base.js"==n.substr((i=-1==i?n.length:i)-7,7)){goog.basePath=n.substr(0,i-7);break}}}},goog.findBasePath_(),goog.Transpiler=function(){this.requiresTranspilation_=null,this.transpilationTarget_=goog.TRANSPILE_TO_LANGUAGE},goog.Transpiler.prototype.createRequiresTranspilation_=function(){function a(t,n){e?d[t]=!0:n()?(c=t,d[t]=!1):e=d[t]=!0}function b(a){try{return!!eval(a)}catch(h){return!1}}var c="es3",d={es3:!1},e=!1,f=goog.global.navigator&&goog.global.navigator.userAgent?goog.global.navigator.userAgent:"";return a("es5",function(){return b("[1,].length==1")}),a("es6",function(){return!f.match(/Edge\/(\d+)(\.\d)*/i)&&b('(()=>{"use strict";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()')}),a("es7",function(){return b("2 ** 2 == 4")}),a("es8",function(){return b("async () => 1, true")}),a("es9",function(){return b("({...rest} = {}), true")}),a("es_next",function(){return!1}),{target:c,map:d}},goog.Transpiler.prototype.needsTranspile=function(t,e){if("always"==goog.TRANSPILE)return!0;if("never"==goog.TRANSPILE)return!1;if(!this.requiresTranspilation_){var n=this.createRequiresTranspilation_();this.requiresTranspilation_=n.map,this.transpilationTarget_=this.transpilationTarget_||n.target}if(t in this.requiresTranspilation_)return!!this.requiresTranspilation_[t]||!(!goog.inHtmlDocument_()||"es6"!=e||"noModule"in goog.global.document.createElement("script"));throw Error("Unknown language mode: "+t)},goog.Transpiler.prototype.transpile=function(t,e){return goog.transpile_(t,e,this.transpilationTarget_)},goog.transpiler_=new goog.Transpiler,goog.protectScriptTag_=function(t){return t.replace(/<\/(SCRIPT)/gi,"\\x3c/$1")},goog.DebugLoader_=function(){this.dependencies_={},this.idToPath_={},this.written_={},this.loadingDeps_=[],this.depsToLoad_=[],this.paused_=!1,this.factory_=new goog.DependencyFactory(goog.transpiler_),this.deferredCallbacks_={},this.deferredQueue_=[]},goog.DebugLoader_.prototype.bootstrap=function(t,e){function n(){i&&(goog.global.setTimeout(i,0),i=null)}var i=e;if(t.length){e=[];for(var o=0;o<t.length;o++){var r=this.getPathFromDeps_(t[o]);if(!r)throw Error("Unregonized namespace: "+t[o]);e.push(this.dependencies_[r])}r=goog.require;var s=0;for(o=0;o<t.length;o++)r(t[o]),e[o].onLoad(function(){++s==t.length&&n()})}else n()},goog.DebugLoader_.prototype.loadClosureDeps=function(){this.depsToLoad_.push(this.factory_.createDependency(goog.normalizePath_(goog.basePath+"deps.js"),"deps.js",[],[],{},!1)),this.loadDeps_()},goog.DebugLoader_.prototype.requested=function(t,e){(t=this.getPathFromDeps_(t))&&(e||this.areDepsLoaded_(this.dependencies_[t].requires))&&(e=this.deferredCallbacks_[t])&&(delete this.deferredCallbacks_[t],e())},goog.DebugLoader_.prototype.setDependencyFactory=function(t){this.factory_=t},goog.DebugLoader_.prototype.load_=function(t){if(!this.getPathFromDeps_(t))throw goog.logToConsole_(t="goog.require could not find: "+t),Error(t);var e=this,n=[],i=function(t){var o=e.getPathFromDeps_(t);if(!o)throw Error("Bad dependency path or symbol: "+t);if(!e.written_[o]){for(e.written_[o]=!0,t=e.dependencies_[o],o=0;o<t.requires.length;o++)goog.isProvided_(t.requires[o])||i(t.requires[o]);n.push(t)}};i(t),t=!!this.depsToLoad_.length,this.depsToLoad_=this.depsToLoad_.concat(n),this.paused_||t||this.loadDeps_()},goog.DebugLoader_.prototype.loadDeps_=function(){for(var t=this,e=this.paused_;this.depsToLoad_.length&&!e;)!function(){var n=!1,i=t.depsToLoad_.shift(),o=!1;t.loading_(i);var r={pause:function(){if(n)throw Error("Cannot call pause after the call to load.");e=!0},resume:function(){n?t.resume_():e=!1},loaded:function(){if(o)throw Error("Double call to loaded.");o=!0,t.loaded_(i)},pending:function(){for(var e=[],n=0;n<t.loadingDeps_.length;n++)e.push(t.loadingDeps_[n]);return e},setModuleState:function(t){goog.moduleLoaderState_={type:t,moduleName:"",declareLegacyNamespace:!1}},registerEs6ModuleExports:function(t,e,n){n&&(goog.loadedModules_[n]={exports:e,type:goog.ModuleType.ES6,moduleId:n||""})},registerGoogModuleExports:function(t,e){goog.loadedModules_[t]={exports:e,type:goog.ModuleType.GOOG,moduleId:t}},clearModuleState:function(){goog.moduleLoaderState_=null},defer:function(e){if(n)throw Error("Cannot register with defer after the call to load.");t.defer_(i,e)},areDepsLoaded:function(){return t.areDepsLoaded_(i.requires)}};try{i.load(r)}finally{n=!0}}();e&&this.pause_()},goog.DebugLoader_.prototype.pause_=function(){this.paused_=!0},goog.DebugLoader_.prototype.resume_=function(){this.paused_&&(this.paused_=!1,this.loadDeps_())},goog.DebugLoader_.prototype.loading_=function(t){this.loadingDeps_.push(t)},goog.DebugLoader_.prototype.loaded_=function(t){for(var e=0;e<this.loadingDeps_.length;e++)if(this.loadingDeps_[e]==t){this.loadingDeps_.splice(e,1);break}for(e=0;e<this.deferredQueue_.length;e++)if(this.deferredQueue_[e]==t.path){this.deferredQueue_.splice(e,1);break}if(this.loadingDeps_.length==this.deferredQueue_.length&&!this.depsToLoad_.length)for(;this.deferredQueue_.length;)this.requested(this.deferredQueue_.shift(),!0);t.loaded()},goog.DebugLoader_.prototype.areDepsLoaded_=function(t){for(var e=0;e<t.length;e++){var n=this.getPathFromDeps_(t[e]);if(!n||!(n in this.deferredCallbacks_)&&!goog.isProvided_(t[e]))return!1}return!0},goog.DebugLoader_.prototype.getPathFromDeps_=function(t){return t in this.idToPath_?this.idToPath_[t]:t in this.dependencies_?t:null},goog.DebugLoader_.prototype.defer_=function(t,e){this.deferredCallbacks_[t.path]=e,this.deferredQueue_.push(t.path)},goog.LoadController=function(){},goog.LoadController.prototype.pause=function(){},goog.LoadController.prototype.resume=function(){},goog.LoadController.prototype.loaded=function(){},goog.LoadController.prototype.pending=function(){},goog.LoadController.prototype.registerEs6ModuleExports=function(t,e,n){},goog.LoadController.prototype.setModuleState=function(t){},goog.LoadController.prototype.clearModuleState=function(){},goog.LoadController.prototype.defer=function(t){},goog.LoadController.prototype.areDepsLoaded=function(){},goog.Dependency=function(t,e,n,i,o){this.path=t,this.relativePath=e,this.provides=n,this.requires=i,this.loadFlags=o,this.loaded_=!1,this.loadCallbacks_=[]},goog.Dependency.prototype.getPathName=function(){var t=this.path,e=t.indexOf("://");return 0<=e&&0<=(e=(t=t.substring(e+3)).indexOf("/"))&&(t=t.substring(e+1)),t},goog.Dependency.prototype.onLoad=function(t){this.loaded_?t():this.loadCallbacks_.push(t)},goog.Dependency.prototype.loaded=function(){this.loaded_=!0;var t=this.loadCallbacks_;this.loadCallbacks_=[];for(var e=0;e<t.length;e++)t[e]()},goog.Dependency.defer_=!1,goog.Dependency.callbackMap_={},goog.Dependency.registerCallback_=function(t){var e=Math.random().toString(32);return goog.Dependency.callbackMap_[e]=t,e},goog.Dependency.unregisterCallback_=function(t){delete goog.Dependency.callbackMap_[t]},goog.Dependency.callback_=function(t,e){if(!(t in goog.Dependency.callbackMap_))throw Error("Callback key "+t+" does not exist (was base.js loaded more than once?).");for(var n=goog.Dependency.callbackMap_[t],i=[],o=1;o<arguments.length;o++)i.push(arguments[o]);n.apply(void 0,i)},goog.Dependency.prototype.load=function(t){if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?t.loaded():t.pause();else if(goog.inHtmlDocument_()){var e=goog.global.document;if("complete"==e.readyState&&!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING){if(/\bdeps.js$/.test(this.path))return void t.loaded();throw Error('Cannot write "'+this.path+'" after document load')}if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&goog.isDocumentLoading_()){var n=goog.Dependency.registerCallback_(function(e){goog.DebugLoader_.IS_OLD_IE_&&"complete"!=e.readyState||(goog.Dependency.unregisterCallback_(n),t.loaded())}),i=!goog.DebugLoader_.IS_OLD_IE_&&goog.getScriptNonce()?' nonce="'+goog.getScriptNonce()+'"':"";i='<script src="'+this.path+'" '+(goog.DebugLoader_.IS_OLD_IE_?"onreadystatechange":"onload")+"=\"goog.Dependency.callback_('"+n+'\', this)" type="text/javascript" '+(goog.Dependency.defer_?"defer":"")+i+"><\/script>",e.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(i):i)}else{var o=e.createElement("script");o.defer=goog.Dependency.defer_,o.async=!1,o.type="text/javascript",(i=goog.getScriptNonce())&&o.setAttribute("nonce",i),goog.DebugLoader_.IS_OLD_IE_?(t.pause(),o.onreadystatechange=function(){"loaded"!=o.readyState&&"complete"!=o.readyState||(t.loaded(),t.resume())}):o.onload=function(){o.onload=null,t.loaded()},o.src=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScriptURL(this.path):this.path,e.head.appendChild(o)}}else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."),"deps.js"==this.relativePath?(goog.logToConsole_("Consider setting CLOSURE_IMPORT_SCRIPT before loading base.js, or setting CLOSURE_NO_DEPS to true."),t.loaded()):t.pause()},goog.Es6ModuleDependency=function(t,e,n,i,o){goog.Dependency.call(this,t,e,n,i,o)},goog.inherits(goog.Es6ModuleDependency,goog.Dependency),goog.Es6ModuleDependency.prototype.load=function(t){if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?t.loaded():t.pause();else if(goog.inHtmlDocument_()){var e=goog.global.document,n=this;if(goog.isDocumentLoading_()){var i=function(t,n){t=n?'<script type="module" crossorigin>'+n+"<\/script>":'<script type="module" crossorigin src="'+t+'"><\/script>',e.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(t):t)};goog.Dependency.defer_=!0}else i=function(t,n){var i=e.createElement("script");i.defer=!0,i.async=!1,i.type="module",i.setAttribute("crossorigin",!0);var o=goog.getScriptNonce();o&&i.setAttribute("nonce",o),n?i.textContent=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScript(n):n:i.src=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScriptURL(t):t,e.head.appendChild(i)};var o=goog.Dependency.registerCallback_(function(){goog.Dependency.unregisterCallback_(o),t.setModuleState(goog.ModuleType.ES6)});i(void 0,'goog.Dependency.callback_("'+o+'")'),i(this.path,void 0);var r=goog.Dependency.registerCallback_(function(e){goog.Dependency.unregisterCallback_(r),t.registerEs6ModuleExports(n.path,e,goog.moduleLoaderState_.moduleName)});i(void 0,'import * as m from "'+this.path+'"; goog.Dependency.callback_("'+r+'", m)');var s=goog.Dependency.registerCallback_(function(){goog.Dependency.unregisterCallback_(s),t.clearModuleState(),t.loaded()});i(void 0,'goog.Dependency.callback_("'+s+'")')}else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."),t.pause()},goog.TransformedDependency=function(t,e,n,i,o){goog.Dependency.call(this,t,e,n,i,o),this.contents_=null,this.lazyFetch_=!goog.inHtmlDocument_()||!("noModule"in goog.global.document.createElement("script"))},goog.inherits(goog.TransformedDependency,goog.Dependency),goog.TransformedDependency.prototype.load=function(t){function e(){i.contents_=goog.loadFileSync_(i.path),i.contents_&&(i.contents_=i.transform(i.contents_),i.contents_&&(i.contents_+="\n//# sourceURL="+i.path))}function n(){if(i.lazyFetch_&&e(),i.contents_){o&&t.setModuleState(goog.ModuleType.ES6);try{var n=i.contents_;if(i.contents_=null,goog.globalEval(n),o)var r=goog.moduleLoaderState_.moduleName}finally{o&&t.clearModuleState()}o&&goog.global.$jscomp.require.ensure([i.getPathName()],function(){t.registerEs6ModuleExports(i.path,goog.global.$jscomp.require(i.getPathName()),r)}),t.loaded()}}var i=this;if(goog.global.CLOSURE_IMPORT_SCRIPT)e(),this.contents_&&goog.global.CLOSURE_IMPORT_SCRIPT("",this.contents_)?(this.contents_=null,t.loaded()):t.pause();else{var o=this.loadFlags.module==goog.ModuleType.ES6;this.lazyFetch_||e();var r=1<t.pending().length,s=r&&goog.DebugLoader_.IS_OLD_IE_;if(r=goog.Dependency.defer_&&(r||goog.isDocumentLoading_()),s||r)t.defer(function(){n()});else{var a=goog.global.document;if(s=goog.inHtmlDocument_()&&"ActiveXObject"in goog.global,o&&goog.inHtmlDocument_()&&goog.isDocumentLoading_()&&!s){goog.Dependency.defer_=!0,t.pause();var l=a.onreadystatechange;a.onreadystatechange=function(){"interactive"==a.readyState&&(a.onreadystatechange=l,n(),t.resume()),goog.isFunction(l)&&l.apply(void 0,arguments)}}else!goog.DebugLoader_.IS_OLD_IE_&&goog.inHtmlDocument_()&&goog.isDocumentLoading_()?function(){var t=goog.global.document,e=goog.Dependency.registerCallback_(function(){goog.Dependency.unregisterCallback_(e),n()}),i='<script type="text/javascript">'+goog.protectScriptTag_('goog.Dependency.callback_("'+e+'");')+"<\/script>";t.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(i):i)}():n()}}},goog.TransformedDependency.prototype.transform=function(t){},goog.TranspiledDependency=function(t,e,n,i,o,r){goog.TransformedDependency.call(this,t,e,n,i,o),this.transpiler=r},goog.inherits(goog.TranspiledDependency,goog.TransformedDependency),goog.TranspiledDependency.prototype.transform=function(t){return this.transpiler.transpile(t,this.getPathName())},goog.PreTranspiledEs6ModuleDependency=function(t,e,n,i,o){goog.TransformedDependency.call(this,t,e,n,i,o)},goog.inherits(goog.PreTranspiledEs6ModuleDependency,goog.TransformedDependency),goog.PreTranspiledEs6ModuleDependency.prototype.transform=function(t){return t},goog.GoogModuleDependency=function(t,e,n,i,o,r,s){goog.TransformedDependency.call(this,t,e,n,i,o),this.needsTranspile_=r,this.transpiler_=s},goog.inherits(goog.GoogModuleDependency,goog.TransformedDependency),goog.GoogModuleDependency.prototype.transform=function(t){return this.needsTranspile_&&(t=this.transpiler_.transpile(t,this.getPathName())),goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(t+"\n//# sourceURL="+this.path+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+t+"\n;return exports});\n//# sourceURL="+this.path+"\n"},goog.DebugLoader_.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.DebugLoader_.prototype.addDependency=function(t,e,n,i){e=e||[],t=t.replace(/\\/g,"/");var o=goog.normalizePath_(goog.basePath+t);for(i&&"boolean"!=typeof i||(i=i?{module:goog.ModuleType.GOOG}:{}),n=this.factory_.createDependency(o,t,e,n,i,goog.transpiler_.needsTranspile(i.lang||"es3",i.module)),this.dependencies_[o]=n,n=0;n<e.length;n++)this.idToPath_[e[n]]=o;this.idToPath_[t]=o},goog.DependencyFactory=function(t){this.transpiler=t},goog.DependencyFactory.prototype.createDependency=function(t,e,n,i,o,r){return o.module==goog.ModuleType.GOOG?new goog.GoogModuleDependency(t,e,n,i,o,r,this.transpiler):r?new goog.TranspiledDependency(t,e,n,i,o,this.transpiler):o.module==goog.ModuleType.ES6?"never"==goog.TRANSPILE&&goog.ASSUME_ES_MODULES_TRANSPILED?new goog.PreTranspiledEs6ModuleDependency(t,e,n,i,o):new goog.Es6ModuleDependency(t,e,n,i,o):new goog.Dependency(t,e,n,i,o)},goog.debugLoader_=new goog.DebugLoader_,goog.loadClosureDeps=function(){goog.debugLoader_.loadClosureDeps()},goog.setDependencyFactory=function(t){goog.debugLoader_.setDependencyFactory(t)},goog.global.CLOSURE_NO_DEPS||goog.debugLoader_.loadClosureDeps(),goog.bootstrap=function(t,e){goog.debugLoader_.bootstrap(t,e)}),goog.TRUSTED_TYPES_POLICY_NAME="",goog.identity_=function(t){return t},goog.createTrustedTypesPolicy=function(t){var e=null;if("undefined"==typeof TrustedTypes||!TrustedTypes.createPolicy)return e;try{e=TrustedTypes.createPolicy(t,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_,createURL:goog.identity_})}catch(n){goog.logToConsole_(n.message)}return e},goog.TRUSTED_TYPES_POLICY_=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#base"):null;var jspb={BinaryConstants:{},ConstBinaryMessage:function(){},BinaryMessage:function(){}};jspb.BinaryConstants.FieldType={INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18,FHASH64:30,VHASH64:31},jspb.BinaryConstants.WireType={INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5},jspb.BinaryConstants.FieldTypeToWireType=function(t){var e=jspb.BinaryConstants.FieldType,n=jspb.BinaryConstants.WireType;switch(t){case e.INT32:case e.INT64:case e.UINT32:case e.UINT64:case e.SINT32:case e.SINT64:case e.BOOL:case e.ENUM:case e.VHASH64:return n.VARINT;case e.DOUBLE:case e.FIXED64:case e.SFIXED64:case e.FHASH64:return n.FIXED64;case e.STRING:case e.MESSAGE:case e.BYTES:return n.DELIMITED;case e.FLOAT:case e.FIXED32:case e.SFIXED32:return n.FIXED32;default:return n.INVALID}},jspb.BinaryConstants.INVALID_FIELD_NUMBER=-1,jspb.BinaryConstants.FLOAT32_EPS=1401298464324817e-60,jspb.BinaryConstants.FLOAT32_MIN=11754943508222875e-54,jspb.BinaryConstants.FLOAT32_MAX=34028234663852886e22,jspb.BinaryConstants.FLOAT64_EPS=5e-324,jspb.BinaryConstants.FLOAT64_MIN=22250738585072014e-324,jspb.BinaryConstants.FLOAT64_MAX=17976931348623157e292,jspb.BinaryConstants.TWO_TO_20=1048576,jspb.BinaryConstants.TWO_TO_23=8388608,jspb.BinaryConstants.TWO_TO_31=2147483648,jspb.BinaryConstants.TWO_TO_32=4294967296,jspb.BinaryConstants.TWO_TO_52=4503599627370496,jspb.BinaryConstants.TWO_TO_63=0x8000000000000000,jspb.BinaryConstants.TWO_TO_64=0x10000000000000000,jspb.BinaryConstants.ZERO_HASH="\0\0\0\0\0\0\0\0",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.debug={},goog.debug.Error=function(t){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(t,e){goog.debug.Error.call(this,goog.asserts.subs_(t,e)),this.messagePattern=t},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(t){throw t},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.subs_=function(t,e){for(var n="",i=(t=t.split("%s")).length-1,o=0;o<i;o++)n+=t[o]+(o<e.length?e[o]:"%s");return n+t[i]},goog.asserts.doAssertFailure_=function(t,e,n,i){var o="Assertion failed";if(n){o+=": "+n;var r=i}else t&&(o+=": "+t,r=e);t=new goog.asserts.AssertionError(""+o,r||[]),goog.asserts.errorHandler_(t)},goog.asserts.setErrorHandler=function(t){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=t)},goog.asserts.assert=function(t,e,n){return goog.asserts.ENABLE_ASSERTS&&!t&&goog.asserts.doAssertFailure_("",null,e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertExists=function(t,e,n){return goog.asserts.ENABLE_ASSERTS&&null==t&&goog.asserts.doAssertFailure_("Expected to exist: %s.",[t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.fail=function(t,e){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(t,e,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(t)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertString=function(t,e,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(t)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertFunction=function(t,e,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(t)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertObject=function(t,e,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(t)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertArray=function(t,e,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(t)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertBoolean=function(t,e,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(t)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertElement=function(t,e,n){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(t)&&t.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(t),t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertInstanceof=function(t,e,n,i){return!goog.asserts.ENABLE_ASSERTS||t instanceof e||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(e),goog.asserts.getType_(t)],n,Array.prototype.slice.call(arguments,3)),t},goog.asserts.assertFinite=function(t,e,n){return!goog.asserts.ENABLE_ASSERTS||"number"==typeof t&&isFinite(t)||goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.",[t],e,Array.prototype.slice.call(arguments,2)),t},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var t in Object.prototype)goog.asserts.fail(t+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(t){return t instanceof Function?t.displayName||t.name||"unknown type name":t instanceof Object?t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t):null===t?"null":typeof t},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=2012<goog.FEATURESET_YEAR,goog.array.peek=function(t){return t[t.length-1]},goog.array.last=goog.array.peek,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(t,e,n){return goog.asserts.assert(null!=t.length),Array.prototype.indexOf.call(t,e,n)}:function(t,e,n){if(n=null==n?0:0>n?Math.max(0,t.length+n):n,goog.isString(t))return goog.isString(e)&&1==e.length?t.indexOf(e,n):-1;for(;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(t,e,n){return goog.asserts.assert(null!=t.length),Array.prototype.lastIndexOf.call(t,e,null==n?t.length-1:n)}:function(t,e,n){if(0>(n=null==n?t.length-1:n)&&(n=Math.max(0,t.length+n)),goog.isString(t))return goog.isString(e)&&1==e.length?t.lastIndexOf(e,n):-1;for(;0<=n;n--)if(n in t&&t[n]===e)return n;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(t,e,n){goog.asserts.assert(null!=t.length),Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,o=goog.isString(t)?t.split(""):t,r=0;r<i;r++)r in o&&e.call(n,o[r],r,t)},goog.array.forEachRight=function(t,e,n){var i=t.length,o=goog.isString(t)?t.split(""):t;for(--i;0<=i;--i)i in o&&e.call(n,o[i],i,t)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(t,e,n){return goog.asserts.assert(null!=t.length),Array.prototype.filter.call(t,e,n)}:function(t,e,n){for(var i=t.length,o=[],r=0,s=goog.isString(t)?t.split(""):t,a=0;a<i;a++)if(a in s){var l=s[a];e.call(n,l,a,t)&&(o[r++]=l)}return o},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(t,e,n){return goog.asserts.assert(null!=t.length),Array.prototype.map.call(t,e,n)}:function(t,e,n){for(var i=t.length,o=Array(i),r=goog.isString(t)?t.split(""):t,s=0;s<i;s++)s in r&&(o[s]=e.call(n,r[s],s,t));return o},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(t,e,n,i){return goog.asserts.assert(null!=t.length),i&&(e=goog.bind(e,i)),Array.prototype.reduce.call(t,e,n)}:function(t,e,n,i){var o=n;return goog.array.forEach(t,function(n,r){o=e.call(i,o,n,r,t)}),o},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(t,e,n,i){return goog.asserts.assert(null!=t.length),goog.asserts.assert(null!=e),i&&(e=goog.bind(e,i)),Array.prototype.reduceRight.call(t,e,n)}:function(t,e,n,i){var o=n;return goog.array.forEachRight(t,function(n,r){o=e.call(i,o,n,r,t)}),o},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(t,e,n){return goog.asserts.assert(null!=t.length),Array.prototype.some.call(t,e,n)}:function(t,e,n){for(var i=t.length,o=goog.isString(t)?t.split(""):t,r=0;r<i;r++)if(r in o&&e.call(n,o[r],r,t))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(t,e,n){return goog.asserts.assert(null!=t.length),Array.prototype.every.call(t,e,n)}:function(t,e,n){for(var i=t.length,o=goog.isString(t)?t.split(""):t,r=0;r<i;r++)if(r in o&&!e.call(n,o[r],r,t))return!1;return!0},goog.array.count=function(t,e,n){var i=0;return goog.array.forEach(t,function(t,o,r){e.call(n,t,o,r)&&++i},n),i},goog.array.find=function(t,e,n){return 0>(e=goog.array.findIndex(t,e,n))?null:goog.isString(t)?t.charAt(e):t[e]},goog.array.findIndex=function(t,e,n){for(var i=t.length,o=goog.isString(t)?t.split(""):t,r=0;r<i;r++)if(r in o&&e.call(n,o[r],r,t))return r;return-1},goog.array.findRight=function(t,e,n){return 0>(e=goog.array.findIndexRight(t,e,n))?null:goog.isString(t)?t.charAt(e):t[e]},goog.array.findIndexRight=function(t,e,n){var i=t.length,o=goog.isString(t)?t.split(""):t;for(--i;0<=i;i--)if(i in o&&e.call(n,o[i],i,t))return i;return-1},goog.array.contains=function(t,e){return 0<=goog.array.indexOf(t,e)},goog.array.isEmpty=function(t){return 0==t.length},goog.array.clear=function(t){if(!goog.isArray(t))for(var e=t.length-1;0<=e;e--)delete t[e];t.length=0},goog.array.insert=function(t,e){goog.array.contains(t,e)||t.push(e)},goog.array.insertAt=function(t,e,n){goog.array.splice(t,n,0,e)},goog.array.insertArrayAt=function(t,e,n){goog.partial(goog.array.splice,t,n,0).apply(null,e)},goog.array.insertBefore=function(t,e,n){var i;2==arguments.length||0>(i=goog.array.indexOf(t,n))?t.push(e):goog.array.insertAt(t,e,i)},goog.array.remove=function(t,e){var n;return(n=0<=(e=goog.array.indexOf(t,e)))&&goog.array.removeAt(t,e),n},goog.array.removeLast=function(t,e){return 0<=(e=goog.array.lastIndexOf(t,e))&&(goog.array.removeAt(t,e),!0)},goog.array.removeAt=function(t,e){return goog.asserts.assert(null!=t.length),1==Array.prototype.splice.call(t,e,1).length},goog.array.removeIf=function(t,e,n){return 0<=(e=goog.array.findIndex(t,e,n))&&(goog.array.removeAt(t,e),!0)},goog.array.removeAllIf=function(t,e,n){var i=0;return goog.array.forEachRight(t,function(o,r){e.call(n,o,r,t)&&goog.array.removeAt(t,r)&&i++}),i},goog.array.concat=function(t){return Array.prototype.concat.apply([],arguments)},goog.array.join=function(t){return Array.prototype.concat.apply([],arguments)},goog.array.toArray=function(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(t,e){for(var n=1;n<arguments.length;n++){var i=arguments[n];if(goog.isArrayLike(i)){var o=t.length||0,r=i.length||0;t.length=o+r;for(var s=0;s<r;s++)t[o+s]=i[s]}else t.push(i)}},goog.array.splice=function(t,e,n,i){return goog.asserts.assert(null!=t.length),Array.prototype.splice.apply(t,goog.array.slice(arguments,1))},goog.array.slice=function(t,e,n){return goog.asserts.assert(null!=t.length),2>=arguments.length?Array.prototype.slice.call(t,e):Array.prototype.slice.call(t,e,n)},goog.array.removeDuplicates=function(t,e,n){e=e||t;var i=function(t){return goog.isObject(t)?"o"+goog.getUid(t):(typeof t).charAt(0)+t};n=n||i,i={};for(var o=0,r=0;r<t.length;){var s=t[r++],a=n(s);Object.prototype.hasOwnProperty.call(i,a)||(i[a]=!0,e[o++]=s)}e.length=o},goog.array.binarySearch=function(t,e,n){return goog.array.binarySearch_(t,n||goog.array.defaultCompare,!1,e)},goog.array.binarySelect=function(t,e,n){return goog.array.binarySearch_(t,e,!0,void 0,n)},goog.array.binarySearch_=function(t,e,n,i,o){for(var r,s=0,a=t.length;s<a;){var l=s+a>>1,c=n?e.call(o,t[l],l,t):e(i,t[l]);0<c?s=l+1:(a=l,r=!c)}return r?s:~s},goog.array.sort=function(t,e){t.sort(e||goog.array.defaultCompare)},goog.array.stableSort=function(t,e){for(var n=Array(t.length),i=0;i<t.length;i++)n[i]={index:i,value:t[i]};var o=e||goog.array.defaultCompare;for(goog.array.sort(n,function(t,e){return o(t.value,e.value)||t.index-e.index}),i=0;i<t.length;i++)t[i]=n[i].value},goog.array.sortByKey=function(t,e,n){var i=n||goog.array.defaultCompare;goog.array.sort(t,function(t,n){return i(e(t),e(n))})},goog.array.sortObjectsByKey=function(t,e,n){goog.array.sortByKey(t,function(t){return t[e]},n)},goog.array.isSorted=function(t,e,n){e=e||goog.array.defaultCompare;for(var i=1;i<t.length;i++){var o=e(t[i-1],t[i]);if(0<o||0==o&&n)return!1}return!0},goog.array.equals=function(t,e,n){if(!goog.isArrayLike(t)||!goog.isArrayLike(e)||t.length!=e.length)return!1;var i=t.length;n=n||goog.array.defaultCompareEquality;for(var o=0;o<i;o++)if(!n(t[o],e[o]))return!1;return!0},goog.array.compare3=function(t,e,n){n=n||goog.array.defaultCompare;for(var i=Math.min(t.length,e.length),o=0;o<i;o++){var r=n(t[o],e[o]);if(0!=r)return r}return goog.array.defaultCompare(t.length,e.length)},goog.array.defaultCompare=function(t,e){return t>e?1:t<e?-1:0},goog.array.inverseDefaultCompare=function(t,e){return-goog.array.defaultCompare(t,e)},goog.array.defaultCompareEquality=function(t,e){return t===e},goog.array.binaryInsert=function(t,e,n){return 0>(n=goog.array.binarySearch(t,e,n))&&(goog.array.insertAt(t,e,-(n+1)),!0)},goog.array.binaryRemove=function(t,e,n){return 0<=(e=goog.array.binarySearch(t,e,n))&&goog.array.removeAt(t,e)},goog.array.bucket=function(t,e,n){for(var i={},o=0;o<t.length;o++){var r=t[o],s=e.call(n,r,o,t);goog.isDef(s)&&(i[s]||(i[s]=[])).push(r)}return i},goog.array.toObject=function(t,e,n){var i={};return goog.array.forEach(t,function(o,r){i[e.call(n,o,r,t)]=o}),i},goog.array.range=function(t,e,n){var i=[],o=0,r=t;if(void 0!==e&&(o=t,r=e),0>(n=n||1)*(r-o))return[];if(0<n)for(t=o;t<r;t+=n)i.push(t);else for(t=o;t>r;t+=n)i.push(t);return i},goog.array.repeat=function(t,e){for(var n=[],i=0;i<e;i++)n[i]=t;return n},goog.array.flatten=function(t){for(var e=[],n=0;n<arguments.length;n++){var i=arguments[n];if(goog.isArray(i))for(var o=0;o<i.length;o+=8192){var r=goog.array.slice(i,o,o+8192);r=goog.array.flatten.apply(null,r);for(var s=0;s<r.length;s++)e.push(r[s])}else e.push(i)}return e},goog.array.rotate=function(t,e){return goog.asserts.assert(null!=t.length),t.length&&(0<(e%=t.length)?Array.prototype.unshift.apply(t,t.splice(-e,e)):0>e&&Array.prototype.push.apply(t,t.splice(0,-e))),t},goog.array.moveItem=function(t,e,n){goog.asserts.assert(0<=e&&e<t.length),goog.asserts.assert(0<=n&&n<t.length),e=Array.prototype.splice.call(t,e,1),Array.prototype.splice.call(t,n,0,e[0])},goog.array.zip=function(t){if(!arguments.length)return[];for(var e=[],n=arguments[0].length,i=1;i<arguments.length;i++)arguments[i].length<n&&(n=arguments[i].length);for(i=0;i<n;i++){for(var o=[],r=0;r<arguments.length;r++)o.push(arguments[r][i]);e.push(o)}return e},goog.array.shuffle=function(t,e){e=e||Math.random;for(var n=t.length-1;0<n;n--){var i=Math.floor(e()*(n+1)),o=t[n];t[n]=t[i],t[i]=o}},goog.array.copyByIndex=function(t,e){var n=[];return goog.array.forEach(e,function(e){n.push(t[e])}),n},goog.array.concatMap=function(t,e,n){return goog.array.concat.apply([],goog.array.map(t,e,n))},goog.crypt={},goog.crypt.stringToByteArray=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);255<o&&(e[n++]=255&o,o>>=8),e[n++]=o}return e},goog.crypt.byteArrayToString=function(t){if(8192>=t.length)return String.fromCharCode.apply(null,t);for(var e="",n=0;n<t.length;n+=8192){var i=goog.array.slice(t,n,n+8192);e+=String.fromCharCode.apply(null,i)}return e},goog.crypt.byteArrayToHex=function(t,e){return goog.array.map(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join(e||"")},goog.crypt.hexToByteArray=function(t){goog.asserts.assert(0==t.length%2,"Key string length must be multiple of 2");for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substring(n,n+2),16));return e},goog.crypt.stringToUtf8ByteArray=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);128>o?e[n++]=o:(2048>o?e[n++]=o>>6|192:(55296==(64512&o)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(o=65536+((1023&o)<<10)+(1023&t.charCodeAt(++i)),e[n++]=o>>18|240,e[n++]=o>>12&63|128):e[n++]=o>>12|224,e[n++]=o>>6&63|128),e[n++]=63&o|128)}return e},goog.crypt.utf8ByteArrayToString=function(t){for(var e=[],n=0,i=0;n<t.length;){var o=t[n++];if(128>o)e[i++]=String.fromCharCode(o);else if(191<o&&224>o){var r=t[n++];e[i++]=String.fromCharCode((31&o)<<6|63&r)}else if(239<o&&365>o){r=t[n++];var s=t[n++];o=((7&o)<<18|(63&r)<<12|(63&s)<<6|63&t[n++])-65536,e[i++]=String.fromCharCode(55296+(o>>10)),e[i++]=String.fromCharCode(56320+(1023&o))}else r=t[n++],s=t[n++],e[i++]=String.fromCharCode((15&o)<<12|(63&r)<<6|63&s)}return e.join("")},goog.crypt.xorByteArray=function(t,e){goog.asserts.assert(t.length==e.length,"XOR array lengths must match");for(var n=[],i=0;i<t.length;i++)n.push(t[i]^e[i]);return n},goog.string={},goog.string.internal={},goog.string.internal.startsWith=function(t,e){return 0==t.lastIndexOf(e,0)},goog.string.internal.endsWith=function(t,e){var n=t.length-e.length;return 0<=n&&t.indexOf(e,n)==n},goog.string.internal.caseInsensitiveStartsWith=function(t,e){return 0==goog.string.internal.caseInsensitiveCompare(e,t.substr(0,e.length))},goog.string.internal.caseInsensitiveEndsWith=function(t,e){return 0==goog.string.internal.caseInsensitiveCompare(e,t.substr(t.length-e.length,e.length))},goog.string.internal.caseInsensitiveEquals=function(t,e){return t.toLowerCase()==e.toLowerCase()},goog.string.internal.isEmptyOrWhitespace=function(t){return/^[\s\xa0]*$/.test(t)},goog.string.internal.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},goog.string.internal.caseInsensitiveCompare=function(t,e){return(t=String(t).toLowerCase())<(e=String(e).toLowerCase())?-1:t==e?0:1},goog.string.internal.newLineToBr=function(t,e){return t.replace(/(\r\n|\r|\n)/g,e?"<br />":"<br>")},goog.string.internal.htmlEscape=function(t,e){if(e)t=t.replace(goog.string.internal.AMP_RE_,"&amp;").replace(goog.string.internal.LT_RE_,"&lt;").replace(goog.string.internal.GT_RE_,"&gt;").replace(goog.string.internal.QUOT_RE_,"&quot;").replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.internal.NULL_RE_,"&#0;");else{if(!goog.string.internal.ALL_RE_.test(t))return t;-1!=t.indexOf("&")&&(t=t.replace(goog.string.internal.AMP_RE_,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(goog.string.internal.LT_RE_,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(goog.string.internal.GT_RE_,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(goog.string.internal.QUOT_RE_,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(goog.string.internal.NULL_RE_,"&#0;"))}return t},goog.string.internal.AMP_RE_=/&/g,goog.string.internal.LT_RE_=/</g,goog.string.internal.GT_RE_=/>/g,goog.string.internal.QUOT_RE_=/"/g,goog.string.internal.SINGLE_QUOTE_RE_=/'/g,goog.string.internal.NULL_RE_=/\x00/g,goog.string.internal.ALL_RE_=/[\x00&<>"']/,goog.string.internal.whitespaceEscape=function(t,e){return goog.string.internal.newLineToBr(t.replace(/  /g," &#160;"),e)},goog.string.internal.contains=function(t,e){return-1!=t.indexOf(e)},goog.string.internal.caseInsensitiveContains=function(t,e){return goog.string.internal.contains(t.toLowerCase(),e.toLowerCase())},goog.string.internal.compareVersions=function(t,e){var n=0;t=goog.string.internal.trim(String(t)).split("."),e=goog.string.internal.trim(String(e)).split(".");for(var i=Math.max(t.length,e.length),o=0;0==n&&o<i;o++){var r=t[o]||"",s=e[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=0==r[1].length?0:parseInt(r[1],10);var a=0==s[1].length?0:parseInt(s[1],10);n=goog.string.internal.compareElements_(n,a)||goog.string.internal.compareElements_(0==r[2].length,0==s[2].length)||goog.string.internal.compareElements_(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return n},goog.string.internal.compareElements_=function(t,e){return t<e?-1:t>e?1:0},goog.string.TypedString=function(){},goog.string.Const=function(t,e){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=t===goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_&&e||"",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_},goog.string.Const.prototype.implementsGoogStringTypedString=!0,goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_},goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"},goog.string.Const.unwrap=function(t){return t instanceof goog.string.Const&&t.constructor===goog.string.Const&&t.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?t.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+t+"'"),"type_error:Const")},goog.string.Const.from=function(t){return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_,t)},goog.string.Const.TYPE_MARKER_={},goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.Const.EMPTY=goog.string.Const.from(""),goog.fs={},goog.fs.url={},goog.fs.url.createObjectUrl=function(t){return goog.fs.url.getUrlObject_().createObjectURL(t)},goog.fs.url.revokeObjectUrl=function(t){goog.fs.url.getUrlObject_().revokeObjectURL(t)},goog.fs.url.getUrlObject_=function(){var t=goog.fs.url.findUrlObject_();if(null!=t)return t;throw Error("This browser doesn't seem to support blob URLs")},goog.fs.url.findUrlObject_=function(){return goog.isDef(goog.global.URL)&&goog.isDef(goog.global.URL.createObjectURL)?goog.global.URL:goog.isDef(goog.global.webkitURL)&&goog.isDef(goog.global.webkitURL.createObjectURL)?goog.global.webkitURL:goog.isDef(goog.global.createObjectURL)?goog.global:null},goog.fs.url.browserSupportsObjectUrls=function(){return null!=goog.fs.url.findUrlObject_()},goog.html={},goog.html.trustedtypes={},goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#html"):null,goog.i18n={},goog.i18n.bidi={},goog.i18n.bidi.FORCE_RTL=!1,goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||("ar"==goog.LOCALE.substring(0,2).toLowerCase()||"fa"==goog.LOCALE.substring(0,2).toLowerCase()||"he"==goog.LOCALE.substring(0,2).toLowerCase()||"iw"==goog.LOCALE.substring(0,2).toLowerCase()||"ps"==goog.LOCALE.substring(0,2).toLowerCase()||"sd"==goog.LOCALE.substring(0,2).toLowerCase()||"ug"==goog.LOCALE.substring(0,2).toLowerCase()||"ur"==goog.LOCALE.substring(0,2).toLowerCase()||"yi"==goog.LOCALE.substring(0,2).toLowerCase())&&(2==goog.LOCALE.length||"-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))||3<=goog.LOCALE.length&&"ckb"==goog.LOCALE.substring(0,3).toLowerCase()&&(3==goog.LOCALE.length||"-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4))||7<=goog.LOCALE.length&&("-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))&&("adlm"==goog.LOCALE.substring(3,7).toLowerCase()||"arab"==goog.LOCALE.substring(3,7).toLowerCase()||"hebr"==goog.LOCALE.substring(3,7).toLowerCase()||"nkoo"==goog.LOCALE.substring(3,7).toLowerCase()||"rohg"==goog.LOCALE.substring(3,7).toLowerCase()||"thaa"==goog.LOCALE.substring(3,7).toLowerCase())||8<=goog.LOCALE.length&&("-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4))&&("adlm"==goog.LOCALE.substring(4,8).toLowerCase()||"arab"==goog.LOCALE.substring(4,8).toLowerCase()||"hebr"==goog.LOCALE.substring(4,8).toLowerCase()||"nkoo"==goog.LOCALE.substring(4,8).toLowerCase()||"rohg"==goog.LOCALE.substring(4,8).toLowerCase()||"thaa"==goog.LOCALE.substring(4,8).toLowerCase()),goog.i18n.bidi.Format={LRE:"\u202a",RLE:"\u202b",PDF:"\u202c",LRM:"\u200e",RLM:"\u200f"},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(t,e){return"number"==typeof t?0<t?goog.i18n.bidi.Dir.LTR:0>t?goog.i18n.bidi.Dir.RTL:e?null:goog.i18n.bidi.Dir.NEUTRAL:null==t?null:t?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02b8\u0300-\u0590\u0900-\u1fff\u200e\u2c00-\ud801\ud804-\ud839\ud83c-\udbff\uf900-\ufb1c\ufe00-\ufe6f\ufefd-\uffff",goog.i18n.bidi.rtlChars_="\u0591-\u06ef\u06fa-\u08ff\u200f\ud802-\ud803\ud83a-\ud83b\ufb1d-\ufdff\ufe70-\ufefc",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(t,e){return e?t.replace(goog.i18n.bidi.htmlSkipReg_,""):t},goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(t,e){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(t,e))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(t,e){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(t,e))},goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(t){return goog.i18n.bidi.rtlRe_.test(t)},goog.i18n.bidi.isLtrChar=function(t){return goog.i18n.bidi.ltrRe_.test(t)},goog.i18n.bidi.isNeutralChar=function(t){return!goog.i18n.bidi.isLtrChar(t)&&!goog.i18n.bidi.isRtlChar(t)},goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(t,e){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(t,e))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(t,e){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(t,e))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(t,e){return t=goog.i18n.bidi.stripHtmlIfNeeded_(t,e),goog.i18n.bidi.isRequiredLtrRe_.test(t)||!goog.i18n.bidi.hasAnyLtr(t)&&!goog.i18n.bidi.hasAnyRtl(t)},goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(t,e){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(t,e))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(t,e){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(t,e))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i,goog.i18n.bidi.isRtlLanguage=function(t){return goog.i18n.bidi.rtlLocalesRe_.test(t)},goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInText=function(t,e){return e=(void 0===e?goog.i18n.bidi.hasAnyRtl(t):e)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM,t.replace(goog.i18n.bidi.bracketGuardTextRe_,e+"$&"+e)},goog.i18n.bidi.enforceRtlInHtml=function(t){return"<"==t.charAt(0)?t.replace(/<\w+/,"$& dir=rtl"):"\n<span dir=rtl>"+t+"</span>"},goog.i18n.bidi.enforceRtlInText=function(t){return goog.i18n.bidi.Format.RLE+t+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(t){return"<"==t.charAt(0)?t.replace(/<\w+/,"$& dir=ltr"):"\n<span dir=ltr>"+t+"</span>"},goog.i18n.bidi.enforceLtrInText=function(t){return goog.i18n.bidi.Format.LRE+t+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(t){return t.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(t){return t.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1\u05f4").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1\u05f3")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(t,e){var n=0,i=0,o=!1;for(t=goog.i18n.bidi.stripHtmlIfNeeded_(t,e).split(goog.i18n.bidi.wordSeparatorRe_),e=0;e<t.length;e++){var r=t[e];goog.i18n.bidi.startsWithRtl(r)?(n++,i++):goog.i18n.bidi.isRequiredLtrRe_.test(r)?o=!0:goog.i18n.bidi.hasAnyLtr(r)?i++:goog.i18n.bidi.hasNumeralsRe_.test(r)&&(o=!0)}return 0==i?o?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:n/i>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(t,e){return goog.i18n.bidi.estimateDirection(t,e)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(t,e){t&&(e=goog.i18n.bidi.toDir(e))&&(t.style.textAlign=e==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,t.dir=e==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")},goog.i18n.bidi.setElementDirByTextDirectionality=function(t,e){switch(goog.i18n.bidi.estimateDirection(e)){case goog.i18n.bidi.Dir.LTR:t.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:t.dir="rtl";break;default:t.removeAttribute("dir")}},goog.i18n.bidi.DirectionalString=function(){},goog.html.TrustedResourceUrl=function(){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_="",this.trustedURL_=null,this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()},goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.html.TrustedResourceUrl.prototype.cloneWithParams=function(t,e){var n=goog.html.TrustedResourceUrl.unwrap(this),i=(n=goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(n))[3]||"";return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(n[1]+goog.html.TrustedResourceUrl.stringifyParams_("?",n[2]||"",t)+goog.html.TrustedResourceUrl.stringifyParams_("#",i,e))},goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"}),goog.html.TrustedResourceUrl.unwrap=function(t){return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t).toString()},goog.html.TrustedResourceUrl.unwrapTrustedScriptURL=function(t){return t instanceof goog.html.TrustedResourceUrl&&t.constructor===goog.html.TrustedResourceUrl&&t.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?t.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+t+"' of type "+goog.typeOf(t)),"type_error:TrustedResourceUrl")},goog.html.TrustedResourceUrl.unwrapTrustedURL=function(t){return t.trustedURL_?t.trustedURL_:goog.html.TrustedResourceUrl.unwrap(t)},goog.html.TrustedResourceUrl.format=function(t,e){var n=goog.string.Const.unwrap(t);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,function(t,i){if(!Object.prototype.hasOwnProperty.call(e,i))throw Error('Found marker, "'+i+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[i])instanceof goog.string.Const?goog.string.Const.unwrap(t):encodeURIComponent(String(t))}),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g,goog.html.TrustedResourceUrl.BASE_URL_=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,goog.html.TrustedResourceUrl.URL_PARAM_PARSER_=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/,goog.html.TrustedResourceUrl.formatWithParams=function(t,e,n,i){return goog.html.TrustedResourceUrl.format(t,e).cloneWithParams(n,i)},goog.html.TrustedResourceUrl.fromConstant=function(t){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(t))},goog.html.TrustedResourceUrl.fromConstants=function(t){for(var e="",n=0;n<t.length;n++)e+=goog.string.Const.unwrap(t[n]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(t){var e=new goog.html.TrustedResourceUrl;return e.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScriptURL(t):t,goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY&&(e.trustedURL_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(t)),e},goog.html.TrustedResourceUrl.stringifyParams_=function(t,e,n){if(null==n)return e;if(goog.isString(n))return n?t+encodeURIComponent(n):"";for(var i in n){var o=n[i];o=goog.isArray(o)?o:[o];for(var r=0;r<o.length;r++){var s=o[r];null!=s&&(e||(e=t),e+=(e.length>t.length?"&":"")+encodeURIComponent(i)+"="+encodeURIComponent(String(s)))}}return e},goog.html.SafeUrl=function(){this.privateDoNotAccessOrElseSafeUrlWrappedValue_="",this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez",goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0,goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()},goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeUrlWrappedValue_+"}"}),goog.html.SafeUrl.unwrap=function(t){return goog.html.SafeUrl.unwrapTrustedURL(t).toString()},goog.html.SafeUrl.unwrapTrustedURL=function(t){return t instanceof goog.html.SafeUrl&&t.constructor===goog.html.SafeUrl&&t.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?t.privateDoNotAccessOrElseSafeUrlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+t+"' of type "+goog.typeOf(t)),"type_error:SafeUrl")},goog.html.SafeUrl.fromConstant=function(t){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(t))},goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-wav|wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime))(?:;\w+=(?:\w+|"[\w;=]+"))*$/i,goog.html.SafeUrl.isSafeMimeType=function(t){return goog.html.SAFE_MIME_TYPE_PATTERN_.test(t)},goog.html.SafeUrl.fromBlob=function(t){return t=goog.html.SAFE_MIME_TYPE_PATTERN_.test(t.type)?goog.fs.url.createObjectUrl(t):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.DATA_URL_PATTERN_=/^data:([^,]*);base64,[a-z0-9+\/]+=*$/i,goog.html.SafeUrl.fromDataUrl=function(t){var e=(t=t.replace(/(%0A|%0D)/g,"")).match(goog.html.DATA_URL_PATTERN_);return e=e&&goog.html.SAFE_MIME_TYPE_PATTERN_.test(e[1]),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e?t:goog.html.SafeUrl.INNOCUOUS_STRING)},goog.html.SafeUrl.fromTelUrl=function(t){return goog.string.internal.caseInsensitiveStartsWith(t,"tel:")||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SIP_URL_PATTERN_=/^sip[s]?:[+a-z0-9_.!$%&'*\/=^`{|}~-]+@([a-z0-9-]+\.)+[a-z0-9]{2,63}$/i,goog.html.SafeUrl.fromSipUrl=function(t){return goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(t))||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.fromFacebookMessengerUrl=function(t){return goog.string.internal.caseInsensitiveStartsWith(t,"fb-messenger://share")||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.fromWhatsAppUrl=function(t){return goog.string.internal.caseInsensitiveStartsWith(t,"whatsapp://send")||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.fromSmsUrl=function(t){return goog.string.internal.caseInsensitiveStartsWith(t,"sms:")&&goog.html.SafeUrl.isSmsUrlBodyValid_(t)||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.isSmsUrlBodyValid_=function(t){var e=t.indexOf("#");if(0<e&&(t=t.substring(0,e)),!(e=t.match(/[?&]body=/gi)))return!0;if(1<e.length)return!1;if(!(t=t.match(/[?&]body=([^&]*)/)[1]))return!0;try{decodeURIComponent(t)}catch(n){return!1}return/^(?:[a-z0-9\-_.~]|%[0-9a-f]{2})+$/i.test(t)},goog.html.SafeUrl.fromSshUrl=function(t){return goog.string.internal.caseInsensitiveStartsWith(t,"ssh://")||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.sanitizeChromeExtensionUrl=function(t,e){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\/\/([^\/]+)\//,t,e)},goog.html.SafeUrl.sanitizeFirefoxExtensionUrl=function(t,e){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\/\/([^\/]+)\//,t,e)},goog.html.SafeUrl.sanitizeEdgeExtensionUrl=function(t,e){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\/\/([^\/]+)\//,t,e)},goog.html.SafeUrl.sanitizeExtensionUrl_=function(t,e,n){return(t=t.exec(e))?(t=t[1],-1==(n instanceof goog.string.Const?[goog.string.Const.unwrap(n)]:n.map(function(t){return goog.string.Const.unwrap(t)})).indexOf(t)&&(e=goog.html.SafeUrl.INNOCUOUS_STRING)):e=goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromTrustedResourceUrl=function(t){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(t))},goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,goog.html.SafeUrl.SAFE_URL_PATTERN=goog.html.SAFE_URL_PATTERN_,goog.html.SafeUrl.sanitize=function(t){return t instanceof goog.html.SafeUrl?t:(t="object"==typeof t&&t.implementsGoogStringTypedString?t.getTypedStringValue():String(t),goog.html.SAFE_URL_PATTERN_.test(t)||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t))},goog.html.SafeUrl.sanitizeAssertUnchanged=function(t,e){return t instanceof goog.html.SafeUrl?t:(t="object"==typeof t&&t.implementsGoogStringTypedString?t.getTypedStringValue():String(t),e&&/^data:/i.test(t)&&(e=goog.html.SafeUrl.fromDataUrl(t)).getTypedStringValue()==t?e:(goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(t),"%s does not match the safe URL pattern",t)||(t=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)))},goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(t){var e=new goog.html.SafeUrl;return e.privateDoNotAccessOrElseSafeUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(t):t,e},goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank"),goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="",this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyle.fromConstant=function(t){return 0===(t=goog.string.Const.unwrap(t)).length?goog.html.SafeStyle.EMPTY:(goog.asserts.assert(goog.string.internal.endsWith(t,";"),"Last character of style string is not ';': "+t),goog.asserts.assert(goog.string.internal.contains(t,":"),"Style string must contain at least one ':', to specify a \"name: value\" pair: "+t),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t))},goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"}),goog.html.SafeStyle.unwrap=function(t){return t instanceof goog.html.SafeStyle&&t.constructor===goog.html.SafeStyle&&t.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?t.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail("expected object of type SafeStyle, got '"+t+"' of type "+goog.typeOf(t)),"type_error:SafeStyle")},goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(t){return(new goog.html.SafeStyle).initSecurityPrivateDoNotAccessOrElse_(t)},goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(t){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=t,this},goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez",goog.html.SafeStyle.create=function(t){var e,n="";for(e in t){if(!/^[-_a-zA-Z0-9]+$/.test(e))throw Error("Name allows only [-_a-zA-Z0-9], got: "+e);var i=t[e];null!=i&&(n+=e+":"+(i=goog.isArray(i)?goog.array.map(i,goog.html.SafeStyle.sanitizePropertyValue_).join(" "):goog.html.SafeStyle.sanitizePropertyValue_(i))+";")}return n?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(n):goog.html.SafeStyle.EMPTY},goog.html.SafeStyle.sanitizePropertyValue_=function(t){if(t instanceof goog.html.SafeUrl)return'url("'+goog.html.SafeUrl.unwrap(t).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(t=t instanceof goog.string.Const?goog.string.Const.unwrap(t):goog.html.SafeStyle.sanitizePropertyValueString_(String(t)),/[{;}]/.test(t))throw new goog.asserts.AssertionError("Value does not allow [{;}], got: %s.",[t]);return t},goog.html.SafeStyle.sanitizePropertyValueString_=function(t){var e=t.replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.URL_RE_,"url");return goog.html.SafeStyle.VALUE_RE_.test(e)?goog.html.SafeStyle.COMMENT_RE_.test(t)?(goog.asserts.fail("String value disallows comments, got: "+t),goog.html.SafeStyle.INNOCUOUS_STRING):goog.html.SafeStyle.hasBalancedQuotes_(t)?goog.html.SafeStyle.hasBalancedSquareBrackets_(t)?goog.html.SafeStyle.sanitizeUrl_(t):(goog.asserts.fail("String value requires balanced square brackets and one identifier per pair of brackets, got: "+t),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value requires balanced quotes, got: "+t),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value allows only "+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+" and simple functions, got: "+t),goog.html.SafeStyle.INNOCUOUS_STRING)},goog.html.SafeStyle.hasBalancedQuotes_=function(t){for(var e=!0,n=!0,i=0;i<t.length;i++){var o=t.charAt(i);"'"==o&&n?e=!e:'"'==o&&e&&(n=!n)}return e&&n},goog.html.SafeStyle.hasBalancedSquareBrackets_=function(t){for(var e=!0,n=/^[-_a-zA-Z0-9]$/,i=0;i<t.length;i++){var o=t.charAt(i);if("]"==o){if(e)return!1;e=!0}else if("["==o){if(!e)return!1;e=!1}else if(!e&&!n.test(o))return!1}return e},goog.html.SafeStyle.VALUE_ALLOWED_CHARS_="[-,.\"'%_!# a-zA-Z0-9\\[\\]]",goog.html.SafeStyle.VALUE_RE_=new RegExp("^"+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+"+$"),goog.html.SafeStyle.URL_RE_=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,goog.html.SafeStyle.FUNCTIONS_RE_=/\b(hsl|hsla|rgb|rgba|matrix|calc|minmax|fit-content|repeat|(rotate|scale|translate)(X|Y|Z|3d)?)\([-+*/0-9a-z.%\[\], ]+\)/g,goog.html.SafeStyle.COMMENT_RE_=/\/\*/,goog.html.SafeStyle.sanitizeUrl_=function(t){return t.replace(goog.html.SafeStyle.URL_RE_,function(t,e,n,i){var o="";return n=n.replace(/^(['"])(.*)\1$/,function(t,e,n){return o=e,n}),t=goog.html.SafeUrl.sanitize(n).getTypedStringValue(),e+o+t+o+i})},goog.html.SafeStyle.concat=function(t){var e="",n=function(t){goog.isArray(t)?goog.array.forEach(t,n):e+=goog.html.SafeStyle.unwrap(t)};return goog.array.forEach(arguments,n),e?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e):goog.html.SafeStyle.EMPTY},goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0,goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeScript.fromConstant=function(t){return 0===(t=goog.string.Const.unwrap(t)).length?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeScript.fromConstantAndArgs=function(t,e){for(var n=[],i=1;i<arguments.length;i++)n.push(goog.html.SafeScript.stringify_(arguments[i]));return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("("+goog.string.Const.unwrap(t)+")("+n.join(", ")+");")},goog.html.SafeScript.fromJson=function(t){return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(goog.html.SafeScript.stringify_(t))},goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"}),goog.html.SafeScript.unwrap=function(t){return goog.html.SafeScript.unwrapTrustedScript(t).toString()},goog.html.SafeScript.unwrapTrustedScript=function(t){return t instanceof goog.html.SafeScript&&t.constructor===goog.html.SafeScript&&t.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?t.privateDoNotAccessOrElseSafeScriptWrappedValue_:(goog.asserts.fail("expected object of type SafeScript, got '"+t+"' of type "+goog.typeOf(t)),"type_error:SafeScript")},goog.html.SafeScript.stringify_=function(t){return JSON.stringify(t).replace(/</g,"\\x3c")},goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(t){return(new goog.html.SafeScript).initSecurityPrivateDoNotAccessOrElse_(t)},goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(t){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScript(t):t,this},goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(""),goog.object={},goog.object.is=function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e},goog.object.forEach=function(t,e,n){for(var i in t)e.call(n,t[i],i,t)},goog.object.filter=function(t,e,n){var i,o={};for(i in t)e.call(n,t[i],i,t)&&(o[i]=t[i]);return o},goog.object.map=function(t,e,n){var i,o={};for(i in t)o[i]=e.call(n,t[i],i,t);return o},goog.object.some=function(t,e,n){for(var i in t)if(e.call(n,t[i],i,t))return!0;return!1},goog.object.every=function(t,e,n){for(var i in t)if(!e.call(n,t[i],i,t))return!1;return!0},goog.object.getCount=function(t){var e,n=0;for(e in t)n++;return n},goog.object.getAnyKey=function(t){for(var e in t)return e},goog.object.getAnyValue=function(t){for(var e in t)return t[e]},goog.object.contains=function(t,e){return goog.object.containsValue(t,e)},goog.object.getValues=function(t){var e,n=[],i=0;for(e in t)n[i++]=t[e];return n},goog.object.getKeys=function(t){var e,n=[],i=0;for(e in t)n[i++]=e;return n},goog.object.getValueByKeys=function(t,e){var n=goog.isArrayLike(e),i=n?e:arguments;for(n=n?0:1;n<i.length;n++){if(null==t)return;t=t[i[n]]}return t},goog.object.containsKey=function(t,e){return null!==t&&e in t},goog.object.containsValue=function(t,e){for(var n in t)if(t[n]==e)return!0;return!1},goog.object.findKey=function(t,e,n){for(var i in t)if(e.call(n,t[i],i,t))return i},goog.object.findValue=function(t,e,n){return(e=goog.object.findKey(t,e,n))&&t[e]},goog.object.isEmpty=function(t){for(var e in t)return!1;return!0},goog.object.clear=function(t){for(var e in t)delete t[e]},goog.object.remove=function(t,e){var n;return(n=e in t)&&delete t[e],n},goog.object.add=function(t,e,n){if(null!==t&&e in t)throw Error('The object already contains the key "'+e+'"');goog.object.set(t,e,n)},goog.object.get=function(t,e,n){return null!==t&&e in t?t[e]:n},goog.object.set=function(t,e,n){t[e]=n},goog.object.setIfUndefined=function(t,e,n){return e in t?t[e]:t[e]=n},goog.object.setWithReturnValueIfNotSet=function(t,e,n){return e in t?t[e]:(n=n(),t[e]=n)},goog.object.equals=function(t,e){for(var n in t)if(!(n in e)||t[n]!==e[n])return!1;for(var i in e)if(!(i in t))return!1;return!0},goog.object.clone=function(t){var e,n={};for(e in t)n[e]=t[e];return n},goog.object.unsafeClone=function(t){var e=goog.typeOf(t);if("object"==e||"array"==e){if(goog.isFunction(t.clone))return t.clone();for(var n in e="array"==e?[]:{},t)e[n]=goog.object.unsafeClone(t[n]);return e}return t},goog.object.transpose=function(t){var e,n={};for(e in t)n[t[e]]=e;return n},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(t,e){for(var n,i,o=1;o<arguments.length;o++){for(n in i=arguments[o])t[n]=i[n];for(var r=0;r<goog.object.PROTOTYPE_FIELDS_.length;r++)n=goog.object.PROTOTYPE_FIELDS_[r],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}},goog.object.create=function(t){var e=arguments.length;if(1==e&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(e%2)throw Error("Uneven number of arguments");for(var n={},i=0;i<e;i+=2)n[arguments[i]]=arguments[i+1];return n},goog.object.createSet=function(t){var e=arguments.length;if(1==e&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var n={},i=0;i<e;i++)n[arguments[i]]=!0;return n},goog.object.createImmutableView=function(t){var e=t;return Object.isFrozen&&!Object.isFrozen(t)&&(e=Object.create(t),Object.freeze(e)),e},goog.object.isImmutableView=function(t){return!!Object.isFrozen&&Object.isFrozen(t)},goog.object.getAllPropertyNames=function(t,e,n){if(!t)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(t);for(var i={};t&&(t!==Object.prototype||e)&&(t!==Function.prototype||n);){for(var o=Object.getOwnPropertyNames(t),r=0;r<o.length;r++)i[o[r]]=!0;t=Object.getPrototypeOf(t)}return goog.object.getKeys(i)},goog.object.getSuperClass=function(t){return(t=Object.getPrototypeOf(t.prototype))&&t.constructor},goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="",this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyleSheet.createRule=function(t,e){if(goog.string.internal.contains(t,"<"))throw Error("Selector does not allow '<', got: "+t);var n=t.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(n))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+t);if(!goog.html.SafeStyleSheet.hasBalancedBrackets_(n))throw Error("() and [] in selector must be balanced, got: "+t);return e instanceof goog.html.SafeStyle||(e=goog.html.SafeStyle.create(e)),t=t+"{"+goog.html.SafeStyle.unwrap(e).replace(/</g,"\\3C ")+"}",goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeStyleSheet.hasBalancedBrackets_=function(t){for(var e={"(":")","[":"]"},n=[],i=0;i<t.length;i++){var o=t[i];if(e[o])n.push(e[o]);else if(goog.object.contains(e,o)&&n.pop()!=o)return!1}return 0==n.length},goog.html.SafeStyleSheet.concat=function(t){var e="",n=function(t){goog.isArray(t)?goog.array.forEach(t,n):e+=goog.html.SafeStyleSheet.unwrap(t)};return goog.array.forEach(arguments,n),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeStyleSheet.fromConstant=function(t){return 0===(t=goog.string.Const.unwrap(t)).length?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.internal.contains(t,"<"),"Forbidden '<' character in style sheet string: "+t),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t))},goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_},goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"}),goog.html.SafeStyleSheet.unwrap=function(t){return t instanceof goog.html.SafeStyleSheet&&t.constructor===goog.html.SafeStyleSheet&&t.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?t.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail("expected object of type SafeStyleSheet, got '"+t+"' of type "+goog.typeOf(t)),"type_error:SafeStyleSheet")},goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(t){return(new goog.html.SafeStyleSheet).initSecurityPrivateDoNotAccessOrElse_(t)},goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(t){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=t,this},goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(""),goog.dom.tags={},goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},goog.dom.tags.isVoidTag=function(t){return!0===goog.dom.tags.VOID_TAGS_[t]},goog.dom.HtmlElement=function(){},goog.dom.TagName=function(t){this.tagName_=t},goog.dom.TagName.prototype.toString=function(){return this.tagName_},goog.dom.TagName.A=new goog.dom.TagName("A"),goog.dom.TagName.ABBR=new goog.dom.TagName("ABBR"),goog.dom.TagName.ACRONYM=new goog.dom.TagName("ACRONYM"),goog.dom.TagName.ADDRESS=new goog.dom.TagName("ADDRESS"),goog.dom.TagName.APPLET=new goog.dom.TagName("APPLET"),goog.dom.TagName.AREA=new goog.dom.TagName("AREA"),goog.dom.TagName.ARTICLE=new goog.dom.TagName("ARTICLE"),goog.dom.TagName.ASIDE=new goog.dom.TagName("ASIDE"),goog.dom.TagName.AUDIO=new goog.dom.TagName("AUDIO"),goog.dom.TagName.B=new goog.dom.TagName("B"),goog.dom.TagName.BASE=new goog.dom.TagName("BASE"),goog.dom.TagName.BASEFONT=new goog.dom.TagName("BASEFONT"),goog.dom.TagName.BDI=new goog.dom.TagName("BDI"),goog.dom.TagName.BDO=new goog.dom.TagName("BDO"),goog.dom.TagName.BIG=new goog.dom.TagName("BIG"),goog.dom.TagName.BLOCKQUOTE=new goog.dom.TagName("BLOCKQUOTE"),goog.dom.TagName.BODY=new goog.dom.TagName("BODY"),goog.dom.TagName.BR=new goog.dom.TagName("BR"),goog.dom.TagName.BUTTON=new goog.dom.TagName("BUTTON"),goog.dom.TagName.CANVAS=new goog.dom.TagName("CANVAS"),goog.dom.TagName.CAPTION=new goog.dom.TagName("CAPTION"),goog.dom.TagName.CENTER=new goog.dom.TagName("CENTER"),goog.dom.TagName.CITE=new goog.dom.TagName("CITE"),goog.dom.TagName.CODE=new goog.dom.TagName("CODE"),goog.dom.TagName.COL=new goog.dom.TagName("COL"),goog.dom.TagName.COLGROUP=new goog.dom.TagName("COLGROUP"),goog.dom.TagName.COMMAND=new goog.dom.TagName("COMMAND"),goog.dom.TagName.DATA=new goog.dom.TagName("DATA"),goog.dom.TagName.DATALIST=new goog.dom.TagName("DATALIST"),goog.dom.TagName.DD=new goog.dom.TagName("DD"),goog.dom.TagName.DEL=new goog.dom.TagName("DEL"),goog.dom.TagName.DETAILS=new goog.dom.TagName("DETAILS"),goog.dom.TagName.DFN=new goog.dom.TagName("DFN"),goog.dom.TagName.DIALOG=new goog.dom.TagName("DIALOG"),goog.dom.TagName.DIR=new goog.dom.TagName("DIR"),goog.dom.TagName.DIV=new goog.dom.TagName("DIV"),goog.dom.TagName.DL=new goog.dom.TagName("DL"),goog.dom.TagName.DT=new goog.dom.TagName("DT"),goog.dom.TagName.EM=new goog.dom.TagName("EM"),goog.dom.TagName.EMBED=new goog.dom.TagName("EMBED"),goog.dom.TagName.FIELDSET=new goog.dom.TagName("FIELDSET"),goog.dom.TagName.FIGCAPTION=new goog.dom.TagName("FIGCAPTION"),goog.dom.TagName.FIGURE=new goog.dom.TagName("FIGURE"),goog.dom.TagName.FONT=new goog.dom.TagName("FONT"),goog.dom.TagName.FOOTER=new goog.dom.TagName("FOOTER"),goog.dom.TagName.FORM=new goog.dom.TagName("FORM"),goog.dom.TagName.FRAME=new goog.dom.TagName("FRAME"),goog.dom.TagName.FRAMESET=new goog.dom.TagName("FRAMESET"),goog.dom.TagName.H1=new goog.dom.TagName("H1"),goog.dom.TagName.H2=new goog.dom.TagName("H2"),goog.dom.TagName.H3=new goog.dom.TagName("H3"),goog.dom.TagName.H4=new goog.dom.TagName("H4"),goog.dom.TagName.H5=new goog.dom.TagName("H5"),goog.dom.TagName.H6=new goog.dom.TagName("H6"),goog.dom.TagName.HEAD=new goog.dom.TagName("HEAD"),goog.dom.TagName.HEADER=new goog.dom.TagName("HEADER"),goog.dom.TagName.HGROUP=new goog.dom.TagName("HGROUP"),goog.dom.TagName.HR=new goog.dom.TagName("HR"),goog.dom.TagName.HTML=new goog.dom.TagName("HTML"),goog.dom.TagName.I=new goog.dom.TagName("I"),goog.dom.TagName.IFRAME=new goog.dom.TagName("IFRAME"),goog.dom.TagName.IMG=new goog.dom.TagName("IMG"),goog.dom.TagName.INPUT=new goog.dom.TagName("INPUT"),goog.dom.TagName.INS=new goog.dom.TagName("INS"),goog.dom.TagName.ISINDEX=new goog.dom.TagName("ISINDEX"),goog.dom.TagName.KBD=new goog.dom.TagName("KBD"),goog.dom.TagName.KEYGEN=new goog.dom.TagName("KEYGEN"),goog.dom.TagName.LABEL=new goog.dom.TagName("LABEL"),goog.dom.TagName.LEGEND=new goog.dom.TagName("LEGEND"),goog.dom.TagName.LI=new goog.dom.TagName("LI"),goog.dom.TagName.LINK=new goog.dom.TagName("LINK"),goog.dom.TagName.MAIN=new goog.dom.TagName("MAIN"),goog.dom.TagName.MAP=new goog.dom.TagName("MAP"),goog.dom.TagName.MARK=new goog.dom.TagName("MARK"),goog.dom.TagName.MATH=new goog.dom.TagName("MATH"),goog.dom.TagName.MENU=new goog.dom.TagName("MENU"),goog.dom.TagName.MENUITEM=new goog.dom.TagName("MENUITEM"),goog.dom.TagName.META=new goog.dom.TagName("META"),goog.dom.TagName.METER=new goog.dom.TagName("METER"),goog.dom.TagName.NAV=new goog.dom.TagName("NAV"),goog.dom.TagName.NOFRAMES=new goog.dom.TagName("NOFRAMES"),goog.dom.TagName.NOSCRIPT=new goog.dom.TagName("NOSCRIPT"),goog.dom.TagName.OBJECT=new goog.dom.TagName("OBJECT"),goog.dom.TagName.OL=new goog.dom.TagName("OL"),goog.dom.TagName.OPTGROUP=new goog.dom.TagName("OPTGROUP"),goog.dom.TagName.OPTION=new goog.dom.TagName("OPTION"),goog.dom.TagName.OUTPUT=new goog.dom.TagName("OUTPUT"),goog.dom.TagName.P=new goog.dom.TagName("P"),goog.dom.TagName.PARAM=new goog.dom.TagName("PARAM"),goog.dom.TagName.PICTURE=new goog.dom.TagName("PICTURE"),goog.dom.TagName.PRE=new goog.dom.TagName("PRE"),goog.dom.TagName.PROGRESS=new goog.dom.TagName("PROGRESS"),goog.dom.TagName.Q=new goog.dom.TagName("Q"),goog.dom.TagName.RP=new goog.dom.TagName("RP"),goog.dom.TagName.RT=new goog.dom.TagName("RT"),goog.dom.TagName.RTC=new goog.dom.TagName("RTC"),goog.dom.TagName.RUBY=new goog.dom.TagName("RUBY"),goog.dom.TagName.S=new goog.dom.TagName("S"),goog.dom.TagName.SAMP=new goog.dom.TagName("SAMP"),goog.dom.TagName.SCRIPT=new goog.dom.TagName("SCRIPT"),goog.dom.TagName.SECTION=new goog.dom.TagName("SECTION"),goog.dom.TagName.SELECT=new goog.dom.TagName("SELECT"),goog.dom.TagName.SMALL=new goog.dom.TagName("SMALL"),goog.dom.TagName.SOURCE=new goog.dom.TagName("SOURCE"),goog.dom.TagName.SPAN=new goog.dom.TagName("SPAN"),goog.dom.TagName.STRIKE=new goog.dom.TagName("STRIKE"),goog.dom.TagName.STRONG=new goog.dom.TagName("STRONG"),goog.dom.TagName.STYLE=new goog.dom.TagName("STYLE"),goog.dom.TagName.SUB=new goog.dom.TagName("SUB"),goog.dom.TagName.SUMMARY=new goog.dom.TagName("SUMMARY"),goog.dom.TagName.SUP=new goog.dom.TagName("SUP"),goog.dom.TagName.SVG=new goog.dom.TagName("SVG"),goog.dom.TagName.TABLE=new goog.dom.TagName("TABLE"),goog.dom.TagName.TBODY=new goog.dom.TagName("TBODY"),goog.dom.TagName.TD=new goog.dom.TagName("TD"),goog.dom.TagName.TEMPLATE=new goog.dom.TagName("TEMPLATE"),goog.dom.TagName.TEXTAREA=new goog.dom.TagName("TEXTAREA"),goog.dom.TagName.TFOOT=new goog.dom.TagName("TFOOT"),goog.dom.TagName.TH=new goog.dom.TagName("TH"),goog.dom.TagName.THEAD=new goog.dom.TagName("THEAD"),goog.dom.TagName.TIME=new goog.dom.TagName("TIME"),goog.dom.TagName.TITLE=new goog.dom.TagName("TITLE"),goog.dom.TagName.TR=new goog.dom.TagName("TR"),goog.dom.TagName.TRACK=new goog.dom.TagName("TRACK"),goog.dom.TagName.TT=new goog.dom.TagName("TT"),goog.dom.TagName.U=new goog.dom.TagName("U"),goog.dom.TagName.UL=new goog.dom.TagName("UL"),goog.dom.TagName.VAR=new goog.dom.TagName("VAR"),goog.dom.TagName.VIDEO=new goog.dom.TagName("VIDEO"),goog.dom.TagName.WBR=new goog.dom.TagName("WBR"),goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var t=goog.labs.userAgent.util.getNavigator_();return t&&(t=t.userAgent)?t:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(t){goog.labs.userAgent.util.userAgent_=t||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(t){var e=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.contains(e,t)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(t){var e=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.caseInsensitiveContains(e,t)},goog.labs.userAgent.util.extractVersionTuples=function(t){for(var e,n=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,i=[];e=n.exec(t);)i.push([e[1],e[2],e[3]||void 0]);return i},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchEdgeHtml_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.browser.matchEdgeChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("Edg/")},goog.labs.userAgent.browser.matchOperaChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("OPR")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")||goog.labs.userAgent.util.matchUserAgent("FxiOS")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdgeHtml_()||goog.labs.userAgent.browser.matchEdgeChromium_()||goog.labs.userAgent.browser.matchOperaChromium_()||goog.labs.userAgent.browser.matchFirefox_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&!goog.labs.userAgent.browser.matchFirefox_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchEdgeHtml_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdgeHtml_,goog.labs.userAgent.browser.isEdgeChromium=goog.labs.userAgent.browser.matchEdgeChromium_,goog.labs.userAgent.browser.isOperaChromium=goog.labs.userAgent.browser.matchOperaChromium_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function t(t){return t=goog.array.find(t,i),n[t]||""}var e=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(e);e=goog.labs.userAgent.util.extractVersionTuples(e);var n={};goog.array.forEach(e,function(t){n[t[0]]=t[1]});var i=goog.partial(goog.object.containsKey,n);return goog.labs.userAgent.browser.isOpera()?t(["Version","Opera"]):goog.labs.userAgent.browser.isEdge()?t(["Edge"]):goog.labs.userAgent.browser.isEdgeChromium()?t(["Edg"]):goog.labs.userAgent.browser.isChrome()?t(["Chrome","CriOS"]):(e=e[2])&&e[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(t){return 0<=goog.string.internal.compareVersions(goog.labs.userAgent.browser.getVersion(),t)},goog.labs.userAgent.browser.getIEVersion_=function(t){var e=/rv: *([\d\.]*)/.exec(t);if(e&&e[1])return e[1];e="";var n=/MSIE +([\d\.]+)/.exec(t);if(n&&n[1])if(t=/Trident\/(\d.\d)/.exec(t),"7.0"==n[1])if(t&&t[1])switch(t[1]){case"4.0":e="8.0";break;case"5.0":e="9.0";break;case"6.0":e="10.0";break;case"7.0":e="11.0"}else e="7.0";else e=n[1];return e},goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_,this.dir_=null},goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_},goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0,goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeHtml.unwrap=function(t){return goog.html.SafeHtml.unwrapTrustedHTML(t).toString()},goog.html.SafeHtml.unwrapTrustedHTML=function(t){return t instanceof goog.html.SafeHtml&&t.constructor===goog.html.SafeHtml&&t.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?t.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+t+"' of type "+goog.typeOf(t)),"type_error:SafeHtml")},goog.html.SafeHtml.htmlEscape=function(t){if(t instanceof goog.html.SafeHtml)return t;var e="object"==typeof t,n=null;return e&&t.implementsGoogI18nBidiDirectionalString&&(n=t.getDirection()),t=e&&t.implementsGoogStringTypedString?t.getTypedStringValue():String(t),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(t),n)},goog.html.SafeHtml.htmlEscapePreservingNewlines=function(t){return t instanceof goog.html.SafeHtml?t:(t=goog.html.SafeHtml.htmlEscape(t),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(goog.html.SafeHtml.unwrap(t)),t.getDirection()))},goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(t){return t instanceof goog.html.SafeHtml?t:(t=goog.html.SafeHtml.htmlEscape(t),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(goog.html.SafeHtml.unwrap(t)),t.getDirection()))},goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape,goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/,goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.html.SafeHtml.create=function(t,e,n){return goog.html.SafeHtml.verifyTagName(String(t)),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(t),e,n)},goog.html.SafeHtml.verifyTagName=function(t){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(t))throw Error("Invalid tag name <"+t+">.");if(t.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error("Tag name <"+t+"> is not allowed for SafeHtml.")},goog.html.SafeHtml.createIframe=function(t,e,n,i){t&&goog.html.TrustedResourceUrl.unwrap(t);var o={};return o.src=t||null,o.srcdoc=e&&goog.html.SafeHtml.unwrap(e),t=goog.html.SafeHtml.combineAttributes(o,{sandbox:""},n),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",t,i)},goog.html.SafeHtml.createSandboxIframe=function(t,e,n,i){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error("The browser does not support sandboxed iframes.");var o={};return o.src=t?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(t)):null,o.srcdoc=e||null,o.sandbox="",t=goog.html.SafeHtml.combineAttributes(o,{},n),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",t,i)},goog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype},goog.html.SafeHtml.createScriptSrc=function(t,e){return goog.html.TrustedResourceUrl.unwrap(t),t=goog.html.SafeHtml.combineAttributes({src:t},{},e),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",t)},goog.html.SafeHtml.createScript=function(t,e){for(var n in e){var i=n.toLowerCase();if("language"==i||"src"==i||"text"==i||"type"==i)throw Error('Cannot set "'+i+'" attribute')}for(n="",t=goog.array.concat(t),i=0;i<t.length;i++)n+=goog.html.SafeScript.unwrap(t[i]);return t=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(n,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",e,t)},goog.html.SafeHtml.createStyle=function(t,e){e=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},e);var n="";t=goog.array.concat(t);for(var i=0;i<t.length;i++)n+=goog.html.SafeStyleSheet.unwrap(t[i]);return t=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(n,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",e,t)},goog.html.SafeHtml.createMetaRefresh=function(t,e){return t=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(t)),(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.internal.contains(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(e||0)+"; url="+t})},goog.html.SafeHtml.getAttrNameAndValue_=function(t,e,n){if(n instanceof goog.string.Const)n=goog.string.Const.unwrap(n);else if("style"==e.toLowerCase())n=goog.html.SafeHtml.getStyleValue_(n);else{if(/^on/i.test(e))throw Error('Attribute "'+e+'" requires goog.string.Const value, "'+n+'" given.');if(e.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(n instanceof goog.html.TrustedResourceUrl)n=goog.html.TrustedResourceUrl.unwrap(n);else if(n instanceof goog.html.SafeUrl)n=goog.html.SafeUrl.unwrap(n);else{if(!goog.isString(n))throw Error('Attribute "'+e+'" on tag "'+t+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+n+'" given.');n=goog.html.SafeUrl.sanitize(n).getTypedStringValue()}}return n.implementsGoogStringTypedString&&(n=n.getTypedStringValue()),goog.asserts.assert(goog.isString(n)||goog.isNumber(n),"String or number value expected, got "+typeof n+" with value: "+n),e+'="'+goog.string.internal.htmlEscape(String(n))+'"'},goog.html.SafeHtml.getStyleValue_=function(t){if(!goog.isObject(t))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof t+" given: "+t);return t instanceof goog.html.SafeStyle||(t=goog.html.SafeStyle.create(t)),goog.html.SafeStyle.unwrap(t)},goog.html.SafeHtml.createWithDir=function(t,e,n,i){return(e=goog.html.SafeHtml.create(e,n,i)).dir_=t,e},goog.html.SafeHtml.join=function(t,e){var n=(t=goog.html.SafeHtml.htmlEscape(t)).getDirection(),i=[],o=function(t){goog.isArray(t)?goog.array.forEach(t,o):(t=goog.html.SafeHtml.htmlEscape(t),i.push(goog.html.SafeHtml.unwrap(t)),t=t.getDirection(),n==goog.i18n.bidi.Dir.NEUTRAL?n=t:t!=goog.i18n.bidi.Dir.NEUTRAL&&n!=t&&(n=null))};return goog.array.forEach(e,o),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(i.join(goog.html.SafeHtml.unwrap(t)),n)},goog.html.SafeHtml.concat=function(t){return goog.html.SafeHtml.join(goog.html.SafeHtml.EMPTY,Array.prototype.slice.call(arguments))},goog.html.SafeHtml.concatWithDir=function(t,e){var n=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return n.dir_=t,n},goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(t,e){return(new goog.html.SafeHtml).initSecurityPrivateDoNotAccessOrElse_(t,e)},goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(t,e){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createHTML(t):t,this.dir_=e,this},goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(t,e,n){var i=null,o="<"+t+goog.html.SafeHtml.stringifyAttributes(t,e);return goog.isDefAndNotNull(n)?goog.isArray(n)||(n=[n]):n=[],goog.dom.tags.isVoidTag(t.toLowerCase())?(goog.asserts.assert(!n.length,"Void tag <"+t+"> does not allow content."),o+=">"):(i=goog.html.SafeHtml.concat(n),o+=">"+goog.html.SafeHtml.unwrap(i)+"</"+t+">",i=i.getDirection()),(t=e&&e.dir)&&(i=/^(ltr|rtl|auto)$/i.test(t)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(o,i)},goog.html.SafeHtml.stringifyAttributes=function(t,e){var n="";if(e)for(var i in e){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(i))throw Error('Invalid attribute name "'+i+'".');var o=e[i];goog.isDefAndNotNull(o)&&(n+=" "+goog.html.SafeHtml.getAttrNameAndValue_(t,i,o))}return n},goog.html.SafeHtml.combineAttributes=function(t,e,n){var i,o={};for(i in t)goog.asserts.assert(i.toLowerCase()==i,"Must be lower case"),o[i]=t[i];for(i in e)goog.asserts.assert(i.toLowerCase()==i,"Must be lower case"),o[i]=e[i];for(i in n){var r=i.toLowerCase();if(r in t)throw Error('Cannot override "'+r+'" attribute, got "'+i+'" with value "'+n[i]+'"');r in e&&delete o[r],o[i]=n[i]}return o},goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.uncheckedconversions={},goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(t,e,n){return goog.asserts.assertString(goog.string.Const.unwrap(t),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(t)),"must provide non-empty justification"),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(e,n||null)},goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(t,e){return goog.asserts.assertString(goog.string.Const.unwrap(t),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(t)),"must provide non-empty justification"),goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(e)},goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(t,e){return goog.asserts.assertString(goog.string.Const.unwrap(t),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(t)),"must provide non-empty justification"),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e)},goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(t,e){return goog.asserts.assertString(goog.string.Const.unwrap(t),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(t)),"must provide non-empty justification"),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e)},goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(t,e){return goog.asserts.assertString(goog.string.Const.unwrap(t),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(t)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(t,e){return goog.asserts.assertString(goog.string.Const.unwrap(t),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(t)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e)},goog.dom.asserts={},goog.dom.asserts.assertIsLocation=function(t){if(goog.asserts.ENABLE_ASSERTS){var e=goog.dom.asserts.getWindow_(t);e&&(!t||!(t instanceof e.Location)&&t instanceof e.Element)&&goog.asserts.fail("Argument is not a Location (or a non-Element mock); got: %s",goog.dom.asserts.debugStringForType_(t))}return t},goog.dom.asserts.assertIsElementType_=function(t,e){if(goog.asserts.ENABLE_ASSERTS){var n=goog.dom.asserts.getWindow_(t);n&&void 0!==n[e]&&(t&&(t instanceof n[e]||!(t instanceof n.Location||t instanceof n.Element))||goog.asserts.fail("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,goog.dom.asserts.debugStringForType_(t)))}return t},goog.dom.asserts.assertIsHTMLAnchorElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLAnchorElement")},goog.dom.asserts.assertIsHTMLButtonElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLButtonElement")},goog.dom.asserts.assertIsHTMLLinkElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLLinkElement")},goog.dom.asserts.assertIsHTMLImageElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLImageElement")},goog.dom.asserts.assertIsHTMLAudioElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLAudioElement")},goog.dom.asserts.assertIsHTMLVideoElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLVideoElement")},goog.dom.asserts.assertIsHTMLInputElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLInputElement")},goog.dom.asserts.assertIsHTMLTextAreaElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLTextAreaElement")},goog.dom.asserts.assertIsHTMLCanvasElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLCanvasElement")},goog.dom.asserts.assertIsHTMLEmbedElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLEmbedElement")},goog.dom.asserts.assertIsHTMLFormElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLFormElement")},goog.dom.asserts.assertIsHTMLFrameElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLFrameElement")},goog.dom.asserts.assertIsHTMLIFrameElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLIFrameElement")},goog.dom.asserts.assertIsHTMLObjectElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLObjectElement")},goog.dom.asserts.assertIsHTMLScriptElement=function(t){return goog.dom.asserts.assertIsElementType_(t,"HTMLScriptElement")},goog.dom.asserts.debugStringForType_=function(t){if(!goog.isObject(t))return void 0===t?"undefined":null===t?"null":typeof t;try{return t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(e){return"<object could not be stringified>"}},goog.dom.asserts.getWindow_=function(t){try{var e=t&&t.ownerDocument,n=e&&(e.defaultView||e.parentWindow);if((n=n||goog.global).Element&&n.Location)return n}catch(i){}return null},goog.functions={},goog.functions.constant=function(t){return function(){return t}},goog.functions.FALSE=function(){return!1},goog.functions.TRUE=function(){return!0},goog.functions.NULL=function(){return null},goog.functions.identity=function(t,e){return t},goog.functions.error=function(t){return function(){throw Error(t)}},goog.functions.fail=function(t){return function(){throw t}},goog.functions.lock=function(t,e){return e=e||0,function(){return t.apply(this,Array.prototype.slice.call(arguments,0,e))}},goog.functions.nth=function(t){return function(){return arguments[t]}},goog.functions.partialRight=function(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=Array.prototype.slice.call(arguments);return e.push.apply(e,n),t.apply(this,e)}},goog.functions.withReturnValue=function(t,e){return goog.functions.sequence(t,goog.functions.constant(e))},goog.functions.equalTo=function(t,e){return function(n){return e?t==n:t===n}},goog.functions.compose=function(t,e){var n=arguments,i=n.length;return function(){var t;i&&(t=n[i-1].apply(this,arguments));for(var e=i-2;0<=e;e--)t=n[e].call(this,t);return t}},goog.functions.sequence=function(t){var e=arguments,n=e.length;return function(){for(var t,i=0;i<n;i++)t=e[i].apply(this,arguments);return t}},goog.functions.and=function(t){var e=arguments,n=e.length;return function(){for(var t=0;t<n;t++)if(!e[t].apply(this,arguments))return!1;return!0}},goog.functions.or=function(t){var e=arguments,n=e.length;return function(){for(var t=0;t<n;t++)if(e[t].apply(this,arguments))return!0;return!1}},goog.functions.not=function(t){return function(){return!t.apply(this,arguments)}},goog.functions.create=function(t,e){var n=function(){};return n.prototype=t.prototype,n=new n,t.apply(n,Array.prototype.slice.call(arguments,1)),n},goog.functions.CACHE_RETURN_VALUE=!0,goog.functions.cacheReturnValue=function(t){var e,n=!1;return function(){return goog.functions.CACHE_RETURN_VALUE?(n||(e=t(),n=!0),e):t()}},goog.functions.once=function(t){var e=t;return function(){if(e){var t=e;e=null,t()}}},goog.functions.debounce=function(t,e,n){var i=0;return function(o){goog.global.clearTimeout(i);var r=arguments;i=goog.global.setTimeout(function(){t.apply(n,r)},e)}},goog.functions.throttle=function(t,e,n){var i=0,o=!1,r=[],s=function(){i=0,o&&(o=!1,a())},a=function(){i=goog.global.setTimeout(s,e),t.apply(n,r)};return function(t){r=arguments,i?o=!0:a()}},goog.functions.rateLimit=function(t,e,n){var i=0,o=function(){i=0};return function(r){i||(i=goog.global.setTimeout(o,e),t.apply(n,arguments))}},goog.dom.safe={},goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"},goog.dom.safe.insertAdjacentHtml=function(t,e,n){t.insertAdjacentHTML(e,goog.html.SafeHtml.unwrapTrustedHTML(n))},goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.dom.safe.isInnerHtmlCleanupRecursive_=goog.functions.cacheReturnValue(function(){if(goog.DEBUG&&"undefined"==typeof document)return!1;var t=document.createElement("div"),e=document.createElement("div");return e.appendChild(document.createElement("div")),t.appendChild(e),!(goog.DEBUG&&!t.firstChild||(e=t.firstChild.firstChild,t.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(goog.html.SafeHtml.EMPTY),e.parentElement))}),goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse=function(t,e){if(goog.dom.safe.isInnerHtmlCleanupRecursive_())for(;t.lastChild;)t.removeChild(t.lastChild);t.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(e)},goog.dom.safe.setInnerHtml=function(t,e){if(goog.asserts.ENABLE_ASSERTS){var n=t.tagName.toUpperCase();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[n])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+t.tagName+".")}goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(t,e)},goog.dom.safe.setOuterHtml=function(t,e){t.outerHTML=goog.html.SafeHtml.unwrapTrustedHTML(e)},goog.dom.safe.setFormElementAction=function(t,e){e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),goog.dom.asserts.assertIsHTMLFormElement(t).action=goog.html.SafeUrl.unwrapTrustedURL(e)},goog.dom.safe.setButtonFormAction=function(t,e){e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),goog.dom.asserts.assertIsHTMLButtonElement(t).formAction=goog.html.SafeUrl.unwrapTrustedURL(e)},goog.dom.safe.setInputFormAction=function(t,e){e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),goog.dom.asserts.assertIsHTMLInputElement(t).formAction=goog.html.SafeUrl.unwrapTrustedURL(e)},goog.dom.safe.setStyle=function(t,e){t.style.cssText=goog.html.SafeStyle.unwrap(e)},goog.dom.safe.documentWrite=function(t,e){t.write(goog.html.SafeHtml.unwrapTrustedHTML(e))},goog.dom.safe.setAnchorHref=function(t,e){goog.dom.asserts.assertIsHTMLAnchorElement(t),e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),t.href=goog.html.SafeUrl.unwrapTrustedURL(e)},goog.dom.safe.setImageSrc=function(t,e){if(goog.dom.asserts.assertIsHTMLImageElement(t),!(e instanceof goog.html.SafeUrl)){var n=/^data:image\//i.test(e);e=goog.html.SafeUrl.sanitizeAssertUnchanged(e,n)}t.src=goog.html.SafeUrl.unwrapTrustedURL(e)},goog.dom.safe.setAudioSrc=function(t,e){if(goog.dom.asserts.assertIsHTMLAudioElement(t),!(e instanceof goog.html.SafeUrl)){var n=/^data:audio\//i.test(e);e=goog.html.SafeUrl.sanitizeAssertUnchanged(e,n)}t.src=goog.html.SafeUrl.unwrapTrustedURL(e)},goog.dom.safe.setVideoSrc=function(t,e){if(goog.dom.asserts.assertIsHTMLVideoElement(t),!(e instanceof goog.html.SafeUrl)){var n=/^data:video\//i.test(e);e=goog.html.SafeUrl.sanitizeAssertUnchanged(e,n)}t.src=goog.html.SafeUrl.unwrapTrustedURL(e)},goog.dom.safe.setEmbedSrc=function(t,e){goog.dom.asserts.assertIsHTMLEmbedElement(t),t.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(e)},goog.dom.safe.setFrameSrc=function(t,e){goog.dom.asserts.assertIsHTMLFrameElement(t),t.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(e)},goog.dom.safe.setIframeSrc=function(t,e){goog.dom.asserts.assertIsHTMLIFrameElement(t),t.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(e)},goog.dom.safe.setIframeSrcdoc=function(t,e){goog.dom.asserts.assertIsHTMLIFrameElement(t),t.srcdoc=goog.html.SafeHtml.unwrapTrustedHTML(e)},goog.dom.safe.setLinkHrefAndRel=function(t,e,n){goog.dom.asserts.assertIsHTMLLinkElement(t),t.rel=n,goog.string.internal.caseInsensitiveContains(n,"stylesheet")?(goog.asserts.assert(e instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),t.href=goog.html.TrustedResourceUrl.unwrapTrustedURL(e)):t.href=e instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrapTrustedURL(e):goog.html.SafeUrl.unwrapTrustedURL(e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e))},goog.dom.safe.setObjectData=function(t,e){goog.dom.asserts.assertIsHTMLObjectElement(t),t.data=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(e)},goog.dom.safe.setScriptSrc=function(t,e){goog.dom.asserts.assertIsHTMLScriptElement(t),t.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(e),(e=goog.getScriptNonce())&&t.setAttribute("nonce",e)},goog.dom.safe.setScriptContent=function(t,e){goog.dom.asserts.assertIsHTMLScriptElement(t),t.text=goog.html.SafeScript.unwrapTrustedScript(e),(e=goog.getScriptNonce())&&t.setAttribute("nonce",e)},goog.dom.safe.setLocationHref=function(t,e){goog.dom.asserts.assertIsLocation(t),e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),t.href=goog.html.SafeUrl.unwrapTrustedURL(e)},goog.dom.safe.assignLocation=function(t,e){goog.dom.asserts.assertIsLocation(t),e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),t.assign(goog.html.SafeUrl.unwrapTrustedURL(e))},goog.dom.safe.replaceLocation=function(t,e){goog.dom.asserts.assertIsLocation(t),e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),t.replace(goog.html.SafeUrl.unwrapTrustedURL(e))},goog.dom.safe.openInWindow=function(t,e,n,i,o){return t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),(e||goog.global).open(goog.html.SafeUrl.unwrapTrustedURL(t),n?goog.string.Const.unwrap(n):"",i,o)},goog.dom.safe.parseFromStringHtml=function(t,e){return goog.dom.safe.parseFromString(t,e,"text/html")},goog.dom.safe.parseFromString=function(t,e,n){return t.parseFromString(goog.html.SafeHtml.unwrapTrustedHTML(e),n)},goog.dom.safe.createImageFromBlob=function(t){if(!/^image\/.*/g.test(t.type))throw Error("goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.");var e=goog.global.URL.createObjectURL(t);return(t=new goog.global.Image).onload=function(){goog.global.URL.revokeObjectURL(e)},goog.dom.safe.setImageSrc(t,goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Image blob URL."),e)),t},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:"\xa0"},goog.string.startsWith=goog.string.internal.startsWith,goog.string.endsWith=goog.string.internal.endsWith,goog.string.caseInsensitiveStartsWith=goog.string.internal.caseInsensitiveStartsWith,goog.string.caseInsensitiveEndsWith=goog.string.internal.caseInsensitiveEndsWith,goog.string.caseInsensitiveEquals=goog.string.internal.caseInsensitiveEquals,goog.string.subs=function(t,e){for(var n=t.split("%s"),i="",o=Array.prototype.slice.call(arguments,1);o.length&&1<n.length;)i+=n.shift()+o.shift();return i+n.join("%s")},goog.string.collapseWhitespace=function(t){return t.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=goog.string.internal.isEmptyOrWhitespace,goog.string.isEmptyString=function(t){return 0==t.length},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(t){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(t))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(t){return!/[^\t\n\r ]/.test(t)},goog.string.isAlpha=function(t){return!/[^a-zA-Z]/.test(t)},goog.string.isNumeric=function(t){return!/[^0-9]/.test(t)},goog.string.isAlphaNumeric=function(t){return!/[^a-zA-Z0-9]/.test(t)},goog.string.isSpace=function(t){return" "==t},goog.string.isUnicodeChar=function(t){return 1==t.length&&" "<=t&&"~">=t||"\x80"<=t&&"\ufffd">=t},goog.string.stripNewlines=function(t){return t.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(t){return t.replace(/(\r\n|\r|\n)/g,"\n")},goog.string.normalizeWhitespace=function(t){return t.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(t){return t.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(t){return t.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.string.internal.trim,goog.string.trimLeft=function(t){return t.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(t){return t.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=goog.string.internal.caseInsensitiveCompare,goog.string.numberAwareCompare_=function(t,e,n){if(t==e)return 0;if(!t)return-1;if(!e)return 1;for(var i=t.toLowerCase().match(n),o=e.toLowerCase().match(n),r=Math.min(i.length,o.length),s=0;s<r;s++){var a=o[s];if((n=i[s])!=a)return t=parseInt(n,10),!isNaN(t)&&(e=parseInt(a,10),!isNaN(e)&&t-e)?t-e:n<a?-1:1}return i.length!=o.length?i.length-o.length:t<e?-1:1},goog.string.intAwareCompare=function(t,e){return goog.string.numberAwareCompare_(t,e,/\d+|\D+/g)},goog.string.floatAwareCompare=function(t,e){return goog.string.numberAwareCompare_(t,e,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(t){return encodeURIComponent(String(t))},goog.string.urlDecode=function(t){return decodeURIComponent(t.replace(/\+/g," "))},goog.string.newLineToBr=goog.string.internal.newLineToBr,goog.string.htmlEscape=function(t,e){return t=goog.string.internal.htmlEscape(t,e),goog.string.DETECT_DOUBLE_ESCAPING&&(t=t.replace(goog.string.E_RE_,"&#101;")),t},goog.string.E_RE_=/e/g,goog.string.unescapeEntities=function(t){return goog.string.contains(t,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(t):goog.string.unescapePureXmlEntities_(t):t},goog.string.unescapeEntitiesWithDocument=function(t,e){return goog.string.contains(t,"&")?goog.string.unescapeEntitiesUsingDom_(t,e):t},goog.string.unescapeEntitiesUsingDom_=function(t,e){var n={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},i=e?e.createElement("div"):goog.global.document.createElement("div");return t.replace(goog.string.HTML_ENTITY_PATTERN_,function(t,e){var o=n[t];return o||("#"==e.charAt(0)&&(e=Number("0"+e.substr(1)),isNaN(e)||(o=String.fromCharCode(e))),o||(goog.dom.safe.setInnerHtml(i,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Single HTML entity."),t+" ")),o=i.firstChild.nodeValue.slice(0,-1)),n[t]=o)})},goog.string.unescapePureXmlEntities_=function(t){return t.replace(/&([^;]+);/g,function(t,e){switch(e){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:return"#"!=e.charAt(0)||(e=Number("0"+e.substr(1)),isNaN(e))?t:String.fromCharCode(e)}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(t,e){return goog.string.newLineToBr(t.replace(/  /g," &#160;"),e)},goog.string.preserveSpaces=function(t){return t.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(t,e){for(var n=e.length,i=0;i<n;i++){var o=1==n?e:e.charAt(i);if(t.charAt(0)==o&&t.charAt(t.length-1)==o)return t.substring(1,t.length-1)}return t},goog.string.truncate=function(t,e,n){return n&&(t=goog.string.unescapeEntities(t)),t.length>e&&(t=t.substring(0,e-3)+"..."),n&&(t=goog.string.htmlEscape(t)),t},goog.string.truncateMiddle=function(t,e,n,i){if(n&&(t=goog.string.unescapeEntities(t)),i&&t.length>e){i>e&&(i=e);var o=t.length-i;t=t.substring(0,e-i)+"..."+t.substring(o)}else t.length>e&&(i=Math.floor(e/2),o=t.length-i,t=t.substring(0,i+e%2)+"..."+t.substring(o));return n&&(t=goog.string.htmlEscape(t)),t},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(t){t=String(t);for(var e=['"'],n=0;n<t.length;n++){var i=t.charAt(n),o=i.charCodeAt(0);e[n+1]=goog.string.specialEscapeChars_[i]||(31<o&&127>o?i:goog.string.escapeChar(i))}return e.push('"'),e.join("")},goog.string.escapeString=function(t){for(var e=[],n=0;n<t.length;n++)e[n]=goog.string.escapeChar(t.charAt(n));return e.join("")},goog.string.escapeChar=function(t){if(t in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[t];if(t in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[t]=goog.string.specialEscapeChars_[t];var e=t.charCodeAt(0);if(31<e&&127>e)var n=t;else 256>e?(n="\\x",(16>e||256<e)&&(n+="0")):(n="\\u",4096>e&&(n+="0")),n+=e.toString(16).toUpperCase();return goog.string.jsEscapeCache_[t]=n},goog.string.contains=goog.string.internal.contains,goog.string.caseInsensitiveContains=goog.string.internal.caseInsensitiveContains,goog.string.countOf=function(t,e){return t&&e?t.split(e).length-1:0},goog.string.removeAt=function(t,e,n){var i=t;return 0<=e&&e<t.length&&0<n&&(i=t.substr(0,e)+t.substr(e+n,t.length-e-n)),i},goog.string.remove=function(t,e){return t.replace(e,"")},goog.string.removeAll=function(t,e){return e=new RegExp(goog.string.regExpEscape(e),"g"),t.replace(e,"")},goog.string.replaceAll=function(t,e,n){return e=new RegExp(goog.string.regExpEscape(e),"g"),t.replace(e,n.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(t){return String(t).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(t,e){return t.repeat(e)}:function(t,e){return Array(e+1).join(t)},goog.string.padNumber=function(t,e,n){return-1==(n=(t=goog.isDef(n)?t.toFixed(n):String(t)).indexOf("."))&&(n=t.length),goog.string.repeat("0",Math.max(0,e-n))+t},goog.string.makeSafe=function(t){return null==t?"":String(t)},goog.string.buildString=function(t){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=goog.string.internal.compareVersions,goog.string.hashCode=function(t){for(var e=0,n=0;n<t.length;++n)e=31*e+t.charCodeAt(n)>>>0;return e},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(t){var e=Number(t);return 0==e&&goog.string.isEmptyOrWhitespace(t)?NaN:e},goog.string.isLowerCamelCase=function(t){return/^[a-z]+([A-Z][a-z]*)*$/.test(t)},goog.string.isUpperCamelCase=function(t){return/^([A-Z][a-z]*)+$/.test(t)},goog.string.toCamelCase=function(t){return String(t).replace(/\-([a-z])/g,function(t,e){return e.toUpperCase()})},goog.string.toSelectorCase=function(t){return String(t).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(t,e){return e=goog.isString(e)?goog.string.regExpEscape(e):"\\s",t.replace(new RegExp("(^"+(e?"|["+e+"]+":"")+")([a-z])","g"),function(t,e,n){return e+n.toUpperCase()})},goog.string.capitalize=function(t){return String(t.charAt(0)).toUpperCase()+String(t.substr(1)).toLowerCase()},goog.string.parseInt=function(t){return isFinite(t)&&(t=String(t)),goog.isString(t)?/^\s*-?0x/i.test(t)?parseInt(t,16):parseInt(t,10):NaN},goog.string.splitLimit=function(t,e,n){t=t.split(e);for(var i=[];0<n&&t.length;)i.push(t.shift()),n--;return t.length&&i.push(t.join(e)),i},goog.string.lastComponent=function(t,e){if(!e)return t;"string"==typeof e&&(e=[e]);for(var n=-1,i=0;i<e.length;i++)if(""!=e[i]){var o=t.lastIndexOf(e[i]);o>n&&(n=o)}return-1==n?t:t.slice(n+1)},goog.string.editDistance=function(t,e){var n=[],i=[];if(t==e)return 0;if(!t.length||!e.length)return Math.max(t.length,e.length);for(var o=0;o<e.length+1;o++)n[o]=o;for(o=0;o<t.length;o++){i[0]=o+1;for(var r=0;r<e.length;r++)i[r+1]=Math.min(i[r]+1,n[r+1]+1,n[r]+Number(t[o]!=e[r]));for(r=0;r<n.length;r++)n[r]=i[r]}return i[e.length]},goog.labs.userAgent.platform={},goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.isChromecast=function(){return goog.labs.userAgent.util.matchUserAgent("CrKey")},goog.labs.userAgent.platform.isKaiOS=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("KaiOS")},goog.labs.userAgent.platform.isGo2Phone=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("GAFP")},goog.labs.userAgent.platform.getVersion=function(){var t=goog.labs.userAgent.util.getUserAgent(),e="";return goog.labs.userAgent.platform.isWindows()?e=(t=(e=/Windows (?:NT|Phone) ([0-9.]+)/).exec(t))?t[1]:"0.0":goog.labs.userAgent.platform.isIos()?e=(t=(e=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/).exec(t))&&t[1].replace(/_/g,"."):goog.labs.userAgent.platform.isMacintosh()?e=(t=(e=/Mac OS X ([0-9_.]+)/).exec(t))?t[1].replace(/_/g,"."):"10":goog.labs.userAgent.platform.isKaiOS()?e=(t=(e=/(?:KaiOS)\/(\S+)/i).exec(t))&&t[1]:goog.labs.userAgent.platform.isAndroid()?e=(t=(e=/Android\s+([^\);]+)(\)|;)/).exec(t))&&t[1]:goog.labs.userAgent.platform.isChromeOS()&&(e=(t=(e=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/).exec(t))&&t[1]),e||""},goog.labs.userAgent.platform.isVersionOrHigher=function(t){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),t)},goog.reflect={},goog.reflect.object=function(t,e){return e},goog.reflect.objectProperty=function(t,e){return t},goog.reflect.sinkValue=function(t){return goog.reflect.sinkValue[" "](t),t},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(t,e){try{return goog.reflect.sinkValue(t[e]),!0}catch(n){}return!1},goog.reflect.cache=function(t,e,n,i){return i=i?i(e):e,Object.prototype.hasOwnProperty.call(t,i)?t[i]:t[i]=n(e)},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){var t=goog.labs.userAgent.util.getUserAgent();if(t){t=goog.labs.userAgent.util.extractVersionTuples(t);var e,n=goog.labs.userAgent.engine.getEngineTuple_(t);if(n)return"Gecko"==n[0]?goog.labs.userAgent.engine.getVersionForKey_(t,"Firefox"):n[1];if((t=t[0])&&(e=t[2])&&(e=/Trident\/([^\s;]+)/.exec(e)))return e[1]}return""},goog.labs.userAgent.engine.getEngineTuple_=function(t){if(!goog.labs.userAgent.engine.isEdge())return t[1];for(var e=0;e<t.length;e++){var n=t[e];if("Edge"==n[0])return n}},goog.labs.userAgent.engine.isVersionOrHigher=function(t){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),t)},goog.labs.userAgent.engine.getVersionForKey_=function(t,e){return(t=goog.array.find(t,function(t){return e==t[0]}))&&t[1]||""},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigatorTyped=function(){return goog.global.navigator||null},goog.userAgent.getNavigator=function(){return goog.userAgent.getNavigatorTyped()},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko();goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var t=goog.userAgent.getNavigatorTyped();return t&&t.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.ASSUME_IPOD=!1,goog.userAgent.ASSUME_KAIOS=!1,goog.userAgent.ASSUME_GO2PHONE=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var t=goog.userAgent.getNavigatorTyped();return!!t&&goog.string.contains(t.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod(),goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos(),goog.userAgent.KAIOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_KAIOS:goog.labs.userAgent.platform.isKaiOS(),goog.userAgent.GO2PHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_GO2PHONE:goog.labs.userAgent.platform.isGo2Phone(),goog.userAgent.determineVersion_=function(){var t="",e=goog.userAgent.getVersionRegexResult_();return e&&(t=e?e[1]:""),goog.userAgent.IE&&null!=(e=goog.userAgent.getDocumentMode_())&&e>parseFloat(t)?String(e):t},goog.userAgent.getVersionRegexResult_=function(){var t=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv:([^\);]+)(\)|;)/.exec(t):goog.userAgent.EDGE?/Edge\/([\d\.]+)/.exec(t):goog.userAgent.IE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):goog.userAgent.WEBKIT?/WebKit\/(\S+)/.exec(t):goog.userAgent.OPERA?/(?:Version)[ \/]?(\S+)/.exec(t):void 0},goog.userAgent.getDocumentMode_=function(){var t=goog.global.document;return t?t.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(t,e){return goog.string.compareVersions(t,e)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(t){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,t,function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,t)})},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(t){return Number(goog.userAgent.DOCUMENT_MODE)>=t},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){if(goog.global.document&&goog.userAgent.IE)return goog.userAgent.getDocumentMode_()}(),goog.userAgent.product={},goog.userAgent.product.ASSUME_FIREFOX=!1,goog.userAgent.product.ASSUME_IPHONE=!1,goog.userAgent.product.ASSUME_IPAD=!1,goog.userAgent.product.ASSUME_ANDROID=!1,goog.userAgent.product.ASSUME_CHROME=!1,goog.userAgent.product.ASSUME_SAFARI=!1,goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI,goog.userAgent.product.OPERA=goog.userAgent.OPERA,goog.userAgent.product.IE=goog.userAgent.IE,goog.userAgent.product.EDGE=goog.userAgent.EDGE,goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.labs.userAgent.browser.isFirefox(),goog.userAgent.product.isIphoneOrIpod_=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpod()},goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.isIphoneOrIpod_(),goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.labs.userAgent.browser.isAndroidBrowser(),goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.labs.userAgent.browser.isChrome(),goog.userAgent.product.isSafariDesktop_=function(){return goog.labs.userAgent.browser.isSafari()&&!goog.labs.userAgent.platform.isIos()},goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.isSafariDesktop_(),goog.crypt.base64={},goog.crypt.base64.DEFAULT_ALPHABET_COMMON_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"+/=",goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"-_.",goog.crypt.base64.Alphabet={DEFAULT:0,NO_PADDING:1,WEBSAFE:2,WEBSAFE_DOT_PADDING:3,WEBSAFE_NO_PADDING:4},goog.crypt.base64.paddingChars_="=.",goog.crypt.base64.isPadding_=function(t){return goog.string.contains(goog.crypt.base64.paddingChars_,t)},goog.crypt.base64.byteToCharMaps_={},goog.crypt.base64.charToByteMap_=null,goog.crypt.base64.ASSUME_NATIVE_SUPPORT_=goog.userAgent.GECKO||goog.userAgent.WEBKIT&&!goog.userAgent.product.SAFARI||goog.userAgent.OPERA,goog.crypt.base64.HAS_NATIVE_ENCODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||"function"==typeof goog.global.btoa,goog.crypt.base64.HAS_NATIVE_DECODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||!goog.userAgent.product.SAFARI&&!goog.userAgent.IE&&"function"==typeof goog.global.atob,goog.crypt.base64.encodeByteArray=function(t,e){goog.asserts.assert(goog.isArrayLike(t),"encodeByteArray takes an array as a parameter"),void 0===e&&(e=goog.crypt.base64.Alphabet.DEFAULT),goog.crypt.base64.init_(),e=goog.crypt.base64.byteToCharMaps_[e];for(var n=[],i=0;i<t.length;i+=3){var o=t[i],r=i+1<t.length,s=r?t[i+1]:0,a=i+2<t.length,l=a?t[i+2]:0,c=o>>2;o=(3&o)<<4|s>>4,s=(15&s)<<2|l>>6,l&=63,a||(l=64,r||(s=64)),n.push(e[c],e[o],e[s]||"",e[l]||"")}return n.join("")},goog.crypt.base64.encodeString=function(t,e){return goog.crypt.base64.HAS_NATIVE_ENCODE_&&!e?goog.global.btoa(t):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(t),e)},goog.crypt.base64.decodeString=function(t,e){if(goog.crypt.base64.HAS_NATIVE_DECODE_&&!e)return goog.global.atob(t);var n="";return goog.crypt.base64.decodeStringInternal_(t,function(t){n+=String.fromCharCode(t)}),n},goog.crypt.base64.decodeStringToByteArray=function(t,e){var n=[];return goog.crypt.base64.decodeStringInternal_(t,function(t){n.push(t)}),n},goog.crypt.base64.decodeStringToUint8Array=function(t){goog.asserts.assert(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10"),"Browser does not support typed arrays");var e=t.length,n=3*e/4;n%3?n=Math.floor(n):goog.crypt.base64.isPadding_(t[e-1])&&(n=goog.crypt.base64.isPadding_(t[e-2])?n-2:n-1);var i=new Uint8Array(n),o=0;return goog.crypt.base64.decodeStringInternal_(t,function(t){i[o++]=t}),i.subarray(0,o)},goog.crypt.base64.decodeStringInternal_=function(t,e){function n(e){for(;i<t.length;){var n=t.charAt(i++),o=goog.crypt.base64.charToByteMap_[n];if(null!=o)return o;if(!goog.string.isEmptyOrWhitespace(n))throw Error("Unknown base64 encoding at char: "+n)}return e}goog.crypt.base64.init_();for(var i=0;;){var o=n(-1),r=n(0),s=n(64),a=n(64);if(64===a&&-1===o)break;e(o<<2|r>>4),64!=s&&(e(r<<4&240|s>>2),64!=a&&e(s<<6&192|a))}},goog.crypt.base64.init_=function(){if(!goog.crypt.base64.charToByteMap_){goog.crypt.base64.charToByteMap_={};for(var t=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_.split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var i=t.concat(e[n].split(""));goog.crypt.base64.byteToCharMaps_[n]=i;for(var o=0;o<i.length;o++){var r=i[o],s=goog.crypt.base64.charToByteMap_[r];void 0===s?goog.crypt.base64.charToByteMap_[r]=o:goog.asserts.assert(s===o)}}}},jspb.utils={},jspb.utils.split64Low=0,jspb.utils.split64High=0,jspb.utils.splitUint64=function(t){var e=t>>>0;t=Math.floor((t-e)/jspb.BinaryConstants.TWO_TO_32)>>>0,jspb.utils.split64Low=e,jspb.utils.split64High=t},jspb.utils.splitInt64=function(t){var e=0>t,n=(t=Math.abs(t))>>>0;t=Math.floor((t-n)/jspb.BinaryConstants.TWO_TO_32),t>>>=0,e&&(t=~t>>>0,4294967295<(n=1+(~n>>>0))&&(n=0,4294967295<++t&&(t=0))),jspb.utils.split64Low=n,jspb.utils.split64High=t},jspb.utils.splitZigzag64=function(t){var e=0>t;t=2*Math.abs(t),jspb.utils.splitUint64(t),t=jspb.utils.split64Low;var n=jspb.utils.split64High;e&&(0==t?0==n?n=t=4294967295:(n--,t=4294967295):t--),jspb.utils.split64Low=t,jspb.utils.split64High=n},jspb.utils.splitFloat32=function(t){var e=0>t?1:0;if(0===(t=e?-t:t))0<1/t?(jspb.utils.split64High=0,jspb.utils.split64Low=0):(jspb.utils.split64High=0,jspb.utils.split64Low=2147483648);else if(isNaN(t))jspb.utils.split64High=0,jspb.utils.split64Low=2147483647;else if(t>jspb.BinaryConstants.FLOAT32_MAX)jspb.utils.split64High=0,jspb.utils.split64Low=(e<<31|2139095040)>>>0;else if(t<jspb.BinaryConstants.FLOAT32_MIN)t=Math.round(t/Math.pow(2,-149)),jspb.utils.split64High=0,jspb.utils.split64Low=(e<<31|t)>>>0;else{var n=Math.floor(Math.log(t)/Math.LN2);t*=Math.pow(2,-n),t=8388607&Math.round(t*jspb.BinaryConstants.TWO_TO_23),jspb.utils.split64High=0,jspb.utils.split64Low=(e<<31|n+127<<23|t)>>>0}},jspb.utils.splitFloat64=function(t){var e=0>t?1:0;if(0===(t=e?-t:t))jspb.utils.split64High=0<1/t?0:2147483648,jspb.utils.split64Low=0;else if(isNaN(t))jspb.utils.split64High=2147483647,jspb.utils.split64Low=4294967295;else if(t>jspb.BinaryConstants.FLOAT64_MAX)jspb.utils.split64High=(e<<31|2146435072)>>>0,jspb.utils.split64Low=0;else if(t<jspb.BinaryConstants.FLOAT64_MIN){var n=t/Math.pow(2,-1074);jspb.utils.split64High=(e<<31|(t=n/jspb.BinaryConstants.TWO_TO_32))>>>0,jspb.utils.split64Low=n>>>0}else{var i=0;if(2<=(n=t))for(;2<=n&&1023>i;)i++,n/=2;else for(;1>n&&-1022<i;)n*=2,i--;t=(n=t*Math.pow(2,-i))*jspb.BinaryConstants.TWO_TO_20&1048575,n=n*jspb.BinaryConstants.TWO_TO_52>>>0,jspb.utils.split64High=(e<<31|i+1023<<20|t)>>>0,jspb.utils.split64Low=n}},jspb.utils.splitHash64=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),o=t.charCodeAt(3),r=t.charCodeAt(4),s=t.charCodeAt(5),a=t.charCodeAt(6);t=t.charCodeAt(7),jspb.utils.split64Low=e+(n<<8)+(i<<16)+(o<<24)>>>0,jspb.utils.split64High=r+(s<<8)+(a<<16)+(t<<24)>>>0},jspb.utils.joinUint64=function(t,e){return e*jspb.BinaryConstants.TWO_TO_32+(t>>>0)},jspb.utils.joinInt64=function(t,e){var n=2147483648&e;return n&&(e=~e>>>0,0==(t=1+~t>>>0)&&(e=e+1>>>0)),t=jspb.utils.joinUint64(t,e),n?-t:t},jspb.utils.toZigzag64=function(t,e,n){var i=e>>31;return n(t<<1^i,(e<<1|t>>>31)^i)},jspb.utils.joinZigzag64=function(t,e){return jspb.utils.fromZigzag64(t,e,jspb.utils.joinInt64)},jspb.utils.fromZigzag64=function(t,e,n){var i=-(1&t);return n((t>>>1|e<<31)^i,e>>>1^i)},jspb.utils.joinFloat32=function(t,e){e=2*(t>>31)+1;var n=t>>>23&255;return t&=8388607,255==n?t?NaN:1/0*e:0==n?e*Math.pow(2,-149)*t:e*Math.pow(2,n-150)*(t+Math.pow(2,23))},jspb.utils.joinFloat64=function(t,e){var n=2*(e>>31)+1,i=e>>>20&2047;return t=jspb.BinaryConstants.TWO_TO_32*(1048575&e)+t,2047==i?t?NaN:1/0*n:0==i?n*Math.pow(2,-1074)*t:n*Math.pow(2,i-1075)*(t+jspb.BinaryConstants.TWO_TO_52)},jspb.utils.joinHash64=function(t,e){return String.fromCharCode(t>>>0&255,t>>>8&255,t>>>16&255,t>>>24&255,e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255)},jspb.utils.DIGITS="0123456789abcdef".split(""),jspb.utils.ZERO_CHAR_CODE_=48,jspb.utils.A_CHAR_CODE_=97,jspb.utils.joinUnsignedDecimalString=function(t,e){function n(t,e){return t=t?String(t):"",e?"0000000".slice(t.length)+t:t}if(2097151>=e)return""+jspb.utils.joinUint64(t,e);var i=(t>>>24|e<<8)>>>0&16777215;return t=(16777215&t)+6777216*i+6710656*(e=e>>16&65535),i+=8147497*e,e*=2,1e7<=t&&(i+=Math.floor(t/1e7),t%=1e7),1e7<=i&&(e+=Math.floor(i/1e7),i%=1e7),n(e,0)+n(i,e)+n(t,1)},jspb.utils.joinSignedDecimalString=function(t,e){var n=2147483648&e;return n&&(e=~e+(0==(t=1+~t>>>0)?1:0)>>>0),t=jspb.utils.joinUnsignedDecimalString(t,e),n?"-"+t:t},jspb.utils.hash64ToDecimalString=function(t,e){jspb.utils.splitHash64(t),t=jspb.utils.split64Low;var n=jspb.utils.split64High;return e?jspb.utils.joinSignedDecimalString(t,n):jspb.utils.joinUnsignedDecimalString(t,n)},jspb.utils.hash64ArrayToDecimalStrings=function(t,e){for(var n=Array(t.length),i=0;i<t.length;i++)n[i]=jspb.utils.hash64ToDecimalString(t[i],e);return n},jspb.utils.decimalStringToHash64=function(t){function e(t,e){for(var n=0;8>n&&(1!==t||0<e);n++)i[n]=255&(e=t*i[n]+e),e>>>=8}goog.asserts.assert(0<t.length);var n=!1;"-"===t[0]&&(n=!0,t=t.slice(1));for(var i=[0,0,0,0,0,0,0,0],o=0;o<t.length;o++)e(10,t.charCodeAt(o)-jspb.utils.ZERO_CHAR_CODE_);return n&&(function(){for(var t=0;8>t;t++)i[t]=255&~i[t]}(),e(1,1)),goog.crypt.byteArrayToString(i)},jspb.utils.splitDecimalString=function(t){jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(t))},jspb.utils.toHexDigit_=function(t){return String.fromCharCode(10>t?jspb.utils.ZERO_CHAR_CODE_+t:jspb.utils.A_CHAR_CODE_-10+t)},jspb.utils.fromHexCharCode_=function(t){return t>=jspb.utils.A_CHAR_CODE_?t-jspb.utils.A_CHAR_CODE_+10:t-jspb.utils.ZERO_CHAR_CODE_},jspb.utils.hash64ToHexString=function(t){var e=Array(18);e[0]="0",e[1]="x";for(var n=0;8>n;n++){var i=t.charCodeAt(7-n);e[2*n+2]=jspb.utils.toHexDigit_(i>>4),e[2*n+3]=jspb.utils.toHexDigit_(15&i)}return e.join("")},jspb.utils.hexStringToHash64=function(t){t=t.toLowerCase(),goog.asserts.assert(18==t.length),goog.asserts.assert("0"==t[0]),goog.asserts.assert("x"==t[1]);for(var e="",n=0;8>n;n++){var i=jspb.utils.fromHexCharCode_(t.charCodeAt(2*n+2)),o=jspb.utils.fromHexCharCode_(t.charCodeAt(2*n+3));e=String.fromCharCode(16*i+o)+e}return e},jspb.utils.hash64ToNumber=function(t,e){jspb.utils.splitHash64(t),t=jspb.utils.split64Low;var n=jspb.utils.split64High;return e?jspb.utils.joinInt64(t,n):jspb.utils.joinUint64(t,n)},jspb.utils.numberToHash64=function(t){return jspb.utils.splitInt64(t),jspb.utils.joinHash64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.utils.countVarints=function(t,e,n){for(var i=0,o=e;o<n;o++)i+=t[o]>>7;return n-e-i},jspb.utils.countVarintFields=function(t,e,n,i){var o=0;if(128>(i=8*i+jspb.BinaryConstants.WireType.VARINT))for(;e<n&&t[e++]==i;)for(o++;;){var r=t[e++];if(0==(128&r))break}else for(;e<n;){for(r=i;128<r;){if(t[e]!=(127&r|128))return o;e++,r>>=7}if(t[e++]!=r)break;for(o++;0!=(128&(r=t[e++])););}return o},jspb.utils.countFixedFields_=function(t,e,n,i,o){var r=0;if(128>i)for(;e<n&&t[e++]==i;)r++,e+=o;else for(;e<n;){for(var s=i;128<s;){if(t[e++]!=(127&s|128))return r;s>>=7}if(t[e++]!=s)break;r++,e+=o}return r},jspb.utils.countFixed32Fields=function(t,e,n,i){return jspb.utils.countFixedFields_(t,e,n,8*i+jspb.BinaryConstants.WireType.FIXED32,4)},jspb.utils.countFixed64Fields=function(t,e,n,i){return jspb.utils.countFixedFields_(t,e,n,8*i+jspb.BinaryConstants.WireType.FIXED64,8)},jspb.utils.countDelimitedFields=function(t,e,n,i){var o=0;for(i=8*i+jspb.BinaryConstants.WireType.DELIMITED;e<n;){for(var r=i;128<r;){if(t[e++]!=(127&r|128))return o;r>>=7}if(t[e++]!=r)break;o++;for(var s=0,a=1;s+=(127&(r=t[e++]))*a,a*=128,0!=(128&r););e+=s}return o},jspb.utils.debugBytesToTextFormat=function(t){var e='"';if(t){t=jspb.utils.byteSourceToUint8Array(t);for(var n=0;n<t.length;n++)e+="\\x",16>t[n]&&(e+="0"),e+=t[n].toString(16)}return e+'"'},jspb.utils.debugScalarToTextFormat=function(t){return"string"==typeof t?goog.string.quote(t):t.toString()},jspb.utils.stringToByteArray=function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++){var i=t.charCodeAt(n);if(255<i)throw Error("Conversion error: string contains codepoint outside of byte range");e[n]=i}return e},jspb.utils.byteSourceToUint8Array=function(t){return t.constructor===Uint8Array?t:t.constructor===ArrayBuffer||"undefined"!=typeof Buffer&&t.constructor===Buffer||t.constructor===Array?new Uint8Array(t):t.constructor===String?goog.crypt.base64.decodeStringToUint8Array(t):(goog.asserts.fail("Type not convertible to Uint8Array."),new Uint8Array(0))},jspb.BinaryDecoder=function(t,e,n){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1,t&&this.setBlock(t,e,n)},jspb.BinaryDecoder.instanceCache_=[],jspb.BinaryDecoder.alloc=function(t,e,n){if(jspb.BinaryDecoder.instanceCache_.length){var i=jspb.BinaryDecoder.instanceCache_.pop();return t&&i.setBlock(t,e,n),i}return new jspb.BinaryDecoder(t,e,n)},jspb.BinaryDecoder.prototype.free=function(){this.clear(),100>jspb.BinaryDecoder.instanceCache_.length&&jspb.BinaryDecoder.instanceCache_.push(this)},jspb.BinaryDecoder.prototype.clone=function(){return jspb.BinaryDecoder.alloc(this.bytes_,this.start_,this.end_-this.start_)},jspb.BinaryDecoder.prototype.clear=function(){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1},jspb.BinaryDecoder.prototype.getBuffer=function(){return this.bytes_},jspb.BinaryDecoder.prototype.setBlock=function(t,e,n){this.bytes_=jspb.utils.byteSourceToUint8Array(t),this.start_=void 0!==e?e:0,this.end_=void 0!==n?this.start_+n:this.bytes_.length,this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getEnd=function(){return this.end_},jspb.BinaryDecoder.prototype.setEnd=function(t){this.end_=t},jspb.BinaryDecoder.prototype.reset=function(){this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getCursor=function(){return this.cursor_},jspb.BinaryDecoder.prototype.setCursor=function(t){this.cursor_=t},jspb.BinaryDecoder.prototype.advance=function(t){this.cursor_+=t,goog.asserts.assert(this.cursor_<=this.end_)},jspb.BinaryDecoder.prototype.atEnd=function(){return this.cursor_==this.end_},jspb.BinaryDecoder.prototype.pastEnd=function(){return this.cursor_>this.end_},jspb.BinaryDecoder.prototype.getError=function(){return this.error_||0>this.cursor_||this.cursor_>this.end_},jspb.BinaryDecoder.prototype.readSplitVarint64=function(t){for(var e=128,n=0,i=0,o=0;4>o&&128<=e;o++)n|=(127&(e=this.bytes_[this.cursor_++]))<<7*o;if(128<=e&&(n|=(127&(e=this.bytes_[this.cursor_++]))<<28,i|=(127&e)>>4),128<=e)for(o=0;5>o&&128<=e;o++)i|=(127&(e=this.bytes_[this.cursor_++]))<<7*o+3;if(128>e)return t(n>>>0,i>>>0);goog.asserts.fail("Failed to read varint, encoding is invalid."),this.error_=!0},jspb.BinaryDecoder.prototype.readSplitZigzagVarint64=function(t){return this.readSplitVarint64(function(e,n){return jspb.utils.fromZigzag64(e,n,t)})},jspb.BinaryDecoder.prototype.readSplitFixed64=function(t){var e=this.bytes_,n=this.cursor_;this.cursor_+=8;for(var i=0,o=0,r=n+7;r>=n;r--)i=i<<8|e[r],o=o<<8|e[r+4];return t(i,o)},jspb.BinaryDecoder.prototype.skipVarint=function(){for(;128&this.bytes_[this.cursor_];)this.cursor_++;this.cursor_++},jspb.BinaryDecoder.prototype.unskipVarint=function(t){for(;128<t;)this.cursor_--,t>>>=7;this.cursor_--},jspb.BinaryDecoder.prototype.readUnsignedVarint32=function(){var t=this.bytes_,e=t[this.cursor_+0],n=127&e;return 128>e?(this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),n):(n|=(127&(e=t[this.cursor_+1]))<<7,128>e?(this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),n):(n|=(127&(e=t[this.cursor_+2]))<<14,128>e?(this.cursor_+=3,goog.asserts.assert(this.cursor_<=this.end_),n):(n|=(127&(e=t[this.cursor_+3]))<<21,128>e?(this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),n):(n|=(15&(e=t[this.cursor_+4]))<<28,128>e?(this.cursor_+=5,goog.asserts.assert(this.cursor_<=this.end_),n>>>0):(this.cursor_+=5,128<=t[this.cursor_++]&&128<=t[this.cursor_++]&&128<=t[this.cursor_++]&&128<=t[this.cursor_++]&&128<=t[this.cursor_++]&&goog.asserts.assert(!1),goog.asserts.assert(this.cursor_<=this.end_),n)))))},jspb.BinaryDecoder.prototype.readSignedVarint32=jspb.BinaryDecoder.prototype.readUnsignedVarint32,jspb.BinaryDecoder.prototype.readUnsignedVarint32String=function(){return this.readUnsignedVarint32().toString()},jspb.BinaryDecoder.prototype.readSignedVarint32String=function(){return this.readSignedVarint32().toString()},jspb.BinaryDecoder.prototype.readZigzagVarint32=function(){var t=this.readUnsignedVarint32();return t>>>1^-(1&t)},jspb.BinaryDecoder.prototype.readUnsignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinUint64)},jspb.BinaryDecoder.prototype.readUnsignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinUnsignedDecimalString)},jspb.BinaryDecoder.prototype.readSignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinInt64)},jspb.BinaryDecoder.prototype.readSignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readZigzagVarint64=function(){return this.readSplitVarint64(jspb.utils.joinZigzag64)},jspb.BinaryDecoder.prototype.readZigzagVarintHash64=function(){return this.readSplitZigzagVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readZigzagVarint64String=function(){return this.readSplitZigzagVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readUint8=function(){var t=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),t},jspb.BinaryDecoder.prototype.readUint16=function(){var t=this.bytes_[this.cursor_+0],e=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),t<<0|e<<8},jspb.BinaryDecoder.prototype.readUint32=function(){var t=this.bytes_[this.cursor_+0],e=this.bytes_[this.cursor_+1],n=this.bytes_[this.cursor_+2],i=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),(t<<0|e<<8|n<<16|i<<24)>>>0},jspb.BinaryDecoder.prototype.readUint64=function(){var t=this.readUint32(),e=this.readUint32();return jspb.utils.joinUint64(t,e)},jspb.BinaryDecoder.prototype.readUint64String=function(){var t=this.readUint32(),e=this.readUint32();return jspb.utils.joinUnsignedDecimalString(t,e)},jspb.BinaryDecoder.prototype.readInt8=function(){var t=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),t<<24>>24},jspb.BinaryDecoder.prototype.readInt16=function(){var t=this.bytes_[this.cursor_+0],e=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),(t<<0|e<<8)<<16>>16},jspb.BinaryDecoder.prototype.readInt32=function(){var t=this.bytes_[this.cursor_+0],e=this.bytes_[this.cursor_+1],n=this.bytes_[this.cursor_+2],i=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),t<<0|e<<8|n<<16|i<<24},jspb.BinaryDecoder.prototype.readInt64=function(){var t=this.readUint32(),e=this.readUint32();return jspb.utils.joinInt64(t,e)},jspb.BinaryDecoder.prototype.readInt64String=function(){var t=this.readUint32(),e=this.readUint32();return jspb.utils.joinSignedDecimalString(t,e)},jspb.BinaryDecoder.prototype.readFloat=function(){var t=this.readUint32();return jspb.utils.joinFloat32(t,0)},jspb.BinaryDecoder.prototype.readDouble=function(){var t=this.readUint32(),e=this.readUint32();return jspb.utils.joinFloat64(t,e)},jspb.BinaryDecoder.prototype.readBool=function(){return!!this.bytes_[this.cursor_++]},jspb.BinaryDecoder.prototype.readEnum=function(){return this.readSignedVarint32()},jspb.BinaryDecoder.prototype.readString=function(t){var e=this.bytes_,n=this.cursor_;t=n+t;for(var i=[],o="";n<t;){var r=e[n++];if(128>r)i.push(r);else{if(192>r)continue;if(224>r){var s=e[n++];i.push((31&r)<<6|63&s)}else if(240>r){s=e[n++];var a=e[n++];i.push((15&r)<<12|(63&s)<<6|63&a)}else 248>r&&(r=(7&r)<<18|(63&(s=e[n++]))<<12|(63&(a=e[n++]))<<6|63&e[n++],i.push(55296+((r-=65536)>>10&1023),56320+(1023&r)))}8192<=i.length&&(o+=String.fromCharCode.apply(null,i),i.length=0)}return o+=goog.crypt.byteArrayToString(i),this.cursor_=n,o},jspb.BinaryDecoder.prototype.readStringWithLength=function(){var t=this.readUnsignedVarint32();return this.readString(t)},jspb.BinaryDecoder.prototype.readBytes=function(t){if(0>t||this.cursor_+t>this.bytes_.length)return this.error_=!0,goog.asserts.fail("Invalid byte length!"),new Uint8Array(0);var e=this.bytes_.subarray(this.cursor_,this.cursor_+t);return this.cursor_+=t,goog.asserts.assert(this.cursor_<=this.end_),e},jspb.BinaryDecoder.prototype.readVarintHash64=function(){return this.readSplitVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readFixedHash64=function(){var t=this.bytes_,e=this.cursor_,n=t[e+0],i=t[e+1],o=t[e+2],r=t[e+3],s=t[e+4],a=t[e+5],l=t[e+6];return t=t[e+7],this.cursor_+=8,String.fromCharCode(n,i,o,r,s,a,l,t)},jspb.BinaryReader=function(t,e,n){this.decoder_=jspb.BinaryDecoder.alloc(t,e,n),this.fieldCursor_=this.decoder_.getCursor(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null},jspb.BinaryReader.instanceCache_=[],jspb.BinaryReader.alloc=function(t,e,n){if(jspb.BinaryReader.instanceCache_.length){var i=jspb.BinaryReader.instanceCache_.pop();return t&&i.decoder_.setBlock(t,e,n),i}return new jspb.BinaryReader(t,e,n)},jspb.BinaryReader.prototype.alloc=jspb.BinaryReader.alloc,jspb.BinaryReader.prototype.free=function(){this.decoder_.clear(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null,100>jspb.BinaryReader.instanceCache_.length&&jspb.BinaryReader.instanceCache_.push(this)},jspb.BinaryReader.prototype.getFieldCursor=function(){return this.fieldCursor_},jspb.BinaryReader.prototype.getCursor=function(){return this.decoder_.getCursor()},jspb.BinaryReader.prototype.getBuffer=function(){return this.decoder_.getBuffer()},jspb.BinaryReader.prototype.getFieldNumber=function(){return this.nextField_},jspb.BinaryReader.prototype.getWireType=function(){return this.nextWireType_},jspb.BinaryReader.prototype.isDelimited=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED},jspb.BinaryReader.prototype.isEndGroup=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP},jspb.BinaryReader.prototype.getError=function(){return this.error_||this.decoder_.getError()},jspb.BinaryReader.prototype.setBlock=function(t,e,n){this.decoder_.setBlock(t,e,n),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.reset=function(){this.decoder_.reset(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.advance=function(t){this.decoder_.advance(t)},jspb.BinaryReader.prototype.nextField=function(){if(this.decoder_.atEnd())return!1;if(this.getError())return goog.asserts.fail("Decoder hit an error"),!1;this.fieldCursor_=this.decoder_.getCursor();var t=this.decoder_.readUnsignedVarint32(),e=t>>>3;return(t&=7)!=jspb.BinaryConstants.WireType.VARINT&&t!=jspb.BinaryConstants.WireType.FIXED32&&t!=jspb.BinaryConstants.WireType.FIXED64&&t!=jspb.BinaryConstants.WireType.DELIMITED&&t!=jspb.BinaryConstants.WireType.START_GROUP&&t!=jspb.BinaryConstants.WireType.END_GROUP?(goog.asserts.fail("Invalid wire type: %s (at position %s)",t,this.fieldCursor_),this.error_=!0,!1):(this.nextField_=e,this.nextWireType_=t,!0)},jspb.BinaryReader.prototype.unskipHeader=function(){this.decoder_.unskipVarint(this.nextField_<<3|this.nextWireType_)},jspb.BinaryReader.prototype.skipMatchingFields=function(){var t=this.nextField_;for(this.unskipHeader();this.nextField()&&this.getFieldNumber()==t;)this.skipField();this.decoder_.atEnd()||this.unskipHeader()},jspb.BinaryReader.prototype.skipVarintField=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.VARINT?(goog.asserts.fail("Invalid wire type for skipVarintField"),this.skipField()):this.decoder_.skipVarint()},jspb.BinaryReader.prototype.skipDelimitedField=function(){if(this.nextWireType_!=jspb.BinaryConstants.WireType.DELIMITED)goog.asserts.fail("Invalid wire type for skipDelimitedField"),this.skipField();else{var t=this.decoder_.readUnsignedVarint32();this.decoder_.advance(t)}},jspb.BinaryReader.prototype.skipFixed32Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED32?(goog.asserts.fail("Invalid wire type for skipFixed32Field"),this.skipField()):this.decoder_.advance(4)},jspb.BinaryReader.prototype.skipFixed64Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED64?(goog.asserts.fail("Invalid wire type for skipFixed64Field"),this.skipField()):this.decoder_.advance(8)},jspb.BinaryReader.prototype.skipGroup=function(){for(var t=this.nextField_;;){if(!this.nextField()){goog.asserts.fail("Unmatched start-group tag: stream EOF"),this.error_=!0;break}if(this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP){this.nextField_!=t&&(goog.asserts.fail("Unmatched end-group tag"),this.error_=!0);break}this.skipField()}},jspb.BinaryReader.prototype.skipField=function(){switch(this.nextWireType_){case jspb.BinaryConstants.WireType.VARINT:this.skipVarintField();break;case jspb.BinaryConstants.WireType.FIXED64:this.skipFixed64Field();break;case jspb.BinaryConstants.WireType.DELIMITED:this.skipDelimitedField();break;case jspb.BinaryConstants.WireType.FIXED32:this.skipFixed32Field();break;case jspb.BinaryConstants.WireType.START_GROUP:this.skipGroup();break;default:goog.asserts.fail("Invalid wire encoding for field.")}},jspb.BinaryReader.prototype.registerReadCallback=function(t,e){null===this.readCallbacks_&&(this.readCallbacks_={}),goog.asserts.assert(!this.readCallbacks_[t]),this.readCallbacks_[t]=e},jspb.BinaryReader.prototype.runReadCallback=function(t){return goog.asserts.assert(null!==this.readCallbacks_),goog.asserts.assert(t=this.readCallbacks_[t]),t(this)},jspb.BinaryReader.prototype.readAny=function(t){this.nextWireType_=jspb.BinaryConstants.FieldTypeToWireType(t);var e=jspb.BinaryConstants.FieldType;switch(t){case e.DOUBLE:return this.readDouble();case e.FLOAT:return this.readFloat();case e.INT64:return this.readInt64();case e.UINT64:return this.readUint64();case e.INT32:return this.readInt32();case e.FIXED64:return this.readFixed64();case e.FIXED32:return this.readFixed32();case e.BOOL:return this.readBool();case e.STRING:return this.readString();case e.GROUP:goog.asserts.fail("Group field type not supported in readAny()");case e.MESSAGE:goog.asserts.fail("Message field type not supported in readAny()");case e.BYTES:return this.readBytes();case e.UINT32:return this.readUint32();case e.ENUM:return this.readEnum();case e.SFIXED32:return this.readSfixed32();case e.SFIXED64:return this.readSfixed64();case e.SINT32:return this.readSint32();case e.SINT64:return this.readSint64();case e.FHASH64:return this.readFixedHash64();case e.VHASH64:return this.readVarintHash64();default:goog.asserts.fail("Invalid field type in readAny()")}return 0},jspb.BinaryReader.prototype.readMessage=function(t,e){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var n=this.decoder_.getEnd(),i=this.decoder_.readUnsignedVarint32();i=this.decoder_.getCursor()+i,this.decoder_.setEnd(i),e(t,this),this.decoder_.setCursor(i),this.decoder_.setEnd(n)},jspb.BinaryReader.prototype.readGroup=function(t,e,n){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.START_GROUP),goog.asserts.assert(this.nextField_==t),n(e,this),this.error_||this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP||(goog.asserts.fail("Group submessage did not end with an END_GROUP tag"),this.error_=!0)},jspb.BinaryReader.prototype.getFieldDecoder=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var t=this.decoder_.readUnsignedVarint32(),e=this.decoder_.getCursor(),n=e+t;return t=jspb.BinaryDecoder.alloc(this.decoder_.getBuffer(),e,t),this.decoder_.setCursor(n),t},jspb.BinaryReader.prototype.readInt32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32()},jspb.BinaryReader.prototype.readInt32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32String()},jspb.BinaryReader.prototype.readInt64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readInt64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64String()},jspb.BinaryReader.prototype.readUint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readUint32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32String()},jspb.BinaryReader.prototype.readUint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64()},jspb.BinaryReader.prototype.readUint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64String()},jspb.BinaryReader.prototype.readSint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint32()},jspb.BinaryReader.prototype.readSint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64()},jspb.BinaryReader.prototype.readSint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64String()},jspb.BinaryReader.prototype.readFixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readUint32()},jspb.BinaryReader.prototype.readFixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64()},jspb.BinaryReader.prototype.readFixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64String()},jspb.BinaryReader.prototype.readSfixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32()},jspb.BinaryReader.prototype.readSfixed32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32().toString()},jspb.BinaryReader.prototype.readSfixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64()},jspb.BinaryReader.prototype.readSfixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64String()},jspb.BinaryReader.prototype.readFloat=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readFloat()},jspb.BinaryReader.prototype.readDouble=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readDouble()},jspb.BinaryReader.prototype.readBool=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),!!this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readEnum=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readString=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var t=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(t)},jspb.BinaryReader.prototype.readBytes=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var t=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(t)},jspb.BinaryReader.prototype.readVarintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readVarintHash64()},jspb.BinaryReader.prototype.readSintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarintHash64()},jspb.BinaryReader.prototype.readSplitVarint64=function(t){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(t)},jspb.BinaryReader.prototype.readSplitZigzagVarint64=function(t){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(function(e,n){return jspb.utils.fromZigzag64(e,n,t)})},jspb.BinaryReader.prototype.readFixedHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readFixedHash64()},jspb.BinaryReader.prototype.readSplitFixed64=function(t){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readSplitFixed64(t)},jspb.BinaryReader.prototype.readPackedField_=function(t){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();e=this.decoder_.getCursor()+e;for(var n=[];this.decoder_.getCursor()<e;)n.push(t.call(this.decoder_));return n},jspb.BinaryReader.prototype.readPackedInt32=function(){return this.readPackedField_(this.decoder_.readSignedVarint32)},jspb.BinaryReader.prototype.readPackedInt32String=function(){return this.readPackedField_(this.decoder_.readSignedVarint32String)},jspb.BinaryReader.prototype.readPackedInt64=function(){return this.readPackedField_(this.decoder_.readSignedVarint64)},jspb.BinaryReader.prototype.readPackedInt64String=function(){return this.readPackedField_(this.decoder_.readSignedVarint64String)},jspb.BinaryReader.prototype.readPackedUint32=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32)},jspb.BinaryReader.prototype.readPackedUint32String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32String)},jspb.BinaryReader.prototype.readPackedUint64=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64)},jspb.BinaryReader.prototype.readPackedUint64String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64String)},jspb.BinaryReader.prototype.readPackedSint32=function(){return this.readPackedField_(this.decoder_.readZigzagVarint32)},jspb.BinaryReader.prototype.readPackedSint64=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64)},jspb.BinaryReader.prototype.readPackedSint64String=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64String)},jspb.BinaryReader.prototype.readPackedFixed32=function(){return this.readPackedField_(this.decoder_.readUint32)},jspb.BinaryReader.prototype.readPackedFixed64=function(){return this.readPackedField_(this.decoder_.readUint64)},jspb.BinaryReader.prototype.readPackedFixed64String=function(){return this.readPackedField_(this.decoder_.readUint64String)},jspb.BinaryReader.prototype.readPackedSfixed32=function(){return this.readPackedField_(this.decoder_.readInt32)},jspb.BinaryReader.prototype.readPackedSfixed64=function(){return this.readPackedField_(this.decoder_.readInt64)},jspb.BinaryReader.prototype.readPackedSfixed64String=function(){return this.readPackedField_(this.decoder_.readInt64String)},jspb.BinaryReader.prototype.readPackedFloat=function(){return this.readPackedField_(this.decoder_.readFloat)},jspb.BinaryReader.prototype.readPackedDouble=function(){return this.readPackedField_(this.decoder_.readDouble)},jspb.BinaryReader.prototype.readPackedBool=function(){return this.readPackedField_(this.decoder_.readBool)},jspb.BinaryReader.prototype.readPackedEnum=function(){return this.readPackedField_(this.decoder_.readEnum)},jspb.BinaryReader.prototype.readPackedVarintHash64=function(){return this.readPackedField_(this.decoder_.readVarintHash64)},jspb.BinaryReader.prototype.readPackedFixedHash64=function(){return this.readPackedField_(this.decoder_.readFixedHash64)},jspb.Map=function(t,e){this.arr_=t,this.valueCtor_=e,this.map_={},this.arrClean=!0,0<this.arr_.length&&this.loadFromArray_()},jspb.Map.prototype.loadFromArray_=function(){for(var t=0;t<this.arr_.length;t++){var e=this.arr_[t],n=e[0];this.map_[n.toString()]=new jspb.Map.Entry_(n,e[1])}this.arrClean=!0},jspb.Map.prototype.toArray=function(){if(this.arrClean){if(this.valueCtor_){var t,e=this.map_;for(t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=e[t].valueWrapper;n&&n.toArray()}}}else{for(this.arr_.length=0,(e=this.stringKeys_()).sort(),t=0;t<e.length;t++){var i=this.map_[e[t]];(n=i.valueWrapper)&&n.toArray(),this.arr_.push([i.key,i.value])}this.arrClean=!0}return this.arr_},jspb.Map.prototype.toObject=function(t,e){for(var n=this.toArray(),i=[],o=0;o<n.length;o++){var r=this.map_[n[o][0].toString()];this.wrapEntry_(r);var s=r.valueWrapper;s?(goog.asserts.assert(e),i.push([r.key,e(t,s)])):i.push([r.key,r.value])}return i},jspb.Map.fromObject=function(t,e,n){e=new jspb.Map([],e);for(var i=0;i<t.length;i++){var o=t[i][0],r=n(t[i][1]);e.set(o,r)}return e},jspb.Map.ArrayIteratorIterable_=function(t){this.idx_=0,this.arr_=t},jspb.Map.ArrayIteratorIterable_.prototype.next=function(){return this.idx_<this.arr_.length?{done:!1,value:this.arr_[this.idx_++]}:{done:!0,value:void 0}},"undefined"!=typeof Symbol&&(jspb.Map.ArrayIteratorIterable_.prototype[Symbol.iterator]=function(){return this}),jspb.Map.prototype.getLength=function(){return this.stringKeys_().length},jspb.Map.prototype.clear=function(){this.map_={},this.arrClean=!1},jspb.Map.prototype.del=function(t){t=t.toString();var e=this.map_.hasOwnProperty(t);return delete this.map_[t],this.arrClean=!1,e},jspb.Map.prototype.getEntryList=function(){var t=[],e=this.stringKeys_();e.sort();for(var n=0;n<e.length;n++){var i=this.map_[e[n]];t.push([i.key,i.value])}return t},jspb.Map.prototype.entries=function(){var t=[],e=this.stringKeys_();e.sort();for(var n=0;n<e.length;n++){var i=this.map_[e[n]];t.push([i.key,this.wrapEntry_(i)])}return new jspb.Map.ArrayIteratorIterable_(t)},jspb.Map.prototype.keys=function(){var t=[],e=this.stringKeys_();e.sort();for(var n=0;n<e.length;n++)t.push(this.map_[e[n]].key);return new jspb.Map.ArrayIteratorIterable_(t)},jspb.Map.prototype.values=function(){var t=[],e=this.stringKeys_();e.sort();for(var n=0;n<e.length;n++)t.push(this.wrapEntry_(this.map_[e[n]]));return new jspb.Map.ArrayIteratorIterable_(t)},jspb.Map.prototype.forEach=function(t,e){var n=this.stringKeys_();n.sort();for(var i=0;i<n.length;i++){var o=this.map_[n[i]];t.call(e,this.wrapEntry_(o),o.key,this)}},jspb.Map.prototype.set=function(t,e){var n=new jspb.Map.Entry_(t);return this.valueCtor_?(n.valueWrapper=e,n.value=e.toArray()):n.value=e,this.map_[t.toString()]=n,this.arrClean=!1,this},jspb.Map.prototype.wrapEntry_=function(t){return this.valueCtor_?(t.valueWrapper||(t.valueWrapper=new this.valueCtor_(t.value)),t.valueWrapper):t.value},jspb.Map.prototype.get=function(t){if(t=this.map_[t.toString()])return this.wrapEntry_(t)},jspb.Map.prototype.has=function(t){return t.toString()in this.map_},jspb.Map.prototype.serializeBinary=function(t,e,n,i,o){var r=this.stringKeys_();r.sort();for(var s=0;s<r.length;s++){var a=this.map_[r[s]];e.beginSubMessage(t),n.call(e,1,a.key),this.valueCtor_?i.call(e,2,this.wrapEntry_(a),o):i.call(e,2,a.value),e.endSubMessage()}},jspb.Map.deserializeBinary=function(t,e,n,i,o,r,s){for(;e.nextField()&&!e.isEndGroup();){var a=e.getFieldNumber();1==a?r=n.call(e):2==a&&(t.valueCtor_?(goog.asserts.assert(o),s||(s=new t.valueCtor_),i.call(e,s,o)):s=i.call(e))}goog.asserts.assert(null!=r),goog.asserts.assert(null!=s),t.set(r,s)},jspb.Map.prototype.stringKeys_=function(){var t,e=this.map_,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n},jspb.Map.Entry_=function(t,e){this.key=t,this.value=e,this.valueWrapper=void 0},jspb.ExtensionFieldInfo=function(t,e,n,i,o){this.fieldIndex=t,this.fieldName=e,this.ctor=n,this.toObjectFn=i,this.isRepeated=o},jspb.ExtensionFieldBinaryInfo=function(t,e,n,i,o,r){this.fieldInfo=t,this.binaryReaderFn=e,this.binaryWriterFn=n,this.binaryMessageSerializeFn=i,this.binaryMessageDeserializeFn=o,this.isPacked=r},jspb.ExtensionFieldInfo.prototype.isMessageType=function(){return!!this.ctor},jspb.Message=function(){},jspb.Message.GENERATE_TO_OBJECT=!0,jspb.Message.GENERATE_FROM_OBJECT=!goog.DISALLOW_TEST_ONLY_CODE,jspb.Message.GENERATE_TO_STRING=!0,jspb.Message.ASSUME_LOCAL_ARRAYS=!1,jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS=!0,jspb.Message.SUPPORTS_UINT8ARRAY_="function"==typeof Uint8Array,jspb.Message.prototype.getJsPbMessageId=function(){return this.messageId_},jspb.Message.getIndex_=function(t,e){return e+t.arrayIndexOffset_},jspb.Message.hiddenES6Property_=function(){},jspb.Message.getFieldNumber_=function(t,e){return e-t.arrayIndexOffset_},jspb.Message.initialize=function(t,e,n,i,o,r){if(t.wrappers_=null,e||(e=n?[n]:[]),t.messageId_=n?String(n):void 0,t.arrayIndexOffset_=0===n?-1:0,t.array=e,jspb.Message.initPivotAndExtensionObject_(t,i),t.convertedPrimitiveFields_={},jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS||(t.repeatedFields=o),o)for(e=0;e<o.length;e++)(n=o[e])<t.pivot_?(n=jspb.Message.getIndex_(t,n),t.array[n]=t.array[n]||jspb.Message.EMPTY_LIST_SENTINEL_):(jspb.Message.maybeInitEmptyExtensionObject_(t),t.extensionObject_[n]=t.extensionObject_[n]||jspb.Message.EMPTY_LIST_SENTINEL_);if(r&&r.length)for(e=0;e<r.length;e++)jspb.Message.computeOneofCase(t,r[e])},jspb.Message.EMPTY_LIST_SENTINEL_=goog.DEBUG&&Object.freeze?Object.freeze([]):[],jspb.Message.isArray_=function(t){return jspb.Message.ASSUME_LOCAL_ARRAYS?t instanceof Array:Array.isArray(t)},jspb.Message.isExtensionObject_=function(t){return!(null===t||"object"!=typeof t||jspb.Message.isArray_(t)||jspb.Message.SUPPORTS_UINT8ARRAY_&&t instanceof Uint8Array)},jspb.Message.initPivotAndExtensionObject_=function(t,e){var n=t.array.length,i=-1;if(n&&jspb.Message.isExtensionObject_(n=t.array[i=n-1]))return t.pivot_=jspb.Message.getFieldNumber_(t,i),void(t.extensionObject_=n);-1<e?(t.pivot_=Math.max(e,jspb.Message.getFieldNumber_(t,i+1)),t.extensionObject_=null):t.pivot_=Number.MAX_VALUE},jspb.Message.maybeInitEmptyExtensionObject_=function(t){var e=jspb.Message.getIndex_(t,t.pivot_);t.array[e]||(t.extensionObject_=t.array[e]={})},jspb.Message.toObjectList=function(t,e,n){for(var i=[],o=0;o<t.length;o++)i[o]=e.call(t[o],n,t[o]);return i},jspb.Message.toObjectExtension=function(t,e,n,i,o){for(var r in n){var s=n[r],a=i.call(t,s);if(null!=a){for(var l in s.fieldName)if(s.fieldName.hasOwnProperty(l))break;e[l]=s.toObjectFn?s.isRepeated?jspb.Message.toObjectList(a,s.toObjectFn,o):s.toObjectFn(o,a):a}}},jspb.Message.serializeBinaryExtensions=function(t,e,n,i){for(var o in n){var r=n[o],s=r.fieldInfo;if(!r.binaryWriterFn)throw Error("Message extension present that was generated without binary serialization support");var a=i.call(t,s);if(null!=a)if(s.isMessageType()){if(!r.binaryMessageSerializeFn)throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");r.binaryWriterFn.call(e,s.fieldIndex,a,r.binaryMessageSerializeFn)}else r.binaryWriterFn.call(e,s.fieldIndex,a)}},jspb.Message.readBinaryExtension=function(t,e,n,i,o){var r=n[e.getFieldNumber()];if(r){if(n=r.fieldInfo,!r.binaryReaderFn)throw Error("Deserializing extension whose generated code does not support binary format");if(n.isMessageType()){var s=new n.ctor;r.binaryReaderFn.call(e,s,r.binaryMessageDeserializeFn)}else s=r.binaryReaderFn.call(e);n.isRepeated&&!r.isPacked?(e=i.call(t,n))?e.push(s):o.call(t,n,[s]):o.call(t,n,s)}else e.skipField()},jspb.Message.getField=function(t,e){if(e<t.pivot_){e=jspb.Message.getIndex_(t,e);var n=t.array[e];return n===jspb.Message.EMPTY_LIST_SENTINEL_?t.array[e]=[]:n}if(t.extensionObject_)return(n=t.extensionObject_[e])===jspb.Message.EMPTY_LIST_SENTINEL_?t.extensionObject_[e]=[]:n},jspb.Message.getRepeatedField=function(t,e){return jspb.Message.getField(t,e)},jspb.Message.getOptionalFloatingPointField=function(t,e){return null==(t=jspb.Message.getField(t,e))?t:+t},jspb.Message.getBooleanField=function(t,e){return null==(t=jspb.Message.getField(t,e))?t:!!t},jspb.Message.getRepeatedFloatingPointField=function(t,e){var n=jspb.Message.getRepeatedField(t,e);if(t.convertedPrimitiveFields_||(t.convertedPrimitiveFields_={}),!t.convertedPrimitiveFields_[e]){for(var i=0;i<n.length;i++)n[i]=+n[i];t.convertedPrimitiveFields_[e]=!0}return n},jspb.Message.getRepeatedBooleanField=function(t,e){var n=jspb.Message.getRepeatedField(t,e);if(t.convertedPrimitiveFields_||(t.convertedPrimitiveFields_={}),!t.convertedPrimitiveFields_[e]){for(var i=0;i<n.length;i++)n[i]=!!n[i];t.convertedPrimitiveFields_[e]=!0}return n},jspb.Message.bytesAsB64=function(t){return null==t||"string"==typeof t?t:jspb.Message.SUPPORTS_UINT8ARRAY_&&t instanceof Uint8Array?goog.crypt.base64.encodeByteArray(t):(goog.asserts.fail("Cannot coerce to b64 string: "+goog.typeOf(t)),null)},jspb.Message.bytesAsU8=function(t){return null==t||t instanceof Uint8Array?t:"string"==typeof t?goog.crypt.base64.decodeStringToUint8Array(t):(goog.asserts.fail("Cannot coerce to Uint8Array: "+goog.typeOf(t)),null)},jspb.Message.bytesListAsB64=function(t){return jspb.Message.assertConsistentTypes_(t),t.length&&"string"!=typeof t[0]?goog.array.map(t,jspb.Message.bytesAsB64):t},jspb.Message.bytesListAsU8=function(t){return jspb.Message.assertConsistentTypes_(t),!t.length||t[0]instanceof Uint8Array?t:goog.array.map(t,jspb.Message.bytesAsU8)},jspb.Message.assertConsistentTypes_=function(t){if(goog.DEBUG&&t&&1<t.length){var e=goog.typeOf(t[0]);goog.array.forEach(t,function(t){goog.typeOf(t)!=e&&goog.asserts.fail("Inconsistent type in JSPB repeated field array. Got "+goog.typeOf(t)+" expected "+e)})}},jspb.Message.getFieldWithDefault=function(t,e,n){return null==(t=jspb.Message.getField(t,e))?n:t},jspb.Message.getBooleanFieldWithDefault=function(t,e,n){return null==(t=jspb.Message.getBooleanField(t,e))?n:t},jspb.Message.getFloatingPointFieldWithDefault=function(t,e,n){return null==(t=jspb.Message.getOptionalFloatingPointField(t,e))?n:t},jspb.Message.getFieldProto3=jspb.Message.getFieldWithDefault,jspb.Message.getMapField=function(t,e,n,i){if(t.wrappers_||(t.wrappers_={}),e in t.wrappers_)return t.wrappers_[e];var o=jspb.Message.getField(t,e);if(!o){if(n)return;jspb.Message.setField(t,e,o=[])}return t.wrappers_[e]=new jspb.Map(o,i)},jspb.Message.setField=function(t,e,n){return goog.asserts.assertInstanceof(t,jspb.Message),e<t.pivot_?t.array[jspb.Message.getIndex_(t,e)]=n:(jspb.Message.maybeInitEmptyExtensionObject_(t),t.extensionObject_[e]=n),t},jspb.Message.setProto3IntField=function(t,e,n){return jspb.Message.setFieldIgnoringDefault_(t,e,n,0)},jspb.Message.setProto3FloatField=function(t,e,n){return jspb.Message.setFieldIgnoringDefault_(t,e,n,0)},jspb.Message.setProto3BooleanField=function(t,e,n){return jspb.Message.setFieldIgnoringDefault_(t,e,n,!1)},jspb.Message.setProto3StringField=function(t,e,n){return jspb.Message.setFieldIgnoringDefault_(t,e,n,"")},jspb.Message.setProto3BytesField=function(t,e,n){return jspb.Message.setFieldIgnoringDefault_(t,e,n,"")},jspb.Message.setProto3EnumField=function(t,e,n){return jspb.Message.setFieldIgnoringDefault_(t,e,n,0)},jspb.Message.setProto3StringIntField=function(t,e,n){return jspb.Message.setFieldIgnoringDefault_(t,e,n,"0")},jspb.Message.setFieldIgnoringDefault_=function(t,e,n,i){return goog.asserts.assertInstanceof(t,jspb.Message),n!==i?jspb.Message.setField(t,e,n):e<t.pivot_?t.array[jspb.Message.getIndex_(t,e)]=null:(jspb.Message.maybeInitEmptyExtensionObject_(t),delete t.extensionObject_[e]),t},jspb.Message.addToRepeatedField=function(t,e,n,i){return goog.asserts.assertInstanceof(t,jspb.Message),e=jspb.Message.getRepeatedField(t,e),null!=i?e.splice(i,0,n):e.push(n),t},jspb.Message.setOneofField=function(t,e,n,i){return goog.asserts.assertInstanceof(t,jspb.Message),(n=jspb.Message.computeOneofCase(t,n))&&n!==e&&void 0!==i&&(t.wrappers_&&n in t.wrappers_&&(t.wrappers_[n]=void 0),jspb.Message.setField(t,n,void 0)),jspb.Message.setField(t,e,i)},jspb.Message.computeOneofCase=function(t,e){for(var n,i,o=0;o<e.length;o++){var r=e[o],s=jspb.Message.getField(t,r);null!=s&&(n=r,i=s,jspb.Message.setField(t,r,void 0))}return n?(jspb.Message.setField(t,n,i),n):0},jspb.Message.getWrapperField=function(t,e,n,i){if(t.wrappers_||(t.wrappers_={}),!t.wrappers_[n]){var o=jspb.Message.getField(t,n);(i||o)&&(t.wrappers_[n]=new e(o))}return t.wrappers_[n]},jspb.Message.getRepeatedWrapperField=function(t,e,n){return jspb.Message.wrapRepeatedField_(t,e,n),(e=t.wrappers_[n])==jspb.Message.EMPTY_LIST_SENTINEL_&&(e=t.wrappers_[n]=[]),e},jspb.Message.wrapRepeatedField_=function(t,e,n){if(t.wrappers_||(t.wrappers_={}),!t.wrappers_[n]){for(var i=jspb.Message.getRepeatedField(t,n),o=[],r=0;r<i.length;r++)o[r]=new e(i[r]);t.wrappers_[n]=o}},jspb.Message.setWrapperField=function(t,e,n){goog.asserts.assertInstanceof(t,jspb.Message),t.wrappers_||(t.wrappers_={});var i=n?n.toArray():n;return t.wrappers_[e]=n,jspb.Message.setField(t,e,i)},jspb.Message.setOneofWrapperField=function(t,e,n,i){goog.asserts.assertInstanceof(t,jspb.Message),t.wrappers_||(t.wrappers_={});var o=i?i.toArray():i;return t.wrappers_[e]=i,jspb.Message.setOneofField(t,e,n,o)},jspb.Message.setRepeatedWrapperField=function(t,e,n){goog.asserts.assertInstanceof(t,jspb.Message),t.wrappers_||(t.wrappers_={}),n=n||[];for(var i=[],o=0;o<n.length;o++)i[o]=n[o].toArray();return t.wrappers_[e]=n,jspb.Message.setField(t,e,i)},jspb.Message.addToRepeatedWrapperField=function(t,e,n,i,o){jspb.Message.wrapRepeatedField_(t,i,e);var r=t.wrappers_[e];return r||(r=t.wrappers_[e]=[]),n=n||new i,t=jspb.Message.getRepeatedField(t,e),null!=o?(r.splice(o,0,n),t.splice(o,0,n.toArray())):(r.push(n),t.push(n.toArray())),n},jspb.Message.toMap=function(t,e,n,i){for(var o={},r=0;r<t.length;r++)o[e.call(t[r])]=n?n.call(t[r],i,t[r]):t[r];return o},jspb.Message.prototype.syncMapFields_=function(){if(this.wrappers_)for(var t in this.wrappers_){var e=this.wrappers_[t];if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n]&&e[n].toArray();else e&&e.toArray()}},jspb.Message.prototype.toArray=function(){return this.syncMapFields_(),this.array},jspb.Message.GENERATE_TO_STRING&&(jspb.Message.prototype.toString=function(){return this.syncMapFields_(),this.array.toString()}),jspb.Message.prototype.getExtension=function(t){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var e=t.fieldIndex;if(t.isRepeated){if(t.isMessageType())return this.wrappers_[e]||(this.wrappers_[e]=goog.array.map(this.extensionObject_[e]||[],function(e){return new t.ctor(e)})),this.wrappers_[e]}else if(t.isMessageType())return!this.wrappers_[e]&&this.extensionObject_[e]&&(this.wrappers_[e]=new t.ctor(this.extensionObject_[e])),this.wrappers_[e];return this.extensionObject_[e]}},jspb.Message.prototype.setExtension=function(t,e){this.wrappers_||(this.wrappers_={}),jspb.Message.maybeInitEmptyExtensionObject_(this);var n=t.fieldIndex;return t.isRepeated?(e=e||[],t.isMessageType()?(this.wrappers_[n]=e,this.extensionObject_[n]=goog.array.map(e,function(t){return t.toArray()})):this.extensionObject_[n]=e):t.isMessageType()?(this.wrappers_[n]=e,this.extensionObject_[n]=e?e.toArray():e):this.extensionObject_[n]=e,this},jspb.Message.difference=function(t,e){if(!(t instanceof e.constructor))throw Error("Messages have different types.");var n=t.toArray();e=e.toArray();var i=[],o=0,r=n.length>e.length?n.length:e.length;for(t.getJsPbMessageId()&&(i[0]=t.getJsPbMessageId(),o=1);o<r;o++)jspb.Message.compareFields(n[o],e[o])||(i[o]=e[o]);return new t.constructor(i)},jspb.Message.equals=function(t,e){return t==e||!(!t||!e)&&t instanceof e.constructor&&jspb.Message.compareFields(t.toArray(),e.toArray())},jspb.Message.compareExtensions=function(t,e){t=t||{},e=e||{};var n,i={};for(n in t)i[n]=0;for(n in e)i[n]=0;for(n in i)if(!jspb.Message.compareFields(t[n],e[n]))return!1;return!0},jspb.Message.compareFields=function(t,e){if(t==e)return!0;if(!goog.isObject(t)||!goog.isObject(e))return!!("number"==typeof t&&isNaN(t)||"number"==typeof e&&isNaN(e))&&String(t)==String(e);if(t.constructor!=e.constructor)return!1;if(jspb.Message.SUPPORTS_UINT8ARRAY_&&t.constructor===Uint8Array){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0}if(t.constructor===Array){var i=void 0,o=void 0,r=Math.max(t.length,e.length);for(n=0;n<r;n++){var s=t[n],a=e[n];if(s&&s.constructor==Object&&(goog.asserts.assert(void 0===i),goog.asserts.assert(n===t.length-1),i=s,s=void 0),a&&a.constructor==Object&&(goog.asserts.assert(void 0===o),goog.asserts.assert(n===e.length-1),o=a,a=void 0),!jspb.Message.compareFields(s,a))return!1}return!i&&!o||jspb.Message.compareExtensions(i=i||{},o=o||{})}if(t.constructor===Object)return jspb.Message.compareExtensions(t,e);throw Error("Invalid type in JSPB array")},jspb.Message.prototype.cloneMessage=function(){return jspb.Message.cloneMessage(this)},jspb.Message.prototype.clone=function(){return jspb.Message.cloneMessage(this)},jspb.Message.clone=function(t){return jspb.Message.cloneMessage(t)},jspb.Message.cloneMessage=function(t){return new t.constructor(jspb.Message.clone_(t.toArray()))},jspb.Message.copyInto=function(t,e){goog.asserts.assertInstanceof(t,jspb.Message),goog.asserts.assertInstanceof(e,jspb.Message),goog.asserts.assert(t.constructor==e.constructor,"Copy source and target message should have the same type."),t=jspb.Message.clone(t);for(var n=e.toArray(),i=t.toArray(),o=n.length=0;o<i.length;o++)n[o]=i[o];e.wrappers_=t.wrappers_,e.extensionObject_=t.extensionObject_},jspb.Message.clone_=function(t){if(Array.isArray(t)){for(var e=Array(t.length),n=0;n<t.length;n++){var i=t[n];null!=i&&(e[n]="object"==typeof i?jspb.Message.clone_(goog.asserts.assert(i)):i)}return e}if(jspb.Message.SUPPORTS_UINT8ARRAY_&&t instanceof Uint8Array)return new Uint8Array(t);for(n in e={},t)null!=(i=t[n])&&(e[n]="object"==typeof i?jspb.Message.clone_(goog.asserts.assert(i)):i);return e},jspb.Message.registerMessageType=function(t,e){e.messageId=t},jspb.Message.messageSetExtensions={},jspb.Message.messageSetExtensionsBinary={},jspb.arith={},jspb.arith.UInt64=function(t,e){this.lo=t,this.hi=e},jspb.arith.UInt64.prototype.cmp=function(t){return this.hi<t.hi||this.hi==t.hi&&this.lo<t.lo?-1:this.hi==t.hi&&this.lo==t.lo?0:1},jspb.arith.UInt64.prototype.rightShift=function(){return new jspb.arith.UInt64((this.lo>>>1|(1&this.hi)<<31)>>>0,this.hi>>>1>>>0)},jspb.arith.UInt64.prototype.leftShift=function(){return new jspb.arith.UInt64(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},jspb.arith.UInt64.prototype.msb=function(){return!!(2147483648&this.hi)},jspb.arith.UInt64.prototype.lsb=function(){return!!(1&this.lo)},jspb.arith.UInt64.prototype.zero=function(){return 0==this.lo&&0==this.hi},jspb.arith.UInt64.prototype.add=function(t){return new jspb.arith.UInt64((this.lo+t.lo&4294967295)>>>0>>>0,((this.hi+t.hi&4294967295)>>>0)+(4294967296<=this.lo+t.lo?1:0)>>>0)},jspb.arith.UInt64.prototype.sub=function(t){return new jspb.arith.UInt64((this.lo-t.lo&4294967295)>>>0>>>0,((this.hi-t.hi&4294967295)>>>0)-(0>this.lo-t.lo?1:0)>>>0)},jspb.arith.UInt64.mul32x32=function(t,e){var n=65535&t,i=65535&e,o=e>>>16;for(e=n*i+65536*(n*o&65535)+65536*((t>>>=16)*i&65535),n=t*o+(n*o>>>16)+(t*i>>>16);4294967296<=e;)e-=4294967296,n+=1;return new jspb.arith.UInt64(e>>>0,n>>>0)},jspb.arith.UInt64.prototype.mul=function(t){var e=jspb.arith.UInt64.mul32x32(this.lo,t);return(t=jspb.arith.UInt64.mul32x32(this.hi,t)).hi=t.lo,t.lo=0,e.add(t)},jspb.arith.UInt64.prototype.div=function(t){if(0==t)return[];var e=new jspb.arith.UInt64(0,0),n=new jspb.arith.UInt64(this.lo,this.hi);t=new jspb.arith.UInt64(t,0);for(var i=new jspb.arith.UInt64(1,0);!t.msb();)t=t.leftShift(),i=i.leftShift();for(;!i.zero();)0>=t.cmp(n)&&(e=e.add(i),n=n.sub(t)),t=t.rightShift(),i=i.rightShift();return[e,n]},jspb.arith.UInt64.prototype.toString=function(){for(var t="",e=this;!e.zero();)t=(e=e.div(10))[1].lo+t,e=e[0];return""==t&&(t="0"),t},jspb.arith.UInt64.fromString=function(t){for(var e=new jspb.arith.UInt64(0,0),n=new jspb.arith.UInt64(0,0),i=0;i<t.length;i++){if("0">t[i]||"9"<t[i])return null;var o=parseInt(t[i],10);n.lo=o,e=e.mul(10).add(n)}return e},jspb.arith.UInt64.prototype.clone=function(){return new jspb.arith.UInt64(this.lo,this.hi)},jspb.arith.Int64=function(t,e){this.lo=t,this.hi=e},jspb.arith.Int64.prototype.add=function(t){return new jspb.arith.Int64((this.lo+t.lo&4294967295)>>>0>>>0,((this.hi+t.hi&4294967295)>>>0)+(4294967296<=this.lo+t.lo?1:0)>>>0)},jspb.arith.Int64.prototype.sub=function(t){return new jspb.arith.Int64((this.lo-t.lo&4294967295)>>>0>>>0,((this.hi-t.hi&4294967295)>>>0)-(0>this.lo-t.lo?1:0)>>>0)},jspb.arith.Int64.prototype.clone=function(){return new jspb.arith.Int64(this.lo,this.hi)},jspb.arith.Int64.prototype.toString=function(){var t=0!=(2147483648&this.hi),e=new jspb.arith.UInt64(this.lo,this.hi);return t&&(e=new jspb.arith.UInt64(0,0).sub(e)),(t?"-":"")+e.toString()},jspb.arith.Int64.fromString=function(t){var e=0<t.length&&"-"==t[0];return e&&(t=t.substring(1)),null===(t=jspb.arith.UInt64.fromString(t))?null:(e&&(t=new jspb.arith.UInt64(0,0).sub(t)),new jspb.arith.Int64(t.lo,t.hi))},jspb.BinaryEncoder=function(){this.buffer_=[]},jspb.BinaryEncoder.prototype.length=function(){return this.buffer_.length},jspb.BinaryEncoder.prototype.end=function(){var t=this.buffer_;return this.buffer_=[],t},jspb.BinaryEncoder.prototype.writeSplitVarint64=function(t,e){for(goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32);0<e||127<t;)this.buffer_.push(127&t|128),t=(t>>>7|e<<25)>>>0,e>>>=7;this.buffer_.push(t)},jspb.BinaryEncoder.prototype.writeSplitFixed64=function(t,e){goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.writeUint32(t),this.writeUint32(e)},jspb.BinaryEncoder.prototype.writeUnsignedVarint32=function(t){for(goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32);127<t;)this.buffer_.push(127&t|128),t>>>=7;this.buffer_.push(t)},jspb.BinaryEncoder.prototype.writeSignedVarint32=function(t){if(goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),0<=t)this.writeUnsignedVarint32(t);else{for(var e=0;9>e;e++)this.buffer_.push(127&t|128),t>>=7;this.buffer_.push(1)}},jspb.BinaryEncoder.prototype.writeUnsignedVarint64=function(t){goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitInt64(t),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeSignedVarint64=function(t){goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(t),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint32=function(t){goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeUnsignedVarint32((t<<1^t>>31)>>>0)},jspb.BinaryEncoder.prototype.writeZigzagVarint64=function(t){goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitZigzag64(t),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint64String=function(t){this.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(t))},jspb.BinaryEncoder.prototype.writeZigzagVarintHash64=function(t){var e=this;jspb.utils.splitHash64(t),jspb.utils.toZigzag64(jspb.utils.split64Low,jspb.utils.split64High,function(t,n){e.writeSplitVarint64(t>>>0,n>>>0)})},jspb.BinaryEncoder.prototype.writeUint8=function(t){goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(0<=t&&256>t),this.buffer_.push(t>>>0&255)},jspb.BinaryEncoder.prototype.writeUint16=function(t){goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(0<=t&&65536>t),this.buffer_.push(t>>>0&255),this.buffer_.push(t>>>8&255)},jspb.BinaryEncoder.prototype.writeUint32=function(t){goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.buffer_.push(t>>>0&255),this.buffer_.push(t>>>8&255),this.buffer_.push(t>>>16&255),this.buffer_.push(t>>>24&255)},jspb.BinaryEncoder.prototype.writeUint64=function(t){goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitUint64(t),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt8=function(t){goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(-128<=t&&128>t),this.buffer_.push(t>>>0&255)},jspb.BinaryEncoder.prototype.writeInt16=function(t){goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(-32768<=t&&32768>t),this.buffer_.push(t>>>0&255),this.buffer_.push(t>>>8&255)},jspb.BinaryEncoder.prototype.writeInt32=function(t){goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.buffer_.push(t>>>0&255),this.buffer_.push(t>>>8&255),this.buffer_.push(t>>>16&255),this.buffer_.push(t>>>24&255)},jspb.BinaryEncoder.prototype.writeInt64=function(t){goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(t),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt64String=function(t){goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(+t>=-jspb.BinaryConstants.TWO_TO_63&&+t<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(t)),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFloat=function(t){goog.asserts.assert(1/0===t||-1/0===t||isNaN(t)||t>=-jspb.BinaryConstants.FLOAT32_MAX&&t<=jspb.BinaryConstants.FLOAT32_MAX),jspb.utils.splitFloat32(t),this.writeUint32(jspb.utils.split64Low)},jspb.BinaryEncoder.prototype.writeDouble=function(t){goog.asserts.assert(1/0===t||-1/0===t||isNaN(t)||t>=-jspb.BinaryConstants.FLOAT64_MAX&&t<=jspb.BinaryConstants.FLOAT64_MAX),jspb.utils.splitFloat64(t),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeBool=function(t){goog.asserts.assert("boolean"==typeof t||"number"==typeof t),this.buffer_.push(t?1:0)},jspb.BinaryEncoder.prototype.writeEnum=function(t){goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32(t)},jspb.BinaryEncoder.prototype.writeBytes=function(t){this.buffer_.push.apply(this.buffer_,t)},jspb.BinaryEncoder.prototype.writeVarintHash64=function(t){jspb.utils.splitHash64(t),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFixedHash64=function(t){jspb.utils.splitHash64(t),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeString=function(t){for(var e=this.buffer_.length,n=0;n<t.length;n++){var i=t.charCodeAt(n);if(128>i)this.buffer_.push(i);else if(2048>i)this.buffer_.push(i>>6|192),this.buffer_.push(63&i|128);else if(65536>i)if(55296<=i&&56319>=i&&n+1<t.length){var o=t.charCodeAt(n+1);56320<=o&&57343>=o&&(this.buffer_.push((i=1024*(i-55296)+o-56320+65536)>>18|240),this.buffer_.push(i>>12&63|128),this.buffer_.push(i>>6&63|128),this.buffer_.push(63&i|128),n++)}else this.buffer_.push(i>>12|224),this.buffer_.push(i>>6&63|128),this.buffer_.push(63&i|128)}return this.buffer_.length-e},jspb.BinaryWriter=function(){this.blocks_=[],this.totalLength_=0,this.encoder_=new jspb.BinaryEncoder,this.bookmarks_=[]},jspb.BinaryWriter.prototype.appendUint8Array_=function(t){var e=this.encoder_.end();this.blocks_.push(e),this.blocks_.push(t),this.totalLength_+=e.length+t.length},jspb.BinaryWriter.prototype.beginDelimited_=function(t){return this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),t=this.encoder_.end(),this.blocks_.push(t),this.totalLength_+=t.length,t.push(this.totalLength_),t},jspb.BinaryWriter.prototype.endDelimited_=function(t){var e=t.pop();for(e=this.totalLength_+this.encoder_.length()-e,goog.asserts.assert(0<=e);127<e;)t.push(127&e|128),e>>>=7,this.totalLength_++;t.push(e),this.totalLength_++},jspb.BinaryWriter.prototype.writeSerializedMessage=function(t,e,n){this.appendUint8Array_(t.subarray(e,n))},jspb.BinaryWriter.prototype.maybeWriteSerializedMessage=function(t,e,n){null!=t&&null!=e&&null!=n&&this.writeSerializedMessage(t,e,n)},jspb.BinaryWriter.prototype.reset=function(){this.blocks_=[],this.encoder_.end(),this.totalLength_=0,this.bookmarks_=[]},jspb.BinaryWriter.prototype.getResultBuffer=function(){goog.asserts.assert(0==this.bookmarks_.length);for(var t=new Uint8Array(this.totalLength_+this.encoder_.length()),e=this.blocks_,n=e.length,i=0,o=0;o<n;o++){var r=e[o];t.set(r,i),i+=r.length}return e=this.encoder_.end(),t.set(e,i),goog.asserts.assert((i+=e.length)==t.length),this.blocks_=[t],t},jspb.BinaryWriter.prototype.getResultBase64String=function(t){return goog.crypt.base64.encodeByteArray(this.getResultBuffer(),t)},jspb.BinaryWriter.prototype.beginSubMessage=function(t){this.bookmarks_.push(this.beginDelimited_(t))},jspb.BinaryWriter.prototype.endSubMessage=function(){goog.asserts.assert(0<=this.bookmarks_.length),this.endDelimited_(this.bookmarks_.pop())},jspb.BinaryWriter.prototype.writeFieldHeader_=function(t,e){goog.asserts.assert(1<=t&&t==Math.floor(t)),this.encoder_.writeUnsignedVarint32(8*t+e)},jspb.BinaryWriter.prototype.writeAny=function(t,e,n){var i=jspb.BinaryConstants.FieldType;switch(t){case i.DOUBLE:this.writeDouble(e,n);break;case i.FLOAT:this.writeFloat(e,n);break;case i.INT64:this.writeInt64(e,n);break;case i.UINT64:this.writeUint64(e,n);break;case i.INT32:this.writeInt32(e,n);break;case i.FIXED64:this.writeFixed64(e,n);break;case i.FIXED32:this.writeFixed32(e,n);break;case i.BOOL:this.writeBool(e,n);break;case i.STRING:this.writeString(e,n);break;case i.GROUP:goog.asserts.fail("Group field type not supported in writeAny()");break;case i.MESSAGE:goog.asserts.fail("Message field type not supported in writeAny()");break;case i.BYTES:this.writeBytes(e,n);break;case i.UINT32:this.writeUint32(e,n);break;case i.ENUM:this.writeEnum(e,n);break;case i.SFIXED32:this.writeSfixed32(e,n);break;case i.SFIXED64:this.writeSfixed64(e,n);break;case i.SINT32:this.writeSint32(e,n);break;case i.SINT64:this.writeSint64(e,n);break;case i.FHASH64:this.writeFixedHash64(e,n);break;case i.VHASH64:this.writeVarintHash64(e,n);break;default:goog.asserts.fail("Invalid field type in writeAny()")}},jspb.BinaryWriter.prototype.writeUnsignedVarint32_=function(t,e){null!=e&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint32(e))},jspb.BinaryWriter.prototype.writeSignedVarint32_=function(t,e){null!=e&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(e))},jspb.BinaryWriter.prototype.writeUnsignedVarint64_=function(t,e){null!=e&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint64(e))},jspb.BinaryWriter.prototype.writeSignedVarint64_=function(t,e){null!=e&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint64(e))},jspb.BinaryWriter.prototype.writeZigzagVarint32_=function(t,e){null!=e&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint32(e))},jspb.BinaryWriter.prototype.writeZigzagVarint64_=function(t,e){null!=e&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64(e))},jspb.BinaryWriter.prototype.writeZigzagVarint64String_=function(t,e){null!=e&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64String(e))},jspb.BinaryWriter.prototype.writeZigzagVarintHash64_=function(t,e){null!=e&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarintHash64(e))},jspb.BinaryWriter.prototype.writeInt32=function(t,e){null!=e&&(goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(t,e))},jspb.BinaryWriter.prototype.writeInt32String=function(t,e){null!=e&&(e=parseInt(e,10),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(t,e))},jspb.BinaryWriter.prototype.writeInt64=function(t,e){null!=e&&(goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),this.writeSignedVarint64_(t,e))},jspb.BinaryWriter.prototype.writeInt64String=function(t,e){null!=e&&(e=jspb.arith.Int64.fromString(e),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(e.lo,e.hi))},jspb.BinaryWriter.prototype.writeUint32=function(t,e){null!=e&&(goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(t,e))},jspb.BinaryWriter.prototype.writeUint32String=function(t,e){null!=e&&(e=parseInt(e,10),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(t,e))},jspb.BinaryWriter.prototype.writeUint64=function(t,e){null!=e&&(goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),this.writeUnsignedVarint64_(t,e))},jspb.BinaryWriter.prototype.writeUint64String=function(t,e){null!=e&&(e=jspb.arith.UInt64.fromString(e),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(e.lo,e.hi))},jspb.BinaryWriter.prototype.writeSint32=function(t,e){null!=e&&(goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeZigzagVarint32_(t,e))},jspb.BinaryWriter.prototype.writeSint64=function(t,e){null!=e&&(goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),this.writeZigzagVarint64_(t,e))},jspb.BinaryWriter.prototype.writeSintHash64=function(t,e){null!=e&&this.writeZigzagVarintHash64_(t,e)},jspb.BinaryWriter.prototype.writeSint64String=function(t,e){null!=e&&this.writeZigzagVarint64String_(t,e)},jspb.BinaryWriter.prototype.writeFixed32=function(t,e){null!=e&&(goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeUint32(e))},jspb.BinaryWriter.prototype.writeFixed64=function(t,e){null!=e&&(goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeUint64(e))},jspb.BinaryWriter.prototype.writeFixed64String=function(t,e){null!=e&&(e=jspb.arith.UInt64.fromString(e),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(e.lo,e.hi))},jspb.BinaryWriter.prototype.writeSfixed32=function(t,e){null!=e&&(goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeInt32(e))},jspb.BinaryWriter.prototype.writeSfixed64=function(t,e){null!=e&&(goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeInt64(e))},jspb.BinaryWriter.prototype.writeSfixed64String=function(t,e){null!=e&&(e=jspb.arith.Int64.fromString(e),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(e.lo,e.hi))},jspb.BinaryWriter.prototype.writeFloat=function(t,e){null!=e&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeFloat(e))},jspb.BinaryWriter.prototype.writeDouble=function(t,e){null!=e&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeDouble(e))},jspb.BinaryWriter.prototype.writeBool=function(t,e){null!=e&&(goog.asserts.assert("boolean"==typeof e||"number"==typeof e),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeBool(e))},jspb.BinaryWriter.prototype.writeEnum=function(t,e){null!=e&&(goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(e))},jspb.BinaryWriter.prototype.writeString=function(t,e){null!=e&&(t=this.beginDelimited_(t),this.encoder_.writeString(e),this.endDelimited_(t))},jspb.BinaryWriter.prototype.writeBytes=function(t,e){null!=e&&(e=jspb.utils.byteSourceToUint8Array(e),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(e.length),this.appendUint8Array_(e))},jspb.BinaryWriter.prototype.writeMessage=function(t,e,n){null!=e&&(t=this.beginDelimited_(t),n(e,this),this.endDelimited_(t))},jspb.BinaryWriter.prototype.writeMessageSet=function(t,e,n){null!=e&&(this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.START_GROUP),this.writeFieldHeader_(2,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t),t=this.beginDelimited_(3),n(e,this),this.endDelimited_(t),this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeGroup=function(t,e,n){null!=e&&(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.START_GROUP),n(e,this),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeFixedHash64=function(t,e){null!=e&&(goog.asserts.assert(8==e.length),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeFixedHash64(e))},jspb.BinaryWriter.prototype.writeVarintHash64=function(t,e){null!=e&&(goog.asserts.assert(8==e.length),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeVarintHash64(e))},jspb.BinaryWriter.prototype.writeSplitFixed64=function(t,e,n){this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(e,n)},jspb.BinaryWriter.prototype.writeSplitVarint64=function(t,e,n){this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(e,n)},jspb.BinaryWriter.prototype.writeSplitZigzagVarint64=function(t,e,n){this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.VARINT);var i=this.encoder_;jspb.utils.toZigzag64(e,n,function(t,e){i.writeSplitVarint64(t>>>0,e>>>0)})},jspb.BinaryWriter.prototype.writeRepeatedInt32=function(t,e){if(null!=e)for(var n=0;n<e.length;n++)this.writeSignedVarint32_(t,e[n])},jspb.BinaryWriter.prototype.writeRepeatedInt32String=function(t,e){if(null!=e)for(var n=0;n<e.length;n++)this.writeInt32String(t,e[n])},jspb.BinaryWriter.prototype.writeRepeatedInt64=function(t,e){if(null!=e)for(var n=0;n<e.length;n++)this.writeSignedVarint64_(t,e[n])},jspb.BinaryWriter.prototype.writeRepeatedSplitFixed64=function(t,e,n,i){if(null!=e)for(var o=0;o<e.length;o++)this.writeSplitFixed64(t,n(e[o]),i(e[o]))},jspb.BinaryWriter.prototype.writeRepeatedSplitVarint64=function(t,e,n,i){if(null!=e)for(var o=0;o<e.length;o++)this.writeSplitVarint64(t,n(e[o]),i(e[o]))},jspb.BinaryWriter.prototype.writeRepeatedSplitZigzagVarint64=function(t,e,n,i){if(null!=e)for(var o=0;o<e.length;o++)this.writeSplitZigzagVarint64(t,n(e[o]),i(e[o]))},jspb.BinaryWriter.prototype.writeRepeatedInt64String=function(t,e){if(null!=e)for(var n=0;n<e.length;n++)this.writeInt64String(t,e[n])},jspb.BinaryWriter.prototype.writeRepeatedUint32=function(t,e){if(null!=e)for(var n=0;n<e.length;n++)this.writeUnsignedVarint32_(t,e[n])},jspb.BinaryWriter.prototype.writeRepeatedUint32String=function(t,e){if(null!=e)for(var n=0;n<e.length;n++)this.writeUint32String(t,e[n])},jspb.BinaryWriter.prototype.writeRepeatedUint64=function(t,e){if(null!=e)for(var n=0;n<e.length;n++)this.writeUnsignedVarint64_(t,e[n])},jspb.BinaryWriter.prototype.writeRepeatedUint64String=function(t,e){if(null!=e)for(var n=0;n<e.length;n++)this.writeUint64String(t,e[n])},jspb.BinaryWriter.prototype.writeRepeatedSint32=function(t,e){if(null!=e)for(var n=0;n<e.length;n++)this.writeZigzagVarint32_(t,e[n])},jspb.BinaryWriter.prototype.writeRepeatedSint64=function(t,e){if(null!=e)for(var n=0;n<e.length;n++)this.writeZigzagVarint64_(t,e[n])},jspb.BinaryWriter.prototype.writeRepeatedSint64String=function(t,e){if(null!=e)for(var n=0;n<e.length;n++)this.writeZigzagVarint64String_(t,e[n])},jspb.BinaryWriter.prototype.writeRepeatedSintHash64=function(t,e){if(null!=e)for(var n=0;n<e.length;n++)this.writeZigzagVarintHash64_(t,e[n])},jspb.BinaryWriter.prototype.writeRepeatedFixed32=function(t,e){if(null!=e)for(var n=0;n<e.length;n++)this.writeFixed32(t,e[n])},jspb.BinaryWriter.prototype.writeRepeatedFixed64=function(t,e){if(null!=e)for(var n=0;n<e.length;n++)this.writeFixed64(t,e[n])},jspb.BinaryWriter.prototype.writeRepeatedFixed64String=function(t,e){if(null!=e)for(var n=0;n<e.length;n++)this.writeFixed64String(t,e[n])},jspb.BinaryWriter.prototype.writeRepeatedSfixed32=function(t,e){if(null!=e)for(var n=0;n<e.length;n++)this.writeSfixed32(t,e[n])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64=function(t,e){if(null!=e)for(var n=0;n<e.length;n++)this.writeSfixed64(t,e[n])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64String=function(t,e){if(null!=e)for(var n=0;n<e.length;n++)this.writeSfixed64String(t,e[n])},jspb.BinaryWriter.prototype.writeRepeatedFloat=function(t,e){if(null!=e)for(var n=0;n<e.length;n++)this.writeFloat(t,e[n])},jspb.BinaryWriter.prototype.writeRepeatedDouble=function(t,e){if(null!=e)for(var n=0;n<e.length;n++)this.writeDouble(t,e[n])},jspb.BinaryWriter.prototype.writeRepeatedBool=function(t,e){if(null!=e)for(var n=0;n<e.length;n++)this.writeBool(t,e[n])},jspb.BinaryWriter.prototype.writeRepeatedEnum=function(t,e){if(null!=e)for(var n=0;n<e.length;n++)this.writeEnum(t,e[n])},jspb.BinaryWriter.prototype.writeRepeatedString=function(t,e){if(null!=e)for(var n=0;n<e.length;n++)this.writeString(t,e[n])},jspb.BinaryWriter.prototype.writeRepeatedBytes=function(t,e){if(null!=e)for(var n=0;n<e.length;n++)this.writeBytes(t,e[n])},jspb.BinaryWriter.prototype.writeRepeatedMessage=function(t,e,n){if(null!=e)for(var i=0;i<e.length;i++){var o=this.beginDelimited_(t);n(e[i],this),this.endDelimited_(o)}},jspb.BinaryWriter.prototype.writeRepeatedGroup=function(t,e,n){if(null!=e)for(var i=0;i<e.length;i++)this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.START_GROUP),n(e[i],this),this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.END_GROUP)},jspb.BinaryWriter.prototype.writeRepeatedFixedHash64=function(t,e){if(null!=e)for(var n=0;n<e.length;n++)this.writeFixedHash64(t,e[n])},jspb.BinaryWriter.prototype.writeRepeatedVarintHash64=function(t,e){if(null!=e)for(var n=0;n<e.length;n++)this.writeVarintHash64(t,e[n])},jspb.BinaryWriter.prototype.writePackedInt32=function(t,e){if(null!=e&&e.length){t=this.beginDelimited_(t);for(var n=0;n<e.length;n++)this.encoder_.writeSignedVarint32(e[n]);this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedInt32String=function(t,e){if(null!=e&&e.length){t=this.beginDelimited_(t);for(var n=0;n<e.length;n++)this.encoder_.writeSignedVarint32(parseInt(e[n],10));this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedInt64=function(t,e){if(null!=e&&e.length){t=this.beginDelimited_(t);for(var n=0;n<e.length;n++)this.encoder_.writeSignedVarint64(e[n]);this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedSplitFixed64=function(t,e,n,i){if(null!=e){t=this.beginDelimited_(t);for(var o=0;o<e.length;o++)this.encoder_.writeSplitFixed64(n(e[o]),i(e[o]));this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedSplitVarint64=function(t,e,n,i){if(null!=e){t=this.beginDelimited_(t);for(var o=0;o<e.length;o++)this.encoder_.writeSplitVarint64(n(e[o]),i(e[o]));this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedSplitZigzagVarint64=function(t,e,n,i){if(null!=e){t=this.beginDelimited_(t);for(var o=this.encoder_,r=0;r<e.length;r++)jspb.utils.toZigzag64(n(e[r]),i(e[r]),function(t,e){o.writeSplitVarint64(t>>>0,e>>>0)});this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedInt64String=function(t,e){if(null!=e&&e.length){t=this.beginDelimited_(t);for(var n=0;n<e.length;n++){var i=jspb.arith.Int64.fromString(e[n]);this.encoder_.writeSplitVarint64(i.lo,i.hi)}this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedUint32=function(t,e){if(null!=e&&e.length){t=this.beginDelimited_(t);for(var n=0;n<e.length;n++)this.encoder_.writeUnsignedVarint32(e[n]);this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedUint32String=function(t,e){if(null!=e&&e.length){t=this.beginDelimited_(t);for(var n=0;n<e.length;n++)this.encoder_.writeUnsignedVarint32(parseInt(e[n],10));this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedUint64=function(t,e){if(null!=e&&e.length){t=this.beginDelimited_(t);for(var n=0;n<e.length;n++)this.encoder_.writeUnsignedVarint64(e[n]);this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedUint64String=function(t,e){if(null!=e&&e.length){t=this.beginDelimited_(t);for(var n=0;n<e.length;n++){var i=jspb.arith.UInt64.fromString(e[n]);this.encoder_.writeSplitVarint64(i.lo,i.hi)}this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedSint32=function(t,e){if(null!=e&&e.length){t=this.beginDelimited_(t);for(var n=0;n<e.length;n++)this.encoder_.writeZigzagVarint32(e[n]);this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedSint64=function(t,e){if(null!=e&&e.length){t=this.beginDelimited_(t);for(var n=0;n<e.length;n++)this.encoder_.writeZigzagVarint64(e[n]);this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedSint64String=function(t,e){if(null!=e&&e.length){t=this.beginDelimited_(t);for(var n=0;n<e.length;n++)this.encoder_.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(e[n]));this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedSintHash64=function(t,e){if(null!=e&&e.length){t=this.beginDelimited_(t);for(var n=0;n<e.length;n++)this.encoder_.writeZigzagVarintHash64(e[n]);this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedFixed32=function(t,e){if(null!=e&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*e.length),t=0;t<e.length;t++)this.encoder_.writeUint32(e[t])},jspb.BinaryWriter.prototype.writePackedFixed64=function(t,e){if(null!=e&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*e.length),t=0;t<e.length;t++)this.encoder_.writeUint64(e[t])},jspb.BinaryWriter.prototype.writePackedFixed64String=function(t,e){if(null!=e&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*e.length),t=0;t<e.length;t++){var n=jspb.arith.UInt64.fromString(e[t]);this.encoder_.writeSplitFixed64(n.lo,n.hi)}},jspb.BinaryWriter.prototype.writePackedSfixed32=function(t,e){if(null!=e&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*e.length),t=0;t<e.length;t++)this.encoder_.writeInt32(e[t])},jspb.BinaryWriter.prototype.writePackedSfixed64=function(t,e){if(null!=e&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*e.length),t=0;t<e.length;t++)this.encoder_.writeInt64(e[t])},jspb.BinaryWriter.prototype.writePackedSfixed64String=function(t,e){if(null!=e&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*e.length),t=0;t<e.length;t++)this.encoder_.writeInt64String(e[t])},jspb.BinaryWriter.prototype.writePackedFloat=function(t,e){if(null!=e&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*e.length),t=0;t<e.length;t++)this.encoder_.writeFloat(e[t])},jspb.BinaryWriter.prototype.writePackedDouble=function(t,e){if(null!=e&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*e.length),t=0;t<e.length;t++)this.encoder_.writeDouble(e[t])},jspb.BinaryWriter.prototype.writePackedBool=function(t,e){if(null!=e&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(e.length),t=0;t<e.length;t++)this.encoder_.writeBool(e[t])},jspb.BinaryWriter.prototype.writePackedEnum=function(t,e){if(null!=e&&e.length){t=this.beginDelimited_(t);for(var n=0;n<e.length;n++)this.encoder_.writeEnum(e[n]);this.endDelimited_(t)}},jspb.BinaryWriter.prototype.writePackedFixedHash64=function(t,e){if(null!=e&&e.length)for(this.writeFieldHeader_(t,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*e.length),t=0;t<e.length;t++)this.encoder_.writeFixedHash64(e[t])},jspb.BinaryWriter.prototype.writePackedVarintHash64=function(t,e){if(null!=e&&e.length){t=this.beginDelimited_(t);for(var n=0;n<e.length;n++)this.encoder_.writeVarintHash64(e[n]);this.endDelimited_(t)}},jspb.Export={},exports.Map=jspb.Map,exports.Message=jspb.Message,exports.BinaryReader=jspb.BinaryReader,exports.BinaryWriter=jspb.BinaryWriter,exports.ExtensionFieldInfo=jspb.ExtensionFieldInfo,exports.ExtensionFieldBinaryInfo=jspb.ExtensionFieldBinaryInfo,exports.exportSymbol=goog.exportSymbol,exports.inherits=goog.inherits,exports.object={extend:goog.object.extend},exports.typeOf=goog.typeOf},7322:function(t){function e(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}var n="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},i=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function o(t,e){if(e){var o=i;t=t.split(".");for(var r=0;r<t.length-1;r++){var s=t[r];s in o||(o[s]={}),o=o[s]}(e=e(r=o[t=t[t.length-1]]))!=r&&null!=e&&n(o,t,{configurable:!0,writable:!0,value:e})}}function r(t){var n="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return n?n.call(t):{next:e(t)}}o("Object.is",function(t){return t||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}}),o("Array.prototype.includes",function(t){return t||function(t,e){var n=this;n instanceof String&&(n=String(n));var i=n.length;for(0>(e=e||0)&&(e=Math.max(e+i,0));e<i;e++){var o=n[e];if(o===t||Object.is(o,t))return!0}return!1}}),o("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function n(){this.a=null}function o(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var s=i.setTimeout;n.prototype.c=function(t){s(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(i){this.f(i)}}}this.a=null},n.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(i){n||(n=!0,t.call(e,i))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.o(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.l(t):this.h(t)}},e.prototype.l=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.j()},e.prototype.j=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new n;return e.prototype.o=function(t){var e=this.f();t.w(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(i){n.reject(i)}},e.prototype.then=function(t,n){function i(t,e){return"function"==typeof t?function(e){try{o(t(e))}catch(n){r(n)}}:e}var o,r,s=new e(function(t,e){o=t,r=e});return this.w(i(t,o),i(n,r)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.w=function(t,e){function n(){switch(i.b){case 1:t(i.c);break;case 2:e(i.c);break;default:throw Error("Unexpected state: "+i.b)}}var i=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var i=r(t),s=i.next();!s.done;s=i.next())o(s.value).w(e,n)})},e.all=function(t){var n=r(t),i=n.next();return i.done?o([]):new e(function(t,e){function r(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,o(i.value).w(r(s.length-1),e),i=n.next()}while(!i.done)})},e});var s=s||{},a=this||self;function l(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function c(){}function u(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function h(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var d="closure_uid_"+(1e9*Math.random()>>>0),p=0;function g(t,e,n){return t.call.apply(t.bind,arguments)}function m(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function f(t,e,n){return(f=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:m).apply(null,arguments)}var _=Date.now||function(){return+new Date};function b(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function v(){this.a={}}function y(t,e,n,i){this.f=t,this.c=e,this.b=n,this.a=i}function C(t,e,n,i){n=void 0===n?{}:n,this.c=t,this.a=n,this.b=e,this.f=void 0===i?null:i}function O(t,e,n,i,o,r){this.name=t,this.a=o,this.b=r}function T(t,e,n){n=void 0===n?{}:n;var i=void 0===i?new v:i;return new y(e,t,n,i)}function E(t,e,n,i){return i instanceof O?i:new O(t,n,i.b||e.constructor,i.f,i.a,i.c)}function S(t){this.a=t}function w(t){switch(t){case 0:return"No Error";case 1:return"Access denied to content document";case 2:return"File not found";case 3:return"Firefox silently errored";case 4:return"Application custom error";case 5:return"An exception occurred";case 6:return"Http response at 400 or 500 level";case 7:return"Request was aborted";case 8:return"Request timed out";case 9:return"The resource is not available offline";default:return"Unrecognized error code"}}function M(t){if(Error.captureStackTrace)Error.captureStackTrace(this,M);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function x(t,e){for(var n="",i=(t=t.split("%s")).length-1,o=0;o<i;o++)n+=t[o]+(o<e.length?e[o]:"%s");M.call(this,n+t[i])}function P(){this.j=null,this.i=[],this.l=0,this.b=k,this.f=this.a=this.h=0,this.c=null,this.g=0}v.prototype.get=function(t){return this.a[t]},v.prototype.f=function(){return Object.keys(this.a)},y.prototype.getRequestMessage=function(){return this.f},y.prototype.getMethodDescriptor=function(){return this.c},y.prototype.getMetadata=function(){return this.b},y.prototype.getCallOptions=function(){return this.a},C.prototype.getResponseMessage=function(){return this.c},C.prototype.getMetadata=function(){return this.a},C.prototype.getMethodDescriptor=function(){return this.b},C.prototype.getStatus=function(){return this.f},S.prototype.on=function(t,e){return"data"==t||"error"==t?this:this.a.on(t,e)},S.prototype.removeListener=function(t,e){return this.a.removeListener(t,e)},S.prototype.cancel=function(){this.a.cancel()},b(M,Error),M.prototype.name="CustomError",b(x,M),x.prototype.name="AssertionError";var k=0,I=128;function A(t,e,n,i){throw t.b=3,t.j="The stream is broken @"+t.l+"/"+n+". Error: "+i+". With input:\n"+e,Error(t.j)}var R,D=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},L=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function N(t,e){return-1!=t.indexOf(e)}function B(t,e){return t<e?-1:t>e?1:0}t:{var F=a.navigator;if(F){var U=F.userAgent;if(U){R=U;break t}}R=""}var V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(t){var e=1;t=t.split(":");for(var n=[];0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function j(t){return j[" "](t),t}j[" "]=c;var H,z,W=N(R,"Opera"),Z=N(R,"Trident")||N(R,"MSIE"),Y=N(R,"Edge"),q=N(R,"Gecko")&&!(N(R.toLowerCase(),"webkit")&&!N(R,"Edge"))&&!(N(R,"Trident")||N(R,"MSIE"))&&!N(R,"Edge"),J=N(R.toLowerCase(),"webkit")&&!N(R,"Edge");function $(){var t=a.document;return t?t.documentMode:void 0}t:{var K="",X=(z=R,q?/rv:([^\);]+)(\)|;)/.exec(z):Y?/Edge\/([\d\.]+)/.exec(z):Z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(z):J?/WebKit\/(\S+)/.exec(z):W?/(?:Version)[ \/]?(\S+)/.exec(z):void 0);if(X&&(K=X?X[1]:""),Z){var Q=$();if(null!=Q&&Q>parseFloat(K)){H=String(Q);break t}}H=K}var tt={};function et(t){return function(t,e){var n=tt;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=L(String(H)).split("."),i=L(String(t)).split("."),o=Math.max(n.length,i.length),r=0;0==e&&r<o;r++){var s=n[r]||"",a=i[r]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=B(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||B(0==s[2].length,0==a[2].length)||B(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var nt=a.document&&Z&&($()||parseInt(H,10))||void 0;function it(){0!=ot&&(Object.prototype.hasOwnProperty.call(this,d)&&this[d]||(this[d]=++p)),this.F=this.F}var ot=0;it.prototype.F=!1;var rt,st=Object.freeze||function(t){return t};(rt=!Z)||(rt=9<=Number(nt));var at=rt,lt=Z&&!et("9"),ct=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",c,e),a.removeEventListener("test",c,e)}catch(n){}return t}();function ut(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function ht(t,e){if(ut.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(q){t:{try{j(e.nodeName);var o=!0;break t}catch(r){}o=!1}o||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:dt[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ut.prototype.b=function(){this.defaultPrevented=!0},b(ht,ut);var dt=st({2:"touch",3:"pen",4:"mouse"});ht.prototype.b=function(){ht.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,lt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var pt="closure_listenable_"+(1e6*Math.random()|0),gt=0;function mt(t,e,n,i,o){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.A=o,this.key=++gt,this.s=this.v=!1}function ft(t){t.s=!0,t.listener=null,t.proxy=null,t.src=null,t.A=null}function _t(t){this.src=t,this.a={},this.b=0}function bt(t,e){var n=e.type;if(n in t.a){var i,o=t.a[n],r=D(o,e);(i=0<=r)&&Array.prototype.splice.call(o,r,1),i&&(ft(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function vt(t,e,n,i){for(var o=0;o<t.length;++o){var r=t[o];if(!r.s&&r.listener==e&&r.capture==!!n&&r.A==i)return o}return-1}_t.prototype.add=function(t,e,n,i,o){var r=t.toString();(t=this.a[r])||(t=this.a[r]=[],this.b++);var s=vt(t,e,i,o);return-1<s?(e=t[s],n||(e.v=!1)):((e=new mt(e,this.src,r,!!i,o)).v=n,t.push(e)),e};var yt="closure_lm_"+(1e6*Math.random()|0),Ct={};function Ot(t,e,n,i,o){if(i&&i.once)Et(t,e,n,i,o);else if(Array.isArray(e))for(var r=0;r<e.length;r++)Ot(t,e[r],n,i,o);else n=Rt(n),t&&t[pt]?t.f.add(String(e),n,!1,h(i)?!!i.capture:!!i,o):Tt(t,e,n,!1,i,o)}function Tt(t,e,n,i,o,r){if(!e)throw Error("Invalid event type");var s=h(o)?!!o.capture:!!o,a=It(t);if(a||(t[yt]=a=new _t(t)),!(n=a.add(e,n,i,s,r)).proxy)if(i=function(){var t=kt,e=at?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)ct||(o=s),void 0===o&&(o=!1),t.addEventListener(e.toString(),i,o);else if(t.attachEvent)t.attachEvent(Mt(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}}function Et(t,e,n,i,o){if(Array.isArray(e))for(var r=0;r<e.length;r++)Et(t,e[r],n,i,o);else n=Rt(n),t&&t[pt]?t.f.add(String(e),n,!0,h(i)?!!i.capture:!!i,o):Tt(t,e,n,!0,i,o)}function St(t,e,n,i,o){if(Array.isArray(e))for(var r=0;r<e.length;r++)St(t,e[r],n,i,o);else i=h(i)?!!i.capture:!!i,n=Rt(n),t&&t[pt]?(t=t.f,(e=String(e).toString())in t.a&&-1<(n=vt(r=t.a[e],n,i,o))&&(ft(r[n]),Array.prototype.splice.call(r,n,1),0==r.length&&(delete t.a[e],t.b--))):t&&(t=It(t))&&(e=t.a[e.toString()],t=-1,e&&(t=vt(e,n,i,o)),(n=-1<t?e[t]:null)&&wt(n))}function wt(t){if("number"!=typeof t&&t&&!t.s){var e=t.src;if(e&&e[pt])bt(e.f,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(Mt(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=It(e))?(bt(n,t),0==n.b&&(n.src=null,e[yt]=null)):ft(t)}}}function Mt(t){return t in Ct?Ct[t]:Ct[t]="on"+t}function xt(t,e,n,i){var o=!0;if((t=It(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var r=e[t];r&&r.capture==n&&!r.s&&(r=Pt(r,i),o=o&&!1!==r)}return o}function Pt(t,e){var n=t.listener,i=t.A||t.src;return t.v&&wt(t),n.call(i,e)}function kt(t,e){if(t.s)return!0;if(!at){var n=e||l("window.event");e=new ht(n,this);var i=!0;if(!(0>n.keyCode||null!=n.returnValue)){t:{var o=!1;if(0==n.keyCode)try{n.keyCode=-1;break t}catch(s){o=!0}(o||null==n.returnValue)&&(n.returnValue=!0)}for(n=[],o=e.a;o;o=o.parentNode)n.push(o);for(t=t.type,o=n.length-1;0<=o;o--){e.a=n[o];var r=xt(n[o],t,!0,e);i=i&&r}for(o=0;o<n.length;o++)e.a=n[o],r=xt(n[o],t,!1,e),i=i&&r}return i}return Pt(t,new ht(e,this))}function It(t){return(t=t[yt])instanceof _t?t:null}var At="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rt(t){return"function"==u(t)?t:(t[At]||(t[At]=function(e){return t.handleEvent(e)}),t[At])}function Dt(){it.call(this),this.f=new _t(this),this.N=this}function Lt(t,e){t=t.N;var n=e.type||e;if("string"==typeof e)e=new ut(e,t);else if(e instanceof ut)e.target=e.target||t;else{var i=e;!function(t,e){for(var n,i,o=1;o<arguments.length;o++){for(n in i=arguments[o])t[n]=i[n];for(var r=0;r<V.length;r++)n=V[r],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}(e=new ut(n,t),i)}Nt(t=e.a=t,n,!0,e),Nt(t,n,!1,e)}function Nt(t,e,n,i){if(e=t.f.a[String(e)]){e=e.concat();for(var o=!0,r=0;r<e.length;++r){var s=e[r];if(s&&!s.s&&s.capture==n){var a=s.listener,l=s.A||s.src;s.v&&bt(t.f,s),o=!1!==a.call(l,i)&&o}}}}function Bt(t,e,n){if("function"==u(t))n&&(t=f(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=f(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function Ft(t,e,n){this.reset(t,e,n,void 0,void 0)}function Ut(t){this.f=t,this.b=this.c=this.a=null}function Vt(t,e){this.name=t,this.value=e}b(Dt,it),Dt.prototype[pt]=!0,Dt.prototype.addEventListener=function(t,e,n,i){Ot(this,t,e,n,i)},Dt.prototype.removeEventListener=function(t,e,n,i){St(this,t,e,n,i)},Ft.prototype.a=null,Ft.prototype.reset=function(t,e,n,i,o){i||_(),delete this.a},Vt.prototype.toString=function(){return this.name};var Gt=new Vt("SEVERE",1e3),jt=new Vt("CONFIG",700),Ht=new Vt("FINE",500);function zt(t){return t.c?t.c:t.a?zt(t.a):(function(t,e){throw new x("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}("Root logger has no level set."),null)}Ut.prototype.log=function(t,e,n){if(t.value>=zt(this).value)for("function"==u(e)&&(e=e()),t=new Ft(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var Wt,Zt={},Yt=null;function qt(t,e){t&&t.log(Ht,e,void 0)}function Jt(){}function $t(){}function Kt(t){if(!t.b&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var i=e[n];try{return new ActiveXObject(i),t.b=i}catch(o){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.b}function Xt(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else t&&te(this,t)}function Qt(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];ee(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){var o={};for(n=e=0;e<t.a.length;)ee(o,i=t.a[e])||(t.a[n++]=i,o[i]=1),e++;t.a.length=n}}function te(t,e){if(e instanceof Xt)for(var n=e.f(),i=0;i<n.length;i++)t.set(n[i],e.get(n[i]));else for(n in e)t.set(n,e[n])}function ee(t,e){return Object.prototype.hasOwnProperty.call(t,e)}Jt.prototype.a=null,b($t,Jt),Wt=new $t,Xt.prototype.f=function(){return Qt(this),this.a.concat()},Xt.prototype.get=function(t,e){return ee(this.b,t)?this.b[t]:e},Xt.prototype.set=function(t,e){ee(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Xt.prototype.forEach=function(t,e){for(var n=this.f(),i=0;i<n.length;i++){var o=n[i],r=this.get(o);t.call(e,r,o,this)}};var ne=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ie(t){Dt.call(this),this.headers=new Xt,this.D=t||null,this.c=!1,this.C=this.a=null,this.J=this.o="",this.g=0,this.i="",this.h=this.I=this.m=this.G=!1,this.l=0,this.u=null,this.j=oe,this.B=this.H=!1}b(ie,Dt);var oe="",re=ie.prototype,se=function t(e){var n;if(Yt||(Yt=new Ut(""),Zt[""]=Yt,Yt.c=jt),!(n=Zt[e])){n=new Ut(e);var i=e.lastIndexOf("."),o=e.substr(i+1);(i=t(e.substr(0,i))).b||(i.b={}),i.b[o]=n,n.a=i,Zt[e]=n}return n}("goog.net.XhrIo");re.b=se;var ae=/^https?$/i,le=["POST","PUT"];function ce(t){return"content-type"==t.toLowerCase()}function ue(t,e){t.c=!1,t.a&&(t.h=!0,t.a.abort(),t.h=!1),t.i=e,t.g=5,he(t),pe(t)}function he(t){t.G||(t.G=!0,Lt(t,"complete"),Lt(t,"error"))}function de(t){if(t.c&&void 0!==s)if(t.C[1]&&4==me(t)&&2==t.getStatus())qt(t.b,_e(t,"Local request error detected and ignored"));else if(t.m&&4==me(t))Bt(t.K,0,t);else if(Lt(t,"readystatechange"),4==me(t)){qt(t.b,_e(t,"Request complete")),t.c=!1;try{var e,n=t.getStatus();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var o;if(o=0===n){var r=String(t.o).match(ne)[1]||null;if(!r&&a.self&&a.self.location){var l=a.self.location.protocol;r=l.substr(0,l.length-1)}o=!ae.test(r?r.toLowerCase():"")}e=o}if(e)Lt(t,"complete"),Lt(t,"success");else{t.g=6;try{var c=2<me(t)?t.a.statusText:""}catch(u){qt(t.b,"Can not get status: "+u.message),c=""}t.i=c+" ["+t.getStatus()+"]",he(t)}}finally{pe(t)}}}function pe(t){if(t.a){ge(t);var e=t.a,n=t.C[0]?c:null;t.a=null,t.C=null,Lt(t,"ready");try{e.onreadystatechange=n}catch(i){(t=t.b)&&t.log(Gt,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function ge(t){t.a&&t.B&&(t.a.ontimeout=null),t.u&&(a.clearTimeout(t.u),t.u=null)}function me(t){return t.a?t.a.readyState:0}function fe(t,e){if(t.a&&4==me(t))return null===(t=t.a.getResponseHeader(e))?void 0:t}function _e(t,e){return e+" ["+t.J+" "+t.o+" "+t.getStatus()+"]"}ie.prototype.L=function(){void 0!==s&&this.a&&(this.i="Timed out after "+this.l+"ms, aborting",this.g=8,qt(this.b,_e(this,this.i)),Lt(this,"timeout"),this.abort(8))},ie.prototype.abort=function(t){this.a&&this.c&&(qt(this.b,_e(this,"Aborting")),this.c=!1,this.h=!0,this.a.abort(),this.h=!1,this.g=t||7,Lt(this,"complete"),Lt(this,"abort"),pe(this))},ie.prototype.K=function(){this.F||(this.I||this.m||this.h?de(this):this.O())},ie.prototype.O=function(){de(this)},ie.prototype.getStatus=function(){try{return 2<me(this)?this.a.status:-1}catch(z){return-1}};var be={},ve=null;function ye(){if(!ve){ve={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var i=t.concat(e[n].split(""));be[n]=i;for(var o=0;o<i.length;o++){var r=i[o];void 0===ve[r]&&(ve[r]=o)}}}}var Ce=["content-type","grpc-status","grpc-message"];function Oe(t){this.a=t.T,this.l=null,this.b=[],this.h=[],this.g=[],this.f=[],this.c=[],this.j=!1,this.i=0,this.m=new P;var e=this;Ot(this.a,"readystatechange",function(){var t=e.a;if(t=t.a?t.a.getResponseHeader("Content-Type"):null){if(0==(t=t.toLowerCase()).lastIndexOf("application/grpc-web-text",0)){t=e.a;try{var n=t.a?t.a.responseText:""}catch(l){qt(t.b,"Can not get responseText: "+l.message),n=""}if(0==(t=(t=n||"").substr(e.i,(n=t.length-t.length%4)-e.i)).length)return;e.i=n,t=function(t){var e=t.length,n=3*e/4;n%3?n=Math.floor(n):N("=.",t[e-1])&&(n=N("=.",t[e-2])?n-2:n-1);var i=new Uint8Array(n),o=0;return function(t,e){function n(e){for(;i<t.length;){var n=t.charAt(i++),o=ve[n];if(null!=o)return o;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}ye();for(var i=0;;){var o=n(-1),r=n(0),s=n(64),a=n(64);if(64===a&&-1===o)break;e(o<<2|r>>4),64!=s&&(e(r<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,function(t){i[o++]=t}),i.subarray(0,o)}(t)}else{if(0!=t.lastIndexOf("application/grpc",0))return void Ee(e,{code:2,message:"Unknown Content-type received.",metadata:{}});t=new Uint8Array(function(e){try{if(!e.a)return null;if("response"in e.a)return e.a.response;switch(e.j){case oe:case"text":return e.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.a)return e.a.mozResponseArrayBuffer}var n=e.b;return n&&n.log(Gt,"Response type "+e.j+" is not supported on this browser",void 0),null}catch(t){return qt(e.b,"Can not get response: "+t.message),null}}(e.a))}n=null;try{n=function(t,e){function n(t){a.f++,a.a=(a.a<<8)+t,4==a.f&&(a.b=2,a.g=0,a.c="undefined"!=typeof Uint8Array?new Uint8Array(a.a):Array(a.a),0==a.a&&o())}function i(t){a.c[a.g++]=t,a.g==a.a&&o()}function o(){var t={};t[a.h]=a.c,a.i.push(t),a.b=k}var r,s,a=t,l=0;for(r=e instanceof Uint8Array||e instanceof Array?e:new Uint8Array(e);l<r.length;){switch(a.b){case 3:A(a,r,l,"stream already broken");break;case k:0==(s=r[l])||s==I?a.h=s:A(a,r,l,"invalid frame byte"),a.b=1,a.a=0,a.f=0;break;case 1:n(r[l]);break;case 2:i(r[l]);break;default:throw Error("unexpected parser state: "+a.b)}a.l++,l++}return t=a.i,a.i=[],0<t.length?t:null}(e.m,t)}catch(l){Ee(e,{code:2,message:"Error in parsing response body",metadata:{}})}if(n)for(t=0;t<n.length;t++){if(0 in n[t]){var i=n[t][0];if(i)try{var o=e.l(i);if(o){i=e;for(var r=o,s=0;s<i.b.length;s++)i.b[s](r)}}catch(l){Ee(e,{code:2,message:"Error in response deserializer function.",metadata:{}})}}if(I in n[t]&&0<n[t][I].length){for(i="",r=0;r<n[t][I].length;r++)i+=String.fromCharCode(n[t][I][r]);for(i=i.trim().split("\r\n"),r={},s=0;s<i.length;s++){var a=i[s].indexOf(":");r[i[s].substring(0,a).trim()]=i[s].substring(a+1).trim()}i=r,r=0,s="","grpc-status"in i&&(r=i["grpc-status"],delete i["grpc-status"]),"grpc-message"in i&&(s=i["grpc-message"],delete i["grpc-message"]),Ee(e,{code:Number(r),message:s,metadata:i})}}}}),Ot(this.a,"complete",function(){var t=e.a.g,n="",i={},o=function(t){var e={};t=(t.a&&4==me(t)&&t.a.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<t.length;n++)if(!/^[\s\xa0]*$/.test(t[n])){var i=G(t[n]),o=i[0];if("string"==typeof(i=i[1])){i=i.trim();var r=e[o]||[];e[o]=r,r.push(i)}}return function(t,e){var n,i={};for(n in t)i[n]=e.call(void 0,t[n],n,t);return i}(e,function(t){return t.join(", ")})}(e.a);if(Object.keys(o).forEach(function(t){Ce.includes(t)||(i[t]=o[t])}),function(t,e){for(var n=0;n<t.g.length;n++)t.g[n](e)}(e,i),0!=t){switch(t){case 7:var r=10;break;case 8:r=4;break;case 6:r=function(t){switch(t){case 200:return 0;case 400:return 3;case 401:return 16;case 403:return 7;case 404:return 5;case 409:return 10;case 412:return 9;case 429:return 8;case 499:return 1;case 500:return 2;case 501:return 12;case 503:return 14;case 504:return 4;default:return 2}}(e.a.getStatus());break;default:r=14}10==r&&e.j||Ee(e,{code:r,message:w(t),metadata:{}})}else t=!1,"grpc-status"in o&&(r=fe(e.a,"grpc-status"),"grpc-message"in o&&(n=fe(e.a,"grpc-message")),0!=Number(r)&&(Ee(e,{code:Number(r),message:n,metadata:o}),t=!0)),t||function(t){for(var e=0;e<t.c.length;e++)t.c[e]()}(e)})}function Te(t,e){-1<(e=t.indexOf(e))&&t.splice(e,1)}function Ee(t,e){if(0!=e.code)for(var n={code:e.code,message:decodeURIComponent(e.message||""),metadata:e.metadata},i=0;i<t.f.length;i++)t.f[i](n);for(e={code:e.code,details:decodeURIComponent(e.message||""),metadata:e.metadata},n=0;n<t.h.length;n++)t.h[n](e)}function Se(t){this.a=l("format",t)||"text",this.f=l("suppressCorsPreflight",t)||!1,this.c=l("withCredentials",t)||!1,this.b=l("streamInterceptors",t)||[],this.g=l("unaryInterceptors",t)||[]}function we(t,e,n){var i=e.getMethodDescriptor(),o=n+i.name;(n=new ie).H=t.c;var r=new Oe({T:n});if(r.l=i.b,te(n.headers,e.getMetadata()),"text"==t.a?(n.headers.set("Content-Type","application/grpc-web-text"),n.headers.set("Accept","application/grpc-web-text")):n.headers.set("Content-Type","application/grpc-web+proto"),n.headers.set("X-User-Agent","grpc-web-javascript/0.1"),n.headers.set("X-Grpc-Web","1"),ee(n.headers.b,"deadline")){var s=n.headers.get("deadline");s=Math.round(s-(new Date).getTime());var l=n.headers;ee(l.b,"deadline")&&(delete l.b.deadline,l.c--,l.a.length>2*l.c&&Qt(l)),1/0===s&&(s=0),0<s&&n.headers.set("grpc-timeout",s+"m")}if(t.f){Qt(l=n.headers),s={};for(var c=0;c<l.a.length;c++){var u=l.a[c];s[u]=l.b[u]}(l=n.headers).b={},l.a.length=0,l.c=0;t:{for(h in s){var h=!1;break t}h=!0}h||(s=function(t){var e="";return function(t,e){for(var n in t)e.call(void 0,t[n],n,t)}(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(s),"string"==typeof o?(h=encodeURIComponent("$httpHeaders"),(h+=s=null!=s?"="+encodeURIComponent(String(s)):"")&&(0>(s=o.indexOf("#"))&&(s=o.length),0>(l=o.indexOf("?"))||l>s?(l=s,c=""):c=o.substring(l+1,s),s=(o=[o.substr(0,l),c,o.substr(s)])[1],o[1]=h?s?s+"&"+h:h:s,o=o[0]+(o[1]?"?"+o[1]:"")+o[2])):o.a("$httpHeaders",s))}for(i=(e=(0,i.a)(e.getRequestMessage())).length,h=[0,0,0,0],s=new Uint8Array(5+i),l=3;0<=l;l--)h[l]=i%256,i>>>=8;if(s.set(new Uint8Array(h),1),s.set(e,5),e=s,"text"==t.a){var d;for(t=e,void 0===d&&(d=0),ye(),d=be[d],e=[],i=0;i<t.length;i+=3){var p=(h=i+1<t.length)?t[i+1]:0;l=(u=t[i])>>2,u=(3&u)<<4|p>>4,p=(15&p)<<2|(c=(s=i+2<t.length)?t[i+2]:0)>>6,c&=63,s||(c=64,h||(p=64)),e.push(d[l],d[u],d[p]||"",d[c]||"")}e=e.join("")}else"binary"==t.a&&(n.j="arraybuffer");return function(t,e,n){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.o+"; newUri="+e);t.o=e,t.i="",t.g=0,t.J="POST",t.G=!1,t.c=!0,t.a=function(t){return(t=Kt(t))?new ActiveXObject(t):new XMLHttpRequest}(t.D?t.D:Wt),t.C=function(t){var e;return(e=t.a)||(e={},Kt(t)&&(e[0]=!0,e[1]=!0),e=t.a=e),e}(t.D?t.D:Wt),t.a.onreadystatechange=f(t.K,t);try{qt(t.b,_e(t,"Opening Xhr")),t.I=!0,t.a.open("POST",String(e),!0),t.I=!1}catch(r){return qt(t.b,_e(t,"Error opening Xhr: "+r.message)),void ue(t,r)}e=n||"";var i=function(t){t:{for(var e=ce,n=t.length,i="string"==typeof t?t.split(""):t,o=0;o<n;o++)if(o in i&&e.call(void 0,i[o],o,t)){e=o;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}((n=new Xt(t.headers)).f()),o=a.FormData&&e instanceof a.FormData;!(0<=D(le,"POST"))||i||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),n.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.j&&(t.a.responseType=t.j),"withCredentials"in t.a&&t.a.withCredentials!==t.H&&(t.a.withCredentials=t.H);try{ge(t),0<t.l&&(t.B=function(t){return Z&&et(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),qt(t.b,_e(t,"Will abort after "+t.l+"ms if incomplete, xhr2 "+t.B)),t.B?(t.a.timeout=t.l,t.a.ontimeout=f(t.L,t)):t.u=Bt(t.L,t.l,t)),qt(t.b,_e(t,"Sending request")),t.m=!0,t.a.send(e),t.m=!1}catch(r){qt(t.b,_e(t,"Send error: "+r.message)),ue(t,r)}}(n,o,e),r}function Me(t,e,n){var i=null,o=!1;t.on("data",function(t){i=t}),t.on("error",function(t){0==t.code||o||(o=!0,e(t,null))}),t.on("status",function(t){0==t.code||o?n&&e(null,null,t):(o=!0,e({code:t.code,message:t.details,metadata:t.metadata},null))}),n&&t.on("metadata",function(t){e(null,null,null,t)}),t.on("end",function(){o||(null==i?e({code:2,message:"Incomplete response"}):e(null,i)),n&&e(null,null)})}function xe(t,e){var n=t;return e.forEach(function(t){var e=n;n=function(n){return t.intercept(n,e)}}),n}Oe.prototype.on=function(t,e){return"data"==t?this.b.push(e):"status"==t?this.h.push(e):"metadata"==t?this.g.push(e):"end"==t?this.c.push(e):"error"==t&&this.f.push(e),this},Oe.prototype.removeListener=function(t,e){return"data"==t?Te(this.b,e):"status"==t?Te(this.h,e):"metadata"==t?Te(this.g,e):"end"==t?Te(this.c,e):"error"==t&&Te(this.f,e),this},Oe.prototype.cancel=Oe.prototype.cancel=function(){this.j=!0,this.a.abort()},Oe.prototype.removeListener=Oe.prototype.removeListener,Oe.prototype.on=Oe.prototype.on,Se.prototype.P=function(t,e,n,i,o){var r=this;i=E(t,e,"unary",i);var s=t.substr(0,t.length-i.name.length);return Me(t=xe(function(t){return we(r,t,s)},this.b).call(this,T(i,e,n)),o,!1),new S(t)},Se.prototype.M=function(t,e,n,i){var o=this;i=E(t,e,"unary",i);var r=t.substr(0,t.length-i.name.length);return xe(function(t){return new Promise(function(e,n){var i,s,a;Me(we(o,t,r),function(o,r,l,c){o?n(o):r?a=r:l?s=l:c?i=c:(o=t.getMethodDescriptor(),e(new C(a,o,r=void 0===(r=i)?{}:r,void 0===s?null:s)))},!0)})},this.g).call(this,T(i,e,n)).then(function(t){return t.getResponseMessage()})},Se.prototype.unaryCall=function(t,e,n,i){return this.M(t,e,n,i)},Se.prototype.serverStreaming=Se.prototype.R=function(t,e,n,i){var o=this;i=E(t,e,"server_streaming",i);var r=t.substr(0,t.length-i.name.length);return xe(function(t){return we(o,t,r)},this.b).call(this,T(i,e,n))},Se.prototype.unaryCall=Se.prototype.unaryCall,Se.prototype.thenableCall=Se.prototype.M,Se.prototype.rpcCall=Se.prototype.P,t.exports.AbstractClientBase={MethodInfo:function(t,e,n,i,o){this.name=i,this.b=o,this.f=t,this.a=e,this.c=n}},t.exports.GrpcWebClientBase=Se,t.exports.StatusCode={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,UNAUTHENTICATED:16,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15},t.exports.MethodDescriptor=O,t.exports.MethodType={UNARY:"unary",SERVER_STREAMING:"server_streaming"}},3418:(t,e,n)=>{var i,o,r;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */void 0===(o="function"==typeof(i=r=function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(i){function o(){}function r(e,n,r){if("undefined"!=typeof document){"number"==typeof(r=t({path:"/"},o.defaults,r)).expires&&(r.expires=new Date(1*new Date+864e5*r.expires)),r.expires=r.expires?r.expires.toUTCString():"";try{var s=JSON.stringify(n);/^[\{\[]/.test(s)&&(n=s)}catch(c){}n=i.write?i.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var l in r)r[l]&&(a+="; "+l,!0!==r[l]&&(a+="="+r[l].split(";")[0]));return document.cookie=e+"="+n+a}}function s(t,n){if("undefined"!=typeof document){for(var o={},r=document.cookie?document.cookie.split("; "):[],s=0;s<r.length;s++){var a=r[s].split("="),l=a.slice(1).join("=");n||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=e(a[0]);if(l=(i.read||i)(l,c)||e(l),n)try{l=JSON.parse(l)}catch(u){}if(o[c]=l,t===c)break}catch(u){}}return t?o[t]:o}}return o.set=r,o.get=function(t){return s(t,!1)},o.getJSON=function(t){return s(t,!0)},o.remove=function(e,n){r(e,"",t(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}(function(){})})?i.call(e,n,e,t):i)||(t.exports=o),t.exports=r()},8187:function(t){t.exports=function(){"use strict";function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function n(t,n){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(i)return(i=i.call(t)).next.bind(i);if(Array.isArray(t)||(i=function(t,n){if(t){if("string"==typeof t)return e(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?e(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){i&&(t=i);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i={exports:{}};i.exports={defaults:{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},getDefaults:function(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},changeDefaults:function(t){i.exports.defaults=t}};var o=/[&<>"']/,r=/[&<>"']/g,s=/[<>"']|&(?!#?\w+;)/,a=/[<>"']|&(?!#?\w+;)/g,l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},c=function(t){return l[t]},u=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function h(t){return t.replace(u,function(t,e){return"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""})}var d=/(^|[^\[])\^/g,p=/[^\w:]/g,g=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,m={},f=/^[^:]+:\/*[^/]*$/,_=/^([^:]+:)[\s\S]*$/,b=/^([^:]+:\/*[^/]*)[\s\S]*$/;function v(t,e,n){var i=t.length;if(0===i)return"";for(var o=0;o<i;){var r=t.charAt(i-o-1);if(r!==e||n){if(r===e||!n)break;o++}else o++}return t.substr(0,i-o)}var y=function(t,e){if(e){if(o.test(t))return t.replace(r,c)}else if(s.test(t))return t.replace(a,c);return t},C=h,O=function(t){for(var e,n,i=1;i<arguments.length;i++)for(n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},T=i.exports.defaults,E=v,S=function(t,e){var n=t.replace(/\|/g,function(t,e,n){for(var i=!1,o=e;--o>=0&&"\\"===n[o];)i=!i;return i?"|":" |"}).split(/ \|/),i=0;if(n[0].trim()||n.shift(),n[n.length-1].trim()||n.pop(),n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n},w=y;function M(t,e,n,i){var o=e.href,r=e.title?w(e.title):null,s=t[1].replace(/\\([\[\]])/g,"$1");if("!"!==t[0].charAt(0)){i.state.inLink=!0;var a={type:"link",raw:n,href:o,title:r,text:s,tokens:i.inlineTokens(s,[])};return i.state.inLink=!1,a}return{type:"image",raw:n,href:o,title:r,text:w(s)}}var x=function(){function t(t){this.options=t||T}var e=t.prototype;return e.space=function(t){var e=this.rules.block.newline.exec(t);if(e)return e[0].length>1?{type:"space",raw:e[0]}:{raw:"\n"}},e.code=function(t){var e=this.rules.block.code.exec(t);if(e){var n=e[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?n:E(n,"\n")}}},e.fences=function(t){var e=this.rules.block.fences.exec(t);if(e){var n=e[0],i=function(t,e){var n=t.match(/^(\s+)(?:```)/);if(null===n)return e;var i=n[1];return e.split("\n").map(function(t){var e=t.match(/^\s+/);return null===e?t:e[0].length>=i.length?t.slice(i.length):t}).join("\n")}(n,e[3]||"");return{type:"code",raw:n,lang:e[2]?e[2].trim():e[2],text:i}}},e.heading=function(t){var e=this.rules.block.heading.exec(t);if(e){var n=e[2].trim();if(/#$/.test(n)){var i=E(n,"#");this.options.pedantic?n=i.trim():i&&!/ $/.test(i)||(n=i.trim())}var o={type:"heading",raw:e[0],depth:e[1].length,text:n,tokens:[]};return this.lexer.inline(o.text,o.tokens),o}},e.hr=function(t){var e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:e[0]}},e.blockquote=function(t){var e=this.rules.block.blockquote.exec(t);if(e){var n=e[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:e[0],tokens:this.lexer.blockTokens(n,[]),text:n}}},e.list=function(t){var e=this.rules.block.list.exec(t);if(e){var n,i,o,r,s,a,l,c,u,h,d=e[1].trim(),p=d.length>1,g={type:"list",raw:"",ordered:p,start:p?+d.slice(0,-1):"",loose:!1,items:[]};d=p?"\\d{1,9}\\"+d.slice(-1):"\\"+d,this.options.pedantic&&(d=p?d:"[*+-]");for(var m=new RegExp("^( {0,3}"+d+")((?: [^\\n]*| *)(?:\\n[^\\n]*)*(?:\\n|$))");t&&!this.rules.block.hr.test(t)&&(e=m.exec(t));){u=e[2].split("\n"),this.options.pedantic?(r=2,h=u[0].trimLeft()):(r=e[2].search(/[^ ]/),h=u[0].slice((r=e[1].length+(r>4?1:r))-e[1].length)),a=!1,n=e[0],!u[0]&&/^ *$/.test(u[1])&&(n=e[1]+u.slice(0,2).join("\n")+"\n",g.loose=!0,u=[]);var f=new RegExp("^ {0,"+Math.min(3,r-1)+"}(?:[*+-]|\\d{1,9}[.)])");for(s=1;s<u.length;s++){if(c=u[s],this.options.pedantic&&(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),f.test(c)){n=e[1]+u.slice(0,s).join("\n")+"\n";break}if(a){if(!(c.search(/[^ ]/)>=r)&&c.trim()){n=e[1]+u.slice(0,s).join("\n")+"\n";break}h+="\n"+c.slice(r)}else c.trim()||(a=!0),c.search(/[^ ]/)>=r?h+="\n"+c.slice(r):h+="\n"+c}g.loose||(l?g.loose=!0:/\n *\n *$/.test(n)&&(l=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(h))&&(o="[ ] "!==i[0],h=h.replace(/^\[[ xX]\] +/,"")),g.items.push({type:"list_item",raw:n,task:!!i,checked:o,loose:!1,text:h}),g.raw+=n,t=t.slice(n.length)}g.items[g.items.length-1].raw=n.trimRight(),g.items[g.items.length-1].text=h.trimRight(),g.raw=g.raw.trimRight();var _=g.items.length;for(s=0;s<_;s++)this.lexer.state.top=!1,g.items[s].tokens=this.lexer.blockTokens(g.items[s].text,[]),g.items[s].tokens.some(function(t){return"space"===t.type})&&(g.loose=!0,g.items[s].loose=!0);return g}},e.html=function(t){var e=this.rules.block.html.exec(t);if(e){var n={type:"html",raw:e[0],pre:!this.options.sanitizer&&("pre"===e[1]||"script"===e[1]||"style"===e[1]),text:e[0]};return this.options.sanitize&&(n.type="paragraph",n.text=this.options.sanitizer?this.options.sanitizer(e[0]):w(e[0]),n.tokens=[],this.lexer.inline(n.text,n.tokens)),n}},e.def=function(t){var e=this.rules.block.def.exec(t);if(e)return e[3]&&(e[3]=e[3].substring(1,e[3].length-1)),{type:"def",tag:e[1].toLowerCase().replace(/\s+/g," "),raw:e[0],href:e[2],title:e[3]}},e.table=function(t){var e=this.rules.block.table.exec(t);if(e){var n={type:"table",header:S(e[1]).map(function(t){return{text:t}}),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:e[3]?e[3].replace(/\n$/,"").split("\n"):[]};if(n.header.length===n.align.length){n.raw=e[0];var i,o,r,s,a=n.align.length;for(i=0;i<a;i++)n.align[i]=/^ *-+: *$/.test(n.align[i])?"right":/^ *:-+: *$/.test(n.align[i])?"center":/^ *:-+ *$/.test(n.align[i])?"left":null;for(a=n.rows.length,i=0;i<a;i++)n.rows[i]=S(n.rows[i],n.header.length).map(function(t){return{text:t}});for(a=n.header.length,o=0;o<a;o++)n.header[o].tokens=[],this.lexer.inlineTokens(n.header[o].text,n.header[o].tokens);for(a=n.rows.length,o=0;o<a;o++)for(s=n.rows[o],r=0;r<s.length;r++)s[r].tokens=[],this.lexer.inlineTokens(s[r].text,s[r].tokens);return n}}},e.lheading=function(t){var e=this.rules.block.lheading.exec(t);if(e){var n={type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1],tokens:[]};return this.lexer.inline(n.text,n.tokens),n}},e.paragraph=function(t){var e=this.rules.block.paragraph.exec(t);if(e){var n={type:"paragraph",raw:e[0],text:"\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1],tokens:[]};return this.lexer.inline(n.text,n.tokens),n}},e.text=function(t){var e=this.rules.block.text.exec(t);if(e){var n={type:"text",raw:e[0],text:e[0],tokens:[]};return this.lexer.inline(n.text,n.tokens),n}},e.escape=function(t){var e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:w(e[1])}},e.tag=function(t){var e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&/^<a /i.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):w(e[0]):e[0]}},e.link=function(t){var e=this.rules.inline.link.exec(t);if(e){var n=e[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;var i=E(n.slice(0,-1),"\\");if((n.length-i.length)%2==0)return}else{var o=function(t,e){if(-1===t.indexOf(e[1]))return-1;for(var n=t.length,i=0,o=0;o<n;o++)if("\\"===t[o])o++;else if(t[o]===e[0])i++;else if(t[o]===e[1]&&--i<0)return o;return-1}(e[2],"()");if(o>-1){var r=(0===e[0].indexOf("!")?5:4)+e[1].length+o;e[2]=e[2].substring(0,o),e[0]=e[0].substring(0,r).trim(),e[3]=""}}var s=e[2],a="";if(this.options.pedantic){var l=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);l&&(s=l[1],a=l[3])}else a=e[3]?e[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(s=this.options.pedantic&&!/>$/.test(n)?s.slice(1):s.slice(1,-1)),M(e,{href:s?s.replace(this.rules.inline._escapes,"$1"):s,title:a?a.replace(this.rules.inline._escapes,"$1"):a},e[0],this.lexer)}},e.reflink=function(t,e){var n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){var i=(n[2]||n[1]).replace(/\s+/g," ");if(!(i=e[i.toLowerCase()])||!i.href){var o=n[0].charAt(0);return{type:"text",raw:o,text:o}}return M(n,i,n[0],this.lexer)}},e.emStrong=function(t,e,n){void 0===n&&(n="");var i=this.rules.inline.emStrong.lDelim.exec(t);if(i&&(!i[3]||!n.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var o=i[1]||i[2]||"";if(!o||o&&(""===n||this.rules.inline.punctuation.exec(n))){var r,s,a=i[0].length-1,l=a,c=0,u="*"===i[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(u.lastIndex=0,e=e.slice(-1*t.length+a);null!=(i=u.exec(e));)if(r=i[1]||i[2]||i[3]||i[4]||i[5]||i[6])if(s=r.length,i[3]||i[4])l+=s;else if(!((i[5]||i[6])&&a%3)||(a+s)%3){if(!((l-=s)>0)){if(s=Math.min(s,s+l+c),Math.min(a,s)%2){var h=t.slice(1,a+i.index+s);return{type:"em",raw:t.slice(0,a+i.index+s+1),text:h,tokens:this.lexer.inlineTokens(h,[])}}var d=t.slice(2,a+i.index+s-1);return{type:"strong",raw:t.slice(0,a+i.index+s+1),text:d,tokens:this.lexer.inlineTokens(d,[])}}}else c+=s}}},e.codespan=function(t){var e=this.rules.inline.code.exec(t);if(e){var n=e[2].replace(/\n/g," "),i=/[^ ]/.test(n),o=/^ /.test(n)&&/ $/.test(n);return i&&o&&(n=n.substring(1,n.length-1)),n=w(n,!0),{type:"codespan",raw:e[0],text:n}}},e.br=function(t){var e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}},e.del=function(t){var e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2],[])}},e.autolink=function(t,e){var n,i,o=this.rules.inline.autolink.exec(t);if(o)return i="@"===o[2]?"mailto:"+(n=w(this.options.mangle?e(o[1]):o[1])):n=w(o[1]),{type:"link",raw:o[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}},e.url=function(t,e){var n;if(n=this.rules.inline.url.exec(t)){var i,o;if("@"===n[2])o="mailto:"+(i=w(this.options.mangle?e(n[0]):n[0]));else{var r;do{r=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(r!==n[0]);i=w(n[0]),o="www."===n[1]?"http://"+i:i}return{type:"link",raw:n[0],text:i,href:o,tokens:[{type:"text",raw:i,text:i}]}}},e.inlineText=function(t,e){var n,i=this.rules.inline.text.exec(t);if(i)return n=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):w(i[0]):i[0]:w(this.options.smartypants?e(i[0]):i[0]),{type:"text",raw:i[0],text:n}},t}(),P={exec:function(){}},k=function(t,e){t=t.source||t,e=e||"";var n={replace:function(e,i){return i=(i=i.source||i).replace(d,"$1"),t=t.replace(e,i),n},getRegex:function(){return new RegExp(t,e)}};return n},I=O,A={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:P,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};A.def=k(A.def).replace("label",A._label).replace("title",A._title).getRegex(),A.bullet=/(?:[*+-]|\d{1,9}[.)])/,A.listItemStart=k(/^( *)(bull) */).replace("bull",A.bullet).getRegex(),A.list=k(A.list).replace(/bull/g,A.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+A.def.source+")").getRegex(),A._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",A._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,A.html=k(A.html,"i").replace("comment",A._comment).replace("tag",A._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),A.paragraph=k(A._paragraph).replace("hr",A.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",A._tag).getRegex(),A.blockquote=k(A.blockquote).replace("paragraph",A.paragraph).getRegex(),A.normal=I({},A),A.gfm=I({},A.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),A.gfm.table=k(A.gfm.table).replace("hr",A.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",A._tag).getRegex(),A.pedantic=I({},A.normal,{html:k("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",A._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:P,paragraph:k(A.normal._paragraph).replace("hr",A.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",A.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var R={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:P,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:P,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};R.punctuation=k(R.punctuation).replace(/punctuation/g,R._punctuation).getRegex(),R.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,R.escapedEmSt=/\\\*|\\_/g,R._comment=k(A._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),R.emStrong.lDelim=k(R.emStrong.lDelim).replace(/punct/g,R._punctuation).getRegex(),R.emStrong.rDelimAst=k(R.emStrong.rDelimAst,"g").replace(/punct/g,R._punctuation).getRegex(),R.emStrong.rDelimUnd=k(R.emStrong.rDelimUnd,"g").replace(/punct/g,R._punctuation).getRegex(),R._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,R._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,R._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,R.autolink=k(R.autolink).replace("scheme",R._scheme).replace("email",R._email).getRegex(),R._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,R.tag=k(R.tag).replace("comment",R._comment).replace("attribute",R._attribute).getRegex(),R._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,R._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,R._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,R.link=k(R.link).replace("label",R._label).replace("href",R._href).replace("title",R._title).getRegex(),R.reflink=k(R.reflink).replace("label",R._label).getRegex(),R.reflinkSearch=k(R.reflinkSearch,"g").replace("reflink",R.reflink).replace("nolink",R.nolink).getRegex(),R.normal=I({},R),R.pedantic=I({},R.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:k(/^!?\[(label)\]\((.*?)\)/).replace("label",R._label).getRegex(),reflink:k(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",R._label).getRegex()}),R.gfm=I({},R.normal,{escape:k(R.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),R.gfm.url=k(R.gfm.url,"i").replace("email",R.gfm._extended_email).getRegex(),R.breaks=I({},R.gfm,{br:k(R.br).replace("{2,}","*").getRegex(),text:k(R.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var D={block:A,inline:R},L=x,N=i.exports.defaults,B=D.block,F=D.inline,U=function(t,e){if(e<1)return"";for(var n="";e>1;)1&e&&(n+=t),e>>=1,t+=t;return n+t};function V(t){return t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function G(t){var e,n,i="",o=t.length;for(e=0;e<o;e++)n=t.charCodeAt(e),Math.random()>.5&&(n="x"+n.toString(16)),i+="&#"+n+";";return i}var j=function(){function e(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||N,this.options.tokenizer=this.options.tokenizer||new L,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var e={block:B.normal,inline:F.normal};this.options.pedantic?(e.block=B.pedantic,e.inline=F.pedantic):this.options.gfm&&(e.block=B.gfm,e.inline=this.options.breaks?F.breaks:F.gfm),this.tokenizer.rules=e}e.lex=function(t,n){return new e(n).lex(t)},e.lexInline=function(t,n){return new e(n).inlineTokens(t)};var n,i,o=e.prototype;return o.lex=function(t){var e;for(t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(t,this.tokens);e=this.inlineQueue.shift();)this.inlineTokens(e.src,e.tokens);return this.tokens},o.blockTokens=function(t,e){var n,i,o,r,s=this;for(void 0===e&&(e=[]),this.options.pedantic&&(t=t.replace(/^ +$/gm,""));t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(i){return!!(n=i.call({lexer:s},t,e))&&(t=t.substring(n.raw.length),e.push(n),!0)})))if(n=this.tokenizer.space(t))t=t.substring(n.raw.length),n.type&&e.push(n);else if(n=this.tokenizer.code(t))t=t.substring(n.raw.length),!(i=e[e.length-1])||"paragraph"!==i.type&&"text"!==i.type?e.push(n):(i.raw+="\n"+n.raw,i.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text);else if(n=this.tokenizer.fences(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.heading(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.hr(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.blockquote(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.list(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.html(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.def(t))t=t.substring(n.raw.length),!(i=e[e.length-1])||"paragraph"!==i.type&&"text"!==i.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(i.raw+="\n"+n.raw,i.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text);else if(n=this.tokenizer.table(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.lheading(t))t=t.substring(n.raw.length),e.push(n);else if(o=t,this.options.extensions&&this.options.extensions.startBlock&&function(){var e=1/0,n=t.slice(1),i=void 0;s.options.extensions.startBlock.forEach(function(t){"number"==typeof(i=t.call({lexer:this},n))&&i>=0&&(e=Math.min(e,i))}),e<1/0&&e>=0&&(o=t.substring(0,e+1))}(),this.state.top&&(n=this.tokenizer.paragraph(o)))i=e[e.length-1],r&&"paragraph"===i.type?(i.raw+="\n"+n.raw,i.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):e.push(n),r=o.length!==t.length,t=t.substring(n.raw.length);else if(n=this.tokenizer.text(t))t=t.substring(n.raw.length),(i=e[e.length-1])&&"text"===i.type?(i.raw+="\n"+n.raw,i.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):e.push(n);else if(t){var a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}return this.state.top=!0,e},o.inline=function(t,e){this.inlineQueue.push({src:t,tokens:e})},o.inlineTokens=function(t,e){var n,i,o,r=this;void 0===e&&(e=[]);var s,a,l,c=t;if(this.tokens.links){var u=Object.keys(this.tokens.links);if(u.length>0)for(;null!=(s=this.tokenizer.rules.inline.reflinkSearch.exec(c));)u.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,s.index)+"["+U("a",s[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(s=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,s.index)+"["+U("a",s[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(s=this.tokenizer.rules.inline.escapedEmSt.exec(c));)c=c.slice(0,s.index)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;t;)if(a||(l=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(i){return!!(n=i.call({lexer:r},t,e))&&(t=t.substring(n.raw.length),e.push(n),!0)})))if(n=this.tokenizer.escape(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.tag(t))t=t.substring(n.raw.length),(i=e[e.length-1])&&"text"===n.type&&"text"===i.type?(i.raw+=n.raw,i.text+=n.text):e.push(n);else if(n=this.tokenizer.link(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.reflink(t,this.tokens.links))t=t.substring(n.raw.length),(i=e[e.length-1])&&"text"===n.type&&"text"===i.type?(i.raw+=n.raw,i.text+=n.text):e.push(n);else if(n=this.tokenizer.emStrong(t,c,l))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.codespan(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.br(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.del(t))t=t.substring(n.raw.length),e.push(n);else if(n=this.tokenizer.autolink(t,G))t=t.substring(n.raw.length),e.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(t,G))){if(o=t,this.options.extensions&&this.options.extensions.startInline&&function(){var e=1/0,n=t.slice(1),i=void 0;r.options.extensions.startInline.forEach(function(t){"number"==typeof(i=t.call({lexer:this},n))&&i>=0&&(e=Math.min(e,i))}),e<1/0&&e>=0&&(o=t.substring(0,e+1))}(),n=this.tokenizer.inlineText(o,V))t=t.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(l=n.raw.slice(-1)),a=!0,(i=e[e.length-1])&&"text"===i.type?(i.raw+=n.raw,i.text+=n.text):e.push(n);else if(t){var h="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(h);break}throw new Error(h)}}else t=t.substring(n.raw.length),e.push(n);return e},n=e,i=[{key:"rules",get:function(){return{block:B,inline:F}}}],null&&t(n.prototype,null),i&&t(n,i),e}(),H=i.exports.defaults,z=function(t,e,n){if(t){var i;try{i=decodeURIComponent(h(n)).replace(p,"").toLowerCase()}catch(o){return null}if(0===i.indexOf("javascript:")||0===i.indexOf("vbscript:")||0===i.indexOf("data:"))return null}e&&!g.test(n)&&(n=function(t,e){m[" "+t]||(m[" "+t]=f.test(t)?t+"/":v(t,"/",!0));var n=-1===(t=m[" "+t]).indexOf(":");return"//"===e.substring(0,2)?n?e:t.replace(_,"$1")+e:"/"===e.charAt(0)?n?e:t.replace(b,"$1")+e:t+e}(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(o){return null}return n},W=y,Z=function(){function t(t){this.options=t||H}var e=t.prototype;return e.code=function(t,e,n){var i=(e||"").match(/\S*/)[0];if(this.options.highlight){var o=this.options.highlight(t,i);null!=o&&o!==t&&(n=!0,t=o)}return t=t.replace(/\n$/,"")+"\n",i?'<pre><code class="'+this.options.langPrefix+W(i,!0)+'">'+(n?t:W(t,!0))+"</code></pre>\n":"<pre><code>"+(n?t:W(t,!0))+"</code></pre>\n"},e.blockquote=function(t){return"<blockquote>\n"+t+"</blockquote>\n"},e.html=function(t){return t},e.heading=function(t,e,n,i){return this.options.headerIds?"<h"+e+' id="'+this.options.headerPrefix+i.slug(n)+'">'+t+"</h"+e+">\n":"<h"+e+">"+t+"</h"+e+">\n"},e.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},e.list=function(t,e,n){var i=e?"ol":"ul";return"<"+i+(e&&1!==n?' start="'+n+'"':"")+">\n"+t+"</"+i+">\n"},e.listitem=function(t){return"<li>"+t+"</li>\n"},e.checkbox=function(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},e.paragraph=function(t){return"<p>"+t+"</p>\n"},e.table=function(t,e){return e&&(e="<tbody>"+e+"</tbody>"),"<table>\n<thead>\n"+t+"</thead>\n"+e+"</table>\n"},e.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},e.tablecell=function(t,e){var n=e.header?"th":"td";return(e.align?"<"+n+' align="'+e.align+'">':"<"+n+">")+t+"</"+n+">\n"},e.strong=function(t){return"<strong>"+t+"</strong>"},e.em=function(t){return"<em>"+t+"</em>"},e.codespan=function(t){return"<code>"+t+"</code>"},e.br=function(){return this.options.xhtml?"<br/>":"<br>"},e.del=function(t){return"<del>"+t+"</del>"},e.link=function(t,e,n){if(null===(t=z(this.options.sanitize,this.options.baseUrl,t)))return n;var i='<a href="'+W(t)+'"';return e&&(i+=' title="'+e+'"'),i+">"+n+"</a>"},e.image=function(t,e,n){if(null===(t=z(this.options.sanitize,this.options.baseUrl,t)))return n;var i='<img src="'+t+'" alt="'+n+'"';return e&&(i+=' title="'+e+'"'),i+(this.options.xhtml?"/>":">")},e.text=function(t){return t},t}(),Y=function(){function t(){}var e=t.prototype;return e.strong=function(t){return t},e.em=function(t){return t},e.codespan=function(t){return t},e.del=function(t){return t},e.html=function(t){return t},e.text=function(t){return t},e.link=function(t,e,n){return""+n},e.image=function(t,e,n){return""+n},e.br=function(){return""},t}(),q=function(){function t(){this.seen={}}var e=t.prototype;return e.serialize=function(t){return t.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},e.getNextSafeSlug=function(t,e){var n=t,i=0;if(this.seen.hasOwnProperty(n)){i=this.seen[t];do{n=t+"-"+ ++i}while(this.seen.hasOwnProperty(n))}return e||(this.seen[t]=i,this.seen[n]=0),n},e.slug=function(t,e){void 0===e&&(e={});var n=this.serialize(t);return this.getNextSafeSlug(n,e.dryrun)},t}(),J=Z,$=Y,K=q,X=i.exports.defaults,Q=C,tt=j,et=function(){function t(t){this.options=t||X,this.options.renderer=this.options.renderer||new J,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new $,this.slugger=new K}t.parse=function(e,n){return new t(n).parse(e)},t.parseInline=function(e,n){return new t(n).parseInline(e)};var e=t.prototype;return e.parse=function(t,e){void 0===e&&(e=!0);var n,i,o,r,s,a,l,c,u,h,d,p,g,m,f,_,b,v,y,C="",O=t.length;for(n=0;n<O;n++)if(h=t[n],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[h.type])||!1===(y=this.options.extensions.renderers[h.type].call({parser:this},h))&&["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(h.type))switch(h.type){case"space":continue;case"hr":C+=this.renderer.hr();continue;case"heading":C+=this.renderer.heading(this.parseInline(h.tokens),h.depth,Q(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue;case"code":C+=this.renderer.code(h.text,h.lang,h.escaped);continue;case"table":for(c="",l="",r=h.header.length,i=0;i<r;i++)l+=this.renderer.tablecell(this.parseInline(h.header[i].tokens),{header:!0,align:h.align[i]});for(c+=this.renderer.tablerow(l),u="",r=h.rows.length,i=0;i<r;i++){for(l="",s=(a=h.rows[i]).length,o=0;o<s;o++)l+=this.renderer.tablecell(this.parseInline(a[o].tokens),{header:!1,align:h.align[o]});u+=this.renderer.tablerow(l)}C+=this.renderer.table(c,u);continue;case"blockquote":u=this.parse(h.tokens),C+=this.renderer.blockquote(u);continue;case"list":for(d=h.ordered,p=h.start,g=h.loose,r=h.items.length,u="",i=0;i<r;i++)_=(f=h.items[i]).checked,b=f.task,m="",f.task&&(v=this.renderer.checkbox(_),g?f.tokens.length>0&&"paragraph"===f.tokens[0].type?(f.tokens[0].text=v+" "+f.tokens[0].text,f.tokens[0].tokens&&f.tokens[0].tokens.length>0&&"text"===f.tokens[0].tokens[0].type&&(f.tokens[0].tokens[0].text=v+" "+f.tokens[0].tokens[0].text)):f.tokens.unshift({type:"text",text:v}):m+=v),m+=this.parse(f.tokens,g),u+=this.renderer.listitem(m,b,_);C+=this.renderer.list(u,d,p);continue;case"html":C+=this.renderer.html(h.text);continue;case"paragraph":C+=this.renderer.paragraph(this.parseInline(h.tokens));continue;case"text":for(u=h.tokens?this.parseInline(h.tokens):h.text;n+1<O&&"text"===t[n+1].type;)u+="\n"+((h=t[++n]).tokens?this.parseInline(h.tokens):h.text);C+=e?this.renderer.paragraph(u):u;continue;default:var T='Token with "'+h.type+'" type was not found.';if(this.options.silent)return void console.error(T);throw new Error(T)}else C+=y||"";return C},e.parseInline=function(t,e){e=e||this.renderer;var n,i,o,r="",s=t.length;for(n=0;n<s;n++)if(i=t[n],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type])||!1===(o=this.options.extensions.renderers[i.type].call({parser:this},i))&&["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type))switch(i.type){case"escape":r+=e.text(i.text);break;case"html":r+=e.html(i.text);break;case"link":r+=e.link(i.href,i.title,this.parseInline(i.tokens,e));break;case"image":r+=e.image(i.href,i.title,i.text);break;case"strong":r+=e.strong(this.parseInline(i.tokens,e));break;case"em":r+=e.em(this.parseInline(i.tokens,e));break;case"codespan":r+=e.codespan(i.text);break;case"br":r+=e.br();break;case"del":r+=e.del(this.parseInline(i.tokens,e));break;case"text":r+=e.text(i.text);break;default:var a='Token with "'+i.type+'" type was not found.';if(this.options.silent)return void console.error(a);throw new Error(a)}else r+=o||"";return r},t}(),nt=x,it=Z,ot=Y,rt=q,st=O,at=function(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},lt=y,ct=i.exports.getDefaults,ut=i.exports.changeDefaults,ht=i.exports.defaults;function dt(t,e,n){if(null==t)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if("function"==typeof e&&(n=e,e=null),e=st({},dt.defaults,e||{}),at(e),n){var i,o=e.highlight;try{i=tt.lex(t,e)}catch(l){return n(l)}var r=function(t){var r;if(!t)try{e.walkTokens&&dt.walkTokens(i,e.walkTokens),r=et.parse(i,e)}catch(l){t=l}return e.highlight=o,t?n(t):n(null,r)};if(!o||o.length<3)return r();if(delete e.highlight,!i.length)return r();var s=0;return dt.walkTokens(i,function(t){"code"===t.type&&(s++,setTimeout(function(){o(t.text,t.lang,function(e,n){if(e)return r(e);null!=n&&n!==t.text&&(t.text=n,t.escaped=!0),0==--s&&r()})},0))}),void(0===s&&r())}try{var a=tt.lex(t,e);return e.walkTokens&&dt.walkTokens(a,e.walkTokens),et.parse(a,e)}catch(l){if(l.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+lt(l.message+"",!0)+"</pre>";throw l}}return dt.options=dt.setOptions=function(t){return st(dt.defaults,t),ut(dt.defaults),dt},dt.getDefaults=ct,dt.defaults=ht,dt.use=function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var o,r=st.apply(void 0,[{}].concat(n)),s=dt.defaults.extensions||{renderers:{},childTokens:{}};n.forEach(function(e){if(e.extensions&&(o=!0,e.extensions.forEach(function(t){if(!t.name)throw new Error("extension name required");if(t.renderer){var e=s.renderers?s.renderers[t.name]:null;s.renderers[t.name]=e?function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var r=t.renderer.apply(this,i);return!1===r&&(r=e.apply(this,i)),r}:t.renderer}if(t.tokenizer){if(!t.level||"block"!==t.level&&"inline"!==t.level)throw new Error("extension level must be 'block' or 'inline'");s[t.level]?s[t.level].unshift(t.tokenizer):s[t.level]=[t.tokenizer],t.start&&("block"===t.level?s.startBlock?s.startBlock.push(t.start):s.startBlock=[t.start]:"inline"===t.level&&(s.startInline?s.startInline.push(t.start):s.startInline=[t.start]))}t.childTokens&&(s.childTokens[t.name]=t.childTokens)})),e.renderer&&function(){var t=dt.defaults.renderer||new it,n=function(n){var i=t[n];t[n]=function(){for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];var a=e.renderer[n].apply(t,r);return!1===a&&(a=i.apply(t,r)),a}};for(var i in e.renderer)n(i);r.renderer=t}(),e.tokenizer&&function(){var t=dt.defaults.tokenizer||new nt,n=function(n){var i=t[n];t[n]=function(){for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];var a=e.tokenizer[n].apply(t,r);return!1===a&&(a=i.apply(t,r)),a}};for(var i in e.tokenizer)n(i);r.tokenizer=t}(),e.walkTokens){var n=dt.defaults.walkTokens;r.walkTokens=function(i){e.walkTokens.call(t,i),n&&n(i)}}o&&(r.extensions=s),dt.setOptions(r)})},dt.walkTokens=function(t,e){for(var i,o=function(){var t=i.value;switch(e(t),t.type){case"table":for(var o,r=n(t.header);!(o=r()).done;)dt.walkTokens(o.value.tokens,e);for(var s,a=n(t.rows);!(s=a()).done;)for(var l,c=n(s.value);!(l=c()).done;)dt.walkTokens(l.value.tokens,e);break;case"list":dt.walkTokens(t.items,e);break;default:dt.defaults.extensions&&dt.defaults.extensions.childTokens&&dt.defaults.extensions.childTokens[t.type]?dt.defaults.extensions.childTokens[t.type].forEach(function(n){dt.walkTokens(t[n],e)}):t.tokens&&dt.walkTokens(t.tokens,e)}},r=n(t);!(i=r()).done;)o()},dt.parseInline=function(t,e){if(null==t)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");e=st({},dt.defaults,e||{}),at(e);try{var n=tt.lexInline(t,e);return e.walkTokens&&dt.walkTokens(n,e.walkTokens),et.parseInline(n,e)}catch(i){if(i.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+lt(i.message+"",!0)+"</pre>";throw i}},dt.Parser=et,dt.parser=et.parse,dt.Renderer=it,dt.TextRenderer=ot,dt.Lexer=tt,dt.lexer=tt.lex,dt.Tokenizer=nt,dt.Slugger=rt,dt.parse=dt,dt}()},8512:(t,e,n)=>{"use strict";n.d(e,{X:()=>r});var i=n(5959),o=n(3895);class r extends i.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.N;return this._value}next(t){super.next(this._value=t)}}},3103:(t,e,n)=>{"use strict";n.d(e,{P:()=>s});var i=n(653),o=n(878),r=n(1225);let s=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return(0,o.of)(this.value);case"E":return(0,r._)(this.error);case"C":return(0,i.c)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},8318:(t,e,n)=>{"use strict";n.d(e,{y:()=>c});var i=n(6673),o=n(5331),r=n(7498),s=n(6197),a=n(3392),l=n(1484);let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof i.L)return t;if(t[o.b])return t[o.b]()}return t||e||n?new i.L(t,e,n):new i.L(r.c)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||l.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),l.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){l.v.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:o}=t;if(e||o)return!1;t=n&&n instanceof i.L?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=u(e))((e,n)=>{let i;i=this.subscribe(e=>{try{t(e)}catch(o){n(o),i&&i.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.L](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.y:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=u(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function u(t){if(t||(t=l.v.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},7498:(t,e,n)=>{"use strict";n.d(e,{c:()=>r});var i=n(1484),o=n(4294);const r={closed:!0,next(t){},error(t){if(i.v.useDeprecatedSynchronousErrorHandling)throw t;(0,o.z)(t)},complete(){}}},9829:(t,e,n)=>{"use strict";n.d(e,{L:()=>o});var i=n(6673);class o extends i.L{notifyNext(t,e,n,i,o){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},6019:(t,e,n)=>{"use strict";n.d(e,{t:()=>c});var i=n(5959),o=n(8489),r=n(7570),s=n(45),a=n(3895),l=n(9291);class c extends i.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new u(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=n.length;let c;if(this.closed)throw new a.N;if(this.isStopped||this.hasError?c=r.w.EMPTY:(this.observers.push(t),c=new l.W(this,t)),i&&t.add(t=new s.ht(t,i)),e)for(let r=0;r<o&&!t.closed;r++)t.next(n[r]);else for(let r=0;r<o&&!t.closed;r++)t.next(n[r].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),c}_getNow(){return(this.scheduler||o.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,o=i.length;let r=0;for(;r<o&&!(t-i[r].time<n);)r++;return o>e&&(r=Math.max(r,o-e)),r>0&&i.splice(0,r),i}}class u{constructor(t,e){this.time=t,this.value=e}}},5959:(t,e,n)=>{"use strict";n.d(e,{Yc:()=>c,xQ:()=>u});var i=n(8318),o=n(6673),r=n(7570),s=n(3895),a=n(9291),l=n(5331);class c extends o.L{constructor(t){super(t),this.destination=t}}let u=(()=>{class t extends i.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[l.b](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.N;if(!this.isStopped){const{observers:e}=this,n=e.length,i=e.slice();for(let o=0;o<n;o++)i[o].next(t)}}error(t){if(this.closed)throw new s.N;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,i=e.slice();for(let o=0;o<n;o++)i[o].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.N;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let i=0;i<e;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.N;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.N;return this.hasError?(t.error(this.thrownError),r.w.EMPTY):this.isStopped?(t.complete(),r.w.EMPTY):(this.observers.push(t),new a.W(this,t))}asObservable(){const t=new i.y;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends u{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):r.w.EMPTY}}},9291:(t,e,n)=>{"use strict";n.d(e,{W:()=>o});var i=n(7570);class o extends i.w{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},6673:(t,e,n)=>{"use strict";n.d(e,{L:()=>c});var i=n(5024),o=n(7498),r=n(7570),s=n(5331),a=n(1484),l=n(4294);class c extends r.w{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=o.c;break;case 1:if(!t){this.destination=o.c;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new u(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new u(this,t,e,n)}}[s.b](){return this}static create(t,e,n){const i=new c(t,e,n);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class u extends c{constructor(t,e,n,r){let s;super(),this._parentSubscriber=t;let a=this;(0,i.m)(e)?s=e:e&&(s=e.next,n=e.error,r=e.complete,e!==o.c&&(a=Object.create(e),(0,i.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=r}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):(0,l.z)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;(0,l.z)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,l.z)(n)}}__tryOrSetError(t,e,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return a.v.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):((0,l.z)(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},7570:(t,e,n)=>{"use strict";n.d(e,{w:()=>a});var i=n(8470),o=n(2056),r=n(5024);const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:u}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if((0,r.m)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?l(h.errors):[h]}}if((0,i.k)(u)){let t=-1,n=u.length;for(;++t<n;){const n=u[t];if((0,o.K)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(l(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=n;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}const o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function l(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},1484:(t,e,n)=>{"use strict";n.d(e,{v:()=>o});let i=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}}},6882:(t,e,n)=>{"use strict";n.d(e,{IY:()=>s,Ds:()=>a,ft:()=>l});var i=n(6673),o=n(8318),r=n(6015);class s extends i.L{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends i.L{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function l(t,e){if(e.closed)return;if(t instanceof o.y)return t.subscribe(e);let n;try{n=(0,r.s)(t)(e)}catch(i){e.error(i)}return n}},2875:(t,e,n)=>{"use strict";n.d(e,{c:()=>a,N:()=>l});var i=n(5959),o=n(8318),r=n(7570),s=n(1564);class a extends o.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new r.w,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=r.w.EMPTY)),t}refCount(){return(0,s.x)()(this)}}const l=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends i.Yc{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},653:(t,e,n)=>{"use strict";n.d(e,{E:()=>o,c:()=>r});var i=n(8318);const o=new i.y(t=>t.complete());function r(t){return t?function(t){return new i.y(e=>t.schedule(()=>e.complete()))}(t):o}},9764:(t,e,n)=>{"use strict";n.d(e,{D:()=>h});var i=n(8318),o=n(6015),r=n(7570),s=n(6197),a=n(2570),l=n(5686),c=n(5168),u=n(9653);function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.L]}(t))return function(t,e){return new i.y(n=>{const i=new r.w;return i.add(e.schedule(()=>{const o=t[s.L]();i.add(o.subscribe({next(t){i.add(e.schedule(()=>n.next(t)))},error(t){i.add(e.schedule(()=>n.error(t)))},complete(){i.add(e.schedule(()=>n.complete()))}}))})),i})}(t,e);if((0,c.t)(t))return function(t,e){return new i.y(n=>{const i=new r.w;return i.add(e.schedule(()=>t.then(t=>{i.add(e.schedule(()=>{n.next(t),i.add(e.schedule(()=>n.complete()))}))},t=>{i.add(e.schedule(()=>n.error(t)))}))),i})}(t,e);if((0,u.z)(t))return(0,a.r)(t,e);if(function(t){return t&&"function"==typeof t[l.hZ]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new i.y(n=>{const i=new r.w;let o;return i.add(()=>{o&&"function"==typeof o.return&&o.return()}),i.add(e.schedule(()=>{o=t[l.hZ](),i.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=o.next();t=n.value,e=n.done}catch(i){return void n.error(i)}e?n.complete():(n.next(t),this.schedule())}))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof i.y?t:new i.y((0,o.s)(t))}},9342:(t,e,n)=>{"use strict";n.d(e,{n:()=>s});var i=n(8318),o=n(625),r=n(2570);function s(t,e){return e?(0,r.r)(t,e):new i.y((0,o.V)(t))}},1906:(t,e,n)=>{"use strict";n.d(e,{T:()=>a});var i=n(8318),o=n(6163),r=n(7471),s=n(9342);function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return(0,o.K)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof i.y?t[0]:(0,r.J)(e)((0,s.n)(t,n))}},878:(t,e,n)=>{"use strict";n.d(e,{of:()=>s});var i=n(6163),o=n(9342),r=n(2570);function s(...t){let e=t[t.length-1];return(0,i.K)(e)?(t.pop(),(0,r.r)(t,e)):(0,o.n)(t)}},1225:(t,e,n)=>{"use strict";n.d(e,{_:()=>o});var i=n(8318);function o(t,e){return new i.y(e?n=>e.schedule(r,0,{error:t,subscriber:n}):e=>e.error(t))}function r({error:t,subscriber:e}){e.error(t)}},7727:(t,e,n)=>{"use strict";n.d(e,{K:()=>o});var i=n(6882);function o(t){return function(e){const n=new r(t),i=e.lift(n);return n.caught=i}}class r{constructor(t){this.selector=t}call(t,e){return e.subscribe(new s(t,this.selector,this.caught))}}class s extends i.Ds{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const o=new i.IY(this);this.add(o);const r=(0,i.ft)(n,o);r!==o&&this.add(r)}}}},436:(t,e,n)=>{"use strict";n.d(e,{b:()=>o});var i=n(3982);function o(t,e){return(0,i.zg)(t,e,1)}},7701:(t,e,n)=>{"use strict";n.d(e,{b:()=>r});var i=n(6673),o=n(8569);function r(t,e=o.P){return n=>n.lift(new s(t,e))}class s{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new a(t,this.dueTime,this.scheduler))}}class a extends i.L{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(l,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function l(t){t.debouncedNext()}},8720:(t,e,n)=>{"use strict";n.d(e,{x:()=>o});var i=n(6673);function o(t,e){return n=>n.lift(new r(t,e))}class r{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new s(t,this.compare,this.keySelector))}}class s extends i.L{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(i){return this.destination.error(i)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}},3835:(t,e,n)=>{"use strict";n.d(e,{h:()=>o});var i=n(6673);function o(t,e){return function(n){return n.lift(new r(t,e))}}class r{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.predicate,this.thisArg))}}class s extends i.L{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}},9996:(t,e,n)=>{"use strict";n.d(e,{U:()=>o});var i=n(6673);function o(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new r(t,e))}}class r{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends i.L{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},7471:(t,e,n)=>{"use strict";n.d(e,{J:()=>r});var i=n(3982),o=n(3392);function r(t=Number.POSITIVE_INFINITY){return(0,i.zg)(o.y,t)}},3982:(t,e,n)=>{"use strict";n.d(e,{zg:()=>s});var i=n(9996),o=n(9764),r=n(6882);function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(s((n,r)=>(0,o.D)(t(n,r)).pipe((0,i.U)((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}class l extends r.Ds{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e)}_innerSub(t){const e=new r.IY(this),n=this.destination;n.add(e);const i=(0,r.ft)(t,e);i!==e&&n.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},45:(t,e,n)=>{"use strict";n.d(e,{QV:()=>r,ht:()=>a});var i=n(6673),o=n(3103);function r(t,e=0){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends i.L{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new l(t,this.destination)))}_next(t){this.scheduleMessage(o.P.createNext(t))}_error(t){this.scheduleMessage(o.P.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(o.P.createComplete()),this.unsubscribe()}}class l{constructor(t,e){this.notification=t,this.destination=e}}},1564:(t,e,n)=>{"use strict";n.d(e,{x:()=>o});var i=n(6673);function o(){return function(t){return t.lift(new r(t))}}class r{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const i=new s(t,n),o=e.subscribe(i);return i.closed||(i.connection=n.connect()),o}}class s extends i.L{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}},2023:(t,e,n)=>{"use strict";n.d(e,{R:()=>o});var i=n(6673);function o(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new r(t,e,n))}}class r{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new s(t,this.accumulator,this.seed,this.hasSeed))}}class s extends i.L{constructor(t,e,n,i){super(t),this.accumulator=e,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}},1055:(t,e,n)=>{"use strict";n.d(e,{B:()=>a});var i=n(2875),o=n(1564),r=n(5959);function s(){return new r.xQ}function a(){return t=>{return(0,o.x)()((e=s,function(t){let n;n="function"==typeof e?e:function(){return e};const o=Object.create(t,i.N);return o.source=t,o.subjectFactory=n,o})(t));var e}}},4698:(t,e,n)=>{"use strict";n.d(e,{T:()=>o});var i=n(6673);function o(t){return e=>e.lift(new r(t))}class r{constructor(t){this.total=t}call(t,e){return e.subscribe(new s(t,this.total))}}class s extends i.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}},4689:(t,e,n)=>{"use strict";n.d(e,{w:()=>s});var i=n(9996),o=n(9764),r=n(6882);function s(t,e){return"function"==typeof e?n=>n.pipe(s((n,r)=>(0,o.D)(t(n,r)).pipe((0,i.U)((t,i)=>e(n,t,r,i))))):e=>e.lift(new a(t))}class a{constructor(t){this.project=t}call(t,e){return e.subscribe(new l(t,this.project))}}class l extends r.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new r.IY(this),i=this.destination;i.add(n),this.innerSubscription=(0,r.ft)(t,n),this.innerSubscription!==n&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}},611:(t,e,n)=>{"use strict";n.d(e,{q:()=>s});var i=n(6673),o=n(8402),r=n(653);function s(t){return e=>0===t?(0,r.c)():e.lift(new a(t))}class a{constructor(t){if(this.total=t,this.total<0)throw new o.W}call(t,e){return e.subscribe(new l(t,this.total))}}class l extends i.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}},5416:(t,e,n)=>{"use strict";n.d(e,{R:()=>o});var i=n(6882);function o(t){return e=>e.lift(new r(t))}class r{constructor(t){this.notifier=t}call(t,e){const n=new s(t),o=(0,i.ft)(this.notifier,new i.IY(n));return o&&!n.seenValue?(n.add(o),e.subscribe(n)):n}}class s extends i.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},9085:(t,e,n)=>{"use strict";n.d(e,{V:()=>u});var i=n(8569);const o=(()=>{function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t})();var r=n(8802),s=n(6882);class a{constructor(t,e,n,i){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=n,this.scheduler=i}call(t,e){return e.subscribe(new l(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class l extends s.Ds{constructor(t,e,n,i,o){super(t),this.absoluteTimeout=e,this.waitFor=n,this.withObservable=i,this.scheduler=o,this.scheduleTimeout()}static dispatchTimeout(t){const{withObservable:e}=t;t._unsubscribeAndRecycle(),t.add((0,s.ft)(e,new s.IY(t)))}scheduleTimeout(){const{action:t}=this;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(l.dispatchTimeout,this.waitFor,this))}_next(t){this.absoluteTimeout||this.scheduleTimeout(),super._next(t)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}var c=n(1225);function u(t,e=i.P){return function(t,e,n=i.P){return i=>{let o=(0,r.J)(t),s=o?+t-n.now():Math.abs(t);return i.lift(new a(s,o,e,n))}}(t,(0,c._)(new o),e)}},2728:(t,e,n)=>{"use strict";n.d(e,{M:()=>r});var i=n(9829),o=n(7e3);function r(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new s(t,n))}}class s{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new a(t,this.observables,this.project))}}class a extends i.L{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const i=e.length;this.values=new Array(i);for(let o=0;o<i;o++)this.toRespond.push(o);for(let r=0;r<i;r++)this.add((0,o.D)(this,e[r],void 0,r))}notifyNext(t,e,n){this.values[n]=e;const i=this.toRespond;if(i.length>0){const t=i.indexOf(n);-1!==t&&i.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},2570:(t,e,n)=>{"use strict";n.d(e,{r:()=>r});var i=n(8318),o=n(7570);function r(t,e){return new i.y(n=>{const i=new o.w;let r=0;return i.add(e.schedule(function(){r!==t.length?(n.next(t[r++]),n.closed||i.add(this.schedule())):n.complete()})),i})}},8277:(t,e,n)=>{"use strict";n.d(e,{o:()=>r});var i=n(7570);class o extends i.w{constructor(t,e){super()}schedule(t,e=0){return this}}class r extends o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,i=!1;try{this.work(t)}catch(o){i=!0,n=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},1098:(t,e,n)=>{"use strict";n.d(e,{v:()=>o});let i=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class o extends i{constructor(t,e=i.now){super(t,()=>o.delegate&&o.delegate!==this?o.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return o.delegate&&o.delegate!==this?o.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},8569:(t,e,n)=>{"use strict";n.d(e,{P:()=>o});var i=n(8277);const o=new(n(1098).v)(i.o)},8489:(t,e,n)=>{"use strict";n.d(e,{c:()=>l,N:()=>a});var i=n(8277);class o extends i.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var r=n(1098);class s extends r.v{}const a=new s(o),l=a},5686:(t,e,n)=>{"use strict";function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,{hZ:()=>o});const o=i()},6197:(t,e,n)=>{"use strict";n.d(e,{L:()=>i});const i=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},5331:(t,e,n)=>{"use strict";n.d(e,{b:()=>i});const i=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},8402:(t,e,n)=>{"use strict";n.d(e,{W:()=>i});const i=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})()},3895:(t,e,n)=>{"use strict";n.d(e,{N:()=>i});const i=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},4294:(t,e,n)=>{"use strict";function i(t){setTimeout(()=>{throw t},0)}n.d(e,{z:()=>i})},3392:(t,e,n)=>{"use strict";function i(t){return t}n.d(e,{y:()=>i})},8470:(t,e,n)=>{"use strict";n.d(e,{k:()=>i});const i=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},9653:(t,e,n)=>{"use strict";n.d(e,{z:()=>i});const i=t=>t&&"number"==typeof t.length&&"function"!=typeof t},8802:(t,e,n)=>{"use strict";function i(t){return t instanceof Date&&!isNaN(+t)}n.d(e,{J:()=>i})},5024:(t,e,n)=>{"use strict";function i(t){return"function"==typeof t}n.d(e,{m:()=>i})},2056:(t,e,n)=>{"use strict";function i(t){return null!==t&&"object"==typeof t}n.d(e,{K:()=>i})},5168:(t,e,n)=>{"use strict";function i(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,{t:()=>i})},6163:(t,e,n)=>{"use strict";function i(t){return t&&"function"==typeof t.schedule}n.d(e,{K:()=>i})},6015:(t,e,n)=>{"use strict";n.d(e,{s:()=>u});var i=n(625),o=n(4294),r=n(5686),s=n(6197),a=n(9653),l=n(5168),c=n(2056);const u=t=>{if(t&&"function"==typeof t[s.L])return u=t,t=>{const e=u[s.L]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if((0,a.z)(t))return(0,i.V)(t);if((0,l.t)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,o.z),t);if(t&&"function"==typeof t[r.hZ])return e=t,t=>{const n=e[r.hZ]();for(;;){let e;try{e=n.next()}catch(i){return t.error(i),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=(0,c.K)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,u}},625:(t,e,n)=>{"use strict";n.d(e,{V:()=>i});const i=t=>e=>{for(let n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()}},7e3:(t,e,n)=>{"use strict";n.d(e,{D:()=>a});var i=n(6673);class o extends i.L{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var r=n(6015),s=n(8318);function a(t,e,n,i,a=new o(t,n,i)){if(!a.closed)return e instanceof s.y?e.subscribe(a):(0,r.s)(e)(a)}},9409:(t,e,n)=>{"use strict";var i=n(5366);
/**
 * @license Angular v12.0.4
 * (c) 2010-2021 Google LLC. https://angular.io/
 * License: MIT
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
let o=null;function r(){return o}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const s=new i.OlP("DocumentToken");let a=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,i.Yz7)({factory:l,token:t,providedIn:"platform"}),t})();function l(){return(0,i.LFG)(u)}const c=new i.OlP("Location Initialized");let u=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return r().getBaseHref(this._doc)}onPopState(t){const e=r().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),()=>e.removeEventListener("popstate",t)}onHashChange(t){const e=r().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),()=>e.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(s))},t.\u0275prov=(0,i.Yz7)({factory:d,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function d(){return new u((0,i.LFG)(s))}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let f=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,i.Yz7)({factory:_,token:t,providedIn:"root"}),t})();function _(t){const e=(0,i.LFG)(s).location;return new v((0,i.LFG)(a),e&&e.origin||"")}const b=new i.OlP("appBaseHref");let v=(()=>{class t extends f{constructor(t,e){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,i){const o=this.prepareExternalUrl(n+m(i));this._platformLocation.pushState(t,e,o)}replaceState(t,e,n,i){const o=this.prepareExternalUrl(n+m(i));this._platformLocation.replaceState(t,e,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(a),i.LFG(b,8))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),y=(()=>{class t extends f{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=e&&(this._baseHref=e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,i){let o=this.prepareExternalUrl(n+m(i));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,e,o)}replaceState(t,e,n,i){let o=this.prepareExternalUrl(n+m(i));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(a),i.LFG(b,8))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),C=(()=>{class t{constructor(t,e){this._subject=new i.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(T(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,T(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformStrategy).historyGo)||void 0===n||n.call(e,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(f),i.LFG(a))},t.normalizeQueryParams=m,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=(0,i.Yz7)({factory:O,token:t,providedIn:"root"}),t})();function O(){return new C((0,i.LFG)(f),(0,i.LFG)(a))}function T(t){return t.replace(/\/index.html$/,"")}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var E=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const S=i.kL8;
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class w{}let M=(()=>{class t extends w{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(S(e||this.locale)(t)){case E.Zero:return"zero";case E.One:return"one";case E.Two:return"two";case E.Few:return"few";case E.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.soG))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function x(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[i,o]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}let P=(()=>{class t{constructor(t,e,n,i){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,i.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,i.AaK)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.ZZ4),i.Y36(i.aQg),i.Y36(i.SBq),i.Y36(i.Qsj))},t.\u0275dir=i.lG2({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class k{constructor(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let I=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch($o){throw new Error(`Cannot find a differ supporting object '${e}' of type '${t=e,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,i)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new k(null,this._ngForOf,-1,-1),null===i?void 0:i),o=new A(t,n);e.push(o)}else if(null==i)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const o=this._viewContainer.get(n);this._viewContainer.move(o,i);const r=new A(t,o);e.push(r)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=i,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.s_b),i.Y36(i.Rgc),i.Y36(i.ZZ4))},t.\u0275dir=i.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class A{constructor(t,e){this.record=t,this.view=e}}let R=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new D,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){L("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){L("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.s_b),i.Y36(i.Rgc))},t.\u0275dir=i.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class D{constructor(){this.$implicit=null,this.ngIf=null}}function L(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,i.AaK)(e)}'.`)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class N{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let B=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.lG2({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),F=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new N(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.s_b),i.Y36(i.Rgc),i.Y36(B,9))},t.\u0275dir=i.lG2({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),U=(()=>{class t{constructor(t,e,n){n._addDefault(new N(t,e))}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.s_b),i.Y36(i.Rgc),i.Y36(B,9))},t.\u0275dir=i.lG2({type:t,selectors:[["","ngSwitchDefault",""]]}),t})(),V=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,i]=t.split(".");null!=(e=null!=e&&i?`${e}${i}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.aQg),i.Y36(i.Qsj))},t.\u0275dir=i.lG2({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),G=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.s_b))},t.\u0275dir=i.lG2({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[i.TTD]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class j{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class H{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const z=new H,W=new j;let Z=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if((0,i.QGY)(e))return z;if((0,i.F4k)(e))return W;throw Error(`InvalidPipeArgument: '${e}' for pipe '${(0,i.AaK)(t)}'`)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.sBO,16))},t.\u0275pipe=i.Yjl({name:"async",type:t,pure:!1}),t})(),Y=(()=>{class t{constructor(t){this.differs=t,this.keyValues=[]}transform(t,e=q){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const n=this.differ.diff(t);return n&&(this.keyValues=[],n.forEachItem(t=>{this.keyValues.push({key:t.key,value:t.currentValue})}),this.keyValues.sort(e)),this.keyValues}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.aQg,16))},t.\u0275pipe=i.Yjl({name:"keyvalue",type:t,pure:!1}),t})();function q(t,e){const n=t.key,i=e.key;if(n===i)return 0;if(void 0===n)return 1;if(void 0===i)return-1;if(null===n)return 1;if(null===i)return-1;if("string"==typeof n&&"string"==typeof i)return n<i?-1:1;if("number"==typeof n&&"number"==typeof i)return n-i;if("boolean"==typeof n&&"boolean"==typeof i)return n<i?-1:1;const o=String(n),r=String(i);return o==r?0:o<r?-1:1}let J=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[{provide:w,useClass:M}]}),t})();function $(t){return"browser"===t}let K=(()=>{class t{}return t.\u0275prov=(0,i.Yz7)({token:t,providedIn:"root",factory:()=>new X((0,i.LFG)(s),window)}),t})();class X{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=n.currentNode;for(;i;){const t=i.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}i=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],i-o[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Q(this.window.history)||Q(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch($o){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch($o){return!1}}}function Q(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class tt{}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class et extends
/**
 * @license Angular v12.0.4
 * (c) 2010-2021 Google LLC. https://angular.io/
 * License: MIT
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new et,o||(o=t)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(it=it||document.querySelector("base"),it?it.getAttribute("href"):null);return null==e?null:function(t){nt=nt||document.createElement("a"),nt.setAttribute("href",t);const e=nt.pathname;return"/"===e.charAt(0)?e:`/${e}`}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(e)}resetBaseElement(){it=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return x(document.cookie,t)}}let nt,it=null;const ot=new i.OlP("TRANSITION_ID"),rt=[{provide:i.ip1,useFactory:function(t,e,n){return()=>{n.get(i.CZH).donePromise.then(()=>{const n=r();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[ot,s,i.zs3],multi:!0}];
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class st{static init(){(0,i.VLi)(new st)}addToWindow(t){i.dqk.getAngularTestability=(e,n=!0)=>{const i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},i.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),i.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),i.dqk.frameworkStabilizers||(i.dqk.frameworkStabilizers=[]),i.dqk.frameworkStabilizers.push(t=>{const e=i.dqk.getAllAngularTestabilities();let n=e.length,o=!1;const r=function(e){o=o||e,n--,0==n&&t(o)};e.forEach(function(t){t.whenStable(r)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?r().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let at=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const lt=new i.OlP("EventManagerPlugins");let ct=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let i=0;i<n.length;i++){const e=n[i];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(lt),i.LFG(i.R0b))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();class ut{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=r().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}let ht=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),dt=(()=>{class t extends ht{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const i=this._doc.createElement("style");i.textContent=t,n.push(e.appendChild(i))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(pt),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(pt))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(s))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();function pt(t){r().remove(t)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const gt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},mt=/%COMP%/g;function ft(t,e,n){for(let i=0;i<e.length;i++){let o=e[i];Array.isArray(o)?ft(t,o,n):(o=o.replace(mt,t),n.push(o))}return n}function _t(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let bt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new vt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case i.ifc.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new yt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case i.ifc.ShadowDom:return new Ct(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=ft(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(ct),i.LFG(dt),i.LFG(i.AFp))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();class vt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(gt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;const o=gt[i];o?t.setAttributeNS(o,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const i=gt[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,o){o&(i.JOm.DashCase|i.JOm.Important)?t.style.setProperty(e,n,o&i.JOm.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&i.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,_t(n)):this.eventManager.addEventListener(t,e,_t(n))}}class yt extends vt{constructor(t,e,n,i){super(t),this.component=n;const o=ft(i+"-"+n.id,n.styles,[]);e.addStyles(o),this.contentAttr="_ngcontent-%COMP%".replace(mt,i+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(mt,i+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Ct extends vt{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=ft(i.id,i.styles,[]);for(let r=0;r<o.length;r++){const t=document.createElement("style");t.textContent=o[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Ot=(()=>{class t extends ut{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(s))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const Tt=["alt","control","meta","shift"],Et={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},St={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},wt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Mt=(()=>{class t extends ut{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,i){const o=t.parseEventName(n),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>r().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(n.pop());let r="";if(Tt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),r+=t+".")}),r+=o,0!=n.length||0===o.length)return null;const s={};return s.domEventName=i,s.fullKey=r,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&St.hasOwnProperty(e)&&(e=St[e]))}return Et[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Tt.forEach(i=>{i!=n&&(0,wt[i])(t)&&(e+=i+".")}),e+=n,e}static eventCallback(e,n,i){return o=>{t.getEventFullKey(o)===e&&i.runGuarded(()=>n(o))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(s))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),xt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,i.Yz7)({factory:function(){return(0,i.LFG)(kt)},token:t,providedIn:"root"}),t})();function Pt(t){return new kt(t.get(s))}let kt=(()=>{class t extends xt{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case i.q3G.NONE:return e;case i.q3G.HTML:return(0,i.qzn)(e,"HTML")?(0,i.z3N)(e):(0,i.EiD)(this._doc,String(e)).toString();case i.q3G.STYLE:return(0,i.qzn)(e,"Style")?(0,i.z3N)(e):e;case i.q3G.SCRIPT:if((0,i.qzn)(e,"Script"))return(0,i.z3N)(e);throw new Error("unsafe value used in a script context");case i.q3G.URL:return(0,i.yhl)(e),(0,i.qzn)(e,"URL")?(0,i.z3N)(e):(0,i.mCW)(String(e));case i.q3G.RESOURCE_URL:if((0,i.qzn)(e,"ResourceURL"))return(0,i.z3N)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,i.JVY)(t)}bypassSecurityTrustStyle(t){return(0,i.L6k)(t)}bypassSecurityTrustScript(t){return(0,i.eBb)(t)}bypassSecurityTrustUrl(t){return(0,i.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,i.pB0)(t)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(s))},t.\u0275prov=(0,i.Yz7)({factory:function(){return Pt((0,i.LFG)(i.gxx))},token:t,providedIn:"root"}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const It=(0,i.eFA)(i._c5,"browser",[{provide:i.Lbi,useValue:"browser"},{provide:i.g9A,useValue:function(){et.makeCurrent(),st.init()},multi:!0},{provide:s,useFactory:function(){return(0,i.RDi)(document),document},deps:[]}]),At=[[],{provide:i.zSh,useValue:"root"},{provide:i.qLn,useFactory:function(){return new i.qLn},deps:[]},{provide:lt,useClass:Ot,multi:!0,deps:[s,i.R0b,i.Lbi]},{provide:lt,useClass:Mt,multi:!0,deps:[s]},[],{provide:bt,useClass:bt,deps:[ct,dt,i.AFp]},{provide:i.FYo,useExisting:bt},{provide:ht,useExisting:dt},{provide:dt,useClass:dt,deps:[s]},{provide:i.dDg,useClass:i.dDg,deps:[i.R0b]},{provide:ct,useClass:ct,deps:[lt,i.R0b]},{provide:tt,useClass:at,deps:[]},[]];let Rt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:i.AFp,useValue:e.appId},{provide:ot,useExisting:i.AFp},rt]}}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(t,12))},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:At,imports:[J,i.hGG]}),t})();"undefined"!=typeof window&&window;var Dt=function(){return(Dt=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function Lt(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),o=0;for(e=0;e<n;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i}var Nt={log:console.log.bind(console),warn:console.warn.bind(console),error:console.error.bind(console)},Bt=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function Ft(t){if(Vt){if(Ut===t)return;qt()}var e=$t(t);throw Vt=e,Ut=t,setTimeout(fe(function(){Ut===t&&qt()}),e.incomplete?2e3:0),t}var Ut,Vt,Gt,jt,Ht,zt=[];function Wt(t,e,n){var i;if(zt.forEach(function(o){try{o(t,e,n)}catch(r){i=r}}),i)throw i}function Zt(t,e,n,i,o){if(Vt)Xt(Vt,e,n),qt();else if(o)Wt($t(o),!0,o);else{var r,s={url:e,column:i,line:n},a=t;if("[object String]"==={}.toString.call(t)){var l=Bt.exec(a);l&&(r=l[1],a=l[2])}Wt({name:r,message:"string"==typeof a?a:void 0,stack:[s]},!0,t)}return!!Gt&&Gt.apply(this,arguments)}function Yt(t){var e=t.reason||"Empty reason";Wt($t(e),!0,e)}function qt(){var t=Vt,e=Ut;Vt=void 0,Ut=void 0,Wt(t,!1,e)}var Jt="?";function $t(t,e){var n,i=void 0===e?0:+e;try{if(n=function(t){var e=te(t,"stacktrace");if(e){for(var n,i=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,o=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,r=e.split("\n"),s=[],a=0;a<r.length;a+=2){var l=void 0;i.exec(r[a])?l={args:[],column:void 0,func:(n=i.exec(r[a]))[3],line:+n[1],url:n[2]}:o.exec(r[a])&&(l={args:(n=o.exec(r[a]))[5]?n[5].split(","):[],column:+n[2],func:n[3]||n[4],line:+n[1],url:n[6]}),l&&(!l.func&&l.line&&(l.func=Jt),l.context=[r[a+1]],s.push(l))}if(s.length)return{stack:s,message:te(t,"message"),name:te(t,"name")}}}(t))return n}catch(nx){if(Kt)throw nx}try{if(n=function(t){var e=te(t,"stack");if(e){for(var n,i,o,r,s=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,a=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,l=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,c=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,u=/\((\S*)(?::(\d+))(?::(\d+))\)/,h=e.split("\n"),d=[],p=0,g=h.length;p<g;p+=1){if(s.exec(h[p])){var m=(o=s.exec(h[p]))[2]&&0===o[2].indexOf("native");n=o[2]&&0===o[2].indexOf("eval"),i=u.exec(o[2]),n&&i&&(o[2]=i[1],o[3]=i[2],o[4]=i[3]),r={args:m?[o[2]]:[],column:o[4]?+o[4]:void 0,func:o[1]||Jt,line:o[3]?+o[3]:void 0,url:m?void 0:o[2]}}else if(l.exec(h[p]))r={args:[],column:(o=l.exec(h[p]))[4]?+o[4]:void 0,func:o[1]||Jt,line:+o[3],url:o[2]};else{if(!a.exec(h[p]))continue;n=(o=a.exec(h[p]))[3]&&o[3].indexOf(" > eval")>-1,i=c.exec(o[3]),n&&i?(o[3]=i[1],o[4]=i[2],o[5]=void 0):0!==p||o[5]||void 0===t.columnNumber||(d[0].column=t.columnNumber+1),r={args:o[2]?o[2].split(","):[],column:o[5]?+o[5]:void 0,func:o[1]||Jt,line:o[4]?+o[4]:void 0,url:o[3]}}!r.func&&r.line&&(r.func=Jt),d.push(r)}if(d.length)return{stack:d,message:te(t,"message"),name:te(t,"name")}}}(t))return n}catch(nx){if(Kt)throw nx}try{if(n=function(t){var e=te(t,"message");if(e){var n=e.split("\n");if(!(n.length<4)){var i,o=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,r=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,s=/^\s*Line (\d+) of function script\s*$/i,a=[],l=window&&window.document&&window.document.getElementsByTagName("script"),c=[];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&!l[u].src&&c.push(l[u]);for(var h=2;h<n.length;h+=2){var d=void 0;o.exec(n[h])?d={args:[],column:void 0,func:(i=o.exec(n[h]))[3],line:+i[1],url:i[2]}:r.exec(n[h])?d={args:[],column:void 0,func:(i=r.exec(n[h]))[4],line:+i[1],url:i[3]}:s.exec(n[h])&&(i=s.exec(n[h]),d={url:window.location.href.replace(/#.*$/,""),args:[],column:void 0,func:"",line:+i[1]}),d&&(d.func||(d.func=Jt),d.context=[n[h+1]],a.push(d))}if(a.length)return{stack:a,message:n[0],name:te(t,"name")}}}}(t))return n}catch(nx){if(Kt)throw nx}try{if(n=Qt(t,i+1))return n}catch(nx){if(Kt)throw nx}return{message:te(t,"message"),name:te(t,"name"),stack:[]}}var Kt=!1;function Xt(t,e,n){var i={url:e,line:n?+n:void 0};if(i.url&&i.line){t.incomplete=!1;var o=t.stack;if(o.length>0&&o[0].url===i.url){if(o[0].line===i.line)return!1;if(!o[0].line&&o[0].func===i.func)return o[0].line=i.line,o[0].context=i.context,!1}return o.unshift(i),t.partial=!0,!0}return t.incomplete=!0,!1}function Qt(t,e){for(var n,i,o=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,r=[],s={},a=!1,l=Qt.caller;l&&!a;l=l.caller)l!==$t&&l!==Ft&&(i={args:[],column:void 0,func:Jt,line:void 0,url:void 0},n=o.exec(l.toString()),l.name?i.func=l.name:n&&(i.func=n[1]),void 0===i.func&&(i.func=n?n.input.substring(0,n.input.indexOf("{")):void 0),s[l.toString()]?a=!0:s[l.toString()]=!0,r.push(i));e&&r.splice(0,e);var c={stack:r,message:te(t,"message"),name:te(t,"name")};return Xt(c,te(t,"sourceURL")||te(t,"fileName"),te(t,"line")||te(t,"lineNumber")),c}function te(t,e){if("object"==typeof t&&t&&e in t){var n=t[e];return"string"==typeof n?n:void 0}}var ee,ne="console";function ie(t,e,n,i){return t&&(void 0!==t.message||e instanceof Error)?{message:t.message||"Empty message",stack:oe(t),handlingStack:i,type:t.name}:{message:n+" "+Re(e),stack:"No stack, consider using an instance of Error",handlingStack:i,type:t&&t.name}}function oe(t){var e=re(t);return t.stack.forEach(function(t){var n="?"===t.func?"<anonymous>":t.func,i=t.args&&t.args.length>0?"("+t.args.join(", ")+")":"";e+="\n  at "+n+i+" @ "+t.url+(t.line?":"+t.line:"")+(t.line&&t.column?":"+t.column:"")}),e}function re(t){return(t.name||"Error")+": "+t.message}function se(){var t,e=new Error;if(!e.stack)try{throw e}catch(nx){}return _e(function(){var n=$t(e);n.stack=n.stack.slice(2),t=oe(n)}),t}!function(t){t.HANDLED="handled",t.UNHANDLED="unhandled"}(ee||(ee={}));var ae,le=/[^\u0000-\u007F]/,ce=function(){function t(t,e,n,i,o,r){void 0===r&&(r=Ae),this.request=t,this.maxSize=e,this.bytesLimit=n,this.maxMessageSize=i,this.flushTimeout=o,this.beforeUnloadCallback=r,this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesSize=0,this.bufferMessageCount=0,this.flushOnVisibilityHidden(),this.flushPeriodically()}return t.prototype.add=function(t){this.addOrUpdate(t)},t.prototype.upsert=function(t,e){this.addOrUpdate(t,e)},t.prototype.flush=function(t){if(0!==this.bufferMessageCount){var e=Lt(this.pushOnlyBuffer,Fe(this.upsertBuffer));this.request.send(e.join("\n"),this.bufferBytesSize,t),this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesSize=0,this.bufferMessageCount=0}},t.prototype.sizeInBytes=function(t){return le.test(t)?void 0!==window.TextEncoder?(new TextEncoder).encode(t).length:new Blob([t]).size:t.length},t.prototype.addOrUpdate=function(t,e){var n=this.process(t),i=n.processedMessage,o=n.messageBytesSize;o>=this.maxMessageSize?Nt.warn("Discarded a message whose size was bigger than the maximum allowed size "+this.maxMessageSize+"KB."):(this.hasMessageFor(e)&&this.remove(e),this.willReachedBytesLimitWith(o)&&this.flush("willReachedBytesLimitWith"),this.push(i,o,e),this.isFull()&&this.flush("isFull"))},t.prototype.process=function(t){var e=Re(t);return{processedMessage:e,messageBytesSize:this.sizeInBytes(e)}},t.prototype.push=function(t,e,n){this.bufferMessageCount>0&&(this.bufferBytesSize+=1),void 0!==n?this.upsertBuffer[n]=t:this.pushOnlyBuffer.push(t),this.bufferBytesSize+=e,this.bufferMessageCount+=1},t.prototype.remove=function(t){var e=this.upsertBuffer[t];delete this.upsertBuffer[t];var n=this.sizeInBytes(e);this.bufferBytesSize-=n,this.bufferMessageCount-=1,this.bufferMessageCount>0&&(this.bufferBytesSize-=1)},t.prototype.hasMessageFor=function(t){return void 0!==t&&void 0!==this.upsertBuffer[t]},t.prototype.willReachedBytesLimitWith=function(t){return this.bufferBytesSize+t+1>=this.bytesLimit},t.prototype.isFull=function(){return this.bufferMessageCount===this.maxSize||this.bufferBytesSize>=this.bytesLimit},t.prototype.flushPeriodically=function(){var t=this;setTimeout(fe(function(){t.flush("flushPeriodically"),t.flushPeriodically()}),this.flushTimeout)},t.prototype.flushOnVisibilityHidden=function(){var t=this;navigator.sendBeacon&&(He(window,"beforeunload",this.beforeUnloadCallback),He(document,"visibilitychange",function(){"hidden"===document.visibilityState&&t.flush("visibilitychange")}),He(window,"beforeunload",function(){return t.flush("beforeunload")}))},t}(),ue=!1,he=function(){function t(t,e){this.endpointBuilder=t,this.bytesLimit=e}return t.prototype.send=function(t,e,n){var i=this.endpointBuilder.build(),o=!!navigator.sendBeacon&&e<this.bytesLimit;if(o)try{if(navigator.sendBeacon(i,t))return}catch(nx){!function(t){de||(de=!0,ve(t))}(nx)}var r=new XMLHttpRequest;r.addEventListener("loadend",fe(function(t){return function(t){var r=null==t?void 0:t.currentTarget;r.status>=200&&r.status<300||ue||(ue=!0,be("XHR fallback failed",{on_line:navigator.onLine,size:e,url:i,try_beacon:o,flush_reason:n,event:{is_trusted:t.isTrusted,total:t.total,loaded:t.loaded},request:{status:r.status,ready_state:r.readyState,response_text:r.responseText.slice(0,512)}}))}(t)})),r.open("POST",i,!0),r.send(t)},t}(),de=!1;!function(t){t.info="info",t.error="error"}(ae||(ae={}));var pe,ge={maxMessagesPerPage:0,sentMessageCount:0};function me(t){if(t.internalMonitoringEndpointBuilder){var e=function(t){var e,n=i(t.internalMonitoringEndpointBuilder);function i(e){return new ce(new he(e,t.batchBytesLimit),t.maxBatchSize,t.batchBytesLimit,t.maxMessageSize,t.flushTimeout)}return void 0!==t.replica&&(e=i(t.replica.internalMonitoringEndpointBuilder)),{add:function(t){var i=function(t){return Je({date:(new Date).getTime(),view:{referrer:document.referrer,url:window.location.href}},void 0!==pe?pe():{},t)}(t);n.add(i),e&&e.add(i)}}}(t);!function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];e.forEach(function(e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})}(ge,{batch:e,maxMessagesPerPage:t.maxInternalMonitoringMessagesPerPage,sentMessageCount:0})}return{setExternalContextProvider:function(t){pe=t}}}function fe(t){return function(){return _e(t,this,arguments)}}function _e(t,e,n){try{return t.apply(e,n)}catch(nx){Oe(nx);try{ve(nx)}catch(nx){Oe(nx)}}}function be(t,e){!function(t,e){ge.debugMode&&Nt.log("[MONITORING MESSAGE]",t,e)}(t,e),ye(Dt(Dt({message:t},e),{status:ae.info}))}function ve(t){ye(Dt(Dt({},function(t){if(t instanceof Error){var e=$t(t);return{error:{kind:e.name,stack:oe(e)},message:e.message}}return{error:{stack:"Not an instance of error"},message:"Uncaught "+Re(t)}}(t)),{status:ae.error}))}function ye(t){ge.batch&&ge.sentMessageCount<ge.maxMessagesPerPage&&(ge.sentMessageCount+=1,ge.batch.add(t))}function Ce(t){ge.debugMode=t}function Oe(t){ge.debugMode&&Nt.error("[INTERNAL ERROR]",t)}var Te,Ee,Se,we,Me=1e3;function xe(t,e,n){var i,o,r=!n||void 0===n.leading||n.leading,s=!n||void 0===n.trailing||n.trailing,a=!1;return{throttled:function(){for(var n=[],l=0;l<arguments.length;l++)n[l]=arguments[l];a?i=n:(r?t.apply(void 0,n):i=n,a=!0,o=setTimeout(function(){s&&i&&t.apply(void 0,i),a=!1,i=void 0},e))},cancel:function(){clearTimeout(o),a=!1,i=void 0}}}function Pe(t){return t?(parseInt(t,10)^16*Math.random()>>parseInt(t,10)/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,Pe)}function ke(t){return 0!==t&&100*Math.random()<=t}function Ie(t,e){return+t.toFixed(e)}function Ae(){}function Re(t,e,n){if(null==t)return JSON.stringify(t);var i=[!1,void 0];De(t)&&(i=[!0,t.toJSON],delete t.toJSON);var o,r,s=[!1,void 0];"object"==typeof t&&De(o=Object.getPrototypeOf(t))&&(s=[!0,o.toJSON],delete o.toJSON);try{r=JSON.stringify(t,e,n)}catch($o){r="<error: unable to serialize object>"}finally{i[0]&&(t.toJSON=i[1]),s[0]&&(o.toJSON=s[1])}return r}function De(t){return"object"==typeof t&&null!==t&&t.hasOwnProperty("toJSON")}function Le(t,e){return-1!==t.indexOf(e)}function Ne(t){return Be(t)&&t>=0&&t<=100}function Be(t){return"number"==typeof t}function Fe(t){return Object.keys(t).map(function(e){return t[e]})}function Ue(t){return Object.keys(t).map(function(e){return[e,t[e]]})}function Ve(t){return 0===Object.keys(t).length}function Ge(t){if(t.origin)return t.origin;var e=t.host.replace(/(:80|:443)$/,"");return t.protocol+"//"+e}function je(t,e){var n=new RegExp("(?:^|;)\\s*"+e+"\\s*=\\s*([^;]+)").exec(t);return n?n[1]:void 0}function He(t,e,n,i){return ze(t,[e],n,i)}function ze(t,e,n,i){var o=void 0===i?{}:i,r=o.capture,s=o.passive,a=fe(o.once?function(t){c(),n(t)}:n),l=s?{capture:r,passive:s}:r;e.forEach(function(e){return t.addEventListener(e,a,l)});var c=function(){return e.forEach(function(e){return t.removeEventListener(e,a,l)})};return{stop:c}}function We(t,e){document.readyState===t||"complete"===document.readyState?e():He(window,"complete"===t?"load":"DOMContentLoaded",e,{once:!0})}function Ze(t){return null===t?"null":Array.isArray(t)?"array":typeof t}function Ye(t,e,n){if(void 0===n&&(n=function(){if("undefined"!=typeof WeakSet){var t=new WeakSet;return{hasAlreadyBeenSeen:function(e){var n=t.has(e);return n||t.add(e),n}}}var e=[];return{hasAlreadyBeenSeen:function(t){var n=e.indexOf(t)>=0;return n||e.push(t),n}}}()),void 0===e)return t;if("object"!=typeof e||null===e)return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){var i=e.flags||[e.global?"g":"",e.ignoreCase?"i":"",e.multiline?"m":"",e.sticky?"y":"",e.unicode?"u":""].join("");return new RegExp(e.source,i)}if(!n.hasAlreadyBeenSeen(e)){if(Array.isArray(e)){for(var o=Array.isArray(t)?t:[],r=0;r<e.length;++r)o[r]=Ye(o[r],e[r],n);return o}var s="object"===Ze(t)?t:{};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(s[a]=Ye(s[a],e[a],n));return s}}function qe(t){return Ye(void 0,t)}function Je(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var i=0,o=e;i<o.length;i++){var r=o[i];null!=r&&(t=Ye(t,r))}return t}function $e(t,e,n,i){var o=new Date;o.setTime(o.getTime()+n);var r="expires="+o.toUTCString();document.cookie=t+"="+e+";"+r+";path=/;samesite="+(i&&i.crossSite?"none":"strict")+(i&&i.domain?";domain="+i.domain:"")+(i&&i.secure?";secure":"")}function Ke(t){return je(document.cookie,t)}function Xe(t,e){$e(t,"",0,e)}function Qe(t,e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];try{return t.apply(void 0,n)}catch(o){Nt.error(e,o)}}}function tn(t){return{relative:t,timeStamp:(e=t,n=Date.now()-performance.now(),n>an()?Math.round(n+e):function(t){return Math.round(an()+t)}(e))};var e,n}function en(t){return Be(t)?Ie(1e6*t,0):t}function nn(){return Date.now()}function on(){return performance.now()}function rn(){return{relative:on(),timeStamp:nn()}}function sn(t,e){return e-t}function an(){return void 0===we&&(we=performance.timing.navigationStart),we}!function(t){t.DOCUMENT="document",t.XHR="xhr",t.BEACON="beacon",t.FETCH="fetch",t.CSS="css",t.JS="js",t.IMAGE="image",t.FONT="font",t.MEDIA="media",t.OTHER="other"}(Te||(Te={})),function(t){t.FETCH="fetch",t.XHR="xhr"}(Ee||(Ee={}));var ln={alternate:{logs:"logs",rum:"rum",sessionReplay:"session-replay"},classic:{logs:"browser",rum:"rum",sessionReplay:void 0}},cn={logs:"logs",rum:"rum",sessionReplay:"replay"},un="datadoghq.com",hn="datadoghq.eu",dn=[un,hn],pn=[un,"us3.datadoghq.com",hn,"ddog-gov.com"];function gn(t,e,n,i){var o=e.sdkVersion,r=t.site,s=void 0===r?un:r,a=t.clientToken,l=t.env,c=t.proxyHost,u=t.proxyUrl,h=t.service,d=t.version,p=t.intakeApiVersion,g=t.useAlternateIntakeDomains,m=function(t){if(function(t){return g||!Le(dn,s)||"sessionReplay"===t}(t)){var e=ln.alternate[t],n=s.split("."),i=n.pop();return e+".browser-intake-"+n.join("-")+"."+i}return ln.classic[t]+"-http-intake.logs."+s}(n),f=function(t){return b(t)?"/api/v2/"+cn[t]:"/v1/input/"+a}(n);function _(){var t=function(t,e){var n="ddsource="+(e||"browser")+"&ddtags="+encodeURIComponent("sdk_version:"+o+(l?",env:"+l:"")+(h?",service:"+h:"")+(d?",version:"+d:""));return b(t)&&(n+="&dd-api-key="+a+"&dd-evp-origin-version="+encodeURIComponent(o)+"&dd-evp-origin=browser&dd-request-id="+Pe()),"rum"===t&&(n+="&batch_time="+nn()),n}(n,i),e="https://"+m+f+"?"+t;return u?u+"?ddforward="+encodeURIComponent(e):c?"https://"+c+f+"?ddhost="+m+"&"+t:e}function b(t){return 2===p||!Le(pn,s)||"sessionReplay"===t}return{build:_,buildIntakeUrl:function(){var t=_();return t.slice(0,t.indexOf("?"))}}}var mn,fn,_n={ALLOW:"allow",MASK:"mask",MASK_USER_INPUT:"mask-user-input"},bn={allowedTracingOrigins:[],maxErrorsPerMinute:3e3,maxActionsPerMinute:3e3,maxInternalMonitoringMessagesPerPage:15,sampleRate:100,replaySampleRate:100,silentMultipleInit:!1,trackInteractions:!1,trackViewsManually:!1,defaultPrivacyLevel:_n.MASK_USER_INPUT,requestErrorResponseLengthLimit:32768,flushTimeout:3e4,maxBatchSize:50,maxMessageSize:262144,batchBytesLimit:16384};function vn(t){var e={};return e.secure=function(t){return!!t.useSecureSessionCookie||!!t.useCrossSiteSessionCookie}(t),e.crossSite=!!t.useCrossSiteSessionCookie,t.trackSessionAcrossSubdomains&&(e.domain=function(){if(void 0===Se){for(var t="dd_site_test_"+Pe(),e=window.location.hostname.split("."),n=e.pop();e.length&&!Ke(t);)n=e.pop()+"."+n,$e(t,"test",Me,{domain:n});Xe(t,{domain:n}),Se=n}return Se}()),e}function yn(t){return!!mn&&mn.has(t)}!function(t){t.RELEASE="release",t.STAGING="staging",t.CANARY="canary",t.E2E_TEST="e2e-test"}(fn||(fn={}));var Cn,On,Tn,En=function(){return(En=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Sn=function(){function t(t){void 0===t&&(t=1e4),this.limit=t,this.buffer=[]}return t.prototype.add=function(t){this.buffer.push(t)>this.limit&&this.buffer.splice(0,1)},t.prototype.drain=function(){this.buffer.forEach(function(t){return t()}),this.buffer.length=0},t}();function wn(){return!(!yn("event-bridge")||!window.DatadogEventBridge)}!function(t){t.ACTION="action",t.ERROR="error",t.LONG_TASK="long_task",t.VIEW="view",t.RESOURCE="resource"}(Cn||(Cn={})),function(t){t.INITIAL_LOAD="initial_load",t.ROUTE_CHANGE="route_change"}(On||(On={})),function(t){t.CLICK="click",t.CUSTOM="custom"}(Tn||(Tn={}));var Mn,xn={buildMode:"release",sdkVersion:"3.6.13"},Pn=function(){function t(t){this.onFirstSubscribe=t,this.observers=[]}return t.prototype.subscribe=function(t){var e=this;return!this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe()||void 0),this.observers.push(t),{unsubscribe:function(){e.observers=e.observers.filter(function(e){return t!==e}),!e.observers.length&&e.onLastUnsubscribe&&e.onLastUnsubscribe()}}},t.prototype.notify=function(t){this.observers.forEach(function(e){return e(t)})},t}();function kn(){var t,e=window;if(e.Zone){var n=e.Zone.__symbol__("MutationObserver");t=e[n]}return t||(t=e.MutationObserver),t}!function(t){t[t.PERFORMANCE_ENTRY_COLLECTED=0]="PERFORMANCE_ENTRY_COLLECTED",t[t.AUTO_ACTION_CREATED=1]="AUTO_ACTION_CREATED",t[t.AUTO_ACTION_COMPLETED=2]="AUTO_ACTION_COMPLETED",t[t.AUTO_ACTION_DISCARDED=3]="AUTO_ACTION_DISCARDED",t[t.VIEW_CREATED=4]="VIEW_CREATED",t[t.VIEW_UPDATED=5]="VIEW_UPDATED",t[t.VIEW_ENDED=6]="VIEW_ENDED",t[t.REQUEST_STARTED=7]="REQUEST_STARTED",t[t.REQUEST_COMPLETED=8]="REQUEST_COMPLETED",t[t.SESSION_EXPIRED=9]="SESSION_EXPIRED",t[t.SESSION_RENEWED=10]="SESSION_RENEWED",t[t.BEFORE_UNLOAD=11]="BEFORE_UNLOAD",t[t.RAW_RUM_EVENT_COLLECTED=12]="RAW_RUM_EVENT_COLLECTED",t[t.RUM_EVENT_COLLECTED=13]="RUM_EVENT_COLLECTED",t[t.RAW_ERROR_COLLECTED=14]="RAW_ERROR_COLLECTED"}(Mn||(Mn={}));var In,An=function(){function t(){this.callbacks={}}return t.prototype.notify=function(t,e){var n=this.callbacks[t];n&&n.forEach(function(t){return t(e)})},t.prototype.subscribe=function(t,e){var n=this;return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),{unsubscribe:function(){n.callbacks[t]=n.callbacks[t].filter(function(t){return e!==t})}}},t}();function Rn(t){return Dn(t,Ge(window.location)).href}function Dn(t,e){if(function(){if(void 0!==In)return In;try{var t=new URL("http://test/path");return In="http://test/path"===t.href}catch($o){In=!1}return In}())return void 0!==e?new URL(t,e):new URL(t);if(void 0===e&&!/:/.test(t))throw new Error("Invalid URL: '"+t+"'");var n=document,i=n.createElement("a");if(void 0!==e){var o=(n=document.implementation.createHTMLDocument("")).createElement("base");o.href=e,n.head.appendChild(o),n.body.appendChild(i)}return i.href=t,i}var Ln="initial_document",Nn=[[Te.DOCUMENT,function(t){return Ln===t}],[Te.XHR,function(t){return"xmlhttprequest"===t}],[Te.FETCH,function(t){return"fetch"===t}],[Te.BEACON,function(t){return"beacon"===t}],[Te.CSS,function(t,e){return/\.css$/i.test(e)}],[Te.JS,function(t,e){return/\.js$/i.test(e)}],[Te.IMAGE,function(t,e){return Le(["image","img","icon"],t)||null!==/\.(gif|jpg|jpeg|tiff|png|svg|ico)$/i.exec(e)}],[Te.FONT,function(t,e){return null!==/\.(woff|eot|woff2|ttf)$/i.exec(e)}],[Te.MEDIA,function(t,e){return Le(["audio","video"],t)||null!==/\.(mp3|mp4)$/i.exec(e)}]];function Bn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=1;n<t.length;n+=1)if(t[n-1]>t[n])return!1;return!0}function Fn(t){var e=Un(t);if(e){var n=e.startTime,i=e.fetchStart,o=e.redirectStart,r=e.redirectEnd,s=e.domainLookupStart,a=e.domainLookupEnd,l=e.connectStart,c=e.secureConnectionStart,u=e.connectEnd,h=e.requestStart,d=e.responseStart,p={download:Gn(n,d,e.responseEnd),first_byte:Gn(n,h,d)};return u!==i&&(p.connect=Gn(n,l,u),Bn(l,c,u)&&(p.ssl=Gn(n,c,u))),a!==i&&(p.dns=Gn(n,s,a)),Vn(t)&&(p.redirect=Gn(n,o,r)),p}}function Un(t){if(Bn(t.startTime,t.fetchStart,t.domainLookupStart,t.domainLookupEnd,t.connectStart,t.connectEnd,t.requestStart,t.responseStart,t.responseEnd)){if(!Vn(t))return t;var e=t.redirectStart,n=t.redirectEnd;if(e<t.startTime&&(e=t.startTime),n<t.startTime&&(n=t.fetchStart),Bn(t.startTime,e,n,t.fetchStart))return En(En({},t),{redirectEnd:n,redirectStart:e})}}function Vn(t){return t.fetchStart!==t.startTime}function Gn(t,e,n){return{duration:en(sn(e,n)),start:en(sn(t,e))}}function jn(t){if(t.startTime<t.responseStart)return t.decodedBodySize}function Hn(t,e){return e&&!t.isIntakeUrl(e)}function zn(t){var e=function(t){var e=t.querySelector("meta[name=dd-trace-id]"),n=t.querySelector("meta[name=dd-trace-time]");return Wn(e&&e.content,n&&n.content)}(t)||function(t){var e=function(t){for(var e=0;e<t.childNodes.length;e+=1)if(n=Zn(t.childNodes[e]))return n;if(t.body)for(e=t.body.childNodes.length-1;e>=0;e-=1){var n,i=t.body.childNodes[e];if(n=Zn(i))return n;if(!Yn(i))break}}(t);if(e)return Wn(je(e,"trace-id"),je(e,"trace-time"))}(t);if(e&&!(e.traceTime<=Date.now()-12e4))return e.traceId}function Wn(t,e){var n=e&&Number(e);if(t&&n)return{traceId:t,traceTime:n}}function Zn(t){if(t&&function(t){return"#comment"===t.nodeName}(t)){var e=/^\s*DATADOG;(.*?)\s*$/.exec(t.data);if(e)return e[1]}}function Yn(t){return"#text"===t.nodeName}function qn(){return void 0!==window.performance&&"getEntries"in performance}function Jn(t){return window.PerformanceObserver&&void 0!==PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes(t)}function $n(){var t={},e=performance.timing;for(var n in e)if(Be(e[n])){var i=e[n];t[n]=0===i?0:i-an()}return t}function Kn(t,e,n){n.forEach(function(n){"resource"!==n.entryType&&"navigation"!==n.entryType&&"paint"!==n.entryType&&"longtask"!==n.entryType&&"largest-contentful-paint"!==n.entryType&&"first-input"!==n.entryType&&"layout-shift"!==n.entryType||Xn(t,e,n)})}function Xn(t,e,n){(function(t){return"navigation"===t.entryType&&t.loadEventEnd<=0})(n)||function(t,e){return"resource"===e.entryType&&!Hn(t,e.name)}(e,n)||t.notify(Mn.PERFORMANCE_ENTRY_COLLECTED,n)}function Qn(t,e,n){var i=0,o=!1;return{isLimitReached:function(){if(0===i&&setTimeout(function(){i=0},6e4),(i+=1)<=e||o)return o=!1,!1;if(i===e+1){o=!0;try{n({message:"Reached max number of "+t+"s by minute: "+e,source:"agent",startClocks:rn()})}finally{o=!1}}return!0}}}function ti(t,e){for(var n=t,i=0,o=e.split(".");i<o.length;i++){var r=o[i];if(!ni(n,r))return;n=n[r]}return n}function ei(t,e,n){for(var i=t,o=e.split("."),r=0;r<o.length;r+=1){var s=o[r];if(!ni(i,s))return;r!==o.length-1?i=i[s]:i[s]=n}}function ni(t,e){return"object"==typeof t&&null!==t&&e in t}var ii=9e5;var oi=/^([a-z]+)=([a-z0-9-]+)$/;function ri(t){var e=function(t){var e=t.get(),n={};return function(t){return void 0!==t&&(-1!==t.indexOf("&")||oi.test(t))}(e)&&e.split("&").forEach(function(t){var e=oi.exec(t);null!==e&&(n[e[1]]=e[2])}),n}(t);return function(t){return(void 0===t.created||Date.now()-Number(t.created)<144e5)&&(void 0===t.expire||Date.now()<Number(t.expire))}(e)?e:(ai(t),{})}function si(t,e){if(Ve(t))ai(e);else{t.expire=String(Date.now()+ii);var n=Ue(t).map(function(t){return t[0]+"="+t[1]}).join("&");e.set(n,ii)}}function ai(t){t.set("",0)}var li,ci,ui,hi=[];function di(t){return void 0!==t.getId()&&pi(t.getTrackingType())}function pi(t){return t===ci.TRACKED_LITE||t===ci.TRACKED_REPLAY}!function(t){t[t.LITE=1]="LITE",t[t.REPLAY=2]="REPLAY"}(li||(li={})),function(t){t.NOT_TRACKED="0",t.TRACKED_REPLAY="1",t.TRACKED_LITE="2"}(ci||(ci={})),function(t){t.SYNTHETICS="synthetics",t.USER="user"}(ui||(ui={}));var gi=["view.url","view.referrer","action.target.name","error.message","error.stack","error.resource.url","resource.url"],mi=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),o=0;for(e=0;e<n;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i}(gi,["context"]);function fi(){var t=window._DATADOG_SYNTHETICS_PUBLIC_ID,e=window._DATADOG_SYNTHETICS_RESULT_ID;if("string"==typeof t&&"string"==typeof e)return{test_id:t,result_id:e}}var _i=[];function bi(){if(!(_i.length>2500)){var t=_i[_i.length-1],e=on();void 0!==t&&void 0===t.end||_i.push({start:e})}}function vi(){if(0!==_i.length){var t=_i[_i.length-1],e=on();void 0===t.end&&(t.end=e)}}function yi(t){for(var e=_i.length-1;e>=0;e--){var n=_i[e];if(void 0!==n.end&&t>n.end)break;if(t>n.start&&(void 0===n.end||t<n.end))return!0}return!1}function Ci(t,e){for(var n=t+e,i=[],o=Math.max(0,_i.length-500),r=_i.length-1;r>=o;r--){var s=_i[r];if(void 0!==s.end&&t>s.end)break;if(!(n<s.start)){var a=t>s.start?t:s.start,l=sn(t,a),c=sn(a,void 0===s.end||n<s.end?n:s.end);i.unshift({start:en(l),duration:en(c)})}}return i}var Oi,Ti,Ei=function(){function t(t){var e=this;this.expireDelay=t,this.previousContexts=[],this.clearOldContextsInterval=setInterval(function(){return e.clearOldContexts()},6e4)}return t.prototype.find=function(t){if(void 0===t||void 0!==this.current&&void 0!==this.currentStart&&t>=this.currentStart)return this.current;for(var e=0,n=this.previousContexts;e<n.length;e++){var i=n[e];if(t>i.endTime)break;if(t>=i.startTime)return i.context}},t.prototype.setCurrent=function(t,e){this.current=t,this.currentStart=e},t.prototype.getCurrent=function(){return this.current},t.prototype.clearCurrent=function(){this.current=void 0,this.currentStart=void 0},t.prototype.closeCurrent=function(t){void 0!==this.current&&void 0!==this.currentStart&&(this.previousContexts.unshift({endTime:t,context:this.current,startTime:this.currentStart}),this.clearCurrent())},t.prototype.clearOldContexts=function(){for(var t=on()-this.expireDelay;this.previousContexts.length>0&&this.previousContexts[this.previousContexts.length-1].startTime<t;)this.previousContexts.pop()},t.prototype.reset=function(){this.clearCurrent(),this.previousContexts=[]},t.prototype.stop=function(){clearInterval(this.clearOldContextsInterval)},t}();function Si(t,e,n){var i=t[e],o=n(i),r=function(){return o.apply(this,arguments)};return t[e]=r,{stop:function(){t[e]===r?t[e]=i:o=i}}}function wi(t,e,n){var i=n.before,o=n.after;return Si(t,e,function(t){return function(){var e,n=arguments;return i&&_e(i,this,n),"function"==typeof t&&(e=t.apply(this,n)),o&&_e(o,this,n),e}})}function Mi(){var t;return Oi||(t=new Pn(function(){var e=wi(XMLHttpRequest.prototype,"open",{before:xi}).stop,n=wi(XMLHttpRequest.prototype,"send",{before:function(){Pi.call(this,t)}}).stop,i=wi(XMLHttpRequest.prototype,"abort",{before:ki}).stop;return function(){e(),n(),i()}}),Oi=t),Oi}function xi(t,e){this._datadog_xhr={state:"open",method:t,url:Rn(e)}}function Pi(t){var e=this;if(this._datadog_xhr){var n=this._datadog_xhr;n.state="start",n.startTime=on(),n.startClocks=rn(),n.isAborted=!1,n.xhr=this;var i=!1,o=wi(this,"onreadystatechange",{before:function(){this.readyState===XMLHttpRequest.DONE&&r()}}).stop,r=fe(function(){if(e.removeEventListener("loadend",r),o(),!i){i=!0;var s=e._datadog_xhr;s.state="complete",s.duration=sn(n.startClocks.timeStamp,nn()),s.responseText=e.response,s.status=e.status,t.notify(Dt({},s))}});this.addEventListener("loadend",r),t.notify(n)}}function ki(){this._datadog_xhr&&(this._datadog_xhr.isAborted=!0)}function Ii(t,e,n){var i=n&&n.method||"object"==typeof e&&e.method||"GET",o=Rn("object"==typeof e&&e.url||e),r={state:"start",init:n,input:e,method:i,startClocks:rn(),url:o};return t.notify(r),r}function Ai(t,e,n){var i=this,o=function(e){return o=i,void 0,s=function(){var i,o,r;return function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(nx){r=[6,nx],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}}(this,function(s){switch(s.label){case 0:return(i=n).state="complete",i.duration=sn(i.startClocks.timeStamp,nn()),"stack"in e||e instanceof Error?(i.status=0,i.responseText=oe($t(e)),i.isAborted=e instanceof DOMException&&e.code===DOMException.ABORT_ERR,i.error=e,t.notify(i),[3,6]):[3,1];case 1:if(!("status"in e))return[3,6];o=void 0,s.label=2;case 2:return s.trys.push([2,4,,5]),[4,e.clone().text()];case 3:return o=s.sent(),[3,5];case 4:return r=s.sent(),o="Unable to retrieve response: "+r,[3,5];case 5:i.response=e,i.responseText=o,i.responseType=e.type,i.status=e.status,i.isAborted=!1,t.notify(i),s.label=6;case 6:return[2]}})},new((r=void 0)||(r=Promise))(function(t,e){function n(t){try{a(s.next(t))}catch(nx){e(nx)}}function i(t){try{a(s.throw(t))}catch(nx){e(nx)}}function a(e){var o;e.done?t(e.value):(o=e.value,o instanceof r?o:new r(function(t){t(o)})).then(n,i)}a((s=s.apply(o,[])).next())});var o,r,s};e.then(fe(o),fe(o))}function Ri(t){0!==t.status||t.isAborted||(t.traceId=void 0,t.spanId=void 0)}function Di(t,e,n,i){var o;void 0!==Li()&&function(t,e){for(var n=Ge(Dn(e)),i=0,o=t.allowedTracingOrigins;i<o.length;i++){var r=o[i];if(n===r||r instanceof RegExp&&r.test(n))return!0}return!1}(t,e.url)&&n.isTracked()&&(e.traceId=new Ni,e.spanId=new Ni,i((o=e.traceId,{"x-datadog-origin":"rum","x-datadog-parent-id":e.spanId.toDecimalString(),"x-datadog-sampled":"1","x-datadog-sampling-priority":"1","x-datadog-trace-id":o.toDecimalString()})))}function Li(){return window.crypto||window.msCrypto}var Ni=function(){function t(){this.buffer=new Uint8Array(8),Li().getRandomValues(this.buffer),this.buffer[0]=127&this.buffer[0]}return t.prototype.toString=function(t){for(var e=this.readInt32(0),n=this.readInt32(4),i="";;){var o=e%t*4294967296+n;if(e=Math.floor(e/t),n=Math.floor(o/t),i=(o%t).toString(t)+i,!e&&!n)break}return i},t.prototype.toDecimalString=function(){return this.toString(10)},t.prototype.readInt32=function(t){return 16777216*this.buffer[t]+(this.buffer[t+1]<<16)+(this.buffer[t+2]<<8)+this.buffer[t+3]},t}(),Bi=1;function Fi(){var t=Bi;return Bi+=1,t}function Ui(t,e){void 0===e&&(e=Ae);var n={errorCount:0,longTaskCount:0,resourceCount:0,userActionCount:0},i=t.subscribe(Mn.RUM_EVENT_COLLECTED,function(t){switch(t.type){case Cn.ERROR:n.errorCount+=1,e(n);break;case Cn.ACTION:n.userActionCount+=1,e(n);break;case Cn.LONG_TASK:n.longTaskCount+=1,e(n);break;case Cn.RESOURCE:n.resourceCount+=1,e(n)}});return{stop:function(){i.unsubscribe()},eventCounts:n}}function Vi(t,e,n,i){return function(t,e,n){var i,o=!1,r=nn(),s=setTimeout(fe(function(){return u({hadActivity:!1})}),100),a=n&&setTimeout(fe(function(){return u({hadActivity:!0,duration:sn(r,nn())})}),n),l=t.subscribe(function(t){var e=t.isBusy;clearTimeout(s),clearTimeout(i);var n=nn();e||(i=setTimeout(fe(function(){return u({hadActivity:!0,duration:sn(r,n)})}),100))}),c=function(){o=!0,clearTimeout(s),clearTimeout(i),clearTimeout(a),l.unsubscribe()};function u(t){o||(c(),e(t))}return{stop:c}}(function(t,e){var n=new Pn(function(){var n,o=[],r=0;return o.push(e.subscribe(function(){return i(r)}),t.subscribe(Mn.PERFORMANCE_ENTRY_COLLECTED,function(t){"resource"===t.entryType&&i(r)}),t.subscribe(Mn.REQUEST_STARTED,function(t){void 0===n&&(n=t.requestIndex),i(++r)}),t.subscribe(Mn.REQUEST_COMPLETED,function(t){void 0===n||t.requestIndex<n||i(--r)})),function(){return o.forEach(function(t){return t.unsubscribe()})}});function i(t){n.notify({isBusy:t>0})}return n}(t,e),n,i)}function Gi(t,e){var n;if(void 0===Hi&&(Hi="closest"in HTMLElement.prototype),Hi)n=t.closest("["+e+"]");else for(var i=t;i;){if(i.hasAttribute(e)){n=i;break}i=i.parentElement}if(n)return qi(Yi(n.getAttribute(e).trim()))}var ji,Hi,zi=[function(t){if(void 0===ji&&(ji="labels"in HTMLInputElement.prototype),ji){if("labels"in t&&t.labels&&t.labels.length>0)return Ji(t.labels[0])}else if(t.id){var e=t.ownerDocument&&t.ownerDocument.querySelector('label[for="'+t.id.replace('"','\\"')+'"]');return e&&Ji(e)}},function(t){if("INPUT"===t.nodeName){var e=t,n=e.getAttribute("type");if("button"===n||"submit"===n||"reset"===n)return e.value}},function(t){if("BUTTON"===t.nodeName||"LABEL"===t.nodeName||"button"===t.getAttribute("role"))return Ji(t)},function(t){return t.getAttribute("aria-label")},function(t){var e=t.getAttribute("aria-labelledby");if(e)return e.split(/\s+/).map(function(e){return function(t,e){return t.ownerDocument?t.ownerDocument.getElementById(e):null}(t,e)}).filter(function(t){return Boolean(t)}).map(Ji).join(" ")},function(t){return t.getAttribute("alt")},function(t){return t.getAttribute("name")},function(t){return t.getAttribute("title")},function(t){return t.getAttribute("placeholder")},function(t){if("options"in t&&t.options.length>0)return Ji(t.options[0])}],Wi=[function(t){return Ji(t)}];function Zi(t,e){for(var n=t,i=0;i<=10&&n&&"BODY"!==n.nodeName&&"HTML"!==n.nodeName&&"HEAD"!==n.nodeName;){for(var o=0,r=e;o<r.length;o++){var s=(0,r[o])(n);if("string"==typeof s){var a=s.trim();if(a)return qi(Yi(a))}}if("FORM"===n.nodeName)break;n=n.parentElement,i+=1}}function Yi(t){return t.replace(/\s+/g," ")}function qi(t){return t.length>100?(n=(e=t).charCodeAt(99),e.slice(0,n>=55296&&n<=56319?101:100)+" [...]"):t;var e,n}function Ji(t){if(!t.isContentEditable){if("innerText"in t){var e=t.innerText;if(Boolean(document.documentMode))for(var n=t.querySelectorAll("script, style"),i=0;i<n.length;i+=1){var o=n[i].innerText;o.trim().length>0&&(e=e.replace(o,""))}return e}return t.textContent}}var $i,Ki,Xi,Qi=function(){function t(t,e,n,i){this.lifeCycle=t,this.type=e,this.name=n,this.event=i,this.id=Pe(),this.startClocks=rn(),this.eventCountsSubscription=Ui(t),this.lifeCycle.notify(Mn.AUTO_ACTION_CREATED,{id:this.id,startClocks:this.startClocks})}return t.prototype.complete=function(t){var e=this.eventCountsSubscription.eventCounts;this.lifeCycle.notify(Mn.AUTO_ACTION_COMPLETED,{counts:{errorCount:e.errorCount,longTaskCount:e.longTaskCount,resourceCount:e.resourceCount},duration:t,id:this.id,name:this.name,startClocks:this.startClocks,type:this.type,event:this.event}),this.eventCountsSubscription.stop()},t.prototype.discard=function(){this.lifeCycle.notify(Mn.AUTO_ACTION_DISCARDED),this.eventCountsSubscription.stop()},t}();function to(t,e){var n=eo(t)?{action:{error:{count:t.counts.errorCount},id:t.id,loading_time:en(t.duration),long_task:{count:t.counts.longTaskCount},resource:{count:t.counts.resourceCount}}}:void 0,i=eo(t)?void 0:t.context,o=Je({action:{id:Pe(),target:{name:t.name},type:t.type},date:t.startClocks.timeStamp,type:Cn.ACTION},n),r=e.isInForegroundAt(t.startClocks.relative);return void 0!==r&&(o.view={in_foreground:r}),{customerContext:i,rawRumEvent:o,startTime:t.startClocks.relative,domainContext:eo(t)?{event:t.event}:{}}}function eo(t){return t.type!==Tn.CUSTOM}function no(t,e){var n=function(t,e){for(var n=0;n<t.length;n+=1){var i=t[n];if(i instanceof Error)return i}}(t);return{message:Lt(["console error:"],t).map(function(t){return function(t){return"string"==typeof t?t:t instanceof Error?re($t(t)):Re(t,void 0,2)}(t)}).join(" "),stack:n?oe($t(n)):void 0,handlingStack:e}}function io(t){return t.startTime+t.duration}function oo(t){return{resource:En({duration:(e=t,n=e.duration,i=e.startTime,o=e.responseEnd,en(0===n&&i<o?sn(i,o):n)),size:jn(t)},Fn(t))};var e,n,i,o}function ro(t){return"function"==typeof PerformanceEntry&&t instanceof PerformanceEntry&&t.toJSON(),t}function so(t){return void 0===t&&(t=window),Xi||("hidden"===document.visibilityState?Xi={timeStamp:0}:(Xi={timeStamp:1/0},He(t,"pagehide",function(t){Xi.timeStamp=t.timeStamp},{capture:!0,once:!0}))),Xi}var ao=6e5;function lo(t,e,n,i,o,r){void 0===o&&(o=rn());var s,a=Pe(),l={},c={},u=0,h=En({},n);t.notify(Mn.VIEW_CREATED,{id:a,name:r,startClocks:o});var d=xe(fe(v),3e3,{leading:!1}),p=d.throttled,g=d.cancel,m=function(t,e,n,i){var o,r={eventCounts:{errorCount:0,longTaskCount:0,resourceCount:0,userActionCount:0}},s=Ui(t,function(t){r.eventCounts=t,n()}).stop,a=function(t,e){var i=t===On.INITIAL_LOAD,o=!0,s=[];function a(){var t;!o&&!i&&s.length>0&&(t=Math.max.apply(Math,s),r.loadingTime=t,n())}return{setLoadEvent:function(t){i&&(i=!1,s.push(t),a())},setActivityLoadingTime:function(t){o&&(o=!1,void 0!==t&&s.push(t),a())}}}(i),l=a.setLoadEvent,c=function(t,e,n){return Vi(t,e,function(t){n(t.hadActivity?t.duration:void 0)})}(t,e,a.setActivityLoadingTime).stop;return Jn("layout-shift")?(r.cumulativeLayoutShift=0,o=function(t,e){var i=0,o=function(){var t,e,n=0;return{update:function(i){void 0===t||i.startTime-e>=Me||i.startTime-t>=5e3?(t=e=i.startTime,n=i.value):(n+=i.value,e=i.startTime)},value:function(){return n}}}();return{stop:t.subscribe(Mn.PERFORMANCE_ENTRY_COLLECTED,function(t){var e;"layout-shift"!==t.entryType||t.hadRecentInput||(o.update(t),o.value()>i&&(e=Ie(i=o.value(),4),r.cumulativeLayoutShift=e,n()))}).unsubscribe}}(t).stop):o=Ae,{stop:function(){s(),c(),o()},setLoadEvent:l,viewMetrics:r}}(t,e,p,i),f=m.setLoadEvent,_=m.stop,b=m.viewMetrics;function v(){u+=1;var e=void 0===s?nn():s.timeStamp;t.notify(Mn.VIEW_UPDATED,En(En({},b),{customTimings:c,documentVersion:u,id:a,name:r,loadingType:i,location:h,startClocks:o,timings:l,duration:sn(o.timeStamp,e),isActive:void 0===s}))}return v(),{name:r,scheduleUpdate:p,end:function(e){void 0===e&&(e=rn()),s=e,_(),t.notify(Mn.VIEW_ENDED,{endClocks:s})},triggerUpdate:function(){g(),v()},updateTimings:function(t){l=t,void 0!==t.loadEvent&&f(t.loadEvent)},addTiming:function(t,e){var n=function(t){return t<31536e6}(e)?e:sn(o.timeStamp,e);c[function(t){var e=t.replace(/[^a-zA-Z0-9-_.@$]/g,"_");return e!==t&&Nt.warn("Invalid timing name: "+t+", sanitized to: "+e),e}(t)]=n}}}function co(t){var e=t.indexOf("?");return e<0?t:t.slice(0,e)}function uo(t,e,n,i,o,r,s,a){return t.subscribe(Mn.VIEW_UPDATED,function(e){return t.notify(Mn.RAW_RUM_EVENT_COLLECTED,function(t,e,n){var i,o=n.getReplayStats(t.id),r={_dd:{document_version:t.documentVersion,replay_stats:o},date:t.startClocks.timeStamp,type:Cn.VIEW,view:{action:{count:t.eventCounts.userActionCount},cumulative_layout_shift:t.cumulativeLayoutShift,dom_complete:en(t.timings.domComplete),dom_content_loaded:en(t.timings.domContentLoaded),dom_interactive:en(t.timings.domInteractive),error:{count:t.eventCounts.errorCount},first_contentful_paint:en(t.timings.firstContentfulPaint),first_input_delay:en(t.timings.firstInputDelay),first_input_time:en(t.timings.firstInputTime),is_active:t.isActive,name:t.name,largest_contentful_paint:en(t.timings.largestContentfulPaint),load_event:en(t.timings.loadEvent),loading_time:(i=en(t.loadingTime),Be(i)&&i<0?void 0:i),loading_type:t.loadingType,long_task:{count:t.eventCounts.longTaskCount},resource:{count:t.eventCounts.resourceCount},time_spent:en(t.duration),in_foreground_periods:e.selectInForegroundPeriodsFor(t.startClocks.relative,t.duration)},session:{has_replay:!!o||void 0}};return Ve(t.customTimings)||(r.view.custom_timings=function(t,e){for(var n={},i=0,o=Object.keys(t);i<o.length;i++){var r=o[i];n[r]=e(t[r])}return n}(t.customTimings,en)),{rawRumEvent:r,startTime:t.startClocks.relative,domainContext:{location:t.location},customerContext:yn("monitor-dropped-lcp")&&"initial_load"===t.loadingType?{lcp:{support:Jn("largest-contentful-paint"),discard_reason:t.timings.lcpDiscardReason}}:void 0}}(e,r,s))}),function(t,e,n,i,o,r){var s,a,l,c,u=(a=r,l=lo(e,n,t,On.INITIAL_LOAD,{relative:0,timeStamp:an()},a),c=function(t,e){var n;function i(t){n=En(En({},n),t),e(n)}var o=function(t,e){return{stop:t.subscribe(Mn.PERFORMANCE_ENTRY_COLLECTED,function(t){"navigation"===t.entryType&&e({domComplete:t.domComplete,domContentLoaded:t.domContentLoadedEventEnd,domInteractive:t.domInteractive,loadEvent:t.loadEventEnd})}).unsubscribe}}(t,i).stop,r=function(t,e){var n=so();return{stop:t.subscribe(Mn.PERFORMANCE_ENTRY_COLLECTED,function(t){"paint"===t.entryType&&"first-contentful-paint"===t.name&&t.startTime<n.timeStamp&&t.startTime<ao&&i({firstContentfulPaint:t.startTime})}).unsubscribe}}(t).stop,s=function(t,e,n,o){var r=so(),s=1/0,a=ze(e,["pointerdown","keydown"],function(t){s=t.timeStamp},{capture:!0,once:!0}).stop,l=!0,c=t.subscribe(Mn.PERFORMANCE_ENTRY_COLLECTED,function(t){"largest-contentful-paint"===t.entryType&&(t.startTime<s&&t.startTime<r.timeStamp&&t.startTime<ao?i({largestContentfulPaint:t.startTime}):l&&i({lcpDiscardReason:t.startTime>=s?"interaction":t.startTime>=r.timeStamp?"hidden":t.startTime>=ao?"maximum delay":"N/A"}),l=!1)}).unsubscribe;return{stop:function(){a(),c()}}}(t,window).stop,a=function(t,e){var n=so();return{stop:t.subscribe(Mn.PERFORMANCE_ENTRY_COLLECTED,function(t){if("first-input"===t.entryType&&t.startTime<n.timeStamp){var e=sn(t.startTime,t.processingStart);!function(t){i({firstInputDelay:t.firstInputDelay,firstInputTime:t.firstInputTime})}({firstInputDelay:e>=0?e:0,firstInputTime:t.startTime})}}).unsubscribe}}(t).stop;return{stop:function(){o(),r(),s(),a()}}}(e,function(t){l.updateTimings(t),l.scheduleUpdate()}).stop,{initialView:l,stop:c}),h=u.stop,d=u.initialView,p=function(){e.subscribe(Mn.SESSION_RENEWED,function(){d.end(),d=g(void 0,d.name)}),e.subscribe(Mn.BEFORE_UNLOAD,function(){d.end(),d.triggerUpdate()});var t=window.setInterval(fe(function(){d.triggerUpdate()}),3e5);return{stop:function(){clearInterval(t)}}}().stop;function g(i,o){return lo(e,n,t,On.ROUTE_CHANGE,i,o)}return o&&(s=function(t){return t.subscribe(function(t){var e,n,i;if((e=t.oldLocation).pathname!==(n=t.newLocation).pathname||(i=n.hash.substr(1),!document.getElementById(i)&&co(n.hash)!==co(e.hash)))return d.end(),d.triggerUpdate(),void(d=g())})}(i)),{addTiming:function(t,e){void 0===e&&(e=nn()),d.addTiming(t,e),d.triggerUpdate()},startView:function(t,e){d.end(e),d.triggerUpdate(),d=g(e,t)},stop:function(){null==s||s.unsubscribe(),h(),p(),d.end()}}}(n,t,i,o,!e.trackViewsManually,a)}var ho,po,go=function(){return(go=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};!function(t){t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule"}(ho||(ho={})),function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"}(po||(po={}));var mo=go(go({},_n),{IGNORE:"ignore",HIDDEN:"hidden"}),fo="data-dd-privacy",_o="hidden",bo="***",vo={INPUT:!0,OUTPUT:!0,TEXTAREA:!0,SELECT:!0,OPTION:!0,DATALIST:!0,OPTGROUP:!0},yo=new WeakMap;function Co(t){return yo.has(t)}function Oo(t){return yo.get(t)}var To=/url\((?:(')([^']*)'|(")([^"]*)"|([^)]*))\)/gm,Eo=/^[A-Za-z]+:|^\/\//,So=/^data:.*,/i;function wo(t,e){return yn("base-tag")?t:t.replace(To,function(t,n,i,o,r,s){var a=i||r||s;if(!a||Eo.test(a)||So.test(a))return t;var l=n||o||"";return"url("+l+xo(a,e)+l+")"})}var Mo=/(^\s*|,\s*)([^\s,]+)/g;function xo(t,e){try{return yn("base-tag")?t:Dn(t.trim(),e).href}catch(Ox){return t}}function Po(t,e){var n=t.tagName,i=t.value;if(Ro(t,e)){var o=t.type;if("INPUT"===n&&("button"===o||"submit"===o||"reset"===o))return i;if(!i||"OPTION"===n)return;return bo}return"OPTION"===n||"SELECT"===n?t.value:"INPUT"===n||"TEXTAREA"===n?i:void 0}function ko(t,e){var n=t.parentNode?ko(t.parentNode,e):e;return Io(Ao(t),n)}function Io(t,e){switch(e){case mo.HIDDEN:case mo.IGNORE:return e}switch(t){case mo.ALLOW:case mo.MASK:case mo.MASK_USER_INPUT:case mo.HIDDEN:case mo.IGNORE:return t;default:return e}}function Ao(t){if(function(t){return t.nodeType===t.ELEMENT_NODE}(t)){var e=t.getAttribute(fo);if("BASE"===t.tagName)return mo.ALLOW;if("INPUT"===t.tagName){if("password"===t.type||"email"===t.type||"tel"===t.type)return mo.MASK;if("hidden"===t.type)return mo.MASK;var n=t.getAttribute("autocomplete");if(n&&0===n.indexOf("cc-"))return mo.MASK}switch(e){case"allow":return mo.ALLOW;case"mask":return mo.MASK;case"mask-user-input":case"input-ignored":case"input-masked":return mo.MASK_USER_INPUT;case _o:return mo.HIDDEN}return t.classList.contains("dd-privacy-allow")?mo.ALLOW:t.classList.contains("dd-privacy-mask")?mo.MASK:t.classList.contains("dd-privacy-hidden")?mo.HIDDEN:t.classList.contains("dd-privacy-mask-user-input")||t.classList.contains("dd-privacy-input-masked")||t.classList.contains("dd-privacy-input-ignored")?mo.MASK_USER_INPUT:function(t){if("SCRIPT"===t.nodeName)return!0;if("LINK"===t.nodeName)return"preload"===(n=o("rel"))&&"script"===o("as")||"shortcut icon"===n||"icon"===n;if("META"===t.nodeName){var e=o("name"),n=o("rel"),i=o("property");return/^msapplication-tile(image|color)$/.test(e)||"application-name"===e||"icon"===n||"apple-touch-icon"===n||"shortcut icon"===n||"keywords"===e||"description"===e||/^(og|twitter|fb):/.test(i)||/^(og|twitter):/.test(e)||"pinterest"===e||"robots"===e||"googlebot"===e||"bingbot"===e||t.hasAttribute("http-equiv")||"author"===e||"generator"===e||"framework"===e||"publisher"===e||"progid"===e||/^article:/.test(i)||/^product:/.test(i)||"google-site-verification"===e||"yandex-verification"===e||"csrf-token"===e||"p:domain_verify"===e||"verify-v1"===e||"verification"===e||"shopify-checkout-api-token"===e}function o(e){return(t.getAttribute(e)||"").toLowerCase()}return!1}(t)?mo.IGNORE:void 0}}function Ro(t,e){switch(e){case mo.MASK:case mo.HIDDEN:case mo.IGNORE:return!0;case mo.MASK_USER_INPUT:return function(t){return t.nodeType===t.TEXT_NODE}(t)?Do(t.parentNode):Do(t);default:return!1}}function Do(t){if(!t||t.nodeType!==t.ELEMENT_NODE)return!1;var e=t;if("INPUT"===e.tagName)switch(e.type){case"button":case"color":case"reset":case"submit":return!1}return!!vo[e.tagName]}function Lo(t,e,n){var i,o=null===(i=t.parentElement)||void 0===i?void 0:i.tagName,r=t.textContent||"";if(!e||r.trim()){var s="STYLE"===o||void 0;if("SCRIPT"===o)r=bo;else if(n===mo.HIDDEN)r=bo;else if(Ro(t,n))if(s)r=wo(r,location.href);else if("DATALIST"===o||"SELECT"===o||"OPTGROUP"===o){if(!r.trim())return}else r="OPTION"===o?bo:r.replace(/\S/g,"x");return r}}function No(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Bo(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Fo(t){return Boolean(t.changedTouches)}function Uo(t,e){Array.prototype.forEach.call(t,e)}function Vo(t,e){return Go(t,{document:t,parentNodePrivacyLevel:e})}function Go(t,e){var n=function(t,e){switch(t.nodeType){case t.DOCUMENT_NODE:return function(t,e){return{type:po.Document,childNodes:jo(t,e)}}(t,e);case t.DOCUMENT_TYPE_NODE:return{type:po.DocumentType,name:(n=t).name,publicId:n.publicId,systemId:n.systemId};case t.ELEMENT_NODE:return function(t,e){var n,i,o=Zo(t.tagName),r="svg"===(i=t).tagName||i instanceof SVGElement||void 0,s=Io(Ao(t),e.parentNodePrivacyLevel);if(s===mo.HIDDEN){var a=t.getBoundingClientRect();return{type:po.Element,tagName:o,attributes:(n={rr_width:a.width+"px",rr_height:a.height+"px"},n[fo]=_o,n),childNodes:[],isSVG:r}}if(s!==mo.IGNORE){var l=function(t,e){if(e===mo.HIDDEN)return{};for(var n={},i=Zo(t.tagName),o=t.ownerDocument,r=0;r<t.attributes.length;r+=1){var s=t.attributes.item(r).name,a=Ho(t,e,s);null!==a&&(n[s]=a)}if(t.value&&("textarea"===i||"select"===i||"option"===i||"input"===i)){var l=Po(t,e);void 0!==l&&(n.value=l)}if("option"===i&&e===mo.ALLOW&&t.selected&&(n.selected=t.selected),"link"===i){var c=Array.from(o.styleSheets).find(function(e){return e.href===t.href});(u=Yo(c))&&c&&(delete n.rel,delete n.href,n._cssText=wo(u,c.href))}var u;"style"===i&&t.sheet&&!(t.innerText||t.textContent||"").trim().length&&(u=Yo(t.sheet))&&(n._cssText=wo(u,location.href));var h=t;return"input"!==i||"radio"!==h.type&&"checkbox"!==h.type||(e===mo.ALLOW?n.checked=!!h.checked:Ro(h,e)&&(n.checked=bo)),"audio"!==i&&"video"!==i||(n.rr_mediaState=t.paused?"paused":"played"),t.scrollLeft&&(n.rr_scrollLeft=Math.round(t.scrollLeft)),t.scrollTop&&(n.rr_scrollTop=Math.round(t.scrollTop)),n}(t,s),c=[];return t.childNodes.length&&(c=jo(t,e.parentNodePrivacyLevel===s&&e.ignoreWhiteSpace===("head"===o)?e:go(go({},e),{parentNodePrivacyLevel:s,ignoreWhiteSpace:"head"===o}))),{type:po.Element,tagName:o,attributes:l,childNodes:c,isSVG:r}}}(t,e);case t.TEXT_NODE:return function(t,e){var n,i=null===(n=t.parentElement)||void 0===n?void 0:n.tagName,o=Lo(t,e.ignoreWhiteSpace||!1,e.parentNodePrivacyLevel);if(o)return{type:po.Text,textContent:o,isStyle:"STYLE"===i||void 0}}(t,e);case t.CDATA_SECTION_NODE:return{type:po.CDATA,textContent:""}}var n}(t,e);if(!n)return null;var i=Oo(t)||zo++,o=n;return o.id=i,function(t,e){yo.set(t,e)}(t,i),e.serializedNodeIds&&e.serializedNodeIds.add(i),o}function jo(t,e){var n=[];return Uo(t.childNodes,function(t){var i=Go(t,e);i&&n.push(i)}),n}function Ho(t,e,n){var i,o,r;if(e===mo.HIDDEN)return null;var s=t.getAttribute(n);if(e===mo.MASK){var a=t.tagName;switch(n){case"title":case"alt":return bo}if(!("IMG"!==a&&"SOURCE"!==a||"src"!==n&&"srcset"!==n))return"data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==";if("A"===a&&"href"===n)return bo;if(s&&0===n.indexOf("data-")&&n!==fo)return bo}if(!s||"string"!=typeof s)return s;if(s.length>1e5&&"data:"===s.slice(0,5))return"data:truncated";var l=t.ownerDocument;switch(n){case"src":case"href":return xo(s,null===(i=l.location)||void 0===i?void 0:i.href);case"srcset":return function(t,e){return yn("base-tag")?t:t.replace(Mo,function(t,n,i){return""+n+xo(i,e)})}(s,null===(o=l.location)||void 0===o?void 0:o.href);case"style":return wo(s,null===(r=l.location)||void 0===r?void 0:r.href);default:return s}}var zo=1,Wo=/[^a-z1-6-_]/;function Zo(t){var e=t.toLowerCase().trim();return Wo.test(e)?"div":e}function Yo(t){try{var e=t.rules||t.cssRules;return e?Array.from(e).map(qo).join(""):null}catch(n){return null}}function qo(t){return function(t){return"styleSheet"in t}(t)?Yo(t.styleSheet)||"":t.cssText}function Jo(t,e,n){var i=kn();if(!i)return{stop:Ae};var o=function(t){var i=Ae,o=[];function s(){i(),function(t,e,n){var i=t.filter(function(t){return document.contains(t.target)&&function(t){for(var e=t;e;){if(!Co(e))return!1;e=e.parentNode}return!0}(t.target)&&ko(t.target,n)!==mo.HIDDEN}),o=function(t,e){for(var n=new Set,i=new Map,o=function(t){Uo(t.addedNodes,function(t){n.add(t)}),Uo(t.removedNodes,function(e){n.has(e)||i.set(e,t.target),n.delete(e)})},r=0,s=t;r<s.length;r++)o(s[r]);var a=Array.from(n);a.sort(function(t,e){var n=t.compareDocumentPosition(e);return n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_CONTAINS||n&Node.DOCUMENT_POSITION_FOLLOWING?1:n&Node.DOCUMENT_POSITION_PRECEDING?-1:0});for(var l=new Set,c=[],u=0,h=a;u<h.length;u++){var d=h[u];if(!f(d)){var p=ko(d.parentNode,e);if(p!==mo.HIDDEN&&p!==mo.IGNORE){var g=Go(d,{document:document,serializedNodeIds:l,parentNodePrivacyLevel:p});g&&c.push({nextId:_(d),parentId:Oo(d.parentNode),node:g})}}}var m=[];return i.forEach(function(t,e){Co(e)&&m.push({parentId:Oo(t),id:Oo(e)})}),{adds:c,removes:m,hasBeenSerialized:f};function f(t){return Co(t)&&l.has(Oo(t))}function _(t){for(var e=t.nextSibling;e;){if(Co(e))return Oo(e);e=e.nextSibling}return null}}(i.filter(function(t){return"childList"===t.type}),n),r=o.adds,s=o.removes,a=o.hasBeenSerialized,l=function(t,e){for(var n,i=[],o=new Set,r=0,s=t.filter(function(t){return!o.has(t.target)&&(o.add(t.target),!0)});r<s.length;r++){var a=s[r];if(a.target.textContent!==a.oldValue){var l=ko(a.target.parentNode,e);l!==mo.HIDDEN&&l!==mo.IGNORE&&i.push({id:Oo(a.target),value:null!==(n=Lo(a.target,!1,l))&&void 0!==n?n:null})}}return i}(i.filter(function(t){return"characterData"===t.type&&!a(t.target)}),n),c=function(t,e){for(var n=[],i=new Map,o=t.filter(function(t){var e=i.get(t.target);return!(null==e?void 0:e.has(t.attributeName))&&(e?e.add(t.attributeName):i.set(t.target,new Set([t.attributeName])),!0)}),r=new Map,s=0,a=o;s<a.length;s++){var l=a[s];if(l.target.getAttribute(l.attributeName)!==l.oldValue){var c=ko(l.target,e),u=Ho(l.target,c,l.attributeName),h=void 0;if("value"===l.attributeName){var d=Po(l.target,c);if(void 0===d)continue;h=d}else h=u&&"string"==typeof u?u:null;var p=r.get(l.target);p||(p={id:Oo(l.target),attributes:{}},n.push(p),r.set(l.target,p)),p.attributes[l.attributeName]=h}}return n}(i.filter(function(t){return"attributes"===t.type&&!a(t.target)}),n);(l.length||c.length||s.length||r.length)&&e({adds:r,removes:s,texts:l,attributes:c})}(o.concat(r.takeRecords()),e,n),o=[]}return{addMutations:function(t){0===o.length&&(i=function(t){var e=window;if(e.requestIdleCallback){var n=e.requestIdleCallback(fe(t),{timeout:100});return function(){return e.cancelIdleCallback(n)}}var i=e.requestAnimationFrame(fe(t));return function(){return e.cancelAnimationFrame(i)}}(s)),o.push.apply(o,t)},flush:s,stop:function(){i()}}}(),r=new i(fe(o.addMutations));return r.observe(document,{attributeOldValue:!0,attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),t.onFlush(o.flush),{stop:function(){r.disconnect(),o.stop()}}}var $o,Ko=function(){function t(){}return t.prototype.flush=function(){var t;null===(t=this.flushListener)||void 0===t||t.call(this)},t.prototype.onFlush=function(t){this.flushListener=t},t}();function Xo(t){var e,n,i,o,r,s=Jo(t.mutationController,t.mutationCb,t.defaultPrivacyLevel).stop,a=(o=t.mousemoveCb,r=xe(fe(function(t){var e=t.target;if(Co(e)){var n=Fo(t)?t.changedTouches[0]:t,i=n.clientX,r=n.clientY,s={id:Oo(e),timeOffset:0,x:i,y:r};o([s],Fo(t)?ho.TouchMove:ho.MouseMove)}}),50,{trailing:!1}).throttled,ze(document,["mousemove","touchmove"],r,{capture:!0,passive:!0}).stop),l=function(t,e){return ze(document,Object.keys(tr),function(n){var i=n.target;if(ko(i,e)!==mo.HIDDEN&&Co(i)){var o=Fo(n)?n.changedTouches[0]:n,r=o.clientX,s=o.clientY;t({id:Oo(i),type:tr[n.type],x:r,y:s})}},{capture:!0,passive:!0}).stop}(t.mouseInteractionCb,t.defaultPrivacyLevel),c=function(t,e){var n=xe(fe(function(n){var i=n.target;if(i&&ko(i,e)!==mo.HIDDEN&&Co(i)){var o=Oo(i);if(i===document){var r=document.scrollingElement||document.documentElement;t({id:o,x:r.scrollLeft,y:r.scrollTop})}else t({id:o,x:i.scrollLeft,y:i.scrollTop})}}),100).throttled;return He(document,"scroll",n,{capture:!0,passive:!0}).stop}(t.scrollCb,t.defaultPrivacyLevel),u=function(t){var e=xe(fe(function(){var e=No(),n=Bo();t({height:Number(e),width:Number(n)})}),200).throttled;return He(window,"resize",e,{capture:!0,passive:!0}).stop}(t.viewportResizeCb),h=function(t,e){function n(t){var n=t.target,o=ko(n,e);if(n&&n.tagName&&Le(er,n.tagName)&&o!==mo.HIDDEN){var r,s=n.type;if("radio"===s||"checkbox"===s){if(Ro(n,o))return;r={isChecked:n.checked}}else{var a=Po(n,o);if(void 0===a)return;r={text:a}}i(n,r);var l=n.name;"radio"===s&&l&&n.checked&&Uo(document.querySelectorAll('input[type="radio"][name="'+l+'"]'),function(t){t!==n&&i(t,{isChecked:!1})})}}function i(e,n){if(Co(e)){var i=nr.get(e);i&&i.text===n.text&&i.isChecked===n.isChecked||(nr.set(e,n),t(go(go({},n),{id:Oo(e)})))}}var o=ze(document,["input","change"],n,{capture:!0,passive:!0}).stop,r=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value"),s=[[HTMLInputElement.prototype,"value"],[HTMLInputElement.prototype,"checked"],[HTMLSelectElement.prototype,"value"],[HTMLTextAreaElement.prototype,"value"],[HTMLSelectElement.prototype,"selectedIndex"]],a=[];return r&&r.set&&a.push.apply(a,s.map(function(t){return function(t,e,n){var i=Object.getOwnPropertyDescriptor(t,e);return Object.defineProperty(t,e,{set:function(t){var e=this;setTimeout(function(){n.set.call(e,t)},0),i&&i.set&&i.set.call(this,t)}}),function(){Object.defineProperty(t,e,i||{})}}(t[0],t[1],{set:fe(function(){n({target:this})})})})),function(){a.forEach(function(t){return t()}),o()}}(t.inputCb,t.defaultPrivacyLevel),d=(n=t.mediaInteractionCb,i=t.defaultPrivacyLevel,ze(document,["play","pause"],function(t){var e=t.target;e&&ko(e,i)!==mo.HIDDEN&&Co(e)&&n({id:Oo(e),type:"play"===t.type?0:1})},{capture:!0,passive:!0}).stop),p=function(t){var e=CSSStyleSheet.prototype.insertRule;CSSStyleSheet.prototype.insertRule=function(n,i){var o=this;return _e(function(){Co(o.ownerNode)&&t({id:Oo(o.ownerNode),adds:[{rule:n,index:i}]})}),e.call(this,n,i)};var n=CSSStyleSheet.prototype.deleteRule;return CSSStyleSheet.prototype.deleteRule=function(e){var i=this;return _e(function(){Co(i.ownerNode)&&t({id:Oo(i.ownerNode),removes:[{index:e}]})}),n.call(this,e)},function(){CSSStyleSheet.prototype.insertRule=e,CSSStyleSheet.prototype.deleteRule=n}}(t.styleSheetRuleCb),g=(e=t.focusCb,ze(window,["focus","blur"],function(){e({has_focus:document.hasFocus()})}).stop);return function(){s(),a(),l(),c(),u(),h(),d(),p(),g()}}var Qo,tr=(($o={}).mouseup=0,$o.mousedown=1,$o.click=2,$o.contextmenu=3,$o.dblclick=4,$o.focus=5,$o.blur=6,$o.touchstart=7,$o.touchend=9,$o),er=["INPUT","TEXTAREA","SELECT"],nr=new WeakMap;function ir(t,e,n,i,o){var r=new FormData;r.set("segment",new Blob([e],{type:"application/octet-stream"}),n.session.id+"-"+n.start),or(n,function(t,e){return r.set(t,e)}),r.set("raw_segment_size",i.toString()),new he(t,6e4).send(r,e.byteLength,o)}function or(t,e,n){void 0===n&&(n=""),Ue(t).forEach(function(t){var i=t[0],o=t[1];"object"==typeof o&&null!==o?or(o,e,""+n+i+"."):e(""+n+i,String(o))})}function rr(t){ar(t).records_count+=1}function sr(t){return null==Qo?void 0:Qo.get(t)}function ar(t){var e;return Qo||(Qo=new Map),Qo.has(t)?e=Qo.get(t):(Qo.set(t,e={records_count:0,segments_count:0,segments_total_raw_size:0}),Qo.size>10&&function(){if(Qo)if(Qo.keys)Qo.delete(Qo.keys().next().value);else{var t=!0;Qo.forEach(function(e,n){t&&(Qo.delete(n),t=!1)})}}()),e}var lr,cr=0,ur=function(){function t(t,e,n,i,o,r){var s=this;this.worker=t,this.context=e,this.creationReason=n,this.isFlushed=!1,this.id=cr++,this.start=i.timestamp,this.end=i.timestamp,this.recordsCount=1,this.hasFullSnapshot=2===i.type;var a=this.context.view.id;!function(t){ar(t).segments_count+=1}(a),rr(a);var l=fe(function(e){var n=e.data;"errored"!==n.type&&"initialized"!==n.type&&(n.id===s.id?(function(t,e){ar(t).segments_total_raw_size+=e}(a,n.additionalRawSize),"flushed"===n.type?(r(n.result,n.rawSize),t.removeEventListener("message",l)):o(n.compressedSize)):n.id>s.id&&(t.removeEventListener("message",l),be("Segment did not receive a 'flush' response before being replaced.")))});t.addEventListener("message",l),this.worker.postMessage({data:'{"records":['+JSON.stringify(i),id:this.id,action:"write"})}return t.prototype.addRecord=function(t){this.end=t.timestamp,this.recordsCount+=1,rr(this.context.view.id),this.hasFullSnapshot||(this.hasFullSnapshot=2===t.type),this.worker.postMessage({data:","+JSON.stringify(t),id:this.id,action:"write"})},t.prototype.flush=function(t){this.worker.postMessage({data:"],"+JSON.stringify(this.meta).slice(1)+"\n",id:this.id,action:"flush"}),this.isFlushed=!0,this.flushReason=t},Object.defineProperty(t.prototype,"meta",{get:function(){return go({creation_reason:this.creationReason,end:this.end,has_full_snapshot:this.hasFullSnapshot,records_count:this.recordsCount,start:this.start},this.context)},enumerable:!1,configurable:!0}),t}();function hr(t,e,n,i,o,r){return function(t,o,r,s,a){void 0===a&&(a=window);var l={status:0,nextSegmentCreationReason:"init"},c=t.subscribe(Mn.VIEW_CREATED,function(){d("view_change")}).unsubscribe,u=t.subscribe(Mn.BEFORE_UNLOAD,function(){d("before_unload")}).unsubscribe,h=He(a,"visibilitychange",function(){"hidden"===document.visibilityState&&d("visibility_hidden")},{capture:!0}).stop;function d(t){1===l.status&&(l.segment.flush(t||"sdk_stopped"),clearTimeout(l.expirationTimeoutId)),l=t?{status:0,nextSegmentCreationReason:t}:{status:2}}return{addRecord:function(t){switch(l.status){case 0:!function(t,o){var a=function(t,e,n){if(e.isTracked()){var i=n.findView();if((null==i?void 0:i.session.id)&&i.session.id===e.getId())return{application:{id:t},session:{id:i.session.id},view:{id:i.view.id}}}}(e,n,i);if(a){var c=new ur(s,a,t,o,function(t){!c.isFlushed&&t>6e4&&d("max_size")},function(t,e){r(t,c.meta,e,c.flushReason)});l={status:1,segment:c,expirationTimeoutId:setTimeout(fe(function(){d("max_duration")}),3e4)}}}(l.nextSegmentCreationReason,t);break;case 1:l.segment.addRecord(t)}},stop:function(){d(),c(),u(),h()}}}(t,0,o,r)}function dr(){return lr||(lr=URL.createObjectURL(new Blob(["("+pr+")(self)"]))),new Worker(lr)}function pr(){function t(t){return function(){try{return t.apply(this,arguments)}catch(nx){try{self.postMessage({type:"errored",error:nx})}catch(Ox){self.postMessage({type:"errored",error:""+nx})}}}}t(function(){var e=function(){function t(t){for(var e=t.length;--e>=0;)t[e]=0}var e=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),n=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),i=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),o=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),r=new Array(576);t(r);var s=new Array(60);t(s);var a=new Array(512);t(a);var l=new Array(256);t(l);var c=new Array(29);t(c);var u,h,d,p=new Array(30);function g(t,e,n,i,o){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=o,this.has_stree=t&&t.length}function m(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}t(p);var f=function(t){return t<256?a[t]:a[256+(t>>>7)]},_=function(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},b=function(t,e,n){t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,_(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},v=function(t,e,n){b(t,n[2*e],n[2*e+1])},y=function(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1},C=function(t,e,n){var i,o,r=new Array(16),s=0;for(i=1;i<=15;i++)r[i]=s=s+n[i-1]<<1;for(o=0;o<=e;o++){var a=t[2*o+1];0!==a&&(t[2*o]=y(r[a]++,a))}},O=function(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},T=function(t){t.bi_valid>8?_(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},E=function(t,e,n,i){var o=2*e,r=2*n;return t[o]<t[r]||t[o]===t[r]&&i[e]<=i[n]},S=function(t,e,n){for(var i=t.heap[n],o=n<<1;o<=t.heap_len&&(o<t.heap_len&&E(e,t.heap[o+1],t.heap[o],t.depth)&&o++,!E(e,i,t.heap[o],t.depth));)t.heap[n]=t.heap[o],n=o,o<<=1;t.heap[n]=i},w=function(t,i,o){var r,s,a,u,h=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*h]<<8|t.pending_buf[t.d_buf+2*h+1],s=t.pending_buf[t.l_buf+h],h++,0===r?v(t,s,i):(v(t,(a=l[s])+256+1,i),0!==(u=e[a])&&b(t,s-=c[a],u),r--,a=f(r),v(t,a,o),0!==(u=n[a])&&b(t,r-=p[a],u))}while(h<t.last_lit);v(t,256,i)},M=function(t,e){var n,i,o,r=e.dyn_tree,s=e.stat_desc.static_tree,a=e.stat_desc.has_stree,l=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=573,n=0;n<l;n++)0!==r[2*n]?(t.heap[++t.heap_len]=c=n,t.depth[n]=0):r[2*n+1]=0;for(;t.heap_len<2;)r[2*(o=t.heap[++t.heap_len]=c<2?++c:0)]=1,t.depth[o]=0,t.opt_len--,a&&(t.static_len-=s[2*o+1]);for(e.max_code=c,n=t.heap_len>>1;n>=1;n--)S(t,r,n);o=l;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],S(t,r,1),i=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=i,r[2*o]=r[2*n]+r[2*i],t.depth[o]=(t.depth[n]>=t.depth[i]?t.depth[n]:t.depth[i])+1,r[2*n+1]=r[2*i+1]=o,t.heap[1]=o++,S(t,r,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,i,o,r,s,a,l=e.dyn_tree,c=e.max_code,u=e.stat_desc.static_tree,h=e.stat_desc.has_stree,d=e.stat_desc.extra_bits,p=e.stat_desc.extra_base,g=e.stat_desc.max_length,m=0;for(r=0;r<=15;r++)t.bl_count[r]=0;for(l[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)(r=l[2*l[2*(i=t.heap[n])+1]+1]+1)>g&&(r=g,m++),l[2*i+1]=r,i>c||(t.bl_count[r]++,s=0,i>=p&&(s=d[i-p]),t.opt_len+=(a=l[2*i])*(r+s),h&&(t.static_len+=a*(u[2*i+1]+s)));if(0!==m){do{for(r=g-1;0===t.bl_count[r];)r--;t.bl_count[r]--,t.bl_count[r+1]+=2,t.bl_count[g]--,m-=2}while(m>0);for(r=g;0!==r;r--)for(i=t.bl_count[r];0!==i;)(o=t.heap[--n])>c||(l[2*o+1]!==r&&(t.opt_len+=(r-l[2*o+1])*l[2*o],l[2*o+1]=r),i--)}}(t,e),C(r,c,t.bl_count)},x=function(t,e,n){var i,o,r=-1,s=e[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)o=s,s=e[2*(i+1)+1],++a<l&&o===s||(a<c?t.bl_tree[2*o]+=a:0!==o?(o!==r&&t.bl_tree[2*o]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=0,r=o,0===s?(l=138,c=3):o===s?(l=6,c=3):(l=7,c=4))},P=function(t,e,n){var i,o,r=-1,s=e[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),i=0;i<=n;i++)if(o=s,s=e[2*(i+1)+1],!(++a<l&&o===s)){if(a<c)do{v(t,o,t.bl_tree)}while(0!=--a);else 0!==o?(o!==r&&(v(t,o,t.bl_tree),a--),v(t,16,t.bl_tree),b(t,a-3,2)):a<=10?(v(t,17,t.bl_tree),b(t,a-3,3)):(v(t,18,t.bl_tree),b(t,a-11,7));a=0,r=o,0===s?(l=138,c=3):o===s?(l=6,c=3):(l=7,c=4)}},k=!1,I=function(t,e,n,i){b(t,0+(i?1:0),3),function(t,e,n,i){T(t),_(t,n),_(t,~n),t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n}(t,e,n)},A=I,R=function(t,e,n,i){for(var o=65535&t|0,r=t>>>16&65535|0,s=0;0!==n;){n-=s=n>2e3?2e3:n;do{r=r+(o=o+e[i++]|0)|0}while(--s);o%=65521,r%=65521}return o|r<<16|0},D=new Uint32Array(function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}()),L=function(t,e,n,i){var o=D,r=i+n;t^=-1;for(var s=i;s<r;s++)t=t>>>8^o[255&(t^e[s])];return-1^t},N={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},B={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},F=function(t){k||(function(){var t,o,m,f,_,b=new Array(16);for(m=0,f=0;f<28;f++)for(c[f]=m,t=0;t<1<<e[f];t++)l[m++]=f;for(l[m-1]=f,_=0,f=0;f<16;f++)for(p[f]=_,t=0;t<1<<n[f];t++)a[_++]=f;for(_>>=7;f<30;f++)for(p[f]=_<<7,t=0;t<1<<n[f]-7;t++)a[256+_++]=f;for(o=0;o<=15;o++)b[o]=0;for(t=0;t<=143;)r[2*t+1]=8,t++,b[8]++;for(;t<=255;)r[2*t+1]=9,t++,b[9]++;for(;t<=279;)r[2*t+1]=7,t++,b[7]++;for(;t<=287;)r[2*t+1]=8,t++,b[8]++;for(C(r,287,b),t=0;t<30;t++)s[2*t+1]=5,s[2*t]=y(t,5);u=new g(r,e,257,286,15),h=new g(s,n,0,30,15),d=new g(new Array(0),i,0,19,7)}(),k=!0),t.l_desc=new m(t.dyn_ltree,u),t.d_desc=new m(t.dyn_dtree,h),t.bl_desc=new m(t.bl_tree,d),t.bi_buf=0,t.bi_valid=0,O(t)},U=A,V=function(t,e,n,i){var a,l,c=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),M(t,t.l_desc),M(t,t.d_desc),c=function(t){var e;for(x(t,t.dyn_ltree,t.l_desc.max_code),x(t,t.dyn_dtree,t.d_desc.max_code),M(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*o[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),(l=t.static_len+3+7>>>3)<=(a=t.opt_len+3+7>>>3)&&(a=l)):a=l=n+5,n+4<=a&&-1!==e?I(t,e,n,i):4===t.strategy||l===a?(b(t,2+(i?1:0),3),w(t,r,s)):(b(t,4+(i?1:0),3),function(t,e,n,i){var r;for(b(t,e-257,5),b(t,n-1,5),b(t,i-4,4),r=0;r<i;r++)b(t,t.bl_tree[2*o[r]+1],3);P(t,t.dyn_ltree,e-1),P(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,c+1),w(t,t.dyn_ltree,t.dyn_dtree)),O(t),i&&T(t)},G=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(l[n]+256+1)]++,t.dyn_dtree[2*f(e)]++),t.last_lit===t.lit_bufsize-1},j=function(t){b(t,2,3),v(t,256,r),function(t){16===t.bi_valid?(_(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)},H=B.Z_NO_FLUSH,z=B.Z_PARTIAL_FLUSH,W=B.Z_FULL_FLUSH,Z=B.Z_FINISH,Y=B.Z_BLOCK,q=B.Z_OK,J=B.Z_STREAM_END,$=B.Z_STREAM_ERROR,K=B.Z_DATA_ERROR,X=B.Z_BUF_ERROR,Q=B.Z_DEFAULT_COMPRESSION,tt=B.Z_FILTERED,et=B.Z_HUFFMAN_ONLY,nt=B.Z_RLE,it=B.Z_FIXED,ot=B.Z_UNKNOWN,rt=B.Z_DEFLATED,st=258,at=262,lt=103,ct=113,ut=666,ht=function(t,e){return t.msg=N[e],e},dt=function(t){return(t<<1)-(t>4?9:0)},pt=function(t){for(var e=t.length;--e>=0;)t[e]=0},gt=function(t,e,n){return(e<<t.hash_shift^n)&t.hash_mask},mt=function(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))},ft=function(t,e){V(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,mt(t.strm)},_t=function(t,e){t.pending_buf[t.pending++]=e},bt=function(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},vt=function(t,e){var n,i,o=t.max_chain_length,r=t.strstart,s=t.prev_length,a=t.nice_match,l=t.strstart>t.w_size-at?t.strstart-(t.w_size-at):0,c=t.window,u=t.w_mask,h=t.prev,d=t.strstart+st,p=c[r+s-1],g=c[r+s];t.prev_length>=t.good_match&&(o>>=2),a>t.lookahead&&(a=t.lookahead);do{if(c[(n=e)+s]===g&&c[n+s-1]===p&&c[n]===c[r]&&c[++n]===c[r+1]){r+=2,n++;do{}while(c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&r<d);if(i=st-(d-r),r=d-st,i>s){if(t.match_start=e,s=i,i>=a)break;p=c[r+s-1],g=c[r+s]}}}while((e=h[e&u])>l&&0!=--o);return s<=t.lookahead?s:t.lookahead},yt=function(t){var e,n,i,o,r,s,a,l,c,u,h=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=h+(h-at)){t.window.set(t.window.subarray(h,h+h),0),t.match_start-=h,t.strstart-=h,t.block_start-=h,e=n=t.hash_size;do{i=t.head[--e],t.head[e]=i>=h?i-h:0}while(--n);e=n=h;do{i=t.prev[--e],t.prev[e]=i>=h?i-h:0}while(--n);o+=h}if(0===t.strm.avail_in)break;if(a=t.window,l=t.strstart+t.lookahead,u=void 0,(u=(s=t.strm).avail_in)>(c=o)&&(u=c),n=0===u?0:(s.avail_in-=u,a.set(s.input.subarray(s.next_in,s.next_in+u),l),1===s.state.wrap?s.adler=R(s.adler,a,u,l):2===s.state.wrap&&(s.adler=L(s.adler,a,u,l)),s.next_in+=u,s.total_in+=u,u),t.lookahead+=n,t.lookahead+t.insert>=3)for(t.ins_h=t.window[r=t.strstart-t.insert],t.ins_h=gt(t,t.ins_h,t.window[r+1]);t.insert&&(t.ins_h=gt(t,t.ins_h,t.window[r+3-1]),t.prev[r&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=r,r++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<at&&0!==t.strm.avail_in)},Ct=function(t,e){for(var n,i;;){if(t.lookahead<at){if(yt(t),t.lookahead<at&&e===H)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=gt(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-at&&(t.match_length=vt(t,n)),t.match_length>=3)if(i=G(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=gt(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=gt(t,t.ins_h,t.window[t.strstart+1]);else i=G(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(ft(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===Z?(ft(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(ft(t,!1),0===t.strm.avail_out)?1:2},Ot=function(t,e){for(var n,i,o;;){if(t.lookahead<at){if(yt(t),t.lookahead<at&&e===H)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=gt(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-at&&(t.match_length=vt(t,n),t.match_length<=5&&(t.strategy===tt||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){o=t.strstart+t.lookahead-3,i=G(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=o&&(t.ins_h=gt(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,i&&(ft(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((i=G(t,0,t.window[t.strstart-1]))&&ft(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=G(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===Z?(ft(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(ft(t,!1),0===t.strm.avail_out)?1:2};function Tt(t,e,n,i,o){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=o}var Et=[new Tt(0,0,0,0,function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(yt(t),0===t.lookahead&&e===H)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+n;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,ft(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-at&&(ft(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Z?(ft(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&ft(t,!1),1)}),new Tt(4,4,8,4,Ct),new Tt(4,5,16,8,Ct),new Tt(4,6,32,32,Ct),new Tt(4,4,16,16,Ot),new Tt(8,16,32,32,Ot),new Tt(8,16,128,128,Ot),new Tt(8,32,128,256,Ot),new Tt(32,128,258,1024,Ot),new Tt(32,258,258,4096,Ot)];function St(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=rt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),pt(this.dyn_ltree),pt(this.dyn_dtree),pt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),pt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),pt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var wt=function(t){var e=function(t){if(!t||!t.state)return ht(t,$);t.total_in=t.total_out=0,t.data_type=ot;var e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:ct,t.adler=2===e.wrap?0:1,e.last_flush=H,F(e),q}(t);return e===q&&function(t){t.window_size=2*t.w_size,pt(t.head),t.max_lazy_match=Et[t.level].max_lazy,t.good_match=Et[t.level].good_length,t.nice_match=Et[t.level].nice_length,t.max_chain_length=Et[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0}(t.state),e},Mt=function(t,e,n,i,o,r){if(!t)return $;var s=1;if(e===Q&&(e=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),o<1||o>9||n!==rt||i<8||i>15||e<0||e>9||r<0||r>it)return ht(t,$);8===i&&(i=9);var a=new St;return t.state=a,a.strm=t,a.wrap=s,a.gzhead=null,a.w_bits=i,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=o+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<o+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=3*a.lit_bufsize,a.level=e,a.strategy=r,a.method=n,wt(t)},xt=function(t,e){var n,i;if(!t||!t.state||e>Y||e<0)return t?ht(t,$):$;var o=t.state;if(!t.output||!t.input&&0!==t.avail_in||o.status===ut&&e!==Z)return ht(t,0===t.avail_out?X:$);o.strm=t;var r=o.last_flush;if(o.last_flush=e,42===o.status)if(2===o.wrap)t.adler=0,_t(o,31),_t(o,139),_t(o,8),o.gzhead?(_t(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),_t(o,255&o.gzhead.time),_t(o,o.gzhead.time>>8&255),_t(o,o.gzhead.time>>16&255),_t(o,o.gzhead.time>>24&255),_t(o,9===o.level?2:o.strategy>=et||o.level<2?4:0),_t(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(_t(o,255&o.gzhead.extra.length),_t(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(t.adler=L(t.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=69):(_t(o,0),_t(o,0),_t(o,0),_t(o,0),_t(o,0),_t(o,9===o.level?2:o.strategy>=et||o.level<2?4:0),_t(o,3),o.status=ct);else{var s=rt+(o.w_bits-8<<4)<<8;s|=(o.strategy>=et||o.level<2?0:o.level<6?1:6===o.level?2:3)<<6,0!==o.strstart&&(s|=32),s+=31-s%31,o.status=ct,bt(o,s),0!==o.strstart&&(bt(o,t.adler>>>16),bt(o,65535&t.adler)),t.adler=1}if(69===o.status)if(o.gzhead.extra){for(n=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>n&&(t.adler=L(t.adler,o.pending_buf,o.pending-n,n)),mt(t),n=o.pending,o.pending!==o.pending_buf_size));)_t(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>n&&(t.adler=L(t.adler,o.pending_buf,o.pending-n,n)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=73)}else o.status=73;if(73===o.status)if(o.gzhead.name){n=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>n&&(t.adler=L(t.adler,o.pending_buf,o.pending-n,n)),mt(t),n=o.pending,o.pending===o.pending_buf_size)){i=1;break}i=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,_t(o,i)}while(0!==i);o.gzhead.hcrc&&o.pending>n&&(t.adler=L(t.adler,o.pending_buf,o.pending-n,n)),0===i&&(o.gzindex=0,o.status=91)}else o.status=91;if(91===o.status)if(o.gzhead.comment){n=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>n&&(t.adler=L(t.adler,o.pending_buf,o.pending-n,n)),mt(t),n=o.pending,o.pending===o.pending_buf_size)){i=1;break}i=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,_t(o,i)}while(0!==i);o.gzhead.hcrc&&o.pending>n&&(t.adler=L(t.adler,o.pending_buf,o.pending-n,n)),0===i&&(o.status=lt)}else o.status=lt;if(o.status===lt&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&mt(t),o.pending+2<=o.pending_buf_size&&(_t(o,255&t.adler),_t(o,t.adler>>8&255),t.adler=0,o.status=ct)):o.status=ct),0!==o.pending){if(mt(t),0===t.avail_out)return o.last_flush=-1,q}else if(0===t.avail_in&&dt(e)<=dt(r)&&e!==Z)return ht(t,X);if(o.status===ut&&0!==t.avail_in)return ht(t,X);if(0!==t.avail_in||0!==o.lookahead||e!==H&&o.status!==ut){var a=o.strategy===et?function(t,e){for(var n;;){if(0===t.lookahead&&(yt(t),0===t.lookahead)){if(e===H)return 1;break}if(t.match_length=0,n=G(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(ft(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Z?(ft(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(ft(t,!1),0===t.strm.avail_out)?1:2}(o,e):o.strategy===nt?function(t,e){for(var n,i,o,r,s=t.window;;){if(t.lookahead<=st){if(yt(t),t.lookahead<=st&&e===H)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(i=s[o=t.strstart-1])===s[++o]&&i===s[++o]&&i===s[++o]){r=t.strstart+st;do{}while(i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&i===s[++o]&&o<r);t.match_length=st-(r-o),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=G(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=G(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(ft(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Z?(ft(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(ft(t,!1),0===t.strm.avail_out)?1:2}(o,e):Et[o.level].func(o,e);if(3!==a&&4!==a||(o.status=ut),1===a||3===a)return 0===t.avail_out&&(o.last_flush=-1),q;if(2===a&&(e===z?j(o):e!==Y&&(U(o,0,0,!1),e===W&&(pt(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),mt(t),0===t.avail_out))return o.last_flush=-1,q}return e!==Z?q:o.wrap<=0?J:(2===o.wrap?(_t(o,255&t.adler),_t(o,t.adler>>8&255),_t(o,t.adler>>16&255),_t(o,t.adler>>24&255),_t(o,255&t.total_in),_t(o,t.total_in>>8&255),_t(o,t.total_in>>16&255),_t(o,t.total_in>>24&255)):(bt(o,t.adler>>>16),bt(o,65535&t.adler)),mt(t),o.wrap>0&&(o.wrap=-o.wrap),0!==o.pending?q:J)},Pt=function(t){if(!t||!t.state)return $;var e=t.state.status;return 42!==e&&69!==e&&73!==e&&91!==e&&e!==lt&&e!==ct&&e!==ut?ht(t,$):(t.state=null,e===ct?ht(t,K):q)};function kt(t){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var It=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(Zt){}for(var At=new Uint8Array(256),Rt=0;Rt<256;Rt++)At[Rt]=Rt>=252?6:Rt>=248?5:Rt>=240?4:Rt>=224?3:Rt>=192?2:1;At[254]=At[254]=1;var Dt=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},Lt=Object.prototype.toString,Nt=B.Z_NO_FLUSH,Bt=B.Z_SYNC_FLUSH,Ft=B.Z_FULL_FLUSH,Ut=B.Z_FINISH,Vt=B.Z_OK,Gt=B.Z_STREAM_END,jt=B.Z_DEFAULT_COMPRESSION,Ht=B.Z_DEFAULT_STRATEGY,zt=B.Z_DEFLATED;function Wt(t){this.options=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!==kt(n))throw new TypeError(n+"must be non-object");for(var i in n)It(n,i)&&(t[i]=n[i])}}return t}({level:jt,method:zt,chunkSize:16384,windowBits:15,memLevel:8,strategy:Ht},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Dt,this.strm.avail_out=0;var n,i,o=Mt(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(o!==Vt)throw new Error(N[o]);if(e.header&&(i=e.header,(n=this.strm)&&n.state&&(2!==n.state.wrap||(n.state.gzhead=i))),e.dictionary){var r;if(r="[object ArrayBuffer]"===Lt.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(o=function(t,e){var n=e.length;if(!t||!t.state)return $;var i=t.state,o=i.wrap;if(2===o||1===o&&42!==i.status||i.lookahead)return $;if(1===o&&(t.adler=R(t.adler,e,n,0)),i.wrap=0,n>=i.w_size){0===o&&(pt(i.head),i.strstart=0,i.block_start=0,i.insert=0);var r=new Uint8Array(i.w_size);r.set(e.subarray(n-i.w_size,n),0),e=r,n=i.w_size}var s=t.avail_in,a=t.next_in,l=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,yt(i);i.lookahead>=3;){var c=i.strstart,u=i.lookahead-2;do{i.ins_h=gt(i,i.ins_h,i.window[c+3-1]),i.prev[c&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=c,c++}while(--u);i.strstart=c,i.lookahead=2,yt(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,t.next_in=a,t.input=l,t.avail_in=s,i.wrap=o,q}(this.strm,r))!==Vt)throw new Error(N[o]);this._dict_set=!0}}return Wt.prototype.push=function(t,e){var n,i,o=this.strm,r=this.options.chunkSize;if(this.ended)return!1;for(i=e===~~e?e:!0===e?Ut:Nt,o.input="[object ArrayBuffer]"===Lt.call(t)?new Uint8Array(t):t,o.next_in=0,o.avail_in=o.input.length;;)if(0===o.avail_out&&(o.output=new Uint8Array(r),o.next_out=0,o.avail_out=r),(i===Bt||i===Ft)&&o.avail_out<=6)this.onData(o.output.subarray(0,o.next_out)),o.avail_out=0;else{if((n=xt(o,i))===Gt)return o.next_out>0&&this.onData(o.output.subarray(0,o.next_out)),n=Pt(this.strm),this.onEnd(n),this.ended=!0,n===Vt;if(0!==o.avail_out){if(i>0&&o.next_out>0)this.onData(o.output.subarray(0,o.next_out)),o.avail_out=0;else if(0===o.avail_in)break}else this.onData(o.output)}return!0},Wt.prototype.onData=function(t){this.chunks.push(t)},Wt.prototype.onEnd=function(t){t===Vt&&(this.result=function(t){for(var e=0,n=0,i=t.length;n<i;n++)e+=t[n].length;for(var o=new Uint8Array(e),r=0,s=0,a=t.length;r<a;r++){var l=t[r];o.set(l,s),s+=l.length}return o}(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},{Deflate:Wt,constants:B}}(),n=e.Deflate,i=e.constants,o=new n,r=0;function s(t){var e=(new TextEncoder).encode(t);return o.push(e,i.Z_SYNC_FLUSH),r+=e.length,e.length}self.addEventListener("message",t(function(t){var e=t.data;switch(e.action){case"init":self.postMessage({type:"initialized"});break;case"write":var a=s(e.data);self.postMessage({type:"wrote",id:e.id,compressedSize:o.chunks.reduce(function(t,e){return t+e.length},0),additionalRawSize:a});break;case"flush":a=e.data?s(e.data):0,o.push("",i.Z_FINISH),self.postMessage({type:"flushed",id:e.id,result:o.result,additionalRawSize:a,rawSize:r}),o=new n,r=0}}))})()}var gr={status:0};function mr(t,e){switch(void 0===e&&(e=dr),gr.status){case 0:gr={status:1,callbacks:[t]},function(t){void 0===t&&(t=dr);try{var e=t();e.addEventListener("error",fe(fr)),e.addEventListener("message",fe(function(t){var n,i=t.data;"errored"===i.type?fr(i.error):"initialized"===i.type&&(n=e,1===gr.status&&(gr.callbacks.forEach(function(t){return t(n)}),gr={status:3,worker:n}))})),e.postMessage({action:"init"})}catch(n){fr(n)}}(e);break;case 1:gr.callbacks.push(t);break;case 2:t();break;case 3:t(gr.worker)}}function fr(t){1===gr.status?(Nt.error("Session Replay recording failed to start: an error occurred while creating the Worker:",t),t instanceof Event||t instanceof Error&&Le(t.message,"Content Security Policy")?Nt.error("Please make sure CSP is correctly configured https://docs.datadoghq.com/real_user_monitoring/faq/content_security_policy"):ve(t),gr.callbacks.forEach(function(t){return t()}),gr={status:2}):ve(t)}var _r=function(t,e){var n,i,o,r=!1,s=(n={},{get:function(){return n},add:function(t,e){n[t]=e},remove:function(t){delete n[t]},set:function(t){n=t}}),a={},l=function(){},c=function(){},u=new Sn,h=function(t,e){void 0===e&&(e=nn()),u.add(function(){return h(t,e)})},d=function(t,e){void 0===e&&(e=rn()),u.add(function(){return d(t,e)})},p=function(t,e){void 0===e&&(e=m()),u.add(function(){return p(t,e)})},g=function(t,e){void 0===e&&(e=m()),u.add(function(){return g(t,e)})};function m(){return qe({context:s.get(),user:a})}function f(t,n,i,o){var r=function(t,e,n,i,o,r){var s=new An,a=wn()?{getId:function(){return Pe()},isTracked:function(){return!0},hasReplayPlan:function(){return!0},hasLitePlan:function(){return!1}}:function(t,e){var n=function(t,e,n){var i=function(t,e){var n,i,o=!1,r=function(){o=!0,clearTimeout(n),n=setTimeout(function(){o=!1},1e3)};return{get:function(){return o||(i=Ke(t),r()),i},set:function(n,o){$e(t,n,o,e),i=n,r()},clearCache:function(){clearTimeout(n),o=!1}}}("_dd_s",t);!function(t){var e=t.get(),n=Ke("_dd"),i=Ke("_dd_r"),o=Ke("_dd_l");if(!e){var r={};n&&(r.id=n),o&&/^[01]$/.test(o)&&(r.logs=o),i&&/^[012]$/.test(i)&&(r.rum=i),si(r,t)}}(i);var o=new Pn,r=ri(i),s=xe(fe(function(){i.clearCache();var t=ri(i),s=n(t[e]),a=s.isTracked;t[e]=s.trackingType,a&&!t.id&&(t.id=Pe(),t.created=String(Date.now())),si(t,i),a&&r.id!==t.id&&(r=Dt({},t),o.notify()),r=Dt({},t)}),1e3).throttled;return s(),function(t){var e=ze(window,["click","touchstart","keydown","scroll"],t,{capture:!0,passive:!0}).stop;hi.push(e)}(s),function(t){var e=fe(function(){"visible"===document.visibilityState&&(i.clearCache(),si(ri(i),i))}),n=He(document,"visibilitychange",e).stop;hi.push(n);var o=setInterval(e,6e4);hi.push(function(){clearInterval(o)})}(),{getId:function(){return ri(i).id},getTrackingType:function(){return ri(i)[e]},getInMemoryTrackingType:function(){return r[e]},renewObservable:o}}(t.cookieOptions,"rum",function(e){return function(t,e){var n;return{trackingType:n=function(t){return t===ci.NOT_TRACKED||t===ci.TRACKED_REPLAY||t===ci.TRACKED_LITE}(e)?e:ke(t.sampleRate)?ke(t.replaySampleRate)?ci.TRACKED_REPLAY:ci.TRACKED_LITE:ci.NOT_TRACKED,isTracked:pi(n)}}(t,e)});return n.renewObservable.subscribe(function(){e.notify(Mn.SESSION_EXPIRED),e.notify(Mn.SESSION_RENEWED)}),{getId:n.getId,isTracked:function(){return di(n)},hasReplayPlan:function(){return di(n)&&n.getTrackingType()===ci.TRACKED_REPLAY},hasLitePlan:function(){return di(n)&&n.getTrackingType()===ci.TRACKED_LITE}}}(e,s),l=function(){var t=kn(),e=new Pn(function(){if(t){var n=new t(fe(function(){return e.notify()}));return n.observe(document,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),function(){return n.disconnect()}}});return e}(),c=function(t){var e=En({},t),n=new Pn(function(){var t,e,n,o,r,s=(t=i,e=wi(history,"pushState",{after:t}).stop,n=wi(history,"replaceState",{after:t}).stop,o=He(window,"popstate",t).stop,{stop:function(){e(),n(),o()}}).stop,a=(r=i,He(window,"hashchange",r)).stop;return function(){s(),a()}});function i(){if(e.href!==t.href){var i=En({},t);n.notify({newLocation:i,oldLocation:e}),e=i}}return n}(location);n.setExternalContextProvider(function(){return Je({application_id:t.applicationId},h.findView(),i().context)});var u=function(t,e,n,i,o,r,s){var a=function(t,e){var n=new Ei(144e5),i=new Ei(3e5);function o(t,e){return{session:{id:e},view:{id:t.id,name:t.name}}}return t.subscribe(Mn.VIEW_CREATED,function(t){n.setCurrent(o(t,e.getId()),t.startClocks.relative)}),t.subscribe(Mn.VIEW_UPDATED,function(t){var e=n.getCurrent();e&&e.view.id===t.id&&n.setCurrent(o(t,e.session.id),t.startClocks.relative)}),t.subscribe(Mn.VIEW_ENDED,function(t){n.closeCurrent(t.endClocks.relative)}),t.subscribe(Mn.AUTO_ACTION_CREATED,function(t){i.setCurrent(function(t){return{action:{id:t.id}}}(t),t.startClocks.relative)}),t.subscribe(Mn.AUTO_ACTION_COMPLETED,function(t){i.getCurrent()&&i.closeCurrent(t.startClocks.relative+t.duration)}),t.subscribe(Mn.AUTO_ACTION_DISCARDED,function(){i.clearCurrent()}),t.subscribe(Mn.SESSION_RENEWED,function(){n.reset(),i.reset()}),{findAction:function(t){return i.find(t)},findView:function(t){return n.find(t)},stop:function(){n.stop(),i.stop()}}}(e,o),l=function(t,e,n){var i,o=new Ei(144e5);t.subscribe(Mn.VIEW_ENDED,function(t){o.closeCurrent(t.endClocks.relative)}),t.subscribe(Mn.VIEW_CREATED,function(t){var e=t.startClocks,r=n.href;o.setCurrent(s({url:r,referrer:i||document.referrer}),e.relative),i=r});var r=e.subscribe(function(t){var e=t.newLocation,n=o.getCurrent();if(n){var i=on();o.closeCurrent(i),o.setCurrent(s({url:e.href,referrer:n.view.referrer}),i)}});function s(t){return{view:{url:t.url,referrer:t.referrer}}}return{findUrl:function(t){return o.find(t)},stop:function(){r.unsubscribe(),o.stop()}}}(e,r,i),c=function(){document.hasFocus()&&bi();var t,e,n=(t=bi,He(window,"focus",function(e){e.isTrusted&&t()})).stop,i=(e=vi,He(window,"blur",function(t){t.isTrusted&&e()})).stop;return{isInForegroundAt:yi,selectInForegroundPeriodsFor:Ci,stop:function(){_i=[],n(),i()}}}(),u=function(t,e){var n=function(t,e){var n,i=r(t.rumEndpointBuilder,function(){return e.notify(Mn.BEFORE_UNLOAD)}),o=t.replica;function r(e,n){return new ce(new he(e,t.batchBytesLimit),t.maxBatchSize,t.batchBytesLimit,t.maxMessageSize,t.flushTimeout,n)}function s(t){return Je(t,{application:{id:o.applicationId}})}void 0!==o&&(n=r(o.rumEndpointBuilder));var a=!1;return{add:function(t){a||(i.add(t),n&&n.add(s(t)))},stop:function(){a=!0},upsert:function(t,e){a||(i.upsert(t,e),n&&n.upsert(s(t),e))}}}(t,e);return e.subscribe(Mn.RUM_EVENT_COLLECTED,function(t){t.type===Cn.VIEW?n.upsert(t,t.view.id):n.add(t)}),{stop:function(){n.stop()}}}(n,e);return function(t,e,n,i,o,r,s){var a,l=function(t){n.notify(Mn.RAW_ERROR_COLLECTED,{error:t})},c=((a={})[Cn.ERROR]=Qn(Cn.ERROR,e.maxErrorsPerMinute,l),a[Cn.ACTION]=Qn(Cn.ACTION,e.maxActionsPerMinute,l),a);n.subscribe(Mn.RAW_RUM_EVENT_COLLECTED,function(a){var l=a.startTime,u=a.rawRumEvent,h=a.domainContext,d=a.savedCommonContext,p=a.customerContext,g=o.findView(l),m=r.findUrl(l);if(i.isTracked()&&g&&m&&g.session.id===i.getId()){var f=o.findAction(l),_=d||s(),b={_dd:{format_version:2,drift:Math.round(Date.now()-(an()+performance.now())),session:{plan:i.hasReplayPlan()?li.REPLAY:li.LITE}},application:{id:t},date:nn(),service:e.service,session:{type:-1!==navigator.userAgent.indexOf("DatadogSynthetics")||fi()?ui.SYNTHETICS:ui.USER},synthetics:fi()},v=-1!==[Cn.ERROR,Cn.RESOURCE,Cn.LONG_TASK].indexOf(u.type)?Je(b,m,g,f,u):Je(b,m,g,u);v.context=Je(_.context,p),"has_replay"in v.session||(v.session.has_replay=_.hasReplay),Ve(_.user)||(v.usr=_.user),function(t,e,n,i){var o;if(e){var r=function(t,i,o){var r=qe(t),s=function(t){return e(t,n)}(r);return i.forEach(function(e){var n=ti(t,e),i=ti(r,e),o=Ze(n),s=Ze(i);s===o?ei(t,e,i):"object"!==o||"undefined"!==s&&"null"!==s||ei(t,e,{})}),s}(t,t.type===Cn.VIEW?gi:mi);if(!1===r&&t.type!==Cn.VIEW)return!1;!1===r&&Nt.warn("Can't dismiss view events using beforeSend!")}return!(null===(o=i[t.type])||void 0===o?void 0:o.isLimitReached())}(v,e.beforeSend,h,c)&&(Ve(v.context)&&delete v.context,n.notify(Mn.RUM_EVENT_COLLECTED,v))}})}(t,n,e,o,a,l,s),{parentContexts:a,foregroundContexts:c,urlContexts:l,stop:function(){u.stop(),a.stop(),c.stop()}}}(t.applicationId,s,e,location,a,c,i),h=u.parentContexts,d=u.foregroundContexts,p=u.urlContexts;!function(t,e){t.subscribe(Mn.PERFORMANCE_ENTRY_COLLECTED,function(n){if("longtask"===n.entryType&&!e.hasLitePlan()){var i=tn(n.startTime),o={date:i.timeStamp,long_task:{id:Pe(),duration:en(n.duration)},type:Cn.LONG_TASK};t.notify(Mn.RAW_RUM_EVENT_COLLECTED,{rawRumEvent:o,startTime:i.relative,domainContext:{performanceEntry:n.toJSON()}})}})}(s,a),function(t){t.subscribe(Mn.REQUEST_COMPLETED,function(e){t.notify(Mn.RAW_RUM_EVENT_COLLECTED,function(t){var e=t.type===Ee.XHR?Te.XHR:Te.FETCH,n=function(t){if(performance&&"getEntriesByName"in performance){var e=performance.getEntriesByName(t.url,"resource");if(e.length&&"toJSON"in e[0]){var n,i=e.map(function(t){return t.toJSON()}).filter(Un).filter(function(e){return n=e,i=t.startClocks.relative,o=io({startTime:t.startClocks.relative,duration:t.duration}),n.startTime>=i-1&&io(n)<=o+1;var n,i,o});return 1===i.length?i[0]:2===i.length&&io((n=i)[0])<=n[1].startTime?i[1]:void 0}}}(t),i=n?tn(n.startTime):t.startClocks,o=n?oo(n):void 0,r=function(t){if(t.traceId&&t.spanId)return{_dd:{span_id:t.spanId.toDecimalString(),trace_id:t.traceId.toDecimalString()}}}(t),s=Je({date:i.timeStamp,resource:{id:Pe(),type:e,duration:en(t.duration),method:t.method,status_code:t.status,url:t.url},type:Cn.RESOURCE},r,o);return{startTime:i.relative,rawRumEvent:s,domainContext:{performanceEntry:n&&ro(n),xhr:t.xhr,response:t.response,requestInput:t.input,requestInit:t.init,error:t.error}}}(e))}),t.subscribe(Mn.PERFORMANCE_ENTRY_COLLECTED,function(e){var n;"resource"===e.entryType&&"xmlhttprequest"!==(n=e).initiatorType&&"fetch"!==n.initiatorType&&t.notify(Mn.RAW_RUM_EVENT_COLLECTED,function(t){var e=function(t){var e=t.name;if(!function(t){try{return!!Dn(t)}catch(r){return!1}}(e))return be('Failed to construct URL for "'+t.name+'"'),Te.OTHER;for(var n=function(t){var e=Dn(t).pathname;return"/"===e[0]?e:"/"+e}(e),i=0,o=Nn;i<o.length;i++){var r=o[i],s=r[0];if((0,r[1])(t.initiatorType,n))return s}return Te.OTHER}(t),n=oo(t),i=function(t){return t.traceId?{_dd:{trace_id:t.traceId}}:void 0}(t),o=tn(t.startTime),r=Je({date:o.timeStamp,resource:{id:Pe(),type:e,url:t.name},type:Cn.RESOURCE},i,n);return{startTime:o.relative,rawRumEvent:r,domainContext:{performanceEntry:ro(t)}}}(e))})}(s);var g=uo(s,e,location,l,c,d,o,r),m=g.addTiming,f=g.startView,_=function(t,e){var n=new Pn;return function(t){(Ki||(Ki=new Pn,$i=console.error,console.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=se();_e(function(){$i.apply(console,t);var e=Dt(Dt({},no(t,n)),{source:ne,startClocks:rn(),handling:ee.HANDLED});Ki.notify(e)})}),Ki).subscribe(function(e){return t.notify(e)})}(n),function(t){var e;e=function(e,n,i){var o=ie(e,i,"Uncaught");t.notify({message:o.message,stack:o.stack,type:o.type,source:"source",startClocks:rn(),originalError:i,handling:ee.UNHANDLED})},jt||(Gt=window.onerror,window.onerror=fe(Zt),jt=!0),Ht||(null!==window.onunhandledrejection&&window,window.onunhandledrejection=fe(Yt),Ht=!0),zt.push(e)}(n),n.subscribe(function(e){return t.notify(Mn.RAW_ERROR_COLLECTED,{error:e})}),function(t,e){return t.subscribe(Mn.RAW_ERROR_COLLECTED,function(n){t.notify(Mn.RAW_RUM_EVENT_COLLECTED,En({customerContext:n.customerContext,savedCommonContext:n.savedCommonContext},function(t,e){var n={date:t.startClocks.timeStamp,error:{id:Pe(),message:t.message,resource:t.resource?{method:t.resource.method,status_code:t.resource.statusCode,url:t.resource.url}:void 0,source:t.source,stack:t.stack,handling_stack:t.handlingStack,type:t.type,handling:t.handling},type:Cn.ERROR},i=e.isInForegroundAt(t.startClocks.relative);return void 0!==i&&(n.view={in_foreground:i}),{rawRumEvent:n,startTime:t.startClocks.relative,domainContext:{error:t.originalError}}}(n.error,e)))}),{addError:function(e,n){var i,o,r,s,a=e.context,l=(o=e.handlingStack,r=e.startClocks,s=(i=e.error)instanceof Error?$t(i):void 0,En(En({startClocks:r,source:"custom",originalError:i},ie(s,i,"Provided",o)),{handling:ee.HANDLED}));t.notify(Mn.RAW_ERROR_COLLECTED,{customerContext:a,savedCommonContext:n,error:l})}}}(t,e)}(s,d).addError,b=function(t,e,n,i){return t.subscribe(Mn.AUTO_ACTION_COMPLETED,function(e){return t.notify(Mn.RAW_RUM_EVENT_COLLECTED,to(e,i))}),n.trackInteractions&&function(t,e,n){var i=n.actionNameAttribute,o=function(t,e){var n,i;return{create:function(o,r,s){if(!n){var a=new Qi(t,o,r,s);n=a,i=Vi(t,e,function(t){t.hadActivity&&t.duration>=0?a.complete(t.duration):a.discard(),n=void 0},1e4).stop}},discardCurrent:function(){n&&(i(),n.discard(),n=void 0)}}}(t,e);t.subscribe(Mn.VIEW_CREATED,function(){o.discardCurrent()});He(window,"click",function(t){if(t.target instanceof Element){var e,n,r=(n=i,Gi(e=t.target,"data-dd-action-name")||n&&Gi(e,n)||Zi(e,zi)||Zi(e,Wi)||"");r&&o.create(Tn.CLICK,r,t)}},{capture:!0})}(t,e,n),{addAction:function(e,n){t.notify(Mn.RAW_RUM_EVENT_COLLECTED,En({savedCommonContext:n},to(e,i)))}}}(s,l,e,d).addAction;(function(t,e,n){var i=function(t,e){return{clearTracingIfNeeded:Ri,traceFetch:function(n){return Di(t,n,e,function(t){var e;if(n.input instanceof Request&&!(null===(e=n.init)||void 0===e?void 0:e.headers))n.input=new Request(n.input),Object.keys(t).forEach(function(e){n.input.headers.append(e,t[e])});else{n.init=En({},n.init);var i=[];n.init.headers instanceof Headers?n.init.headers.forEach(function(t,e){i.push([e,t])}):Array.isArray(n.init.headers)?n.init.headers.forEach(function(t){i.push(t)}):n.init.headers&&Object.keys(n.init.headers).forEach(function(t){i.push([t,n.init.headers[t]])}),n.init.headers=i.concat(Ue(t))}})},traceXhr:function(n,i){return Di(t,n,e,function(t){Object.keys(t).forEach(function(e){i.setRequestHeader(e,t[e])})})}}}(e,n);!function(t,e,n){Mi().subscribe(function(i){var o=i;if(Hn(e,o.url))switch(o.state){case"start":n.traceXhr(o,o.xhr),o.requestIndex=Fi(),t.notify(Mn.REQUEST_STARTED,{requestIndex:o.requestIndex});break;case"complete":n.clearTracingIfNeeded(o),t.notify(Mn.REQUEST_COMPLETED,{duration:o.duration,method:o.method,requestIndex:o.requestIndex,responseText:o.responseText,spanId:o.spanId,startClocks:o.startClocks,status:o.status,traceId:o.traceId,type:Ee.XHR,url:o.url,xhr:o.xhr})}})}(t,e,i),function(t,e,n){var i;(Ti||(i=new Pn(function(){if(window.fetch)return Si(window,"fetch",function(t){return function(e,n){var o,r=_e(Ii,null,[i,e,n]);return r?(o=t.call(this,r.input,r.init),_e(Ai,null,[i,o,r])):o=t.call(this,e,n),o}}).stop}),Ti=i),Ti).subscribe(function(i){var o=i;if(Hn(e,o.url))switch(o.state){case"start":n.traceFetch(o),o.requestIndex=Fi(),t.notify(Mn.REQUEST_STARTED,{requestIndex:o.requestIndex});break;case"complete":n.clearTracingIfNeeded(o),t.notify(Mn.REQUEST_COMPLETED,{duration:o.duration,method:o.method,requestIndex:o.requestIndex,responseText:o.responseText,responseType:o.responseType,spanId:o.spanId,startClocks:o.startClocks,status:o.status,traceId:o.traceId,type:Ee.FETCH,url:o.url,response:o.response,init:o.init,input:o.input})}})}(t,e,i)})(s,e,a),function(t,e){var n;if(n=function(n){Xn(t,e,n)},We("interactive",function(){var t,e={entryType:"resource",initiatorType:Ln,traceId:zn(document)};if(Jn("navigation")&&performance.getEntriesByType("navigation").length>0){var i=performance.getEntriesByType("navigation")[0];t=En(En({},i.toJSON()),e)}else{var o=$n();t=En(En(En({},o),{decodedBodySize:0,duration:o.responseEnd,name:window.location.href,startTime:0}),e)}n(t)}),qn()&&Kn(t,e,performance.getEntries()),window.PerformanceObserver){var i=fe(function(n){return Kn(t,e,n.getEntries())}),o=["resource","navigation","longtask","paint"],r=["largest-contentful-paint","first-input","layout-shift"];try{r.forEach(function(t){new PerformanceObserver(i).observe({type:t,buffered:!0})})}catch(nx){o.push.apply(o,r)}new PerformanceObserver(i).observe({entryTypes:o}),qn()&&"addEventListener"in performance&&performance.addEventListener("resourcetimingbufferfull",function(){performance.clearResourceTimings()})}Jn("navigation")||function(n){function i(){var n;n=En(En({},$n()),{entryType:"navigation"}),Xn(t,e,n)}We("complete",function(){setTimeout(fe(i))})}(),Jn("first-input")||function(n){var i=Date.now(),o=!1,r=ze(window,["click","mousedown","keydown","touchstart","pointerdown"],function(t){if(t.cancelable){var e={entryType:"first-input",processingStart:on(),startTime:t.timeStamp};"pointerdown"===t.type?function(t){ze(window,["pointerup","pointercancel"],function(e){"pointerup"===e.type&&s(t)},{once:!0})}(e):s(e)}},{passive:!0,capture:!0}).stop;function s(n){if(!o){o=!0,r();var s=n.processingStart-n.startTime;s>=0&&s<Date.now()-i&&function(n){Xn(t,e,n)}(n)}}}()}(s,e);var v=function(t,e,n,i){return{get:function(o){var r=n.findView(o),s=i.findUrl(o);if(e.isTracked()&&r&&s&&r.session.id){var a=n.findAction(o);return{application_id:t,session_id:r.session.id,user_action:a?{id:a.action.id}:void 0,view:En(En({},r.view),s.view)}}}}}(t.applicationId,a,h,p);return{addAction:b,addError:_,addTiming:m,startView:f,lifeCycle:s,parentContexts:h,session:a,getInternalContext:v.get}}(t,n,i,function(){return{user:a,context:s.get(),hasReplay:!!e.isRecording()||void 0}},e,o);d=r.startView,p=r.addAction,g=r.addError,h=r.addTiming,l=r.getInternalContext,u.drain(),e.onRumStart(r.lifeCycle,t,n,r.session,r.parentContexts)}return i={init:fe(function(t){if(wn())t=function(t){return En(En({},t),{applicationId:"empty",clientToken:"empty",sampleRate:100})}(t);else if(!function(t){return function(t){if(void 0===document.cookie||null===document.cookie)return!1;try{var e="dd_cookie_test_"+Pe(),n="test";$e(e,n,Me,t);var i=Ke(e)===n;return Xe(e,t),i}catch(o){return Nt.error(o),!1}}(vn(t))?"file:"!==window.location.protocol||(Nt.error("Execution is not allowed in the current context."),!1):(Nt.warn("Cookies are not authorized, we will not send any data."),!1)}(t))return;if(function(t){return r?(t.silentMultipleInit||Nt.error("DD_RUM is already initialized."),!1):t&&t.clientToken?t.applicationId?void 0===t.sampleRate||Ne(t.sampleRate)?void 0===t.replaySampleRate||Ne(t.replaySampleRate)?!Array.isArray(t.allowedTracingOrigins)||0===t.allowedTracingOrigins.length||void 0!==t.service||(Nt.error("Service need to be configured when tracing is enabled"),!1):(Nt.error("Replay Sample Rate should be a number between 0 and 100"),!1):(Nt.error("Sample Rate should be a number between 0 and 100"),!1):(Nt.error("Application ID is not configured, no RUM data will be collected."),!1):(Nt.error("Client Token is not configured, we will not send any data."),!1)}(t)){var e=function(t,e){var n;n=t.enableExperimentalFeatures,Array.isArray(n)&&(mn||(mn=new Set(n)),n.filter(function(t){return"string"==typeof t}).forEach(function(t){mn.add(t)}));var i=function(t,e){var n,i,o=Dt(Dt({beforeSend:t.beforeSend&&Qe(t.beforeSend,"beforeSend threw an error:"),cookieOptions:vn(t),service:t.service},function(t,e){var n={logsEndpointBuilder:gn(t,e,"logs"),rumEndpointBuilder:gn(t,e,"rum"),sessionReplayEndpointBuilder:gn(t,e,"sessionReplay")},i=Fe(n).map(function(t){return t.buildIntakeUrl()}),o=Dt({isIntakeUrl:function(t){return i.some(function(e){return 0===t.indexOf(e)})}},n);if(t.internalMonitoringApiKey&&(o.internalMonitoringEndpointBuilder=gn(t,e,"logs","browser-agent-internal-monitoring")),e.buildMode===fn.E2E_TEST){var r=function(t){return{build:function(){return t}}};o.internalMonitoringEndpointBuilder=r("<<< E2E INTERNAL MONITORING ENDPOINT >>>"),o.logsEndpointBuilder=r("<<< E2E LOGS ENDPOINT >>>"),o.rumEndpointBuilder=r("<<< E2E RUM ENDPOINT >>>"),o.sessionReplayEndpointBuilder=r("<<< E2E SESSION REPLAY ENDPOINT >>>")}if(e.buildMode===fn.STAGING&&void 0!==t.replica){var s=Dt(Dt({},t),{site:un,applicationId:t.replica.applicationId,clientToken:t.replica.clientToken,useAlternateIntakeDomains:!0,intakeApiVersion:2}),a={logsEndpointBuilder:gn(s,e,"logs"),rumEndpointBuilder:gn(s,e,"rum"),internalMonitoringEndpointBuilder:gn(s,e,"logs","browser-agent-internal-monitoring")};o.replica=Dt({applicationId:t.replica.applicationId},a);var l=Fe(a).map(function(t){return t.buildIntakeUrl()});i.push.apply(i,l)}return o}(t,e)),bn);return"allowedTracingOrigins"in t&&(o.allowedTracingOrigins=t.allowedTracingOrigins),"sampleRate"in t&&(o.sampleRate=t.sampleRate),"replaySampleRate"in t&&(o.replaySampleRate=t.replaySampleRate),"trackInteractions"in t&&(o.trackInteractions=!!t.trackInteractions),"trackViewsManually"in t&&(o.trackViewsManually=!!t.trackViewsManually),"actionNameAttribute"in t&&(o.actionNameAttribute=t.actionNameAttribute),n=_n,i=t.defaultPrivacyLevel,Object.keys(n).some(function(t){return n[t]===i})&&(o.defaultPrivacyLevel=t.defaultPrivacyLevel),o}(t,e);return{configuration:i,internalMonitoring:me(i)}}(t,xn),n=e.configuration,i=e.internalMonitoring;if(n.trackViewsManually){var o=u;u=new Sn,d=function(e){f(t,n,i,e)},o.drain()}else f(t,n,i);c=function(){return qe(t)},r=!0}}),addRumGlobalContext:fe(s.add),removeRumGlobalContext:fe(s.remove),getRumGlobalContext:fe(s.get),setRumGlobalContext:fe(s.set),getInternalContext:fe(function(t){return l(t)}),getInitConfiguration:fe(function(){return c()}),addAction:fe(function(t,e){p({name:t,context:qe(e),startClocks:rn(),type:Tn.CUSTOM})}),addError:function(t,e){var n=se();_e(function(){g({error:t,handlingStack:n,context:qe(e),startClocks:rn()})})},addTiming:fe(function(t,e){h(t,e)}),setUser:fe(function(t){var e=function(t){if("object"==typeof t&&t){var e=qe(t);return"id"in e&&(e.id=String(e.id)),"name"in e&&(e.name=String(e.name)),"email"in e&&(e.email=String(e.email)),e}}(t);e?a=e:Nt.error("Unsupported user:",t)}),removeUser:fe(function(){a={}}),startView:fe(function(t){d(t)}),startSessionReplayRecording:fe(e.start),stopSessionReplayRecording:fe(e.stop)},o=Dt(Dt({},i),{onReady:function(t){t()}}),Object.defineProperty(o,"_setDebug",{get:function(){return Ce},enumerable:!1}),o}(0,function(t,e){if(void 0===e&&(e=mr),wn())return{start:Ae,stop:Ae,getReplayStats:function(){},onRumStart:Ae,isRecording:function(){return!1}};var n={status:0},i=function(){n={status:1}},o=function(){n={status:0}};return{start:function(){return i()},stop:function(){return o()},getReplayStats:sr,onRumStart:function(t,r,s,a,l){t.subscribe(Mn.SESSION_EXPIRED,function(){2!==n.status&&3!==n.status||(o(),n={status:1})}),t.subscribe(Mn.SESSION_RENEWED,function(){1===n.status&&i()}),i=function(){a.hasReplayPlan()?2!==n.status&&3!==n.status&&(n={status:2},We("complete",function(){2===n.status&&e(function(e){if(2===n.status)if(e){var i=function(t,e,n,i,o,r){var s=hr(t,e,i,o,function(t,e,i,o){return ir(n.sessionReplayEndpointBuilder,t,e,i,o)},r),a=s.addRecord,l=s.stop;function c(t){a(go(go({},t),{timestamp:Date.now()}))}var u=function(t){var e=t.emit;if(!e)throw new Error("emit function is required");var n=new Ko,i=function(){var i,o,r,s;n.flush(),e({data:{height:No(),href:window.location.href,width:Bo()},type:4}),e({data:{has_focus:document.hasFocus()},type:6}),e({data:{node:Vo(document,t.defaultPrivacyLevel),initialOffset:{left:void 0!==window.pageXOffset?window.pageXOffset:(null===document||void 0===document?void 0:document.documentElement.scrollLeft)||(null===(o=null===(i=null===document||void 0===document?void 0:document.body)||void 0===i?void 0:i.parentElement)||void 0===o?void 0:o.scrollLeft)||(null===document||void 0===document?void 0:document.body.scrollLeft)||0,top:void 0!==window.pageYOffset?window.pageYOffset:(null===document||void 0===document?void 0:document.documentElement.scrollTop)||(null===(s=null===(r=null===document||void 0===document?void 0:document.body)||void 0===r?void 0:r.parentElement)||void 0===s?void 0:s.scrollTop)||(null===document||void 0===document?void 0:document.body.scrollTop)||0}},type:2})};return i(),{stop:Xo({mutationController:n,defaultPrivacyLevel:t.defaultPrivacyLevel,inputCb:function(t){return e({data:go({source:ho.Input},t),type:3})},mediaInteractionCb:function(t){return e({data:go({source:ho.MediaInteraction},t),type:3})},mouseInteractionCb:function(t){return e({data:go({source:ho.MouseInteraction},t),type:3})},mousemoveCb:function(t,n){return e({data:{positions:t,source:n},type:3})},mutationCb:function(t){return e({data:go({source:ho.Mutation},t),type:3})},scrollCb:function(t){return e({data:go({source:ho.Scroll},t),type:3})},styleSheetRuleCb:function(t){return e({data:go({source:ho.StyleSheetRule},t),type:3})},viewportResizeCb:function(t){return e({data:go({source:ho.ViewportResize},t),type:3})},focusCb:function(t){return e({type:6,data:t})}}),takeFullSnapshot:i,flushMutations:function(){return n.flush()}}}({emit:c,defaultPrivacyLevel:n.defaultPrivacyLevel}),h=u.stop,d=u.takeFullSnapshot,p=u.flushMutations,g=t.subscribe(Mn.VIEW_ENDED,function(){p(),c({type:7})}).unsubscribe,m=t.subscribe(Mn.VIEW_CREATED,d).unsubscribe;return{stop:function(){g(),m(),h(),l()}}}(t,r.applicationId,s,a,l,e).stop;n={status:3,stopRecording:i}}else n={status:0}})})):n={status:1}},o=function(){0!==n.status&&(3===n.status&&n.stopRecording(),n={status:0})},1===n.status&&i()},isRecording:function(){return 3===n.status}}}());!function(t,e,n){var i=t[e];t[e]=n,i&&i.q&&i.q.forEach(function(t){return Qe(t,"onReady callback threw an error:")()})}(function(){if("object"==typeof globalThis)return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var t=_dd_temp_;return delete Object.prototype._dd_temp_,"object"!=typeof t&&(t="object"==typeof self?self:"object"==typeof window?window:{}),t}(),"DD_RUM",_r);var br=n(9764),vr=n(8318),yr=n(8470),Cr=n(9996),Or=n(2056);function Tr(...t){if(1===t.length){const e=t[0];if((0,yr.k)(e))return Er(e,null);if((0,Or.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Er(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Er(t=1===t.length&&(0,yr.k)(t[0])?t[0]:t,null).pipe((0,Cr.U)(t=>e(...t)))}return Er(t,null)}function Er(t,e){return new vr.y(n=>{const i=t.length;if(0===i)return void n.complete();const o=new Array(i);let r=0,s=0;for(let a=0;a<i;a++){const l=(0,br.D)(t[a]);let c=!1;n.add(l.subscribe({next:t=>{c||(c=!0,s++),o[a]=t},error:t=>n.error(t),complete:()=>{r++,r!==i&&c||(s===i&&n.next(e?e.reduce((t,e,n)=>(t[e]=o[n],t),{}):o),n.complete())}}))}})}
/**
 * @license Angular v12.0.4
 * (c) 2010-2021 Google LLC. https://angular.io/
 * License: MIT
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
let Sr=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}setProperty(t,e){this._renderer.setProperty(this._elementRef.nativeElement,t,e)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Qsj),i.Y36(i.SBq))},t.\u0275dir=i.lG2({type:t}),t})(),wr=(()=>{class t extends Sr{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275dir=i.lG2({type:t,features:[i.qOj]}),t})();const Mr=new i.OlP("NgValueAccessor"),xr={provide:Mr,useExisting:(0,i.Gpc)(()=>kr),multi:!0},Pr=new i.OlP("CompositionEventMode");
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */let kr=(()=>{class t extends Sr{constructor(t,e,n){super(t,e),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=r()?r().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(Pr,8))},t.\u0275dir=i.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&i.NdJ("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[i._Bn([xr]),i.qOj]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Ir(t){return null==t||0===t.length}function Ar(t){return null!=t&&"number"==typeof t.length}const Rr=new i.OlP("NgValidators"),Dr=new i.OlP("NgAsyncValidators"),Lr=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Nr{static min(t){return function(t){return e=>{if(Ir(e.value)||Ir(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(t)}static max(t){return function(t){return e=>{if(Ir(e.value)||Ir(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(t)}static required(t){return Br(t)}static requiredTrue(t){return function(t){return!0===t.value?null:{required:!0}}(t)}static email(t){return function(t){return Ir(t.value)||Lr.test(t.value)?null:{email:!0}}(t)}static minLength(t){return function(t){return e=>Ir(e.value)||!Ar(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static maxLength(t){return function(t){return e=>Ar(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static pattern(t){return function(t){if(!t)return Fr;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Ir(t.value))return null;const i=t.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return zr(t)}static composeAsync(t){return Zr(t)}}function Br(t){return Ir(t.value)?{required:!0}:null}function Fr(t){return null}function Ur(t){return null!=t}function Vr(t){const e=(0,i.QGY)(t)?(0,br.D)(t):t;return(0,i.CqO)(e),e}function Gr(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function jr(t,e){return e.map(e=>e(t))}function Hr(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function zr(t){if(!t)return null;const e=t.filter(Ur);return 0==e.length?null:function(t){return Gr(jr(t,e))}}function Wr(t){return null!=t?zr(Hr(t)):null}function Zr(t){if(!t)return null;const e=t.filter(Ur);return 0==e.length?null:function(t){return Tr(jr(t,e).map(Vr)).pipe((0,Cr.U)(Gr))}}function Yr(t){return null!=t?Zr(Hr(t)):null}function qr(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Jr(t){return t._rawValidators}function $r(t){return t._rawAsyncValidators}let Kr=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Wr(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Yr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.lG2({type:t}),t})(),Xr=(()=>{class t extends Kr{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275dir=i.lG2({type:t,features:[i.qOj]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class Qr extends Kr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class ts{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let es=(()=>{class t extends ts{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Qr,2))},t.\u0275dir=i.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&i.ekj("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[i.qOj]}),t})(),ns=(()=>{class t extends ts{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Xr,10))},t.\u0275dir=i.lG2({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&i.ekj("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[i.qOj]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function is(t,e){return[...e.path,t]}function os(t,e){as(t,e),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&cs(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&cs(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function rs(t,e,n=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),ls(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function ss(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function as(t,e){const n=Jr(t);null!==e.validator?t.setValidators(qr(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const i=$r(t);null!==e.asyncValidator?t.setAsyncValidators(qr(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);const o=()=>t.updateValueAndValidity();ss(e._rawValidators,o),ss(e._rawAsyncValidators,o)}function ls(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=Jr(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(t=>t!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(null!==e.asyncValidator){const i=$r(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(t=>t!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}const i=()=>{};return ss(e._rawValidators,i),ss(e._rawAsyncValidators,i),n}function cs(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function us(t,e){as(t,e)}function hs(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function ds(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function ps(t,e){if(!e)return null;let n,i,o;return Array.isArray(e),e.forEach(t=>{t.constructor===kr?n=t:Object.getPrototypeOf(t.constructor)===wr?i=t:o=t}),o||i||n||null}function gs(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const ms="VALID",fs="INVALID",_s="PENDING",bs="DISABLED";function vs(t){return(Ts(t)?t.validators:t)||null}function ys(t){return Array.isArray(t)?Wr(t):t||null}function Cs(t,e){return(Ts(e)?e.asyncValidators:t)||null}function Os(t){return Array.isArray(t)?Yr(t):t||null}function Ts(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Es{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=ys(this._rawValidators),this._composedAsyncValidatorFn=Os(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ms}get invalid(){return this.status===fs}get pending(){return this.status==_s}get disabled(){return this.status===bs}get enabled(){return this.status!==bs}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=ys(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Os(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=_s,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=bs,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ms,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==ms&&this.status!==_s||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bs:ms}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=_s,this._hasOwnPendingAsyncValidator=!0;const e=Vr(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let i=t;return e.forEach(t=>{i=i instanceof ws?i.controls.hasOwnProperty(t)?i.controls[t]:null:i instanceof Ms&&i.at(t)||null}),i}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new i.vpe,this.statusChanges=new i.vpe}_calculateStatus(){return this._allControlsDisabled()?bs:this.errors?fs:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_s)?_s:this._anyControlsHaveStatus(fs)?fs:ms}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ts(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ss extends Es{constructor(t=null,e,n){super(vs(e),Cs(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){gs(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){gs(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class ws extends Es{constructor(t,e,n){super(vs(e),Cs(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Ss?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,i)=>{n=e(n,t,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Ms extends Es{constructor(t,e,n){super(vs(e),Cs(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Ss?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const xs={provide:Xr,useExisting:(0,i.Gpc)(()=>ks)},Ps=(()=>Promise.resolve(null))();let ks=(()=>{class t extends Xr{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new i.vpe,this.form=new ws({},Wr(t),Yr(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ps.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),os(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ps.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),gs(this._directives,t)})}addFormGroup(t){Ps.then(()=>{const e=this._findContainer(t.path),n=new ws({});us(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ps.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Ps.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,ds(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Rr,10),i.Y36(Dr,10))},t.\u0275dir=i.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&i.NdJ("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i._Bn([xs]),i.qOj]}),t})(),Is=(()=>{class t extends Xr{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return is(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275dir=i.lG2({type:t,features:[i.qOj]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const As={provide:Qr,useExisting:(0,i.Gpc)(()=>Ds)},Rs=(()=>Promise.resolve(null))();let Ds=(()=>{class t extends Qr{constructor(t,e,n,o){super(),this.control=new Ss,this._registered=!1,this.update=new i.vpe,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=ps(0,o)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),hs(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?is(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){os(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Rs.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Rs.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Xr,9),i.Y36(Rr,10),i.Y36(Dr,10),i.Y36(Mr,10))},t.\u0275dir=i.lG2({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i._Bn([As]),i.qOj,i.TTD]}),t})(),Ls=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const Ns={provide:Mr,useExisting:(0,i.Gpc)(()=>Bs),multi:!0};let Bs=(()=>{class t extends wr{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275dir=i.lG2({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&i.NdJ("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[i._Bn([Ns]),i.qOj]}),t})(),Fs=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const Us=new i.OlP("NgModelWithFormControlWarning"),Vs={provide:Xr,useExisting:(0,i.Gpc)(()=>Gs)};let Gs=(()=>{class t extends Xr{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new i.vpe,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ls(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return os(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){rs(t.control||null,t,!1),gs(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,ds(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=t.control,n=this.form.get(t.path);e!==n&&(rs(e||null,t),n instanceof Ss&&(os(n,t),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);us(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return ls(t,e)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){as(this.form,this),this._oldForm&&ls(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Rr,10),i.Y36(Dr,10))},t.\u0275dir=i.lG2({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&i.NdJ("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i._Bn([Vs]),i.qOj,i.TTD]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const js={provide:Xr,useExisting:(0,i.Gpc)(()=>Hs)};let Hs=(()=>{class t extends Is{constructor(t,e,n){super(),this._parent=t,this._setValidators(e),this._setAsyncValidators(n)}_checkParentType(){Zs(this._parent)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Xr,13),i.Y36(Rr,10),i.Y36(Dr,10))},t.\u0275dir=i.lG2({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[i._Bn([js]),i.qOj]}),t})();const zs={provide:Xr,useExisting:(0,i.Gpc)(()=>Ws)};let Ws=(()=>{class t extends Xr{constructor(t,e,n){super(),this._parent=t,this._setValidators(e),this._setAsyncValidators(n)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return is(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Zs(this._parent)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Xr,13),i.Y36(Rr,10),i.Y36(Dr,10))},t.\u0275dir=i.lG2({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[i._Bn([zs]),i.qOj]}),t})();function Zs(t){return!(t instanceof Hs||t instanceof Gs||t instanceof Ws)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const Ys={provide:Qr,useExisting:(0,i.Gpc)(()=>qs)};let qs=(()=>{class t extends Qr{constructor(t,e,n,o,r){super(),this._ngModelWarningConfig=r,this._added=!1,this.update=new i.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=ps(0,o)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),hs(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return is(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Xr,13),i.Y36(Rr,10),i.Y36(Dr,10),i.Y36(Mr,10),i.Y36(Us,8))},t.\u0275dir=i.lG2({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[i._Bn([Ys]),i.qOj,i.TTD]}),t._ngModelWarningSentOnce=!1,t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const Js={provide:Rr,useExisting:(0,i.Gpc)(()=>$s),multi:!0};let $s=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?Br(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.lG2({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&i.uIk("required",e.required?"":null)},inputs:{required:"required"},features:[i._Bn([Js])]}),t})(),Ks=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[Fs]]}),t})(),Xs=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[Ks]}),t})(),Qs=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Us,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[Ks]}),t})(),ta=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let i,o=null,r=null;return null!=e&&(
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(o=null!=e.validators?e.validators:null,r=null!=e.asyncValidators?e.asyncValidators:null,i=null!=e.updateOn?e.updateOn:void 0):(o=null!=e.validator?e.validator:null,r=null!=e.asyncValidator?e.asyncValidator:null)),new ws(n,{asyncValidators:r,updateOn:i,validators:o})}control(t,e,n){return new Ss(t,e,n)}array(t,e,n){const i=t.map(t=>this._createControl(t));return new Ms(i,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof Ss||t instanceof ws||t instanceof Ms?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,i.Yz7)({factory:function(){return new t},token:t,providedIn:Qs}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var ea=n(878),na=n(436),ia=n(3835);
/**
 * @license Angular v12.0.4
 * (c) 2010-2021 Google LLC. https://angular.io/
 * License: MIT
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class oa{}class ra{}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class sa{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),i=n.toLowerCase(),o=t.slice(e+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(o):this.headers.set(i,[o])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const i=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof sa?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new sa;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof sa?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...n),this.headers.set(e,i);break;case"d":const o=t.value;if(o){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===o.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class aa{encodeKey(t){return la(t)}encodeValue(t){return la(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function la(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function ca(t){return`${t}`}class ua{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new aa,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const i=t.indexOf("="),[o,r]=-1==i?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,i)),e.decodeValue(t.slice(i+1))],s=n.get(o)||[];s.push(r),n.set(o,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const i=t[n];Array.isArray(i)?i.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new ua({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(ca(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(ca(t.value));-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class ha{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function da(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function pa(t){return"undefined"!=typeof Blob&&t instanceof Blob}function ga(t){return"undefined"!=typeof FormData&&t instanceof FormData}class ma{constructor(t,e,n,i){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,o=i):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new sa),this.context||(this.context=new ha),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new ua,this.urlWithParams=e}serializeBody(){return null===this.body?null:da(this.body)||pa(this.body)||ga(this.body)||"string"==typeof this.body?this.body:this.body instanceof ua?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ga(this.body)?null:pa(this.body)?this.body.type||null:da(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ua?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const n=t.method||this.method,i=t.url||this.url,o=t.responseType||this.responseType,r=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const u=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new ma(n,i,r,{params:c,headers:l,context:u,reportProgress:a,responseType:o,withCredentials:s})}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var fa=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class _a{constructor(t,e=200,n="OK"){this.headers=t.headers||new sa,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class ba extends _a{constructor(t={}){super(t),this.type=fa.ResponseHeader}clone(t={}){return new ba({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class va extends _a{constructor(t={}){super(t),this.type=fa.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new va({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ya extends _a{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Ca(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Oa=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let i;if(t instanceof ma)i=t;else{let o,r;o=n.headers instanceof sa?n.headers:new sa(n.headers),n.params&&(r=n.params instanceof ua?n.params:new ua({fromObject:n.params})),i=new ma(t,e,void 0!==n.body?n.body:null,{headers:o,context:n.context,params:r,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const o=(0,ea.of)(i).pipe((0,na.b)(t=>this.handler.handle(t)));if(t instanceof ma||"events"===n.observe)return o;const r=o.pipe((0,ia.h)(t=>t instanceof va));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return r.pipe((0,Cr.U)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return r.pipe((0,Cr.U)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return r.pipe((0,Cr.U)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return r.pipe((0,Cr.U)(t=>t.body))}case"response":return r;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new ua).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Ca(n,e))}post(t,e,n={}){return this.request("POST",t,Ca(n,e))}put(t,e,n={}){return this.request("PUT",t,Ca(n,e))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(oa))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class Ta{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Ea=new i.OlP("HTTP_INTERCEPTORS");let Sa=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const wa=/^\)\]\}',?\n/;let Ma=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new vr.y(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const i=t.serializeBody();let o=null;const r=()=>{if(null!==o)return o;const e=1223===n.status?204:n.status,i=n.statusText||"OK",r=new sa(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return o=new ba({headers:r,status:e,statusText:i,url:s}),o},s=()=>{let{headers:i,status:o,statusText:s,url:a}=r(),l=null;204!==o&&(l=void 0===n.response?n.responseText:n.response),0===o&&(o=l?200:0);let c=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof l){const t=l;l=l.replace(wa,"");try{l=""!==l?JSON.parse(l):null}catch(u){l=t,c&&(c=!1,l={error:u,text:l})}}c?(e.next(new va({body:l,headers:i,status:o,statusText:s,url:a||void 0})),e.complete()):e.error(new ya({error:l,headers:i,status:o,statusText:s,url:a||void 0}))},a=t=>{const{url:i}=r(),o=new ya({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:i||void 0});e.error(o)};let l=!1;const c=i=>{l||(e.next(r()),l=!0);let o={type:fa.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(o.total=i.total),"text"===t.responseType&&n.responseText&&(o.partialText=n.responseText),e.next(o)},u=t=>{let n={type:fa.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",c),null!==i&&n.upload&&n.upload.addEventListener("progress",u)),n.send(i),e.next({type:fa.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",s),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",c),null!==i&&n.upload&&n.upload.removeEventListener("progress",u)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(tt))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const xa=new i.OlP("XSRF_COOKIE_NAME"),Pa=new i.OlP("XSRF_HEADER_NAME");class ka{}let Ia=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=x(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(s),i.LFG(i.Lbi),i.LFG(xa))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),Aa=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const i=this.tokenService.getToken();return null===i||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,i)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(ka),i.LFG(Pa))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),Ra=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(Ea,[]);this.chain=t.reduceRight((t,e)=>new Ta(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(ra),i.LFG(i.zs3))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),Da=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:Aa,useClass:Sa}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:xa,useValue:e.cookieName}:[],e.headerName?{provide:Pa,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[Aa,{provide:Ea,useExisting:Aa,multi:!0},{provide:ka,useClass:Ia},{provide:xa,useValue:"XSRF-TOKEN"},{provide:Pa,useValue:"X-XSRF-TOKEN"}]}),t})(),La=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[Oa,{provide:oa,useClass:Ra},Ma,{provide:ra,useExisting:Ma}],imports:[[Da.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();
/**
 * @license Angular v12.0.4
 * (c) 2010-2021 Google LLC. https://angular.io/
 * License: MIT
 */
class Na{}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const Ba="*";function Fa(t,e){return{type:7,name:t,definitions:e,options:{}}}function Ua(t,e=null){return{type:4,styles:e,timings:t}}function Va(t,e=null){return{type:2,steps:t,options:e}}function Ga(t){return{type:6,styles:t,offset:null}}function ja(t,e,n){return{type:0,name:t,styles:e,options:n}}function Ha(t){return{type:5,steps:t}}function za(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function Wa(t=null){return{type:9,options:t}}function Za(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Ya(t){Promise.resolve(null).then(t)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class qa{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ya(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class Ja{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,i=0;const o=this.players.length;0==o?Ya(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==o&&this._onFinish()}),t.onDestroy(()=>{++n==o&&this._onDestroy()}),t.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license Angular v12.0.4
 * (c) 2010-2021 Google LLC. https://angular.io/
 * License: MIT
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function $a(){return"undefined"!=typeof window&&void 0!==window.document}function Ka(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Xa(t){switch(t.length){case 0:return new qa;case 1:return t[0];default:return new Ja(t)}}function Qa(t,e,n,i,o={},r={}){const s=[],a=[];let l=-1,c=null;if(i.forEach(t=>{const n=t.offset,i=n==l,u=i&&c||{};Object.keys(t).forEach(n=>{let i=n,a=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,s),a){case"!":a=o[n];break;case Ba:a=r[n];break;default:a=e.normalizeStyleValue(n,i,a,s)}u[i]=a}),i||a.push(u),c=u,l=n}),s.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${s.join(t)}`)}return a}function tl(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&el(n,"start",t)));break;case"done":t.onDone(()=>i(n&&el(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&el(n,"destroy",t)))}}function el(t,e,n){const i=n.totalTime,o=nl(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==i?t.totalTime:i,!!n.disabled),r=t._data;return null!=r&&(o._data=r),o}function nl(t,e,n,i,o="",r=0,s){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:o,totalTime:r,disabled:!!s}}function il(t,e,n){let i;return t instanceof Map?(i=t.get(e),i||t.set(e,i=n)):(i=t[e],i||(i=t[e]=n)),i}function ol(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let rl=(t,e)=>!1,sl=(t,e)=>!1,al=(t,e,n)=>[];const ll=Ka();(ll||"undefined"!=typeof Element)&&(rl=$a()?(t,e)=>{for(;e&&e!==document.documentElement;){if(e===t)return!0;e=e.parentNode||e.host}return!1}:(t,e)=>t.contains(e),sl=(()=>{if(ll||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):sl}})(),al=(t,e,n)=>{let i=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)i.push(n[t])}else{const n=t.querySelector(e);n&&i.push(n)}return i});let cl=null,ul=!1;function hl(t){cl||(cl=("undefined"!=typeof document?document.body:null)||{},ul=!!cl.style&&"WebkitAppearance"in cl.style);let e=!0;return cl.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in cl.style,!e&&ul)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in cl.style),e}const dl=sl,pl=rl,gl=al;function ml(t){const e={};return Object.keys(t).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]}),e}let fl=(()=>{class t{validateStyleProperty(t){return hl(t)}matchesElement(t,e){return dl(t,e)}containsElement(t,e){return pl(t,e)}query(t,e,n){return gl(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,i,o,r=[],s){return new qa(n,i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),_l=(()=>{class t{}return t.NOOP=new fl,t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const bl="ng-enter",vl="ng-leave",yl="ng-trigger",Cl=".ng-trigger",Ol="ng-animating",Tl=".ng-animating";function El(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Sl(parseFloat(e[1]),e[2])}function Sl(t,e){switch(e){case"s":return 1e3*t;default:return t}}function wl(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let i,o=0,r="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};i=Sl(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(o=Sl(parseFloat(s),n[4]));const a=n[5];a&&(r=a)}else i=t;if(!n){let n=!1,r=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),o<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(r,0,`The provided timing value "${t}" is invalid.`)}return{duration:i,delay:o,easing:r}}(t,e,n)}function Ml(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function xl(t,e,n={}){if(e)for(let i in t)n[i]=t[i];else Ml(t,n);return n}function Pl(t,e,n){return n?e+":"+n+";":""}function kl(t){let e="";for(let n=0;n<t.style.length;n++){const i=t.style.item(n);e+=Pl(0,i,t.style.getPropertyValue(i))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=Pl(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function Il(t,e,n){t.style&&(Object.keys(e).forEach(i=>{const o=Ul(i);n&&!n.hasOwnProperty(i)&&(n[i]=t.style[o]),t.style[o]=e[i]}),Ka()&&kl(t))}function Al(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Ul(e);t.style[n]=""}),Ka()&&kl(t))}function Rl(t){return Array.isArray(t)?1==t.length?t[0]:Va(t):t}const Dl=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ll(t){let e=[];if("string"==typeof t){let n;for(;n=Dl.exec(t);)e.push(n[1]);Dl.lastIndex=0}return e}function Nl(t,e,n){const i=t.toString(),o=i.replace(Dl,(t,i)=>{let o=e[i];return e.hasOwnProperty(i)||(n.push(`Please provide a value for the animation param ${i}`),o=""),o.toString()});return o==i?t:o}function Bl(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Fl=/-+([a-z0-9])/g;function Ul(t){return t.replace(Fl,(...t)=>t[1].toUpperCase())}function Vl(t,e){return 0===t||0===e}function Gl(t,e,n){const i=Object.keys(n);if(i.length&&e.length){let r=e[0],s=[];if(i.forEach(t=>{r.hasOwnProperty(t)||s.push(t),r[t]=n[t]}),s.length)for(var o=1;o<e.length;o++){let n=e[o];s.forEach(function(e){n[e]=Hl(t,e)})}}return e}function jl(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function Hl(t,e){return window.getComputedStyle(t)[e]}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const zl="*";function Wl(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const i=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof i)return void e.push(i);t=i}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const o=i[1],r=i[2],s=i[3];e.push(ql(o,s)),"<"!=r[0]||o==zl&&s==zl||e.push(ql(s,o))}(t,n,e)):n.push(t),n}const Zl=new Set(["true","1"]),Yl=new Set(["false","0"]);function ql(t,e){const n=Zl.has(t)||Yl.has(t),i=Zl.has(e)||Yl.has(e);return(o,r)=>{let s=t==zl||t==o,a=e==zl||e==r;return!s&&n&&"boolean"==typeof o&&(s=o?Zl.has(t):Yl.has(t)),!a&&i&&"boolean"==typeof r&&(a=r?Zl.has(e):Yl.has(e)),s&&a}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const Jl=new RegExp("s*:selfs*,?","g");function $l(t,e,n){return new Kl(t).build(e,n)}class Kl{constructor(t){this._driver=t}build(t,e){const n=new Xl(e);return this._resetContextStyleTimingState(n),jl(this,Rl(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,i=e.depCount=0;const o=[],r=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,i=n.name;i.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,o.push(this.visitState(n,e))}),n.name=i}else if(1==t.type){const o=this.visitTransition(t,e);n+=o.queryCount,i+=o.depCount,r.push(o)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:o,transitions:r,queryCount:n,depCount:i,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){const o=new Set,r=i||{};if(n.styles.forEach(t=>{if(Ql(t)){const e=t;Object.keys(e).forEach(t=>{Ll(e[t]).forEach(t=>{r.hasOwnProperty(t)||o.add(t)})})}}),o.size){const n=Bl(o.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=jl(this,Rl(t.animation),e);return{type:1,matchers:Wl(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:tc(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>jl(this,t,e)),options:tc(t.options)}}visitGroup(t,e){const n=e.currentTime;let i=0;const o=t.steps.map(t=>{e.currentTime=n;const o=jl(this,t,e);return i=Math.max(i,e.currentTime),o});return e.currentTime=i,{type:3,steps:o,options:tc(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return ec(wl(t,e).duration,0,"");const i=t;if(i.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=ec(0,0,"");return t.dynamic=!0,t.strValue=i,t}return n=n||wl(i,e),ec(n.duration,n.delay,n.easing)}(t.timings,e.errors);let i;e.currentAnimateTimings=n;let o=t.styles?t.styles:Ga({});if(5==o.type)i=this.visitKeyframes(o,e);else{let o=t.styles,r=!1;if(!o){r=!0;const t={};n.easing&&(t.easing=n.easing),o=Ga(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(o,e);s.isEmptyStep=r,i=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==Ba?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let i=!1,o=null;return n.forEach(t=>{if(Ql(t)){const e=t,n=e.easing;if(n&&(o=n,delete e.easing),!i)for(let t in e)if(e[t].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:o,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let i=e.currentTime,o=e.currentTime;n&&o>0&&(o-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const r=e.collectedStyles[e.currentQuerySelector],s=r[n];let a=!0;s&&(o!=i&&o>=s.startTime&&i<=s.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${o}ms" and "${i}ms"`),a=!1),o=s.startTime),a&&(r[n]={startTime:o,endTime:i}),e.options&&function(t,e,n){const i=e.params||{},o=Ll(t);o.length&&o.forEach(t=>{i.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const o=[];let r=!1,s=!1,a=0;const l=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let l=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Ql(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Ql(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=l&&(i++,c=n.offset=l),s=s||c<0||c>1,r=r||c<a,a=c,o.push(c),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),r&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let u=0;i>0&&i<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(u=1/(c-1));const h=c-1,d=e.currentTime,p=e.currentAnimateTimings,g=p.duration;return l.forEach((t,i)=>{const r=u>0?i==h?1:u*i:o[i],s=r*g;e.currentTime=d+p.delay+s,p.duration=s,this._validateStyleAst(t,e),t.offset=r,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:jl(this,Rl(t.animation),e),options:tc(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:tc(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:tc(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[o,r]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(Jl,"")),[t=t.replace(/@\*/g,Cl).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,Tl),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+o:o,il(e.collectedStyles,e.currentQuerySelector,{});const s=jl(this,Rl(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:r,animation:s,originalSelector:t.selector,options:tc(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:wl(t.timings,e.errors,!0);return{type:12,animation:jl(this,Rl(t.animation),e),timings:n,options:null}}}class Xl{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Ql(t){return!Array.isArray(t)&&"object"==typeof t}function tc(t){var e;return t?(t=Ml(t)).params&&(t.params=(e=t.params)?Ml(e):null):t={},t}function ec(t,e,n){return{duration:t,delay:e,easing:n}}function nc(t,e,n,i,o,r,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:o,delay:r,totalTime:o+r,easing:s,subTimeline:a}}class ic{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const oc=new RegExp(":enter","g"),rc=new RegExp(":leave","g");function sc(t,e,n,i,o,r={},s={},a,l,c=[]){return(new ac).buildKeyframes(t,e,n,i,o,r,s,a,l,c)}class ac{buildKeyframes(t,e,n,i,o,r,s,a,l,c=[]){l=l||new ic;const u=new cc(t,e,l,i,o,c,[]);u.options=a,u.currentTimeline.setStyles([r],null,u.errors,a),jl(this,n,u);const h=u.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(s).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,u.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[nc(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const i=e.createSubContext(t.options),o=e.currentTimeline.currentTime,r=this._visitSubInstructions(n,i,i.options);o!=r&&e.transformIntoNewTimeline(r)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let i=e.currentTimeline.currentTime;const o=null!=n.duration?El(n.duration):null,r=null!=n.delay?El(n.delay):null;return 0!==o&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,o,r);i=Math.max(i,n.duration+n.delay)}),i}visitReference(t,e){e.updateOptions(t.options,!0),jl(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let i=e;const o=t.options;if(o&&(o.params||o.delay)&&(i=e.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=lc);const t=El(o.delay);i.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>jl(this,t,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let i=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?El(t.options.delay):0;t.steps.forEach(r=>{const s=e.createSubContext(t.options);o&&s.delayNextStep(o),jl(this,r,s),i=Math.max(i,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return wl(e.params?Nl(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(n.duration),this.visitStyle(o,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const o=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(o):n.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,i=e.currentTimeline.duration,o=n.duration,r=e.createSubContext().currentTimeline;r.easing=n.easing,t.styles.forEach(t=>{r.forwardTime((t.offset||0)*o),r.setStyles(t.styles,t.easing,e.errors,e.options),r.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(r),e.transformIntoNewTimeline(i+o),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?El(i.delay):0;o&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=lc);let r=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=s.length;let a=null;s.forEach((n,i)=>{e.currentQueryIndex=i;const s=e.createSubContext(t.options,n);o&&s.delayNextStep(o),n===e.element&&(a=s.currentTimeline),jl(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),r=Math.max(r,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(r),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,i=e.currentTimeline,o=t.timings,r=Math.abs(o.duration),s=r*(e.currentQueryTotal-1);let a=r*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const l=e.currentTimeline;a&&l.delayNextStep(a);const c=l.currentTime;jl(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-c+(i.startTime-n.currentTimeline.startTime)}}const lc={};class cc{constructor(t,e,n,i,o,r,s,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=o,this.errors=r,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=lc,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new uc(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let i=this.options;null!=n.duration&&(i.duration=El(n.duration)),null!=n.delay&&(i.delay=El(n.delay));const o=n.params;if(o){let t=i.params;t||(t=this.options.params={}),Object.keys(o).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Nl(o[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const i=e||this.element,o=new cc(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=lc,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},o=new hc(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,i,o,r){let s=[];if(i&&s.push(this.element),t.length>0){t=(t=t.replace(oc,"."+this._enterClassName)).replace(rc,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return o||0!=s.length||r.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),s}}class uc{constructor(t,e,n,i){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new uc(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Ba,this._currentKeyframe[t]=Ba}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,i){e&&(this._previousKeyframe.easing=e);const o=i&&i.params||{},r=function(t,e){const n={};let i;return t.forEach(t=>{"*"===t?(i=i||Object.keys(e),i.forEach(t=>{n[t]=Ba})):xl(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(r).forEach(t=>{const e=Nl(r[t],o,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:Ba),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],i=t._styleSummary[e];(!n||i.time>n.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((o,r)=>{const s=xl(o,!0);Object.keys(s).forEach(n=>{const i=s[n];"!"==i?t.add(n):i==Ba&&e.add(n)}),n||(s.offset=r/this.duration),i.push(s)});const o=t.size?Bl(t.values()):[],r=e.size?Bl(e.values()):[];if(n){const t=i[0],e=Ml(t);t.offset=0,e.offset=1,i=[t,e]}return nc(this.element,i,o,r,this.duration,this.startTime,this.easing,!1)}}class hc extends uc{constructor(t,e,n,i,o,r,s=!1){super(t,e,r.delay),this.element=e,this.keyframes=n,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=s,this.timings={duration:r.duration,delay:r.delay,easing:r.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],r=n+e,s=e/r,a=xl(t[0],!1);a.offset=0,o.push(a);const l=xl(t[0],!1);l.offset=dc(s),o.push(l);const c=t.length-1;for(let i=1;i<=c;i++){let s=xl(t[i],!1);s.offset=dc((e+s.offset*n)/r),o.push(s)}n=r,e=0,i="",t=o}return nc(this.element,t,this.preStyleProps,this.postStyleProps,n,e,i,!0)}}function dc(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class pc{}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class gc extends pc{normalizePropertyName(t,e){return Ul(t)}normalizeStyleValue(t,e,n,i){let o="";const r=n.toString().trim();if(mc[e]&&0!==n&&"0"!==n)if("number"==typeof n)o="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&i.push(`Please provide a CSS unit value for ${t}:${n}`)}return r+o}}const mc=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function fc(t,e,n,i,o,r,s,a,l,c,u,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:o,fromState:n,fromStyles:r,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}const _c={};class bc{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,i){return function(t,e,n,i,o){return t.some(t=>t(e,n,i,o))}(this.ast.matchers,t,e,n,i)}buildStyles(t,e,n){const i=this._stateStyles["*"],o=this._stateStyles[t],r=i?i.buildStyles(e,n):{};return o?o.buildStyles(e,n):r}build(t,e,n,i,o,r,s,a,l,c){const u=[],h=this.ast.options&&this.ast.options.params||_c,d=this.buildStyles(n,s&&s.params||_c,u),p=a&&a.params||_c,g=this.buildStyles(i,p,u),m=new Set,f=new Map,_=new Map,b="void"===i,v={params:Object.assign(Object.assign({},h),p)},y=c?[]:sc(t,e,this.ast.animation,o,r,d,g,v,l,u);let C=0;if(y.forEach(t=>{C=Math.max(t.duration+t.delay,C)}),u.length)return fc(e,this._triggerName,n,i,b,d,g,[],[],f,_,C,u);y.forEach(t=>{const n=t.element,i=il(f,n,{});t.preStyleProps.forEach(t=>i[t]=!0);const o=il(_,n,{});t.postStyleProps.forEach(t=>o[t]=!0),n!==e&&m.add(n)});const O=Bl(m.values());return fc(e,this._triggerName,n,i,b,d,g,y,O,f,_,C)}}class vc{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},i=Ml(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(i[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const o=t;Object.keys(o).forEach(t=>{let r=o[t];r.length>1&&(r=Nl(r,i,e)),n[t]=r})}}),n}}class yc{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new vc(t.style,t.options&&t.options.params||{})}),Cc(this.states,"true","1"),Cc(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new bc(t,e,this.states))}),this.fallbackTransition=new bc(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,i){return this.transitionFactories.find(o=>o.match(t,e,n,i))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function Cc(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const Oc=new ic;class Tc{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],i=$l(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=i}_buildPlayer(t,e,n){const i=t.element,o=Qa(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const i=[],o=this._animations[t];let r;const s=new Map;if(o?(r=sc(this._driver,e,o,bl,vl,{},{},n,Oc,i),r.forEach(t=>{const e=il(s,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),r=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);s.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,Ba)})});const a=Xa(r.map(t=>{const e=s.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,i){const o=nl(e,"","","");return tl(this._getPlayer(t),n,o,i),()=>{}}command(t,e,n,i){if("register"==n)return void this.register(t,i[0]);if("create"==n)return void this.create(t,e,i[0]||{});const o=this._getPlayer(t);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const Ec="ng-animate-queued",Sc="ng-animate-disabled",wc=".ng-animate-disabled",Mc=[],xc={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Pc={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class kc{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(i=n?t.value:t)?i:null,n){const e=Ml(t);delete e.value,this.options=e}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Ic="void",Ac=new kc(Ic);class Rc{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Vc(e,this._hostClassName)}listen(t,e,n,i){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(o=n)&&"done"!=o)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var o;const r=il(this._elementListeners,t,[]),s={name:e,phase:n,callback:i};r.push(s);const a=il(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Vc(t,yl),Vc(t,"ng-trigger-"+e),a[e]=Ac),()=>{this._engine.afterFlush(()=>{const t=r.indexOf(s);t>=0&&r.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,i=!0){const o=this._getTrigger(e),r=new Lc(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(Vc(t,yl),Vc(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));let a=s[e];const l=new kc(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),s[e]=l,a||(a=Ac),l.value!==Ic&&a.value===l.value){if(!function(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let o=0;o<n.length;o++){const i=n[o];if(!e.hasOwnProperty(i)||t[i]!==e[i])return!1}return!0}(a.params,l.params)){const e=[],n=o.matchStyles(a.value,a.params,e),i=o.matchStyles(l.value,l.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{Al(t,n),Il(t,i)})}return}const c=il(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let u=o.matchTransition(a.value,l.value,t,l.params),h=!1;if(!u){if(!i)return;u=o.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:u,fromState:a,toState:l,player:r,isFallbackTransition:h}),h||(Vc(t,Ec),r.onStart(()=>{Gc(t,Ec)})),r.onDone(()=>{let e=this.players.indexOf(r);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(r);t>=0&&n.splice(t,1)}}),this.players.push(r),c.push(r),r}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,Cl,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,i){const o=this._engine.statesByElement.get(t);if(o){const r=[];if(Object.keys(o).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,Ic,i);n&&r.push(n)}}),r.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Xa(r).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const i=new Set;e.forEach(e=>{const o=e.name;if(i.has(o))return;i.add(o);const r=this._triggers[o].fallbackTransition,s=n[o]||Ac,a=new kc(Ic),l=new Lc(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:r,fromState:s,toState:a,player:l,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)i=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)n.markElementAsRemoved(this.id,t,!1,e);else{const i=t.__ng_removed;i&&i!==xc||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Vc(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const o=n.element,r=this._elementListeners.get(o);r&&r.forEach(e=>{if(e.name==n.triggerName){const i=nl(o,n.triggerName,n.fromState.value,n.toState.value);i._data=t,tl(n.player,e.phase,i,e.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,i=e.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Dc{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Rc(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let o=n;o>=0;o--)if(this.driver.containsElement(this._namespaceList[o].hostElement,e)){this._namespaceList.splice(o+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let i=0;i<t.length;i++){const o=n[t[i]].namespaceId;if(o){const t=this._fetchNamespace(o);t&&e.add(t)}}}return e}trigger(t,e,n,i){if(Nc(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,n,i),!0}return!1}insertNode(t,e,n,i){if(!Nc(e))return;const o=e.__ng_removed;if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const i=this._fetchNamespace(t);i&&i.insertNode(e,n)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Vc(t,Sc)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Gc(t,Sc))}removeNode(t,e,n,i){if(Nc(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,n,i){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,i,o){return Nc(e)?this._fetchNamespace(t).listen(e,n,i,o):()=>{}}_buildInstruction(t,e,n,i,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,Cl,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Tl,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Xa(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=xc,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,wc)&&this.markElementAsDisabled(t,!1),this.driver.query(t,wc,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Vc(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Xa(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new ic,i=[],o=new Map,r=[],s=new Map,a=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=Uc(h,this.collectedEnterElements),p=new Map;let g=0;d.forEach((t,e)=>{const n=bl+g++;p.set(e,n),t.forEach(t=>Vc(t,n))});const m=[],f=new Set,_=new Set;for(let k=0;k<this.collectedLeaveElements.length;k++){const t=this.collectedLeaveElements[k],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),f.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>f.add(t)):_.add(t))}const b=new Map,v=Uc(h,Array.from(f));v.forEach((t,e)=>{const n=vl+g++;b.set(e,n),t.forEach(t=>Vc(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=p.get(e);t.forEach(t=>Gc(t,n))}),v.forEach((t,e)=>{const n=b.get(e);t.forEach(t=>Gc(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const y=[],C=[];for(let k=this._namespaceList.length-1;k>=0;k--)this._namespaceList[k].drainQueuedTransitions(e).forEach(t=>{const e=t.player,o=t.element;if(y.push(e),this.collectedEnterElements.length){const t=o.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!u||!this.driver.containsElement(u,o),h=b.get(o),d=p.get(o),g=this._buildInstruction(t,n,d,h,c);if(g.errors&&g.errors.length)C.push(g);else{if(c)return e.onStart(()=>Al(o,g.fromStyles)),e.onDestroy(()=>Il(o,g.toStyles)),void i.push(e);if(t.isFallbackTransition)return e.onStart(()=>Al(o,g.fromStyles)),e.onDestroy(()=>Il(o,g.toStyles)),void i.push(e);g.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(o,g.timelines),r.push({instruction:g,player:e,element:o}),g.queriedElements.forEach(t=>il(s,t,[]).push(e)),g.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),g.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let i=l.get(e);i||l.set(e,i=new Set),n.forEach(t=>i.add(t))})}});if(C.length){const t=[];C.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),y.forEach(t=>t.destroy()),this.reportError(t)}const O=new Map,T=new Map;r.forEach(t=>{const e=t.element;n.has(e)&&(T.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,O))}),i.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{il(O,e,[]).push(t),t.destroy()})});const E=m.filter(t=>zc(t,a,l)),S=new Map;Fc(S,this.driver,_,l,Ba).forEach(t=>{zc(t,a,l)&&E.push(t)});const w=new Map;d.forEach((t,e)=>{Fc(w,this.driver,new Set(t),a,"!")}),E.forEach(t=>{const e=S.get(t),n=w.get(t);S.set(t,Object.assign(Object.assign({},e),n))});const M=[],x=[],P={};r.forEach(t=>{const{element:e,player:r,instruction:s}=t;if(n.has(e)){if(c.has(e))return r.onDestroy(()=>Il(e,s.toStyles)),r.disabled=!0,r.overrideTotalTime(s.totalTime),void i.push(r);let t=P;if(T.size>1){let n=e;const i=[];for(;n=n.parentNode;){const e=T.get(n);if(e){t=e;break}i.push(n)}i.forEach(e=>T.set(e,t))}const n=this._buildAnimation(r.namespaceId,s,O,o,w,S);if(r.setRealPlayer(n),t===P)M.push(r);else{const e=this.playersByElement.get(t);e&&e.length&&(r.parentPlayer=Xa(e)),i.push(r)}}else Al(e,s.fromStyles),r.onDestroy(()=>Il(e,s.toStyles)),x.push(r),c.has(e)&&i.push(r)}),x.forEach(t=>{const e=o.get(t.element);if(e&&e.length){const n=Xa(e);t.setRealPlayer(n)}}),i.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let k=0;k<m.length;k++){const t=m[k],e=t.__ng_removed;if(Gc(t,vl),e&&e.hasAnimation)continue;let n=[];if(s.size){let e=s.get(t);e&&e.length&&n.push(...e);let i=this.driver.query(t,Tl,!0);for(let t=0;t<i.length;t++){let e=s.get(i[t]);e&&e.length&&n.push(...e)}}const i=n.filter(t=>!t.destroyed);i.length?jc(this,t,i):this.processLeaveNode(t)}return m.length=0,M.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),M}elementContainsData(t,e){let n=!1;const i=e.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,i,o){let r=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(r=e)}else{const e=this.playersByElement.get(t);if(e){const t=!o||o==Ic;e.forEach(e=>{e.queued||(t||e.triggerName==i)&&r.push(e)})}}return(n||i)&&(r=r.filter(t=>!(n&&n!=t.namespaceId||i&&i!=t.triggerName))),r}_beforeAnimationBuild(t,e,n){const i=e.element,o=e.isRemovalTransition?void 0:t,r=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,a=t!==i,l=il(n,t,[]);this._getPreviousPlayers(t,a,o,r,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)})}Al(i,e.fromStyles)}_buildAnimation(t,e,n,i,o,r){const s=e.triggerName,a=e.element,l=[],c=new Set,u=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new qa(e.duration,e.delay);const p=h!==a,g=function(t){const e=[];return Hc(t,e),e}((n.get(h)||Mc).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=o.get(h),f=r.get(h),_=Qa(0,this._normalizer,0,e.keyframes,m,f),b=this._buildPlayer(e,_,g);if(e.subTimeline&&i&&u.add(h),p){const e=new Lc(t,s,h);e.setRealPlayer(b),l.push(e)}return b});l.forEach(t=>{il(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let i;if(t instanceof Map){if(i=t.get(e),i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&t.delete(e)}}else if(i=t[e],i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&delete t[e]}return i}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>Vc(t,Ol));const d=Xa(h);return d.onDestroy(()=>{c.forEach(t=>Gc(t,Ol)),Il(a,e.toStyles)}),u.forEach(t=>{il(i,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new qa(t.duration,t.delay)}}class Lc{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new qa,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>tl(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){il(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Nc(t){return t&&1===t.nodeType}function Bc(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Fc(t,e,n,i,o){const r=[];n.forEach(t=>r.push(Bc(t)));const s=[];i.forEach((n,i)=>{const r={};n.forEach(t=>{const n=r[t]=e.computeStyle(i,t,o);n&&0!=n.length||(i.__ng_removed=Pc,s.push(i))}),t.set(i,r)});let a=0;return n.forEach(t=>Bc(t,r[a++])),s}function Uc(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const i=new Set(e),o=new Map;function r(t){if(!t)return 1;let e=o.get(t);if(e)return e;const s=t.parentNode;return e=n.has(s)?s:i.has(s)?1:r(s),o.set(t,e),e}return e.forEach(t=>{const e=r(t);1!==e&&n.get(e).push(t)}),n}function Vc(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Gc(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function jc(t,e,n){Xa(n).onDone(()=>t.processLeaveNode(e))}function Hc(t,e){for(let n=0;n<t.length;n++){const i=t[n];i instanceof Ja?Hc(i.players,e):e.push(i)}}function zc(t,e,n){const i=n.get(t);if(!i)return!1;let o=e.get(t);return o?i.forEach(t=>o.add(t)):e.set(t,i),n.delete(t),!0}class Wc{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Dc(t,e,n),this._timelineEngine=new Tc(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,i,o){const r=t+"-"+i;let s=this._triggerCache[r];if(!s){const t=[],e=$l(this._driver,o,t);if(t.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);s=function(t,e){return new yc(t,e)}(i,e),this._triggerCache[r]=s}this._transitionEngine.registerTrigger(e,i,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}onRemove(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,i){if("@"==n.charAt(0)){const[t,o]=ol(n);this._timelineEngine.command(t,e,o,i)}else this._transitionEngine.trigger(t,e,n,i)}listen(t,e,n,i,o){if("@"==n.charAt(0)){const[t,i]=ol(n);return this._timelineEngine.listen(t,e,i,o)}return this._transitionEngine.listen(t,e,n,i,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Zc(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=qc(e[0]),e.length>1&&(i=qc(e[e.length-1]))):e&&(n=qc(e)),n||i?new Yc(t,n,i):null}let Yc=(()=>{class t{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let o=t.initialStylesByElement.get(e);o||t.initialStylesByElement.set(e,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Il(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Il(this._element,this._initialStyles),this._endStyles&&(Il(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Al(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Al(this._element,this._endStyles),this._endStyles=null),Il(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function qc(t){let e=null;const n=Object.keys(t);for(let i=0;i<n.length;i++){const o=n[i];Jc(o)&&(e=e||{},e[o]=t[o])}return e}function Jc(t){return"display"===t||"position"===t}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const $c="animation",Kc="animationend";class Xc{constructor(t,e,n,i,o,r,s){this._element=t,this._name=e,this._duration=n,this._delay=i,this._easing=o,this._fillMode=r,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=ou(t,"").trim();n.length&&(function(t,e){let n=0;for(let i=0;i<t.length;i++)","===t.charAt(i)&&n++}(n),e=`${n}, ${e}`),iu(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),nu(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Qc(this._element,this._name,"paused")}resume(){Qc(this._element,this._name,"running")}setPosition(t){const e=tu(this._element,this._name);this._position=t*this._duration,iu(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),nu(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=ou(t,"").split(","),i=eu(n,e);i>=0&&(n.splice(i,1),iu(t,"",n.join(",")))}(this._element,this._name))}}function Qc(t,e,n){iu(t,"PlayState",n,tu(t,e))}function tu(t,e){const n=ou(t,"");return n.indexOf(",")>0?eu(n.split(","),e):eu([n],e)}function eu(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function nu(t,e,n){n?t.removeEventListener(Kc,e):t.addEventListener(Kc,e)}function iu(t,e,n,i){const o=$c+e;if(null!=i){const e=t.style[o];if(e.length){const t=e.split(",");t[i]=n,n=t.join(",")}}t.style[o]=n}function ou(t,e){return t.style[$c+e]||""}class ru{constructor(t,e,n,i,o,r,s,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=i,this._delay=o,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=r||"linear",this.totalTime=i+o,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Xc(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:Hl(this.element,n))})}this.currentSnapshot=t}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class su extends qa{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=ml(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class au{constructor(){this._count=0}validateStyleProperty(t){return hl(t)}matchesElement(t,e){return dl(t,e)}containsElement(t,e){return pl(t,e)}query(t,e,n){return gl(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>ml(t));let i=`@keyframes ${e} {\n`,o="";n.forEach(t=>{o=" ";const e=parseFloat(t.offset);i+=`${o}${100*e}% {\n`,o+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(i+=`${o}animation-timing-function: ${n};\n`));default:return void(i+=`${o}${e}: ${n};\n`)}}),i+=`${o}}\n`}),i+="}\n";const r=document.createElement("style");return r.textContent=i,r}animate(t,e,n,i,o,r=[],s){const a=r.filter(t=>t instanceof ru),l={};Vl(n,i)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Gl(t,e,l));if(0==n)return new su(t,c);const u="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,u,e);(function(t){var e;const n=null===(e=t.getRootNode)||void 0===e?void 0:e.call(t);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(t).appendChild(h);const d=Zc(t,e),p=new ru(t,e,u,n,i,o,c,d);return p.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),p}}class lu{constructor(t,e,n,i){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Hl(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class cu{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(uu().toString()),this._cssKeyframesDriver=new au}validateStyleProperty(t){return hl(t)}matchesElement(t,e){return dl(t,e)}containsElement(t,e){return pl(t,e)}query(t,e,n){return gl(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,i,o,r=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,i,o,r);const a={duration:n,delay:i,fill:0==i?"both":"forwards"};o&&(a.easing=o);const l={},c=r.filter(t=>t instanceof lu);Vl(n,i)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const u=Zc(t,e=Gl(t,e=e.map(t=>xl(t,!1)),l));return new lu(t,e,a,u)}}function uu(){return $a()&&Element.prototype.animate||{}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license Angular v12.0.4
 * (c) 2010-2021 Google LLC. https://angular.io/
 * License: MIT
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
let hu=(()=>{class t extends Na{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:i.ifc.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Va(t):t;return gu(this._renderer,null,e,"register",[n]),new du(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.FYo),i.LFG(s))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();class du extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new pu(this._id,t,e||{},this._renderer)}}class pu{constructor(t,e,n,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return gu(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function gu(t,e,n,i,o){return t.setProperty(e,`@@${n}:${i}`,o)}const mu="@",fu="@.disabled";let _u=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new bu("",n,this.engine),this._rendererCache.set(n,t)),t}const i=e.id,o=e.id+"-"+this._currentId;this._currentId++,this.engine.register(o,t);const r=e=>{Array.isArray(e)?e.forEach(r):this.engine.registerTrigger(i,o,t,e.name,e)};return e.data.animation.forEach(r),new vu(this,o,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.FYo),i.LFG(Wc),i.LFG(i.R0b))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();class bu{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,i=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,i){this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==mu&&e==fu?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class vu extends bu{constructor(t,e,n,i){super(e,n,i),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==mu?"."==e.charAt(1)&&e==fu?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==mu){const i=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let o=e.substr(1),r="";return o.charAt(0)!=mu&&([o,r]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(o)),this.engine.listen(this.namespaceId,i,o,r,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let yu=(()=>{class t extends Wc{constructor(t,e,n){super(t.body,e,n)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(s),i.LFG(_l),i.LFG(pc))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const Cu=new i.OlP("AnimationModuleType"),Ou=[{provide:Na,useClass:hu},{provide:pc,useFactory:function(){return new gc}},{provide:Wc,useClass:yu},{provide:i.FYo,useFactory:function(t,e,n){return new _u(t,e,n)},deps:[bt,Wc,i.R0b]}],Tu=[{provide:_l,useFactory:function(){return"function"==typeof uu()?new cu:new au}},{provide:Cu,useValue:"BrowserAnimations"},...Ou],Eu=[{provide:_l,useClass:fl},{provide:Cu,useValue:"NoopAnimations"},...Ou];let Su=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?Eu:Tu}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:Tu,imports:[Rt]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class wu{constructor(t,e){this._document=e;const n=this._textarea=this._document.createElement("textarea"),i=n.style;i.position="fixed",i.top=i.opacity="0",i.left="-999em",n.setAttribute("aria-hidden","true"),n.value=t,this._document.body.appendChild(n)}copy(){const t=this._textarea;let e=!1;try{if(t){const n=this._document.activeElement;t.select(),t.setSelectionRange(0,t.value.length),e=this._document.execCommand("copy"),n&&n.focus()}}catch($o){}return e}destroy(){const t=this._textarea;t&&(t.parentNode&&t.parentNode.removeChild(t),this._textarea=void 0)}}let Mu=(()=>{class t{constructor(t){this._document=t}copy(t){const e=this.beginCopy(t),n=e.copy();return e.destroy(),n}beginCopy(t){return new wu(t,this._document)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(s))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(s))},token:t,providedIn:"root"}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const xu=new i.OlP("CDK_COPY_TO_CLIPBOARD_CONFIG");let Pu=(()=>{class t{constructor(t,e,n){this._clipboard=t,this._ngZone=e,this.text="",this.attempts=1,this.copied=new i.vpe,this._pending=new Set,n&&null!=n.attempts&&(this.attempts=n.attempts)}copy(t=this.attempts){if(t>1){let e=t;const n=this._clipboard.beginCopy(this.text);this._pending.add(n);const i=()=>{const t=n.copy();t||!--e||this._destroyed?(this._currentTimeout=null,this._pending.delete(n),n.destroy(),this.copied.emit(t)):this._currentTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(i,1))};i()}else this.copied.emit(this._clipboard.copy(this.text))}ngOnDestroy(){this._currentTimeout&&clearTimeout(this._currentTimeout),this._pending.forEach(t=>t.destroy()),this._pending.clear(),this._destroyed=!0}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Mu),i.Y36(i.R0b),i.Y36(xu,8))},t.\u0275dir=i.lG2({type:t,selectors:[["","cdkCopyToClipboard",""]],hostBindings:function(t,e){1&t&&i.NdJ("click",function(){return e.copy()})},inputs:{text:["cdkCopyToClipboard","text"],attempts:["cdkCopyToClipboardAttempts","attempts"]},outputs:{copied:"cdkCopyToClipboardCopied"}}),t})(),ku=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var Iu=n(6019);function Au(t,e,n){let i;return i=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:i}){let o,r,s=0,a=!1,l=!1;return function(c){let u;s++,!o||a?(a=!1,o=new Iu.t(t,e,i),u=o.subscribe(this),r=c.subscribe({next(t){o.next(t)},error(t){a=!0,o.error(t)},complete(){l=!0,r=void 0,o.complete()}}),l&&(r=void 0)):u=o.subscribe(this),this.add(()=>{s--,u.unsubscribe(),u=void 0,r&&!l&&n&&0===s&&(r.unsubscribe(),r=void 0,o=void 0)})}}(i))}var Ru=function(t){return t[t.unary=0]="unary",t[t.serverStream=1]="serverStream",t}({});class Du{constructor(t){this.data=t}}class Lu{constructor(t,e,n){this.statusCode=t,this.statusMessage=e,this.metadata=n}}class Nu{constructor(t){t=t||{},this.map=Object.keys(t).reduce((e,n)=>e.set(n,t[n]),new Map)}set(t,e){this.map.set(t,e)}get(t){return this.map.get(t)}has(t){return this.map.has(t)}clone(){return new Nu(this.toObject())}toObject(){return[...this.map.keys()].reduce((t,e)=>Object.assign(Object.assign({},t),{[e]:this.map.get(e)}),{})}}function Bu(t){let e="";for(let n=0;n<t.byteLength;n++)e+=String.fromCharCode(t[n]);return window.btoa(e)}var Fu=n(6673);function Uu(){}var Vu=n(5024);function Gu(t,e,n){return function(i){return i.lift(new ju(t,e,n))}}class ju{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new Hu(t,this.nextOrObserver,this.error,this.complete))}}class Hu extends Fu.L{constructor(t,e,n,i){super(t),this._tapNext=Uu,this._tapError=Uu,this._tapComplete=Uu,this._tapError=n||Uu,this._tapComplete=i||Uu,(0,Vu.m)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Uu,this._tapError=e.error||Uu,this._tapComplete=e.complete||Uu)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}var zu=n(4689),Wu=n(1225);const Zu=new i.OlP("GRPC_CLIENT_FACTORY"),Yu=new i.OlP("GRPC_INTERCEPTORS");let qu=(()=>{class t{constructor(t){this.interceptors=t?Array.isArray(t)?t:[t]:[]}handle(e){const n=(this.interceptors||[]).slice(),i=n.shift();return i?i.intercept(e,new t(n)):e.type===Ru.unary?e.client.unary(e.path,e.requestData,e.requestMetadata,e.requestClass,e.responseClass):e.client.serverStream(e.path,e.requestData,e.requestMetadata,e.requestClass,e.responseClass)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Yu,8))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),Ju=(()=>{class t{static forRoot(){return{ngModule:t,providers:[qu]}}static forChild(){return{ngModule:t,providers:[qu]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})();const $u=new i.OlP("GRPC_LOGGER_SETTINGS");let Ku=(()=>{class t{constructor(t={}){var e,n,i,o,r,s;this.dataStyle="color: #5c7ced;",this.errorStyle="color: red;",this.statusOkStyle="color: #0ffcf5;",this.settings={enabled:null===(e=t.enabled)||void 0===e||e,logClientSettings:null===(n=t.logClientSettings)||void 0===n||n,logMetadata:null===(i=t.logMetadata)||void 0===i||i,logStatusCodeOk:null!==(o=t.logStatusCodeOk)&&void 0!==o&&o,requestMapper:null!==(r=t.requestMapper)&&void 0!==r?r:t=>t.toObject(),responseMapper:null!==(s=t.responseMapper)&&void 0!==s?s:t=>t.toObject()}}intercept(t,e){if(this.settings.enabled){const n=Date.now();return e.handle(t).pipe(Gu(e=>{const i=e instanceof Du?this.dataStyle:0!==e.statusCode?this.errorStyle:this.statusOkStyle,o=()=>console.groupCollapsed(`%c${Date.now()-n}ms -> ${t.path}`,i),r=()=>{this.settings.logClientSettings&&console.log("%csc",i,t.client.getSettings())},s=()=>{this.settings.logMetadata&&console.log("%c**",i,t.requestMetadata.toObject())},a=()=>console.log("%c>>",i,this.settings.requestMapper(t.requestData)),l=()=>console.groupEnd();e instanceof Du?(o(),r(),a(),s(),console.log("%c<<",i,this.settings.responseMapper(e.data)),l()):(0!==e.statusCode||0===e.statusCode&&this.settings.logStatusCodeOk)&&(o(),r(),a(),s(),console.log("%c<<",i,e),l())}))}return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG($u,8))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),Xu=(()=>{class t{static forRoot(e){const n=[{provide:Yu,useClass:Ku,multi:!0}];return(null==e?void 0:e.settings)&&n.push({provide:$u,useValue:e.settings}),{ngModule:t,providers:n}}static forChild(e){const n=[{provide:Yu,useClass:Ku,multi:!0}];return(null==e?void 0:e.settings)&&n.push({provide:$u,useValue:e.settings}),{ngModule:t,providers:n}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})();function Qu(){return t=>t.pipe((0,zu.w)(t=>t instanceof Lu&&t.statusCode?(0,Wu._)(t):(0,ea.of)(t)))}function th(){return t=>t.pipe((0,ia.h)(t=>t instanceof Du),(0,Cr.U)(t=>t.data))}var eh;n(7322),function(t){let e,n;!function(t){t[t.serviceClientConfig=0]="serviceClientConfig",t[t.rpcRequest=1]="rpcRequest",t[t.rpcCancel=2]="rpcCancel",t[t.rpcResponse=3]="rpcResponse"}(e=t.GrpcWorkerMessageType||(t.GrpcWorkerMessageType={})),function(t){t[t.error=0]="error",t[t.status=1]="status",t[t.data=2]="data",t[t.end=3]="end"}(n=t.GrpcWorkerMessageRPCResponseType||(t.GrpcWorkerMessageRPCResponseType={}))}(eh||(eh={}));const nh=new i.OlP("GRPC_WORKER"),ih=new i.OlP("GRPC_WORKER_CLIENT_DEFAULT_SETTINGS");let oh=(()=>{class t{constructor(t){this.worker=t,this.lastId=0,this.connections=new Map,t.onmessage=t=>{const e=t.data,n=this.connections.get(e.id);if(n&&e.type===eh.GrpcWorkerMessageType.rpcResponse)switch(e.responseType){case eh.GrpcWorkerMessageRPCResponseType.error:n.next(new Lu(e.error.code,e.error.message,e.error.metadata)),n.complete(),this.connections.delete(e.id);break;case eh.GrpcWorkerMessageRPCResponseType.status:n.next(new Lu(e.status.code,e.status.details,new Nu(e.status.metadata)));break;case eh.GrpcWorkerMessageRPCResponseType.data:n.next(new Du(e.response));break;case eh.GrpcWorkerMessageRPCResponseType.end:n.complete(),this.connections.delete(e.id)}}}configureServiceClient(t,e){this.worker.postMessage({type:eh.GrpcWorkerMessageType.serviceClientConfig,serviceId:t,settings:e})}callUnaryFromWorker(t,e,n,i){return new vr.y(o=>{const r=this.createRequestId();return this.connections.set(r,o),this.worker.postMessage({type:eh.GrpcWorkerMessageType.rpcRequest,id:r,serviceId:t,path:e,request:n,metadata:i}),()=>this.closeConnection(r)})}callServerStreamFromWorker(t,e,n,i){return new vr.y(o=>{const r=this.createRequestId();return this.connections.set(r,o),this.worker.postMessage({type:eh.GrpcWorkerMessageType.rpcRequest,id:r,serviceId:t,path:e,request:n,metadata:i}),()=>this.closeConnection(r)})}closeConnection(t){this.worker.postMessage({type:eh.GrpcWorkerMessageType.rpcCancel,id:t}),this.connections.delete(t)}createRequestId(){return this.lastId++}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(nh))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),rh=(()=>{class t{constructor(t,e){this.defaultSettings=t,this.gateway=e}createClient(t,e){const n=e||this.defaultSettings;if(!n)throw new Error(`Worker client factory: no settings provided for ${t}`);return new sh(t,Object.assign({},n),this.gateway)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(ih,8),i.LFG(oh))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();class sh{constructor(t,e,n){this.serviceId=t,this.settings=e,this.gateway=n,this.gateway.configureServiceClient(this.serviceId,this.settings)}getSettings(){return Object.assign({},this.settings)}unary(t,e,n,i,o){var r;return this.gateway.callUnaryFromWorker(this.serviceId,t,e.toObject(),null!==(r=null==n?void 0:n.toObject())&&void 0!==r?r:{}).pipe(Gu(t=>{t instanceof Du&&(t.data=new o(t.data))}))}serverStream(t,e,n,i,o){var r;return this.gateway.callServerStreamFromWorker(this.serviceId,t,e.toObject(),null!==(r=null==n?void 0:n.toObject())&&void 0!==r?r:{}).pipe(Gu(t=>{t instanceof Du&&(t.data=new o(t.data))}))}}let ah=(()=>{class t{static forRoot(e){const n=[oh,{provide:Zu,useClass:rh}];return(null==e?void 0:e.worker)&&n.push({provide:nh,useValue:e.worker}),(null==e?void 0:e.settings)&&n.push({provide:ih,useValue:e.settings}),{ngModule:t,providers:n}}static forChild(e){const n=[oh,{provide:Zu,useClass:rh}];return(null==e?void 0:e.worker)&&n.push({provide:nh,useValue:e.worker}),(null==e?void 0:e.settings)&&n.push({provide:ih,useValue:e.settings}),{ngModule:t,providers:n}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})();
/**!
 * Sortable 1.13.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function lh(t){return(lh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ch(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uh(){return(uh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function hh(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){ch(t,e,n[e])})}return t}function dh(t,e){if(null==t)return{};var n,i,o=function(t,e){if(null==t)return{};var n,i,o={},r=Object.keys(t);for(i=0;i<r.length;i++)e.indexOf(n=r[i])>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)e.indexOf(n=r[i])>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function ph(t){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var gh=ph(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),mh=ph(/Edge/i),fh=ph(/firefox/i),_h=ph(/safari/i)&&!ph(/chrome/i)&&!ph(/android/i),bh=ph(/iP(ad|od|hone)/i),vh=ph(/chrome/i)&&ph(/android/i),yh={capture:!1,passive:!1};function Ch(t,e,n){t.addEventListener(e,n,!gh&&yh)}function Oh(t,e,n){t.removeEventListener(e,n,!gh&&yh)}function Th(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(Ox){return!1}return!1}}function Eh(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Sh(t,e,n,i){if(t){n=n||document;do{if(null!=e&&(">"===e[0]?t.parentNode===n&&Th(t,e):Th(t,e))||i&&t===n)return t;if(t===n)break}while(t=Eh(t))}return null}var wh,Mh=/\s+/g;function xh(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var i=(" "+t.className+" ").replace(Mh," ").replace(" "+e+" "," ");t.className=(i+(n?" "+e:"")).replace(Mh," ")}}function Ph(t,e,n){var i=t&&t.style;if(i){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in i||-1!==e.indexOf("webkit")||(e="-webkit-"+e),i[e]=n+("string"==typeof n?"":"px")}}function kh(t,e){var n="";if("string"==typeof t)n=t;else do{var i=Ph(t,"transform");i&&"none"!==i&&(n=i+" "+n)}while(!e&&(t=t.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function Ih(t,e,n){if(t){var i=t.getElementsByTagName(e),o=0,r=i.length;if(n)for(;o<r;o++)n(i[o],o);return i}return[]}function Ah(){return document.scrollingElement||document.documentElement}function Rh(t,e,n,i,o){if(t.getBoundingClientRect||t===window){var r,s,a,l,c,u,h;if(t!==window&&t.parentNode&&t!==Ah()?(s=(r=t.getBoundingClientRect()).top,a=r.left,l=r.bottom,c=r.right,u=r.height,h=r.width):(s=0,a=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,h=window.innerWidth),(e||n)&&t!==window&&(o=o||t.parentNode,!gh))do{if(o&&o.getBoundingClientRect&&("none"!==Ph(o,"transform")||n&&"static"!==Ph(o,"position"))){var d=o.getBoundingClientRect();s-=d.top+parseInt(Ph(o,"border-top-width")),a-=d.left+parseInt(Ph(o,"border-left-width")),l=s+r.height,c=a+r.width;break}}while(o=o.parentNode);if(i&&t!==window){var p=kh(o||t),g=p&&p.a,m=p&&p.d;p&&(l=(s/=m)+(u/=m),c=(a/=g)+(h/=g))}return{top:s,left:a,bottom:l,right:c,width:h,height:u}}}function Dh(t,e,n){for(var i=Uh(t,!0),o=Rh(t)[e];i;){var r=Rh(i)[n];if(!("top"===n||"left"===n?o>=r:o<=r))return i;if(i===Ah())break;i=Uh(i,!1)}return!1}function Lh(t,e,n){for(var i=0,o=0,r=t.children;o<r.length;){if("none"!==r[o].style.display&&r[o]!==Vd.ghost&&r[o]!==Vd.dragged&&Sh(r[o],n.draggable,t,!1)){if(i===e)return r[o];i++}o++}return null}function Nh(t,e){for(var n=t.lastElementChild;n&&(n===Vd.ghost||"none"===Ph(n,"display")||e&&!Th(n,e));)n=n.previousElementSibling;return n||null}function Bh(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)"TEMPLATE"===t.nodeName.toUpperCase()||t===Vd.clone||e&&!Th(t,e)||n++;return n}function Fh(t){var e=0,n=0,i=Ah();if(t)do{var o=kh(t);e+=t.scrollLeft*o.a,n+=t.scrollTop*o.d}while(t!==i&&(t=t.parentNode));return[e,n]}function Uh(t,e){if(!t||!t.getBoundingClientRect)return Ah();var n=t,i=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=Ph(n);if(n.clientWidth<n.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!n.getBoundingClientRect||n===document.body)return Ah();if(i||e)return n;i=!0}}}while(n=n.parentNode);return Ah()}function Vh(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function Gh(t,e){return function(){if(!wh){var n=arguments,i=this;1===n.length?t.call(i,n[0]):t.apply(i,n),wh=setTimeout(function(){wh=void 0},e)}}}function jh(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function Hh(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}var zh="Sortable"+(new Date).getTime(),Wh=[],Zh={initializeByDefault:!0},Yh={mount:function(t){for(var e in Zh)Zh.hasOwnProperty(e)&&!(e in t)&&(t[e]=Zh[e]);Wh.forEach(function(e){if(e.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Wh.push(t)},pluginEvent:function(t,e,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var o=t+"Global";Wh.forEach(function(i){e[i.pluginName]&&(e[i.pluginName][o]&&e[i.pluginName][o](hh({sortable:e},n)),e.options[i.pluginName]&&e[i.pluginName][t]&&e[i.pluginName][t](hh({sortable:e},n)))})},initializePlugins:function(t,e,n,i){for(var o in Wh.forEach(function(i){var o=i.pluginName;if(t.options[o]||i.initializeByDefault){var r=new i(t,e,t.options);r.sortable=t,r.options=t.options,t[o]=r,uh(n,r.defaults)}}),t.options)if(t.options.hasOwnProperty(o)){var r=this.modifyOption(t,o,t.options[o]);void 0!==r&&(t.options[o]=r)}},getEventProperties:function(t,e){var n={};return Wh.forEach(function(i){"function"==typeof i.eventProperties&&uh(n,i.eventProperties.call(e[i.pluginName],t))}),n},modifyOption:function(t,e,n){var i;return Wh.forEach(function(o){t[o.pluginName]&&o.optionListeners&&"function"==typeof o.optionListeners[e]&&(i=o.optionListeners[e].call(t[o.pluginName],n))}),i}},qh=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.evt,o=dh(n,["evt"]);Yh.pluginEvent.bind(Vd)(t,e,hh({dragEl:$h,parentEl:Kh,ghostEl:Xh,rootEl:Qh,nextEl:td,lastDownEl:ed,cloneEl:nd,cloneHidden:id,dragStarted:fd,putSortable:cd,activeSortable:Vd.active,originalEvent:i,oldIndex:od,oldDraggableIndex:sd,newIndex:rd,newDraggableIndex:ad,hideGhostForTarget:Nd,unhideGhostForTarget:Bd,cloneNowHidden:function(){id=!0},cloneNowShown:function(){id=!1},dispatchSortableEvent:function(t){Jh({sortable:e,name:t,originalEvent:i})}},o))};function Jh(t){!function(t){var e=t.sortable,n=t.rootEl,i=t.name,o=t.targetEl,r=t.cloneEl,s=t.toEl,a=t.fromEl,l=t.oldIndex,c=t.newIndex,u=t.oldDraggableIndex,h=t.newDraggableIndex,d=t.originalEvent,p=t.putSortable,g=t.extraEventProperties;if(e=e||n&&n[zh]){var m,f=e.options,_="on"+i.charAt(0).toUpperCase()+i.substr(1);!window.CustomEvent||gh||mh?(m=document.createEvent("Event")).initEvent(i,!0,!0):m=new CustomEvent(i,{bubbles:!0,cancelable:!0}),m.to=s||n,m.from=a||n,m.item=o||n,m.clone=r,m.oldIndex=l,m.newIndex=c,m.oldDraggableIndex=u,m.newDraggableIndex=h,m.originalEvent=d,m.pullMode=p?p.lastPutMode:void 0;var b=hh({},g,Yh.getEventProperties(i,e));for(var v in b)m[v]=b[v];n&&n.dispatchEvent(m),f[_]&&f[_].call(e,m)}}(hh({putSortable:cd,cloneEl:nd,targetEl:$h,rootEl:Qh,oldIndex:od,oldDraggableIndex:sd,newIndex:rd,newDraggableIndex:ad},t))}var $h,Kh,Xh,Qh,td,ed,nd,id,od,rd,sd,ad,ld,cd,ud,hd,dd,pd,gd,md,fd,_d,bd,vd,yd,Cd=!1,Od=!1,Td=[],Ed=!1,Sd=!1,wd=[],Md=!1,xd=[],Pd="undefined"!=typeof document,kd=bh,Id=mh||gh?"cssFloat":"float",Ad=Pd&&!vh&&!bh&&"draggable"in document.createElement("div"),Rd=function(){if(Pd){if(gh)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}}(),Dd=function(t,e){var n=Ph(t),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=Lh(t,0,e),r=Lh(t,1,e),s=o&&Ph(o),a=r&&Ph(r),l=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+Rh(o).width,c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Rh(r).width;return"flex"===n.display?"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal":"grid"===n.display?n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal":o&&s.float&&"none"!==s.float?!r||"both"!==a.clear&&a.clear!==("left"===s.float?"left":"right")?"horizontal":"vertical":o&&("block"===s.display||"flex"===s.display||"table"===s.display||"grid"===s.display||l>=i&&"none"===n[Id]||r&&"none"===n[Id]&&l+c>i)?"vertical":"horizontal"},Ld=function(t){function e(t,n){return function(i,o,r,s){if(null==t&&(n||i.options.group.name&&o.options.group.name&&i.options.group.name===o.options.group.name))return!0;if(null==t||!1===t)return!1;if(n&&"clone"===t)return t;if("function"==typeof t)return e(t(i,o,r,s),n)(i,o,r,s);var a=(n?i:o).options.group.name;return!0===t||"string"==typeof t&&t===a||t.join&&t.indexOf(a)>-1}}var n={},i=t.group;i&&"object"==lh(i)||(i={name:i}),n.name=i.name,n.checkPull=e(i.pull,!0),n.checkPut=e(i.put),n.revertClone=i.revertClone,t.group=n},Nd=function(){!Rd&&Xh&&Ph(Xh,"display","none")},Bd=function(){!Rd&&Xh&&Ph(Xh,"display","")};Pd&&document.addEventListener("click",function(t){if(Od)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Od=!1,!1},!0);var Fd=function(t){if($h){var e=function(t,e){var n;return Td.some(function(i){if(!Nh(i)){var o=Rh(i),r=i[zh].options.emptyInsertThreshold;return r&&t>=o.left-r&&t<=o.right+r&&e>=o.top-r&&e<=o.bottom+r?n=i:void 0}}),n}((t=t.touches?t.touches[0]:t).clientX,t.clientY);if(e){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.target=n.rootEl=e,n.preventDefault=void 0,n.stopPropagation=void 0,e[zh]._onDragOver(n)}}},Ud=function(t){$h&&$h.parentNode[zh]._isOutsideThisEl(t.target)};function Vd(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=uh({},e),t[zh]=this;var n,i,o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Dd(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Vd.supportPointer&&"PointerEvent"in window&&!_h,emptyInsertThreshold:5};for(var r in Yh.initializePlugins(this,t,o),o)!(r in e)&&(e[r]=o[r]);for(var s in Ld(e),this)"_"===s.charAt(0)&&"function"==typeof this[s]&&(this[s]=this[s].bind(this));this.nativeDraggable=!e.forceFallback&&Ad,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Ch(t,"pointerdown",this._onTapStart):(Ch(t,"mousedown",this._onTapStart),Ch(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(Ch(t,"dragover",this),Ch(t,"dragenter",this)),Td.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),uh(this,(i=[],{captureAnimationState:function(){i=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(t){if("none"!==Ph(t,"display")&&t!==Vd.ghost){i.push({target:t,rect:Rh(t)});var e=hh({},i[i.length-1].rect);if(t.thisAnimationDuration){var n=kh(t,!0);n&&(e.top-=n.f,e.left-=n.e)}t.fromRect=e}})},addAnimationState:function(t){i.push(t)},removeAnimationState:function(t){i.splice(function(t,e){for(var n in t)if(t.hasOwnProperty(n))for(var i in e)if(e.hasOwnProperty(i)&&e[i]===t[n][i])return Number(n);return-1}(i,{target:t}),1)},animateAll:function(t){var e=this;if(!this.options.animation)return clearTimeout(n),void("function"==typeof t&&t());var o=!1,r=0;i.forEach(function(t){var n=0,i=t.target,s=i.fromRect,a=Rh(i),l=i.prevFromRect,c=i.prevToRect,u=t.rect,h=kh(i,!0);h&&(a.top-=h.f,a.left-=h.e),i.toRect=a,i.thisAnimationDuration&&Vh(l,a)&&!Vh(s,a)&&(u.top-a.top)/(u.left-a.left)==(s.top-a.top)/(s.left-a.left)&&(n=function(t,e,n,i){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*i.animation}(u,l,c,e.options)),Vh(a,s)||(i.prevFromRect=s,i.prevToRect=a,n||(n=e.options.animation),e.animate(i,u,a,n)),n&&(o=!0,r=Math.max(r,n),clearTimeout(i.animationResetTimer),i.animationResetTimer=setTimeout(function(){i.animationTime=0,i.prevFromRect=null,i.fromRect=null,i.prevToRect=null,i.thisAnimationDuration=null},n),i.thisAnimationDuration=n)}),clearTimeout(n),o?n=setTimeout(function(){"function"==typeof t&&t()},r):"function"==typeof t&&t(),i=[]},animate:function(t,e,n,i){if(i){Ph(t,"transition",""),Ph(t,"transform","");var o=kh(this.el),r=(e.left-n.left)/(o&&o.a||1),s=(e.top-n.top)/(o&&o.d||1);t.animatingX=!!r,t.animatingY=!!s,Ph(t,"transform","translate3d("+r+"px,"+s+"px,0)"),this.forRepaintDummy=function(t){return t.offsetWidth}(t),Ph(t,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),Ph(t,"transform","translate3d(0,0,0)"),"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout(function(){Ph(t,"transition",""),Ph(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1},i)}}}))}function Gd(t,e,n,i,o,r,s,a){var l,c,u=t[zh],h=u.options.onMove;return!window.CustomEvent||gh||mh?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=e,l.from=t,l.dragged=n,l.draggedRect=i,l.related=o||e,l.relatedRect=r||Rh(e),l.willInsertAfter=a,l.originalEvent=s,t.dispatchEvent(l),h&&(c=h.call(u,l,s)),c}function jd(t){t.draggable=!1}function Hd(){Md=!1}function zd(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,i=0;n--;)i+=e.charCodeAt(n);return i.toString(36)}function Wd(t){return setTimeout(t,0)}function Zd(t){return clearTimeout(t)}Vd.prototype={constructor:Vd,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(_d=null)},_getDirection:function(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,$h):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,n=this.el,i=this.options,o=i.preventOnFilter,r=t.type,s=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,a=(s||t).target,l=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||a,c=i.filter;if(function(t){xd.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var i=e[n];i.checked&&xd.push(i)}}(n),!$h&&!(/mousedown|pointerdown/.test(r)&&0!==t.button||i.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!_h||!a||"SELECT"!==a.tagName.toUpperCase())&&!((a=Sh(a,i.draggable,n,!1))&&a.animated||ed===a)){if(od=Bh(a),sd=Bh(a,i.draggable),"function"==typeof c){if(c.call(this,t,a,this))return Jh({sortable:e,rootEl:l,name:"filter",targetEl:a,toEl:n,fromEl:n}),qh("filter",e,{evt:t}),void(o&&t.cancelable&&t.preventDefault())}else if(c&&(c=c.split(",").some(function(i){if(i=Sh(l,i.trim(),n,!1))return Jh({sortable:e,rootEl:i,name:"filter",targetEl:a,fromEl:n,toEl:n}),qh("filter",e,{evt:t}),!0})))return void(o&&t.cancelable&&t.preventDefault());i.handle&&!Sh(l,i.handle,n,!1)||this._prepareDragStart(t,s,a)}}},_prepareDragStart:function(t,e,n){var i,o=this,r=o.el,s=o.options,a=r.ownerDocument;if(n&&!$h&&n.parentNode===r){var l=Rh(n);if(Qh=r,Kh=($h=n).parentNode,td=$h.nextSibling,ed=n,ld=s.group,Vd.dragged=$h,gd=(ud={target:$h,clientX:(e||t).clientX,clientY:(e||t).clientY}).clientX-l.left,md=ud.clientY-l.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,$h.style["will-change"]="all",i=function(){qh("delayEnded",o,{evt:t}),Vd.eventCanceled?o._onDrop():(o._disableDelayedDragEvents(),!fh&&o.nativeDraggable&&($h.draggable=!0),o._triggerDragStart(t,e),Jh({sortable:o,name:"choose",originalEvent:t}),xh($h,s.chosenClass,!0))},s.ignore.split(",").forEach(function(t){Ih($h,t.trim(),jd)}),Ch(a,"dragover",Fd),Ch(a,"mousemove",Fd),Ch(a,"touchmove",Fd),Ch(a,"mouseup",o._onDrop),Ch(a,"touchend",o._onDrop),Ch(a,"touchcancel",o._onDrop),fh&&this.nativeDraggable&&(this.options.touchStartThreshold=4,$h.draggable=!0),qh("delayStart",this,{evt:t}),!s.delay||s.delayOnTouchOnly&&!e||this.nativeDraggable&&(mh||gh))i();else{if(Vd.eventCanceled)return void this._onDrop();Ch(a,"mouseup",o._disableDelayedDrag),Ch(a,"touchend",o._disableDelayedDrag),Ch(a,"touchcancel",o._disableDelayedDrag),Ch(a,"mousemove",o._delayedDragTouchMoveHandler),Ch(a,"touchmove",o._delayedDragTouchMoveHandler),s.supportPointer&&Ch(a,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(i,s.delay)}}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){$h&&jd($h),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;Oh(t,"mouseup",this._disableDelayedDrag),Oh(t,"touchend",this._disableDelayedDrag),Oh(t,"touchcancel",this._disableDelayedDrag),Oh(t,"mousemove",this._delayedDragTouchMoveHandler),Oh(t,"touchmove",this._delayedDragTouchMoveHandler),Oh(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?Ch(document,this.options.supportPointer?"pointermove":e?"touchmove":"mousemove",this._onTouchMove):(Ch($h,"dragend",this),Ch(Qh,"dragstart",this._onDragStart));try{document.selection?Wd(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(t,e){if(Cd=!1,Qh&&$h){qh("dragStarted",this,{evt:e}),this.nativeDraggable&&Ch(document,"dragover",Ud);var n=this.options;!t&&xh($h,n.dragClass,!1),xh($h,n.ghostClass,!0),Vd.active=this,t&&this._appendGhost(),Jh({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(hd){this._lastX=hd.clientX,this._lastY=hd.clientY,Nd();for(var t=document.elementFromPoint(hd.clientX,hd.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(hd.clientX,hd.clientY))!==e;)e=t;if($h.parentNode[zh]._isOutsideThisEl(t),e)do{if(e[zh]&&e[zh]._onDragOver({clientX:hd.clientX,clientY:hd.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break;t=e}while(e=e.parentNode);Bd()}},_onTouchMove:function(t){if(ud){var e=this.options,n=e.fallbackTolerance,i=e.fallbackOffset,o=t.touches?t.touches[0]:t,r=Xh&&kh(Xh,!0),s=Xh&&r&&r.a,a=Xh&&r&&r.d,l=kd&&yd&&Fh(yd),c=(o.clientX-ud.clientX+i.x)/(s||1)+(l?l[0]-wd[0]:0)/(s||1),u=(o.clientY-ud.clientY+i.y)/(a||1)+(l?l[1]-wd[1]:0)/(a||1);if(!Vd.active&&!Cd){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(Xh){r?(r.e+=c-(dd||0),r.f+=u-(pd||0)):r={a:1,b:0,c:0,d:1,e:c,f:u};var h="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");Ph(Xh,"webkitTransform",h),Ph(Xh,"mozTransform",h),Ph(Xh,"msTransform",h),Ph(Xh,"transform",h),dd=c,pd=u,hd=o}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Xh){var t=this.options.fallbackOnBody?document.body:Qh,e=Rh($h,!0,kd,!0,t),n=this.options;if(kd){for(yd=t;"static"===Ph(yd,"position")&&"none"===Ph(yd,"transform")&&yd!==document;)yd=yd.parentNode;yd!==document.body&&yd!==document.documentElement?(yd===document&&(yd=Ah()),e.top+=yd.scrollTop,e.left+=yd.scrollLeft):yd=Ah(),wd=Fh(yd)}xh(Xh=$h.cloneNode(!0),n.ghostClass,!1),xh(Xh,n.fallbackClass,!0),xh(Xh,n.dragClass,!0),Ph(Xh,"transition",""),Ph(Xh,"transform",""),Ph(Xh,"box-sizing","border-box"),Ph(Xh,"margin",0),Ph(Xh,"top",e.top),Ph(Xh,"left",e.left),Ph(Xh,"width",e.width),Ph(Xh,"height",e.height),Ph(Xh,"opacity","0.8"),Ph(Xh,"position",kd?"absolute":"fixed"),Ph(Xh,"zIndex","100000"),Ph(Xh,"pointerEvents","none"),Vd.ghost=Xh,t.appendChild(Xh),Ph(Xh,"transform-origin",gd/parseInt(Xh.style.width)*100+"% "+md/parseInt(Xh.style.height)*100+"%")}},_onDragStart:function(t,e){var n=this,i=t.dataTransfer,o=n.options;qh("dragStart",this,{evt:t}),Vd.eventCanceled?this._onDrop():(qh("setupClone",this),Vd.eventCanceled||((nd=Hh($h)).draggable=!1,nd.style["will-change"]="",this._hideClone(),xh(nd,this.options.chosenClass,!1),Vd.clone=nd),n.cloneId=Wd(function(){qh("clone",n),Vd.eventCanceled||(n.options.removeCloneOnHide||Qh.insertBefore(nd,$h),n._hideClone(),Jh({sortable:n,name:"clone"}))}),!e&&xh($h,o.dragClass,!0),e?(Od=!0,n._loopId=setInterval(n._emulateDragOver,50)):(Oh(document,"mouseup",n._onDrop),Oh(document,"touchend",n._onDrop),Oh(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",o.setData&&o.setData.call(n,i,$h)),Ch(document,"drop",n),Ph($h,"transform","translateZ(0)")),Cd=!0,n._dragStartId=Wd(n._dragStarted.bind(n,e,t)),Ch(document,"selectstart",n),fd=!0,_h&&Ph(document.body,"user-select","none"))},_onDragOver:function(t){var e,n,i,o,r=this.el,s=t.target,a=this.options,l=a.group,c=Vd.active,u=ld===l,h=a.sort,d=cd||c,p=this,g=!1;if(!Md){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),s=Sh(s,a.draggable,r,!0),x("dragOver"),Vd.eventCanceled)return g;if($h.contains(t.target)||s.animated&&s.animatingX&&s.animatingY||p._ignoreWhileAnimating===s)return k(!1);if(Od=!1,c&&!a.disabled&&(u?h||(i=!Qh.contains($h)):cd===this||(this.lastPutMode=ld.checkPull(this,c,$h,t))&&l.checkPut(this,c,$h,t))){if(o="vertical"===this._getDirection(t,s),e=Rh($h),x("dragOverValid"),Vd.eventCanceled)return g;if(i)return Kh=Qh,P(),this._hideClone(),x("revert"),Vd.eventCanceled||(td?Qh.insertBefore($h,td):Qh.appendChild($h)),k(!0);var m=Nh(r,a.draggable);if(!m||function(t,e,n){var i=Rh(Nh(n.el,n.options.draggable));return e?t.clientX>i.right+10||t.clientX<=i.right&&t.clientY>i.bottom&&t.clientX>=i.left:t.clientX>i.right&&t.clientY>i.top||t.clientX<=i.right&&t.clientY>i.bottom+10}(t,o,this)&&!m.animated){if(m===$h)return k(!1);if(m&&r===t.target&&(s=m),s&&(n=Rh(s)),!1!==Gd(Qh,r,$h,e,s,n,t,!!s))return P(),r.appendChild($h),Kh=r,I(),k(!0)}else if(s.parentNode===r){n=Rh(s);var f,_,b,v=$h.parentNode!==r,y=!function(t,e,n){var i=n?t.left:t.top,o=n?e.left:e.top;return i===o||(n?t.right:t.bottom)===(n?e.right:e.bottom)||i+(n?t.width:t.height)/2===o+(n?e.width:e.height)/2}($h.animated&&$h.toRect||e,s.animated&&s.toRect||n,o),C=o?"top":"left",O=Dh(s,"top","top")||Dh($h,"top","top"),T=O?O.scrollTop:void 0;if(_d!==s&&(_=n[C],Ed=!1,Sd=!y&&a.invertSwap||v),0!==(f=function(t,e,n,i,o,r,s,a){var l=i?t.clientY:t.clientX,c=i?n.height:n.width,u=i?n.top:n.left,h=i?n.bottom:n.right,d=!1;if(!s)if(a&&vd<c*o){if(!Ed&&(1===bd?l>u+c*r/2:l<h-c*r/2)&&(Ed=!0),Ed)d=!0;else if(1===bd?l<u+vd:l>h-vd)return-bd}else if(l>u+c*(1-o)/2&&l<h-c*(1-o)/2)return function(t){return Bh($h)<Bh(t)?1:-1}(e);return(d=d||s)&&(l<u+c*r/2||l>h-c*r/2)?l>u+c/2?1:-1:0}(t,s,n,o,y?1:a.swapThreshold,null==a.invertedSwapThreshold?a.swapThreshold:a.invertedSwapThreshold,Sd,_d===s))){var E=Bh($h);do{b=Kh.children[E-=f]}while(b&&("none"===Ph(b,"display")||b===Xh))}if(0===f||b===s)return k(!1);_d=s,bd=f;var S=s.nextElementSibling,w=!1,M=Gd(Qh,r,$h,e,s,n,t,w=1===f);if(!1!==M)return 1!==M&&-1!==M||(w=1===M),Md=!0,setTimeout(Hd,30),P(),w&&!S?r.appendChild($h):s.parentNode.insertBefore($h,w?S:s),O&&jh(O,0,T-O.scrollTop),Kh=$h.parentNode,void 0===_||Sd||(vd=Math.abs(_-Rh(s)[C])),I(),k(!0)}if(r.contains($h))return k(!1)}return!1}function x(a,l){qh(a,p,hh({evt:t,isOwner:u,axis:o?"vertical":"horizontal",revert:i,dragRect:e,targetRect:n,canSort:h,fromSortable:d,target:s,completed:k,onMove:function(n,i){return Gd(Qh,r,$h,e,n,Rh(n),t,i)},changed:I},l))}function P(){x("dragOverAnimationCapture"),p.captureAnimationState(),p!==d&&d.captureAnimationState()}function k(e){return x("dragOverCompleted",{insertion:e}),e&&(u?c._hideClone():c._showClone(p),p!==d&&(xh($h,cd?cd.options.ghostClass:c.options.ghostClass,!1),xh($h,a.ghostClass,!0)),cd!==p&&p!==Vd.active?cd=p:p===Vd.active&&cd&&(cd=null),d===p&&(p._ignoreWhileAnimating=s),p.animateAll(function(){x("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==d&&(d.animateAll(),d._ignoreWhileAnimating=null)),(s===$h&&!$h.animated||s===r&&!s.animated)&&(_d=null),a.dragoverBubble||t.rootEl||s===document||($h.parentNode[zh]._isOutsideThisEl(t.target),!e&&Fd(t)),!a.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),g=!0}function I(){rd=Bh($h),ad=Bh($h,a.draggable),Jh({sortable:p,name:"change",toEl:r,newIndex:rd,newDraggableIndex:ad,originalEvent:t})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){Oh(document,"mousemove",this._onTouchMove),Oh(document,"touchmove",this._onTouchMove),Oh(document,"pointermove",this._onTouchMove),Oh(document,"dragover",Fd),Oh(document,"mousemove",Fd),Oh(document,"touchmove",Fd)},_offUpEvents:function(){var t=this.el.ownerDocument;Oh(t,"mouseup",this._onDrop),Oh(t,"touchend",this._onDrop),Oh(t,"pointerup",this._onDrop),Oh(t,"touchcancel",this._onDrop),Oh(document,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;rd=Bh($h),ad=Bh($h,n.draggable),qh("drop",this,{evt:t}),Kh=$h&&$h.parentNode,rd=Bh($h),ad=Bh($h,n.draggable),Vd.eventCanceled||(Cd=!1,Sd=!1,Ed=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Zd(this.cloneId),Zd(this._dragStartId),this.nativeDraggable&&(Oh(document,"drop",this),Oh(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),_h&&Ph(document.body,"user-select",""),Ph($h,"transform",""),t&&(fd&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),Xh&&Xh.parentNode&&Xh.parentNode.removeChild(Xh),(Qh===Kh||cd&&"clone"!==cd.lastPutMode)&&nd&&nd.parentNode&&nd.parentNode.removeChild(nd),$h&&(this.nativeDraggable&&Oh($h,"dragend",this),jd($h),$h.style["will-change"]="",fd&&!Cd&&xh($h,cd?cd.options.ghostClass:this.options.ghostClass,!1),xh($h,this.options.chosenClass,!1),Jh({sortable:this,name:"unchoose",toEl:Kh,newIndex:null,newDraggableIndex:null,originalEvent:t}),Qh!==Kh?(rd>=0&&(Jh({rootEl:Kh,name:"add",toEl:Kh,fromEl:Qh,originalEvent:t}),Jh({sortable:this,name:"remove",toEl:Kh,originalEvent:t}),Jh({rootEl:Kh,name:"sort",toEl:Kh,fromEl:Qh,originalEvent:t}),Jh({sortable:this,name:"sort",toEl:Kh,originalEvent:t})),cd&&cd.save()):rd!==od&&rd>=0&&(Jh({sortable:this,name:"update",toEl:Kh,originalEvent:t}),Jh({sortable:this,name:"sort",toEl:Kh,originalEvent:t})),Vd.active&&(null!=rd&&-1!==rd||(rd=od,ad=sd),Jh({sortable:this,name:"end",toEl:Kh,originalEvent:t}),this.save())))),this._nulling()},_nulling:function(){qh("nulling",this),Qh=$h=Kh=Xh=td=nd=ed=id=ud=hd=fd=rd=ad=od=sd=_d=bd=cd=ld=Vd.dragged=Vd.ghost=Vd.clone=Vd.active=null,xd.forEach(function(t){t.checked=!0}),xd.length=dd=pd=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":$h&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],n=this.el.children,i=0,o=n.length,r=this.options;i<o;i++)Sh(t=n[i],r.draggable,this.el,!1)&&e.push(t.getAttribute(r.dataIdAttr)||zd(t));return e},sort:function(t,e){var n={},i=this.el;this.toArray().forEach(function(t,e){var o=i.children[e];Sh(o,this.options.draggable,i,!1)&&(n[t]=o)},this),e&&this.captureAnimationState(),t.forEach(function(t){n[t]&&(i.removeChild(n[t]),i.appendChild(n[t]))}),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return Sh(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];var i=Yh.modifyOption(this,t,e);n[t]=void 0!==i?i:e,"group"===t&&Ld(n)},destroy:function(){qh("destroy",this);var t=this.el;t[zh]=null,Oh(t,"mousedown",this._onTapStart),Oh(t,"touchstart",this._onTapStart),Oh(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(Oh(t,"dragover",this),Oh(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Td.splice(Td.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!id){if(qh("hideClone",this),Vd.eventCanceled)return;Ph(nd,"display","none"),this.options.removeCloneOnHide&&nd.parentNode&&nd.parentNode.removeChild(nd),id=!0}},_showClone:function(t){if("clone"===t.lastPutMode){if(id){if(qh("showClone",this),Vd.eventCanceled)return;$h.parentNode!=Qh||this.options.group.revertClone?td?Qh.insertBefore(nd,td):Qh.appendChild(nd):Qh.insertBefore(nd,$h),this.options.group.revertClone&&this.animate($h,nd),Ph(nd,"display",""),id=!1}}else this._hideClone()}},Pd&&Ch(document,"touchmove",function(t){(Vd.active||Cd)&&t.cancelable&&t.preventDefault()}),Vd.utils={on:Ch,off:Oh,css:Ph,find:Ih,is:function(t,e){return!!Sh(t,e,t,!1)},extend:function(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},throttle:Gh,closest:Sh,toggleClass:xh,clone:Hh,index:Bh,nextTick:Wd,cancelNextTick:Zd,detectDirection:Dd,getChild:Lh},Vd.get=function(t){return t[zh]},Vd.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(Vd.utils=hh({},Vd.utils,t.utils)),Yh.mount(t)})},Vd.create=function(t,e){return new Vd(t,e)},Vd.version="1.13.0";var Yd,qd,Jd,$d,Kd,Xd,Qd=[],tp=!1;function ep(){Qd.forEach(function(t){clearInterval(t.pid)}),Qd=[]}function np(){clearInterval(Xd)}var ip=Gh(function(t,e,n,i){if(e.scroll){var o,r=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,a=e.scrollSensitivity,l=e.scrollSpeed,c=Ah(),u=!1;qd!==n&&(qd=n,ep(),o=e.scrollFn,!0===(Yd=e.scroll)&&(Yd=Uh(n,!0)));var h=0,d=Yd;do{var p=d,g=Rh(p),m=g.top,f=g.bottom,_=g.left,b=g.right,v=g.width,y=g.height,C=void 0,O=void 0,T=p.scrollWidth,E=p.scrollHeight,S=Ph(p),w=p.scrollLeft,M=p.scrollTop;p===c?(C=v<T&&("auto"===S.overflowX||"scroll"===S.overflowX||"visible"===S.overflowX),O=y<E&&("auto"===S.overflowY||"scroll"===S.overflowY||"visible"===S.overflowY)):(C=v<T&&("auto"===S.overflowX||"scroll"===S.overflowX),O=y<E&&("auto"===S.overflowY||"scroll"===S.overflowY));var x=C&&(Math.abs(b-r)<=a&&w+v<T)-(Math.abs(_-r)<=a&&!!w),P=O&&(Math.abs(f-s)<=a&&M+y<E)-(Math.abs(m-s)<=a&&!!M);if(!Qd[h])for(var k=0;k<=h;k++)Qd[k]||(Qd[k]={});Qd[h].vx==x&&Qd[h].vy==P&&Qd[h].el===p||(Qd[h].el=p,Qd[h].vx=x,Qd[h].vy=P,clearInterval(Qd[h].pid),0==x&&0==P||(u=!0,Qd[h].pid=setInterval((function(){i&&0===this.layer&&Vd.active._onTouchMove(Kd);var e=Qd[this.layer].vy?Qd[this.layer].vy*l:0,n=Qd[this.layer].vx?Qd[this.layer].vx*l:0;"function"==typeof o&&"continue"!==o.call(Vd.dragged.parentNode[zh],n,e,t,Kd,Qd[this.layer].el)||jh(Qd[this.layer].el,n,e)}).bind({layer:h}),24))),h++}while(e.bubbleScroll&&d!==c&&(d=Uh(d,!1)));tp=u}},30),op=function(t){var e=t.originalEvent,n=t.putSortable,i=t.dragEl,o=t.dispatchSortableEvent,r=t.unhideGhostForTarget;if(e){var s=n||t.activeSortable;(0,t.hideGhostForTarget)();var a=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,l=document.elementFromPoint(a.clientX,a.clientY);r(),s&&!s.el.contains(l)&&(o("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function rp(){}function sp(){}rp.prototype={startIndex:null,dragStart:function(t){this.startIndex=t.oldDraggableIndex},onSpill:function(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=Lh(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(e,i):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:op},uh(rp,{pluginName:"revertOnSpill"}),sp.prototype={onSpill:function(t){var e=t.dragEl,n=t.putSortable||this.sortable;n.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),n.animateAll()},drop:op},uh(sp,{pluginName:"removeOnSpill"}),Vd.mount(new function(){function t(){for(var t in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){var e=t.originalEvent;this.sortable.nativeDraggable?Ch(document,"dragover",this._handleAutoScroll):Ch(document,this.options.supportPointer?"pointermove":e.touches?"touchmove":"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var e=t.originalEvent;this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?Oh(document,"dragover",this._handleAutoScroll):(Oh(document,"pointermove",this._handleFallbackAutoScroll),Oh(document,"touchmove",this._handleFallbackAutoScroll),Oh(document,"mousemove",this._handleFallbackAutoScroll)),np(),ep(),clearTimeout(wh),wh=void 0},nulling:function(){Kd=qd=Yd=tp=Xd=Jd=$d=null,Qd.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,e){var n=this,i=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,r=document.elementFromPoint(i,o);if(Kd=t,e||mh||gh||_h){ip(t,this.options,r,e);var s=Uh(r,!0);!tp||Xd&&i===Jd&&o===$d||(Xd&&np(),Xd=setInterval(function(){var r=Uh(document.elementFromPoint(i,o),!0);r!==s&&(s=r,ep()),ip(t,n.options,r,e)},10),Jd=i,$d=o)}else{if(!this.options.bubbleScroll||Uh(r,!0)===Ah())return void ep();ip(t,this.options,Uh(r,!1),!1)}}},uh(t,{pluginName:"scroll",initializeByDefault:!0})}),Vd.mount(sp,rp);const ap=Vd,lp=new i.OlP("Global config for sortablejs");class cp{constructor(t){this.target=t}insert(t,e){this.isFormArray?this.target.insert(t,e):this.target.splice(t,0,e)}get(t){return this.isFormArray?this.target.at(t):this.target[t]}remove(t){let e;return this.isFormArray?(e=this.target.at(t),this.target.removeAt(t)):e=this.target.splice(t,1)[0],e}get isFormArray(){return!!this.target.at&&!!this.target.insert&&!!this.target.reset}}class up{constructor(t){this.bindings=t.map(t=>new cp(t))}injectIntoEvery(t,e){this.bindings.forEach((n,i)=>n.insert(t,e[i]))}getFromEvery(t){return this.bindings.map(e=>e.get(t))}extractFromEvery(t){return this.bindings.map(e=>e.remove(t))}get provided(){return!!this.bindings.length}}let hp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,i.Yz7)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),dp=(()=>{class t{constructor(t,e,n,o,r){this.globalConfig=t,this.service=e,this.element=n,this.zone=o,this.renderer=r,this.sortablejsInit=new i.vpe}ngOnInit(){ap&&ap.create&&this.create()}ngOnChanges(t){const e=t.sortablejsOptions;if(e&&!e.isFirstChange()){const t=e.previousValue,n=e.currentValue;Object.keys(n).forEach(e=>{n[e]!==t[e]&&this.sortableInstance.option(e,this.options[e])})}}ngOnDestroy(){this.sortableInstance&&this.sortableInstance.destroy()}create(){const t=this.sortablejsContainer?this.element.nativeElement.querySelector(this.sortablejsContainer):this.element.nativeElement;setTimeout(()=>{this.sortableInstance=ap.create(t,this.options),this.sortablejsInit.emit(this.sortableInstance)},0)}getBindings(){return this.sortablejs?this.sortablejs instanceof up?this.sortablejs:new up([this.sortablejs]):new up([])}get options(){return Object.assign(Object.assign({},this.optionsWithoutEvents),this.overridenOptions)}get optionsWithoutEvents(){return Object.assign(Object.assign({},this.globalConfig||{}),this.sortablejsOptions||{})}proxyEvent(t,...e){this.zone.run(()=>{this.optionsWithoutEvents&&this.optionsWithoutEvents[t]&&this.optionsWithoutEvents[t](...e)})}get isCloning(){return"clone"===this.sortableInstance.options.group.checkPull(this.sortableInstance,this.sortableInstance)}clone(t){return(this.sortablejsCloneFunction||(t=>t))(t)}get overridenOptions(){return{onAdd:t=>{this.service.transfer=e=>{this.getBindings().injectIntoEvery(t.newIndex,e),this.proxyEvent("onAdd",t)},this.proxyEvent("onAddOriginal",t)},onRemove:t=>{const e=this.getBindings();e.provided&&(this.isCloning?(this.service.transfer(e.getFromEvery(t.oldIndex).map(t=>this.clone(t))),this.renderer.removeChild(t.item.parentNode,t.item),this.renderer.insertBefore(t.clone.parentNode,t.item,t.clone),this.renderer.removeChild(t.clone.parentNode,t.clone)):this.service.transfer(e.extractFromEvery(t.oldIndex)),this.service.transfer=null),this.proxyEvent("onRemove",t)},onUpdate:t=>{const e=this.getBindings(),n=(t=>t.hasOwnProperty("newDraggableIndex")&&t.hasOwnProperty("oldDraggableIndex")?{new:t.newDraggableIndex,old:t.oldDraggableIndex}:{new:t.newIndex,old:t.oldIndex})(t);e.injectIntoEvery(n.new,e.extractFromEvery(n.old)),this.proxyEvent("onUpdate",t)}}}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(lp,8),i.Y36(hp),i.Y36(i.SBq),i.Y36(i.R0b),i.Y36(i.Qsj))},t.\u0275dir=i.lG2({type:t,selectors:[["","sortablejs",""]],inputs:{sortablejs:"sortablejs",sortablejsContainer:"sortablejsContainer",sortablejsOptions:"sortablejsOptions",sortablejsCloneFunction:"sortablejsCloneFunction"},outputs:{sortablejsInit:"sortablejsInit"},features:[i.TTD]}),t})(),pp=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:lp,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})();function gp(t){return!!t&&(t instanceof vr.y||"function"==typeof t.lift&&"function"==typeof t.subscribe)}var mp=n(7471);function fp(...t){return(0,mp.J)(1)((0,ea.of)(...t))}var _p=n(653);function bp(t){return new vr.y(e=>{let n;try{n=t()}catch(i){return void e.error(i)}return(n?(0,br.D)(n):(0,_p.c)()).subscribe(e)})}var vp=n(611);class yp{}let Cp=(()=>{class t extends yp{getTranslation(t){return(0,ea.of)({})}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();class Op{}let Tp=(()=>{class t{handle(t){return t.key}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();function Ep(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;let n,i,o,r=typeof t;if(r==typeof e&&"object"==r){if(!Array.isArray(t)){if(Array.isArray(e))return!1;for(i in o=Object.create(null),t){if(!Ep(t[i],e[i]))return!1;o[i]=!0}for(i in e)if(!(i in o)&&void 0!==e[i])return!1;return!0}if(!Array.isArray(e))return!1;if((n=t.length)==e.length){for(i=0;i<n;i++)if(!Ep(t[i],e[i]))return!1;return!0}}return!1}function Sp(t){return null!=t}function wp(t){return t&&"object"==typeof t&&!Array.isArray(t)}function Mp(t,e){let n=Object.assign({},t);return wp(t)&&wp(e)&&Object.keys(e).forEach(i=>{wp(e[i])?i in t?n[i]=Mp(t[i],e[i]):Object.assign(n,{[i]:e[i]}):Object.assign(n,{[i]:e[i]})}),n}class xp{}let Pp=(()=>{class t extends xp{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(t,e){let n;return n="string"==typeof t?this.interpolateString(t,e):"function"==typeof t?this.interpolateFunction(t,e):t,n}getValue(t,e){let n="string"==typeof e?e.split("."):[e];e="";do{e+=n.shift(),!Sp(t)||!Sp(t[e])||"object"!=typeof t[e]&&n.length?n.length?e+=".":t=void 0:(t=t[e],e="")}while(n.length);return t}interpolateFunction(t,e){return t(e)}interpolateString(t,e){return e?t.replace(this.templateMatcher,(t,n)=>{let i=this.getValue(e,n);return Sp(i)?i:t}):t}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();class kp{}let Ip=(()=>{class t extends kp{compile(t,e){return t}compileTranslations(t,e){return t}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();class Ap{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new i.vpe,this.onLangChange=new i.vpe,this.onDefaultLangChange=new i.vpe}}const Rp=new i.OlP("USE_STORE"),Dp=new i.OlP("USE_DEFAULT_LANG"),Lp=new i.OlP("DEFAULT_LANGUAGE"),Np=new i.OlP("USE_EXTEND");let Bp=(()=>{class t{constructor(t,e,n,o,r,s=!0,a=!1,l=!1,c){this.store=t,this.currentLoader=e,this.compiler=n,this.parser=o,this.missingTranslationHandler=r,this.useDefaultLang=s,this.isolate=a,this.extend=l,this.pending=!1,this._onTranslationChange=new i.vpe,this._onLangChange=new i.vpe,this._onDefaultLangChange=new i.vpe,this._langs=[],this._translations={},this._translationRequests={},c&&this.setDefaultLang(c)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(t){this.isolate?this._defaultLang=t:this.store.defaultLang=t}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(t){this.isolate?this._currentLang=t:this.store.currentLang=t}get langs(){return this.isolate?this._langs:this.store.langs}set langs(t){this.isolate?this._langs=t:this.store.langs=t}get translations(){return this.isolate?this._translations:this.store.translations}set translations(t){this.isolate?this._translations=t:this.store.translations=t}setDefaultLang(t){if(t===this.defaultLang)return;let e=this.retrieveTranslations(t);void 0!==e?(null==this.defaultLang&&(this.defaultLang=t),e.pipe((0,vp.q)(1)).subscribe(e=>{this.changeDefaultLang(t)})):this.changeDefaultLang(t)}getDefaultLang(){return this.defaultLang}use(t){if(t===this.currentLang)return(0,ea.of)(this.translations[t]);let e=this.retrieveTranslations(t);return void 0!==e?(this.currentLang||(this.currentLang=t),e.pipe((0,vp.q)(1)).subscribe(e=>{this.changeLang(t)}),e):(this.changeLang(t),(0,ea.of)(this.translations[t]))}retrieveTranslations(t){let e;return(void 0===this.translations[t]||this.extend)&&(this._translationRequests[t]=this._translationRequests[t]||this.getTranslation(t),e=this._translationRequests[t]),e}getTranslation(t){this.pending=!0;const e=this.currentLoader.getTranslation(t).pipe(Au(1),(0,vp.q)(1));return this.loadingTranslations=e.pipe((0,Cr.U)(e=>this.compiler.compileTranslations(e,t)),Au(1),(0,vp.q)(1)),this.loadingTranslations.subscribe({next:e=>{this.translations[t]=this.extend&&this.translations[t]?Object.assign(Object.assign({},e),this.translations[t]):e,this.updateLangs(),this.pending=!1},error:t=>{this.pending=!1}}),e}setTranslation(t,e,n=!1){e=this.compiler.compileTranslations(e,t),this.translations[t]=(n||this.extend)&&this.translations[t]?Mp(this.translations[t],e):e,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})}getLangs(){return this.langs}addLangs(t){t.forEach(t=>{-1===this.langs.indexOf(t)&&this.langs.push(t)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(t,e,n){let i;if(e instanceof Array){let i={},o=!1;for(let r of e)i[r]=this.getParsedResult(t,r,n),gp(i[r])&&(o=!0);return o?Tr(e.map(t=>gp(i[t])?i[t]:(0,ea.of)(i[t]))).pipe((0,Cr.U)(t=>{let n={};return t.forEach((t,i)=>{n[e[i]]=t}),n})):i}if(t&&(i=this.parser.interpolate(this.parser.getValue(t,e),n)),void 0===i&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(i=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],e),n)),void 0===i){let t={key:e,translateService:this};void 0!==n&&(t.interpolateParams=n),i=this.missingTranslationHandler.handle(t)}return void 0!==i?i:e}get(t,e){if(!Sp(t)||!t.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,na.b)(n=>gp(n=this.getParsedResult(n,t,e))?n:(0,ea.of)(n)));{let n=this.getParsedResult(this.translations[this.currentLang],t,e);return gp(n)?n:(0,ea.of)(n)}}getStreamOnTranslationChange(t,e){if(!Sp(t)||!t.length)throw new Error('Parameter "key" required');return fp(bp(()=>this.get(t,e)),this.onTranslationChange.pipe((0,zu.w)(n=>{const i=this.getParsedResult(n.translations,t,e);return"function"==typeof i.subscribe?i:(0,ea.of)(i)})))}stream(t,e){if(!Sp(t)||!t.length)throw new Error('Parameter "key" required');return fp(bp(()=>this.get(t,e)),this.onLangChange.pipe((0,zu.w)(n=>{const i=this.getParsedResult(n.translations,t,e);return gp(i)?i:(0,ea.of)(i)})))}instant(t,e){if(!Sp(t)||!t.length)throw new Error('Parameter "key" required');let n=this.getParsedResult(this.translations[this.currentLang],t,e);if(gp(n)){if(t instanceof Array){let e={};return t.forEach((n,i)=>{e[t[i]]=t[i]}),e}return t}return n}set(t,e,n=this.currentLang){this.translations[n][t]=this.compiler.compile(e,n),this.updateLangs(),this.onTranslationChange.emit({lang:n,translations:this.translations[n]})}changeLang(t){this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),null==this.defaultLang&&this.changeDefaultLang(t)}changeDefaultLang(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})}reloadLang(t){return this.resetLang(t),this.getTranslation(t)}resetLang(t){this._translationRequests[t]=void 0,this.translations[t]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==t?(-1!==t.indexOf("-")&&(t=t.split("-")[0]),-1!==t.indexOf("_")&&(t=t.split("_")[0]),t):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,t}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Ap),i.LFG(yp),i.LFG(kp),i.LFG(xp),i.LFG(Op),i.LFG(Dp),i.LFG(Rp),i.LFG(Np),i.LFG(Lp))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),Fp=(()=>{class t{constructor(t,e){this.translate=t,this._ref=e,this.value=""}updateValue(t,e,n){let i=e=>{this.value=void 0!==e?e:t,this.lastKey=t,this._ref.markForCheck()};if(n){let o=this.translate.getParsedResult(n,t,e);gp(o.subscribe)?o.subscribe(i):i(o)}this.translate.get(t,e).subscribe(i)}transform(t,...e){if(!t||!t.length)return t;if(Ep(t,this.lastKey)&&Ep(e,this.lastParams))return this.value;let n;if(Sp(e[0])&&e.length)if("string"==typeof e[0]&&e[0].length){let t=e[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{n=JSON.parse(t)}catch(nx){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${e[0]}`)}}else"object"!=typeof e[0]||Array.isArray(e[0])||(n=e[0]);return this.lastKey=t,this.lastParams=e,this.updateValue(t,n),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(e=>{this.lastKey&&e.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(t,n,e.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(e=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,n,e.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,n))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Bp,16),i.Y36(i.sBO,16))},t.\u0275pipe=i.Yjl({name:"translate",type:t,pure:!1}),t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),Up=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[e.loader||{provide:yp,useClass:Cp},e.compiler||{provide:kp,useClass:Ip},e.parser||{provide:xp,useClass:Pp},e.missingTranslationHandler||{provide:Op,useClass:Tp},Ap,{provide:Rp,useValue:e.isolate},{provide:Dp,useValue:e.useDefaultLang},{provide:Np,useValue:e.extend},{provide:Lp,useValue:e.defaultLanguage},Bp]}}static forChild(e={}){return{ngModule:t,providers:[e.loader||{provide:yp,useClass:Cp},e.compiler||{provide:kp,useClass:Ip},e.parser||{provide:xp,useClass:Pp},e.missingTranslationHandler||{provide:Op,useClass:Tp},{provide:Rp,useValue:e.isolate},{provide:Dp,useValue:e.useDefaultLang},{provide:Np,useValue:e.extend},{provide:Lp,useValue:e.defaultLanguage},Bp]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})();var Vp=n(1671),Gp=n(1906),jp=n(5959);class Hp{call(t,e){return e.subscribe(new zp(t))}}class zp extends Fu.L{_next(t){}}var Wp=n(3103);class Zp{call(t,e){return e.subscribe(new Yp(t))}}class Yp extends Fu.L{constructor(t){super(t)}_next(t){this.destination.next(Wp.P.createNext(t))}_error(t){const e=this.destination;e.next(Wp.P.createError(t)),e.complete()}_complete(){const t=this.destination;t.next(Wp.P.createComplete()),t.complete()}}var qp=n(7727),Jp=n(7570);function $p(t,e,n,i){return o=>o.lift(new Kp(t,e,n,i))}class Kp{constructor(t,e,n,i){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=i}call(t,e){return e.subscribe(new Xp(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class Xp extends Fu.L{constructor(t,e,n,i,o){super(t),this.keySelector=e,this.elementSelector=n,this.durationSelector=i,this.subjectSelector=o,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(t){let e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)}_group(t,e){let n=this.groups;n||(n=this.groups=new Map);let i,o=n.get(e);if(this.elementSelector)try{i=this.elementSelector(t)}catch(r){this.error(r)}else i=t;if(!o){o=this.subjectSelector?this.subjectSelector():new jp.xQ,n.set(e,o);const t=new tg(e,o,this);if(this.destination.next(t),this.durationSelector){let t;try{t=this.durationSelector(new tg(e,o))}catch(r){return void this.error(r)}this.add(t.subscribe(new Qp(e,o,this)))}}o.closed||o.next(i)}_error(t){const e=this.groups;e&&(e.forEach((e,n)=>{e.error(t)}),e.clear()),this.destination.error(t)}_complete(){const t=this.groups;t&&(t.forEach((t,e)=>{t.complete()}),t.clear()),this.destination.complete()}removeGroup(t){this.groups.delete(t)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class Qp extends Fu.L{constructor(t,e,n){super(e),this.key=t,this.group=e,this.parent=n}_next(t){this.complete()}_unsubscribe(){const{parent:t,key:e}=this;this.key=this.parent=null,t&&t.removeGroup(e)}}class tg extends vr.y{constructor(t,e,n){super(),this.key=t,this.groupSubject=e,this.refCountSubscription=n}_subscribe(t){const e=new Jp.w,{refCountSubscription:n,groupSubject:i}=this;return n&&!n.closed&&e.add(new eg(n)),e.add(i.subscribe(t)),e}}class eg extends Jp.w{constructor(t){super(),this.parent=t,t.count++}unsubscribe(){const t=this.parent;t.closed||this.closed||(super.unsubscribe(),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}var ng=n(3982),ig=n(6882);function og(t,e){return e?n=>n.pipe(og((n,i)=>(0,br.D)(t(n,i)).pipe((0,Cr.U)((t,o)=>e(n,t,i,o))))):e=>e.lift(new rg(t))}class rg{constructor(t){this.project=t}call(t,e){return e.subscribe(new sg(t,this.project))}}class sg extends ig.Ds{constructor(t,e){super(t),this.project=e,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(t){this.hasSubscription||this.tryNext(t)}tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.hasSubscription=!0,this._innerSub(e)}_innerSub(t){const e=new ig.IY(this),n=this.destination;n.add(e);const i=(0,ig.ft)(t,e);i!==e&&n.add(i)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}class ag{call(t,e){return e.subscribe(new lg(t))}}class lg extends Fu.L{constructor(t){super(t)}_next(t){t.observe(this.destination)}}const cg={dispatch:!0,useEffectsErrorHandler:!0},ug="__@ngrx/effects_create__";function hg(t,e){const n=t(),i=Object.assign(Object.assign({},cg),e);return Object.defineProperty(n,ug,{value:i}),n}function dg(t){return Object.getOwnPropertyNames(t).filter(e=>!(!t[e]||!t[e].hasOwnProperty(ug))&&t[e][ug].hasOwnProperty("dispatch")).map(e=>Object.assign({propertyName:e},t[e][ug]))}function pg(t){return Object.getPrototypeOf(t)}const gg="__@ngrx/effects__";function mg(t){return(0,Vp.qC)(fg,pg)(t)}function fg(t){return function(t){return t.constructor.hasOwnProperty(gg)}(t)?t.constructor[gg]:[]}function _g(t,e,n=10){return t.pipe((0,qp.K)(i=>(e&&e.handleError(i),n<=1?t:_g(t,e,n-1))))}let bg=(()=>{class t extends vr.y{constructor(t){super(),t&&(this.source=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Vp.Y$))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();function vg(...t){return(0,ia.h)(e=>t.some(t=>"string"==typeof t?t===e.type:t.type===e.type))}function yg(t){return Cg(t,"ngrxOnInitEffects")}function Cg(t,e){return t&&e in t&&"function"==typeof t[e]}const Og=new i.OlP("@ngrx/effects Internal Root Guard"),Tg=new i.OlP("@ngrx/effects User Provided Effects"),Eg=new i.OlP("@ngrx/effects Internal Root Effects"),Sg=new i.OlP("@ngrx/effects Root Effects"),wg=new i.OlP("@ngrx/effects Internal Feature Effects"),Mg=new i.OlP("@ngrx/effects Feature Effects"),xg=new i.OlP("@ngrx/effects Effects Error Handler");let Pg=(()=>{class t extends jp.xQ{constructor(t,e){super(),this.errorHandler=t,this.effectsErrorHandler=e}addEffects(t){this.next(t)}toActions(){return this.pipe($p(pg),(0,ng.zg)(t=>t.pipe($p(kg))),(0,ng.zg)(t=>{const e=t.pipe(og(t=>{return(e=this.errorHandler,n=this.effectsErrorHandler,t=>{const i=function(t,e,n){const i=pg(t).constructor.name,o=(r=t,[mg,dg].reduce((t,e)=>t.concat(e(r)),[])).map(({propertyName:o,dispatch:r,useEffectsErrorHandler:s})=>{const a="function"==typeof t[o]?t[o]():t[o],l=s?n(a,e):a;return!1===r?l.pipe(function(t){return t.lift(new Hp)}):l.pipe(function(t){return t.lift(new Zp)}).pipe((0,Cr.U)(e=>({effect:t[o],notification:e,propertyName:o,sourceName:i,sourceInstance:t})))});var r;return(0,Gp.T)(...o)}(t,e,n);return Cg(t,"ngrxOnRunEffects")?t.ngrxOnRunEffects(i):i})(t);var e,n}),(0,Cr.U)(t=>(function(t,e){if("N"===t.notification.kind){const n=t.notification.value;!function(t){return"function"!=typeof t&&t&&t.type&&"string"==typeof t.type}(n)&&e.handleError(new Error(`Effect ${function({propertyName:t,sourceInstance:e,sourceName:n}){const i="function"==typeof e[t];return`"${n}.${String(t)}${i?"()":""}"`}(t)} dispatched an invalid action: ${function(t){try{return JSON.stringify(t)}catch($o){return t}}(n)}`))}}(t,this.errorHandler),t.notification)),(0,ia.h)(t=>"N"===t.kind&&null!=t.value),function(t){return t.lift(new ag)}),n=t.pipe((0,vp.q)(1),(0,ia.h)(yg),(0,Cr.U)(t=>t.ngrxOnInitEffects()));return(0,Gp.T)(e,n)}))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.qLn),i.LFG(xg))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();function kg(t){return Cg(t,"ngrxOnIdentifyEffects")?t.ngrxOnIdentifyEffects():""}let Ig=(()=>{class t{constructor(t,e){this.effectSources=t,this.store=e,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Pg),i.LFG(Vp.yh))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const Ag="@ngrx/effects/init";(0,Vp.PH)(Ag);let Rg=(()=>{class t{constructor(t,e,n,i,o,r,s){this.sources=t,e.start(),i.forEach(e=>t.addEffects(e)),n.dispatch({type:Ag})}addEffects(t){this.sources.addEffects(t)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Pg),i.LFG(Ig),i.LFG(Vp.yh),i.LFG(Sg),i.LFG(Vp.cr,8),i.LFG(Vp.CK,8),i.LFG(Og,8))},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})(),Dg=(()=>{class t{constructor(t,e,n,i){e.forEach(e=>e.forEach(e=>t.addEffects(e)))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Rg),i.LFG(Mg),i.LFG(Vp.cr,8),i.LFG(Vp.CK,8))},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})(),Lg=(()=>{class t{static forFeature(t=[]){return{ngModule:Dg,providers:[t,{provide:wg,multi:!0,useValue:t},{provide:Tg,multi:!0,useValue:[]},{provide:Mg,multi:!0,useFactory:Ng,deps:[i.zs3,wg,Tg]}]}}static forRoot(t=[]){return{ngModule:Rg,providers:[{provide:xg,useValue:_g},Ig,Pg,bg,t,{provide:Eg,useValue:[t]},{provide:Og,useFactory:Bg,deps:[[Ig,new i.FiY,new i.tp0],[Eg,new i.PiD]]},{provide:Tg,multi:!0,useValue:[]},{provide:Sg,useFactory:Ng,deps:[i.zs3,Eg,Tg]}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})();function Ng(t,e,n){const i=[];for(const o of e)i.push(...o);for(const o of n)i.push(...o);return function(t,e){return e.map(e=>t.get(e))}(t,i)}function Bg(t,e){if((1!==e.length||0!==e[0].length)&&t)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var Fg=n(2636),Ug=n.n(Fg);const Vg=JSON.parse('{"VARIABLES_DEFAULT_NAME":"VARIABLES_DEFAULT_NAME","UNNAMED_KEY":"UNNAMED_KEY","TODAY":"TODAY","DUPLICATE_BLOCK":"DUPLICATE_BLOCK","ADD_COMMENT":"ADD_COMMENT","REMOVE_COMMENT":"REMOVE_COMMENT","DUPLICATE_COMMENT":"DUPLICATE_COMMENT","EXTERNAL_INPUTS":"EXTERNAL_INPUTS","INLINE_INPUTS":"INLINE_INPUTS","DELETE_BLOCK":"DELETE_BLOCK","DELETE_X_BLOCKS":"DELETE_X_BLOCKS","DELETE_ALL_BLOCKS":"DELETE_ALL_BLOCKS","CLEAN_UP":"CLEAN_UP","COLLAPSE_BLOCK":"COLLAPSE_BLOCK","COLLAPSE_ALL":"COLLAPSE_ALL","EXPAND_BLOCK":"EXPAND_BLOCK","EXPAND_ALL":"EXPAND_ALL","DISABLE_BLOCK":"DISABLE_BLOCK","ENABLE_BLOCK":"ENABLE_BLOCK","HELP":"HELP","UNDO":"UNDO","REDO":"REDO","CHANGE_VALUE_TITLE":"CHANGE_VALUE_TITLE","RENAME_VARIABLE":"RENAME_VARIABLE","RENAME_VARIABLE_TITLE":"RENAME_VARIABLE_TITLE","NEW_VARIABLE":"NEW_VARIABLE","NEW_STRING_VARIABLE":"NEW_STRING_VARIABLE","NEW_NUMBER_VARIABLE":"NEW_NUMBER_VARIABLE","NEW_COLOUR_VARIABLE":"NEW_COLOUR_VARIABLE","NEW_VARIABLE_TYPE_TITLE":"NEW_VARIABLE_TYPE_TITLE","NEW_VARIABLE_TITLE":"NEW_VARIABLE_TITLE","VARIABLE_ALREADY_EXISTS":"VARIABLE_ALREADY_EXISTS","VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE":"VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE","DELETE_VARIABLE_CONFIRMATION":"DELETE_VARIABLE_CONFIRMATION","CANNOT_DELETE_VARIABLE_PROCEDURE":"CANNOT_DELETE_VARIABLE_PROCEDURE","DELETE_VARIABLE":"DELETE_VARIABLE","COLOUR_PICKER_HELPURL":"COLOUR_PICKER_HELPURL","COLOUR_PICKER_TOOLTIP":"COLOUR_PICKER_TOOLTIP","COLOUR_RANDOM_HELPURL":"COLOUR_RANDOM_HELPURL","COLOUR_RANDOM_TITLE":"COLOUR_RANDOM_TITLE","COLOUR_RANDOM_TOOLTIP":"COLOUR_RANDOM_TOOLTIP","COLOUR_RGB_HELPURL":"COLOUR_RGB_HELPURL","COLOUR_RGB_TITLE":"COLOUR_RGB_TITLE","COLOUR_RGB_RED":"COLOUR_RGB_RED","COLOUR_RGB_GREEN":"COLOUR_RGB_GREEN","COLOUR_RGB_BLUE":"COLOUR_RGB_BLUE","COLOUR_RGB_TOOLTIP":"COLOUR_RGB_TOOLTIP","COLOUR_BLEND_HELPURL":"COLOUR_BLEND_HELPURL","COLOUR_BLEND_TITLE":"COLOUR_BLEND_TITLE","COLOUR_BLEND_COLOUR1":"COLOUR_BLEND_COLOUR1","COLOUR_BLEND_COLOUR2":"COLOUR_BLEND_COLOUR2","COLOUR_BLEND_RATIO":"COLOUR_BLEND_RATIO","COLOUR_BLEND_TOOLTIP":"COLOUR_BLEND_TOOLTIP","CONTROLS_REPEAT_HELPURL":"CONTROLS_REPEAT_HELPURL","CONTROLS_REPEAT_TITLE":"CONTROLS_REPEAT_TITLE","CONTROLS_REPEAT_INPUT_DO":"CONTROLS_REPEAT_INPUT_DO","CONTROLS_REPEAT_TOOLTIP":"CONTROLS_REPEAT_TOOLTIP","CONTROLS_WHILEUNTIL_HELPURL":"CONTROLS_WHILEUNTIL_HELPURL","CONTROLS_WHILEUNTIL_OPERATOR_WHILE":"CONTROLS_WHILEUNTIL_OPERATOR_WHILE","CONTROLS_WHILEUNTIL_OPERATOR_UNTIL":"CONTROLS_WHILEUNTIL_OPERATOR_UNTIL","CONTROLS_WHILEUNTIL_TOOLTIP_WHILE":"CONTROLS_WHILEUNTIL_TOOLTIP_WHILE","CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL":"CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL","CONTROLS_FOR_HELPURL":"CONTROLS_FOR_HELPURL","CONTROLS_FOR_TOOLTIP":"CONTROLS_FOR_TOOLTIP","CONTROLS_FOR_TITLE":"CONTROLS_FOR_TITLE","CONTROLS_FOREACH_HELPURL":"CONTROLS_FOREACH_HELPURL","CONTROLS_FOREACH_TITLE":"CONTROLS_FOREACH_TITLE","CONTROLS_FOREACH_TOOLTIP":"CONTROLS_FOREACH_TOOLTIP","CONTROLS_FLOW_STATEMENTS_HELPURL":"CONTROLS_FLOW_STATEMENTS_HELPURL","CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK":"CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK","CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE":"CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE","CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK":"CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK","CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE":"CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE","CONTROLS_FLOW_STATEMENTS_WARNING":"CONTROLS_FLOW_STATEMENTS_WARNING","CONTROLS_IF_HELPURL":"CONTROLS_IF_HELPURL","CONTROLS_IF_TOOLTIP_1":"CONTROLS_IF_TOOLTIP_1","CONTROLS_IF_TOOLTIP_2":"CONTROLS_IF_TOOLTIP_2","CONTROLS_IF_TOOLTIP_3":"CONTROLS_IF_TOOLTIP_3","CONTROLS_IF_TOOLTIP_4":"CONTROLS_IF_TOOLTIP_4","CONTROLS_IF_MSG_IF":"CONTROLS_IF_MSG_IF","CONTROLS_IF_MSG_ELSEIF":"CONTROLS_IF_MSG_ELSEIF","CONTROLS_IF_MSG_ELSE":"CONTROLS_IF_MSG_ELSE","CONTROLS_IF_IF_TOOLTIP":"CONTROLS_IF_IF_TOOLTIP","CONTROLS_IF_ELSEIF_TOOLTIP":"CONTROLS_IF_ELSEIF_TOOLTIP","CONTROLS_IF_ELSE_TOOLTIP":"CONTROLS_IF_ELSE_TOOLTIP","IOS_OK":"IOS_OK","IOS_CANCEL":"IOS_CANCEL","IOS_ERROR":"IOS_ERROR","IOS_PROCEDURES_INPUTS":"IOS_PROCEDURES_INPUTS","IOS_PROCEDURES_ADD_INPUT":"IOS_PROCEDURES_ADD_INPUT","IOS_PROCEDURES_ALLOW_STATEMENTS":"IOS_PROCEDURES_ALLOW_STATEMENTS","IOS_PROCEDURES_DUPLICATE_INPUTS_ERROR":"IOS_PROCEDURES_DUPLICATE_INPUTS_ERROR","IOS_VARIABLES_ADD_VARIABLE":"IOS_VARIABLES_ADD_VARIABLE","IOS_VARIABLES_ADD_BUTTON":"IOS_VARIABLES_ADD_BUTTON","IOS_VARIABLES_RENAME_BUTTON":"IOS_VARIABLES_RENAME_BUTTON","IOS_VARIABLES_DELETE_BUTTON":"IOS_VARIABLES_DELETE_BUTTON","IOS_VARIABLES_VARIABLE_NAME":"IOS_VARIABLES_VARIABLE_NAME","IOS_VARIABLES_EMPTY_NAME_ERROR":"IOS_VARIABLES_EMPTY_NAME_ERROR","LOGIC_COMPARE_HELPURL":"LOGIC_COMPARE_HELPURL","LOGIC_COMPARE_TOOLTIP_EQ":"LOGIC_COMPARE_TOOLTIP_EQ","LOGIC_COMPARE_TOOLTIP_NEQ":"LOGIC_COMPARE_TOOLTIP_NEQ","LOGIC_COMPARE_TOOLTIP_LT":"LOGIC_COMPARE_TOOLTIP_LT","LOGIC_COMPARE_TOOLTIP_LTE":"LOGIC_COMPARE_TOOLTIP_LTE","LOGIC_COMPARE_TOOLTIP_GT":"LOGIC_COMPARE_TOOLTIP_GT","LOGIC_COMPARE_TOOLTIP_GTE":"LOGIC_COMPARE_TOOLTIP_GTE","LOGIC_OPERATION_HELPURL":"LOGIC_OPERATION_HELPURL","LOGIC_OPERATION_TOOLTIP_AND":"LOGIC_OPERATION_TOOLTIP_AND","LOGIC_OPERATION_AND":"LOGIC_OPERATION_AND","LOGIC_OPERATION_TOOLTIP_OR":"LOGIC_OPERATION_TOOLTIP_OR","LOGIC_OPERATION_OR":"LOGIC_OPERATION_OR","LOGIC_NEGATE_HELPURL":"LOGIC_NEGATE_HELPURL","LOGIC_NEGATE_TITLE":"LOGIC_NEGATE_TITLE","LOGIC_NEGATE_TOOLTIP":"LOGIC_NEGATE_TOOLTIP","LOGIC_BOOLEAN_HELPURL":"LOGIC_BOOLEAN_HELPURL","LOGIC_BOOLEAN_TRUE":"LOGIC_BOOLEAN_TRUE","LOGIC_BOOLEAN_FALSE":"LOGIC_BOOLEAN_FALSE","LOGIC_BOOLEAN_TOOLTIP":"LOGIC_BOOLEAN_TOOLTIP","LOGIC_NULL_HELPURL":"LOGIC_NULL_HELPURL","LOGIC_NULL":"LOGIC_NULL","LOGIC_NULL_TOOLTIP":"LOGIC_NULL_TOOLTIP","LOGIC_TERNARY_HELPURL":"LOGIC_TERNARY_HELPURL","LOGIC_TERNARY_CONDITION":"LOGIC_TERNARY_CONDITION","LOGIC_TERNARY_IF_TRUE":"LOGIC_TERNARY_IF_TRUE","LOGIC_TERNARY_IF_FALSE":"LOGIC_TERNARY_IF_FALSE","LOGIC_TERNARY_TOOLTIP":"LOGIC_TERNARY_TOOLTIP","MATH_NUMBER_HELPURL":"MATH_NUMBER_HELPURL","MATH_NUMBER_TOOLTIP":"MATH_NUMBER_TOOLTIP","MATH_ADDITION_SYMBOL":"MATH_ADDITION_SYMBOL","MATH_SUBTRACTION_SYMBOL":"MATH_SUBTRACTION_SYMBOL","MATH_DIVISION_SYMBOL":"MATH_DIVISION_SYMBOL","MATH_MULTIPLICATION_SYMBOL":"MATH_MULTIPLICATION_SYMBOL","MATH_POWER_SYMBOL":"MATH_POWER_SYMBOL","MATH_TRIG_SIN":"MATH_TRIG_SIN","MATH_TRIG_COS":"MATH_TRIG_COS","MATH_TRIG_TAN":"MATH_TRIG_TAN","MATH_TRIG_ASIN":"MATH_TRIG_ASIN","MATH_TRIG_ACOS":"MATH_TRIG_ACOS","MATH_TRIG_ATAN":"MATH_TRIG_ATAN","MATH_ARITHMETIC_HELPURL":"MATH_ARITHMETIC_HELPURL","MATH_ARITHMETIC_TOOLTIP_ADD":"MATH_ARITHMETIC_TOOLTIP_ADD","MATH_ARITHMETIC_TOOLTIP_MINUS":"MATH_ARITHMETIC_TOOLTIP_MINUS","MATH_ARITHMETIC_TOOLTIP_MULTIPLY":"MATH_ARITHMETIC_TOOLTIP_MULTIPLY","MATH_ARITHMETIC_TOOLTIP_DIVIDE":"MATH_ARITHMETIC_TOOLTIP_DIVIDE","MATH_ARITHMETIC_TOOLTIP_POWER":"MATH_ARITHMETIC_TOOLTIP_POWER","MATH_SINGLE_HELPURL":"MATH_SINGLE_HELPURL","MATH_SINGLE_OP_ROOT":"MATH_SINGLE_OP_ROOT","MATH_SINGLE_TOOLTIP_ROOT":"MATH_SINGLE_TOOLTIP_ROOT","MATH_SINGLE_OP_ABSOLUTE":"MATH_SINGLE_OP_ABSOLUTE","MATH_SINGLE_TOOLTIP_ABS":"MATH_SINGLE_TOOLTIP_ABS","MATH_SINGLE_TOOLTIP_NEG":"MATH_SINGLE_TOOLTIP_NEG","MATH_SINGLE_TOOLTIP_LN":"MATH_SINGLE_TOOLTIP_LN","MATH_SINGLE_TOOLTIP_LOG10":"MATH_SINGLE_TOOLTIP_LOG10","MATH_SINGLE_TOOLTIP_EXP":"MATH_SINGLE_TOOLTIP_EXP","MATH_SINGLE_TOOLTIP_POW10":"MATH_SINGLE_TOOLTIP_POW10","MATH_TRIG_HELPURL":"MATH_TRIG_HELPURL","MATH_TRIG_TOOLTIP_SIN":"MATH_TRIG_TOOLTIP_SIN","MATH_TRIG_TOOLTIP_COS":"MATH_TRIG_TOOLTIP_COS","MATH_TRIG_TOOLTIP_TAN":"MATH_TRIG_TOOLTIP_TAN","MATH_TRIG_TOOLTIP_ASIN":"MATH_TRIG_TOOLTIP_ASIN","MATH_TRIG_TOOLTIP_ACOS":"MATH_TRIG_TOOLTIP_ACOS","MATH_TRIG_TOOLTIP_ATAN":"MATH_TRIG_TOOLTIP_ATAN","MATH_CONSTANT_HELPURL":"MATH_CONSTANT_HELPURL","MATH_CONSTANT_TOOLTIP":"MATH_CONSTANT_TOOLTIP","MATH_IS_EVEN":"MATH_IS_EVEN","MATH_IS_ODD":"MATH_IS_ODD","MATH_IS_PRIME":"MATH_IS_PRIME","MATH_IS_WHOLE":"MATH_IS_WHOLE","MATH_IS_POSITIVE":"MATH_IS_POSITIVE","MATH_IS_NEGATIVE":"MATH_IS_NEGATIVE","MATH_IS_DIVISIBLE_BY":"MATH_IS_DIVISIBLE_BY","MATH_IS_TOOLTIP":"MATH_IS_TOOLTIP","MATH_CHANGE_HELPURL":"MATH_CHANGE_HELPURL","MATH_CHANGE_TITLE":"MATH_CHANGE_TITLE","MATH_CHANGE_TOOLTIP":"MATH_CHANGE_TOOLTIP","MATH_ROUND_HELPURL":"MATH_ROUND_HELPURL","MATH_ROUND_TOOLTIP":"MATH_ROUND_TOOLTIP","MATH_ROUND_OPERATOR_ROUND":"MATH_ROUND_OPERATOR_ROUND","MATH_ROUND_OPERATOR_ROUNDUP":"MATH_ROUND_OPERATOR_ROUNDUP","MATH_ROUND_OPERATOR_ROUNDDOWN":"MATH_ROUND_OPERATOR_ROUNDDOWN","MATH_ONLIST_HELPURL":"MATH_ONLIST_HELPURL","MATH_ONLIST_OPERATOR_SUM":"MATH_ONLIST_OPERATOR_SUM","MATH_ONLIST_TOOLTIP_SUM":"MATH_ONLIST_TOOLTIP_SUM","MATH_ONLIST_OPERATOR_MIN":"MATH_ONLIST_OPERATOR_MIN","MATH_ONLIST_TOOLTIP_MIN":"MATH_ONLIST_TOOLTIP_MIN","MATH_ONLIST_OPERATOR_MAX":"MATH_ONLIST_OPERATOR_MAX","MATH_ONLIST_TOOLTIP_MAX":"MATH_ONLIST_TOOLTIP_MAX","MATH_ONLIST_OPERATOR_AVERAGE":"MATH_ONLIST_OPERATOR_AVERAGE","MATH_ONLIST_TOOLTIP_AVERAGE":"MATH_ONLIST_TOOLTIP_AVERAGE","MATH_ONLIST_OPERATOR_MEDIAN":"MATH_ONLIST_OPERATOR_MEDIAN","MATH_ONLIST_TOOLTIP_MEDIAN":"MATH_ONLIST_TOOLTIP_MEDIAN","MATH_ONLIST_OPERATOR_MODE":"MATH_ONLIST_OPERATOR_MODE","MATH_ONLIST_TOOLTIP_MODE":"MATH_ONLIST_TOOLTIP_MODE","MATH_ONLIST_OPERATOR_STD_DEV":"MATH_ONLIST_OPERATOR_STD_DEV","MATH_ONLIST_TOOLTIP_STD_DEV":"MATH_ONLIST_TOOLTIP_STD_DEV","MATH_ONLIST_OPERATOR_RANDOM":"MATH_ONLIST_OPERATOR_RANDOM","MATH_ONLIST_TOOLTIP_RANDOM":"MATH_ONLIST_TOOLTIP_RANDOM","MATH_MODULO_HELPURL":"MATH_MODULO_HELPURL","MATH_MODULO_TITLE":"MATH_MODULO_TITLE","MATH_MODULO_TOOLTIP":"MATH_MODULO_TOOLTIP","MATH_CONSTRAIN_HELPURL":"MATH_CONSTRAIN_HELPURL","MATH_CONSTRAIN_TITLE":"MATH_CONSTRAIN_TITLE","MATH_CONSTRAIN_TOOLTIP":"MATH_CONSTRAIN_TOOLTIP","MATH_RANDOM_INT_HELPURL":"MATH_RANDOM_INT_HELPURL","MATH_RANDOM_INT_TITLE":"MATH_RANDOM_INT_TITLE","MATH_RANDOM_INT_TOOLTIP":"MATH_RANDOM_INT_TOOLTIP","MATH_RANDOM_FLOAT_HELPURL":"MATH_RANDOM_FLOAT_HELPURL","MATH_RANDOM_FLOAT_TITLE_RANDOM":"MATH_RANDOM_FLOAT_TITLE_RANDOM","MATH_RANDOM_FLOAT_TOOLTIP":"MATH_RANDOM_FLOAT_TOOLTIP","MATH_ATAN2_HELPURL":"MATH_ATAN2_HELPURL","MATH_ATAN2_TITLE":"MATH_ATAN2_TITLE","MATH_ATAN2_TOOLTIP":"MATH_ATAN2_TOOLTIP","TEXT_TEXT_HELPURL":"TEXT_TEXT_HELPURL","TEXT_TEXT_TOOLTIP":"TEXT_TEXT_TOOLTIP","TEXT_JOIN_HELPURL":"TEXT_JOIN_HELPURL","TEXT_JOIN_TITLE_CREATEWITH":"TEXT_JOIN_TITLE_CREATEWITH","TEXT_JOIN_TOOLTIP":"TEXT_JOIN_TOOLTIP","TEXT_CREATE_JOIN_TITLE_JOIN":"TEXT_CREATE_JOIN_TITLE_JOIN","TEXT_CREATE_JOIN_TOOLTIP":"TEXT_CREATE_JOIN_TOOLTIP","TEXT_CREATE_JOIN_ITEM_TOOLTIP":"TEXT_CREATE_JOIN_ITEM_TOOLTIP","TEXT_APPEND_HELPURL":"TEXT_APPEND_HELPURL","TEXT_APPEND_TITLE":"TEXT_APPEND_TITLE","TEXT_APPEND_TOOLTIP":"TEXT_APPEND_TOOLTIP","TEXT_LENGTH_HELPURL":"TEXT_LENGTH_HELPURL","TEXT_LENGTH_TITLE":"TEXT_LENGTH_TITLE","TEXT_LENGTH_TOOLTIP":"TEXT_LENGTH_TOOLTIP","TEXT_ISEMPTY_HELPURL":"TEXT_ISEMPTY_HELPURL","TEXT_ISEMPTY_TITLE":"TEXT_ISEMPTY_TITLE","TEXT_ISEMPTY_TOOLTIP":"TEXT_ISEMPTY_TOOLTIP","TEXT_INDEXOF_HELPURL":"TEXT_INDEXOF_HELPURL","TEXT_INDEXOF_TOOLTIP":"TEXT_INDEXOF_TOOLTIP","TEXT_INDEXOF_TITLE":"TEXT_INDEXOF_TITLE","TEXT_INDEXOF_OPERATOR_FIRST":"TEXT_INDEXOF_OPERATOR_FIRST","TEXT_INDEXOF_OPERATOR_LAST":"TEXT_INDEXOF_OPERATOR_LAST","TEXT_CHARAT_HELPURL":"TEXT_CHARAT_HELPURL","TEXT_CHARAT_TITLE":"TEXT_CHARAT_TITLE","TEXT_CHARAT_FROM_START":"TEXT_CHARAT_FROM_START","TEXT_CHARAT_FROM_END":"TEXT_CHARAT_FROM_END","TEXT_CHARAT_FIRST":"TEXT_CHARAT_FIRST","TEXT_CHARAT_LAST":"TEXT_CHARAT_LAST","TEXT_CHARAT_RANDOM":"TEXT_CHARAT_RANDOM","TEXT_CHARAT_TAIL":"TEXT_CHARAT_TAIL","TEXT_CHARAT_TOOLTIP":"TEXT_CHARAT_TOOLTIP","TEXT_GET_SUBSTRING_TOOLTIP":"TEXT_GET_SUBSTRING_TOOLTIP","TEXT_GET_SUBSTRING_HELPURL":"TEXT_GET_SUBSTRING_HELPURL","TEXT_GET_SUBSTRING_INPUT_IN_TEXT":"TEXT_GET_SUBSTRING_INPUT_IN_TEXT","TEXT_GET_SUBSTRING_START_FROM_START":"TEXT_GET_SUBSTRING_START_FROM_START","TEXT_GET_SUBSTRING_START_FROM_END":"TEXT_GET_SUBSTRING_START_FROM_END","TEXT_GET_SUBSTRING_START_FIRST":"TEXT_GET_SUBSTRING_START_FIRST","TEXT_GET_SUBSTRING_END_FROM_START":"TEXT_GET_SUBSTRING_END_FROM_START","TEXT_GET_SUBSTRING_END_FROM_END":"TEXT_GET_SUBSTRING_END_FROM_END","TEXT_GET_SUBSTRING_END_LAST":"TEXT_GET_SUBSTRING_END_LAST","TEXT_GET_SUBSTRING_TAIL":"TEXT_GET_SUBSTRING_TAIL","TEXT_CHANGECASE_HELPURL":"TEXT_CHANGECASE_HELPURL","TEXT_CHANGECASE_TOOLTIP":"TEXT_CHANGECASE_TOOLTIP","TEXT_CHANGECASE_OPERATOR_UPPERCASE":"TEXT_CHANGECASE_OPERATOR_UPPERCASE","TEXT_CHANGECASE_OPERATOR_LOWERCASE":"TEXT_CHANGECASE_OPERATOR_LOWERCASE","TEXT_CHANGECASE_OPERATOR_TITLECASE":"TEXT_CHANGECASE_OPERATOR_TITLECASE","TEXT_TRIM_HELPURL":"TEXT_TRIM_HELPURL","TEXT_TRIM_TOOLTIP":"TEXT_TRIM_TOOLTIP","TEXT_TRIM_OPERATOR_BOTH":"TEXT_TRIM_OPERATOR_BOTH","TEXT_TRIM_OPERATOR_LEFT":"TEXT_TRIM_OPERATOR_LEFT","TEXT_TRIM_OPERATOR_RIGHT":"TEXT_TRIM_OPERATOR_RIGHT","TEXT_PRINT_HELPURL":"TEXT_PRINT_HELPURL","TEXT_PRINT_TITLE":"TEXT_PRINT_TITLE","TEXT_PRINT_TOOLTIP":"TEXT_PRINT_TOOLTIP","TEXT_PROMPT_HELPURL":"TEXT_PROMPT_HELPURL","TEXT_PROMPT_TYPE_TEXT":"TEXT_PROMPT_TYPE_TEXT","TEXT_PROMPT_TYPE_NUMBER":"TEXT_PROMPT_TYPE_NUMBER","TEXT_PROMPT_TOOLTIP_NUMBER":"TEXT_PROMPT_TOOLTIP_NUMBER","TEXT_PROMPT_TOOLTIP_TEXT":"TEXT_PROMPT_TOOLTIP_TEXT","TEXT_COUNT_MESSAGE0":"TEXT_COUNT_MESSAGE0","TEXT_COUNT_HELPURL":"TEXT_COUNT_HELPURL","TEXT_COUNT_TOOLTIP":"TEXT_COUNT_TOOLTIP","TEXT_REPLACE_MESSAGE0":"TEXT_REPLACE_MESSAGE0","TEXT_REPLACE_HELPURL":"TEXT_REPLACE_HELPURL","TEXT_REPLACE_TOOLTIP":"TEXT_REPLACE_TOOLTIP","TEXT_REVERSE_MESSAGE0":"TEXT_REVERSE_MESSAGE0","TEXT_REVERSE_HELPURL":"TEXT_REVERSE_HELPURL","TEXT_REVERSE_TOOLTIP":"TEXT_REVERSE_TOOLTIP","LISTS_CREATE_EMPTY_HELPURL":"LISTS_CREATE_EMPTY_HELPURL","LISTS_CREATE_EMPTY_TITLE":"LISTS_CREATE_EMPTY_TITLE","LISTS_CREATE_EMPTY_TOOLTIP":"LISTS_CREATE_EMPTY_TOOLTIP","LISTS_CREATE_WITH_HELPURL":"LISTS_CREATE_WITH_HELPURL","LISTS_CREATE_WITH_TOOLTIP":"LISTS_CREATE_WITH_TOOLTIP","LISTS_CREATE_WITH_INPUT_WITH":"LISTS_CREATE_WITH_INPUT_WITH","LISTS_CREATE_WITH_CONTAINER_TITLE_ADD":"LISTS_CREATE_WITH_CONTAINER_TITLE_ADD","LISTS_CREATE_WITH_CONTAINER_TOOLTIP":"LISTS_CREATE_WITH_CONTAINER_TOOLTIP","LISTS_CREATE_WITH_ITEM_TOOLTIP":"LISTS_CREATE_WITH_ITEM_TOOLTIP","LISTS_REPEAT_HELPURL":"LISTS_REPEAT_HELPURL","LISTS_REPEAT_TOOLTIP":"LISTS_REPEAT_TOOLTIP","LISTS_REPEAT_TITLE":"LISTS_REPEAT_TITLE","LISTS_LENGTH_HELPURL":"LISTS_LENGTH_HELPURL","LISTS_LENGTH_TITLE":"LISTS_LENGTH_TITLE","LISTS_LENGTH_TOOLTIP":"LISTS_LENGTH_TOOLTIP","LISTS_ISEMPTY_HELPURL":"LISTS_ISEMPTY_HELPURL","LISTS_ISEMPTY_TITLE":"LISTS_ISEMPTY_TITLE","LISTS_ISEMPTY_TOOLTIP":"LISTS_ISEMPTY_TOOLTIP","LISTS_INLIST":"LISTS_INLIST","LISTS_INDEX_OF_HELPURL":"LISTS_INDEX_OF_HELPURL","LISTS_INDEX_OF_FIRST":"LISTS_INDEX_OF_FIRST","LISTS_INDEX_OF_LAST":"LISTS_INDEX_OF_LAST","LISTS_INDEX_OF_TOOLTIP":"LISTS_INDEX_OF_TOOLTIP","LISTS_GET_INDEX_GET":"LISTS_GET_INDEX_GET","LISTS_GET_INDEX_GET_REMOVE":"LISTS_GET_INDEX_GET_REMOVE","LISTS_GET_INDEX_REMOVE":"LISTS_GET_INDEX_REMOVE","LISTS_GET_INDEX_FROM_START":"LISTS_GET_INDEX_FROM_START","LISTS_GET_INDEX_FROM_END":"LISTS_GET_INDEX_FROM_END","LISTS_GET_INDEX_FIRST":"LISTS_GET_INDEX_FIRST","LISTS_GET_INDEX_LAST":"LISTS_GET_INDEX_LAST","LISTS_GET_INDEX_RANDOM":"LISTS_GET_INDEX_RANDOM","LISTS_GET_INDEX_TAIL":"LISTS_GET_INDEX_TAIL","LISTS_INDEX_FROM_START_TOOLTIP":"LISTS_INDEX_FROM_START_TOOLTIP","LISTS_INDEX_FROM_END_TOOLTIP":"LISTS_INDEX_FROM_END_TOOLTIP","LISTS_GET_INDEX_TOOLTIP_GET_FROM":"LISTS_GET_INDEX_TOOLTIP_GET_FROM","LISTS_GET_INDEX_TOOLTIP_GET_FIRST":"LISTS_GET_INDEX_TOOLTIP_GET_FIRST","LISTS_GET_INDEX_TOOLTIP_GET_LAST":"LISTS_GET_INDEX_TOOLTIP_GET_LAST","LISTS_GET_INDEX_TOOLTIP_GET_RANDOM":"LISTS_GET_INDEX_TOOLTIP_GET_RANDOM","LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM":"LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM","LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST":"LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST","LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST":"LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST","LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM":"LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM","LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM":"LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM","LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST":"LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST","LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST":"LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST","LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM":"LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM","LISTS_SET_INDEX_HELPURL":"LISTS_SET_INDEX_HELPURL","LISTS_SET_INDEX_SET":"LISTS_SET_INDEX_SET","LISTS_SET_INDEX_INSERT":"LISTS_SET_INDEX_INSERT","LISTS_SET_INDEX_INPUT_TO":"LISTS_SET_INDEX_INPUT_TO","LISTS_SET_INDEX_TOOLTIP_SET_FROM":"LISTS_SET_INDEX_TOOLTIP_SET_FROM","LISTS_SET_INDEX_TOOLTIP_SET_FIRST":"LISTS_SET_INDEX_TOOLTIP_SET_FIRST","LISTS_SET_INDEX_TOOLTIP_SET_LAST":"LISTS_SET_INDEX_TOOLTIP_SET_LAST","LISTS_SET_INDEX_TOOLTIP_SET_RANDOM":"LISTS_SET_INDEX_TOOLTIP_SET_RANDOM","LISTS_SET_INDEX_TOOLTIP_INSERT_FROM":"LISTS_SET_INDEX_TOOLTIP_INSERT_FROM","LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST":"LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST","LISTS_SET_INDEX_TOOLTIP_INSERT_LAST":"LISTS_SET_INDEX_TOOLTIP_INSERT_LAST","LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM":"LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM","LISTS_GET_SUBLIST_HELPURL":"LISTS_GET_SUBLIST_HELPURL","LISTS_GET_SUBLIST_START_FROM_START":"LISTS_GET_SUBLIST_START_FROM_START","LISTS_GET_SUBLIST_START_FROM_END":"LISTS_GET_SUBLIST_START_FROM_END","LISTS_GET_SUBLIST_START_FIRST":"LISTS_GET_SUBLIST_START_FIRST","LISTS_GET_SUBLIST_END_FROM_START":"LISTS_GET_SUBLIST_END_FROM_START","LISTS_GET_SUBLIST_END_FROM_END":"LISTS_GET_SUBLIST_END_FROM_END","LISTS_GET_SUBLIST_END_LAST":"LISTS_GET_SUBLIST_END_LAST","LISTS_GET_SUBLIST_TAIL":"LISTS_GET_SUBLIST_TAIL","LISTS_GET_SUBLIST_TOOLTIP":"LISTS_GET_SUBLIST_TOOLTIP","LISTS_SORT_HELPURL":"LISTS_SORT_HELPURL","LISTS_SORT_TITLE":"LISTS_SORT_TITLE","LISTS_SORT_TOOLTIP":"LISTS_SORT_TOOLTIP","LISTS_SORT_ORDER_ASCENDING":"LISTS_SORT_ORDER_ASCENDING","LISTS_SORT_ORDER_DESCENDING":"LISTS_SORT_ORDER_DESCENDING","LISTS_SORT_TYPE_NUMERIC":"LISTS_SORT_TYPE_NUMERIC","LISTS_SORT_TYPE_TEXT":"LISTS_SORT_TYPE_TEXT","LISTS_SORT_TYPE_IGNORECASE":"LISTS_SORT_TYPE_IGNORECASE","LISTS_SPLIT_HELPURL":"LISTS_SPLIT_HELPURL","LISTS_SPLIT_LIST_FROM_TEXT":"LISTS_SPLIT_LIST_FROM_TEXT","LISTS_SPLIT_TEXT_FROM_LIST":"LISTS_SPLIT_TEXT_FROM_LIST","LISTS_SPLIT_WITH_DELIMITER":"LISTS_SPLIT_WITH_DELIMITER","LISTS_SPLIT_TOOLTIP_SPLIT":"LISTS_SPLIT_TOOLTIP_SPLIT","LISTS_SPLIT_TOOLTIP_JOIN":"LISTS_SPLIT_TOOLTIP_JOIN","LISTS_REVERSE_HELPURL":"LISTS_REVERSE_HELPURL","LISTS_REVERSE_MESSAGE0":"LISTS_REVERSE_MESSAGE0","LISTS_REVERSE_TOOLTIP":"LISTS_REVERSE_TOOLTIP","ORDINAL_NUMBER_SUFFIX":"ORDINAL_NUMBER_SUFFIX","VARIABLES_GET_HELPURL":"VARIABLES_GET_HELPURL","VARIABLES_GET_TOOLTIP":"VARIABLES_GET_TOOLTIP","VARIABLES_GET_CREATE_SET":"VARIABLES_GET_CREATE_SET","VARIABLES_SET_HELPURL":"VARIABLES_SET_HELPURL","VARIABLES_SET":"VARIABLES_SET","VARIABLES_SET_TOOLTIP":"VARIABLES_SET_TOOLTIP","VARIABLES_SET_CREATE_GET":"VARIABLES_SET_CREATE_GET","PROCEDURES_DEFNORETURN_HELPURL":"PROCEDURES_DEFNORETURN_HELPURL","PROCEDURES_DEFNORETURN_TITLE":"PROCEDURES_DEFNORETURN_TITLE","PROCEDURES_DEFNORETURN_PROCEDURE":"PROCEDURES_DEFNORETURN_PROCEDURE","PROCEDURES_BEFORE_PARAMS":"PROCEDURES_BEFORE_PARAMS","PROCEDURES_CALL_BEFORE_PARAMS":"PROCEDURES_CALL_BEFORE_PARAMS","PROCEDURES_DEFNORETURN_DO":"PROCEDURES_DEFNORETURN_DO","PROCEDURES_DEFNORETURN_TOOLTIP":"PROCEDURES_DEFNORETURN_TOOLTIP","PROCEDURES_DEFNORETURN_COMMENT":"PROCEDURES_DEFNORETURN_COMMENT","PROCEDURES_DEFRETURN_HELPURL":"PROCEDURES_DEFRETURN_HELPURL","PROCEDURES_DEFRETURN_RETURN":"PROCEDURES_DEFRETURN_RETURN","PROCEDURES_DEFRETURN_TOOLTIP":"PROCEDURES_DEFRETURN_TOOLTIP","PROCEDURES_ALLOW_STATEMENTS":"PROCEDURES_ALLOW_STATEMENTS","PROCEDURES_DEF_DUPLICATE_WARNING":"PROCEDURES_DEF_DUPLICATE_WARNING","PROCEDURES_CALLNORETURN_HELPURL":"PROCEDURES_CALLNORETURN_HELPURL","PROCEDURES_CALLNORETURN_TOOLTIP":"PROCEDURES_CALLNORETURN_TOOLTIP","PROCEDURES_CALLRETURN_HELPURL":"PROCEDURES_CALLRETURN_HELPURL","PROCEDURES_CALLRETURN_TOOLTIP":"PROCEDURES_CALLRETURN_TOOLTIP","PROCEDURES_MUTATORCONTAINER_TITLE":"PROCEDURES_MUTATORCONTAINER_TITLE","PROCEDURES_MUTATORCONTAINER_TOOLTIP":"PROCEDURES_MUTATORCONTAINER_TOOLTIP","PROCEDURES_MUTATORARG_TITLE":"PROCEDURES_MUTATORARG_TITLE","PROCEDURES_MUTATORARG_TOOLTIP":"PROCEDURES_MUTATORARG_TOOLTIP","PROCEDURES_HIGHLIGHT_DEF":"PROCEDURES_HIGHLIGHT_DEF","PROCEDURES_CREATE_DO":"PROCEDURES_CREATE_DO","PROCEDURES_IFRETURN_TOOLTIP":"PROCEDURES_IFRETURN_TOOLTIP","PROCEDURES_IFRETURN_HELPURL":"PROCEDURES_IFRETURN_HELPURL","PROCEDURES_IFRETURN_WARNING":"PROCEDURES_IFRETURN_WARNING","WORKSPACE_COMMENT_DEFAULT_TEXT":"WORKSPACE_COMMENT_DEFAULT_TEXT","WORKSPACE_ARIA_LABEL":"WORKSPACE_ARIA_LABEL","COLLAPSED_WARNINGS_WARNING":"COLLAPSED_WARNINGS_WARNING"}'),Gg=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function jg(t=null){return e=>e.lift(new Hg(t))}class Hg{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new zg(t,this.defaultValue))}}class zg extends Fu.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Wg(t=qg){return e=>e.lift(new Zg(t))}class Zg{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Yg(t,this.errorFactory))}}class Yg extends Fu.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(nx){t=nx}this.destination.error(t)}}}function qg(){return new Gg}var Jg=n(3392);function $g(t,e){const n=arguments.length>=2;return i=>i.pipe(t?(0,ia.h)((e,n)=>t(e,n,i)):Jg.y,(0,vp.q)(1),n?jg(e):Wg(()=>new Gg))}const Kg="2384652-prod",Xg="https://kingston-prod-wgw-envoy.ops.dice.se",Qg="prod_default-prod_default-kingston-common",tm=!0,em="https://accounts.ea.com",nm="https://accounts.ea.com",im="https://nds-network-nav.ea.com",om="KINGSTON_COMP_APP",rm="https://portal.battlefield.com",sm="https://www.ea.com",am="games/battlefield/battlefield-2042/game-overview/modes/battlefield-portal",lm="https://pin-river.data.ea.com/pinEvents",cm="prod",um="http://eaassets-a.akamaihd.net/battlelog/battlebinary",hm=(0,Vp.PH)("[SESSION] FETCH_SESSION",(0,Vp.Ky)()),dm=(0,Vp.PH)("[SESSION] FETCH_SESSION_SUCCESS",(0,Vp.Ky)()),pm=(0,Vp.PH)("[SESSION] FETCH_SESSION_FAILURE"),gm=(0,Vp.PH)("[SESSION] SET_SESSION",(0,Vp.Ky)()),mm=(0,Vp.PH)("[SESSION] RESET_SESSION"),fm=(0,Vp.PH)("[SESSION] RESET_SESSION_COMPLETED"),_m=(0,Vp.PH)("[SESSION] SET_ID",(0,Vp.Ky)()),bm=(0,Vp.PH)("[SESSION] SET_PLAYER",(0,Vp.Ky)());var vm=n(3418),ym=n.n(vm);const Cm="true"===localStorage.getItem("logger"),Om={};let Tm=0;const Em={};class Sm{constructor(...t){this.context=t,Cm?(this.log=wm("log",t),this.info=wm("info",t),this.warn=wm("warn",t),this.error=wm("error",t),this.debug=wm("debug",t)):(this.log=()=>{},this.info=()=>{},this.warn=()=>{},this.error=()=>{},this.debug=()=>{})}static get default(){return Sm.get()}static get(...t){const e=t.join("_");return Om[e]||(Om[e]=new Sm(...t))}extend(...t){const e=[...this.context,...t];return Sm.get(...e)}static get log(){return Sm.default.log}static get info(){return Sm.default.info}static get warn(){return Sm.default.warn}static get error(){return Sm.default.error}static get debug(){return Sm.default.debug}}function wm(t,e){const n=[];if(e.length>0){const t="\u2192",i=20;let o="%c"+e.join(":");o+=Array(Math.max(i+2-o.length,2)).join(" ")+t,Em[e[0]]||(Em[e[0]]=(Tm+=.618033988749895,Tm%=1,360*Tm)),n.push(o,"color: hsl("+Em[e[0]]+",99%,40%); font-weight: bold")}return function(t){switch(t){case"log":return console.log;case"info":return console.info;case"warn":return console.warn;case"error":return console.error;case"debug":return console.debug||console.log;default:throw Error("Unknown Logger emitter type: "+t)}}(t).bind(console,...n)}const Mm=Sm.get("session");function xm(){var t;return null!==(t=ym().get("sessionId"))&&void 0!==t?t:""}function Pm(){ym().remove("sessionId"),ym().remove("player")}const km="session",Im=(xm(),{sessionId:"",hasSession:!1,player:void 0,fetchStatus:"pristine"}),Am=(0,Vp.Lq)(Im,(0,Vp.on)(gm,(t,{sessionId:e,player:n})=>Object.assign(Object.assign({},t),{sessionId:e,hasSession:!0,player:n})),(0,Vp.on)(dm,t=>Object.assign(Object.assign({},t),{fetchStatus:"success"})),(0,Vp.on)(pm,t=>Object.assign(Object.assign({},t),{fetchStatus:"error"})),(0,Vp.on)(mm,t=>Object.assign(Object.assign({},t),{sessionId:"",player:void 0,hasSession:!1,fetchStatus:"pristine"})),(0,Vp.on)(_m,(t,{sessionId:e})=>Object.assign(Object.assign({},t),{sessionId:e,hasSession:!0})),(0,Vp.on)(bm,(t,{player:e})=>Object.assign(Object.assign({},t),{player:e}))),Rm=(t=Im,e)=>Am(t,e),Dm=(0,Vp.ZF)(km),Lm=(0,Vp.P1)(Dm,t=>t.sessionId),Nm=(0,Vp.P1)(Dm,t=>t.player),Bm=(0,Vp.P1)(Dm,t=>t.hasSession),Fm=((0,Vp.P1)(Dm,t=>t.fetchStatus),(0,Vp.P1)(Lm,t=>new Nu({"x-gateway-session-id":t,"x-dice-tenancy":Qg})));function Um(t,e){let n={};t.forEach((e,i)=>{const[o,r]=decodeURIComponent(e).split("?");r&&new URLSearchParams(r).forEach((t,e)=>n[e]=t),t[i]=o}),n=Object.assign(Object.assign({},n),null==e?void 0:e.queryParams);let i=t.join("/");(null==e?void 0:e.endWithSlash)&&(i+="/"),i=i.replace(/([^:]\/)\/+/g,"$1");const o=Object.keys(n).sort((t,e)=>t.localeCompare(e));if(o.length>0){const t=new URLSearchParams;o.forEach(e=>{var i;return t.append(e,null!==(i=n[e])&&void 0!==i?i:"")}),i+="?"+t.toString()}return i}const Vm="en-US",Gm={"ar-sa":"ar-SA","de-de":"de-DE","en-us":"en-US","es-es":"es-ES","es-mx":"es-MX","fr-fr":"fr-FR","it-it":"it-IT","ja-jp":"ja-JP","ko-kr":"ko-KR","pl-pl":"pl-PL","pt-br":"pt-BR","ru-ru":"ru-RU","zh-cn":"zh-CN","zh-tw":"zh-TW"};function jm(t){var e;return t=t||document.location.pathname,Gm[null===(e=t.split("/")[1])||void 0===e?void 0:e.toLowerCase()]||""}function Hm(){return"ar-sa"===jm().toLowerCase()}function zm(t){const e=jm().toLowerCase();return(t?t+", ":"")+(Wm[e]?Wm[e]+", ":"")+"sans-serif"}const Wm={"ar-sa":"BFText-Regular-AR","de-de":void 0,"en-us":void 0,"es-es":void 0,"es-mx":void 0,"fr-fr":void 0,"it-it":void 0,"ja-jp":"BFText-Regular-JP","ko-kr":"BFText-Regular-KR","pl-pl":void 0,"pt-br":void 0,"ru-ru":void 0,"zh-cn":"BFText-Regular-SC","zh-tw":"BFText-Regular-TC"},Zm=Sm.get("app","init");function Ym(){const t=jm()||Vm;let e=rm;const n=new URLSearchParams(window.location.search).get("redirect");e=Um(n?[rm,n]:[document.referrer.startsWith(rm)?document.referrer:rm],{endWithSlash:!0});const i=Um([nm,"/connect/auth"],{queryParams:{response_type:"code",client_id:om,redirect_uri:e,locale:t.replace("-","_")}});window.location.replace(i)}function qm(){const t=jm()||Vm,e=document.referrer.startsWith(rm),n=encodeURIComponent(e?document.referrer:rm),i=`${nm}/connect/auth?response_type=code&client_id=${om}&redirect_uri=${n}&locale=${t.replace("-","_")}`;window.location.replace(i)}function Jm(t,e){const n=document.referrer.startsWith(rm)?document.referrer:rm,i=Um([nm,"/connect/logout"],{queryParams:{client_id:om,redirect_uri:Um([n],{endWithSlash:!0})}});t.dispatch(mm()),e.pipe(vg(fm)).pipe($g()).subscribe({next:()=>{window.location.replace(i)}})}function $m(t,e,n,i,o){o.use(o.defaultLang);const r=document.location.pathname;return()=>{const s=new URLSearchParams(window.location.search),a=s.get("code");return new Promise((l,c)=>{if(r.includes("/login"))return Ym();if(r.includes("/register"))return qm();if(r.includes("/logout"))return Jm(t,e);const u=setTimeout(()=>{Zm.error("[App Init] Timed out! Forcing resolve."),l(!0)},1e4),h=t=>{t?i.translations$.pipe($g()).subscribe(t=>{var e,n;if(t){o.setTranslation(o.currentLang,t,!0);const i=null!==(n=null===(e=o.translations)||void 0===e?void 0:e[o.currentLang])&&void 0!==n?n:{};Fg.setLocale(Object.assign(Object.assign({},Vg),i))}clearTimeout(u),Zm.info("[App Init] Resolved with translations!"),l(!0)}):(clearTimeout(u),Zm.info("[App Init] Resolved without translations!"),l(!0))},d=()=>{t.select(Lm).pipe((0,ia.h)(t=>!!t),$g()).subscribe(()=>{h(!0)})};if(a){Zm.debug("[App Init] Received Auth Code, performing gateway auth.");const e=new URL(window.location.href);e.searchParams.delete("code"),window.history.replaceState(null,"",e.toString());const n={};s.forEach((t,e)=>{"code"!==e&&(n[e]=t)});const i=Um([rm,r],{endWithSlash:!0,queryParams:n});return t.dispatch(hm({authCode:a,redirectUri:i})),void d()}const p=xm(),g=function(){let t;try{const e=ym().get("player");t=e?JSON.parse(e):void 0}catch(nx){t=void 0,Mm.error(nx)}return t}();p&&g&&(Zm.debug("[App Init] Session cookies exist. Applying session."),t.dispatch(gm({player:g,sessionId:p})));const m=!(a||r.includes("/login")||r.includes("/register")||r.includes("/logout"));if(!tm&&m&&Zm.debug("[App Init] Developer: SSO Login XHR call would have happened here if it was turned on."),!tm||!m)return Zm.debug("[App Init] Not performing SSO auth."),h(!(!p||!g));Zm.debug("[App Init] SSO auth enabled. Trying to sign in automatically."),n.get(Um([em,"/connect/auth"],{queryParams:{response_type:"code",client_id:om,prompt:"none",redirect_uri:"nucleus:rest"}}),{withCredentials:!0}).pipe($g()).subscribe({next:e=>{e.code?(Zm.debug("[App Init] Received auth code for SSO. Fetching session."),t.dispatch(hm({authCode:e.code,redirectUri:"nucleus:rest"})),d()):(Zm.debug("[App Init] Did not receive auth code for SSO."),h(!(!p||!g)))},error:t=>{Zm.error("[App Init] Calling Nucleus backend failed. CORS whitelisting problems?",t),h(!(!p||!g))}})})}}let Km=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[]]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const Xm=13,Qm=32;
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function tf(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var ef=n(7701);
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function nf(t){return null!=t&&"false"!=`${t}`}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function of(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(t)?Number(t):e}function rf(t){return Array.isArray(t)?t:[t]}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function sf(t){return null==t?"":"string"==typeof t?t:`${t}px`}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function af(t){return t instanceof i.SBq?t.nativeElement:t}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
let lf;try{lf="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch($o){lf=!1}let cf,uf=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?$(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!lf)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.Lbi))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(i.Lbi))},token:t,providedIn:"root"}),t})(),hf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})();const df=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function pf(){if(cf)return cf;if("object"!=typeof document||!document)return cf=new Set(df),cf;let t=document.createElement("input");return cf=new Set(df.filter(e=>(t.setAttribute("type",e),t.type===e))),cf}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */let gf,mf,ff;function _f(t){return function(){if(null==gf&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>gf=!0}))}finally{gf=gf||!1}return gf}()?t:!!t.capture}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function bf(){if(null==mf){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return mf=!1,mf;if("scrollBehavior"in document.documentElement.style)mf=!0;else{const t=Element.prototype.scrollTo;mf=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return mf}function vf(){let t="undefined"!=typeof document&&document?document.activeElement:null;for(;t&&t.shadowRoot;){const e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
let yf=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Cf=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=af(t);return new vr.y(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new jp.xQ,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(yf))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(yf))},token:t,providedIn:"root"}),t})(),Of=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new i.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=nf(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=of(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe((0,ef.b)(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Cf),i.Y36(i.SBq),i.Y36(i.R0b))},t.\u0275dir=i.lG2({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),Tf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[yf]}),t})();function Ef(t,e){return(t.getAttribute(e)||"").match(/\S+/g)||[]}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const Sf="cdk-describedby-message-container",wf="cdk-describedby-host";let Mf=0;const xf=new Map;let Pf=null,kf=(()=>{class t{constructor(t){this._document=t}describe(t,e,n){if(!this._canBeDescribed(t,e))return;const i=If(e,n);"string"!=typeof e?(Af(e),xf.set(i,{messageElement:e,referenceCount:0})):xf.has(i)||this._createMessageElement(e,n),this._isElementDescribedByMessage(t,i)||this._addMessageReference(t,i)}removeDescription(t,e,n){if(!e||!this._isElementNode(t))return;const i=If(e,n);if(this._isElementDescribedByMessage(t,i)&&this._removeMessageReference(t,i),"string"==typeof e){const t=xf.get(i);t&&0===t.referenceCount&&this._deleteMessageElement(i)}Pf&&0===Pf.childNodes.length&&this._deleteMessagesContainer()}ngOnDestroy(){const t=this._document.querySelectorAll("[cdk-describedby-host]");for(let e=0;e<t.length;e++)this._removeCdkDescribedByReferenceIds(t[e]),t[e].removeAttribute(wf);Pf&&this._deleteMessagesContainer(),xf.clear()}_createMessageElement(t,e){const n=this._document.createElement("div");Af(n),n.textContent=t,e&&n.setAttribute("role",e),this._createMessagesContainer(),Pf.appendChild(n),xf.set(If(t,e),{messageElement:n,referenceCount:0})}_deleteMessageElement(t){const e=xf.get(t),n=e&&e.messageElement;Pf&&n&&Pf.removeChild(n),xf.delete(t)}_createMessagesContainer(){if(!Pf){const t=this._document.getElementById(Sf);t&&t.parentNode&&t.parentNode.removeChild(t),Pf=this._document.createElement("div"),Pf.id=Sf,Pf.style.visibility="hidden",Pf.classList.add("cdk-visually-hidden"),this._document.body.appendChild(Pf)}}_deleteMessagesContainer(){Pf&&Pf.parentNode&&(Pf.parentNode.removeChild(Pf),Pf=null)}_removeCdkDescribedByReferenceIds(t){const e=Ef(t,"aria-describedby").filter(t=>0!=t.indexOf("cdk-describedby-message"));t.setAttribute("aria-describedby",e.join(" "))}_addMessageReference(t,e){const n=xf.get(e);!function(t,e,n){const i=Ef(t,e);i.some(t=>t.trim()==n.trim())||(i.push(n.trim()),t.setAttribute(e,i.join(" ")))}(t,"aria-describedby",n.messageElement.id),t.setAttribute(wf,""),n.referenceCount++}_removeMessageReference(t,e){const n=xf.get(e);n.referenceCount--,function(t,e,n){const i=Ef(t,e).filter(t=>t!=n.trim());i.length?t.setAttribute(e,i.join(" ")):t.removeAttribute(e)}(t,"aria-describedby",n.messageElement.id),t.removeAttribute(wf)}_isElementDescribedByMessage(t,e){const n=Ef(t,"aria-describedby"),i=xf.get(e),o=i&&i.messageElement.id;return!!o&&-1!=n.indexOf(o)}_canBeDescribed(t,e){if(!this._isElementNode(t))return!1;if(e&&"object"==typeof e)return!0;const n=null==e?"":`${e}`.trim(),i=t.getAttribute("aria-label");return!(!n||i&&i.trim()===n)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(s))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(s))},token:t,providedIn:"root"}),t})();function If(t,e){return"string"==typeof t?`${e||""}/${t}`:t}function Af(t){t.id||(t.id="cdk-describedby-message-"+Mf++)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class Rf{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new jp.xQ,this._typeaheadSubscription=Jp.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new jp.xQ,this.change=new jp.xQ,t instanceof i.n_E&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Gu(t=>this._pressedLetters.push(t)),(0,ef.b)(t),(0,ia.h)(()=>this._pressedLetters.length>0),(0,Cr.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const i=(this._activeItemIndex+n)%e.length,o=e[i];if(!this._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(i);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break}return;default:return void((n||tf(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),i=e[n];this._activeItem=null==i?null:i,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const i=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof i.n_E?this._items.toArray():this._items}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class Df extends Rf{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class Lf extends Rf{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */let Nf=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch($o){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */if(e){if(-1===Ff(e))return!1;if(!this.isVisible(e))return!1}let i=t.nodeName.toLowerCase(),o=Ff(t);return t.hasAttribute("contenteditable")?-1!==o:"iframe"!==i&&"object"!==i&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==o:"video"===i?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||Bf(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(uf))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(uf))},token:t,providedIn:"root"}),t})();function Bf(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function Ff(t){if(!Bf(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Uf{constructor(t,e,n,i,o=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]):e[n].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const n=this._getFirstTabbableElement(e);return null==n||n.focus(t),!!n}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe((0,vp.q)(1)).subscribe(t)}}let Vf=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new Uf(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Nf),i.LFG(i.R0b),i.LFG(s))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(Nf),i.LFG(i.R0b),i.LFG(s))},token:t,providedIn:"root"}),t})();"undefined"!=typeof Element&&Element;
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const Gf=new i.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),jf=new i.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Hf=(()=>{class t{constructor(t,e,n,i){this._ngZone=e,this._defaultOptions=i,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let i,o;return 1===e.length&&"number"==typeof e[0]?o=e[0]:[i,o]=e,this.clear(),clearTimeout(this._previousTimeout),i||(i=n&&n.politeness?n.politeness:"polite"),null==o&&n&&(o=n.duration),this._liveElement.setAttribute("aria-live",i),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof o&&(this._previousTimeout=setTimeout(()=>this.clear(),o))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t="cdk-live-announcer-element",e=this._document.getElementsByClassName(t),n=this._document.createElement("div");for(let i=0;i<e.length;i++)e[i].parentNode.removeChild(e[i]);return n.classList.add(t),n.classList.add("cdk-visually-hidden"),n.setAttribute("aria-atomic","true"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),n}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Gf,8),i.LFG(i.R0b),i.LFG(s),i.LFG(jf,8))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(Gf,8),i.LFG(i.R0b),i.LFG(s),i.LFG(jf,8))},token:t,providedIn:"root"}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function zf(t){return 0===t.buttons}function Wf(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const Zf=new i.OlP("cdk-focus-monitor-default-options"),Yf=_f({passive:!0,capture:!0});let qf=(()=>{class t{constructor(t,e,n,i){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=zf(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{Wf(t)?this._lastTouchTarget||this._setOriginForCurrentEventQueue("keyboard"):(null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=Jf(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650))},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=Jf(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let i=e;i;i=i.parentElement)n.call(this,t,i)},this._document=n,this._detectionMode=(null==i?void 0:i.detectionMode)||0}monitor(t,e=!1){const n=af(t);if(!this._platform.isBrowser||1!==n.nodeType)return(0,ea.of)(null);const i=function(t){if(function(){if(null==ff){const t="undefined"!=typeof document?document.head:null;ff=!(!t||!t.createShadowRoot&&!t.attachShadow)}return ff}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(n)||this._getDocument(),o=this._elementInfo.get(n);if(o)return e&&(o.checkChildren=!0),o.subject;const r={checkChildren:e,subject:new jp.xQ,rootNode:i};return this._elementInfo.set(n,r),this._registerGlobalListeners(r),r.subject}stopMonitoring(t){const e=af(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const i=af(t);i===this._getDocument().activeElement?this._getClosestElementsInfo(i).forEach(([t,n])=>this._originChanged(t,e,n)):(this._setOriginForCurrentEventQueue(e),"function"==typeof i.focus&&i.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=Jf(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);n&&(n.checkChildren||e===Jf(t))&&this._originChanged(e,this._getFocusOrigin(t),n)}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,Yf),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,Yf)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,Yf),t.addEventListener("mousedown",this._documentMousedownListener,Yf),t.addEventListener("touchstart",this._documentTouchstartListener,Yf),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Yf),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Yf),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,Yf),t.removeEventListener("mousedown",this._documentMousedownListener,Yf),t.removeEventListener("touchstart",this._documentTouchstartListener,Yf),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}_getClosestElementsInfo(t){const e=[];return this._elementInfo.forEach((n,i)=>{(i===t||n.checkChildren&&i.contains(t))&&e.push([i,n])}),e}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.R0b),i.LFG(uf),i.LFG(s,8),i.LFG(Zf,8))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(i.R0b),i.LFG(uf),i.LFG(s,8),i.LFG(Zf,8))},token:t,providedIn:"root"}),t})();function Jf(t){return t.composedPath?t.composedPath()[0]:t.target}let $f=(()=>{class t{constructor(t,e){this._elementRef=t,this._focusMonitor=e,this.cdkFocusChange=new i.vpe}ngAfterViewInit(){const t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(t=>this.cdkFocusChange.emit(t))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(qf))},t.\u0275dir=i.lG2({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const Kf="cdk-high-contrast-black-on-white",Xf="cdk-high-contrast-white-on-black",Qf="cdk-high-contrast-active";let t_=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,i=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),i){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Qf),t.remove(Kf),t.remove(Xf),this._hasCheckedHighContrastMode=!0;const e=this.getHighContrastMode();1===e?(t.add(Qf),t.add(Kf)):2===e&&(t.add(Qf),t.add(Xf))}}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(uf),i.LFG(s))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(uf),i.LFG(s))},token:t,providedIn:"root"}),t})(),e_=(()=>{class t{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(t_))},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[hf,Tf]]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const n_=new i.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,i.f3M)(s)}});let i_=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new i.vpe,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(n_,8))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(n_,8))},token:t,providedIn:"root"}),t})(),o_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const r_=new i.GfV("12.0.4");
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var s_=n(6163);function a_(...t){const e=t[t.length-1];return(0,s_.K)(e)?(t.pop(),n=>fp(t,n,e)):e=>fp(t,e)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const l_=["*",[["mat-option"],["ng-container"]]],c_=["*","mat-option, ng-container"];function u_(t,e){if(1&t&&i._UZ(0,"mat-pseudo-checkbox",4),2&t){const t=i.oxw();i.Q6J("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function h_(t,e){if(1&t&&(i.TgZ(0,"span",5),i._uU(1),i.qZA()),2&t){const t=i.oxw();i.xp6(1),i.hij("(",t.group.label,")")}}const d_=["*"];let p_=(()=>{class t{}return t.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",t.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",t.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",t.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",t})(),g_=(()=>{class t{}return t.COMPLEX="375ms",t.ENTERING="225ms",t.EXITING="195ms",t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const m_=new i.GfV("12.0.4"),f_=new i.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let __,b_=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return(0,i.X6Q)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&m_.full!==r_.full&&console.warn("The Angular Material version ("+m_.full+") does not match the Angular CDK version ("+r_.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(t_),i.LFG(f_,8),i.LFG(s))},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[o_],o_]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function v_(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=nf(t)}}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function y_(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),e&&this._elementRef.nativeElement.classList.add(`mat-${e}`),this._color=e)}}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function C_(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=nf(t)}}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function O_(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?of(t):this.defaultTabIndex}}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function T_(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new jp.xQ}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */try{__="undefined"!=typeof Intl}catch($o){__=!1}let E_=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t})(),S_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.lG2({type:t,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),t})();function w_(t,e,n){const i=t.nativeElement.classList;n?i.add(e):i.remove(e)}let M_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[b_],b_]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class x_{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const P_={enterDuration:450,exitDuration:400},k_=_f({passive:!0}),I_=["mousedown","touchstart"],A_=["mouseup","mouseleave","touchend","touchcancel"];class R_{constructor(t,e,n,i){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=af(n))}fadeInRipple(t,e,n={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Object.assign(Object.assign({},P_),n.animation);n.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const r=n.radius||function(t,e,n){const i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),o=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+o*o)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(t,e,i),s=t-i.left,a=e-i.top,l=o.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=s-r+"px",c.style.top=a-r+"px",c.style.height=2*r+"px",c.style.width=2*r+"px",null!=n.color&&(c.style.backgroundColor=n.color),c.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(c),window.getComputedStyle(c).getPropertyValue("opacity"),c.style.transform="scale(1)";const u=new x_(this,c,n);return u.state=0,this._activeRipples.add(u),n.persistent||(this._mostRecentTransientRipple=u),this._runTimeoutOutsideZone(()=>{const t=u===this._mostRecentTransientRipple;u.state=1,n.persistent||t&&this._isPointerDown||u.fadeOut()},l),u}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,i=Object.assign(Object.assign({},P_),t.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=af(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(I_))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(A_),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=zf(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Wf(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,k_)})})}_removeTriggerEvents(){this._triggerElement&&(I_.forEach(t=>{this._triggerElement.removeEventListener(t,this,k_)}),this._pointerUpEventsRegistered&&A_.forEach(t=>{this._triggerElement.removeEventListener(t,this,k_)}))}}const D_=new i.OlP("mat-ripple-global-options");let L_=(()=>{class t{constructor(t,e,n,i,o){this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=i||{},this._rippleRenderer=new R_(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.R0b),i.Y36(uf),i.Y36(D_,8),i.Y36(Cu,8))},t.\u0275dir=i.lG2({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&i.ekj("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),N_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[b_,hf],b_]}),t})(),B_=(()=>{class t{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Cu,8))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,e){2&t&&i.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===e.state)("mat-pseudo-checkbox-checked","checked"===e.state)("mat-pseudo-checkbox-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,e){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),t})(),F_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[b_]]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const U_=new i.OlP("MAT_OPTION_PARENT_COMPONENT");
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class V_{}const G_=v_(V_);let j_=0,H_=(()=>{class t extends G_{constructor(t){var e;super(),this._labelId="mat-optgroup-label-"+j_++,this._inert=null!==(e=null==t?void 0:t.inertGroups)&&void 0!==e&&e}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(U_,8))},t.\u0275dir=i.lG2({type:t,inputs:{label:"label"},features:[i.qOj]}),t})();const z_=new i.OlP("MatOptgroup");let W_=(()=>{class t extends H_{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275cmp=i.Xpm({type:t,selectors:[["mat-optgroup"]],hostAttrs:[1,"mat-optgroup"],hostVars:5,hostBindings:function(t,e){2&t&&(i.uIk("role",e._inert?null:"group")("aria-disabled",e._inert?null:e.disabled.toString())("aria-labelledby",e._inert?null:e._labelId),i.ekj("mat-optgroup-disabled",e.disabled))},inputs:{disabled:"disabled"},exportAs:["matOptgroup"],features:[i._Bn([{provide:z_,useExisting:t}]),i.qOj],ngContentSelectors:c_,decls:4,vars:2,consts:[["aria-hidden","true",1,"mat-optgroup-label",3,"id"]],template:function(t,e){1&t&&(i.F$t(l_),i.TgZ(0,"span",0),i._uU(1),i.Hsn(2),i.qZA(),i.Hsn(3,1)),2&t&&(i.Q6J("id",e._labelId),i.xp6(1),i.hij("",e.label," "))},styles:[".mat-optgroup-label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup-label[disabled]{cursor:default}[dir=rtl] .mat-optgroup-label{text-align:right}.mat-optgroup-label .mat-icon{margin-right:16px;vertical-align:middle}.mat-optgroup-label .mat-icon svg{vertical-align:top}[dir=rtl] .mat-optgroup-label .mat-icon{margin-left:16px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})(),Z_=0;
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class Y_{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let q_=(()=>{class t{constructor(t,e,n,o){this._element=t,this._changeDetectorRef=e,this._parent=n,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Z_++,this.onSelectionChange=new i.vpe,this._stateChanges=new jp.xQ}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=nf(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,e){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(e)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){t.keyCode!==Xm&&t.keyCode!==Qm||tf(t)||(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new Y_(this,t))}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.sBO),i.Y36(void 0),i.Y36(H_))},t.\u0275dir=i.lG2({type:t,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),t})(),J_=(()=>{class t extends q_{constructor(t,e,n,i){super(t,e,n,i)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.sBO),i.Y36(U_,8),i.Y36(z_,8))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,e){1&t&&i.NdJ("click",function(){return e._selectViaInteraction()})("keydown",function(t){return e._handleKeydown(t)}),2&t&&(i.Ikx("id",e.id),i.uIk("tabindex",e._getTabIndex())("aria-selected",e._getAriaSelected())("aria-disabled",e.disabled.toString()),i.ekj("mat-selected",e.selected)("mat-option-multiple",e.multiple)("mat-active",e.active)("mat-option-disabled",e.disabled))},exportAs:["matOption"],features:[i.qOj],ngContentSelectors:d_,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,e){1&t&&(i.F$t(),i.YNc(0,u_,1,2,"mat-pseudo-checkbox",0),i.TgZ(1,"span",1),i.Hsn(2),i.qZA(),i.YNc(3,h_,2,1,"span",2),i._UZ(4,"div",3)),2&t&&(i.Q6J("ngIf",e.multiple),i.xp6(3),i.Q6J("ngIf",e.group&&e.group._inert),i.xp6(1),i.Q6J("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disabled||e.disableRipple))},directives:[R,L_,B_],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();function $_(t,e,n){if(n.length){let i=e.toArray(),o=n.toArray(),r=0;for(let e=0;e<t+1;e++)i[e].group&&i[e].group===o[r]&&r++;return r}return 0}let K_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[N_,J,b_,F_]]}),t})(),X_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[b_],b_]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const Q_=["mat-button",""],tb=["*"],eb=".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n",nb=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class ib{constructor(t){this._elementRef=t}}const ob=y_(v_(C_(ib)));let rb=(()=>{class t extends ob{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const i of nb)this._hasHostAttributes(i)&&this._getHostElement().classList.add(i);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,e){t?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(qf),i.Y36(Cu,8))},t.\u0275cmp=i.Xpm({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){if(1&t&&i.Gf(L_,5),2&t){let t;i.iGM(t=i.CRH())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(i.uIk("disabled",e.disabled||null),i.ekj("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[i.qOj],attrs:Q_,ngContentSelectors:tb,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(i.F$t(),i.TgZ(0,"span",0),i.Hsn(1),i.qZA(),i._UZ(2,"span",1),i._UZ(3,"span",2)),2&t&&(i.xp6(2),i.ekj("mat-button-ripple-round",e.isRoundButton||e.isIconButton),i.Q6J("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[L_],styles:[eb],encapsulation:2,changeDetection:0}),t})(),sb=(()=>{class t extends rb{constructor(t,e,n){super(e,t,n)}_haltDisabledEvents(t){this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(qf),i.Y36(i.SBq),i.Y36(Cu,8))},t.\u0275cmp=i.Xpm({type:t,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(t,e){1&t&&i.NdJ("click",function(t){return e._haltDisabledEvents(t)}),2&t&&(i.uIk("tabindex",e.disabled?-1:e.tabIndex||0)("disabled",e.disabled||null)("aria-disabled",e.disabled.toString()),i.ekj("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[i.qOj],attrs:Q_,ngContentSelectors:tb,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(i.F$t(),i.TgZ(0,"span",0),i.Hsn(1),i.qZA(),i._UZ(2,"span",1),i._UZ(3,"span",2)),2&t&&(i.xp6(2),i.ekj("mat-button-ripple-round",e.isRoundButton||e.isIconButton),i.Q6J("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[L_],styles:[eb],encapsulation:2,changeDetection:0}),t})(),ab=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[N_,b_],b_]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class lb{constructor(t=!1,e,n=!0){this._multiple=t,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new jp.xQ,e&&e.length&&(t?e.forEach(t=>this._markSelected(t)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}let cb=(()=>{class t{constructor(){this._listeners=[]}notify(t,e){for(let n of this._listeners)n(t,e)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(e=>t!==e)}}ngOnDestroy(){this._listeners=[]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const ub=["button"],hb=["*"],db=new i.OlP("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),pb=new i.OlP("MatButtonToggleGroup"),gb={provide:Mr,useExisting:(0,i.Gpc)(()=>_b),multi:!0};
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */let mb=0;class fb{constructor(t,e){this.source=t,this.value=e}}let _b=(()=>{class t{constructor(t,e){this._changeDetector=t,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+mb++,this.valueChange=new i.vpe,this.change=new i.vpe,this.appearance=e&&e.appearance?e.appearance:"standard"}get name(){return this._name}set name(t){this._name=t,this._buttonToggles&&this._buttonToggles.forEach(t=>{t.name=this._name,t._markForCheck()})}get vertical(){return this._vertical}set vertical(t){this._vertical=nf(t)}get value(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map(t=>t.value):t[0]?t[0].value:void 0}set value(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)}get selected(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t:t[0]||null}get multiple(){return this._multiple}set multiple(t){this._multiple=nf(t)}get disabled(){return this._disabled}set disabled(t){this._disabled=nf(t),this._buttonToggles&&this._buttonToggles.forEach(t=>t._markForCheck())}ngOnInit(){this._selectionModel=new lb(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(t=>t.checked))}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_emitChangeEvent(){const t=this.selected,e=Array.isArray(t)?t[t.length-1]:t,n=new fb(e,this.value);this._controlValueAccessorChangeFn(n.value),this.change.emit(n)}_syncButtonToggle(t,e,n=!1,i=!1){this.multiple||!this.selected||t.checked||(this.selected.checked=!1),this._selectionModel?e?this._selectionModel.select(t):this._selectionModel.deselect(t):i=!0,i?Promise.resolve().then(()=>this._updateModelValue(n)):this._updateModelValue(n)}_isSelected(t){return this._selectionModel&&this._selectionModel.isSelected(t)}_isPrechecked(t){return void 0!==this._rawValue&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(e=>null!=t.value&&e===t.value):t.value===this._rawValue)}_setSelectionByValue(t){this._rawValue=t,this._buttonToggles&&(this.multiple&&t?(Array.isArray(t),this._clearSelection(),t.forEach(t=>this._selectValue(t))):(this._clearSelection(),this._selectValue(t)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(t=>t.checked=!1)}_selectValue(t){const e=this._buttonToggles.find(e=>null!=e.value&&e.value===t);e&&(e.checked=!0,this._selectionModel.select(e))}_updateModelValue(t){t&&this._emitChangeEvent(),this.valueChange.emit(this.value)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.sBO),i.Y36(db,8))},t.\u0275dir=i.lG2({type:t,selectors:[["mat-button-toggle-group"]],contentQueries:function(t,e,n){if(1&t&&i.Suo(n,yb,5),2&t){let t;i.iGM(t=i.CRH())&&(e._buttonToggles=t)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(t,e){2&t&&(i.uIk("aria-disabled",e.disabled),i.ekj("mat-button-toggle-vertical",e.vertical)("mat-button-toggle-group-appearance-standard","standard"===e.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[i._Bn([gb,{provide:pb,useExisting:t}])]}),t})();class bb{}const vb=C_(bb);let yb=(()=>{class t extends vb{constructor(t,e,n,o,r,s){super(),this._changeDetectorRef=e,this._elementRef=n,this._focusMonitor=o,this._isSingleSelector=!1,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new i.vpe;const a=Number(r);this.tabIndex=a||0===a?a:null,this.buttonToggleGroup=t,this.appearance=s&&s.appearance?s.appearance:"standard"}get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(t){this._appearance=t}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(t){const e=nf(t);e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(t){this._disabled=nf(t)}ngOnInit(){const t=this.buttonToggleGroup;this._isSingleSelector=t&&!t.multiple,this.id=this.id||"mat-button-toggle-"+mb++,this._isSingleSelector&&(this.name=t.name),t&&(t._isPrechecked(this)?this.checked=!0:t._isSelected(this)!==this._checked&&t._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}focus(t){this._buttonElement.nativeElement.focus(t)}_onButtonClick(){const t=!!this._isSingleSelector||!this._checked;t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new fb(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(pb,8),i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(qf),i.$8M("tabindex"),i.Y36(db,8))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mat-button-toggle"]],viewQuery:function(t,e){if(1&t&&i.Gf(ub,5),2&t){let t;i.iGM(t=i.CRH())&&(e._buttonElement=t.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(t,e){1&t&&i.NdJ("focus",function(){return e.focus()}),2&t&&(i.uIk("aria-label",null)("aria-labelledby",null)("id",e.id)("name",null),i.ekj("mat-button-toggle-standalone",!e.buttonToggleGroup)("mat-button-toggle-checked",e.checked)("mat-button-toggle-disabled",e.disabled)("mat-button-toggle-appearance-standard","standard"===e.appearance))},inputs:{disableRipple:"disableRipple",ariaLabelledby:["aria-labelledby","ariaLabelledby"],tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled",id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],value:"value"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[i.qOj],ngContentSelectors:hb,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(t,e){if(1&t&&(i.F$t(),i.TgZ(0,"button",0,1),i.NdJ("click",function(){return e._onButtonClick()}),i.TgZ(2,"span",2),i.Hsn(3),i.qZA(),i.qZA(),i._UZ(4,"span",3),i._UZ(5,"span",4)),2&t){const t=i.MAs(1);i.Q6J("id",e.buttonId)("disabled",e.disabled||null),i.uIk("tabindex",e.disabled?-1:e.tabIndex)("aria-pressed",e.checked)("name",e.name||null)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby),i.xp6(5),i.Q6J("matRippleTrigger",t)("matRippleDisabled",e.disableRipple||e.disabled)}},directives:[L_],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:transparent}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.cdk-high-contrast-active .mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:.5}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}.cdk-high-contrast-active .mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.5}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{border-radius:inherit;pointer-events:none;opacity:0;top:0;left:0;right:0;bottom:0;position:absolute}.mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}\n"],encapsulation:2,changeDetection:0}),t})(),Cb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[b_,N_],b_]}),t})();function Ob(t,e,n,i){return(0,Vu.m)(n)&&(i=n,n=void 0),i?Ob(t,e,n).pipe((0,Cr.U)(t=>(0,yr.k)(t)?i(...t):i(t))):new vr.y(i=>{Tb(t,e,function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},i,n)})}function Tb(t,e,n,i,o){let r;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const i=t;t.addEventListener(e,n,o),r=()=>i.removeEventListener(e,n,o)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const i=t;t.on(e,n),r=()=>i.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const i=t;t.addListener(e,n),r=()=>i.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let r=0,s=t.length;r<s;r++)Tb(t[r],e,n,i,o)}i.add(r)}var Eb=n(8277),Sb=n(1098);let wb=1;const Mb=(()=>Promise.resolve())(),xb={};function Pb(t){return t in xb&&(delete xb[t],!0)}const kb={setImmediate(t){const e=wb++;return xb[e]=!0,Mb.then(()=>Pb(e)&&t()),e},clearImmediate(t){Pb(t)}};class Ib extends Eb.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=kb.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(kb.clearImmediate(e),t.scheduled=void 0)}}class Ab extends Sb.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,o=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<o&&(t=e.shift()));if(this.active=!1,n){for(;++i<o&&(t=e.shift());)t.unsubscribe();throw n}}}const Rb=new Ab(Ib);var Db=n(8720),Lb=n(8569);class Nb{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Bb(t,this.durationSelector))}}class Bb extends ig.Ds{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const i=(0,ig.ft)(n,new ig.IY(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function Fb(t){return!(0,yr.k)(t)&&t-parseFloat(t)+1>=0}function Ub(t=0,e,n){let i=-1;return Fb(e)?i=Number(e)<1?1:Number(e):(0,s_.K)(e)&&(n=e),(0,s_.K)(n)||(n=Lb.P),new vr.y(e=>{const o=Fb(t)?t:+t-n.now();return n.schedule(Vb,o,{index:0,period:i,subscriber:e})})}function Vb(t){const{index:e,period:n,subscriber:i}=t;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}function Gb(t,e=Lb.P){return n=()=>Ub(t,e),function(t){return t.lift(new Nb(n))};var n}var jb=n(5416);let Hb=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new jp.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new vr.y(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(Gb(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,ea.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe((0,ia.h)(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,i)=>{this._scrollableContainsElement(i,t)&&e.push(i)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=af(e),i=t.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ob(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.R0b),i.LFG(uf),i.LFG(s,8))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(i.R0b),i.LFG(uf),i.LFG(s,8))},token:t,providedIn:"root"}),t})(),zb=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new jp.xQ,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,i=n.getBoundingClientRect();return{top:-i.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-i.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Gb(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(uf),i.LFG(i.R0b),i.LFG(s,8))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(uf),i.LFG(i.R0b),i.LFG(s,8))},token:t,providedIn:"root"}),t})(),Wb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})(),Zb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[o_,hf,Wb],o_,Wb]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class Yb{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class qb extends Yb{constructor(t,e,n,i){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=i}}class Jb extends Yb{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class $b extends Yb{constructor(t){super(),this.element=t instanceof i.SBq?t.nativeElement:t}}class Kb{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof qb?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Jb?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof $b?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class Xb extends Kb{constructor(t,e,n,i,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=i,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=o}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=t,n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),this._attachedPortal=t,n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Qb=(()=>{class t extends Jb{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc),i.Y36(i.s_b))},t.\u0275dir=i.lG2({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[i.qOj]}),t})(),tv=(()=>{class t extends Kb{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new i.vpe,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),i=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i._Vd),i.Y36(i.s_b),i.Y36(s))},t.\u0275dir=i.lG2({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[i.qOj]}),t})(),ev=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})();class nv{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new iv(t,this.predicate,this.inclusive))}}class iv extends Fu.L{constructor(t,e,n){super(t),this.predicate=e,this.inclusive=n,this.index=0}_next(t){const e=this.destination;let n;try{n=this.predicate(t,this.index++)}catch(i){return void e.error(i)}this.nextOrComplete(t,n)}nextOrComplete(t,e){const n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const ov=bf();class rv{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=sf(-this._previousScrollPosition.left),t.style.top=sf(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,i=e.scrollBehavior||"",o=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),ov&&(e.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ov&&(e.scrollBehavior=i,n.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class sv{constructor(t,e,n,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class av{enable(){}disable(){}attach(){}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function lv(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function cv(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class uv{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=i,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();lv(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let hv=(()=>{class t{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new av,this.close=t=>new sv(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new rv(this._viewportRuler,this._document),this.reposition=t=>new uv(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=i}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Hb),i.LFG(zb),i.LFG(i.R0b),i.LFG(s))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(Hb),i.LFG(zb),i.LFG(i.R0b),i.LFG(s))},token:t,providedIn:"root"}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class dv{constructor(t){if(this.scrollStrategy=new av,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class pv{constructor(t,e,n,i,o){this.offsetX=n,this.offsetY=i,this.panelClass=o,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class gv{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let mv=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(s))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(s))},token:t,providedIn:"root"}),t})(),fv=(()=>{class t extends mv{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(s))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(s))},token:t,providedIn:"root"}),t})(),_v=(()=>{class t extends mv{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,n=this._attachedOverlays.slice();for(let i=n.length-1;i>-1;i--){const o=n[i];if(!(o._outsidePointerEvents.observers.length<1)&&o.hasAttached()){if(o.overlayElement.contains(e))break;o._outsidePointerEvents.next(t)}}}}add(t){if(super.add(t),!this._isAttached){const t=this._document.body;t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=t.style.cursor,t.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(s),i.LFG(uf))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(s),i.LFG(uf))},token:t,providedIn:"root"}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const bv=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let vv=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||bv){const e=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}const e=this._document.createElement("div");e.classList.add(t),bv?e.setAttribute("platform","test"):this._platform.isBrowser||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(s),i.LFG(uf))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(s),i.LFG(uf))},token:t,providedIn:"root"}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class yv{constructor(t,e,n,i,o,r,s,a,l){this._portalOutlet=t,this._host=e,this._pane=n,this._config=i,this._ngZone=o,this._keyboardDispatcher=r,this._document=s,this._location=a,this._outsideClickDispatcher=l,this._backdropElement=null,this._backdropClick=new jp.xQ,this._attachments=new jp.xQ,this._detachments=new jp.xQ,this._locationChanges=Jp.w.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new jp.xQ,this._outsidePointerEvents=new jp.xQ,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,vp.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=sf(this._config.width),t.height=sf(this._config.height),t.minWidth=sf(this._config.minWidth),t.minHeight=sf(this._config.minHeight),t.maxWidth=sf(this._config.maxWidth),t.maxHeight=sf(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const i=t.classList;rf(e).forEach(t=>{t&&(n?i.add(t):i.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe((0,jb.R)((0,Gp.T)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const Cv="cdk-overlay-connected-position-bounding-box",Ov=/([A-Za-z%]+)$/;class Tv{constructor(t,e,n,i,o){this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new jp.xQ,this._resizeSubscription=Jp.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(Cv),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,i=[];let o;for(let r of this._preferredPositions){let s=this._getOriginPoint(t,r),a=this._getOverlayPoint(s,e,r),l=this._getOverlayFit(a,e,n,r);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(r,s);this._canFitWithFlexibleDimensions(l,a,n)?i.push({position:r,origin:s,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(s,r)}):(!o||o.overlayFit.visibleArea<l.visibleArea)&&(o={overlayFit:l,overlayPoint:a,originPoint:s,position:r,overlayRect:e})}if(i.length){let t=null,e=-1;for(const n of i){const i=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);i>e&&(e=i,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ev(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Cv),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,i;if("center"==e.originX)n=t.left+t.width/2;else{const i=this._isRtl()?t.right:t.left,o=this._isRtl()?t.left:t.right;n="start"==e.originX?i:o}return i="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:i}}_getOverlayPoint(t,e,n){let i,o;return i="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+i,y:t.y+o}}_getOverlayFit(t,e,n,i){const o=wv(e);let{x:r,y:s}=t,a=this._getOffset(i,"x"),l=this._getOffset(i,"y");a&&(r+=a),l&&(s+=l);let c=0-s,u=s+o.height-n.height,h=this._subtractOverflows(o.width,0-r,r+o.width-n.width),d=this._subtractOverflows(o.height,c,u),p=h*d;return{visibleArea:p,isCompletelyWithinViewport:o.width*o.height===p,fitsInViewportVertically:d===o.height,fitsInViewportHorizontally:h==o.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const i=n.bottom-e.y,o=n.right-e.x,r=Sv(this._overlayRef.getConfig().minHeight),s=Sv(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=s&&s<=o;return(t.fitsInViewportVertically||null!=r&&r<=i)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=wv(e),o=this._viewportRect,r=Math.max(t.x+i.width-o.width,0),s=Math.max(t.y+i.height-o.height,0),a=Math.max(o.top-n.top-t.y,0),l=Math.max(o.left-n.left-t.x,0);let c=0,u=0;return c=i.width<=o.width?l||-r:t.x<this._viewportMargin?o.left-n.left-t.x:0,u=i.height<=o.height?a||-s:t.y<this._viewportMargin?o.top-n.top-t.y:0,this._previousPushAmount={x:c,y:u},{x:t.x+c,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new gv(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,i=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${n} ${i}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,i=this._isRtl();let o,r,s,a,l,c;if("top"===e.overlayY)r=t.y,o=n.height-r+this._viewportMargin;else if("bottom"===e.overlayY)s=n.height-t.y+2*this._viewportMargin,o=n.height-s+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),i=this._lastBoundingBoxSize.height;o=2*e,r=t.y-e,o>i&&!this._isInitialRender&&!this._growAfterOpen&&(r=t.y-i/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)c=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)l=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),i=this._lastBoundingBoxSize.width;a=2*e,l=t.x-e,a>i&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.x-i/2)}return{top:r,left:l,bottom:s,right:c,width:a,height:o}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=sf(n.height),i.top=sf(n.top),i.bottom=sf(n.bottom),i.width=sf(n.width),i.left=sf(n.left),i.right=sf(n.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(i.maxHeight=sf(t)),o&&(i.maxWidth=sf(o))}this._lastBoundingBoxSize=n,Ev(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Ev(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ev(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,r=this._overlayRef.getConfig();if(i){const i=this._viewportRuler.getViewportScrollPosition();Ev(n,this._getExactOverlayY(e,t,i)),Ev(n,this._getExactOverlayX(e,t,i))}else n.position="static";let s="",a=this._getOffset(e,"x"),l=this._getOffset(e,"y");a&&(s+=`translateX(${a}px) `),l&&(s+=`translateY(${l}px)`),n.transform=s.trim(),r.maxHeight&&(i?n.maxHeight=sf(r.maxHeight):o&&(n.maxHeight="")),r.maxWidth&&(i?n.maxWidth=sf(r.maxWidth):o&&(n.maxWidth="")),Ev(this._pane.style,n)}_getExactOverlayY(t,e,n){let i={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n));let r=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return o.y-=r,"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":i.top=sf(o.y),i}_getExactOverlayX(t,e,n){let i,o={left:"",right:""},r=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n)),i=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===i?o.right=this._document.documentElement.clientWidth-(r.x+this._overlayRect.width)+"px":o.left=sf(r.x),o}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:cv(t,n),isOriginOutsideView:lv(t,n),isOverlayClipped:cv(e,n),isOverlayOutsideView:lv(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&rf(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof i.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function Ev(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Sv(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(Ov);return n&&"px"!==n?null:parseFloat(e)}return t||null}function wv(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class Mv{constructor(t,e,n,i,o,r,s){this._preferredPositions=[],this._positionStrategy=new Tv(n,i,o,r,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,i){const o=new pv(t,e,n,i);return this._preferredPositions.push(o),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const xv="cdk-global-overlay-wrapper";class Pv{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(xv),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:r,maxHeight:s}=n,a=!("100%"!==i&&"100vw"!==i||r&&"100%"!==r&&"100vw"!==r),l=!("100%"!==o&&"100vh"!==o||s&&"100%"!==s&&"100vh"!==s);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=l?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(xv),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let kv=(()=>{class t{constructor(t,e,n,i){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=i}global(){return new Pv}connectedTo(t,e,n){return new Mv(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new Tv(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(zb),i.LFG(s),i.LFG(uf),i.LFG(vv))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(zb),i.LFG(s),i.LFG(uf),i.LFG(vv))},token:t,providedIn:"root"}),t})(),Iv=0,Av=(()=>{class t{constructor(t,e,n,i,o,r,s,a,l,c,u){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=i,this._keyboardDispatcher=o,this._injector=r,this._ngZone=s,this._document=a,this._directionality=l,this._location=c,this._outsideClickDispatcher=u}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),i=this._createPortalOutlet(n),o=new dv(t);return o.direction=o.direction||this._directionality.value,new yv(i,e,n,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+Iv++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(i.z2F)),new Xb(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(hv),i.LFG(vv),i.LFG(i._Vd),i.LFG(kv),i.LFG(fv),i.LFG(i.zs3),i.LFG(i.R0b),i.LFG(s),i.LFG(i_),i.LFG(C),i.LFG(_v))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const Rv=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Dv=new i.OlP("cdk-connected-overlay-scroll-strategy");let Lv=(()=>{class t{constructor(t){this.elementRef=t}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq))},t.\u0275dir=i.lG2({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),t})(),Nv=(()=>{class t{constructor(t,e,n,o,r){this._overlay=t,this._dir=r,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Jp.w.EMPTY,this._attachSubscription=Jp.w.EMPTY,this._detachSubscription=Jp.w.EMPTY,this._positionSubscription=Jp.w.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new i.vpe,this.positionChange=new i.vpe,this.attach=new i.vpe,this.detach=new i.vpe,this.overlayKeydown=new i.vpe,this.overlayOutsideClick=new i.vpe,this._templatePortal=new Jb(e,n),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=nf(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=nf(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=nf(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=nf(t)}get push(){return this._push}set push(t){this._push=nf(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=Rv);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(t=>{this.overlayKeydown.next(t),27!==t.keyCode||this.disableClose||tf(t)||(t.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(t=>{this.overlayOutsideClick.next(t)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),e=new dv({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(e.width=this.width),(this.height||0===this.height)&&(e.height=this.height),(this.minWidth||0===this.minWidth)&&(e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e}_updatePositionStrategy(t){const e=this.positions.map(t=>({originX:t.originX,originY:t.originY,overlayX:t.overlayX,overlayY:t.overlayY,offsetX:t.offsetX||this.offsetX,offsetY:t.offsetY||this.offsetY,panelClass:t.panelClass||void 0}));return t.setOrigin(this.origin.elementRef).withPositions(e).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(t,e=!1){return n=>n.lift(new nv(t,e))}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Av),i.Y36(i.Rgc),i.Y36(i.s_b),i.Y36(Dv),i.Y36(i_,8))},t.\u0275dir=i.lG2({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[i.TTD]}),t})();const Bv={provide:Dv,deps:[Av],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let Fv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[Av,Bv],imports:[[o_,ev,Zb],Zb]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var Uv=n(9829),Vv=n(7e3),Gv=n(9342);const jv={};function Hv(...t){let e,n;return(0,s_.K)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&(0,yr.k)(t[0])&&(t=t[0]),(0,Gv.n)(t,n).lift(new zv(e))}class zv{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Wv(t,this.resultSelector))}}class Wv extends Uv.L{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(jv),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add((0,Vv.D)(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const i=this.values,o=this.toRespond?i[n]===jv?--this.toRespond:this.toRespond:0;i[n]=e,0===o&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var Zv=n(4698);
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const Yv=new Set;let qv,Jv=(()=>{class t{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):$v}matchMedia(t){return this._platform.WEBKIT&&function(t){if(!Yv.has(t))try{qv||(qv=document.createElement("style"),qv.setAttribute("type","text/css"),document.head.appendChild(qv)),qv.sheet&&(qv.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),Yv.add(t))}catch(nx){console.error(nx)}}(t),this._matchMedia(t)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(uf))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(uf))},token:t,providedIn:"root"}),t})();function $v(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let Kv=(()=>{class t{constructor(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new jp.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Xv(rf(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){let e=Hv(Xv(rf(t)).map(t=>this._registerQuery(t).observable));return e=fp(e.pipe((0,vp.q)(1)),e.pipe((0,Zv.T)(1),(0,ef.b)(0))),e.pipe((0,Cr.U)(t=>{const e={matches:!1,breakpoints:{}};return t.forEach(({matches:t,query:n})=>{e.matches=e.matches||t,e.breakpoints[n]=t}),e}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this._mediaMatcher.matchMedia(t),n={observable:new vr.y(t=>{const n=e=>this._zone.run(()=>t.next(e));return e.addListener(n),()=>{e.removeListener(n)}}).pipe(a_(e),(0,Cr.U)(({matches:e})=>({query:t,matches:e})),(0,jb.R)(this._destroySubject)),mql:e};return this._queries.set(t,n),n}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Jv),i.LFG(i.R0b))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(Jv),i.LFG(i.R0b))},token:t,providedIn:"root"}),t})();function Xv(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const Qv="(min-width: 960px) and (max-width: 1279.98px)",ty="(min-width: 1280px) and (max-width: 1919.98px)",ey="(min-width: 1920px)";
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function ny(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",1),i.TgZ(1,"button",2),i.NdJ("click",function(){return i.CHM(t),i.oxw().action()}),i._uU(2),i.qZA(),i.qZA()}if(2&t){const t=i.oxw();i.xp6(2),i.Oqu(t.data.action)}}function iy(t,e){}const oy=new i.OlP("MatSnackBarData");class ry{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const sy=Math.pow(2,31)-1;class ay{constructor(t,e){this._overlayRef=e,this._afterDismissed=new jp.xQ,this._afterOpened=new jp.xQ,this._onAction=new jp.xQ,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,sy))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let ly=(()=>{class t{constructor(t,e){this.snackBarRef=t,this.data=e}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(ay),i.Y36(oy))},t.\u0275cmp=i.Xpm({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(i.TgZ(0,"span"),i._uU(1),i.qZA(),i.YNc(2,ny,3,1,"div",0)),2&t&&(i.xp6(1),i.Oqu(e.data.message),i.xp6(1),i.Q6J("ngIf",e.hasAction))},directives:[R,rb],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const cy={snackBarState:Fa("state",[ja("void, hidden",Ga({transform:"scale(0.8)",opacity:0})),ja("visible",Ga({transform:"scale(1)",opacity:1})),za("* => visible",Ua("150ms cubic-bezier(0, 0, 0.2, 1)")),za("* => void, * => hidden",Ua("75ms cubic-bezier(0.4, 0.0, 1, 1)",Ga({opacity:0})))])};let uy=(()=>{class t extends Kb{constructor(t,e,n,i,o){super(),this._ngZone=t,this._elementRef=e,this._changeDetectorRef=n,this._platform=i,this.snackBarConfig=o,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new jp.xQ,this._onExit=new jp.xQ,this._onEnter=new jp.xQ,this._animationState="void",this.attachDomPortal=t=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(t)),this._live="assertive"!==o.politeness||o.announcementMessage?"off"===o.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:e,toState:n}=t;if(("void"===n&&"void"!==e||"hidden"===n)&&this._completeExit(),"visible"===n){const t=this._onEnter;this._ngZone.run(()=>{t.next(),t.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,vp.q)(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach(e=>t.classList.add(e)):t.classList.add(e)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),e=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&e){let n=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(n=document.activeElement),t.removeAttribute("aria-hidden"),e.appendChild(t),null==n||n.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.R0b),i.Y36(i.SBq),i.Y36(i.sBO),i.Y36(uf),i.Y36(ry))},t.\u0275cmp=i.Xpm({type:t,selectors:[["snack-bar-container"]],viewQuery:function(t,e){if(1&t&&i.Gf(tv,7),2&t){let t;i.iGM(t=i.CRH())&&(e._portalOutlet=t.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(t,e){1&t&&i.WFA("@state.done",function(t){return e.onAnimationEnd(t)}),2&t&&i.d8E("@state",e._animationState)},features:[i.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.YNc(1,iy,0,0,"ng-template",1),i.qZA(),i._UZ(2,"div")),2&t&&(i.xp6(2),i.uIk("aria-live",e._live)("role",e._role))},directives:[tv],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[cy.snackBarState]}}),t})(),hy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[Fv,ev,J,ab,b_],b_]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const dy=new i.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new ry}});let py=(()=>{class t{constructor(t,e,n,i,o,r){this._overlay=t,this._live=e,this._injector=n,this._breakpointObserver=i,this._parentSnackBar=o,this._defaultConfig=r,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=ly,this.snackBarContainerComponent=uy,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,e){return this._attach(t,e)}openFromTemplate(t,e){return this._attach(t,e)}open(t,e="",n){const i=Object.assign(Object.assign({},this._defaultConfig),n);return i.data={message:t,action:e},i.announcementMessage===t&&(i.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,i)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,e){const n=i.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:ry,useValue:e}]}),o=new qb(this.snackBarContainerComponent,e.viewContainerRef,n),r=t.attach(o);return r.instance.snackBarConfig=e,r.instance}_attach(t,e){const n=Object.assign(Object.assign(Object.assign({},new ry),this._defaultConfig),e),o=this._createOverlay(n),r=this._attachSnackBarContainer(o,n),s=new ay(r,o);if(t instanceof i.Rgc){const e=new Jb(t,null,{$implicit:n.data,snackBarRef:s});s.instance=r.attachTemplatePortal(e)}else{const e=this._createInjector(n,s),i=new qb(t,void 0,e),o=r.attachComponentPortal(i);s.instance=o.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe((0,jb.R)(o.detachments())).subscribe(t=>{const e=o.overlayElement.classList;t.matches?e.add(this.handsetCssClass):e.remove(this.handsetCssClass)}),n.announcementMessage&&r._onAnnounce.subscribe(()=>{this._live.announce(n.announcementMessage,n.politeness)}),this._animateSnackBar(s,n),this._openedSnackBarRef=s,this._openedSnackBarRef}_animateSnackBar(t,e){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),e.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),e.duration&&e.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(e.duration))}_createOverlay(t){const e=new dv;e.direction=t.direction;let n=this._overlay.position().global();const i="rtl"===t.direction,o="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!i||"end"===t.horizontalPosition&&i,r=!o&&"center"!==t.horizontalPosition;return o?n.left("0"):r?n.right("0"):n.centerHorizontally(),"top"===t.verticalPosition?n.top("0"):n.bottom("0"),e.positionStrategy=n,this._overlay.create(e)}_createInjector(t,e){return i.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:ay,useValue:e},{provide:oy,useValue:t.data}]})}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Av),i.LFG(Hf),i.LFG(i.zs3),i.LFG(Kv),i.LFG(t,12),i.LFG(dy))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(Av),i.LFG(Hf),i.LFG(i.gxx),i.LFG(Kv),i.LFG(t,12),i.LFG(dy))},token:t,providedIn:hy}),t})(),gy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[b_],b_]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const my=["*"],fy=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],_y=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"];class by{}const vy=v_(C_(by));class yy{}const Cy=C_(yy),Oy=new i.OlP("MatList"),Ty=new i.OlP("MatNavList");let Ey=(()=>{class t extends vy{constructor(t){super(),this._elementRef=t,this._stateChanges=new jp.xQ,"action-list"===this._getListType()&&t.nativeElement.classList.add("mat-action-list")}_getListType(){const t=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===t?"list":"mat-action-list"===t?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[i._Bn([{provide:Oy,useExisting:t}]),i.qOj,i.TTD],ngContentSelectors:my,decls:1,vars:0,template:function(t,e){1&t&&(i.F$t(),i.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),t})(),Sy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.lG2({type:t,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),t})(),wy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.lG2({type:t,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),t})(),My=(()=>{class t extends Cy{constructor(t,e,n,i){super(),this._element=t,this._isInteractiveList=!1,this._destroyed=new jp.xQ,this._disabled=!1,this._isInteractiveList=!!(n||i&&"action-list"===i._getListType()),this._list=n||i;const o=this._getHostElement();"button"!==o.nodeName.toLowerCase()||o.hasAttribute("type")||o.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe((0,jb.R)(this._destroyed)).subscribe(()=>{e.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(t){this._disabled=nf(t)}ngAfterContentInit(){!function(t,e,n="mat"){t.changes.pipe(a_(t)).subscribe(({length:t})=>{w_(e,`${n}-2-line`,!1),w_(e,`${n}-3-line`,!1),w_(e,`${n}-multi-line`,!1),2===t||3===t?w_(e,`${n}-${t}-line`,!0):t>3&&w_(e,`${n}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.sBO),i.Y36(Ty,8),i.Y36(Oy,8))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,e,n){if(1&t&&(i.Suo(n,Sy,5),i.Suo(n,wy,5),i.Suo(n,S_,5)),2&t){let t;i.iGM(t=i.CRH())&&(e._avatar=t.first),i.iGM(t=i.CRH())&&(e._icon=t.first),i.iGM(t=i.CRH())&&(e._lines=t)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(t,e){2&t&&i.ekj("mat-list-item-disabled",e.disabled)("mat-list-item-avatar",e._avatar||e._icon)("mat-list-item-with-avatar",e._avatar||e._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[i.qOj],ngContentSelectors:_y,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(t,e){1&t&&(i.F$t(fy),i.TgZ(0,"div",0),i._UZ(1,"div",1),i.Hsn(2),i.TgZ(3,"div",2),i.Hsn(4,1),i.qZA(),i.Hsn(5,2),i.qZA()),2&t&&(i.xp6(1),i.Q6J("matRippleTrigger",e._getHostElement())("matRippleDisabled",e._isRippleDisabled()))},directives:[L_],encapsulation:2,changeDetection:0}),t})(),xy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[M_,N_,b_,F_,J],M_,b_,F_,gy]}),t})(),Py=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[b_,J],b_]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const ky=["underline"],Iy=["connectionContainer"],Ay=["inputContainer"],Ry=["label"];function Dy(t,e){1&t&&(i.ynx(0),i.TgZ(1,"div",14),i._UZ(2,"div",15),i._UZ(3,"div",16),i._UZ(4,"div",17),i.qZA(),i.TgZ(5,"div",18),i._UZ(6,"div",15),i._UZ(7,"div",16),i._UZ(8,"div",17),i.qZA(),i.BQk())}function Ly(t,e){1&t&&(i.TgZ(0,"div",19),i.Hsn(1,1),i.qZA())}function Ny(t,e){if(1&t&&(i.ynx(0),i.Hsn(1,2),i.TgZ(2,"span"),i._uU(3),i.qZA(),i.BQk()),2&t){const t=i.oxw(2);i.xp6(3),i.Oqu(t._control.placeholder)}}function By(t,e){1&t&&i.Hsn(0,3,["*ngSwitchCase","true"])}function Fy(t,e){1&t&&(i.TgZ(0,"span",23),i._uU(1," *"),i.qZA())}function Uy(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"label",20,21),i.NdJ("cdkObserveContent",function(){return i.CHM(t),i.oxw().updateOutlineGap()}),i.YNc(2,Ny,4,1,"ng-container",12),i.YNc(3,By,1,0,"ng-content",12),i.YNc(4,Fy,2,0,"span",22),i.qZA()}if(2&t){const t=i.oxw();i.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),i.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),i.uIk("for",t._control.id)("aria-owns",t._control.id),i.xp6(2),i.Q6J("ngSwitchCase",!1),i.xp6(1),i.Q6J("ngSwitchCase",!0),i.xp6(1),i.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function Vy(t,e){1&t&&(i.TgZ(0,"div",24),i.Hsn(1,4),i.qZA())}function Gy(t,e){if(1&t&&(i.TgZ(0,"div",25,26),i._UZ(2,"span",27),i.qZA()),2&t){const t=i.oxw();i.xp6(2),i.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function jy(t,e){if(1&t&&(i.TgZ(0,"div"),i.Hsn(1,5),i.qZA()),2&t){const t=i.oxw();i.Q6J("@transitionMessages",t._subscriptAnimationState)}}function Hy(t,e){if(1&t&&(i.TgZ(0,"div",31),i._uU(1),i.qZA()),2&t){const t=i.oxw(2);i.Q6J("id",t._hintLabelId),i.xp6(1),i.Oqu(t.hintLabel)}}function zy(t,e){if(1&t&&(i.TgZ(0,"div",28),i.YNc(1,Hy,2,2,"div",29),i.Hsn(2,6),i._UZ(3,"div",30),i.Hsn(4,7),i.qZA()),2&t){const t=i.oxw();i.Q6J("@transitionMessages",t._subscriptAnimationState),i.xp6(1),i.Q6J("ngIf",t.hintLabel)}}const Wy=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Zy=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let Yy=0;const qy=new i.OlP("MatError");let Jy=(()=>{class t{constructor(t,e){this.id="mat-error-"+Yy++,t||e.nativeElement.setAttribute("aria-live","polite")}}return t.\u0275fac=function(e){return new(e||t)(i.$8M("aria-live"),i.Y36(i.SBq))},t.\u0275dir=i.lG2({type:t,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(t,e){2&t&&i.uIk("id",e.id)},inputs:{id:"id"},features:[i._Bn([{provide:qy,useExisting:t}])]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const $y={transitionMessages:Fa("transitionMessages",[ja("enter",Ga({opacity:1,transform:"translateY(0%)"})),za("void => enter",[Ga({opacity:0,transform:"translateY(-5px)"}),Ua("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Ky=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.lG2({type:t}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const Xy=new i.OlP("MatHint");let Qy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.lG2({type:t,selectors:[["mat-label"]]}),t})(),tC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.lG2({type:t,selectors:[["mat-placeholder"]]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const eC=new i.OlP("MatPrefix");let nC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.lG2({type:t,selectors:[["","matPrefix",""]],features:[i._Bn([{provide:eC,useExisting:t}])]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const iC=new i.OlP("MatSuffix");let oC=0;
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class rC{constructor(t){this._elementRef=t}}const sC=y_(rC,"primary"),aC=new i.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),lC=new i.OlP("MatFormField");let cC=(()=>{class t extends sC{constructor(t,e,n,i,o,r,s,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=i,this._defaults=o,this._platform=r,this._ngZone=s,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new jp.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+oC++,this._labelId="mat-form-field-label-"+oC++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=o&&o.appearance?o.appearance:"legacy",this._hideRequiredMarker=!(!o||null==o.hideRequiredMarker)&&o.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=nf(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(a_(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe((0,jb.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,jb.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Gp.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(a_(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(a_(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,jb.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Ob(this._label.nativeElement,"transitionend").pipe((0,vp.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&t.push(...this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const i=this._connectionContainerRef.nativeElement,o=i.querySelectorAll(".mat-form-field-outline-start"),r=i.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const o=i.getBoundingClientRect();if(0===o.width&&0===o.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const r=this._getStartEnd(o),s=t.children,a=this._getStartEnd(s[0].getBoundingClientRect());let l=0;for(let t=0;t<s.length;t++)l+=s[t].offsetWidth;e=Math.abs(a-r)-5,n=l>0?.75*l+10:0}for(let s=0;s<o.length;s++)o[s].style.width=`${e}px`;for(let s=0;s<r.length;s++)r[s].style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(i_,8),i.Y36(aC,8),i.Y36(uf),i.Y36(i.R0b),i.Y36(Cu,8))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){if(1&t&&(i.Suo(n,Ky,5),i.Suo(n,Ky,7),i.Suo(n,Qy,5),i.Suo(n,Qy,7),i.Suo(n,tC,5),i.Suo(n,qy,5),i.Suo(n,Xy,5),i.Suo(n,eC,5),i.Suo(n,iC,5)),2&t){let t;i.iGM(t=i.CRH())&&(e._controlNonStatic=t.first),i.iGM(t=i.CRH())&&(e._controlStatic=t.first),i.iGM(t=i.CRH())&&(e._labelChildNonStatic=t.first),i.iGM(t=i.CRH())&&(e._labelChildStatic=t.first),i.iGM(t=i.CRH())&&(e._placeholderChild=t.first),i.iGM(t=i.CRH())&&(e._errorChildren=t),i.iGM(t=i.CRH())&&(e._hintChildren=t),i.iGM(t=i.CRH())&&(e._prefixChildren=t),i.iGM(t=i.CRH())&&(e._suffixChildren=t)}},viewQuery:function(t,e){if(1&t&&(i.Gf(ky,5),i.Gf(Iy,7),i.Gf(Ay,5),i.Gf(Ry,5)),2&t){let t;i.iGM(t=i.CRH())&&(e.underlineRef=t.first),i.iGM(t=i.CRH())&&(e._connectionContainerRef=t.first),i.iGM(t=i.CRH())&&(e._inputContainerRef=t.first),i.iGM(t=i.CRH())&&(e._label=t.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,e){2&t&&i.ekj("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat())("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[i._Bn([{provide:lC,useExisting:t}]),i.qOj],ngContentSelectors:Zy,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(i.F$t(Wy),i.TgZ(0,"div",0),i.TgZ(1,"div",1,2),i.NdJ("click",function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)}),i.YNc(3,Dy,9,0,"ng-container",3),i.YNc(4,Ly,2,0,"div",4),i.TgZ(5,"div",5,6),i.Hsn(7),i.TgZ(8,"span",7),i.YNc(9,Uy,5,16,"label",8),i.qZA(),i.qZA(),i.YNc(10,Vy,2,0,"div",9),i.qZA(),i.YNc(11,Gy,3,4,"div",10),i.TgZ(12,"div",11),i.YNc(13,jy,2,1,"div",12),i.YNc(14,zy,5,2,"div",13),i.qZA(),i.qZA()),2&t&&(i.xp6(3),i.Q6J("ngIf","outline"==e.appearance),i.xp6(1),i.Q6J("ngIf",e._prefixChildren.length),i.xp6(5),i.Q6J("ngIf",e._hasFloatingLabel()),i.xp6(1),i.Q6J("ngIf",e._suffixChildren.length),i.xp6(1),i.Q6J("ngIf","outline"!=e.appearance),i.xp6(1),i.Q6J("ngSwitch",e._getDisplayedMessages()),i.xp6(1),i.Q6J("ngSwitchCase","error"),i.xp6(1),i.Q6J("ngSwitchCase","hint"))},directives:[R,B,F,Of],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[$y.transitionMessages]},changeDetection:0}),t})(),uC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[J,b_,Tf],b_]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const hC=_f({passive:!0});let dC=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return _p.E;const e=af(t),n=this._monitoredElements.get(e);if(n)return n.subject;const i=new jp.xQ,o="cdk-text-field-autofilled",r=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(o)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(o)&&(e.classList.remove(o),this._ngZone.run(()=>i.next({target:t.target,isAutofilled:!1}))):(e.classList.add(o),this._ngZone.run(()=>i.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",r,hC),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:i,unlisten:()=>{e.removeEventListener("animationstart",r,hC)}}),i}stopMonitoring(t){const e=af(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(uf),i.LFG(i.R0b))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(uf),i.LFG(i.R0b))},token:t,providedIn:"root"}),t})(),pC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[hf]]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const gC=new i.OlP("MAT_INPUT_VALUE_ACCESSOR"),mC=["button","checkbox","file","hidden","image","radio","range","reset","submit"];
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */let fC=0;class _C{constructor(t,e,n,i){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=i}}const bC=T_(_C);let vC=(()=>{class t extends bC{constructor(t,e,n,i,o,r,s,a,l,c){super(r,i,o,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._formField=c,this._uid="mat-input-"+fC++,this.focused=!1,this.stateChanges=new jp.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>pf().has(t));const u=this._elementRef.nativeElement,h=u.nodeName.toLowerCase();this._inputValueAccessor=s||u,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&l.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{const e=t.target;e.value||0!==e.selectionStart||0!==e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===h,this._isTextarea="textarea"===h,this._isNativeSelect&&(this.controlType=u.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=nf(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=nf(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&pf().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=nf(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,e;const n=(null===(e=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===e?void 0:e.call(t))?null:this.placeholder;if(n!==this._previousPlaceholder){const t=this._elementRef.nativeElement;this._previousPlaceholder=n,n?t.setAttribute("placeholder",n):t.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){mC.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(uf),i.Y36(Qr,10),i.Y36(ks,8),i.Y36(Gs,8),i.Y36(E_),i.Y36(gC,10),i.Y36(dC),i.Y36(i.R0b),i.Y36(lC,8))},t.\u0275dir=i.lG2({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(t,e){1&t&&i.NdJ("focus",function(){return e._focusChanged(!0)})("blur",function(){return e._focusChanged(!1)})("input",function(){return e._onInput()}),2&t&&(i.Ikx("disabled",e.disabled)("required",e.required),i.uIk("id",e.id)("data-placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-invalid",e.empty&&e.required?null:e.errorState)("aria-required",e.required),i.ekj("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[i._Bn([{provide:Ky,useExisting:t}]),i.qOj,i.TTD]}),t})(),yC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[E_],imports:[[pC,uC,b_],pC,uC]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const CC=["trigger"],OC=["panel"];function TC(t,e){if(1&t&&(i.TgZ(0,"span",8),i._uU(1),i.qZA()),2&t){const t=i.oxw();i.xp6(1),i.Oqu(t.placeholder)}}function EC(t,e){if(1&t&&(i.TgZ(0,"span",12),i._uU(1),i.qZA()),2&t){const t=i.oxw(2);i.xp6(1),i.Oqu(t.triggerValue)}}function SC(t,e){1&t&&i.Hsn(0,0,["*ngSwitchCase","true"])}function wC(t,e){if(1&t&&(i.TgZ(0,"span",9),i.YNc(1,EC,2,1,"span",10),i.YNc(2,SC,1,0,"ng-content",11),i.qZA()),2&t){const t=i.oxw();i.Q6J("ngSwitch",!!t.customTrigger),i.xp6(2),i.Q6J("ngSwitchCase",!0)}}function MC(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",13),i.TgZ(1,"div",14,15),i.NdJ("@transformPanel.done",function(e){return i.CHM(t),i.oxw()._panelDoneAnimatingStream.next(e.toState)})("keydown",function(e){return i.CHM(t),i.oxw()._handleKeydown(e)}),i.Hsn(3,1),i.qZA(),i.qZA()}if(2&t){const t=i.oxw();i.Q6J("@transformPanelWrap",void 0),i.xp6(1),i.Gre("mat-select-panel ",t._getPanelTheme(),""),i.Udp("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),i.Q6J("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),i.uIk("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const xC=[[["mat-select-trigger"]],"*"],PC=["mat-select-trigger","*"],kC={transformPanelWrap:Fa("transformPanelWrap",[za("* => void",Za("@transformPanel",[Wa()],{optional:!0}))]),transformPanel:Fa("transformPanel",[ja("void",Ga({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),ja("showing",Ga({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),ja("showing-multiple",Ga({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),za("void => *",Ua("120ms cubic-bezier(0, 0, 0.2, 1)")),za("* => void",Ua("100ms 25ms linear",Ga({opacity:0})))])};
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
let IC=0;const AC=256,RC=new i.OlP("mat-select-scroll-strategy"),DC=new i.OlP("MAT_SELECT_CONFIG"),LC={provide:RC,deps:[Av],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};class NC{constructor(t,e){this.source=t,this.value=e}}class BC{constructor(t,e,n,i,o){this._elementRef=t,this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=i,this.ngControl=o}}const FC=C_(O_(v_(T_(BC)))),UC=new i.OlP("MatSelectTrigger");let VC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.lG2({type:t,selectors:[["mat-select-trigger"]],features:[i._Bn([{provide:UC,useExisting:t}])]}),t})(),GC=(()=>{class t extends FC{constructor(t,e,n,o,r,s,a,l,c,u,h,d,p,g){var m,f,_;super(r,o,a,l,u),this._viewportRuler=t,this._changeDetectorRef=e,this._ngZone=n,this._dir=s,this._parentFormField=c,this.ngControl=u,this._liveAnnouncer=p,this._defaultOptions=g,this._panelOpen=!1,this._compareWith=(t,e)=>t===e,this._uid="mat-select-"+IC++,this._triggerAriaLabelledBy=null,this._destroy=new jp.xQ,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+IC++,this._panelDoneAnimatingStream=new jp.xQ,this._overlayPanelClass=(null===(m=this._defaultOptions)||void 0===m?void 0:m.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._required=!1,this._multiple=!1,this._disableOptionCentering=null!==(_=null===(f=this._defaultOptions)||void 0===f?void 0:f.disableOptionCentering)&&void 0!==_&&_,this.ariaLabel="",this.optionSelectionChanges=bp(()=>{const t=this.options;return t?t.changes.pipe(a_(t),(0,zu.w)(()=>(0,Gp.T)(...t.map(t=>t.onSelectionChange)))):this._ngZone.onStable.pipe((0,vp.q)(1),(0,zu.w)(()=>this.optionSelectionChanges))}),this.openedChange=new i.vpe,this._openedStream=this.openedChange.pipe((0,ia.h)(t=>t),(0,Cr.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,ia.h)(t=>!t),(0,Cr.U)(()=>{})),this.selectionChange=new i.vpe,this.valueChange=new i.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==g?void 0:g.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=g.typeaheadDebounceInterval),this._scrollStrategyFactory=d,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(h)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required}set required(t){this._required=nf(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=nf(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=nf(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=of(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new lb(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,Db.x)(),(0,jb.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,jb.R)(this._destroy)).subscribe(t=>{t.added.forEach(t=>t.select()),t.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(a_(null),(0,jb.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby();if(t!==this._triggerAriaLabelledBy){const e=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?e.setAttribute("aria-labelledby",t):e.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.value=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const e=t.keyCode,n=40===e||38===e||37===e||39===e,i=e===Xm||e===Qm,o=this._keyManager;if(!o.isTyping()&&i&&!tf(t)||(this.multiple||t.altKey)&&n)t.preventDefault(),this.open();else if(!this.multiple){const e=this.selected;o.onKeydown(t);const n=this.selected;n&&e!==n&&this._liveAnnouncer.announce(n.viewValue,1e4)}}_handleOpenKeydown(t){const e=this._keyManager,n=t.keyCode,i=40===n||38===n,o=e.isTyping();if(i&&t.altKey)t.preventDefault(),this.close();else if(o||n!==Xm&&n!==Qm||!e.activeItem||tf(t))if(!o&&this._multiple&&65===n&&t.ctrlKey){t.preventDefault();const e=this.options.some(t=>!t.disabled&&!t.selected);this.options.forEach(t=>{t.disabled||(e?t.select():t.deselect())})}else{const n=e.activeItemIndex;e.onKeydown(t),this._multiple&&i&&t.shiftKey&&e.activeItem&&e.activeItemIndex!==n&&e.activeItem._selectViaInteraction()}else t.preventDefault(),e.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,vp.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(t=>t.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(t=>this._selectValue(t)),this._sortValues();else{const e=this._selectValue(t);e?this._keyManager.updateActiveItem(e):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const e=this.options.find(e=>{if(this._selectionModel.isSelected(e))return!1;try{return null!=e.value&&this._compareWith(e.value,t)}catch(n){return!1}});return e&&this._selectionModel.select(e),e}_initKeyManager(){this._keyManager=new Df(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe((0,jb.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe((0,jb.R)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=(0,Gp.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,jb.R)(t)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Gp.T)(...this.options.map(t=>t._stateChanges)).pipe((0,jb.R)(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,e){const n=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(n!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),n!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((e,n)=>this.sortComparator?this.sortComparator(e,n,t):t.indexOf(e)-t.indexOf(n)),this.stateChanges.next()}}_propagateChanges(t){let e=null;e=this.multiple?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(this._getChangeEvent(e)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){var t;if(this.ariaLabel)return null;const e=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var t;if(this.ariaLabel)return null;const e=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();let n=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(n+=" "+this.ariaLabelledby),n}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(zb),i.Y36(i.sBO),i.Y36(i.R0b),i.Y36(E_),i.Y36(i.SBq),i.Y36(i_,8),i.Y36(ks,8),i.Y36(Gs,8),i.Y36(lC,8),i.Y36(Qr,10),i.$8M("tabindex"),i.Y36(RC),i.Y36(Hf),i.Y36(DC,8))},t.\u0275dir=i.lG2({type:t,viewQuery:function(t,e){if(1&t&&(i.Gf(CC,5),i.Gf(OC,5),i.Gf(Nv,5)),2&t){let t;i.iGM(t=i.CRH())&&(e.trigger=t.first),i.iGM(t=i.CRH())&&(e.panel=t.first),i.iGM(t=i.CRH())&&(e._overlayDir=t.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[i.qOj,i.TTD]}),t})(),jC=(()=>{class t extends GC{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,e,n){const i=this._getItemHeight();return Math.min(Math.max(0,i*t-e+i/2),n)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,jb.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,vp.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const e=$_(t,this.options,this.optionGroups),n=this._getItemHeight();var i,o,r;this.panel.nativeElement.scrollTop=(o=n,AC,(i=(t+e)*n)<(r=this.panel.nativeElement.scrollTop)?i:i+o>r+256?Math.max(0,i-256+o):r)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new NC(this,t)}_calculateOverlayOffsetX(){const t=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),e=this._viewportRuler.getViewportSize(),n=this._isRtl(),i=this.multiple?56:32;let o;if(this.multiple)o=40;else if(this.disableOptionCentering)o=16;else{let t=this._selectionModel.selected[0]||this.options.first;o=t&&t.group?32:16}n||(o*=-1);const r=0-(t.left+o-(n?i:0)),s=t.right+o-e.width+(n?0:i);r>0?o+=r+8:s>0&&(o-=s+8),this._overlayDir.offsetX=Math.round(o),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,e,n){const i=this._getItemHeight(),o=(i-this._triggerRect.height)/2,r=Math.floor(AC/i);let s;return this.disableOptionCentering?0:(s=0===this._scrollTop?t*i:this._scrollTop===n?(t-(this._getItemCount()-r))*i+(i-(this._getItemCount()*i-AC)%i):e-i/2,Math.round(-1*s-o))}_checkOverlayWithinViewport(t){const e=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),i=this._triggerRect.top-8,o=n.height-this._triggerRect.bottom-8,r=Math.abs(this._offsetY),s=Math.min(this._getItemCount()*e,AC)-r-this._triggerRect.height;s>o?this._adjustPanelUp(s,o):r>i?this._adjustPanelDown(r,i,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,e){const n=Math.round(t-e);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,e,n){const i=Math.round(t-e);if(this._scrollTop+=i,this._offsetY+=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),e=this._getItemCount(),n=Math.min(e*t,AC),i=e*t-n;let o;o=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),o+=$_(o,this.options,this.optionGroups);const r=n/2;this._scrollTop=this._calculateOverlayScroll(o,r,i),this._offsetY=this._calculateOverlayOffsetY(o,r,i),this._checkOverlayWithinViewport(i)}_getOriginBasedOnOption(){const t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-e+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275cmp=i.Xpm({type:t,selectors:[["mat-select"]],contentQueries:function(t,e,n){if(1&t&&(i.Suo(n,UC,5),i.Suo(n,J_,5),i.Suo(n,z_,5)),2&t){let t;i.iGM(t=i.CRH())&&(e.customTrigger=t.first),i.iGM(t=i.CRH())&&(e.options=t),i.iGM(t=i.CRH())&&(e.optionGroups=t)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,e){1&t&&i.NdJ("keydown",function(t){return e._handleKeydown(t)})("focus",function(){return e._onFocus()})("blur",function(){return e._onBlur()}),2&t&&(i.uIk("id",e.id)("tabindex",e.tabIndex)("aria-controls",e.panelOpen?e.id+"-panel":null)("aria-expanded",e.panelOpen)("aria-label",e.ariaLabel||null)("aria-required",e.required.toString())("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-describedby",e._ariaDescribedby||null)("aria-activedescendant",e._getAriaActiveDescendant()),i.ekj("mat-select-disabled",e.disabled)("mat-select-invalid",e.errorState)("mat-select-required",e.required)("mat-select-empty",e.empty)("mat-select-multiple",e.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[i._Bn([{provide:Ky,useExisting:t},{provide:U_,useExisting:t}]),i.qOj],ngContentSelectors:PC,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,e){if(1&t&&(i.F$t(xC),i.TgZ(0,"div",0,1),i.NdJ("click",function(){return e.toggle()}),i.TgZ(3,"div",2),i.YNc(4,TC,2,1,"span",3),i.YNc(5,wC,3,2,"span",4),i.qZA(),i.TgZ(6,"div",5),i._UZ(7,"div",6),i.qZA(),i.qZA(),i.YNc(8,MC,4,14,"ng-template",7),i.NdJ("backdropClick",function(){return e.close()})("attach",function(){return e._onAttached()})("detach",function(){return e.close()})),2&t){const t=i.MAs(1);i.uIk("aria-owns",e.panelOpen?e.id+"-panel":null),i.xp6(3),i.Q6J("ngSwitch",e.empty),i.uIk("id",e._valueId),i.xp6(1),i.Q6J("ngSwitchCase",!0),i.xp6(1),i.Q6J("ngSwitchCase",!1),i.xp6(3),i.Q6J("cdkConnectedOverlayPanelClass",e._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",e._scrollStrategy)("cdkConnectedOverlayOrigin",t)("cdkConnectedOverlayOpen",e.panelOpen)("cdkConnectedOverlayPositions",e._positions)("cdkConnectedOverlayMinWidth",null==e._triggerRect?null:e._triggerRect.width)("cdkConnectedOverlayOffsetY",e._offsetY)}},directives:[Lv,B,F,Nv,U,P],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px}\n'],encapsulation:2,data:{animation:[kC.transformPanelWrap,kC.transformPanel]},changeDetection:0}),t})(),HC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[LC],imports:[[J,Fv,K_,b_],Wb,uC,K_,b_]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const zC=["input"],WC=function(t){return{enterDuration:t}},ZC=["*"],YC=new i.OlP("mat-checkbox-default-options",{providedIn:"root",factory:qC});function qC(){return{color:"accent",clickAction:"check-indeterminate"}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */let JC=0;const $C=qC(),KC={provide:Mr,useExisting:(0,i.Gpc)(()=>eO),multi:!0};class XC{}class QC{constructor(t){this._elementRef=t}}const tO=O_(y_(C_(v_(QC))));let eO=(()=>{class t extends tO{constructor(t,e,n,o,r,s,a){super(t),this._changeDetectorRef=e,this._focusMonitor=n,this._ngZone=o,this._animationMode=s,this._options=a,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++JC,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new i.vpe,this.indeterminateChange=new i.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||$C,this.color=this.defaultColor=this._options.color||$C.color,this.tabIndex=parseInt(r)||0}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(t){this._required=nf(t)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{t||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(t){t!=this.checked&&(this._checked=t,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){const e=nf(t);e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const e=t!=this._indeterminate;this._indeterminate=nf(t),e&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(t){let e=this._currentCheckState,n=this._elementRef.nativeElement;if(e!==t&&(this._currentAnimationClass.length>0&&n.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(e,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){n.classList.add(this._currentAnimationClass);const t=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{n.classList.remove(t)},1e3)})}}_emitChangeEvent(){const t=new XC;t.source=this,t.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(t),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked}_onInputClick(t){var e;const n=null===(e=this._options)||void 0===e?void 0:e.clickAction;t.stopPropagation(),this.disabled||"noop"===n?this.disabled||"noop"!==n||(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==n&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(t,e){t?this._focusMonitor.focusVia(this._inputElement,t,e):this._inputElement.nativeElement.focus(e)}_onInteractionEvent(t){t.stopPropagation()}_getAnimationClassForCheckStateTransition(t,e){if("NoopAnimations"===this._animationMode)return"";let n="";switch(t){case 0:if(1===e)n="unchecked-checked";else{if(3!=e)return"";n="unchecked-indeterminate"}break;case 2:n=1===e?"unchecked-checked":"unchecked-indeterminate";break;case 1:n=2===e?"checked-unchecked":"checked-indeterminate";break;case 3:n=1===e?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${n}`}_syncIndeterminate(t){const e=this._inputElement;e&&(e.nativeElement.indeterminate=t)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.sBO),i.Y36(qf),i.Y36(i.R0b),i.$8M("tabindex"),i.Y36(Cu,8),i.Y36(YC,8))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mat-checkbox"]],viewQuery:function(t,e){if(1&t&&(i.Gf(zC,5),i.Gf(L_,5)),2&t){let t;i.iGM(t=i.CRH())&&(e._inputElement=t.first),i.iGM(t=i.CRH())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(t,e){2&t&&(i.Ikx("id",e.id),i.uIk("tabindex",null),i.ekj("mat-checkbox-indeterminate",e.indeterminate)("mat-checkbox-checked",e.checked)("mat-checkbox-disabled",e.disabled)("mat-checkbox-label-before","before"==e.labelPosition)("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",ariaDescribedby:["aria-describedby","ariaDescribedby"],value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[i._Bn([KC]),i.qOj],ngContentSelectors:ZC,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(t,e){if(1&t&&(i.F$t(),i.TgZ(0,"label",0,1),i.TgZ(2,"span",2),i.TgZ(3,"input",3,4),i.NdJ("change",function(t){return e._onInteractionEvent(t)})("click",function(t){return e._onInputClick(t)}),i.qZA(),i.TgZ(5,"span",5),i._UZ(6,"span",6),i.qZA(),i._UZ(7,"span",7),i.TgZ(8,"span",8),i.O4$(),i.TgZ(9,"svg",9),i._UZ(10,"path",10),i.qZA(),i.kcU(),i._UZ(11,"span",11),i.qZA(),i.qZA(),i.TgZ(12,"span",12,13),i.NdJ("cdkObserveContent",function(){return e._onLabelTextChange()}),i.TgZ(14,"span",14),i._uU(15,"\xa0"),i.qZA(),i.Hsn(16),i.qZA(),i.qZA()),2&t){const t=i.MAs(1),n=i.MAs(13);i.uIk("for",e.inputId),i.xp6(2),i.ekj("mat-checkbox-inner-container-no-side-margin",!n.textContent||!n.textContent.trim()),i.xp6(1),i.Q6J("id",e.inputId)("required",e.required)("checked",e.checked)("disabled",e.disabled)("tabIndex",e.tabIndex),i.uIk("value",e.value)("name",e.name)("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby)("aria-checked",e._getAriaChecked())("aria-describedby",e.ariaDescribedby),i.xp6(2),i.Q6J("matRippleTrigger",t)("matRippleDisabled",e._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",i.VKq(19,WC,"NoopAnimations"===e._animationMode?0:150))}},directives:[L_,Of],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-ripple{outline:solid 3px}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}\n"],encapsulation:2,changeDetection:0}),t})(),nO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})(),iO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[N_,b_,Tf,nO],b_,nO]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function oO(t,e){1&t&&i.Hsn(0)}const rO=["*"];function sO(t,e){}const aO=function(t){return{animationDuration:t}},lO=function(t,e){return{value:t,params:e}},cO=["tabBodyWrapper"],uO=["tabHeader"];function hO(t,e){}function dO(t,e){if(1&t&&i.YNc(0,hO,0,0,"ng-template",9),2&t){const t=i.oxw().$implicit;i.Q6J("cdkPortalOutlet",t.templateLabel)}}function pO(t,e){if(1&t&&i._uU(0),2&t){const t=i.oxw().$implicit;i.Oqu(t.textLabel)}}function gO(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",6),i.NdJ("click",function(){const e=i.CHM(t),n=e.$implicit,o=e.index,r=i.oxw(),s=i.MAs(1);return r._handleClick(n,s,o)})("cdkFocusChange",function(e){const n=i.CHM(t).index;return i.oxw()._tabFocusChanged(e,n)}),i.TgZ(1,"div",7),i.YNc(2,dO,1,1,"ng-template",8),i.YNc(3,pO,1,1,"ng-template",8),i.qZA(),i.qZA()}if(2&t){const t=e.$implicit,n=e.index,o=i.oxw();i.ekj("mat-tab-label-active",o.selectedIndex==n),i.Q6J("id",o._getTabLabelId(n))("disabled",t.disabled)("matRippleDisabled",t.disabled||o.disableRipple),i.uIk("tabIndex",o._getTabIndex(t,n))("aria-posinset",n+1)("aria-setsize",o._tabs.length)("aria-controls",o._getTabContentId(n))("aria-selected",o.selectedIndex==n)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),i.xp6(2),i.Q6J("ngIf",t.templateLabel),i.xp6(1),i.Q6J("ngIf",!t.templateLabel)}}function mO(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"mat-tab-body",10),i.NdJ("_onCentered",function(){return i.CHM(t),i.oxw()._removeTabBodyWrapperHeight()})("_onCentering",function(e){return i.CHM(t),i.oxw()._setTabBodyWrapperHeight(e)}),i.qZA()}if(2&t){const t=e.$implicit,n=e.index,o=i.oxw();i.ekj("mat-tab-body-active",o.selectedIndex==n),i.Q6J("id",o._getTabContentId(n))("content",t.content)("position",t.position)("origin",t.origin)("animationDuration",o.animationDuration),i.uIk("aria-labelledby",o._getTabLabelId(n))}}const fO=["tabListContainer"],_O=["tabList"],bO=["nextPaginator"],vO=["previousPaginator"],yO=new i.OlP("MatInkBarPositioner",{providedIn:"root",factory:function(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});let CO=(()=>{class t{constructor(t,e,n,i){this._elementRef=t,this._ngZone=e,this._inkBarPositioner=n,this._animationMode=i}alignToElement(t){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(t))}):this._setStyles(t)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(t){const e=this._inkBarPositioner(t),n=this._elementRef.nativeElement;n.style.left=e.left,n.style.width=e.width}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.R0b),i.Y36(yO),i.Y36(Cu,8))},t.\u0275dir=i.lG2({type:t,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(t,e){2&t&&i.ekj("_mat-animation-noopable","NoopAnimations"===e._animationMode)}}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const OO=new i.OlP("MatTabContent"),TO=new i.OlP("MatTabLabel");let EO=(()=>{class t extends Qb{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275dir=i.lG2({type:t,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[i._Bn([{provide:TO,useExisting:t}]),i.qOj]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class SO{}const wO=v_(SO),MO=new i.OlP("MAT_TAB_GROUP");let xO=(()=>{class t extends wO{constructor(t,e){super(),this._viewContainerRef=t,this._closestTabGroup=e,this.textLabel="",this._contentPortal=null,this._stateChanges=new jp.xQ,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(t){this._setTemplateLabelInput(t)}get content(){return this._contentPortal}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Jb(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(t){t&&(this._templateLabel=t)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.s_b),i.Y36(MO,8))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mat-tab"]],contentQueries:function(t,e,n){if(1&t&&(i.Suo(n,TO,5),i.Suo(n,OO,7,i.Rgc)),2&t){let t;i.iGM(t=i.CRH())&&(e.templateLabel=t.first),i.iGM(t=i.CRH())&&(e._explicitContent=t.first)}},viewQuery:function(t,e){if(1&t&&i.Gf(i.Rgc,7),2&t){let t;i.iGM(t=i.CRH())&&(e._implicitContent=t.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[i.qOj,i.TTD],ngContentSelectors:rO,decls:1,vars:0,template:function(t,e){1&t&&(i.F$t(),i.YNc(0,oO,1,0,"ng-template"))},encapsulation:2}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const PO={translateTab:Fa("translateTab",[ja("center, void, left-origin-center, right-origin-center",Ga({transform:"none"})),ja("left",Ga({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),ja("right",Ga({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),za("* => left, * => right, left => center, right => center",Ua("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),za("void => left-origin-center",[Ga({transform:"translate3d(-100%, 0, 0)"}),Ua("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),za("void => right-origin-center",[Ga({transform:"translate3d(100%, 0, 0)"}),Ua("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let kO=(()=>{class t extends tv{constructor(t,e,n,i){super(t,e,i),this._host=n,this._centeringSub=Jp.w.EMPTY,this._leavingSub=Jp.w.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(a_(this._host._isCenterPosition(this._host._position))).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i._Vd),i.Y36(i.s_b),i.Y36((0,i.Gpc)(()=>AO)),i.Y36(s))},t.\u0275dir=i.lG2({type:t,selectors:[["","matTabBodyHost",""]],features:[i.qOj]}),t})(),IO=(()=>{class t{constructor(t,e,n){this._elementRef=t,this._dir=e,this._dirChangeSubscription=Jp.w.EMPTY,this._translateTabComplete=new jp.xQ,this._onCentering=new i.vpe,this._beforeCentering=new i.vpe,this._afterLeavingCenter=new i.vpe,this._onCentered=new i.vpe(!0),this.animationDuration="500ms",e&&(this._dirChangeSubscription=e.change.subscribe(t=>{this._computePositionAnimationState(t),n.markForCheck()})),this._translateTabComplete.pipe((0,Db.x)((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{this._isCenterPosition(t.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(t.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(t){this._positionIndex=t,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){const e=this._isCenterPosition(t.toState);this._beforeCentering.emit(e),e&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}_computePositionFromOrigin(t){const e=this._getLayoutDirection();return"ltr"==e&&t<=0||"rtl"==e&&t>0?"left-origin-center":"right-origin-center"}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i_,8),i.Y36(i.sBO))},t.\u0275dir=i.lG2({type:t,inputs:{animationDuration:"animationDuration",position:"position",_content:["content","_content"],origin:"origin"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),t})(),AO=(()=>{class t extends IO{constructor(t,e,n){super(t,e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i_,8),i.Y36(i.sBO))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mat-tab-body"]],viewQuery:function(t,e){if(1&t&&i.Gf(tv,5),2&t){let t;i.iGM(t=i.CRH())&&(e._portalHost=t.first)}},hostAttrs:[1,"mat-tab-body"],features:[i.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(t,e){1&t&&(i.TgZ(0,"div",0,1),i.NdJ("@translateTab.start",function(t){return e._onTranslateTabStarted(t)})("@translateTab.done",function(t){return e._translateTabComplete.next(t)}),i.YNc(2,sO,0,0,"ng-template",2),i.qZA()),2&t&&i.Q6J("@translateTab",i.WLB(3,lO,e._position,i.VKq(1,aO,e.animationDuration)))},directives:[kO],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[PO.translateTab]}}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const RO=new i.OlP("MAT_TABS_CONFIG");
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */let DO=0;class LO{}class NO{constructor(t){this._elementRef=t}}const BO=y_(C_(NO),"primary");let FO=(()=>{class t extends BO{constructor(t,e,n,o){super(t),this._changeDetectorRef=e,this._animationMode=o,this._tabs=new i.n_E,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=Jp.w.EMPTY,this._tabLabelSubscription=Jp.w.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new i.vpe,this.focusChange=new i.vpe,this.animationDone=new i.vpe,this.selectedTabChange=new i.vpe(!0),this._groupId=DO++,this.animationDuration=n&&n.animationDuration?n.animationDuration:"500ms",this.disablePagination=!(!n||null==n.disablePagination)&&n.disablePagination,this.dynamicHeight=!(!n||null==n.dynamicHeight)&&n.dynamicHeight}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(t){this._dynamicHeight=nf(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=of(t,null)}get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t)?t+"ms":t}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const e=this._elementRef.nativeElement;e.classList.remove(`mat-background-${this.backgroundColor}`),t&&e.classList.add(`mat-background-${t}`),this._backgroundColor=t}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const e=null==this._selectedIndex;if(!e){this.selectedTabChange.emit(this._createChangeEvent(t));const e=this._tabBodyWrapper.nativeElement;e.style.minHeight=e.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((e,n)=>e.isActive=n===t),e||(this.selectedIndexChange.emit(t),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((e,n)=>{e.position=n-t,null==this._selectedIndex||0!=e.position||e.origin||(e.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const t=this._tabs.toArray();for(let e=0;e<t.length;e++)if(t[e].isActive){this._indexToSelect=this._selectedIndex=e;break}}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(a_(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(t=>t._closestTabGroup===this||!t._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}focusTab(t){const e=this._tabHeader;e&&(e.focusIndex=t)}_focusChanged(t){this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const e=new LO;return e.index=t,this._tabs&&this._tabs.length&&(e.tab=this._tabs.toArray()[t]),e}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,Gp.T)(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const e=this._tabBodyWrapper.nativeElement;e.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(e.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,e,n){t.disabled||(this.selectedIndex=e.focusIndex=n)}_getTabIndex(t,e){return t.disabled?null:this.selectedIndex===e?0:-1}_tabFocusChanged(t,e){t&&(this._tabHeader.focusIndex=e)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.sBO),i.Y36(RO,8),i.Y36(Cu,8))},t.\u0275dir=i.lG2({type:t,inputs:{headerPosition:"headerPosition",animationDuration:"animationDuration",disablePagination:"disablePagination",dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[i.qOj]}),t})(),UO=(()=>{class t extends FO{constructor(t,e,n,i){super(t,e,n,i)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.sBO),i.Y36(RO,8),i.Y36(Cu,8))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mat-tab-group"]],contentQueries:function(t,e,n){if(1&t&&i.Suo(n,xO,5),2&t){let t;i.iGM(t=i.CRH())&&(e._allTabs=t)}},viewQuery:function(t,e){if(1&t&&(i.Gf(cO,5),i.Gf(uO,5)),2&t){let t;i.iGM(t=i.CRH())&&(e._tabBodyWrapper=t.first),i.iGM(t=i.CRH())&&(e._tabHeader=t.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(t,e){2&t&&i.ekj("mat-tab-group-dynamic-height",e.dynamicHeight)("mat-tab-group-inverted-header","below"===e.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[i._Bn([{provide:MO,useExisting:t}]),i.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(t,e){1&t&&(i.TgZ(0,"mat-tab-header",0,1),i.NdJ("indexFocused",function(t){return e._focusChanged(t)})("selectFocusedIndex",function(t){return e.selectedIndex=t}),i.YNc(2,gO,4,14,"div",2),i.qZA(),i.TgZ(3,"div",3,4),i.YNc(5,mO,1,8,"mat-tab-body",5),i.qZA()),2&t&&(i.Q6J("selectedIndex",e.selectedIndex||0)("disableRipple",e.disableRipple)("disablePagination",e.disablePagination),i.xp6(2),i.Q6J("ngForOf",e._tabs),i.xp6(1),i.ekj("_mat-animation-noopable","NoopAnimations"===e._animationMode),i.xp6(2),i.Q6J("ngForOf",e._tabs))},directives:function(){return[ZO,I,jO,L_,$f,R,tv,AO]},styles:[".mat-tab-group{display:flex;flex-direction:column}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class VO{}const GO=v_(VO);let jO=(()=>{class t extends GO{constructor(t){super(),this.elementRef=t}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq))},t.\u0275dir=i.lG2({type:t,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(t,e){2&t&&(i.uIk("aria-disabled",!!e.disabled),i.ekj("mat-tab-disabled",e.disabled))},inputs:{disabled:"disabled"},features:[i.qOj]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const HO=_f({passive:!0});let zO=(()=>{class t{constructor(t,e,n,o,r,s,a){this._elementRef=t,this._changeDetectorRef=e,this._viewportRuler=n,this._dir=o,this._ngZone=r,this._platform=s,this._animationMode=a,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new jp.xQ,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new jp.xQ,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new i.vpe,this.indexFocused=new i.vpe,r.runOutsideAngular(()=>{Ob(t.nativeElement,"mouseleave").pipe((0,jb.R)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){t=of(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}ngAfterViewInit(){Ob(this._previousPaginator.nativeElement,"touchstart",HO).pipe((0,jb.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Ob(this._nextPaginator.nativeElement,"touchstart",HO).pipe((0,jb.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:(0,ea.of)("ltr"),e=this._viewportRuler.change(150),n=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new Lf(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(n):n(),(0,Gp.T)(t,e,this._items.changes).pipe((0,jb.R)(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>Promise.resolve().then(n)),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe((0,jb.R)(this._destroyed)).subscribe(t=>{this.indexFocused.emit(t),this._setTabFocus(t)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!tf(t))switch(t.keyCode){case Xm:case Qm:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t));break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){this._isValidIndex(t)&&this.focusIndex!==t&&this._keyManager&&this._keyManager.setActiveItem(t)}_isValidIndex(t){if(!this._items)return!0;const e=this._items?this._items.toArray()[t]:null;return!!e&&!e.disabled}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const e=this._tabListContainer.nativeElement,n=this._getLayoutDirection();e.scrollLeft="ltr"==n?0:e.scrollWidth-e.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,e="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(e)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const e=this._items?this._items.toArray()[t]:null;if(!e)return;const n=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:i,offsetWidth:o}=e.elementRef.nativeElement;let r,s;"ltr"==this._getLayoutDirection()?(r=i,s=r+o):(s=this._tabList.nativeElement.offsetWidth-i,r=s-o);const a=this.scrollDistance,l=this.scrollDistance+n;r<a?this.scrollDistance-=a-r+60:s>l&&(this.scrollDistance+=s-l+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const t=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,e=t?t.elementRef.nativeElement:null;e?this._inkBar.alignToElement(e):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,e){e&&null!=e.button&&0!==e.button||(this._stopInterval(),Ub(650,100).pipe((0,jb.R)((0,Gp.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:e,distance:n}=this._scrollHeader(t);(0===n||n>=e)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const e=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(e,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:e,distance:this._scrollDistance}}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.sBO),i.Y36(zb),i.Y36(i_,8),i.Y36(i.R0b),i.Y36(uf),i.Y36(Cu,8))},t.\u0275dir=i.lG2({type:t,inputs:{disablePagination:"disablePagination"}}),t})(),WO=(()=>{class t extends zO{constructor(t,e,n,i,o,r,s){super(t,e,n,i,o,r,s),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=nf(t)}_itemSelected(t){t.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.sBO),i.Y36(zb),i.Y36(i_,8),i.Y36(i.R0b),i.Y36(uf),i.Y36(Cu,8))},t.\u0275dir=i.lG2({type:t,inputs:{disableRipple:"disableRipple"},features:[i.qOj]}),t})(),ZO=(()=>{class t extends WO{constructor(t,e,n,i,o,r,s){super(t,e,n,i,o,r,s)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.sBO),i.Y36(zb),i.Y36(i_,8),i.Y36(i.R0b),i.Y36(uf),i.Y36(Cu,8))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mat-tab-header"]],contentQueries:function(t,e,n){if(1&t&&i.Suo(n,jO,4),2&t){let t;i.iGM(t=i.CRH())&&(e._items=t)}},viewQuery:function(t,e){if(1&t&&(i.Gf(CO,7),i.Gf(fO,7),i.Gf(_O,7),i.Gf(bO,5),i.Gf(vO,5)),2&t){let t;i.iGM(t=i.CRH())&&(e._inkBar=t.first),i.iGM(t=i.CRH())&&(e._tabListContainer=t.first),i.iGM(t=i.CRH())&&(e._tabList=t.first),i.iGM(t=i.CRH())&&(e._nextPaginator=t.first),i.iGM(t=i.CRH())&&(e._previousPaginator=t.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(t,e){2&t&&i.ekj("mat-tab-header-pagination-controls-enabled",e._showPaginationControls)("mat-tab-header-rtl","rtl"==e._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[i.qOj],ngContentSelectors:rO,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(t,e){1&t&&(i.F$t(),i.TgZ(0,"div",0,1),i.NdJ("click",function(){return e._handlePaginatorClick("before")})("mousedown",function(t){return e._handlePaginatorPress("before",t)})("touchend",function(){return e._stopInterval()}),i._UZ(2,"div",2),i.qZA(),i.TgZ(3,"div",3,4),i.NdJ("keydown",function(t){return e._handleKeydown(t)}),i.TgZ(5,"div",5,6),i.NdJ("cdkObserveContent",function(){return e._onContentChanges()}),i.TgZ(7,"div",7),i.Hsn(8),i.qZA(),i._UZ(9,"mat-ink-bar"),i.qZA(),i.qZA(),i.TgZ(10,"div",8,9),i.NdJ("mousedown",function(t){return e._handlePaginatorPress("after",t)})("click",function(){return e._handlePaginatorClick("after")})("touchend",function(){return e._stopInterval()}),i._UZ(12,"div",2),i.qZA()),2&t&&(i.ekj("mat-tab-header-pagination-disabled",e._disableScrollBefore),i.Q6J("matRippleDisabled",e._disableScrollBefore||e.disableRipple),i.xp6(5),i.ekj("_mat-animation-noopable","NoopAnimations"===e._animationMode),i.xp6(5),i.ekj("mat-tab-header-pagination-disabled",e._disableScrollAfter),i.Q6J("matRippleDisabled",e._disableScrollAfter||e.disableRipple))},directives:[L_,Of,CO],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n'],encapsulation:2}),t})(),YO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[J,b_,ev,N_,Tf,e_],b_]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function qO(t,e){}class JO{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const $O={dialogContainer:Fa("dialogContainer",[ja("void, exit",Ga({opacity:0,transform:"scale(0.7)"})),ja("enter",Ga({transform:"none"})),za("* => enter",Ua("150ms cubic-bezier(0, 0, 0.2, 1)",Ga({transform:"none",opacity:1}))),za("* => void, * => exit",Ua("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Ga({opacity:0})))])};
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */let KO=(()=>{class t extends Kb{constructor(t,e,n,o,r,s){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._config=r,this._focusMonitor=s,this._animationStateChanged=new i.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=t=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=r.ariaLabelledBy||null,this._document=o}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=vf(),n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=vf())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,e=vf();return t===e||t.contains(e)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(Vf),i.Y36(i.sBO),i.Y36(s,8),i.Y36(JO),i.Y36(qf))},t.\u0275dir=i.lG2({type:t,viewQuery:function(t,e){if(1&t&&i.Gf(tv,7),2&t){let t;i.iGM(t=i.CRH())&&(e._portalOutlet=t.first)}},features:[i.qOj]}),t})(),XO=(()=>{class t extends KO{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:e}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:e}))}_onAnimationStart({toState:t,totalTime:e}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:e}):"exit"!==t&&"void"!==t||this._animationStateChanged.next({state:"closing",totalTime:e})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275cmp=i.Xpm({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&i.WFA("@dialogContainer.start",function(t){return e._onAnimationStart(t)})("@dialogContainer.done",function(t){return e._onAnimationDone(t)}),2&t&&(i.Ikx("id",e._id),i.uIk("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),i.d8E("@dialogContainer",e._state))},features:[i.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&i.YNc(0,qO,0,0,"ng-template",0)},directives:[tv],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[$O.dialogContainer]}}),t})(),QO=0;class tT{constructor(t,e,n="mat-dialog-"+QO++){this._overlayRef=t,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new jp.xQ,this._afterClosed=new jp.xQ,this._beforeClosed=new jp.xQ,this._state=0,e._id=n,e._animationStateChanged.pipe((0,ia.h)(t=>"opened"===t.state),(0,vp.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe((0,ia.h)(t=>"closed"===t.state),(0,vp.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe((0,ia.h)(t=>27===t.keyCode&&!this.disableClose&&!tf(t))).subscribe(t=>{t.preventDefault(),eT(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():eT(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe((0,ia.h)(t=>"closing"===t.state),(0,vp.q)(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function eT(t,e,n){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=e),t.close(n)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const nT=new i.OlP("MatDialogData"),iT=new i.OlP("mat-dialog-default-options"),oT=new i.OlP("mat-dialog-scroll-strategy"),rT={provide:oT,deps:[Av],useFactory:function(t){return()=>t.scrollStrategies.block()}};let sT=(()=>{class t{constructor(t,e,n,i,o,r,s,a,l){this._overlay=t,this._injector=e,this._defaultOptions=n,this._parentDialog=i,this._overlayContainer=o,this._dialogRefConstructor=s,this._dialogContainerType=a,this._dialogDataToken=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new jp.xQ,this._afterOpenedAtThisLevel=new jp.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=bp(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(a_(void 0))),this._scrollStrategy=r}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,e){(e=function(t,e){return Object.assign(Object.assign({},e),t)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(e,this._defaultOptions||new JO)).id&&this.getDialogById(e.id);const n=this._createOverlay(e),i=this._attachDialogContainer(n,e),o=this._attachDialogContent(t,i,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(o),o.afterClosed().subscribe(()=>this._removeOpenDialog(o)),this.afterOpened.next(o),i._initializeWithAttachedContent(),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new dv({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=i.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:JO,useValue:e}]}),o=new qb(this._dialogContainerType,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(o).instance}_attachDialogContent(t,e,n,o){const r=new this._dialogRefConstructor(n,e,o.id);if(t instanceof i.Rgc)e.attachTemplatePortal(new Jb(t,null,{$implicit:o.data,dialogRef:r}));else{const n=this._createInjector(o,r,e),i=e.attachComponentPortal(new qb(t,o.viewContainerRef,n));r.componentInstance=i.instance}return r.updateSize(o.width,o.height).updatePosition(o.position),r}_createInjector(t,e,n){const o=t&&t.viewContainerRef&&t.viewContainerRef.injector,r=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:e}];return!t.direction||o&&o.get(i_,null)||r.push({provide:i_,useValue:{value:t.direction,change:(0,ea.of)()}}),i.zs3.create({parent:o||this._injector,providers:r})}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let i=e[n];i===t||"SCRIPT"===i.nodeName||"STYLE"===i.nodeName||i.hasAttribute("aria-live")||(this._ariaHiddenElements.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Av),i.Y36(i.zs3),i.Y36(void 0),i.Y36(void 0),i.Y36(vv),i.Y36(void 0),i.Y36(i.DyG),i.Y36(i.DyG),i.Y36(i.OlP))},t.\u0275dir=i.lG2({type:t}),t})(),aT=(()=>{class t extends sT{constructor(t,e,n,i,o,r,s){super(t,e,i,r,s,o,tT,XO,nT)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Av),i.LFG(i.zs3),i.LFG(C,8),i.LFG(iT,8),i.LFG(oT),i.LFG(t,12),i.LFG(vv))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),lT=0,cT=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this._elementRef=e,this._dialog=n,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=pT(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const e=t._matDialogClose||t._matDialogCloseResult;e&&(this.dialogResult=e.currentValue)}_onButtonClick(t){eT(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(tT,8),i.Y36(i.SBq),i.Y36(aT))},t.\u0275dir=i.lG2({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,e){1&t&&i.NdJ("click",function(t){return e._onButtonClick(t)}),2&t&&i.uIk("aria-label",e.ariaLabel||null)("type",e.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[i.TTD]}),t})(),uT=(()=>{class t{constructor(t,e,n){this._dialogRef=t,this._elementRef=e,this._dialog=n,this.id="mat-dialog-title-"+lT++}ngOnInit(){this._dialogRef||(this._dialogRef=pT(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(tT,8),i.Y36(i.SBq),i.Y36(aT))},t.\u0275dir=i.lG2({type:t,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,e){2&t&&i.Ikx("id",e.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),t})(),hT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.lG2({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),t})(),dT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.lG2({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),t})();function pT(t,e){let n=t.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?e.find(t=>t.id===n.id):null}let gT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[aT,rT],imports:[[Fv,ev,b_],b_]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var mT=n(8802);function fT(t,e=Lb.P){const n=(0,mT.J)(t)?+t-e.now():Math.abs(t);return t=>t.lift(new _T(n,e))}class _T{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new bT(t,this.delay,this.scheduler))}}class bT extends Fu.L{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,i=t.scheduler,o=t.destination;for(;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(o);if(n.length>0){const e=Math.max(0,n[0].time-i.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(bT.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new vT(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(Wp.P.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(Wp.P.createComplete()),this.unsubscribe()}}class vT{constructor(t,e){this.time=t,this.notification=e}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const yT={provide:new i.OlP("mat-autocomplete-scroll-strategy"),deps:[Av],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let CT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[yT],imports:[[Fv,K_,b_,J],Wb,K_,b_]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const OT=["sliderWrapper"],TT=_f({passive:!1}),ET={provide:Mr,useExisting:(0,i.Gpc)(()=>xT),multi:!0};class ST{}class wT{constructor(t){this._elementRef=t}}const MT=O_(y_(v_(wT),"accent"));let xT=(()=>{class t extends MT{constructor(t,e,n,o,r,s,a,l){super(t),this._focusMonitor=e,this._changeDetectorRef=n,this._dir=o,this._ngZone=s,this._animationMode=l,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new i.vpe,this.input=new i.vpe,this.valueChange=new i.vpe,this.onTouched=()=>{},this._percent=0,this._isSliding=!1,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=()=>{},this._dirChangeSubscription=Jp.w.EMPTY,this._pointerDown=t=>{this.disabled||this._isSliding||!PT(t)&&0!==t.button||this._ngZone.run(()=>{const e=this.value,n=kT(t);this._isSliding=!0,this._lastPointerEvent=t,t.preventDefault(),this._focusHostElement(),this._onMouseenter(),this._bindGlobalEvents(t),this._focusHostElement(),this._updateValueFromPosition(n),this._valueOnSlideStart=e,e!=this.value&&this._emitInputEvent()})},this._pointerMove=t=>{if(this._isSliding){t.preventDefault();const e=this.value;this._lastPointerEvent=t,this._updateValueFromPosition(kT(t)),e!=this.value&&this._emitInputEvent()}},this._pointerUp=t=>{this._isSliding&&(t.preventDefault(),this._removeGlobalEvents(),this._isSliding=!1,this._valueOnSlideStart==this.value||this.disabled||this._emitChangeEvent(),this._valueOnSlideStart=this._lastPointerEvent=null)},this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this._document=a,this.tabIndex=parseInt(r)||0,s.runOutsideAngular(()=>{const e=t.nativeElement;e.addEventListener("mousedown",this._pointerDown,TT),e.addEventListener("touchstart",this._pointerDown,TT)})}get invert(){return this._invert}set invert(t){this._invert=nf(t)}get max(){return this._max}set max(t){this._max=of(t,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(t){this._min=of(t,this._min),null===this._value&&(this.value=this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(t){this._step=of(t,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(t){this._thumbLabel=nf(t)}get tickInterval(){return this._tickInterval}set tickInterval(t){this._tickInterval="auto"===t?"auto":"number"==typeof t||"string"==typeof t?of(t,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(t){if(t!==this._value){let e=of(t);this._roundToDecimal&&e!==this.min&&e!==this.max&&(e=parseFloat(e.toFixed(this._roundToDecimal))),this._value=e,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(t){this._vertical=nf(t)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(t){this._focusHostElement(t)}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}_shouldInvertAxis(){return this.vertical?!this.invert:this.invert}_isMinValue(){return 0===this.percent}_getThumbGap(){return this.disabled?7:this._isMinValue()&&!this.thumbLabel?this._isActive?10:7:0}_getTrackBackgroundStyles(){const t=this.vertical?`1, ${1-this.percent}, 1`:1-this.percent+", 1, 1";return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"-":""}${this._getThumbGap()}px) scale3d(${t})`}}_getTrackFillStyles(){const t=this.percent,e=this.vertical?`1, ${t}, 1`:`${t}, 1, 1`;return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"":"-"}${this._getThumbGap()}px) scale3d(${e})`,display:0===t?"none":""}}_getTicksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}_getTicksStyles(){let t=100*this._tickIntervalPercent,e={backgroundSize:this.vertical?`2px ${t}%`:`${t}% 2px`,transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"":"-"}${t/2}%)${this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)"}`};if(this._isMinValue()&&this._getThumbGap()){const t=this._shouldInvertAxis();let n;n=this.vertical?t?"Bottom":"Top":t?"Right":"Left",e[`padding${n}`]=`${this._getThumbGap()}px`}return e}_getThumbContainerStyles(){const t=this._shouldInvertAxis();return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._getDirection()||this.vertical?t:!t)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){const t=this._shouldInvertAxis();return"rtl"!=this._getDirection()||this.vertical?t:!t}_getDirection(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{this._isActive=!!t&&"keyboard"!==t,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){const t=this._elementRef.nativeElement;t.removeEventListener("mousedown",this._pointerDown,TT),t.removeEventListener("touchstart",this._pointerDown,TT),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(t){if(this.disabled||tf(t))return;const e=this.value;switch(t.keyCode){case 33:this._increment(10);break;case 34:this._increment(-10);break;case 35:this.value=this.max;break;case 36:this.value=this.min;break;case 37:this._increment("rtl"==this._getDirection()?1:-1);break;case 38:this._increment(1);break;case 39:this._increment("rtl"==this._getDirection()?-1:1);break;case 40:this._increment(-1);break;default:return}e!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding=!0,t.preventDefault()}_onKeyup(){this._isSliding=!1}_getWindow(){return this._document.defaultView||window}_bindGlobalEvents(t){const e=this._document,n=PT(t),i=n?"touchend":"mouseup";e.addEventListener(n?"touchmove":"mousemove",this._pointerMove,TT),e.addEventListener(i,this._pointerUp,TT),n&&e.addEventListener("touchcancel",this._pointerUp,TT);const o=this._getWindow();void 0!==o&&o&&o.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){const t=this._document;t.removeEventListener("mousemove",this._pointerMove,TT),t.removeEventListener("mouseup",this._pointerUp,TT),t.removeEventListener("touchmove",this._pointerMove,TT),t.removeEventListener("touchend",this._pointerUp,TT),t.removeEventListener("touchcancel",this._pointerUp,TT);const e=this._getWindow();void 0!==e&&e&&e.removeEventListener("blur",this._windowBlur)}_increment(t){this.value=this._clamp((this.value||0)+this.step*t,this.min,this.max)}_updateValueFromPosition(t){if(!this._sliderDimensions)return;let e=this._clamp(((this.vertical?t.y:t.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(e=1-e),0===e)this.value=this.min;else if(1===e)this.value=this.max;else{const t=this._calculateValue(e),n=Math.round((t-this.min)/this.step)*this.step+this.min;this.value=this._clamp(n,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(this.tickInterval&&this._sliderDimensions)if("auto"==this.tickInterval){let t=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width,e=Math.ceil(30/(t*this.step/(this.max-this.min)));this._tickIntervalPercent=e*this.step/t}else this._tickIntervalPercent=this.tickInterval*this.step/(this.max-this.min)}_createChangeEvent(t=this.value){let e=new ST;return e.source=this,e.value=t,e}_calculatePercentage(t){return((t||0)-this.min)/(this.max-this.min)}_calculateValue(t){return this.min+t*(this.max-this.min)}_clamp(t,e=0,n=1){return Math.max(e,Math.min(t,n))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(t){this._elementRef.nativeElement.focus(t)}_blurHostElement(){this._elementRef.nativeElement.blur()}writeValue(t){this.value=t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(qf),i.Y36(i.sBO),i.Y36(i_,8),i.$8M("tabindex"),i.Y36(i.R0b),i.Y36(s),i.Y36(Cu,8))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mat-slider"]],viewQuery:function(t,e){if(1&t&&i.Gf(OT,5),2&t){let t;i.iGM(t=i.CRH())&&(e._sliderWrapper=t.first)}},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:29,hostBindings:function(t,e){1&t&&i.NdJ("focus",function(){return e._onFocus()})("blur",function(){return e._onBlur()})("keydown",function(t){return e._onKeydown(t)})("keyup",function(){return e._onKeyup()})("mouseenter",function(){return e._onMouseenter()})("selectstart",function(t){return t.preventDefault()}),2&t&&(i.Ikx("tabIndex",e.tabIndex),i.uIk("aria-disabled",e.disabled)("aria-valuemax",e.max)("aria-valuemin",e.min)("aria-valuenow",e.value)("aria-valuetext",null==e.valueText?e.displayValue:e.valueText)("aria-orientation",e.vertical?"vertical":"horizontal"),i.ekj("mat-slider-disabled",e.disabled)("mat-slider-has-ticks",e.tickInterval)("mat-slider-horizontal",!e.vertical)("mat-slider-axis-inverted",e._shouldInvertAxis())("mat-slider-invert-mouse-coords",e._shouldInvertMouseCoords())("mat-slider-sliding",e._isSliding)("mat-slider-thumb-label-showing",e.thumbLabel)("mat-slider-vertical",e.vertical)("mat-slider-min-value",e._isMinValue())("mat-slider-hide-last-tick",e.disabled||e._isMinValue()&&e._getThumbGap()&&e._shouldInvertAxis())("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",value:"value",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",vertical:"vertical",displayWith:"displayWith",valueText:"valueText"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[i._Bn([ET]),i.qOj],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0,1),i.TgZ(2,"div",2),i._UZ(3,"div",3),i._UZ(4,"div",4),i.qZA(),i.TgZ(5,"div",5),i._UZ(6,"div",6),i.qZA(),i.TgZ(7,"div",7),i._UZ(8,"div",8),i._UZ(9,"div",9),i.TgZ(10,"div",10),i.TgZ(11,"span",11),i._uU(12),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(3),i.Q6J("ngStyle",e._getTrackBackgroundStyles()),i.xp6(1),i.Q6J("ngStyle",e._getTrackFillStyles()),i.xp6(1),i.Q6J("ngStyle",e._getTicksContainerStyles()),i.xp6(1),i.Q6J("ngStyle",e._getTicksStyles()),i.xp6(1),i.Q6J("ngStyle",e._getThumbContainerStyles()),i.xp6(5),i.Oqu(e.displayValue))},directives:[V],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:-webkit-grabbing;cursor:grabbing}.mat-slider-wrapper{position:absolute;-webkit-print-color-adjust:exact;color-adjust:exact}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{background-repeat:repeat;background-clip:content-box;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:-webkit-grab;cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid transparent;border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}\n'],encapsulation:2,changeDetection:0}),t})();function PT(t){return"t"===t.type[0]}function kT(t){const e=PT(t)?t.touches[0]||t.changedTouches[0]:t;return{x:e.clientX,y:e.clientY}}let IT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[J,b_],b_]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const AT=["*",[["mat-card-footer"]]],RT=["*","mat-card-footer"];let DT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.lG2({type:t,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),t})(),LT=(()=>{class t{constructor(t){this._animationMode=t}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Cu,8))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,e){2&t&&i.ekj("_mat-animation-noopable","NoopAnimations"===e._animationMode)},exportAs:["matCard"],ngContentSelectors:RT,decls:2,vars:0,template:function(t,e){1&t&&(i.F$t(AT),i.Hsn(0),i.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),t})(),NT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[b_],b_]}),t})();function BT(t){return e=>e.lift(new FT(t))}class FT{constructor(t){this.callback=t}call(t,e){return e.subscribe(new UT(t,this.callback))}}class UT extends Fu.L{constructor(t,e){super(t),this.add(new Jp.w(e))}}var VT=n(1055);
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const GT=["*"];function jT(t){return Error(`Unable to find icon with the name "${t}"`)}function HT(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function zT(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class WT{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let ZT=(()=>{class t{constructor(t,e,n,i){this._httpClient=t,this._sanitizer=e,this._errorHandler=i,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,i){return this._addSvgIconConfig(t,e,new WT(n,null,i))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,e,n,o){const r=this._sanitizer.sanitize(i.q3G.HTML,n);if(!r)throw zT(n);return this._addSvgIconConfig(t,e,new WT("",r,o))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new WT(e,null,n))}addSvgIconSetLiteralInNamespace(t,e,n){const o=this._sanitizer.sanitize(i.q3G.HTML,e);if(!o)throw zT(e);return this._addSvgIconSetConfig(t,new WT("",o,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(i.q3G.RESOURCE_URL,t);if(!e)throw HT(t);const n=this._cachedIconsByUrl.get(e);return n?(0,ea.of)(YT(n)):this._loadSvgIconFromConfig(new WT(t,null)).pipe(Gu(t=>this._cachedIconsByUrl.set(e,t)),(0,Cr.U)(t=>YT(t)))}getNamedSvgIcon(t,e=""){const n=qT(e,t);let i=this._svgIconConfigs.get(n);if(i)return this._getSvgFromConfig(i);if(i=this._getIconConfigFromResolvers(e,t),i)return this._svgIconConfigs.set(n,i),this._getSvgFromConfig(i);const o=this._iconSetConfigs.get(e);return o?this._getSvgFromIconSetConfigs(t,o):(0,Wu._)(jT(n))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?(0,ea.of)(YT(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,Cr.U)(t=>YT(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?(0,ea.of)(n):Tr(e.filter(t=>!t.svgText).map(t=>this._loadSvgIconSetFromConfig(t).pipe((0,qp.K)(e=>{const n=this._sanitizer.sanitize(i.q3G.RESOURCE_URL,t.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${e.message}`)),(0,ea.of)(null)})))).pipe((0,Cr.U)(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw jT(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const i=e[n];if(i.svgText&&i.svgText.indexOf(t)>-1){const e=this._svgElementFromConfig(i),n=this._extractSvgIconFromSet(e,t,i.options);if(n)return n}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Gu(e=>t.svgText=e),(0,Cr.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?(0,ea.of)(null):this._fetchIcon(t).pipe(Gu(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,n){const i=t.querySelector(`[id="${e}"]`);if(!i)return null;const o=i.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,n);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),n);const r=this._svgElementFromString("<svg></svg>");return r.appendChild(o),this._setSvgAttributes(r,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let i=0;i<n.length;i++){const{name:t,value:o}=n[i];"id"!==t&&e.setAttribute(t,o)}for(let i=0;i<t.childNodes.length;i++)t.childNodes[i].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[i].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){var e;const{url:n,options:o}=t,r=null!==(e=null==o?void 0:o.withCredentials)&&void 0!==e&&e;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const s=this._sanitizer.sanitize(i.q3G.RESOURCE_URL,n);if(!s)throw HT(n);const a=this._inProgressUrlFetches.get(s);if(a)return a;const l=this._httpClient.get(s,{responseType:"text",withCredentials:r}).pipe(BT(()=>this._inProgressUrlFetches.delete(s)),(0,VT.B)());return this._inProgressUrlFetches.set(s,l),l}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(qT(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){const e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}_getIconConfigFromResolvers(t,e){for(let i=0;i<this._resolvers.length;i++){const o=this._resolvers[i](e,t);if(o)return(n=o).url&&n.options?new WT(o.url,null,o.options):new WT(o,null)}var n;
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Oa,8),i.LFG(xt),i.LFG(s,8),i.LFG(i.qLn))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(Oa,8),i.LFG(xt),i.LFG(s,8),i.LFG(i.qLn))},token:t,providedIn:"root"}),t})();function YT(t){return t.cloneNode(!0)}function qT(t,e){return t+":"+e}class JT{constructor(t){this._elementRef=t}}const $T=y_(JT),KT=new i.OlP("mat-icon-location",{providedIn:"root",factory:function(){const t=(0,i.f3M)(s),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),XT=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],QT=XT.map(t=>`[${t}]`).join(", "),tE=/^url\(['"]?#(.*?)['"]?\)$/;let eE=(()=>{class t extends $T{constructor(t,e,n,i,o){super(t),this._iconRegistry=e,this._location=i,this._errorHandler=o,this._inline=!1,this._currentIconFetch=Jp.w.EMPTY,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=nf(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let i=0;i<e.length;i++)e[i].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(QT),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let i=0;i<e.length;i++)XT.forEach(t=>{const o=e[i],r=o.getAttribute(t),s=r?r.match(tE):null;if(s){let e=n.get(o);e||(e=[],n.set(o,e)),e.push({name:t,value:s[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[e,n]=this._splitIconName(t);e&&(this._svgNamespace=e),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,e).pipe((0,vp.q)(1)).subscribe(t=>this._setSvgElement(t),t=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${e}:${n}! ${t.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(ZT),i.$8M("aria-hidden"),i.Y36(KT),i.Y36(i.qLn))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,e){2&t&&(i.uIk("data-mat-icon-type",e._usingFontIcon()?"font":"svg")("data-mat-icon-name",e._svgName||e.fontIcon)("data-mat-icon-namespace",e._svgNamespace||e.fontSet),i.ekj("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[i.qOj],ngContentSelectors:GT,decls:1,vars:0,template:function(t,e){1&t&&(i.F$t(),i.Hsn(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),nE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[b_],b_]}),t})(),iE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[M_,b_],M_,b_]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const oE=["mat-menu-item",""],rE=["*"];function sE(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",0),i.NdJ("keydown",function(e){return i.CHM(t),i.oxw()._handleKeydown(e)})("click",function(){return i.CHM(t),i.oxw().closed.emit("click")})("@transformMenu.start",function(e){return i.CHM(t),i.oxw()._onAnimationStart(e)})("@transformMenu.done",function(e){return i.CHM(t),i.oxw()._onAnimationDone(e)}),i.TgZ(1,"div",1),i.Hsn(2),i.qZA(),i.qZA()}if(2&t){const t=i.oxw();i.Q6J("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),i.uIk("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const aE={transformMenu:Fa("transformMenu",[ja("void",Ga({opacity:0,transform:"scale(0.8)"})),za("void => enter",Ua("120ms cubic-bezier(0, 0, 0.2, 1)",Ga({opacity:1,transform:"scale(1)"}))),za("* => void",Ua("100ms 25ms linear",Ga({opacity:0})))]),fadeInItems:Fa("fadeInItems",[ja("showing",Ga({opacity:1})),za("void => *",[Ga({opacity:0}),Ua("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},lE=new i.OlP("MatMenuContent"),cE=new i.OlP("MAT_MENU_PANEL");
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class uE{}const hE=C_(v_(uE));let dE=(()=>{class t extends hE{constructor(t,e,n,i){super(),this._elementRef=t,this._focusMonitor=n,this._parentMenu=i,this.role="menuitem",this._hovered=new jp.xQ,this._focused=new jp.xQ,this._highlighted=!1,this._triggersSubmenu=!1,i&&i.addItem&&i.addItem(this)}focus(t,e){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var t,e;const n=this._elementRef.nativeElement.cloneNode(!0),i=n.querySelectorAll("mat-icon, .material-icons");for(let o=0;o<i.length;o++){const e=i[o];null===(t=e.parentNode)||void 0===t||t.removeChild(e)}return(null===(e=n.textContent)||void 0===e?void 0:e.trim())||""}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(s),i.Y36(qf),i.Y36(cE,8))},t.\u0275cmp=i.Xpm({type:t,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,e){1&t&&i.NdJ("click",function(t){return e._checkDisabled(t)})("mouseenter",function(){return e._handleMouseEnter()}),2&t&&(i.uIk("role",e.role)("tabindex",e._getTabIndex())("aria-disabled",e.disabled.toString())("disabled",e.disabled||null),i.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",e._highlighted)("mat-menu-item-submenu-trigger",e._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[i.qOj],attrs:oE,ngContentSelectors:rE,decls:2,vars:2,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"]],template:function(t,e){1&t&&(i.F$t(),i.Hsn(0),i._UZ(1,"div",0)),2&t&&(i.xp6(1),i.Q6J("matRippleDisabled",e.disableRipple||e.disabled)("matRippleTrigger",e._getHostElement()))},directives:[L_],encapsulation:2,changeDetection:0}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const pE=new i.OlP("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let gE=0,mE=(()=>{class t{constructor(t,e,n){this._elementRef=t,this._ngZone=e,this._defaultOptions=n,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new i.n_E,this._tabSubscription=Jp.w.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new jp.xQ,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new i.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+gE++}get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=nf(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=nf(t)}set panelClass(t){const e=this._previousPanelClass;e&&e.length&&e.split(" ").forEach(t=>{this._classList[t]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(t=>{this._classList[t]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Lf(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(a_(this._directDescendantItems),(0,zu.w)(t=>(0,Gp.T)(...t.map(t=>t._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(a_(this._directDescendantItems),(0,zu.w)(t=>(0,Gp.T)(...t.map(t=>t._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const e=t.keyCode,n=this._keyManager;switch(e){case 27:tf(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:38!==e&&40!==e||n.setFocusOrigin("keyboard"),n.onKeydown(t)}}focusFirstItem(t="program"){this.lazyContent?this._ngZone.onStable.pipe((0,vp.q)(1)).subscribe(()=>this._focusFirstItem(t)):this._focusFirstItem(t)}_focusFirstItem(t){const e=this._keyManager;if(e.setFocusOrigin(t).setFirstItemActive(),!e.activeItem&&this._directDescendantItems.length){let t=this._directDescendantItems.first._getHostElement().parentElement;for(;t;){if("menu"===t.getAttribute("role")){t.focus();break}t=t.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const e=`mat-elevation-z${Math.min(4+t,24)}`,n=Object.keys(this._classList).find(t=>t.startsWith("mat-elevation-z"));n&&n!==this._previousElevation||(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[e]=!0,this._previousElevation=e)}setPositionClasses(t=this.xPosition,e=this.yPosition){const n=this._classList;n["mat-menu-before"]="before"===t,n["mat-menu-after"]="after"===t,n["mat-menu-above"]="above"===e,n["mat-menu-below"]="below"===e}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(a_(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(t=>t._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.R0b),i.Y36(pE))},t.\u0275dir=i.lG2({type:t,contentQueries:function(t,e,n){if(1&t&&(i.Suo(n,lE,5),i.Suo(n,dE,5),i.Suo(n,dE,4)),2&t){let t;i.iGM(t=i.CRH())&&(e.lazyContent=t.first),i.iGM(t=i.CRH())&&(e._allItems=t),i.iGM(t=i.CRH())&&(e.items=t)}},viewQuery:function(t,e){if(1&t&&i.Gf(i.Rgc,5),2&t){let t;i.iGM(t=i.CRH())&&(e.templateRef=t.first)}},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),t})(),fE=(()=>{class t extends mE{constructor(t,e,n){super(t,e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.R0b),i.Y36(pE))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(t,e){2&t&&i.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[i._Bn([{provide:cE,useExisting:t}]),i.qOj],ngContentSelectors:rE,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,e){1&t&&(i.F$t(),i.YNc(0,sE,3,6,"ng-template"))},directives:[P],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:"";display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[aE.transformMenu,aE.fadeInItems]},changeDetection:0}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const _E=new i.OlP("mat-menu-scroll-strategy"),bE={provide:_E,deps:[Av],useFactory:function(t){return()=>t.scrollStrategies.reposition()}},vE=_f({passive:!0});let yE=(()=>{class t{constructor(t,e,n,o,r,s,a,l){this._overlay=t,this._element=e,this._viewContainerRef=n,this._menuItemInstance=s,this._dir=a,this._focusMonitor=l,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Jp.w.EMPTY,this._hoverSubscription=Jp.w.EMPTY,this._menuCloseSubscription=Jp.w.EMPTY,this._handleTouchStart=t=>{Wf(t)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new i.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new i.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=r instanceof mE?r:void 0,e.nativeElement.addEventListener("touchstart",this._handleTouchStart,vE),s&&(s._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(t=>{this._destroyMenu(t),"click"!==t&&"tab"!==t||!this._parentMaterialMenu||this._parentMaterialMenu.closed.emit(t)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,vE),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const t=this._createOverlay(),e=t.getConfig();this._setPosition(e.positionStrategy),e.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,t.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof mE&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(t,e){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,e):this._element.nativeElement.focus(e)}updatePosition(){var t;null===(t=this._overlayRef)||void 0===t||t.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const e=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),!this.restoreFocus||"keydown"!==t&&this._openedBy&&this.triggersSubmenu()||this.focus(this._openedBy),this._openedBy=void 0,e instanceof mE?(e._resetAnimation(),e.lazyContent?e._animationDone.pipe((0,ia.h)(t=>"void"===t.toState),(0,vp.q)(1),(0,jb.R)(e.lazyContent._attached)).subscribe({next:()=>e.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),e.lazyContent&&e.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let t=0,e=this.menu.parentMenu;for(;e;)t++,e=e.parentMenu;this.menu.setElevation(t)}}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=t)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const t=this._getOverlayConfig();this._subscribeToPositions(t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new dv({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t){this.menu.setPositionClasses&&t.positionChanges.subscribe(t=>{this.menu.setPositionClasses("start"===t.connectionPair.overlayX?"after":"before","top"===t.connectionPair.overlayY?"below":"above")})}_setPosition(t){let[e,n]="before"===this.menu.xPosition?["end","start"]:["start","end"],[i,o]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[r,s]=[i,o],[a,l]=[e,n],c=0;this.triggersSubmenu()?(l=e="before"===this.menu.xPosition?"start":"end",n=a="end"===e?"start":"end",c="bottom"===i?8:-8):this.menu.overlapTrigger||(r="top"===i?"bottom":"top",s="top"===o?"bottom":"top"),t.withPositions([{originX:e,originY:r,overlayX:a,overlayY:i,offsetY:c},{originX:n,originY:r,overlayX:l,overlayY:i,offsetY:c},{originX:e,originY:s,overlayX:a,overlayY:o,offsetY:-c},{originX:n,originY:s,overlayX:l,overlayY:o,offsetY:-c}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),e=this._overlayRef.detachments(),n=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,ea.of)(),i=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,ia.h)(t=>t!==this._menuItemInstance),(0,ia.h)(()=>this._menuOpen)):(0,ea.of)();return(0,Gp.T)(t,n,i,e)}_handleMousedown(t){zf(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const e=t.keyCode;e!==Xm&&e!==Qm||(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===e&&"ltr"===this.dir||37===e&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&this._parentMaterialMenu&&(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,ia.h)(t=>t===this._menuItemInstance&&!t.disabled),fT(0,Rb)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof mE&&this.menu._isAnimating?this.menu._animationDone.pipe((0,vp.q)(1),fT(0,Rb),(0,jb.R)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return this._portal&&this._portal.templateRef===this.menu.templateRef||(this._portal=new Jb(this.menu.templateRef,this._viewContainerRef)),this._portal}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Av),i.Y36(i.SBq),i.Y36(i.s_b),i.Y36(_E),i.Y36(cE,8),i.Y36(dE,10),i.Y36(i_,8),i.Y36(qf))},t.\u0275dir=i.lG2({type:t,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:["aria-haspopup","true",1,"mat-menu-trigger"],hostVars:2,hostBindings:function(t,e){1&t&&i.NdJ("mousedown",function(t){return e._handleMousedown(t)})("keydown",function(t){return e._handleKeydown(t)})("click",function(t){return e._handleClick(t)}),2&t&&i.uIk("aria-expanded",e.menuOpen||null)("aria-controls",e.menuOpen?e.menu.panelId:null)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]}),t})(),CE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[bE],imports:[b_]}),t})(),OE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[bE],imports:[[J,b_,N_,Fv,CE],Wb,b_,CE]}),t})();const TE=new i.OlP("CdkAccordion");let EE=0,SE=(()=>{class t{constructor(t,e,n){this.accordion=t,this._changeDetectorRef=e,this._expansionDispatcher=n,this._openCloseAllSubscription=Jp.w.EMPTY,this.closed=new i.vpe,this.opened=new i.vpe,this.destroyed=new i.vpe,this.expandedChange=new i.vpe,this.id="cdk-accordion-child-"+EE++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=n.listen((t,e)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===e&&this.id!==t&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(t){t=nf(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=nf(t)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(TE,12),i.Y36(i.sBO),i.Y36(cb))},t.\u0275dir=i.lG2({type:t,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[i._Bn([{provide:TE,useValue:void 0}])]}),t})(),wE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const ME=["body"];function xE(t,e){}const PE=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],kE=["mat-expansion-panel-header","*","mat-action-row"],IE=new i.OlP("MAT_ACCORDION"),AE="225ms cubic-bezier(0.4,0.0,0.2,1)",RE={indicatorRotate:Fa("indicatorRotate",[ja("collapsed, void",Ga({transform:"rotate(0deg)"})),ja("expanded",Ga({transform:"rotate(180deg)"})),za("expanded <=> collapsed, void => collapsed",Ua(AE))]),bodyExpansion:Fa("bodyExpansion",[ja("collapsed, void",Ga({height:"0px",visibility:"hidden"})),ja("expanded",Ga({height:"*",visibility:"visible"})),za("expanded <=> collapsed, void => collapsed",Ua(AE))])};let DE=(()=>{class t{constructor(t){this._template=t}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc))},t.\u0275dir=i.lG2({type:t,selectors:[["ng-template","matExpansionPanelContent",""]]}),t})(),LE=0;
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const NE=new i.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let BE=(()=>{class t extends SE{constructor(t,e,n,o,r,s,a){super(t,e,n),this._viewContainerRef=o,this._animationMode=s,this._hideToggle=!1,this.afterExpand=new i.vpe,this.afterCollapse=new i.vpe,this._inputChanges=new jp.xQ,this._headerId="mat-expansion-panel-header-"+LE++,this._bodyAnimationDone=new jp.xQ,this.accordion=t,this._document=r,this._bodyAnimationDone.pipe((0,Db.x)((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{"void"!==t.fromState&&("expanded"===t.toState?this.afterExpand.emit():"collapsed"===t.toState&&this.afterCollapse.emit())}),a&&(this.hideToggle=a.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=nf(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this.opened.pipe(a_(null),(0,ia.h)(()=>this.expanded&&!this._portal),(0,vp.q)(1)).subscribe(()=>{this._portal=new Jb(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,e=this._body.nativeElement;return t===e||e.contains(t)}return!1}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(IE,12),i.Y36(i.sBO),i.Y36(cb),i.Y36(i.s_b),i.Y36(s),i.Y36(Cu,8),i.Y36(NE,8))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mat-expansion-panel"]],contentQueries:function(t,e,n){if(1&t&&i.Suo(n,DE,5),2&t){let t;i.iGM(t=i.CRH())&&(e._lazyContent=t.first)}},viewQuery:function(t,e){if(1&t&&i.Gf(ME,5),2&t){let t;i.iGM(t=i.CRH())&&(e._body=t.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(t,e){2&t&&i.ekj("mat-expanded",e.expanded)("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-expansion-panel-spacing",e._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[i._Bn([{provide:IE,useValue:void 0}]),i.qOj,i.TTD],ngContentSelectors:kE,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,e){1&t&&(i.F$t(PE),i.Hsn(0),i.TgZ(1,"div",0,1),i.NdJ("@bodyExpansion.done",function(t){return e._bodyAnimationDone.next(t)}),i.TgZ(3,"div",2),i.Hsn(4,1),i.YNc(5,xE,0,0,"ng-template",3),i.qZA(),i.Hsn(6,2),i.qZA()),2&t&&(i.xp6(1),i.Q6J("@bodyExpansion",e._getExpandedState())("id",e.id),i.uIk("aria-labelledby",e._headerId),i.xp6(4),i.Q6J("cdkPortalOutlet",e._portal))},directives:[tv],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[RE.bodyExpansion]},changeDetection:0}),t})(),FE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[J,b_,wE,ev]]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function UE(t,e){}const VE=new i.OlP("MatBottomSheetData");class GE{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.closeOnNavigation=!0,this.autoFocus=!1,this.restoreFocus=!0}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const jE={bottomSheetState:Fa("state",[ja("void, hidden",Ga({transform:"translateY(100%)"})),ja("visible",Ga({transform:"translateY(0%)"})),za("visible => void, visible => hidden",Ua(`${g_.COMPLEX} ${p_.ACCELERATION_CURVE}`)),za("void => visible",Ua(`${g_.EXITING} ${p_.DECELERATION_CURVE}`))])};let HE=(()=>{class t extends Kb{constructor(t,e,n,o,r,s){super(),this._elementRef=t,this._changeDetectorRef=e,this._focusTrapFactory=n,this.bottomSheetConfig=s,this._animationState="void",this._animationStateChanged=new i.vpe,this._elementFocusedBeforeOpened=null,this.attachDomPortal=t=>(this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachDomPortal(t)),this._document=r,this._breakpointSubscription=o.observe([Qv,ty,ey]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",o.isMatched(Qv)),this._toggleClass("mat-bottom-sheet-container-large",o.isMatched(ty)),this._toggleClass("mat-bottom-sheet-container-xlarge",o.isMatched(ey))})}attachComponentPortal(t){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(t)}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(t){"hidden"===t.toState?this._restoreFocus():"visible"===t.toState&&this._trapFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_toggleClass(t,e){const n=this._elementRef.nativeElement.classList;e?n.add(t):n.remove(t)}_validatePortalAttached(){this._portalOutlet.hasAttached()}_setPanelClass(){const t=this._elementRef.nativeElement,e=this.bottomSheetConfig.panelClass;Array.isArray(e)?e.forEach(e=>t.classList.add(e)):e&&t.classList.add(e)}_trapFocus(){const t=this._elementRef.nativeElement;if(this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(t)),this.bottomSheetConfig.autoFocus)this._focusTrap.focusInitialElementWhenReady();else{const e=vf();e===t||t.contains(e)||t.focus()}}_restoreFocus(){const t=this._elementFocusedBeforeOpened;if(this.bottomSheetConfig.restoreFocus&&t&&"function"==typeof t.focus){const e=vf(),n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||t.focus()}this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._elementFocusedBeforeOpened=vf(),this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus())}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.sBO),i.Y36(Vf),i.Y36(Kv),i.Y36(s,8),i.Y36(GE))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mat-bottom-sheet-container"]],viewQuery:function(t,e){if(1&t&&i.Gf(tv,7),2&t){let t;i.iGM(t=i.CRH())&&(e._portalOutlet=t.first)}},hostAttrs:["tabindex","-1","role","dialog","aria-modal","true",1,"mat-bottom-sheet-container"],hostVars:2,hostBindings:function(t,e){1&t&&i.WFA("@state.start",function(t){return e._onAnimationStart(t)})("@state.done",function(t){return e._onAnimationDone(t)}),2&t&&(i.uIk("aria-label",null==e.bottomSheetConfig?null:e.bottomSheetConfig.ariaLabel),i.d8E("@state",e._animationState))},features:[i.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&i.YNc(0,UE,0,0,"ng-template",0)},directives:[tv],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}\n"],encapsulation:2,data:{animation:[jE.bottomSheetState]}}),t})(),zE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[Fv,b_,ev],b_]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class WE{constructor(t,e){this._overlayRef=e,this._afterDismissed=new jp.xQ,this._afterOpened=new jp.xQ,this.containerInstance=t,this.disableClose=t.bottomSheetConfig.disableClose,t._animationStateChanged.pipe((0,ia.h)(t=>"done"===t.phaseName&&"visible"===t.toState),(0,vp.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe((0,ia.h)(t=>"done"===t.phaseName&&"hidden"===t.toState),(0,vp.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),e.dispose()}),e.detachments().pipe((0,vp.q)(1)).subscribe(()=>{this._afterDismissed.next(this._result),this._afterDismissed.complete()}),(0,Gp.T)(e.backdropClick(),e.keydownEvents().pipe((0,ia.h)(t=>27===t.keyCode))).subscribe(t=>{this.disableClose||"keydown"===t.type&&tf(t)||(t.preventDefault(),this.dismiss())})}dismiss(t){this._afterDismissed.closed||(this.containerInstance._animationStateChanged.pipe((0,ia.h)(t=>"start"===t.phaseName),(0,vp.q)(1)).subscribe(t=>{this._closeFallbackTimeout=setTimeout(()=>{this._overlayRef.dispose()},t.totalTime+100),this._overlayRef.detachBackdrop()}),this._result=t,this.containerInstance.exit())}afterDismissed(){return this._afterDismissed}afterOpened(){return this._afterOpened}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const ZE=new i.OlP("mat-bottom-sheet-default-options");let YE=(()=>{class t{constructor(t,e,n,i){this._overlay=t,this._injector=e,this._parentBottomSheet=n,this._defaultOptions=i,this._bottomSheetRefAtThisLevel=null}get _openedBottomSheetRef(){const t=this._parentBottomSheet;return t?t._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(t){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=t:this._bottomSheetRefAtThisLevel=t}open(t,e){const n=function(t,e){return Object.assign(Object.assign({},t),e)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(this._defaultOptions||new GE,e),o=this._createOverlay(n),r=this._attachContainer(o,n),s=new WE(r,o);if(t instanceof i.Rgc)r.attachTemplatePortal(new Jb(t,null,{$implicit:n.data,bottomSheetRef:s}));else{const e=new qb(t,void 0,this._createInjector(n,s)),i=r.attachComponentPortal(e);s.instance=i.instance}return s.afterDismissed().subscribe(()=>{this._openedBottomSheetRef==s&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>s.containerInstance.enter()),this._openedBottomSheetRef.dismiss()):s.containerInstance.enter(),this._openedBottomSheetRef=s,s}dismiss(t){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(t)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}_attachContainer(t,e){const n=i.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:GE,useValue:e}]}),o=new qb(HE,e.viewContainerRef,n);return t.attach(o).instance}_createOverlay(t){const e=new dv({direction:t.direction,hasBackdrop:t.hasBackdrop,disposeOnNavigation:t.closeOnNavigation,maxWidth:"100%",scrollStrategy:t.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0")});return t.backdropClass&&(e.backdropClass=t.backdropClass),this._overlay.create(e)}_createInjector(t,e){const n=t&&t.viewContainerRef&&t.viewContainerRef.injector,o=[{provide:WE,useValue:e},{provide:VE,useValue:t.data}];return!t.direction||n&&n.get(i_,null)||o.push({provide:i_,useValue:{value:t.direction,change:(0,ea.of)()}}),i.zs3.create({parent:n||this._injector,providers:o})}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Av),i.LFG(i.zs3),i.LFG(t,12),i.LFG(ZE,8))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(Av),i.LFG(i.gxx),i.LFG(t,12),i.LFG(ZE,8))},token:t,providedIn:zE}),t})(),qE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})(),JE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[qE,N_,b_,Tf],qE,b_]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const $E=["*"],KE=new i.OlP("MatChipRemove"),XE=new i.OlP("MatChipAvatar"),QE=new i.OlP("MatChipTrailingIcon");class tS{constructor(t){this._elementRef=t}}const eS=O_(y_(C_(tS),"primary"),-1);let nS=(()=>{class t extends eS{constructor(t,e,n,o,r,s,a,l){super(t),this._elementRef=t,this._ngZone=e,this._changeDetectorRef=r,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new jp.xQ,this._onBlur=new jp.xQ,this.selectionChange=new i.vpe,this.destroyed=new i.vpe,this.removed=new i.vpe,this._addHostClassName(),this._chipRippleTarget=s.createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new R_(this,e,this._chipRippleTarget,n),this._chipRipple.setupTriggerEvents(t),this.rippleConfig=o||{},this._animationsDisabled="NoopAnimations"===a,this.tabIndex=null!=l&&parseInt(l)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(t){const e=nf(t);e!==this._selected&&(this._selected=e,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(t){this._value=t}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(t){this._selectable=nf(t)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(t){this._disabled=nf(t)}get removable(){return this._removable}set removable(t){this._removable=nf(t)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const t="mat-basic-chip",e=this._elementRef.nativeElement;e.hasAttribute(t)||e.tagName.toLowerCase()===t?e.classList.add(t):e.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._changeDetectorRef.markForCheck())}toggleSelected(t=!1){return this._selected=!this.selected,this._dispatchSelectionChange(t),this._changeDetectorRef.markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(t){this.disabled?t.preventDefault():t.stopPropagation()}_handleKeydown(t){if(!this.disabled)switch(t.keyCode){case 46:case 8:this.remove(),t.preventDefault();break;case Qm:this.selectable&&this.toggleSelected(!0),t.preventDefault()}}_blur(){this._ngZone.onStable.pipe((0,vp.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(t=!1){this.selectionChange.emit({source:this,isUserInput:t,selected:this._selected})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.R0b),i.Y36(uf),i.Y36(D_,8),i.Y36(i.sBO),i.Y36(s),i.Y36(Cu,8),i.$8M("tabindex"))},t.\u0275dir=i.lG2({type:t,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(t,e,n){if(1&t&&(i.Suo(n,XE,5),i.Suo(n,QE,5),i.Suo(n,KE,5)),2&t){let t;i.iGM(t=i.CRH())&&(e.avatar=t.first),i.iGM(t=i.CRH())&&(e.trailingIcon=t.first),i.iGM(t=i.CRH())&&(e.removeIcon=t.first)}},hostAttrs:["role","option",1,"mat-chip","mat-focus-indicator"],hostVars:14,hostBindings:function(t,e){1&t&&i.NdJ("click",function(t){return e._handleClick(t)})("keydown",function(t){return e._handleKeydown(t)})("focus",function(){return e.focus()})("blur",function(){return e._blur()}),2&t&&(i.uIk("tabindex",e.disabled?null:e.tabIndex)("disabled",e.disabled||null)("aria-disabled",e.disabled.toString())("aria-selected",e.ariaSelected),i.ekj("mat-chip-selected",e.selected)("mat-chip-with-avatar",e.avatar)("mat-chip-with-trailing-icon",e.trailingIcon||e.removeIcon)("mat-chip-disabled",e.disabled)("_mat-animation-noopable",e._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[i.qOj]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const iS=new i.OlP("mat-chips-default-options");
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class oS{constructor(t,e,n,i){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=i}}const rS=T_(oS);let sS=0;class aS{constructor(t,e){this.source=t,this.value=e}}let lS=(()=>{class t extends rS{constructor(t,e,n,o,r,s,a){super(s,o,r,a),this._elementRef=t,this._changeDetectorRef=e,this._dir=n,this.ngControl=a,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new jp.xQ,this._uid="mat-chip-list-"+sS++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(t,e)=>t===e,this._required=!1,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new i.vpe,this.valueChange=new i.vpe,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get role(){return this.empty?null:"listbox"}get multiple(){return this._multiple}set multiple(t){this._multiple=nf(t),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this.writeValue(t),this._value=t}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){return this._required}set required(t){this._required=nf(t),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=nf(t),this._syncChipsState()}get selectable(){return this._selectable}set selectable(t){this._selectable=nf(t),this.chips&&this.chips.forEach(t=>t.chipListSelectable=this._selectable)}set tabIndex(t){this._userTabIndex=t,this._tabIndex=t}get chipSelectionChanges(){return(0,Gp.T)(...this.chips.map(t=>t.selectionChange))}get chipFocusChanges(){return(0,Gp.T)(...this.chips.map(t=>t._onFocus))}get chipBlurChanges(){return(0,Gp.T)(...this.chips.map(t=>t._onBlur))}get chipRemoveChanges(){return(0,Gp.T)(...this.chips.map(t=>t.destroyed))}ngAfterContentInit(){this._keyManager=new Lf(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe((0,jb.R)(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t)),this._keyManager.tabOut.pipe((0,jb.R)(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe(a_(null),(0,jb.R)(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new lb(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(t){this._chipInput=t,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",t.id)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}writeValue(t){this.chips&&this._setSelectionByValue(t,!1)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this.stateChanges.next()}onContainerClick(t){this._originatesFromChip(t)||this.focus()}focus(t){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(t),this.stateChanges.next()))}_focusInput(t){this._chipInput&&this._chipInput.focus(t)}_keydown(t){const e=t.target;e&&e.classList.contains("mat-chip")&&(this._keyManager.onKeydown(t),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const t=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(t)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(t){return t>=0&&t<this.chips.length}_setSelectionByValue(t,e=!0){if(this._clearSelection(),this.chips.forEach(t=>t.deselect()),Array.isArray(t))t.forEach(t=>this._selectValue(t,e)),this._sortValues();else{const n=this._selectValue(t,e);n&&e&&this._keyManager.setActiveItem(n)}}_selectValue(t,e=!0){const n=this.chips.find(e=>null!=e.value&&this._compareWith(e.value,t));return n&&(e?n.selectViaInteraction():n.select(),this._selectionModel.select(n)),n}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(t){this._selectionModel.clear(),this.chips.forEach(e=>{e!==t&&e.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(t=>{t.selected&&this._selectionModel.select(t)}),this.stateChanges.next())}_propagateChanges(t){let e=null;e=Array.isArray(this.selected)?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.change.emit(new aS(this,e)),this.valueChange.emit(e),this._onChange(e),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(t=>{t.source.selected?this._selectionModel.select(t.source):this._selectionModel.deselect(t.source),this.multiple||this.chips.forEach(t=>{!this._selectionModel.isSelected(t)&&t.selected&&t.deselect()}),t.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(t=>{let e=this.chips.toArray().indexOf(t.chip);this._isValidIndex(e)&&this._keyManager.updateActiveItem(e),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(t=>{const e=t.chip,n=this.chips.toArray().indexOf(t.chip);this._isValidIndex(n)&&e._hasFocus&&(this._lastDestroyedChipIndex=n)})}_originatesFromChip(t){let e=t.target;for(;e&&e!==this._elementRef.nativeElement;){if(e.classList.contains("mat-chip"))return!0;e=e.parentElement}return!1}_hasFocusedChip(){return this.chips&&this.chips.some(t=>t._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(t=>{t._chipListDisabled=this._disabled,t._chipListMultiple=this.multiple})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.sBO),i.Y36(i_,8),i.Y36(ks,8),i.Y36(Gs,8),i.Y36(E_),i.Y36(Qr,10))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mat-chip-list"]],contentQueries:function(t,e,n){if(1&t&&i.Suo(n,nS,5),2&t){let t;i.iGM(t=i.CRH())&&(e.chips=t)}},hostAttrs:[1,"mat-chip-list"],hostVars:15,hostBindings:function(t,e){1&t&&i.NdJ("focus",function(){return e.focus()})("blur",function(){return e._blur()})("keydown",function(t){return e._keydown(t)}),2&t&&(i.Ikx("id",e._uid),i.uIk("tabindex",e.disabled?null:e._tabIndex)("aria-describedby",e._ariaDescribedby||null)("aria-required",e.role?e.required:null)("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-multiselectable",e.multiple)("role",e.role)("aria-orientation",e.ariaOrientation),i.ekj("mat-chip-list-disabled",e.disabled)("mat-chip-list-invalid",e.errorState)("mat-chip-list-required",e.required))},inputs:{ariaOrientation:["aria-orientation","ariaOrientation"],multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",selectable:"selectable",tabIndex:"tabIndex",errorStateMatcher:"errorStateMatcher"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[i._Bn([{provide:Ky,useExisting:t}]),i.qOj],ngContentSelectors:$E,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(t,e){1&t&&(i.F$t(),i.TgZ(0,"div",0),i.Hsn(1),i.qZA())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;transform:translateZ(0);border:none;-webkit-appearance:none;-moz-appearance:none}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove.mat-icon{width:18px;height:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip:focus{outline:dotted 2px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}\n'],encapsulation:2,changeDetection:0}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const cS={separatorKeyCodes:[Xm]};let uS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[E_,{provide:iS,useValue:cS}],imports:[[b_]]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const hS={tooltipState:Fa("state",[ja("initial, void, hidden",Ga({opacity:0,transform:"scale(0)"})),ja("visible",Ga({transform:"scale(1)"})),za("* => visible",Ua("200ms cubic-bezier(0, 0, 0.2, 1)",Ha([Ga({opacity:0,transform:"scale(0)",offset:0}),Ga({opacity:.5,transform:"scale(0.99)",offset:.5}),Ga({opacity:1,transform:"scale(1)",offset:1})]))),za("* => hidden",Ua("100ms cubic-bezier(0, 0, 0.2, 1)",Ga({opacity:0})))])},dS=_f({passive:!0}),pS=new i.OlP("mat-tooltip-scroll-strategy"),gS={provide:pS,deps:[Av],useFactory:function(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}},mS=new i.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let fS=(()=>{class t{constructor(t,e,n,i,o,r,s,a,l,c,u,h){this._overlay=t,this._elementRef=e,this._scrollDispatcher=n,this._viewContainerRef=i,this._ngZone=o,this._platform=r,this._ariaDescriber=s,this._focusMonitor=a,this._dir=c,this._defaultOptions=u,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new jp.xQ,this._handleKeydown=t=>{this._isTooltipVisible()&&27===t.keyCode&&!tf(t)&&(t.preventDefault(),t.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=l,this._document=h,u&&(u.position&&(this.position=u.position),u.touchGestures&&(this.touchGestures=u.touchGestures)),c.change.pipe((0,jb.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),o.runOutsideAngular(()=>{e.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(t){var e;t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),null===(e=this._tooltipInstance)||void 0===e||e.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(t){this._disabled=nf(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,jb.R)(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),t.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach(([e,n])=>{t.removeEventListener(e,n,dS)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const e=this._createOverlay();this._detach(),this._portal=this._portal||new qb(this._tooltipComponent,this._viewContainerRef),this._tooltipInstance=e.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe((0,jb.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(t)}hide(t=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(t)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),e=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(t);return e.positionChanges.pipe((0,jb.R)(this._destroyed)).subscribe(t=>{this._updateCurrentPositionClass(t.connectionPair),this._tooltipInstance&&t.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:e,panelClass:`${this._cssClassPrefix}-tooltip-panel`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,jb.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const e=t.getConfig().positionStrategy,n=this._getOrigin(),i=this._getOverlayPosition();e.withPositions([this._addOffset(Object.assign(Object.assign({},n.main),i.main)),this._addOffset(Object.assign(Object.assign({},n.fallback),i.fallback))])}_addOffset(t){return t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let n;"above"==e||"below"==e?n={originX:"center",originY:"above"==e?"top":"bottom"}:"before"==e||"left"==e&&t||"right"==e&&!t?n={originX:"start",originY:"center"}:("after"==e||"right"==e&&t||"left"==e&&!t)&&(n={originX:"end",originY:"center"});const{x:i,y:o}=this._invertPosition(n.originX,n.originY);return{main:n,fallback:{originX:i,originY:o}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let n;"above"==e?n={overlayX:"center",overlayY:"bottom"}:"below"==e?n={overlayX:"center",overlayY:"top"}:"before"==e||"left"==e&&t||"right"==e&&!t?n={overlayX:"end",overlayY:"center"}:("after"==e||"right"==e&&t||"left"==e&&!t)&&(n={overlayX:"start",overlayY:"center"});const{x:i,y:o}=this._invertPosition(n.overlayX,n.overlayY);return{main:n,fallback:{overlayX:i,overlayY:o}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,vp.q)(1),(0,jb.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,e){return"above"===this.position||"below"===this.position?"top"===e?e="bottom":"bottom"===e&&(e="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:e}}_updateCurrentPositionClass(t){const{overlayY:e,originX:n,originY:i}=t;let o;if(o="center"===e?this._dir&&"rtl"===this._dir.value?"end"===n?"left":"right":"start"===n?"left":"right":"bottom"===e&&"top"===i?"above":"below",o!==this._currentPosition){const t=this._overlayRef;if(t){const e=`${this._cssClassPrefix}-tooltip-panel-`;t.removePanelClass(e+this._currentPosition),t.addPanelClass(e+o)}this._currentPosition=o}}_setupPointerEnterEventsIfNeeded(){!this._disabled&&this.message&&this._viewInitialized&&!this._passiveListeners.length&&(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",()=>this.hide()],["wheel",t=>this._wheelListener(t)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const e=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",e],["touchcancel",e])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([t,e])=>{this._elementRef.nativeElement.addEventListener(t,e,dS)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const e=this._document.elementFromPoint(t.clientX,t.clientY),n=this._elementRef.nativeElement;e===n||n.contains(e)||this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const e=this._elementRef.nativeElement,n=e.style;("on"===t||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName)&&(n.userSelect=n.msUserSelect=n.webkitUserSelect=n.MozUserSelect="none"),"on"!==t&&e.draggable||(n.webkitUserDrag="none"),n.touchAction="none",n.webkitTapHighlightColor="transparent"}}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Av),i.Y36(i.SBq),i.Y36(Hb),i.Y36(i.s_b),i.Y36(i.R0b),i.Y36(uf),i.Y36(kf),i.Y36(qf),i.Y36(void 0),i.Y36(i_),i.Y36(void 0),i.Y36(s))},t.\u0275dir=i.lG2({type:t,inputs:{showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),t})(),_S=(()=>{class t extends fS{constructor(t,e,n,i,o,r,s,a,l,c,u,h){super(t,e,n,i,o,r,s,a,l,c,u,h),this._tooltipComponent=vS}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Av),i.Y36(i.SBq),i.Y36(Hb),i.Y36(i.s_b),i.Y36(i.R0b),i.Y36(uf),i.Y36(kf),i.Y36(qf),i.Y36(pS),i.Y36(i_,8),i.Y36(mS,8),i.Y36(s))},t.\u0275dir=i.lG2({type:t,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[i.qOj]}),t})(),bS=(()=>{class t{constructor(t){this._changeDetectorRef=t,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new jp.xQ}show(t){clearTimeout(this._hideTimeoutId),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=void 0,this._markForCheck()},t)}hide(t){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=void 0,this._markForCheck()},t)}afterHidden(){return this._onHide}isVisible(){return"visible"===this._visibility}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(t){const e=t.toState;"hidden"!==e||this.isVisible()||this._onHide.next(),"visible"!==e&&"hidden"!==e||(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.sBO))},t.\u0275dir=i.lG2({type:t}),t})(),vS=(()=>{class t extends bS{constructor(t,e){super(t),this._breakpointObserver=e,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)")}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.sBO),i.Y36(Kv))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,e){1&t&&i.NdJ("click",function(){return e._handleBodyInteraction()},!1,i.pYS)("auxclick",function(){return e._handleBodyInteraction()},!1,i.pYS),2&t&&i.Udp("zoom","visible"===e._visibility?1:null)},features:[i.qOj],decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(t,e){if(1&t&&(i.TgZ(0,"div",0),i.NdJ("@state.start",function(){return e._animationStart()})("@state.done",function(t){return e._animationDone(t)}),i.ALo(1,"async"),i._uU(2),i.qZA()),2&t){let t;i.ekj("mat-tooltip-handset",null==(t=i.lcZ(1,5,e._isHandset))?null:t.matches),i.Q6J("ngClass",e.tooltipClass)("@state",e._visibility),i.xp6(2),i.Oqu(e.message)}},directives:[P],pipes:[Z],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[hS.tooltipState]},changeDetection:0}),t})(),yS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[gS],imports:[[e_,J,Fv,b_],b_,Wb]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var CS=n(8512);
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class OS extends
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class{constructor(){this.expansionModel=new lb(!0)}toggle(t){this.expansionModel.toggle(this._trackByValue(t))}expand(t){this.expansionModel.select(this._trackByValue(t))}collapse(t){this.expansionModel.deselect(this._trackByValue(t))}isExpanded(t){return this.expansionModel.isSelected(this._trackByValue(t))}toggleDescendants(t){this.expansionModel.isSelected(this._trackByValue(t))?this.collapseDescendants(t):this.expandDescendants(t)}collapseAll(){this.expansionModel.clear()}expandDescendants(t){let e=[t];e.push(...this.getDescendants(t)),this.expansionModel.select(...e.map(t=>this._trackByValue(t)))}collapseDescendants(t){let e=[t];e.push(...this.getDescendants(t)),this.expansionModel.deselect(...e.map(t=>this._trackByValue(t)))}_trackByValue(t){return this.trackBy?this.trackBy(t):t}}{constructor(t,e,n){super(),this.getLevel=t,this.isExpandable=e,this.options=n,this.options&&(this.trackBy=this.options.trackBy)}getDescendants(t){const e=[];for(let n=this.dataNodes.indexOf(t)+1;n<this.dataNodes.length&&this.getLevel(t)<this.getLevel(this.dataNodes[n]);n++)e.push(this.dataNodes[n]);return e}expandAll(){this.expansionModel.select(...this.dataNodes.map(t=>this._trackByValue(t)))}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const TS=new i.OlP("CDK_TREE_NODE_OUTLET_NODE");let ES=(()=>{class t{constructor(t,e){this.viewContainer=t,this._node=e}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.s_b),i.Y36(TS,8))},t.\u0275dir=i.lG2({type:t,selectors:[["","cdkTreeNodeOutlet",""]]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class SS{constructor(t){this.$implicit=t}}let wS=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc))},t.\u0275dir=i.lG2({type:t,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:["cdkTreeNodeDefWhen","when"]}}),t})(),MS=(()=>{class t{constructor(t,e){this._differs=t,this._changeDetectorRef=e,this._onDestroy=new jp.xQ,this._levels=new Map,this.viewChange=new CS.X({start:0,end:Number.MAX_VALUE})}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}ngOnInit(){this._dataDiffer=this._differs.find([]).create(this.trackBy)}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null)}ngAfterContentChecked(){const t=this._nodeDefs.filter(t=>!t.when);this._defaultNodeDef=t[0],this.dataSource&&this._nodeDefs&&!this._dataSubscription&&this._observeRenderChanges()}_switchDataSource(t){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),t||this._nodeOutlet.viewContainer.clear(),this._dataSource=t,this._nodeDefs&&this._observeRenderChanges()}_observeRenderChanges(){let t;var e;
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(e=this._dataSource)&&"function"==typeof e.connect?t=this._dataSource.connect(this):gp(this._dataSource)?t=this._dataSource:Array.isArray(this._dataSource)&&(t=(0,ea.of)(this._dataSource)),t&&(this._dataSubscription=t.pipe((0,jb.R)(this._onDestroy)).subscribe(t=>this.renderNodeChanges(t)))}renderNodeChanges(t,e=this._dataDiffer,n=this._nodeOutlet.viewContainer,i){const o=e.diff(t);o&&(o.forEachOperation((e,o,r)=>{if(null==e.previousIndex)this.insertNode(t[r],r,n,i);else if(null==r)n.remove(o),this._levels.delete(e.item);else{const t=n.get(o);n.move(t,r)}}),this._changeDetectorRef.detectChanges())}_getNodeDef(t,e){return 1===this._nodeDefs.length?this._nodeDefs.first:this._nodeDefs.find(n=>n.when&&n.when(e,t))||this._defaultNodeDef}insertNode(t,e,n,i){const o=this._getNodeDef(t,e),r=new SS(t);r.level=this.treeControl.getLevel?this.treeControl.getLevel(t):void 0!==i&&this._levels.has(i)?this._levels.get(i)+1:0,this._levels.set(t,r.level),(n||this._nodeOutlet.viewContainer).createEmbeddedView(o.template,r,e),xS.mostRecentTreeNode&&(xS.mostRecentTreeNode.data=t)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.ZZ4),i.Y36(i.sBO))},t.\u0275cmp=i.Xpm({type:t,selectors:[["cdk-tree"]],contentQueries:function(t,e,n){if(1&t&&i.Suo(n,wS,5),2&t){let t;i.iGM(t=i.CRH())&&(e._nodeDefs=t)}},viewQuery:function(t,e){if(1&t&&i.Gf(ES,7),2&t){let t;i.iGM(t=i.CRH())&&(e._nodeOutlet=t.first)}},hostAttrs:["role","tree",1,"cdk-tree"],inputs:{dataSource:"dataSource",treeControl:"treeControl",trackBy:"trackBy"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(t,e){1&t&&i.GkF(0,0)},directives:[ES],encapsulation:2}),t})(),xS=(()=>{class t{constructor(e,n){this._elementRef=e,this._tree=n,this._destroyed=new jp.xQ,this._dataChanges=new jp.xQ,t.mostRecentTreeNode=this,this._elementRef.nativeElement.classList.add("cdk-tree-node"),this.role="treeitem"}get role(){return"treeitem"}set role(t){this._elementRef.nativeElement.setAttribute("role",t)}get data(){return this._data}set data(t){t!==this._data&&(this._data=t,this._setRoleFromData(),this._dataChanges.next())}get isExpanded(){return this._tree.treeControl.isExpanded(this._data)}_setExpanded(t){this._isAriaExpanded=t,this._elementRef.nativeElement.setAttribute("aria-expanded",`${t}`)}get level(){return this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._data):this._parentNodeAriaLevel}ngOnInit(){this._parentNodeAriaLevel=function(t){let e=t.parentElement;for(;e&&!PS(e);)e=e.parentElement;return e?e.classList.contains("cdk-nested-tree-node")?of(e.getAttribute("aria-level")):0:-1}(this._elementRef.nativeElement),this._elementRef.nativeElement.setAttribute("aria-level",`${this.level+1}`)}ngDoCheck(){this.isExpanded!=this._isAriaExpanded&&this._setExpanded(this.isExpanded)}ngOnDestroy(){t.mostRecentTreeNode===this&&(t.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}_setRoleFromData(){this.role="treeitem"}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(MS))},t.\u0275dir=i.lG2({type:t,selectors:[["cdk-tree-node"]],inputs:{role:"role"},exportAs:["cdkTreeNode"]}),t.mostRecentTreeNode=null,t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function PS(t){const e=t.classList;return!(!(null==e?void 0:e.contains("cdk-nested-tree-node"))&&!(null==e?void 0:e.contains("cdk-tree")))}let kS=(()=>{class t{constructor(t,e){this._tree=t,this._treeNode=e,this._recursive=!1}get recursive(){return this._recursive}set recursive(t){this._recursive=nf(t)}_toggle(t){this.recursive?this._tree.treeControl.toggleDescendants(this._treeNode.data):this._tree.treeControl.toggle(this._treeNode.data),t.stopPropagation()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(MS),i.Y36(xS))},t.\u0275dir=i.lG2({type:t,selectors:[["","cdkTreeNodeToggle",""]],hostBindings:function(t,e){1&t&&i.NdJ("click",function(t){return e._toggle(t)})},inputs:{recursive:["cdkTreeNodeToggleRecursive","recursive"]}}),t})(),IS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const AS=O_(v_(xS));let RS=(()=>{class t extends AS{constructor(t,e,n){super(t,e),this._elementRef=t,this._tree=e,this.tabIndex=Number(n)||0,this._elementRef.nativeElement.classList.add("mat-tree-node")}ngOnInit(){super.ngOnInit()}ngDoCheck(){super.ngDoCheck()}ngOnDestroy(){super.ngOnDestroy()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(MS),i.$8M("tabindex"))},t.\u0275dir=i.lG2({type:t,selectors:[["mat-tree-node"]],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex"},exportAs:["matTreeNode"],features:[i._Bn([{provide:xS,useExisting:t}]),i.qOj]}),t})(),DS=(()=>{class t extends wS{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275dir=i.lG2({type:t,selectors:[["","matTreeNodeDef",""]],inputs:{when:["matTreeNodeDefWhen","when"],data:["matTreeNode","data"]},features:[i._Bn([{provide:wS,useExisting:t}]),i.qOj]}),t})(),LS=(()=>{class t{constructor(t,e){this.viewContainer=t,this._node=e}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.s_b),i.Y36(TS,8))},t.\u0275dir=i.lG2({type:t,selectors:[["","matTreeNodeOutlet",""]],features:[i._Bn([{provide:ES,useExisting:t}])]}),t})(),NS=(()=>{class t extends MS{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275cmp=i.Xpm({type:t,selectors:[["mat-tree"]],viewQuery:function(t,e){if(1&t&&i.Gf(LS,7),2&t){let t;i.iGM(t=i.CRH())&&(e._nodeOutlet=t.first)}},hostAttrs:["role","tree",1,"mat-tree","cdk-tree"],exportAs:["matTree"],features:[i._Bn([{provide:MS,useExisting:t}]),i.qOj],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(t,e){1&t&&i.GkF(0,0)},directives:[LS],styles:[".mat-tree{display:block}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word}.mat-nested-tree-node{border-bottom-width:0}\n"],encapsulation:2}),t})(),BS=(()=>{class t extends kS{get recursive(){return this._recursive}set recursive(t){this._recursive=nf(t)}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275dir=i.lG2({type:t,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:["matTreeNodeToggleRecursive","recursive"]},features:[i._Bn([{provide:kS,useExisting:t}]),i.qOj]}),t})(),FS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[IS,b_],b_]}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class US{constructor(t,e,n,i){this.transformFunction=t,this.getLevel=e,this.isExpandable=n,this.getChildren=i}_flattenNode(t,e,n,i){const o=this.transformFunction(t,e);if(n.push(o),this.isExpandable(o)){const o=this.getChildren(t);o&&(Array.isArray(o)?this._flattenChildren(o,e,n,i):o.pipe((0,vp.q)(1)).subscribe(t=>{this._flattenChildren(t,e,n,i)}))}return n}_flattenChildren(t,e,n,i){t.forEach((o,r)=>{let s=i.slice();s.push(r!=t.length-1),this._flattenNode(o,e+1,n,s)})}flattenNodes(t){let e=[];return t.forEach(t=>this._flattenNode(t,0,e,[])),e}expandFlattenedNodes(t,e){let n=[],i=[];return i[0]=!0,t.forEach(t=>{let o=!0;for(let e=0;e<=this.getLevel(t);e++)o=o&&i[e];o&&n.push(t),this.isExpandable(t)&&(i[this.getLevel(t)+1]=e.isExpanded(t))}),n}}class VS extends
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class{}{constructor(t,e,n){super(),this._treeControl=t,this._treeFlattener=e,this._flattenedData=new CS.X([]),this._expandedData=new CS.X([]),this._data=new CS.X([]),n&&(this.data=n)}get data(){return this._data.value}set data(t){this._data.next(t),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}connect(t){return(0,Gp.T)(t.viewChange,this._treeControl.expansionModel.changed,this._flattenedData).pipe((0,Cr.U)(()=>(this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value,this._treeControl)),this._expandedData.value)))}disconnect(){}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const GS={disabled:!0,animation:{enterDuration:0,exitDuration:0}},jS={disableOptionCentering:!0,overlayPanelClass:"app-select-overlay-pane"},HS=[X_,ab,Cb,hy,zE,xy,Py,uC,yC,HC,iO,YO,gT,CT,IT,NT,nE,iE,OE,FE,JE,uS,yS,FS];let zS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[{provide:D_,useValue:GS},{provide:DC,useValue:jS}],imports:[HS,X_,ab,Cb,hy,zE,xy,Py,uC,yC,HC,iO,YO,gT,CT,IT,NT,nE,iE,OE,FE,JE,uS,yS,FS]}),t})();function WS(t=-1){return e=>e.lift(new ZS(t,e))}class ZS{constructor(t,e){this.count=t,this.source=e}call(t,e){return e.subscribe(new YS(t,this.count,this.source))}}class YS extends Fu.L{constructor(t,e,n){super(t),this.count=e,this.source=n}error(t){if(!this.isStopped){const{source:e,count:n}=this;if(0===n)return super.error(t);n>-1&&(this.count=n-1),e.subscribe(this._unsubscribeAndRecycle())}}}var qS=n(6206),JS=function(t){return t[t.UNKNOWN=0]="UNKNOWN",t[t.PC=1]="PC",t[t.PS4=2]="PS4",t[t.XBOXONE=3]="XBOXONE",t[t.PS5=4]="PS5",t[t.XBSX=5]="XBSX",t[t.COMMON=6]="COMMON",t}({}),$S=function(t){return t[t.ALL=0]="ALL",t[t.KEYBOARD_MOUSE=1]="KEYBOARD_MOUSE",t[t.GAME_CONTROLLER=2]="GAME_CONTROLLER",t}({});let KS=(()=>{class t{constructor(e){this.nucleusId=(e=e||{}).nucleusId,this.personaId=e.personaId,this.platform=e.platform,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.nucleusId=t.nucleusId||"0",t.personaId=t.personaId||"0",t.platform=t.platform||0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.nucleusId=n.readUint64String();break;case 2:e.personaId=n.readUint64String();break;case 3:e.platform=n.readEnum();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.nucleusId&&e.writeUint64String(1,t.nucleusId),t.personaId&&e.writeUint64String(2,t.personaId),t.platform&&e.writeEnum(3,t.platform)}get nucleusId(){return this._nucleusId}set nucleusId(t){this._nucleusId=t}get personaId(){return this._personaId}set personaId(t){this._personaId=t}get platform(){return this._platform}set platform(t){this._platform=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{nucleusId:this.nucleusId,personaId:this.personaId,platform:this.platform}}toJSON(){return this.toObject()}toProtobufJSON(t){var e;return{nucleusId:this.nucleusId,personaId:this.personaId,platform:JS[null!==(e=this.platform)&&void 0!==e?e:0]}}}return t.id="dice.operations.core.Player",t})(),XS=(()=>{class t{constructor(e){this.typeUrl=(e=e||{}).typeUrl,this.value=e.value,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static pack(e){const n=new t;return n.pack(e),n}static refineValues(t){t.typeUrl=t.typeUrl||"",t.value=t.value||new Uint8Array}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.typeUrl=n.readString();break;case 2:e.value=n.readBytes();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.typeUrl&&e.writeString(1,t.typeUrl),t.value&&t.value.length&&e.writeBytes(2,t.value)}get typeUrl(){return this._typeUrl}set typeUrl(t){this._typeUrl=t}get value(){return this._value}set value(t){this._value=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{typeUrl:this.typeUrl,value:this.value?this.value.subarray(0):new Uint8Array}}toJSON(){return this.toObject()}toProtobufJSON(t){if(!(null==t?void 0:t.messagePool))throw new Error("Message pool is required to cast Any to JSON");const e=this.unpack(t.messagePool);if(!e)return{"@type":this.typeUrl};const n=e.toProtobufJSON(t);return"object"!=typeof n?{"@type":this.typeUrl,value:n}:Object.assign(Object.assign({},n),{"@type":this.typeUrl})}getPackedMessageId(){if(!this.typeUrl)return null;if(!this.typeUrl.startsWith(t.prefix))throw new Error(`Type URL does not start with ${t.prefix}`);return this.typeUrl.substr(t.prefix.length)}getPackedMessageType(t,e=!0){const n=this.getPackedMessageId();if(!n)return null;const i=t.get(n);if(!i){if(e)throw new Error(`Message with identifier '${this.typeUrl}' is not present in message pool`);return null}return i}unpack(t){const e=this.getPackedMessageType(t);if(!e)throw new Error("Message type cannot be resolved");if(!this.value)throw new Error("Cannot unpack value that is unset");return e.deserializeBinary(this.value)}pack(e){const{id:n}=e.constructor;if(!n)throw new Error("Message is invalid or does not have an id");this.typeUrl=`${t.prefix}${n}`,this.value=e.serializeBinary()}}return t.id="google.protobuf.Any",t.prefix="type.googleapis.com/",t})(),QS=(()=>{class t{constructor(e){this.kind=(e=e||{}).kind,this.cardinality=e.cardinality,this.number=e.number,this.name=e.name,this.typeUrl=e.typeUrl,this.oneofIndex=e.oneofIndex,this.packed=e.packed,this.options=(e.options||[]).map(t=>new tw(t)),this.jsonName=e.jsonName,this.defaultValue=e.defaultValue,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.kind=t.kind||0,t.cardinality=t.cardinality||0,t.number=t.number||0,t.name=t.name||"",t.typeUrl=t.typeUrl||"",t.oneofIndex=t.oneofIndex||0,t.packed=t.packed||!1,t.options=t.options||[],t.jsonName=t.jsonName||"",t.defaultValue=t.defaultValue||""}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.kind=n.readEnum();break;case 2:e.cardinality=n.readEnum();break;case 3:e.number=n.readInt32();break;case 4:e.name=n.readString();break;case 6:e.typeUrl=n.readString();break;case 7:e.oneofIndex=n.readInt32();break;case 8:e.packed=n.readBool();break;case 9:const t=new tw;n.readMessage(t,tw.deserializeBinaryFromReader),(e.options=e.options||[]).push(t);break;case 10:e.jsonName=n.readString();break;case 11:e.defaultValue=n.readString();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.kind&&e.writeEnum(1,t.kind),t.cardinality&&e.writeEnum(2,t.cardinality),t.number&&e.writeInt32(3,t.number),t.name&&e.writeString(4,t.name),t.typeUrl&&e.writeString(6,t.typeUrl),t.oneofIndex&&e.writeInt32(7,t.oneofIndex),t.packed&&e.writeBool(8,t.packed),t.options&&t.options.length&&e.writeRepeatedMessage(9,t.options,tw.serializeBinaryToWriter),t.jsonName&&e.writeString(10,t.jsonName),t.defaultValue&&e.writeString(11,t.defaultValue)}get kind(){return this._kind}set kind(t){this._kind=t}get cardinality(){return this._cardinality}set cardinality(t){this._cardinality=t}get number(){return this._number}set number(t){this._number=t}get name(){return this._name}set name(t){this._name=t}get typeUrl(){return this._typeUrl}set typeUrl(t){this._typeUrl=t}get oneofIndex(){return this._oneofIndex}set oneofIndex(t){this._oneofIndex=t}get packed(){return this._packed}set packed(t){this._packed=t}get options(){return this._options}set options(t){this._options=t}get jsonName(){return this._jsonName}set jsonName(t){this._jsonName=t}get defaultValue(){return this._defaultValue}set defaultValue(t){this._defaultValue=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{kind:this.kind,cardinality:this.cardinality,number:this.number,name:this.name,typeUrl:this.typeUrl,oneofIndex:this.oneofIndex,packed:this.packed,options:(this.options||[]).map(t=>t.toObject()),jsonName:this.jsonName,defaultValue:this.defaultValue}}toJSON(){return this.toObject()}toProtobufJSON(e){var n,i;return{kind:t.Kind[null!==(n=this.kind)&&void 0!==n?n:0],cardinality:t.Cardinality[null!==(i=this.cardinality)&&void 0!==i?i:0],number:this.number,name:this.name,typeUrl:this.typeUrl,oneofIndex:this.oneofIndex,packed:this.packed,options:(this.options||[]).map(t=>t.toProtobufJSON(e)),jsonName:this.jsonName,defaultValue:this.defaultValue}}}return t.id="google.protobuf.Field",t})();!function(t){let e,n;!function(t){t[t.TYPE_UNKNOWN=0]="TYPE_UNKNOWN",t[t.TYPE_DOUBLE=1]="TYPE_DOUBLE",t[t.TYPE_FLOAT=2]="TYPE_FLOAT",t[t.TYPE_INT64=3]="TYPE_INT64",t[t.TYPE_UINT64=4]="TYPE_UINT64",t[t.TYPE_INT32=5]="TYPE_INT32",t[t.TYPE_FIXED64=6]="TYPE_FIXED64",t[t.TYPE_FIXED32=7]="TYPE_FIXED32",t[t.TYPE_BOOL=8]="TYPE_BOOL",t[t.TYPE_STRING=9]="TYPE_STRING",t[t.TYPE_GROUP=10]="TYPE_GROUP",t[t.TYPE_MESSAGE=11]="TYPE_MESSAGE",t[t.TYPE_BYTES=12]="TYPE_BYTES",t[t.TYPE_UINT32=13]="TYPE_UINT32",t[t.TYPE_ENUM=14]="TYPE_ENUM",t[t.TYPE_SFIXED32=15]="TYPE_SFIXED32",t[t.TYPE_SFIXED64=16]="TYPE_SFIXED64",t[t.TYPE_SINT32=17]="TYPE_SINT32",t[t.TYPE_SINT64=18]="TYPE_SINT64"}(e=t.Kind||(t.Kind={})),function(t){t[t.CARDINALITY_UNKNOWN=0]="CARDINALITY_UNKNOWN",t[t.CARDINALITY_OPTIONAL=1]="CARDINALITY_OPTIONAL",t[t.CARDINALITY_REQUIRED=2]="CARDINALITY_REQUIRED",t[t.CARDINALITY_REPEATED=3]="CARDINALITY_REPEATED"}(n=t.Cardinality||(t.Cardinality={}))}(QS||(QS={}));let tw=(()=>{class t{constructor(e){this.name=(e=e||{}).name,this.value=e.value?new XS(e.value):void 0,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.name=t.name||"",t.value=t.value||void 0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.name=n.readString();break;case 2:e.value=new XS,n.readMessage(e.value,XS.deserializeBinaryFromReader);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.name&&e.writeString(1,t.name),t.value&&e.writeMessage(2,t.value,XS.serializeBinaryToWriter)}get name(){return this._name}set name(t){this._name=t}get value(){return this._value}set value(t){this._value=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{name:this.name,value:this.value?this.value.toObject():void 0}}toJSON(){return this.toObject()}toProtobufJSON(t){return{name:this.name,value:this.value?this.value.toProtobufJSON(t):null}}}return t.id="google.protobuf.Option",t})(),ew=(()=>{class t{constructor(e){e=e||{},t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)n.getFieldNumber(),n.skipField();t.refineValues(e)}static serializeBinaryToWriter(t,e){}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{}}toJSON(){return this.toObject()}toProtobufJSON(t){return{}}}return t.id="google.protobuf.Empty",t})(),nw=(()=>{class t{constructor(e){this.fields=(e=e||{}).fields?Object.keys(e.fields).reduce((t,n)=>Object.assign(Object.assign({},t),{[n]:e.fields[n]?new iw(e.fields[n]):void 0}),{}):{},t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.fields=t.fields||{}}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:const i={};n.readMessage(i,t.FieldsEntry.deserializeBinaryFromReader),e.fields=e.fields||{},e.fields[i.key]=i.value;break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(e,n){if(e.fields){const i=Object.keys(e.fields);if(i.length){const o=i.map(t=>({key:t,value:e.fields[t]})).reduce((t,e)=>[...t,e],[]);n.writeRepeatedMessage(1,o,t.FieldsEntry.serializeBinaryToWriter)}}}get fields(){return this._fields}set fields(t){this._fields=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{fields:this.fields?Object.keys(this.fields).reduce((t,e)=>Object.assign(Object.assign({},t),{[e]:this.fields[e]?this.fields[e].toObject():void 0}),{}):{}}}toJSON(){return this.toObject()}toProtobufJSON(t){return this.fields?Object.keys(this.fields).reduce((e,n)=>Object.assign(Object.assign({},e),{[n]:this.fields[n]?this.fields[n].toProtobufJSON(t):{}}),{}):{}}}return t.id="google.protobuf.Struct",t})();!function(t){class e{constructor(t){this.key=(t=t||{}).key,this.value=t.value?new iw(t.value):void 0,e.refineValues(this)}static deserializeBinary(t){const n=new e;return e.deserializeBinaryFromReader(n,new qS.BinaryReader(t)),n}static refineValues(t){t.key=t.key||"",t.value=t.value||void 0}static deserializeBinaryFromReader(t,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:t.key=n.readString();break;case 2:t.value=new iw,n.readMessage(t.value,iw.deserializeBinaryFromReader);break;default:n.skipField()}e.refineValues(t)}static serializeBinaryToWriter(t,e){t.key&&e.writeString(1,t.key),t.value&&e.writeMessage(2,t.value,iw.serializeBinaryToWriter)}get key(){return this._key}set key(t){this._key=t}get value(){return this._value}set value(t){this._value=t}serializeBinary(){const t=new qS.BinaryWriter;return e.serializeBinaryToWriter(this,t),t.getResultBuffer()}toObject(){return{key:this.key,value:this.value?this.value.toObject():void 0}}toJSON(){return this.toObject()}toProtobufJSON(t){return{key:this.key,value:this.value?this.value.toProtobufJSON(t):null}}}e.id="google.protobuf.FieldsEntry",t.FieldsEntry=e}(nw||(nw={}));let iw=(()=>{class t{constructor(e){this._kind=t.KindCase.none,this.nullValue=(e=e||{}).nullValue,this.numberValue=e.numberValue,this.stringValue=e.stringValue,this.boolValue=e.boolValue,this.structValue=e.structValue?new nw(e.structValue):void 0,this.listValue=e.listValue?new ow(e.listValue):void 0,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.nullValue=n.readEnum();break;case 2:e.numberValue=n.readDouble();break;case 3:e.stringValue=n.readString();break;case 4:e.boolValue=n.readBool();break;case 5:e.structValue=new nw,n.readMessage(e.structValue,nw.deserializeBinaryFromReader);break;case 6:e.listValue=new ow,n.readMessage(e.listValue,ow.deserializeBinaryFromReader);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){(t.nullValue||0===t.nullValue)&&e.writeEnum(1,t.nullValue),(t.numberValue||0===t.numberValue)&&e.writeDouble(2,t.numberValue),(t.stringValue||""===t.stringValue)&&e.writeString(3,t.stringValue),(t.boolValue||!1===t.boolValue)&&e.writeBool(4,t.boolValue),t.structValue&&e.writeMessage(5,t.structValue,nw.serializeBinaryToWriter),t.listValue&&e.writeMessage(6,t.listValue,ow.serializeBinaryToWriter)}get nullValue(){return this._nullValue}set nullValue(e){null!=e&&(this._numberValue=this._stringValue=this._boolValue=this._structValue=this._listValue=void 0,this._kind=t.KindCase.nullValue),this._nullValue=e}get numberValue(){return this._numberValue}set numberValue(e){null!=e&&(this._nullValue=this._stringValue=this._boolValue=this._structValue=this._listValue=void 0,this._kind=t.KindCase.numberValue),this._numberValue=e}get stringValue(){return this._stringValue}set stringValue(e){null!=e&&(this._nullValue=this._numberValue=this._boolValue=this._structValue=this._listValue=void 0,this._kind=t.KindCase.stringValue),this._stringValue=e}get boolValue(){return this._boolValue}set boolValue(e){null!=e&&(this._nullValue=this._numberValue=this._stringValue=this._structValue=this._listValue=void 0,this._kind=t.KindCase.boolValue),this._boolValue=e}get structValue(){return this._structValue}set structValue(e){null!=e&&(this._nullValue=this._numberValue=this._stringValue=this._boolValue=this._listValue=void 0,this._kind=t.KindCase.structValue),this._structValue=e}get listValue(){return this._listValue}set listValue(e){null!=e&&(this._nullValue=this._numberValue=this._stringValue=this._boolValue=this._structValue=void 0,this._kind=t.KindCase.listValue),this._listValue=e}get kind(){return this._kind}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{nullValue:this.nullValue,numberValue:this.numberValue,stringValue:this.stringValue,boolValue:this.boolValue,structValue:this.structValue?this.structValue.toObject():void 0,listValue:this.listValue?this.listValue.toObject():void 0}}toJSON(){return this.toObject()}toProtobufJSON(e){switch(this.kind){case t.KindCase.nullValue:return null;case t.KindCase.numberValue:return this.numberValue;case t.KindCase.stringValue:return this.stringValue;case t.KindCase.boolValue:return this.boolValue;case t.KindCase.structValue:return this.structValue?this.structValue.toProtobufJSON(e):null;case t.KindCase.listValue:return this.listValue?this.listValue.toProtobufJSON(e):null;default:return null}}}return t.id="google.protobuf.Value",t})();!function(t){let e;!function(t){t[t.none=0]="none",t[t.nullValue=1]="nullValue",t[t.numberValue=2]="numberValue",t[t.stringValue=3]="stringValue",t[t.boolValue=4]="boolValue",t[t.structValue=5]="structValue",t[t.listValue=6]="listValue"}(e=t.KindCase||(t.KindCase={}))}(iw||(iw={}));let ow=(()=>{class t{constructor(e){this.values=((e=e||{}).values||[]).map(t=>new iw(t)),t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.values=t.values||[]}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:const t=new iw;n.readMessage(t,iw.deserializeBinaryFromReader),(e.values=e.values||[]).push(t);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.values&&t.values.length&&e.writeRepeatedMessage(1,t.values,iw.serializeBinaryToWriter)}get values(){return this._values}set values(t){this._values=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{values:(this.values||[]).map(t=>t.toObject())}}toJSON(){return this.toObject()}toProtobufJSON(t){return(this.values||[]).map(e=>e?e.toProtobufJSON(t):null)}}return t.id="google.protobuf.ListValue",t})(),rw=(()=>{class t{constructor(e){this.seconds=(e=e||{}).seconds,this.nanos=e.nanos,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static fromDate(e){const n=new t;return n.fromDate(e),n}static fromISOString(e){const n=new t;return n.fromISOString(e),n}static refineValues(t){t.seconds=t.seconds||"0",t.nanos=t.nanos||0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.seconds=n.readInt64String();break;case 2:e.nanos=n.readInt32();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.seconds&&e.writeInt64String(1,t.seconds),t.nanos&&e.writeInt32(2,t.nanos)}get seconds(){return this._seconds}set seconds(t){this._seconds=t}get nanos(){return this._nanos}set nanos(t){this._nanos=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{seconds:this.seconds,nanos:this.nanos}}toJSON(){return this.toObject()}toProtobufJSON(t){return this.toISOString()}fromDate(t){this.seconds=""+Math.floor(t.getTime()/1e3),this.nanos=1e6*t.getMilliseconds()}toDate(){return new Date(1e3*parseInt(this.seconds||"0")+(this.nanos||0)/1e6)}fromISOString(t){this.fromDate(new Date(t))}toISOString(){return this.toDate().toISOString()}}return t.id="google.protobuf.Timestamp",t})(),sw=(()=>{class t{constructor(e){this.value=(e=e||{}).value,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.value=t.value||""}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.value=n.readString();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.value&&e.writeString(1,t.value)}get value(){return this._value}set value(t){this._value=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{value:this.value}}toJSON(){return this.toObject()}toProtobufJSON(t){return this.value}}return t.id="google.protobuf.StringValue",t})();var aw=function(t){return t[t.OVERRIDE=0]="OVERRIDE",t[t.MULTIPLIER=1]="MULTIPLIER",t[t.PERCENTAGE=2]="PERCENTAGE",t}({}),lw=function(t){return t[t.LOOP=0]="LOOP",t[t.MATCHMAKE=1]="MATCHMAKE",t[t.ONE_MAP=2]="ONE_MAP",t}({}),cw=function(t){return t[t.CONTINUE=0]="CONTINUE",t}({});let uw=(()=>{class t{constructor(e){this._location=t.LocationCase.none,this.ref=(e=e||{}).ref,this.url=e.url,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.ref=n.readString();break;case 2:e.url=n.readString();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){(t.ref||""===t.ref)&&e.writeString(1,t.ref),(t.url||""===t.url)&&e.writeString(2,t.url)}get ref(){return this._ref}set ref(e){null!=e&&(this._url=void 0,this._location=t.LocationCase.ref),this._ref=e}get url(){return this._url}set url(e){null!=e&&(this._ref=void 0,this._location=t.LocationCase.url),this._url=e}get location(){return this._location}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{ref:this.ref,url:this.url}}toJSON(){return this.toObject()}toProtobufJSON(t){var e,n;return{ref:null!==(e=this.ref)&&void 0!==e?e:null,url:null!==(n=this.url)&&void 0!==n?n:null}}}return t.id="common.play.types.ResourceLocation",t})();!function(t){let e;!function(t){t[t.none=0]="none",t[t.ref=1]="ref",t[t.url=2]="url"}(e=t.LocationCase||(t.LocationCase={}))}(uw||(uw={}));let hw=(()=>{class t{constructor(e){this.location=(e=e||{}).location?new uw(e.location):void 0,this.kind=e.kind,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.location=t.location||void 0,t.kind=t.kind||""}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.location=new uw,n.readMessage(e.location,uw.deserializeBinaryFromReader);break;case 2:e.kind=n.readString();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.location&&e.writeMessage(1,t.location,uw.serializeBinaryToWriter),t.kind&&e.writeString(2,t.kind)}get location(){return this._location}set location(t){this._location=t}get kind(){return this._kind}set kind(t){this._kind=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{location:this.location?this.location.toObject():void 0,kind:this.kind}}toJSON(){return this.toObject()}toProtobufJSON(t){return{location:this.location?this.location.toProtobufJSON(t):null,kind:this.kind}}}return t.id="common.play.types.Resource",t})(),dw=(()=>{class t{constructor(e){this.value=(e=e||{}).value,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.value=t.value||!1}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.value=n.readBool();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.value&&e.writeBool(1,t.value)}get value(){return this._value}set value(t){this._value=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{value:this.value}}toJSON(){return this.toObject()}toProtobufJSON(t){return{value:this.value}}}return t.id="common.play.types.MutatorBoolean",t})(),pw=(()=>{class t{constructor(e){this.value=(e=e||{}).value,this.behaviour=e.behaviour,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.value=t.value||0,t.behaviour=t.behaviour||0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.value=n.readInt32();break;case 2:e.behaviour=n.readEnum();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.value&&e.writeInt32(1,t.value),t.behaviour&&e.writeEnum(2,t.behaviour)}get value(){return this._value}set value(t){this._value=t}get behaviour(){return this._behaviour}set behaviour(t){this._behaviour=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{value:this.value,behaviour:this.behaviour}}toJSON(){return this.toObject()}toProtobufJSON(t){var e;return{value:this.value,behaviour:aw[null!==(e=this.behaviour)&&void 0!==e?e:0]}}}return t.id="common.play.types.MutatorInt",t})(),gw=(()=>{class t{constructor(e){this.value=(e=e||{}).value,this.behaviour=e.behaviour,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.value=t.value||0,t.behaviour=t.behaviour||0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.value=n.readFloat();break;case 2:e.behaviour=n.readEnum();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.value&&e.writeFloat(1,t.value),t.behaviour&&e.writeEnum(2,t.behaviour)}get value(){return this._value}set value(t){this._value=t}get behaviour(){return this._behaviour}set behaviour(t){this._behaviour=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{value:this.value,behaviour:this.behaviour}}toJSON(){return this.toObject()}toProtobufJSON(t){var e;return{value:this.value,behaviour:aw[null!==(e=this.behaviour)&&void 0!==e?e:0]}}}return t.id="common.play.types.MutatorFloat",t})(),mw=(()=>{class t{constructor(e){this.index=(e=e||{}).index,this.value=e.value,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.index=t.index||0,t.value=t.value||!1}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.index=n.readUint32();break;case 2:e.value=n.readBool();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.index&&e.writeUint32(1,t.index),t.value&&e.writeBool(2,t.value)}get index(){return this._index}set index(t){this._index=t}get value(){return this._value}set value(t){this._value=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{index:this.index,value:this.value}}toJSON(){return this.toObject()}toProtobufJSON(t){return{index:this.index,value:this.value}}}return t.id="common.play.types.MutatorSparseBooleanEntry",t})(),fw=(()=>{class t{constructor(e){this.index=(e=e||{}).index,this.value=e.value,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.index=t.index||0,t.value=t.value||0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.index=n.readUint32();break;case 2:e.value=n.readInt32();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.index&&e.writeUint32(1,t.index),t.value&&e.writeInt32(2,t.value)}get index(){return this._index}set index(t){this._index=t}get value(){return this._value}set value(t){this._value=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{index:this.index,value:this.value}}toJSON(){return this.toObject()}toProtobufJSON(t){return{index:this.index,value:this.value}}}return t.id="common.play.types.MutatorSparseIntEntry",t})(),_w=(()=>{class t{constructor(e){this.index=(e=e||{}).index,this.value=e.value,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.index=t.index||0,t.value=t.value||0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.index=n.readUint32();break;case 2:e.value=n.readFloat();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.index&&e.writeUint32(1,t.index),t.value&&e.writeFloat(2,t.value)}get index(){return this._index}set index(t){this._index=t}get value(){return this._value}set value(t){this._value=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{index:this.index,value:this.value}}toJSON(){return this.toObject()}toProtobufJSON(t){return{index:this.index,value:this.value}}}return t.id="common.play.types.MutatorSparseFloatEntry",t})(),bw=(()=>{class t{constructor(e){this.defaultValue=(e=e||{}).defaultValue,this.size=e.size,this.sparseValues=(e.sparseValues||[]).map(t=>new mw(t)),t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.defaultValue=t.defaultValue||!1,t.size=t.size||0,t.sparseValues=t.sparseValues||[]}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.defaultValue=n.readBool();break;case 2:e.size=n.readUint32();break;case 3:const t=new mw;n.readMessage(t,mw.deserializeBinaryFromReader),(e.sparseValues=e.sparseValues||[]).push(t);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.defaultValue&&e.writeBool(1,t.defaultValue),t.size&&e.writeUint32(2,t.size),t.sparseValues&&t.sparseValues.length&&e.writeRepeatedMessage(3,t.sparseValues,mw.serializeBinaryToWriter)}get defaultValue(){return this._defaultValue}set defaultValue(t){this._defaultValue=t}get size(){return this._size}set size(t){this._size=t}get sparseValues(){return this._sparseValues}set sparseValues(t){this._sparseValues=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{defaultValue:this.defaultValue,size:this.size,sparseValues:(this.sparseValues||[]).map(t=>t.toObject())}}toJSON(){return this.toObject()}toProtobufJSON(t){return{defaultValue:this.defaultValue,size:this.size,sparseValues:(this.sparseValues||[]).map(e=>e.toProtobufJSON(t))}}}return t.id="common.play.types.MutatorSparseBoolean",t})(),vw=(()=>{class t{constructor(e){this.defaultValue=(e=e||{}).defaultValue,this.size=e.size,this.sparseValues=(e.sparseValues||[]).map(t=>new fw(t)),t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.defaultValue=t.defaultValue||0,t.size=t.size||0,t.sparseValues=t.sparseValues||[]}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.defaultValue=n.readInt32();break;case 2:e.size=n.readUint32();break;case 3:const t=new fw;n.readMessage(t,fw.deserializeBinaryFromReader),(e.sparseValues=e.sparseValues||[]).push(t);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.defaultValue&&e.writeInt32(1,t.defaultValue),t.size&&e.writeUint32(2,t.size),t.sparseValues&&t.sparseValues.length&&e.writeRepeatedMessage(3,t.sparseValues,fw.serializeBinaryToWriter)}get defaultValue(){return this._defaultValue}set defaultValue(t){this._defaultValue=t}get size(){return this._size}set size(t){this._size=t}get sparseValues(){return this._sparseValues}set sparseValues(t){this._sparseValues=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{defaultValue:this.defaultValue,size:this.size,sparseValues:(this.sparseValues||[]).map(t=>t.toObject())}}toJSON(){return this.toObject()}toProtobufJSON(t){return{defaultValue:this.defaultValue,size:this.size,sparseValues:(this.sparseValues||[]).map(e=>e.toProtobufJSON(t))}}}return t.id="common.play.types.MutatorSparseInt",t})(),yw=(()=>{class t{constructor(e){this.defaultValue=(e=e||{}).defaultValue,this.size=e.size,this.sparseValues=(e.sparseValues||[]).map(t=>new _w(t)),t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.defaultValue=t.defaultValue||0,t.size=t.size||0,t.sparseValues=t.sparseValues||[]}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.defaultValue=n.readFloat();break;case 2:e.size=n.readUint32();break;case 3:const t=new _w;n.readMessage(t,_w.deserializeBinaryFromReader),(e.sparseValues=e.sparseValues||[]).push(t);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.defaultValue&&e.writeFloat(1,t.defaultValue),t.size&&e.writeUint32(2,t.size),t.sparseValues&&t.sparseValues.length&&e.writeRepeatedMessage(3,t.sparseValues,_w.serializeBinaryToWriter)}get defaultValue(){return this._defaultValue}set defaultValue(t){this._defaultValue=t}get size(){return this._size}set size(t){this._size=t}get sparseValues(){return this._sparseValues}set sparseValues(t){this._sparseValues=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{defaultValue:this.defaultValue,size:this.size,sparseValues:(this.sparseValues||[]).map(t=>t.toObject())}}toJSON(){return this.toObject()}toProtobufJSON(t){return{defaultValue:this.defaultValue,size:this.size,sparseValues:(this.sparseValues||[]).map(e=>e.toProtobufJSON(t))}}}return t.id="common.play.types.MutatorSparseFloat",t})(),Cw=(()=>{class t{constructor(e){this.value=(e=e||{}).value,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.value=t.value||""}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.value=n.readString();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.value&&e.writeString(1,t.value)}get value(){return this._value}set value(t){this._value=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{value:this.value}}toJSON(){return this.toObject()}toProtobufJSON(t){return{value:this.value}}}return t.id="common.play.types.MutatorString",t})(),Ow=(()=>{class t{constructor(e){this._kind=t.KindCase.none,this.mutatorBoolean=(e=e||{}).mutatorBoolean?new dw(e.mutatorBoolean):void 0,this.mutatorString=e.mutatorString?new Cw(e.mutatorString):void 0,this.mutatorFloat=e.mutatorFloat?new gw(e.mutatorFloat):void 0,this.mutatorInt=e.mutatorInt?new pw(e.mutatorInt):void 0,this.mutatorSparseBoolean=e.mutatorSparseBoolean?new bw(e.mutatorSparseBoolean):void 0,this.mutatorSparseInt=e.mutatorSparseInt?new vw(e.mutatorSparseInt):void 0,this.mutatorSparseFloat=e.mutatorSparseFloat?new yw(e.mutatorSparseFloat):void 0,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.mutatorBoolean=new dw,n.readMessage(e.mutatorBoolean,dw.deserializeBinaryFromReader);break;case 4:e.mutatorString=new Cw,n.readMessage(e.mutatorString,Cw.deserializeBinaryFromReader);break;case 5:e.mutatorFloat=new gw,n.readMessage(e.mutatorFloat,gw.deserializeBinaryFromReader);break;case 6:e.mutatorInt=new pw,n.readMessage(e.mutatorInt,pw.deserializeBinaryFromReader);break;case 7:e.mutatorSparseBoolean=new bw,n.readMessage(e.mutatorSparseBoolean,bw.deserializeBinaryFromReader);break;case 8:e.mutatorSparseInt=new vw,n.readMessage(e.mutatorSparseInt,vw.deserializeBinaryFromReader);break;case 9:e.mutatorSparseFloat=new yw,n.readMessage(e.mutatorSparseFloat,yw.deserializeBinaryFromReader);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.mutatorBoolean&&e.writeMessage(1,t.mutatorBoolean,dw.serializeBinaryToWriter),t.mutatorString&&e.writeMessage(4,t.mutatorString,Cw.serializeBinaryToWriter),t.mutatorFloat&&e.writeMessage(5,t.mutatorFloat,gw.serializeBinaryToWriter),t.mutatorInt&&e.writeMessage(6,t.mutatorInt,pw.serializeBinaryToWriter),t.mutatorSparseBoolean&&e.writeMessage(7,t.mutatorSparseBoolean,bw.serializeBinaryToWriter),t.mutatorSparseInt&&e.writeMessage(8,t.mutatorSparseInt,vw.serializeBinaryToWriter),t.mutatorSparseFloat&&e.writeMessage(9,t.mutatorSparseFloat,yw.serializeBinaryToWriter)}get mutatorBoolean(){return this._mutatorBoolean}set mutatorBoolean(e){null!=e&&(this._mutatorString=this._mutatorFloat=this._mutatorInt=this._mutatorSparseBoolean=this._mutatorSparseInt=this._mutatorSparseFloat=void 0,this._kind=t.KindCase.mutatorBoolean),this._mutatorBoolean=e}get mutatorString(){return this._mutatorString}set mutatorString(e){null!=e&&(this._mutatorBoolean=this._mutatorFloat=this._mutatorInt=this._mutatorSparseBoolean=this._mutatorSparseInt=this._mutatorSparseFloat=void 0,this._kind=t.KindCase.mutatorString),this._mutatorString=e}get mutatorFloat(){return this._mutatorFloat}set mutatorFloat(e){null!=e&&(this._mutatorBoolean=this._mutatorString=this._mutatorInt=this._mutatorSparseBoolean=this._mutatorSparseInt=this._mutatorSparseFloat=void 0,this._kind=t.KindCase.mutatorFloat),this._mutatorFloat=e}get mutatorInt(){return this._mutatorInt}set mutatorInt(e){null!=e&&(this._mutatorBoolean=this._mutatorString=this._mutatorFloat=this._mutatorSparseBoolean=this._mutatorSparseInt=this._mutatorSparseFloat=void 0,this._kind=t.KindCase.mutatorInt),this._mutatorInt=e}get mutatorSparseBoolean(){return this._mutatorSparseBoolean}set mutatorSparseBoolean(e){null!=e&&(this._mutatorBoolean=this._mutatorString=this._mutatorFloat=this._mutatorInt=this._mutatorSparseInt=this._mutatorSparseFloat=void 0,this._kind=t.KindCase.mutatorSparseBoolean),this._mutatorSparseBoolean=e}get mutatorSparseInt(){return this._mutatorSparseInt}set mutatorSparseInt(e){null!=e&&(this._mutatorBoolean=this._mutatorString=this._mutatorFloat=this._mutatorInt=this._mutatorSparseBoolean=this._mutatorSparseFloat=void 0,this._kind=t.KindCase.mutatorSparseInt),this._mutatorSparseInt=e}get mutatorSparseFloat(){return this._mutatorSparseFloat}set mutatorSparseFloat(e){null!=e&&(this._mutatorBoolean=this._mutatorString=this._mutatorFloat=this._mutatorInt=this._mutatorSparseBoolean=this._mutatorSparseInt=void 0,this._kind=t.KindCase.mutatorSparseFloat),this._mutatorSparseFloat=e}get kind(){return this._kind}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{mutatorBoolean:this.mutatorBoolean?this.mutatorBoolean.toObject():void 0,mutatorString:this.mutatorString?this.mutatorString.toObject():void 0,mutatorFloat:this.mutatorFloat?this.mutatorFloat.toObject():void 0,mutatorInt:this.mutatorInt?this.mutatorInt.toObject():void 0,mutatorSparseBoolean:this.mutatorSparseBoolean?this.mutatorSparseBoolean.toObject():void 0,mutatorSparseInt:this.mutatorSparseInt?this.mutatorSparseInt.toObject():void 0,mutatorSparseFloat:this.mutatorSparseFloat?this.mutatorSparseFloat.toObject():void 0}}toJSON(){return this.toObject()}toProtobufJSON(t){return{mutatorBoolean:this.mutatorBoolean?this.mutatorBoolean.toProtobufJSON(t):null,mutatorString:this.mutatorString?this.mutatorString.toProtobufJSON(t):null,mutatorFloat:this.mutatorFloat?this.mutatorFloat.toProtobufJSON(t):null,mutatorInt:this.mutatorInt?this.mutatorInt.toProtobufJSON(t):null,mutatorSparseBoolean:this.mutatorSparseBoolean?this.mutatorSparseBoolean.toProtobufJSON(t):null,mutatorSparseInt:this.mutatorSparseInt?this.mutatorSparseInt.toProtobufJSON(t):null,mutatorSparseFloat:this.mutatorSparseFloat?this.mutatorSparseFloat.toProtobufJSON(t):null}}}return t.id="common.play.types.MutatorKind",t})();!function(t){let e;!function(t){t[t.none=0]="none",t[t.mutatorBoolean=1]="mutatorBoolean",t[t.mutatorString=2]="mutatorString",t[t.mutatorFloat=3]="mutatorFloat",t[t.mutatorInt=4]="mutatorInt",t[t.mutatorSparseBoolean=5]="mutatorSparseBoolean",t[t.mutatorSparseInt=6]="mutatorSparseInt",t[t.mutatorSparseFloat=7]="mutatorSparseFloat"}(e=t.KindCase||(t.KindCase={}))}(Ow||(Ow={}));let Tw=(()=>{class t{constructor(e){this.name=(e=e||{}).name,this.category=e.category,this.kind=e.kind?new Ow(e.kind):void 0,this.id=e.id,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.name=t.name||"",t.category=t.category||"",t.kind=t.kind||void 0,t.id=t.id||""}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.name=n.readString();break;case 2:e.category=n.readString();break;case 3:e.kind=new Ow,n.readMessage(e.kind,Ow.deserializeBinaryFromReader);break;case 4:e.id=n.readString();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.name&&e.writeString(1,t.name),t.category&&e.writeString(2,t.category),t.kind&&e.writeMessage(3,t.kind,Ow.serializeBinaryToWriter),t.id&&e.writeString(4,t.id)}get name(){return this._name}set name(t){this._name=t}get category(){return this._category}set category(t){this._category=t}get kind(){return this._kind}set kind(t){this._kind=t}get id(){return this._id}set id(t){this._id=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{name:this.name,category:this.category,kind:this.kind?this.kind.toObject():void 0,id:this.id}}toJSON(){return this.toObject()}toProtobufJSON(t){return{name:this.name,category:this.category,kind:this.kind?this.kind.toProtobufJSON(t):null,id:this.id}}}return t.id="common.play.types.Mutator",t})(),Ew=(()=>{class t{constructor(e){this.levelName=(e=e||{}).levelName,this.gameMode=e.gameMode,this.gameSize=e.gameSize,this.rounds=e.rounds,this.mutators=(e.mutators||[]).map(t=>new Tw(t)),this.levelLocation=e.levelLocation,this.preRoundSize=e.preRoundSize,this.warmUpSize=e.warmUpSize,this.allowedSpectators=e.allowedSpectators,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.levelName=t.levelName||"",t.gameMode=t.gameMode||"",t.gameSize=t.gameSize||0,t.rounds=t.rounds||0,t.mutators=t.mutators||[],t.levelLocation=t.levelLocation||"",t.preRoundSize=t.preRoundSize||0,t.warmUpSize=t.warmUpSize||0,t.allowedSpectators=t.allowedSpectators||0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.levelName=n.readString();break;case 2:e.gameMode=n.readString();break;case 3:e.gameSize=n.readUint32();break;case 4:e.rounds=n.readUint32();break;case 5:const t=new Tw;n.readMessage(t,Tw.deserializeBinaryFromReader),(e.mutators=e.mutators||[]).push(t);break;case 6:e.levelLocation=n.readString();break;case 7:e.preRoundSize=n.readUint32();break;case 8:e.warmUpSize=n.readUint32();break;case 9:e.allowedSpectators=n.readUint32();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.levelName&&e.writeString(1,t.levelName),t.gameMode&&e.writeString(2,t.gameMode),t.gameSize&&e.writeUint32(3,t.gameSize),t.rounds&&e.writeUint32(4,t.rounds),t.mutators&&t.mutators.length&&e.writeRepeatedMessage(5,t.mutators,Tw.serializeBinaryToWriter),t.levelLocation&&e.writeString(6,t.levelLocation),t.preRoundSize&&e.writeUint32(7,t.preRoundSize),t.warmUpSize&&e.writeUint32(8,t.warmUpSize),t.allowedSpectators&&e.writeUint32(9,t.allowedSpectators)}get levelName(){return this._levelName}set levelName(t){this._levelName=t}get gameMode(){return this._gameMode}set gameMode(t){this._gameMode=t}get gameSize(){return this._gameSize}set gameSize(t){this._gameSize=t}get rounds(){return this._rounds}set rounds(t){this._rounds=t}get mutators(){return this._mutators}set mutators(t){this._mutators=t}get levelLocation(){return this._levelLocation}set levelLocation(t){this._levelLocation=t}get preRoundSize(){return this._preRoundSize}set preRoundSize(t){this._preRoundSize=t}get warmUpSize(){return this._warmUpSize}set warmUpSize(t){this._warmUpSize=t}get allowedSpectators(){return this._allowedSpectators}set allowedSpectators(t){this._allowedSpectators=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{levelName:this.levelName,gameMode:this.gameMode,gameSize:this.gameSize,rounds:this.rounds,mutators:(this.mutators||[]).map(t=>t.toObject()),levelLocation:this.levelLocation,preRoundSize:this.preRoundSize,warmUpSize:this.warmUpSize,allowedSpectators:this.allowedSpectators}}toJSON(){return this.toObject()}toProtobufJSON(t){return{levelName:this.levelName,gameMode:this.gameMode,gameSize:this.gameSize,rounds:this.rounds,mutators:(this.mutators||[]).map(e=>e.toProtobufJSON(t)),levelLocation:this.levelLocation,preRoundSize:this.preRoundSize,warmUpSize:this.warmUpSize,allowedSpectators:this.allowedSpectators}}}return t.id="common.play.types.MapEntry",t})(),Sw=(()=>{class t{constructor(e){this.maps=((e=e||{}).maps||[]).map(t=>new Ew(t)),this.rotationBehavior=e.rotationBehavior,this.roundBehavior=e.roundBehavior,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.maps=t.maps||[],t.rotationBehavior=t.rotationBehavior||0,t.roundBehavior=t.roundBehavior||0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:const t=new Ew;n.readMessage(t,Ew.deserializeBinaryFromReader),(e.maps=e.maps||[]).push(t);break;case 2:e.rotationBehavior=n.readEnum();break;case 3:e.roundBehavior=n.readEnum();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.maps&&t.maps.length&&e.writeRepeatedMessage(1,t.maps,Ew.serializeBinaryToWriter),t.rotationBehavior&&e.writeEnum(2,t.rotationBehavior),t.roundBehavior&&e.writeEnum(3,t.roundBehavior)}get maps(){return this._maps}set maps(t){this._maps=t}get rotationBehavior(){return this._rotationBehavior}set rotationBehavior(t){this._rotationBehavior=t}get roundBehavior(){return this._roundBehavior}set roundBehavior(t){this._roundBehavior=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{maps:(this.maps||[]).map(t=>t.toObject()),rotationBehavior:this.rotationBehavior,roundBehavior:this.roundBehavior}}toJSON(){return this.toObject()}toProtobufJSON(t){var e,n;return{maps:(this.maps||[]).map(e=>e.toProtobufJSON(t)),rotationBehavior:lw[null!==(e=this.rotationBehavior)&&void 0!==e?e:0],roundBehavior:cw[null!==(n=this.roundBehavior)&&void 0!==n?n:0]}}}return t.id="common.play.types.MapRotation",t})(),ww=(()=>{class t{constructor(e){this.inputMethods=((e=e||{}).inputMethods||[]).slice(),t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.inputMethods=t.inputMethods||[]}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:(e.inputMethods=e.inputMethods||[]).push(...n.readPackedEnum()||[]);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.inputMethods&&t.inputMethods.length&&e.writePackedEnum(1,t.inputMethods)}get inputMethods(){return this._inputMethods}set inputMethods(t){this._inputMethods=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{inputMethods:(this.inputMethods||[]).slice()}}toJSON(){return this.toObject()}toProtobufJSON(t){return{inputMethods:(this.inputMethods||[]).map(t=>$S[t])}}}return t.id="common.play.types.InputMethodRestrictions",t})(),Mw=(()=>{class t{constructor(e){this.platforms=((e=e||{}).platforms||[]).slice(),t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.platforms=t.platforms||[]}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:(e.platforms=e.platforms||[]).push(...n.readPackedEnum()||[]);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.platforms&&t.platforms.length&&e.writePackedEnum(1,t.platforms)}get platforms(){return this._platforms}set platforms(t){this._platforms=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{platforms:(this.platforms||[]).slice()}}toJSON(){return this.toObject()}toProtobufJSON(t){return{platforms:(this.platforms||[]).map(t=>JS[t])}}}return t.id="common.play.types.PlatformRestrictions",t})(),xw=(()=>{class t{constructor(e){this.assetCategoryTags=((e=e||{}).assetCategoryTags||[]).slice(),this.value=e.value,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.assetCategoryTags=t.assetCategoryTags||[],t.value=t.value||!1}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:(e.assetCategoryTags=e.assetCategoryTags||[]).push(n.readString());break;case 2:e.value=n.readBool();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.assetCategoryTags&&t.assetCategoryTags.length&&e.writeRepeatedString(1,t.assetCategoryTags),t.value&&e.writeBool(2,t.value)}get assetCategoryTags(){return this._assetCategoryTags}set assetCategoryTags(t){this._assetCategoryTags=t}get value(){return this._value}set value(t){this._value=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{assetCategoryTags:(this.assetCategoryTags||[]).slice(),value:this.value}}toJSON(){return this.toObject()}toProtobufJSON(t){return{assetCategoryTags:(this.assetCategoryTags||[]).slice(),value:this.value}}}return t.id="common.play.types.AssetCategoryTagBooleanOverride",t})(),Pw=(()=>{class t{constructor(e){this.assetCategoryTags=((e=e||{}).assetCategoryTags||[]).slice(),this.value=e.value,this.teamId=e.teamId,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.assetCategoryTags=t.assetCategoryTags||[],t.value=t.value||!1,t.teamId=t.teamId||0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:(e.assetCategoryTags=e.assetCategoryTags||[]).push(n.readString());break;case 2:e.value=n.readBool();break;case 3:e.teamId=n.readUint32();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.assetCategoryTags&&t.assetCategoryTags.length&&e.writeRepeatedString(1,t.assetCategoryTags),t.value&&e.writeBool(2,t.value),t.teamId&&e.writeUint32(3,t.teamId)}get assetCategoryTags(){return this._assetCategoryTags}set assetCategoryTags(t){this._assetCategoryTags=t}get value(){return this._value}set value(t){this._value=t}get teamId(){return this._teamId}set teamId(t){this._teamId=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{assetCategoryTags:(this.assetCategoryTags||[]).slice(),value:this.value,teamId:this.teamId}}toJSON(){return this.toObject()}toProtobufJSON(t){return{assetCategoryTags:(this.assetCategoryTags||[]).slice(),value:this.value,teamId:this.teamId}}}return t.id="common.play.types.AssetCategoryTagBooleanTeamOverride",t})(),kw=(()=>{class t{constructor(e){this.defaultValue=(e=e||{}).defaultValue,this.overrides=e.overrides?new xw(e.overrides):void 0,this.teamOverrides=(e.teamOverrides||[]).map(t=>new Pw(t)),t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.defaultValue=t.defaultValue||!1,t.overrides=t.overrides||void 0,t.teamOverrides=t.teamOverrides||[]}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.defaultValue=n.readBool();break;case 2:e.overrides=new xw,n.readMessage(e.overrides,xw.deserializeBinaryFromReader);break;case 3:const t=new Pw;n.readMessage(t,Pw.deserializeBinaryFromReader),(e.teamOverrides=e.teamOverrides||[]).push(t);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.defaultValue&&e.writeBool(1,t.defaultValue),t.overrides&&e.writeMessage(2,t.overrides,xw.serializeBinaryToWriter),t.teamOverrides&&t.teamOverrides.length&&e.writeRepeatedMessage(3,t.teamOverrides,Pw.serializeBinaryToWriter)}get defaultValue(){return this._defaultValue}set defaultValue(t){this._defaultValue=t}get overrides(){return this._overrides}set overrides(t){this._overrides=t}get teamOverrides(){return this._teamOverrides}set teamOverrides(t){this._teamOverrides=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{defaultValue:this.defaultValue,overrides:this.overrides?this.overrides.toObject():void 0,teamOverrides:(this.teamOverrides||[]).map(t=>t.toObject())}}toJSON(){return this.toObject()}toProtobufJSON(t){return{defaultValue:this.defaultValue,overrides:this.overrides?this.overrides.toProtobufJSON(t):null,teamOverrides:(this.teamOverrides||[]).map(e=>e.toProtobufJSON(t))}}}return t.id="common.play.types.AssetCategoryBoolean",t})(),Iw=(()=>{class t{constructor(e){this._kind=t.KindCase.none,this.tagId=(e=e||{}).tagId,this.boolean=e.boolean?new kw(e.boolean):void 0,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.tagId=t.tagId||""}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.tagId=n.readString();break;case 2:e.boolean=new kw,n.readMessage(e.boolean,kw.deserializeBinaryFromReader);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.tagId&&e.writeString(1,t.tagId),t.boolean&&e.writeMessage(2,t.boolean,kw.serializeBinaryToWriter)}get tagId(){return this._tagId}set tagId(t){this._tagId=t}get boolean(){return this._boolean}set boolean(e){null!=e&&(this._kind=t.KindCase.boolean),this._boolean=e}get kind(){return this._kind}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{tagId:this.tagId,boolean:this.boolean?this.boolean.toObject():void 0}}toJSON(){return this.toObject()}toProtobufJSON(t){return{tagId:this.tagId,boolean:this.boolean?this.boolean.toProtobufJSON(t):null}}}return t.id="common.play.types.AssetCategory",t})();!function(t){let e;!function(t){t[t.none=0]="none",t[t.boolean=1]="boolean"}(e=t.KindCase||(t.KindCase={}))}(Iw||(Iw={}));let Aw=(()=>{class t{constructor(e){this.platformRestrictions=(e=e||{}).platformRestrictions?new Mw(e.platformRestrictions):void 0,this.inputMethodRestrictions=e.inputMethodRestrictions?new ww(e.inputMethodRestrictions):void 0,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.platformRestrictions=t.platformRestrictions||void 0,t.inputMethodRestrictions=t.inputMethodRestrictions||void 0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.platformRestrictions=new Mw,n.readMessage(e.platformRestrictions,Mw.deserializeBinaryFromReader);break;case 2:e.inputMethodRestrictions=new ww,n.readMessage(e.inputMethodRestrictions,ww.deserializeBinaryFromReader);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.platformRestrictions&&e.writeMessage(1,t.platformRestrictions,Mw.serializeBinaryToWriter),t.inputMethodRestrictions&&e.writeMessage(2,t.inputMethodRestrictions,ww.serializeBinaryToWriter)}get platformRestrictions(){return this._platformRestrictions}set platformRestrictions(t){this._platformRestrictions=t}get inputMethodRestrictions(){return this._inputMethodRestrictions}set inputMethodRestrictions(t){this._inputMethodRestrictions=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{platformRestrictions:this.platformRestrictions?this.platformRestrictions.toObject():void 0,inputMethodRestrictions:this.inputMethodRestrictions?this.inputMethodRestrictions.toObject():void 0}}toJSON(){return this.toObject()}toProtobufJSON(t){return{platformRestrictions:this.platformRestrictions?this.platformRestrictions.toProtobufJSON(t):null,inputMethodRestrictions:this.inputMethodRestrictions?this.inputMethodRestrictions.toProtobufJSON(t):null}}}return t.id="common.play.types.Restrictions",t})(),Rw=(()=>{class t{constructor(e){this.compiledModRules=(e=e||{}).compiledModRules,this.rulesVersion=e.rulesVersion,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.compiledModRules=t.compiledModRules||new Uint8Array,t.rulesVersion=t.rulesVersion||0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.compiledModRules=n.readBytes();break;case 2:e.rulesVersion=n.readInt32();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.compiledModRules&&t.compiledModRules.length&&e.writeBytes(1,t.compiledModRules),t.rulesVersion&&e.writeInt32(2,t.rulesVersion)}get compiledModRules(){return this._compiledModRules}set compiledModRules(t){this._compiledModRules=t}get rulesVersion(){return this._rulesVersion}set rulesVersion(t){this._rulesVersion=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{compiledModRules:this.compiledModRules?this.compiledModRules.subarray(0):new Uint8Array,rulesVersion:this.rulesVersion}}toJSON(){return this.toObject()}toProtobufJSON(t){return{compiledModRules:this.compiledModRules?Bu(this.compiledModRules):"",rulesVersion:this.rulesVersion}}}return t.id="common.play.types.Uncompressed",t})(),Dw=(()=>{class t{constructor(e){this.compiledModRules=(e=e||{}).compiledModRules,this.rulesVersion=e.rulesVersion,this.inflatedSize=e.inflatedSize,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.compiledModRules=t.compiledModRules||new Uint8Array,t.rulesVersion=t.rulesVersion||0,t.inflatedSize=t.inflatedSize||0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.compiledModRules=n.readBytes();break;case 2:e.rulesVersion=n.readInt32();break;case 3:e.inflatedSize=n.readInt32();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.compiledModRules&&t.compiledModRules.length&&e.writeBytes(1,t.compiledModRules),t.rulesVersion&&e.writeInt32(2,t.rulesVersion),t.inflatedSize&&e.writeInt32(3,t.inflatedSize)}get compiledModRules(){return this._compiledModRules}set compiledModRules(t){this._compiledModRules=t}get rulesVersion(){return this._rulesVersion}set rulesVersion(t){this._rulesVersion=t}get inflatedSize(){return this._inflatedSize}set inflatedSize(t){this._inflatedSize=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{compiledModRules:this.compiledModRules?this.compiledModRules.subarray(0):new Uint8Array,rulesVersion:this.rulesVersion,inflatedSize:this.inflatedSize}}toJSON(){return this.toObject()}toProtobufJSON(t){return{compiledModRules:this.compiledModRules?Bu(this.compiledModRules):"",rulesVersion:this.rulesVersion,inflatedSize:this.inflatedSize}}}return t.id="common.play.types.Compressed",t})(),Lw=(()=>{class t{constructor(e){this._rules=t.RulesCase.none,this.uncompressed=(e=e||{}).uncompressed?new Rw(e.uncompressed):void 0,this.compressed=e.compressed?new Dw(e.compressed):void 0,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.uncompressed=new Rw,n.readMessage(e.uncompressed,Rw.deserializeBinaryFromReader);break;case 2:e.compressed=new Dw,n.readMessage(e.compressed,Dw.deserializeBinaryFromReader);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.uncompressed&&e.writeMessage(1,t.uncompressed,Rw.serializeBinaryToWriter),t.compressed&&e.writeMessage(2,t.compressed,Dw.serializeBinaryToWriter)}get uncompressed(){return this._uncompressed}set uncompressed(e){null!=e&&(this._compressed=void 0,this._rules=t.RulesCase.uncompressed),this._uncompressed=e}get compressed(){return this._compressed}set compressed(e){null!=e&&(this._uncompressed=void 0,this._rules=t.RulesCase.compressed),this._compressed=e}get rules(){return this._rules}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{uncompressed:this.uncompressed?this.uncompressed.toObject():void 0,compressed:this.compressed?this.compressed.toObject():void 0}}toJSON(){return this.toObject()}toProtobufJSON(t){return{uncompressed:this.uncompressed?this.uncompressed.toProtobufJSON(t):null,compressed:this.compressed?this.compressed.toProtobufJSON(t):null}}}return t.id="common.play.types.CompiledRules",t})();!function(t){let e;!function(t){t[t.none=0]="none",t[t.uncompressed=1]="uncompressed",t[t.compressed=2]="compressed"}(e=t.RulesCase||(t.RulesCase={}))}(Lw||(Lw={}));var Nw=function(t){return t[t.AVAILABLE_GAME_DATA=0]="AVAILABLE_GAME_DATA",t[t.METADATA=1]="METADATA",t[t.CUSTOM_DATA=2]="CUSTOM_DATA",t[t.CONSTRAINTS=3]="CONSTRAINTS",t[t.AVAILABLE_TAGS=4]="AVAILABLE_TAGS",t}({}),Bw=function(t){return t[t.ACTIVE=0]="ACTIVE",t[t.ARCHIVED=1]="ARCHIVED",t}({}),Fw=function(t){return t[t.CATEGORY_UNKNOWN=0]="CATEGORY_UNKNOWN",t[t.CATEGORY_MODE=1]="CATEGORY_MODE",t[t.CATEGORY_PACKAGE=2]="CATEGORY_PACKAGE",t[t.CATEGORY_GENERAL=3]="CATEGORY_GENERAL",t}({}),Uw=function(t){return t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.EVEN_NUMBERS=1]="EVEN_NUMBERS",t[t.EVEN_PERCENTAGE=2]="EVEN_PERCENTAGE",t[t.FILL_IN_TEAM_ORDER=3]="FILL_IN_TEAM_ORDER",t}({}),Vw=function(t){return t[t.AI_BACKFILL=0]="AI_BACKFILL",t[t.AI_STATIC=1]="AI_STATIC",t}({});let Gw=(()=>{class t{constructor(e){this.translations=((e=e||{}).translations||[]).map(t=>new yM(t)),this.resources=(e.resources||[]).map(t=>new hw(t)),t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.translations=t.translations||[],t.resources=t.resources||[]}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:const t=new yM;n.readMessage(t,yM.deserializeBinaryFromReader),(e.translations=e.translations||[]).push(t);break;case 2:const i=new hw;n.readMessage(i,hw.deserializeBinaryFromReader),(e.resources=e.resources||[]).push(i);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.translations&&t.translations.length&&e.writeRepeatedMessage(1,t.translations,yM.serializeBinaryToWriter),t.resources&&t.resources.length&&e.writeRepeatedMessage(2,t.resources,hw.serializeBinaryToWriter)}get translations(){return this._translations}set translations(t){this._translations=t}get resources(){return this._resources}set resources(t){this._resources=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{translations:(this.translations||[]).map(t=>t.toObject()),resources:(this.resources||[]).map(t=>t.toObject())}}toJSON(){return this.toObject()}toProtobufJSON(t){return{translations:(this.translations||[]).map(e=>e.toProtobufJSON(t)),resources:(this.resources||[]).map(e=>e.toProtobufJSON(t))}}}return t.id="common.communitygames.types.Metadata",t})(),jw=(()=>{class t{constructor(e){this.name=(e=e||{}).name,this.category=e.category,this.kind=e.kind?new dM(e.kind):void 0,this.metadata=e.metadata?new Gw(e.metadata):void 0,this.id=e.id,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.name=t.name||"",t.category=t.category||"",t.kind=t.kind||void 0,t.metadata=t.metadata||void 0,t.id=t.id||""}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.name=n.readString();break;case 2:e.category=n.readString();break;case 3:e.kind=new dM,n.readMessage(e.kind,dM.deserializeBinaryFromReader);break;case 4:e.metadata=new Gw,n.readMessage(e.metadata,Gw.deserializeBinaryFromReader);break;case 5:e.id=n.readString();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.name&&e.writeString(1,t.name),t.category&&e.writeString(2,t.category),t.kind&&e.writeMessage(3,t.kind,dM.serializeBinaryToWriter),t.metadata&&e.writeMessage(4,t.metadata,Gw.serializeBinaryToWriter),t.id&&e.writeString(5,t.id)}get name(){return this._name}set name(t){this._name=t}get category(){return this._category}set category(t){this._category=t}get kind(){return this._kind}set kind(t){this._kind=t}get metadata(){return this._metadata}set metadata(t){this._metadata=t}get id(){return this._id}set id(t){this._id=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{name:this.name,category:this.category,kind:this.kind?this.kind.toObject():void 0,metadata:this.metadata?this.metadata.toObject():void 0,id:this.id}}toJSON(){return this.toObject()}toProtobufJSON(t){return{name:this.name,category:this.category,kind:this.kind?this.kind.toProtobufJSON(t):null,metadata:this.metadata?this.metadata.toProtobufJSON(t):null,id:this.id}}}return t.id="common.communitygames.types.AvailableMutator",t})(),Hw=(()=>{class t{constructor(e){this.levelName=(e=e||{}).levelName,this.gameMode=e.gameMode,this.levelLocation=e.levelLocation,this.gameSize=e.gameSize?new vM(e.gameSize):void 0,this.rounds=e.rounds?new vM(e.rounds):void 0,this.preRoundSize=e.preRoundSize?new vM(e.preRoundSize):void 0,this.warmUpSize=e.warmUpSize?new vM(e.warmUpSize):void 0,this.allowedSpectators=e.allowedSpectators?new vM(e.allowedSpectators):void 0,this.mutators=(e.mutators||[]).map(t=>new jw(t)),this.metadata=e.metadata?new Gw(e.metadata):void 0,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.levelName=t.levelName||"",t.gameMode=t.gameMode||"",t.levelLocation=t.levelLocation||"",t.gameSize=t.gameSize||void 0,t.rounds=t.rounds||void 0,t.preRoundSize=t.preRoundSize||void 0,t.warmUpSize=t.warmUpSize||void 0,t.allowedSpectators=t.allowedSpectators||void 0,t.mutators=t.mutators||[],t.metadata=t.metadata||void 0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.levelName=n.readString();break;case 2:e.gameMode=n.readString();break;case 3:e.levelLocation=n.readString();break;case 4:e.gameSize=new vM,n.readMessage(e.gameSize,vM.deserializeBinaryFromReader);break;case 5:e.rounds=new vM,n.readMessage(e.rounds,vM.deserializeBinaryFromReader);break;case 6:e.preRoundSize=new vM,n.readMessage(e.preRoundSize,vM.deserializeBinaryFromReader);break;case 7:e.warmUpSize=new vM,n.readMessage(e.warmUpSize,vM.deserializeBinaryFromReader);break;case 8:e.allowedSpectators=new vM,n.readMessage(e.allowedSpectators,vM.deserializeBinaryFromReader);break;case 9:const t=new jw;n.readMessage(t,jw.deserializeBinaryFromReader),(e.mutators=e.mutators||[]).push(t);break;case 10:e.metadata=new Gw,n.readMessage(e.metadata,Gw.deserializeBinaryFromReader);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.levelName&&e.writeString(1,t.levelName),t.gameMode&&e.writeString(2,t.gameMode),t.levelLocation&&e.writeString(3,t.levelLocation),t.gameSize&&e.writeMessage(4,t.gameSize,vM.serializeBinaryToWriter),t.rounds&&e.writeMessage(5,t.rounds,vM.serializeBinaryToWriter),t.preRoundSize&&e.writeMessage(6,t.preRoundSize,vM.serializeBinaryToWriter),t.warmUpSize&&e.writeMessage(7,t.warmUpSize,vM.serializeBinaryToWriter),t.allowedSpectators&&e.writeMessage(8,t.allowedSpectators,vM.serializeBinaryToWriter),t.mutators&&t.mutators.length&&e.writeRepeatedMessage(9,t.mutators,jw.serializeBinaryToWriter),t.metadata&&e.writeMessage(10,t.metadata,Gw.serializeBinaryToWriter)}get levelName(){return this._levelName}set levelName(t){this._levelName=t}get gameMode(){return this._gameMode}set gameMode(t){this._gameMode=t}get levelLocation(){return this._levelLocation}set levelLocation(t){this._levelLocation=t}get gameSize(){return this._gameSize}set gameSize(t){this._gameSize=t}get rounds(){return this._rounds}set rounds(t){this._rounds=t}get preRoundSize(){return this._preRoundSize}set preRoundSize(t){this._preRoundSize=t}get warmUpSize(){return this._warmUpSize}set warmUpSize(t){this._warmUpSize=t}get allowedSpectators(){return this._allowedSpectators}set allowedSpectators(t){this._allowedSpectators=t}get mutators(){return this._mutators}set mutators(t){this._mutators=t}get metadata(){return this._metadata}set metadata(t){this._metadata=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{levelName:this.levelName,gameMode:this.gameMode,levelLocation:this.levelLocation,gameSize:this.gameSize?this.gameSize.toObject():void 0,rounds:this.rounds?this.rounds.toObject():void 0,preRoundSize:this.preRoundSize?this.preRoundSize.toObject():void 0,warmUpSize:this.warmUpSize?this.warmUpSize.toObject():void 0,allowedSpectators:this.allowedSpectators?this.allowedSpectators.toObject():void 0,mutators:(this.mutators||[]).map(t=>t.toObject()),metadata:this.metadata?this.metadata.toObject():void 0}}toJSON(){return this.toObject()}toProtobufJSON(t){return{levelName:this.levelName,gameMode:this.gameMode,levelLocation:this.levelLocation,gameSize:this.gameSize?this.gameSize.toProtobufJSON(t):null,rounds:this.rounds?this.rounds.toProtobufJSON(t):null,preRoundSize:this.preRoundSize?this.preRoundSize.toProtobufJSON(t):null,warmUpSize:this.warmUpSize?this.warmUpSize.toProtobufJSON(t):null,allowedSpectators:this.allowedSpectators?this.allowedSpectators.toProtobufJSON(t):null,mutators:(this.mutators||[]).map(e=>e.toProtobufJSON(t)),metadata:this.metadata?this.metadata.toProtobufJSON(t):null}}}return t.id="common.communitygames.types.AvailableMapEntry",t})(),zw=(()=>{class t{constructor(e){this.tagId=(e=e||{}).tagId,this.name=e.name,this.childrenTags=(e.childrenTags||[]).slice(),this.metadata=e.metadata?new Gw(e.metadata):void 0,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.tagId=t.tagId||"",t.name=t.name||"",t.childrenTags=t.childrenTags||[],t.metadata=t.metadata||void 0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.tagId=n.readString();break;case 2:e.name=n.readString();break;case 3:(e.childrenTags=e.childrenTags||[]).push(n.readString());break;case 4:e.metadata=new Gw,n.readMessage(e.metadata,Gw.deserializeBinaryFromReader);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.tagId&&e.writeString(1,t.tagId),t.name&&e.writeString(2,t.name),t.childrenTags&&t.childrenTags.length&&e.writeRepeatedString(3,t.childrenTags),t.metadata&&e.writeMessage(4,t.metadata,Gw.serializeBinaryToWriter)}get tagId(){return this._tagId}set tagId(t){this._tagId=t}get name(){return this._name}set name(t){this._name=t}get childrenTags(){return this._childrenTags}set childrenTags(t){this._childrenTags=t}get metadata(){return this._metadata}set metadata(t){this._metadata=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{tagId:this.tagId,name:this.name,childrenTags:(this.childrenTags||[]).slice(),metadata:this.metadata?this.metadata.toObject():void 0}}toJSON(){return this.toObject()}toProtobufJSON(t){return{tagId:this.tagId,name:this.name,childrenTags:(this.childrenTags||[]).slice(),metadata:this.metadata?this.metadata.toProtobufJSON(t):null}}}return t.id="common.communitygames.types.AvailableAssetCategoryTag",t})(),Ww=(()=>{class t{constructor(e){this.rootTags=((e=e||{}).rootTags||[]).map(t=>new zw(t)),this.tags=(e.tags||[]).map(t=>new zw(t)),t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.rootTags=t.rootTags||[],t.tags=t.tags||[]}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:const t=new zw;n.readMessage(t,zw.deserializeBinaryFromReader),(e.rootTags=e.rootTags||[]).push(t);break;case 2:const i=new zw;n.readMessage(i,zw.deserializeBinaryFromReader),(e.tags=e.tags||[]).push(i);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.rootTags&&t.rootTags.length&&e.writeRepeatedMessage(1,t.rootTags,zw.serializeBinaryToWriter),t.tags&&t.tags.length&&e.writeRepeatedMessage(2,t.tags,zw.serializeBinaryToWriter)}get rootTags(){return this._rootTags}set rootTags(t){this._rootTags=t}get tags(){return this._tags}set tags(t){this._tags=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{rootTags:(this.rootTags||[]).map(t=>t.toObject()),tags:(this.tags||[]).map(t=>t.toObject())}}toJSON(){return this.toObject()}toProtobufJSON(t){return{rootTags:(this.rootTags||[]).map(e=>e.toProtobufJSON(t)),tags:(this.tags||[]).map(e=>e.toProtobufJSON(t))}}}return t.id="common.communitygames.types.AvailableAssetCategories",t})(),Zw=(()=>{class t{constructor(e){this.rulesVersion=(e=e||{}).rulesVersion,this.modBuilder=e.modBuilder,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.rulesVersion=t.rulesVersion||0,t.modBuilder=t.modBuilder||new Uint8Array}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.rulesVersion=n.readInt32();break;case 2:e.modBuilder=n.readBytes();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.rulesVersion&&e.writeInt32(1,t.rulesVersion),t.modBuilder&&t.modBuilder.length&&e.writeBytes(2,t.modBuilder)}get rulesVersion(){return this._rulesVersion}set rulesVersion(t){this._rulesVersion=t}get modBuilder(){return this._modBuilder}set modBuilder(t){this._modBuilder=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{rulesVersion:this.rulesVersion,modBuilder:this.modBuilder?this.modBuilder.subarray(0):new Uint8Array}}toJSON(){return this.toObject()}toProtobufJSON(t){return{rulesVersion:this.rulesVersion,modBuilder:this.modBuilder?Bu(this.modBuilder):""}}}return t.id="common.communitygames.types.ModRulesDefinition",t})(),Yw=(()=>{class t{constructor(e){this.mutators=((e=e||{}).mutators||[]).map(t=>new jw(t)),this.maps=(e.maps||[]).map(t=>new Hw(t)),this.modRules=e.modRules?new Zw(e.modRules):void 0,this.assetCategories=e.assetCategories?new Ww(e.assetCategories):void 0,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.mutators=t.mutators||[],t.maps=t.maps||[],t.modRules=t.modRules||void 0,t.assetCategories=t.assetCategories||void 0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:const t=new jw;n.readMessage(t,jw.deserializeBinaryFromReader),(e.mutators=e.mutators||[]).push(t);break;case 2:const i=new Hw;n.readMessage(i,Hw.deserializeBinaryFromReader),(e.maps=e.maps||[]).push(i);break;case 4:e.modRules=new Zw,n.readMessage(e.modRules,Zw.deserializeBinaryFromReader);break;case 5:e.assetCategories=new Ww,n.readMessage(e.assetCategories,Ww.deserializeBinaryFromReader);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.mutators&&t.mutators.length&&e.writeRepeatedMessage(1,t.mutators,jw.serializeBinaryToWriter),t.maps&&t.maps.length&&e.writeRepeatedMessage(2,t.maps,Hw.serializeBinaryToWriter),t.modRules&&e.writeMessage(4,t.modRules,Zw.serializeBinaryToWriter),t.assetCategories&&e.writeMessage(5,t.assetCategories,Ww.serializeBinaryToWriter)}get mutators(){return this._mutators}set mutators(t){this._mutators=t}get maps(){return this._maps}set maps(t){this._maps=t}get modRules(){return this._modRules}set modRules(t){this._modRules=t}get assetCategories(){return this._assetCategories}set assetCategories(t){this._assetCategories=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{mutators:(this.mutators||[]).map(t=>t.toObject()),maps:(this.maps||[]).map(t=>t.toObject()),modRules:this.modRules?this.modRules.toObject():void 0,assetCategories:this.assetCategories?this.assetCategories.toObject():void 0}}toJSON(){return this.toObject()}toProtobufJSON(t){return{mutators:(this.mutators||[]).map(e=>e.toProtobufJSON(t)),maps:(this.maps||[]).map(e=>e.toProtobufJSON(t)),modRules:this.modRules?this.modRules.toProtobufJSON(t):null,assetCategories:this.assetCategories?this.assetCategories.toProtobufJSON(t):null}}}return t.id="common.communitygames.types.AvailableGameData",t})(),qw=(()=>{class t{constructor(e){this.maxNameSize=(e=e||{}).maxNameSize,this.maxDescriptionSize=e.maxDescriptionSize,this.maxSecretSize=e.maxSecretSize,this.maxMapsInRotation=e.maxMapsInRotation,this.maxMutators=e.maxMutators,this.maxConfigNameSize=e.maxConfigNameSize,this.maxConfigDescriptionSize=e.maxConfigDescriptionSize,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.maxNameSize=t.maxNameSize||0,t.maxDescriptionSize=t.maxDescriptionSize||0,t.maxSecretSize=t.maxSecretSize||0,t.maxMapsInRotation=t.maxMapsInRotation||0,t.maxMutators=t.maxMutators||0,t.maxConfigNameSize=t.maxConfigNameSize||0,t.maxConfigDescriptionSize=t.maxConfigDescriptionSize||0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.maxNameSize=n.readInt32();break;case 2:e.maxDescriptionSize=n.readInt32();break;case 3:e.maxSecretSize=n.readInt32();break;case 4:e.maxMapsInRotation=n.readInt32();break;case 5:e.maxMutators=n.readInt32();break;case 6:e.maxConfigNameSize=n.readInt32();break;case 7:e.maxConfigDescriptionSize=n.readInt32();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.maxNameSize&&e.writeInt32(1,t.maxNameSize),t.maxDescriptionSize&&e.writeInt32(2,t.maxDescriptionSize),t.maxSecretSize&&e.writeInt32(3,t.maxSecretSize),t.maxMapsInRotation&&e.writeInt32(4,t.maxMapsInRotation),t.maxMutators&&e.writeInt32(5,t.maxMutators),t.maxConfigNameSize&&e.writeInt32(6,t.maxConfigNameSize),t.maxConfigDescriptionSize&&e.writeInt32(7,t.maxConfigDescriptionSize)}get maxNameSize(){return this._maxNameSize}set maxNameSize(t){this._maxNameSize=t}get maxDescriptionSize(){return this._maxDescriptionSize}set maxDescriptionSize(t){this._maxDescriptionSize=t}get maxSecretSize(){return this._maxSecretSize}set maxSecretSize(t){this._maxSecretSize=t}get maxMapsInRotation(){return this._maxMapsInRotation}set maxMapsInRotation(t){this._maxMapsInRotation=t}get maxMutators(){return this._maxMutators}set maxMutators(t){this._maxMutators=t}get maxConfigNameSize(){return this._maxConfigNameSize}set maxConfigNameSize(t){this._maxConfigNameSize=t}get maxConfigDescriptionSize(){return this._maxConfigDescriptionSize}set maxConfigDescriptionSize(t){this._maxConfigDescriptionSize=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{maxNameSize:this.maxNameSize,maxDescriptionSize:this.maxDescriptionSize,maxSecretSize:this.maxSecretSize,maxMapsInRotation:this.maxMapsInRotation,maxMutators:this.maxMutators,maxConfigNameSize:this.maxConfigNameSize,maxConfigDescriptionSize:this.maxConfigDescriptionSize}}toJSON(){return this.toObject()}toProtobufJSON(t){return{maxNameSize:this.maxNameSize,maxDescriptionSize:this.maxDescriptionSize,maxSecretSize:this.maxSecretSize,maxMapsInRotation:this.maxMapsInRotation,maxMutators:this.maxMutators,maxConfigNameSize:this.maxConfigNameSize,maxConfigDescriptionSize:this.maxConfigDescriptionSize}}}return t.id="common.communitygames.types.PlaygroundConstraints",t})(),Jw=(()=>{class t{constructor(e){this.id=(e=e||{}).id,this.metadata=e.metadata?new Gw(e.metadata):void 0,this.category=e.category,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.id=t.id||"",t.metadata=t.metadata||void 0,t.category=t.category||0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.id=n.readString();break;case 2:e.metadata=new Gw,n.readMessage(e.metadata,Gw.deserializeBinaryFromReader);break;case 3:e.category=n.readEnum();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.id&&e.writeString(1,t.id),t.metadata&&e.writeMessage(2,t.metadata,Gw.serializeBinaryToWriter),t.category&&e.writeEnum(3,t.category)}get id(){return this._id}set id(t){this._id=t}get metadata(){return this._metadata}set metadata(t){this._metadata=t}get category(){return this._category}set category(t){this._category=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{id:this.id,metadata:this.metadata?this.metadata.toObject():void 0,category:this.category}}toJSON(){return this.toObject()}toProtobufJSON(t){var e;return{id:this.id,metadata:this.metadata?this.metadata.toProtobufJSON(t):null,category:Fw[null!==(e=this.category)&&void 0!==e?e:0]}}}return t.id="common.communitygames.types.AvailableTag",t})(),$w=(()=>{class t{constructor(e){this.id=(e=e||{}).id,this.sortOrder=e.sortOrder,this.metadata=e.metadata?new Gw(e.metadata):void 0,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.id=t.id||"",t.sortOrder=t.sortOrder||0,t.metadata=t.metadata||void 0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.id=n.readString();break;case 2:e.sortOrder=n.readInt32();break;case 3:e.metadata=new Gw,n.readMessage(e.metadata,Gw.deserializeBinaryFromReader);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.id&&e.writeString(1,t.id),t.sortOrder&&e.writeInt32(2,t.sortOrder),t.metadata&&e.writeMessage(3,t.metadata,Gw.serializeBinaryToWriter)}get id(){return this._id}set id(t){this._id=t}get sortOrder(){return this._sortOrder}set sortOrder(t){this._sortOrder=t}get metadata(){return this._metadata}set metadata(t){this._metadata=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{id:this.id,sortOrder:this.sortOrder,metadata:this.metadata?this.metadata.toObject():void 0}}toJSON(){return this.toObject()}toProtobufJSON(t){return{id:this.id,sortOrder:this.sortOrder,metadata:this.metadata?this.metadata.toProtobufJSON(t):null}}}return t.id="common.communitygames.types.Tag",t})(),Kw=(()=>{class t{constructor(e){this.blueprintType=(e=e||{}).blueprintType,this.name=e.name,this.availableGameData=e.availableGameData?new Yw(e.availableGameData):void 0,this.metadata=e.metadata?new Gw(e.metadata):void 0,this.customData=e.customData,this.playgroundConstraints=e.playgroundConstraints?new qw(e.playgroundConstraints):void 0,this.availableTags=(e.availableTags||[]).map(t=>new Jw(t)),t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.blueprintType=t.blueprintType||"",t.name=t.name||"",t.availableGameData=t.availableGameData||void 0,t.metadata=t.metadata||void 0,t.customData=t.customData||new Uint8Array,t.playgroundConstraints=t.playgroundConstraints||void 0,t.availableTags=t.availableTags||[]}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.blueprintType=n.readString();break;case 2:e.name=n.readString();break;case 3:e.availableGameData=new Yw,n.readMessage(e.availableGameData,Yw.deserializeBinaryFromReader);break;case 4:e.metadata=new Gw,n.readMessage(e.metadata,Gw.deserializeBinaryFromReader);break;case 5:e.customData=n.readBytes();break;case 6:e.playgroundConstraints=new qw,n.readMessage(e.playgroundConstraints,qw.deserializeBinaryFromReader);break;case 7:const t=new Jw;n.readMessage(t,Jw.deserializeBinaryFromReader),(e.availableTags=e.availableTags||[]).push(t);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.blueprintType&&e.writeString(1,t.blueprintType),t.name&&e.writeString(2,t.name),t.availableGameData&&e.writeMessage(3,t.availableGameData,Yw.serializeBinaryToWriter),t.metadata&&e.writeMessage(4,t.metadata,Gw.serializeBinaryToWriter),t.customData&&t.customData.length&&e.writeBytes(5,t.customData),t.playgroundConstraints&&e.writeMessage(6,t.playgroundConstraints,qw.serializeBinaryToWriter),t.availableTags&&t.availableTags.length&&e.writeRepeatedMessage(7,t.availableTags,Jw.serializeBinaryToWriter)}get blueprintType(){return this._blueprintType}set blueprintType(t){this._blueprintType=t}get name(){return this._name}set name(t){this._name=t}get availableGameData(){return this._availableGameData}set availableGameData(t){this._availableGameData=t}get metadata(){return this._metadata}set metadata(t){this._metadata=t}get customData(){return this._customData}set customData(t){this._customData=t}get playgroundConstraints(){return this._playgroundConstraints}set playgroundConstraints(t){this._playgroundConstraints=t}get availableTags(){return this._availableTags}set availableTags(t){this._availableTags=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{blueprintType:this.blueprintType,name:this.name,availableGameData:this.availableGameData?this.availableGameData.toObject():void 0,metadata:this.metadata?this.metadata.toObject():void 0,customData:this.customData?this.customData.subarray(0):new Uint8Array,playgroundConstraints:this.playgroundConstraints?this.playgroundConstraints.toObject():void 0,availableTags:(this.availableTags||[]).map(t=>t.toObject())}}toJSON(){return this.toObject()}toProtobufJSON(t){return{blueprintType:this.blueprintType,name:this.name,availableGameData:this.availableGameData?this.availableGameData.toProtobufJSON(t):null,metadata:this.metadata?this.metadata.toProtobufJSON(t):null,customData:this.customData?Bu(this.customData):"",playgroundConstraints:this.playgroundConstraints?this.playgroundConstraints.toProtobufJSON(t):null,availableTags:(this.availableTags||[]).map(e=>e.toProtobufJSON(t))}}}return t.id="common.communitygames.types.Blueprint",t})(),Xw=(()=>{class t{constructor(e){this.name=(e=e||{}).name,this.description=e.description?new sw(e.description):void 0,this.messages=(e.messages||[]).map(t=>new Qw(t)),this.configName=e.configName?new sw(e.configName):void 0,this.configDescription=e.configDescription?new sw(e.configDescription):void 0,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.name=t.name||"",t.description=t.description||void 0,t.messages=t.messages||[],t.configName=t.configName||void 0,t.configDescription=t.configDescription||void 0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.name=n.readString();break;case 2:e.description=new sw,n.readMessage(e.description,sw.deserializeBinaryFromReader);break;case 3:const t=new Qw;n.readMessage(t,Qw.deserializeBinaryFromReader),(e.messages=e.messages||[]).push(t);break;case 4:e.configName=new sw,n.readMessage(e.configName,sw.deserializeBinaryFromReader);break;case 5:e.configDescription=new sw,n.readMessage(e.configDescription,sw.deserializeBinaryFromReader);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.name&&e.writeString(1,t.name),t.description&&e.writeMessage(2,t.description,sw.serializeBinaryToWriter),t.messages&&t.messages.length&&e.writeRepeatedMessage(3,t.messages,Qw.serializeBinaryToWriter),t.configName&&e.writeMessage(4,t.configName,sw.serializeBinaryToWriter),t.configDescription&&e.writeMessage(5,t.configDescription,sw.serializeBinaryToWriter)}get name(){return this._name}set name(t){this._name=t}get description(){return this._description}set description(t){this._description=t}get messages(){return this._messages}set messages(t){this._messages=t}get configName(){return this._configName}set configName(t){this._configName=t}get configDescription(){return this._configDescription}set configDescription(t){this._configDescription=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{name:this.name,description:this.description?this.description.toObject():void 0,messages:(this.messages||[]).map(t=>t.toObject()),configName:this.configName?this.configName.toObject():void 0,configDescription:this.configDescription?this.configDescription.toObject():void 0}}toJSON(){return this.toObject()}toProtobufJSON(t){return{name:this.name,description:this.description?this.description.toProtobufJSON(t):null,messages:(this.messages||[]).map(e=>e.toProtobufJSON(t)),configName:this.configName?this.configName.toProtobufJSON(t):null,configDescription:this.configDescription?this.configDescription.toProtobufJSON(t):null}}}return t.id="common.communitygames.types.GameServerSettings",t})(),Qw=(()=>{class t{constructor(e){this.kind=(e=e||{}).kind,this.text=e.text,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.kind=t.kind||"",t.text=t.text||""}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.kind=n.readString();break;case 2:e.text=n.readString();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.kind&&e.writeString(1,t.kind),t.text&&e.writeString(2,t.text)}get kind(){return this._kind}set kind(t){this._kind=t}get text(){return this._text}set text(t){this._text=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{kind:this.kind,text:this.text}}toJSON(){return this.toObject()}toProtobufJSON(t){return{kind:this.kind,text:this.text}}}return t.id="common.communitygames.types.GameServerMessage",t})(),tM=(()=>{class t{constructor(e){this.playgroundId=(e=e||{}).playgroundId,this.blueprintType=e.blueprintType,this.name=e.name,this.description=e.description,this.mutators=(e.mutators||[]).map(t=>new Tw(t)),this.mapRotation=e.mapRotation?new Sw(e.mapRotation):void 0,this.state=e.state,this.checksum=e.checksum,this.secret=e.secret,this.createdAt=e.createdAt?new rw(e.createdAt):void 0,this.updatedAt=e.updatedAt?new rw(e.updatedAt):void 0,this.serverSettings=e.serverSettings?new Xw(e.serverSettings):void 0,this.owner=e.owner?new KS(e.owner):void 0,this.restrictions=e.restrictions?new Aw(e.restrictions):void 0,this.modRules=e.modRules?new eM(e.modRules):void 0,this.assetCategories=(e.assetCategories||[]).map(t=>new Iw(t)),this.teamComposition=e.teamComposition?new xM(e.teamComposition):void 0,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.playgroundId=t.playgroundId||"",t.blueprintType=t.blueprintType||"",t.name=t.name||"",t.description=t.description||"",t.mutators=t.mutators||[],t.mapRotation=t.mapRotation||void 0,t.state=t.state||0,t.checksum=t.checksum||"",t.secret=t.secret||"",t.createdAt=t.createdAt||void 0,t.updatedAt=t.updatedAt||void 0,t.serverSettings=t.serverSettings||void 0,t.owner=t.owner||void 0,t.restrictions=t.restrictions||void 0,t.modRules=t.modRules||void 0,t.assetCategories=t.assetCategories||[],t.teamComposition=t.teamComposition||void 0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.playgroundId=n.readString();break;case 3:e.blueprintType=n.readString();break;case 4:e.name=n.readString();break;case 5:e.description=n.readString();break;case 6:const t=new Tw;n.readMessage(t,Tw.deserializeBinaryFromReader),(e.mutators=e.mutators||[]).push(t);break;case 7:e.mapRotation=new Sw,n.readMessage(e.mapRotation,Sw.deserializeBinaryFromReader);break;case 8:e.state=n.readEnum();break;case 9:e.checksum=n.readString();break;case 10:e.secret=n.readString();break;case 11:e.createdAt=new rw,n.readMessage(e.createdAt,rw.deserializeBinaryFromReader);break;case 12:e.updatedAt=new rw,n.readMessage(e.updatedAt,rw.deserializeBinaryFromReader);break;case 13:e.serverSettings=new Xw,n.readMessage(e.serverSettings,Xw.deserializeBinaryFromReader);break;case 14:e.owner=new KS,n.readMessage(e.owner,KS.deserializeBinaryFromReader);break;case 15:e.restrictions=new Aw,n.readMessage(e.restrictions,Aw.deserializeBinaryFromReader);break;case 16:e.modRules=new eM,n.readMessage(e.modRules,eM.deserializeBinaryFromReader);break;case 17:const i=new Iw;n.readMessage(i,Iw.deserializeBinaryFromReader),(e.assetCategories=e.assetCategories||[]).push(i);break;case 18:e.teamComposition=new xM,n.readMessage(e.teamComposition,xM.deserializeBinaryFromReader);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.playgroundId&&e.writeString(1,t.playgroundId),t.blueprintType&&e.writeString(3,t.blueprintType),t.name&&e.writeString(4,t.name),t.description&&e.writeString(5,t.description),t.mutators&&t.mutators.length&&e.writeRepeatedMessage(6,t.mutators,Tw.serializeBinaryToWriter),t.mapRotation&&e.writeMessage(7,t.mapRotation,Sw.serializeBinaryToWriter),t.state&&e.writeEnum(8,t.state),t.checksum&&e.writeString(9,t.checksum),t.secret&&e.writeString(10,t.secret),t.createdAt&&e.writeMessage(11,t.createdAt,rw.serializeBinaryToWriter),t.updatedAt&&e.writeMessage(12,t.updatedAt,rw.serializeBinaryToWriter),t.serverSettings&&e.writeMessage(13,t.serverSettings,Xw.serializeBinaryToWriter),t.owner&&e.writeMessage(14,t.owner,KS.serializeBinaryToWriter),t.restrictions&&e.writeMessage(15,t.restrictions,Aw.serializeBinaryToWriter),t.modRules&&e.writeMessage(16,t.modRules,eM.serializeBinaryToWriter),t.assetCategories&&t.assetCategories.length&&e.writeRepeatedMessage(17,t.assetCategories,Iw.serializeBinaryToWriter),t.teamComposition&&e.writeMessage(18,t.teamComposition,xM.serializeBinaryToWriter)}get playgroundId(){return this._playgroundId}set playgroundId(t){this._playgroundId=t}get blueprintType(){return this._blueprintType}set blueprintType(t){this._blueprintType=t}get name(){return this._name}set name(t){this._name=t}get description(){return this._description}set description(t){this._description=t}get mutators(){return this._mutators}set mutators(t){this._mutators=t}get mapRotation(){return this._mapRotation}set mapRotation(t){this._mapRotation=t}get state(){return this._state}set state(t){this._state=t}get checksum(){return this._checksum}set checksum(t){this._checksum=t}get secret(){return this._secret}set secret(t){this._secret=t}get createdAt(){return this._createdAt}set createdAt(t){this._createdAt=t}get updatedAt(){return this._updatedAt}set updatedAt(t){this._updatedAt=t}get serverSettings(){return this._serverSettings}set serverSettings(t){this._serverSettings=t}get owner(){return this._owner}set owner(t){this._owner=t}get restrictions(){return this._restrictions}set restrictions(t){this._restrictions=t}get modRules(){return this._modRules}set modRules(t){this._modRules=t}get assetCategories(){return this._assetCategories}set assetCategories(t){this._assetCategories=t}get teamComposition(){return this._teamComposition}set teamComposition(t){this._teamComposition=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{playgroundId:this.playgroundId,blueprintType:this.blueprintType,name:this.name,description:this.description,mutators:(this.mutators||[]).map(t=>t.toObject()),mapRotation:this.mapRotation?this.mapRotation.toObject():void 0,state:this.state,checksum:this.checksum,secret:this.secret,createdAt:this.createdAt?this.createdAt.toObject():void 0,updatedAt:this.updatedAt?this.updatedAt.toObject():void 0,serverSettings:this.serverSettings?this.serverSettings.toObject():void 0,owner:this.owner?this.owner.toObject():void 0,restrictions:this.restrictions?this.restrictions.toObject():void 0,modRules:this.modRules?this.modRules.toObject():void 0,assetCategories:(this.assetCategories||[]).map(t=>t.toObject()),teamComposition:this.teamComposition?this.teamComposition.toObject():void 0}}toJSON(){return this.toObject()}toProtobufJSON(t){var e;return{playgroundId:this.playgroundId,blueprintType:this.blueprintType,name:this.name,description:this.description,mutators:(this.mutators||[]).map(e=>e.toProtobufJSON(t)),mapRotation:this.mapRotation?this.mapRotation.toProtobufJSON(t):null,state:Bw[null!==(e=this.state)&&void 0!==e?e:0],checksum:this.checksum,secret:this.secret,createdAt:this.createdAt?this.createdAt.toProtobufJSON(t):null,updatedAt:this.updatedAt?this.updatedAt.toProtobufJSON(t):null,serverSettings:this.serverSettings?this.serverSettings.toProtobufJSON(t):null,owner:this.owner?this.owner.toProtobufJSON(t):null,restrictions:this.restrictions?this.restrictions.toProtobufJSON(t):null,modRules:this.modRules?this.modRules.toProtobufJSON(t):null,assetCategories:(this.assetCategories||[]).map(e=>e.toProtobufJSON(t)),teamComposition:this.teamComposition?this.teamComposition.toProtobufJSON(t):null}}}return t.id="common.communitygames.types.Playground",t})(),eM=(()=>{class t{constructor(e){this._rules=t.RulesCase.none,this.compatibleRules=(e=e||{}).compatibleRules?new nM(e.compatibleRules):void 0,this.incompatibleRules=e.incompatibleRules?new iM(e.incompatibleRules):void 0,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.compatibleRules=new nM,n.readMessage(e.compatibleRules,nM.deserializeBinaryFromReader);break;case 2:e.incompatibleRules=new iM,n.readMessage(e.incompatibleRules,iM.deserializeBinaryFromReader);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.compatibleRules&&e.writeMessage(1,t.compatibleRules,nM.serializeBinaryToWriter),t.incompatibleRules&&e.writeMessage(2,t.incompatibleRules,iM.serializeBinaryToWriter)}get compatibleRules(){return this._compatibleRules}set compatibleRules(e){null!=e&&(this._incompatibleRules=void 0,this._rules=t.RulesCase.compatibleRules),this._compatibleRules=e}get incompatibleRules(){return this._incompatibleRules}set incompatibleRules(e){null!=e&&(this._compatibleRules=void 0,this._rules=t.RulesCase.incompatibleRules),this._incompatibleRules=e}get rules(){return this._rules}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{compatibleRules:this.compatibleRules?this.compatibleRules.toObject():void 0,incompatibleRules:this.incompatibleRules?this.incompatibleRules.toObject():void 0}}toJSON(){return this.toObject()}toProtobufJSON(t){return{compatibleRules:this.compatibleRules?this.compatibleRules.toProtobufJSON(t):null,incompatibleRules:this.incompatibleRules?this.incompatibleRules.toProtobufJSON(t):null}}}return t.id="common.communitygames.types.OriginalModRules",t})();!function(t){let e;!function(t){t[t.none=0]="none",t[t.compatibleRules=1]="compatibleRules",t[t.incompatibleRules=2]="incompatibleRules"}(e=t.RulesCase||(t.RulesCase={}))}(eM||(eM={}));let nM=(()=>{class t{constructor(e){this.rules=(e=e||{}).rules,this.compiledOld=e.compiledOld,this.rulesVersion=e.rulesVersion,this.compiled=e.compiled?new Lw(e.compiled):void 0,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.rules=t.rules||new Uint8Array,t.compiledOld=t.compiledOld||new Uint8Array,t.rulesVersion=t.rulesVersion||0,t.compiled=t.compiled||void 0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.rules=n.readBytes();break;case 2:e.compiledOld=n.readBytes();break;case 3:e.rulesVersion=n.readInt32();break;case 4:e.compiled=new Lw,n.readMessage(e.compiled,Lw.deserializeBinaryFromReader);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.rules&&t.rules.length&&e.writeBytes(1,t.rules),t.compiledOld&&t.compiledOld.length&&e.writeBytes(2,t.compiledOld),t.rulesVersion&&e.writeInt32(3,t.rulesVersion),t.compiled&&e.writeMessage(4,t.compiled,Lw.serializeBinaryToWriter)}get rules(){return this._rules}set rules(t){this._rules=t}get compiledOld(){return this._compiledOld}set compiledOld(t){this._compiledOld=t}get rulesVersion(){return this._rulesVersion}set rulesVersion(t){this._rulesVersion=t}get compiled(){return this._compiled}set compiled(t){this._compiled=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{rules:this.rules?this.rules.subarray(0):new Uint8Array,compiledOld:this.compiledOld?this.compiledOld.subarray(0):new Uint8Array,rulesVersion:this.rulesVersion,compiled:this.compiled?this.compiled.toObject():void 0}}toJSON(){return this.toObject()}toProtobufJSON(t){return{rules:this.rules?Bu(this.rules):"",compiledOld:this.compiledOld?Bu(this.compiledOld):"",rulesVersion:this.rulesVersion,compiled:this.compiled?this.compiled.toProtobufJSON(t):null}}}return t.id="common.communitygames.types.CompatibleModRules",t})(),iM=(()=>{class t{constructor(e){this.rules=(e=e||{}).rules,this.rulesVersion=e.rulesVersion,this.blueprintRulesVersion=e.blueprintRulesVersion,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.rules=t.rules||new Uint8Array,t.rulesVersion=t.rulesVersion||0,t.blueprintRulesVersion=t.blueprintRulesVersion||0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.rules=n.readBytes();break;case 2:e.rulesVersion=n.readInt32();break;case 3:e.blueprintRulesVersion=n.readInt32();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.rules&&t.rules.length&&e.writeBytes(1,t.rules),t.rulesVersion&&e.writeInt32(2,t.rulesVersion),t.blueprintRulesVersion&&e.writeInt32(3,t.blueprintRulesVersion)}get rules(){return this._rules}set rules(t){this._rules=t}get rulesVersion(){return this._rulesVersion}set rulesVersion(t){this._rulesVersion=t}get blueprintRulesVersion(){return this._blueprintRulesVersion}set blueprintRulesVersion(t){this._blueprintRulesVersion=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{rules:this.rules?this.rules.subarray(0):new Uint8Array,rulesVersion:this.rulesVersion,blueprintRulesVersion:this.blueprintRulesVersion}}toJSON(){return this.toObject()}toProtobufJSON(t){return{rules:this.rules?Bu(this.rules):"",rulesVersion:this.rulesVersion,blueprintRulesVersion:this.blueprintRulesVersion}}}return t.id="common.communitygames.types.IncompatibleModRules",t})(),oM=(()=>{class t{constructor(e){this.blueprintType=(e=e||{}).blueprintType,this.blueprintId=e.blueprintId,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.blueprintType=t.blueprintType||"",t.blueprintId=t.blueprintId||""}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.blueprintType=n.readString();break;case 2:e.blueprintId=n.readString();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.blueprintType&&e.writeString(1,t.blueprintType),t.blueprintId&&e.writeString(2,t.blueprintId)}get blueprintType(){return this._blueprintType}set blueprintType(t){this._blueprintType=t}get blueprintId(){return this._blueprintId}set blueprintId(t){this._blueprintId=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{blueprintType:this.blueprintType,blueprintId:this.blueprintId}}toJSON(){return this.toObject()}toProtobufJSON(t){return{blueprintType:this.blueprintType,blueprintId:this.blueprintId}}}return t.id="common.communitygames.types.BlueprintInfo",t})(),rM=(()=>{class t{constructor(e){this.groupId=(e=e||{}).groupId,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.groupId=t.groupId||"0"}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.groupId=n.readInt64String();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.groupId&&e.writeInt64String(1,t.groupId)}get groupId(){return this._groupId}set groupId(t){this._groupId=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{groupId:this.groupId}}toJSON(){return this.toObject()}toProtobufJSON(t){return{groupId:this.groupId}}}return t.id="common.communitygames.types.GroupJoin",t})(),sM=(()=>{class t{constructor(e){this._joinDataType=t.JoinDataTypeCase.none,this.groupJoin=(e=e||{}).groupJoin?new rM(e.groupJoin):void 0,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.groupJoin=new rM,n.readMessage(e.groupJoin,rM.deserializeBinaryFromReader);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.groupJoin&&e.writeMessage(1,t.groupJoin,rM.serializeBinaryToWriter)}get groupJoin(){return this._groupJoin}set groupJoin(e){null!=e&&(this._joinDataType=t.JoinDataTypeCase.groupJoin),this._groupJoin=e}get joinDataType(){return this._joinDataType}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{groupJoin:this.groupJoin?this.groupJoin.toObject():void 0}}toJSON(){return this.toObject()}toProtobufJSON(t){return{groupJoin:this.groupJoin?this.groupJoin.toProtobufJSON(t):null}}}return t.id="common.communitygames.types.JoinData",t})();!function(t){let e;!function(t){t[t.none=0]="none",t[t.groupJoin=1]="groupJoin"}(e=t.JoinDataTypeCase||(t.JoinDataTypeCase={}))}(sM||(sM={}));let aM=(()=>{class t{constructor(e){this.maxPlaygroundsPerPlayer=(e=e||{}).maxPlaygroundsPerPlayer,this.maxGameServersPerPlayer=e.maxGameServersPerPlayer,this.maxFollowedHostsListSize=e.maxFollowedHostsListSize,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.maxPlaygroundsPerPlayer=t.maxPlaygroundsPerPlayer||0,t.maxGameServersPerPlayer=t.maxGameServersPerPlayer||0,t.maxFollowedHostsListSize=t.maxFollowedHostsListSize||0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.maxPlaygroundsPerPlayer=n.readInt32();break;case 2:e.maxGameServersPerPlayer=n.readInt32();break;case 3:e.maxFollowedHostsListSize=n.readInt32();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.maxPlaygroundsPerPlayer&&e.writeInt32(1,t.maxPlaygroundsPerPlayer),t.maxGameServersPerPlayer&&e.writeInt32(2,t.maxGameServersPerPlayer),t.maxFollowedHostsListSize&&e.writeInt32(3,t.maxFollowedHostsListSize)}get maxPlaygroundsPerPlayer(){return this._maxPlaygroundsPerPlayer}set maxPlaygroundsPerPlayer(t){this._maxPlaygroundsPerPlayer=t}get maxGameServersPerPlayer(){return this._maxGameServersPerPlayer}set maxGameServersPerPlayer(t){this._maxGameServersPerPlayer=t}get maxFollowedHostsListSize(){return this._maxFollowedHostsListSize}set maxFollowedHostsListSize(t){this._maxFollowedHostsListSize=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{maxPlaygroundsPerPlayer:this.maxPlaygroundsPerPlayer,maxGameServersPerPlayer:this.maxGameServersPerPlayer,maxFollowedHostsListSize:this.maxFollowedHostsListSize}}toJSON(){return this.toObject()}toProtobufJSON(t){return{maxPlaygroundsPerPlayer:this.maxPlaygroundsPerPlayer,maxGameServersPerPlayer:this.maxGameServersPerPlayer,maxFollowedHostsListSize:this.maxFollowedHostsListSize}}}return t.id="common.communitygames.types.GlobalConstraints",t})(),lM=(()=>{class t{constructor(e){this.mutator=(e=e||{}).mutator?new pw(e.mutator):void 0,this.availableValues=e.availableValues?new _M(e.availableValues):void 0,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.mutator=t.mutator||void 0,t.availableValues=t.availableValues||void 0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.mutator=new pw,n.readMessage(e.mutator,pw.deserializeBinaryFromReader);break;case 2:e.availableValues=new _M,n.readMessage(e.availableValues,_M.deserializeBinaryFromReader);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.mutator&&e.writeMessage(1,t.mutator,pw.serializeBinaryToWriter),t.availableValues&&e.writeMessage(2,t.availableValues,_M.serializeBinaryToWriter)}get mutator(){return this._mutator}set mutator(t){this._mutator=t}get availableValues(){return this._availableValues}set availableValues(t){this._availableValues=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{mutator:this.mutator?this.mutator.toObject():void 0,availableValues:this.availableValues?this.availableValues.toObject():void 0}}toJSON(){return this.toObject()}toProtobufJSON(t){return{mutator:this.mutator?this.mutator.toProtobufJSON(t):null,availableValues:this.availableValues?this.availableValues.toProtobufJSON(t):null}}}return t.id="common.communitygames.types.AvailableMutatorIntValues",t})(),cM=(()=>{class t{constructor(e){this.mutator=(e=e||{}).mutator?new gw(e.mutator):void 0,this.availableValues=e.availableValues?new bM(e.availableValues):void 0,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.mutator=t.mutator||void 0,t.availableValues=t.availableValues||void 0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.mutator=new gw,n.readMessage(e.mutator,gw.deserializeBinaryFromReader);break;case 2:e.availableValues=new bM,n.readMessage(e.availableValues,bM.deserializeBinaryFromReader);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.mutator&&e.writeMessage(1,t.mutator,gw.serializeBinaryToWriter),t.availableValues&&e.writeMessage(2,t.availableValues,bM.serializeBinaryToWriter)}get mutator(){return this._mutator}set mutator(t){this._mutator=t}get availableValues(){return this._availableValues}set availableValues(t){this._availableValues=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{mutator:this.mutator?this.mutator.toObject():void 0,availableValues:this.availableValues?this.availableValues.toObject():void 0}}toJSON(){return this.toObject()}toProtobufJSON(t){return{mutator:this.mutator?this.mutator.toProtobufJSON(t):null,availableValues:this.availableValues?this.availableValues.toProtobufJSON(t):null}}}return t.id="common.communitygames.types.AvailableMutatorFloatValues",t})(),uM=(()=>{class t{constructor(e){this.mutator=(e=e||{}).mutator?new vw(e.mutator):void 0,this.availableValues=e.availableValues?new _M(e.availableValues):void 0,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.mutator=t.mutator||void 0,t.availableValues=t.availableValues||void 0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.mutator=new vw,n.readMessage(e.mutator,vw.deserializeBinaryFromReader);break;case 2:e.availableValues=new _M,n.readMessage(e.availableValues,_M.deserializeBinaryFromReader);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.mutator&&e.writeMessage(1,t.mutator,vw.serializeBinaryToWriter),t.availableValues&&e.writeMessage(2,t.availableValues,_M.serializeBinaryToWriter)}get mutator(){return this._mutator}set mutator(t){this._mutator=t}get availableValues(){return this._availableValues}set availableValues(t){this._availableValues=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{mutator:this.mutator?this.mutator.toObject():void 0,availableValues:this.availableValues?this.availableValues.toObject():void 0}}toJSON(){return this.toObject()}toProtobufJSON(t){return{mutator:this.mutator?this.mutator.toProtobufJSON(t):null,availableValues:this.availableValues?this.availableValues.toProtobufJSON(t):null}}}return t.id="common.communitygames.types.AvailableMutatorSparseIntValues",t})(),hM=(()=>{class t{constructor(e){this.mutator=(e=e||{}).mutator?new yw(e.mutator):void 0,this.availableValues=e.availableValues?new bM(e.availableValues):void 0,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.mutator=t.mutator||void 0,t.availableValues=t.availableValues||void 0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.mutator=new yw,n.readMessage(e.mutator,yw.deserializeBinaryFromReader);break;case 2:e.availableValues=new bM,n.readMessage(e.availableValues,bM.deserializeBinaryFromReader);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.mutator&&e.writeMessage(1,t.mutator,yw.serializeBinaryToWriter),t.availableValues&&e.writeMessage(2,t.availableValues,bM.serializeBinaryToWriter)}get mutator(){return this._mutator}set mutator(t){this._mutator=t}get availableValues(){return this._availableValues}set availableValues(t){this._availableValues=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{mutator:this.mutator?this.mutator.toObject():void 0,availableValues:this.availableValues?this.availableValues.toObject():void 0}}toJSON(){return this.toObject()}toProtobufJSON(t){return{mutator:this.mutator?this.mutator.toProtobufJSON(t):null,availableValues:this.availableValues?this.availableValues.toProtobufJSON(t):null}}}return t.id="common.communitygames.types.AvailableMutatorSparseFloatValues",t})(),dM=(()=>{class t{constructor(e){this._kind=t.KindCase.none,this.mutatorBoolean=(e=e||{}).mutatorBoolean?new dw(e.mutatorBoolean):void 0,this.mutatorString=e.mutatorString?new Cw(e.mutatorString):void 0,this.mutatorFloatValues=e.mutatorFloatValues?new cM(e.mutatorFloatValues):void 0,this.mutatorIntValues=e.mutatorIntValues?new lM(e.mutatorIntValues):void 0,this.mutatorSparseBoolean=e.mutatorSparseBoolean?new bw(e.mutatorSparseBoolean):void 0,this.mutatorSparseIntValues=e.mutatorSparseIntValues?new uM(e.mutatorSparseIntValues):void 0,this.mutatorSparseFloatValues=e.mutatorSparseFloatValues?new hM(e.mutatorSparseFloatValues):void 0,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.mutatorBoolean=new dw,n.readMessage(e.mutatorBoolean,dw.deserializeBinaryFromReader);break;case 4:e.mutatorString=new Cw,n.readMessage(e.mutatorString,Cw.deserializeBinaryFromReader);break;case 7:e.mutatorFloatValues=new cM,n.readMessage(e.mutatorFloatValues,cM.deserializeBinaryFromReader);break;case 8:e.mutatorIntValues=new lM,n.readMessage(e.mutatorIntValues,lM.deserializeBinaryFromReader);break;case 9:e.mutatorSparseBoolean=new bw,n.readMessage(e.mutatorSparseBoolean,bw.deserializeBinaryFromReader);break;case 10:e.mutatorSparseIntValues=new uM,n.readMessage(e.mutatorSparseIntValues,uM.deserializeBinaryFromReader);break;case 11:e.mutatorSparseFloatValues=new hM,n.readMessage(e.mutatorSparseFloatValues,hM.deserializeBinaryFromReader);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.mutatorBoolean&&e.writeMessage(1,t.mutatorBoolean,dw.serializeBinaryToWriter),t.mutatorString&&e.writeMessage(4,t.mutatorString,Cw.serializeBinaryToWriter),t.mutatorFloatValues&&e.writeMessage(7,t.mutatorFloatValues,cM.serializeBinaryToWriter),t.mutatorIntValues&&e.writeMessage(8,t.mutatorIntValues,lM.serializeBinaryToWriter),t.mutatorSparseBoolean&&e.writeMessage(9,t.mutatorSparseBoolean,bw.serializeBinaryToWriter),t.mutatorSparseIntValues&&e.writeMessage(10,t.mutatorSparseIntValues,uM.serializeBinaryToWriter),t.mutatorSparseFloatValues&&e.writeMessage(11,t.mutatorSparseFloatValues,hM.serializeBinaryToWriter)}get mutatorBoolean(){return this._mutatorBoolean}set mutatorBoolean(e){null!=e&&(this._mutatorString=this._mutatorFloatValues=this._mutatorIntValues=this._mutatorSparseBoolean=this._mutatorSparseIntValues=this._mutatorSparseFloatValues=void 0,this._kind=t.KindCase.mutatorBoolean),this._mutatorBoolean=e}get mutatorString(){return this._mutatorString}set mutatorString(e){null!=e&&(this._mutatorBoolean=this._mutatorFloatValues=this._mutatorIntValues=this._mutatorSparseBoolean=this._mutatorSparseIntValues=this._mutatorSparseFloatValues=void 0,this._kind=t.KindCase.mutatorString),this._mutatorString=e}get mutatorFloatValues(){return this._mutatorFloatValues}set mutatorFloatValues(e){null!=e&&(this._mutatorBoolean=this._mutatorString=this._mutatorIntValues=this._mutatorSparseBoolean=this._mutatorSparseIntValues=this._mutatorSparseFloatValues=void 0,this._kind=t.KindCase.mutatorFloatValues),this._mutatorFloatValues=e}get mutatorIntValues(){return this._mutatorIntValues}set mutatorIntValues(e){null!=e&&(this._mutatorBoolean=this._mutatorString=this._mutatorFloatValues=this._mutatorSparseBoolean=this._mutatorSparseIntValues=this._mutatorSparseFloatValues=void 0,this._kind=t.KindCase.mutatorIntValues),this._mutatorIntValues=e}get mutatorSparseBoolean(){return this._mutatorSparseBoolean}set mutatorSparseBoolean(e){null!=e&&(this._mutatorBoolean=this._mutatorString=this._mutatorFloatValues=this._mutatorIntValues=this._mutatorSparseIntValues=this._mutatorSparseFloatValues=void 0,this._kind=t.KindCase.mutatorSparseBoolean),this._mutatorSparseBoolean=e}get mutatorSparseIntValues(){return this._mutatorSparseIntValues}set mutatorSparseIntValues(e){null!=e&&(this._mutatorBoolean=this._mutatorString=this._mutatorFloatValues=this._mutatorIntValues=this._mutatorSparseBoolean=this._mutatorSparseFloatValues=void 0,this._kind=t.KindCase.mutatorSparseIntValues),this._mutatorSparseIntValues=e}get mutatorSparseFloatValues(){return this._mutatorSparseFloatValues}set mutatorSparseFloatValues(e){null!=e&&(this._mutatorBoolean=this._mutatorString=this._mutatorFloatValues=this._mutatorIntValues=this._mutatorSparseBoolean=this._mutatorSparseIntValues=void 0,this._kind=t.KindCase.mutatorSparseFloatValues),this._mutatorSparseFloatValues=e}get kind(){return this._kind}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{mutatorBoolean:this.mutatorBoolean?this.mutatorBoolean.toObject():void 0,mutatorString:this.mutatorString?this.mutatorString.toObject():void 0,mutatorFloatValues:this.mutatorFloatValues?this.mutatorFloatValues.toObject():void 0,mutatorIntValues:this.mutatorIntValues?this.mutatorIntValues.toObject():void 0,mutatorSparseBoolean:this.mutatorSparseBoolean?this.mutatorSparseBoolean.toObject():void 0,mutatorSparseIntValues:this.mutatorSparseIntValues?this.mutatorSparseIntValues.toObject():void 0,mutatorSparseFloatValues:this.mutatorSparseFloatValues?this.mutatorSparseFloatValues.toObject():void 0}}toJSON(){return this.toObject()}toProtobufJSON(t){return{mutatorBoolean:this.mutatorBoolean?this.mutatorBoolean.toProtobufJSON(t):null,mutatorString:this.mutatorString?this.mutatorString.toProtobufJSON(t):null,mutatorFloatValues:this.mutatorFloatValues?this.mutatorFloatValues.toProtobufJSON(t):null,mutatorIntValues:this.mutatorIntValues?this.mutatorIntValues.toProtobufJSON(t):null,mutatorSparseBoolean:this.mutatorSparseBoolean?this.mutatorSparseBoolean.toProtobufJSON(t):null,mutatorSparseIntValues:this.mutatorSparseIntValues?this.mutatorSparseIntValues.toProtobufJSON(t):null,mutatorSparseFloatValues:this.mutatorSparseFloatValues?this.mutatorSparseFloatValues.toProtobufJSON(t):null}}}return t.id="common.communitygames.types.AvailableMutatorKind",t})();!function(t){let e;!function(t){t[t.none=0]="none",t[t.mutatorBoolean=1]="mutatorBoolean",t[t.mutatorString=2]="mutatorString",t[t.mutatorFloatValues=3]="mutatorFloatValues",t[t.mutatorIntValues=4]="mutatorIntValues",t[t.mutatorSparseBoolean=5]="mutatorSparseBoolean",t[t.mutatorSparseIntValues=6]="mutatorSparseIntValues",t[t.mutatorSparseFloatValues=7]="mutatorSparseFloatValues"}(e=t.KindCase||(t.KindCase={}))}(dM||(dM={}));let pM=(()=>{class t{constructor(e){this.minValue=(e=e||{}).minValue,this.maxValue=e.maxValue,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.minValue=t.minValue||0,t.maxValue=t.maxValue||0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.minValue=n.readInt32();break;case 2:e.maxValue=n.readInt32();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.minValue&&e.writeInt32(1,t.minValue),t.maxValue&&e.writeInt32(2,t.maxValue)}get minValue(){return this._minValue}set minValue(t){this._minValue=t}get maxValue(){return this._maxValue}set maxValue(t){this._maxValue=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{minValue:this.minValue,maxValue:this.maxValue}}toJSON(){return this.toObject()}toProtobufJSON(t){return{minValue:this.minValue,maxValue:this.maxValue}}}return t.id="common.communitygames.types.IntRange",t})(),gM=(()=>{class t{constructor(e){this.minValue=(e=e||{}).minValue,this.maxValue=e.maxValue,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.minValue=t.minValue||0,t.maxValue=t.maxValue||0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.minValue=n.readFloat();break;case 2:e.maxValue=n.readFloat();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.minValue&&e.writeFloat(1,t.minValue),t.maxValue&&e.writeFloat(2,t.maxValue)}get minValue(){return this._minValue}set minValue(t){this._minValue=t}get maxValue(){return this._maxValue}set maxValue(t){this._maxValue=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{minValue:this.minValue,maxValue:this.maxValue}}toJSON(){return this.toObject()}toProtobufJSON(t){return{minValue:this.minValue,maxValue:this.maxValue}}}return t.id="common.communitygames.types.FloatRange",t})(),mM=(()=>{class t{constructor(e){this.values=((e=e||{}).values||[]).slice(),t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.values=t.values||[]}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:(e.values=e.values||[]).push(...n.readPackedInt32()||[]);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.values&&t.values.length&&e.writePackedInt32(1,t.values)}get values(){return this._values}set values(t){this._values=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{values:(this.values||[]).slice()}}toJSON(){return this.toObject()}toProtobufJSON(t){return{values:(this.values||[]).slice()}}}return t.id="common.communitygames.types.SparseIntValues",t})(),fM=(()=>{class t{constructor(e){this.values=((e=e||{}).values||[]).slice(),t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.values=t.values||[]}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:(e.values=e.values||[]).push(...n.readPackedFloat()||[]);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.values&&t.values.length&&e.writePackedFloat(1,t.values)}get values(){return this._values}set values(t){this._values=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{values:(this.values||[]).slice()}}toJSON(){return this.toObject()}toProtobufJSON(t){return{values:(this.values||[]).slice()}}}return t.id="common.communitygames.types.SparseFloatValues",t})(),_M=(()=>{class t{constructor(e){this._values=t.ValuesCase.none,this.range=(e=e||{}).range?new pM(e.range):void 0,this.sparseValues=e.sparseValues?new mM(e.sparseValues):void 0,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.range=new pM,n.readMessage(e.range,pM.deserializeBinaryFromReader);break;case 2:e.sparseValues=new mM,n.readMessage(e.sparseValues,mM.deserializeBinaryFromReader);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.range&&e.writeMessage(1,t.range,pM.serializeBinaryToWriter),t.sparseValues&&e.writeMessage(2,t.sparseValues,mM.serializeBinaryToWriter)}get range(){return this._range}set range(e){null!=e&&(this._sparseValues=void 0,this._values=t.ValuesCase.range),this._range=e}get sparseValues(){return this._sparseValues}set sparseValues(e){null!=e&&(this._range=void 0,this._values=t.ValuesCase.sparseValues),this._sparseValues=e}get values(){return this._values}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{range:this.range?this.range.toObject():void 0,sparseValues:this.sparseValues?this.sparseValues.toObject():void 0}}toJSON(){return this.toObject()}toProtobufJSON(t){return{range:this.range?this.range.toProtobufJSON(t):null,sparseValues:this.sparseValues?this.sparseValues.toProtobufJSON(t):null}}}return t.id="common.communitygames.types.AvailableIntValues",t})();!function(t){let e;!function(t){t[t.none=0]="none",t[t.range=1]="range",t[t.sparseValues=2]="sparseValues"}(e=t.ValuesCase||(t.ValuesCase={}))}(_M||(_M={}));let bM=(()=>{class t{constructor(e){this._values=t.ValuesCase.none,this.range=(e=e||{}).range?new gM(e.range):void 0,this.sparseValues=e.sparseValues?new fM(e.sparseValues):void 0,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.range=new gM,n.readMessage(e.range,gM.deserializeBinaryFromReader);break;case 2:e.sparseValues=new fM,n.readMessage(e.sparseValues,fM.deserializeBinaryFromReader);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.range&&e.writeMessage(1,t.range,gM.serializeBinaryToWriter),t.sparseValues&&e.writeMessage(2,t.sparseValues,fM.serializeBinaryToWriter)}get range(){return this._range}set range(e){null!=e&&(this._sparseValues=void 0,this._values=t.ValuesCase.range),this._range=e}get sparseValues(){return this._sparseValues}set sparseValues(e){null!=e&&(this._range=void 0,this._values=t.ValuesCase.sparseValues),this._sparseValues=e}get values(){return this._values}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{range:this.range?this.range.toObject():void 0,sparseValues:this.sparseValues?this.sparseValues.toObject():void 0}}toJSON(){return this.toObject()}toProtobufJSON(t){return{range:this.range?this.range.toProtobufJSON(t):null,sparseValues:this.sparseValues?this.sparseValues.toProtobufJSON(t):null}}}return t.id="common.communitygames.types.AvailableFloatValues",t})();!function(t){let e;!function(t){t[t.none=0]="none",t[t.range=1]="range",t[t.sparseValues=2]="sparseValues"}(e=t.ValuesCase||(t.ValuesCase={}))}(bM||(bM={}));let vM=(()=>{class t{constructor(e){this.defaultValue=(e=e||{}).defaultValue,this.availableValues=e.availableValues?new _M(e.availableValues):void 0,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.defaultValue=t.defaultValue||0,t.availableValues=t.availableValues||void 0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.defaultValue=n.readInt32();break;case 2:e.availableValues=new _M,n.readMessage(e.availableValues,_M.deserializeBinaryFromReader);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.defaultValue&&e.writeInt32(1,t.defaultValue),t.availableValues&&e.writeMessage(2,t.availableValues,_M.serializeBinaryToWriter)}get defaultValue(){return this._defaultValue}set defaultValue(t){this._defaultValue=t}get availableValues(){return this._availableValues}set availableValues(t){this._availableValues=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{defaultValue:this.defaultValue,availableValues:this.availableValues?this.availableValues.toObject():void 0}}toJSON(){return this.toObject()}toProtobufJSON(t){return{defaultValue:this.defaultValue,availableValues:this.availableValues?this.availableValues.toProtobufJSON(t):null}}}return t.id="common.communitygames.types.AvailableIntValue",t})(),yM=(()=>{class t{constructor(e){this.kind=(e=e||{}).kind,this.translationId=e.translationId,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.kind=t.kind||"",t.translationId=t.translationId||""}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.kind=n.readString();break;case 2:e.translationId=n.readString();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.kind&&e.writeString(1,t.kind),t.translationId&&e.writeString(2,t.translationId)}get kind(){return this._kind}set kind(t){this._kind=t}get translationId(){return this._translationId}set translationId(t){this._translationId=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{kind:this.kind,translationId:this.translationId}}toJSON(){return this.toObject()}toProtobufJSON(t){return{kind:this.kind,translationId:this.translationId}}}return t.id="common.communitygames.types.TranslationMetadata",t})(),CM=(()=>{class t{constructor(e){this.presetId=(e=e||{}).presetId,this.blueprintType=e.blueprintType,this.mapRotation=e.mapRotation?new Sw(e.mapRotation):void 0,this.mutators=(e.mutators||[]).map(t=>new Tw(t)),this.assetCategories=(e.assetCategories||[]).map(t=>new Iw(t)),this.modRules=e.modRules?new eM(e.modRules):void 0,this.restrictions=e.restrictions?new Aw(e.restrictions):void 0,this.meta=e.meta?new Gw(e.meta):void 0,this.teamComposition=e.teamComposition?new xM(e.teamComposition):void 0,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.presetId=t.presetId||"",t.blueprintType=t.blueprintType||"",t.mapRotation=t.mapRotation||void 0,t.mutators=t.mutators||[],t.assetCategories=t.assetCategories||[],t.modRules=t.modRules||void 0,t.restrictions=t.restrictions||void 0,t.meta=t.meta||void 0,t.teamComposition=t.teamComposition||void 0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.presetId=n.readString();break;case 2:e.blueprintType=n.readString();break;case 3:e.mapRotation=new Sw,n.readMessage(e.mapRotation,Sw.deserializeBinaryFromReader);break;case 4:const t=new Tw;n.readMessage(t,Tw.deserializeBinaryFromReader),(e.mutators=e.mutators||[]).push(t);break;case 5:const i=new Iw;n.readMessage(i,Iw.deserializeBinaryFromReader),(e.assetCategories=e.assetCategories||[]).push(i);break;case 6:e.modRules=new eM,n.readMessage(e.modRules,eM.deserializeBinaryFromReader);break;case 7:e.restrictions=new Aw,n.readMessage(e.restrictions,Aw.deserializeBinaryFromReader);break;case 8:e.meta=new Gw,n.readMessage(e.meta,Gw.deserializeBinaryFromReader);break;case 9:e.teamComposition=new xM,n.readMessage(e.teamComposition,xM.deserializeBinaryFromReader);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.presetId&&e.writeString(1,t.presetId),t.blueprintType&&e.writeString(2,t.blueprintType),t.mapRotation&&e.writeMessage(3,t.mapRotation,Sw.serializeBinaryToWriter),t.mutators&&t.mutators.length&&e.writeRepeatedMessage(4,t.mutators,Tw.serializeBinaryToWriter),t.assetCategories&&t.assetCategories.length&&e.writeRepeatedMessage(5,t.assetCategories,Iw.serializeBinaryToWriter),t.modRules&&e.writeMessage(6,t.modRules,eM.serializeBinaryToWriter),t.restrictions&&e.writeMessage(7,t.restrictions,Aw.serializeBinaryToWriter),t.meta&&e.writeMessage(8,t.meta,Gw.serializeBinaryToWriter),t.teamComposition&&e.writeMessage(9,t.teamComposition,xM.serializeBinaryToWriter)}get presetId(){return this._presetId}set presetId(t){this._presetId=t}get blueprintType(){return this._blueprintType}set blueprintType(t){this._blueprintType=t}get mapRotation(){return this._mapRotation}set mapRotation(t){this._mapRotation=t}get mutators(){return this._mutators}set mutators(t){this._mutators=t}get assetCategories(){return this._assetCategories}set assetCategories(t){this._assetCategories=t}get modRules(){return this._modRules}set modRules(t){this._modRules=t}get restrictions(){return this._restrictions}set restrictions(t){this._restrictions=t}get meta(){return this._meta}set meta(t){this._meta=t}get teamComposition(){return this._teamComposition}set teamComposition(t){this._teamComposition=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{presetId:this.presetId,blueprintType:this.blueprintType,mapRotation:this.mapRotation?this.mapRotation.toObject():void 0,mutators:(this.mutators||[]).map(t=>t.toObject()),assetCategories:(this.assetCategories||[]).map(t=>t.toObject()),modRules:this.modRules?this.modRules.toObject():void 0,restrictions:this.restrictions?this.restrictions.toObject():void 0,meta:this.meta?this.meta.toObject():void 0,teamComposition:this.teamComposition?this.teamComposition.toObject():void 0}}toJSON(){return this.toObject()}toProtobufJSON(t){return{presetId:this.presetId,blueprintType:this.blueprintType,mapRotation:this.mapRotation?this.mapRotation.toProtobufJSON(t):null,mutators:(this.mutators||[]).map(e=>e.toProtobufJSON(t)),assetCategories:(this.assetCategories||[]).map(e=>e.toProtobufJSON(t)),modRules:this.modRules?this.modRules.toProtobufJSON(t):null,restrictions:this.restrictions?this.restrictions.toProtobufJSON(t):null,meta:this.meta?this.meta.toProtobufJSON(t):null,teamComposition:this.teamComposition?this.teamComposition.toProtobufJSON(t):null}}}return t.id="common.communitygames.types.PlaygroundPreset",t})(),OM=(()=>{class t{constructor(e){this.mutatorMetadata=(e=e||{}).mutatorMetadata?new TM(e.mutatorMetadata):void 0,this.presets=(e.presets||[]).map(t=>new tM(t)),this.standardPresets=(e.standardPresets||[]).map(t=>new CM(t)),this.scriptedPresets=(e.scriptedPresets||[]).map(t=>new CM(t)),t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.mutatorMetadata=t.mutatorMetadata||void 0,t.presets=t.presets||[],t.standardPresets=t.standardPresets||[],t.scriptedPresets=t.scriptedPresets||[]}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.mutatorMetadata=new TM,n.readMessage(e.mutatorMetadata,TM.deserializeBinaryFromReader);break;case 2:const t=new tM;n.readMessage(t,tM.deserializeBinaryFromReader),(e.presets=e.presets||[]).push(t);break;case 3:const i=new CM;n.readMessage(i,CM.deserializeBinaryFromReader),(e.standardPresets=e.standardPresets||[]).push(i);break;case 4:const o=new CM;n.readMessage(o,CM.deserializeBinaryFromReader),(e.scriptedPresets=e.scriptedPresets||[]).push(o);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.mutatorMetadata&&e.writeMessage(1,t.mutatorMetadata,TM.serializeBinaryToWriter),t.presets&&t.presets.length&&e.writeRepeatedMessage(2,t.presets,tM.serializeBinaryToWriter),t.standardPresets&&t.standardPresets.length&&e.writeRepeatedMessage(3,t.standardPresets,CM.serializeBinaryToWriter),t.scriptedPresets&&t.scriptedPresets.length&&e.writeRepeatedMessage(4,t.scriptedPresets,CM.serializeBinaryToWriter)}get mutatorMetadata(){return this._mutatorMetadata}set mutatorMetadata(t){this._mutatorMetadata=t}get presets(){return this._presets}set presets(t){this._presets=t}get standardPresets(){return this._standardPresets}set standardPresets(t){this._standardPresets=t}get scriptedPresets(){return this._scriptedPresets}set scriptedPresets(t){this._scriptedPresets=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{mutatorMetadata:this.mutatorMetadata?this.mutatorMetadata.toObject():void 0,presets:(this.presets||[]).map(t=>t.toObject()),standardPresets:(this.standardPresets||[]).map(t=>t.toObject()),scriptedPresets:(this.scriptedPresets||[]).map(t=>t.toObject())}}toJSON(){return this.toObject()}toProtobufJSON(t){return{mutatorMetadata:this.mutatorMetadata?this.mutatorMetadata.toProtobufJSON(t):null,presets:(this.presets||[]).map(e=>e.toProtobufJSON(t)),standardPresets:(this.standardPresets||[]).map(e=>e.toProtobufJSON(t)),scriptedPresets:(this.scriptedPresets||[]).map(e=>e.toProtobufJSON(t))}}}return t.id="common.communitygames.types.BlueprintCustomData",t})(),TM=(()=>{class t{constructor(e){this.items=((e=e||{}).items||[]).map(t=>new EM(t)),t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.items=t.items||[]}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:const t=new EM;n.readMessage(t,EM.deserializeBinaryFromReader),(e.items=e.items||[]).push(t);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.items&&t.items.length&&e.writeRepeatedMessage(1,t.items,EM.serializeBinaryToWriter)}get items(){return this._items}set items(t){this._items=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{items:(this.items||[]).map(t=>t.toObject())}}toJSON(){return this.toObject()}toProtobufJSON(t){return{items:(this.items||[]).map(e=>e.toProtobufJSON(t))}}}return t.id="common.communitygames.types.MutatorMetadata",t})(),EM=(()=>{class t{constructor(e){this._kind=t.KindCase.none,this.mutatorName=(e=e||{}).mutatorName,this.category=e.category?new SM(e.category):void 0,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.mutatorName=n.readString();break;case 2:e.category=new SM,n.readMessage(e.category,SM.deserializeBinaryFromReader);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){(t.mutatorName||""===t.mutatorName)&&e.writeString(1,t.mutatorName),t.category&&e.writeMessage(2,t.category,SM.serializeBinaryToWriter)}get mutatorName(){return this._mutatorName}set mutatorName(e){null!=e&&(this._category=void 0,this._kind=t.KindCase.mutatorName),this._mutatorName=e}get category(){return this._category}set category(e){null!=e&&(this._mutatorName=void 0,this._kind=t.KindCase.category),this._category=e}get kind(){return this._kind}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{mutatorName:this.mutatorName,category:this.category?this.category.toObject():void 0}}toJSON(){return this.toObject()}toProtobufJSON(t){var e;return{mutatorName:null!==(e=this.mutatorName)&&void 0!==e?e:null,category:this.category?this.category.toProtobufJSON(t):null}}}return t.id="common.communitygames.types.MutatorItem",t})();!function(t){let e;!function(t){t[t.none=0]="none",t[t.mutatorName=1]="mutatorName",t[t.category=2]="category"}(e=t.KindCase||(t.KindCase={}))}(EM||(EM={}));let SM=(()=>{class t{constructor(e){this.name=(e=e||{}).name,this.items=(e.items||[]).map(t=>new EM(t)),t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.name=t.name||"",t.items=t.items||[]}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.name=n.readString();break;case 2:const t=new EM;n.readMessage(t,EM.deserializeBinaryFromReader),(e.items=e.items||[]).push(t);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.name&&e.writeString(1,t.name),t.items&&t.items.length&&e.writeRepeatedMessage(2,t.items,EM.serializeBinaryToWriter)}get name(){return this._name}set name(t){this._name=t}get items(){return this._items}set items(t){this._items=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{name:this.name,items:(this.items||[]).map(t=>t.toObject())}}toJSON(){return this.toObject()}toProtobufJSON(t){return{name:this.name,items:(this.items||[]).map(e=>e.toProtobufJSON(t))}}}return t.id="common.communitygames.types.MutatorCategory",t})(),wM=(()=>{class t{constructor(e){this.teamId=(e=e||{}).teamId,this.capacity=e.capacity,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.teamId=t.teamId||0,t.capacity=t.capacity||0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.teamId=n.readInt32();break;case 2:e.capacity=n.readInt32();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.teamId&&e.writeInt32(1,t.teamId),t.capacity&&e.writeInt32(2,t.capacity)}get teamId(){return this._teamId}set teamId(t){this._teamId=t}get capacity(){return this._capacity}set capacity(t){this._capacity=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{teamId:this.teamId,capacity:this.capacity}}toJSON(){return this.toObject()}toProtobufJSON(t){return{teamId:this.teamId,capacity:this.capacity}}}return t.id="common.communitygames.types.TeamStructure",t})(),MM=(()=>{class t{constructor(e){this.teamId=(e=e||{}).teamId,this.capacity=e.capacity,this.capacityType=e.capacityType,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.teamId=t.teamId||0,t.capacity=t.capacity||0,t.capacityType=t.capacityType||0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.teamId=n.readInt32();break;case 2:e.capacity=n.readInt32();break;case 3:e.capacityType=n.readEnum();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.teamId&&e.writeInt32(1,t.teamId),t.capacity&&e.writeInt32(2,t.capacity),t.capacityType&&e.writeEnum(3,t.capacityType)}get teamId(){return this._teamId}set teamId(t){this._teamId=t}get capacity(){return this._capacity}set capacity(t){this._capacity=t}get capacityType(){return this._capacityType}set capacityType(t){this._capacityType=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{teamId:this.teamId,capacity:this.capacity,capacityType:this.capacityType}}toJSON(){return this.toObject()}toProtobufJSON(t){var e;return{teamId:this.teamId,capacity:this.capacity,capacityType:Vw[null!==(e=this.capacityType)&&void 0!==e?e:0]}}}return t.id="common.communitygames.types.InternalTeamStructure",t})(),xM=(()=>{class t{constructor(e){this.teams=((e=e||{}).teams||[]).map(t=>new wM(t)),this.internalTeams=(e.internalTeams||[]).map(t=>new MM(t)),this.balancingMethod=e.balancingMethod,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.teams=t.teams||[],t.internalTeams=t.internalTeams||[],t.balancingMethod=t.balancingMethod||0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:const t=new wM;n.readMessage(t,wM.deserializeBinaryFromReader),(e.teams=e.teams||[]).push(t);break;case 2:const i=new MM;n.readMessage(i,MM.deserializeBinaryFromReader),(e.internalTeams=e.internalTeams||[]).push(i);break;case 3:e.balancingMethod=n.readEnum();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.teams&&t.teams.length&&e.writeRepeatedMessage(1,t.teams,wM.serializeBinaryToWriter),t.internalTeams&&t.internalTeams.length&&e.writeRepeatedMessage(2,t.internalTeams,MM.serializeBinaryToWriter),t.balancingMethod&&e.writeEnum(3,t.balancingMethod)}get teams(){return this._teams}set teams(t){this._teams=t}get internalTeams(){return this._internalTeams}set internalTeams(t){this._internalTeams=t}get balancingMethod(){return this._balancingMethod}set balancingMethod(t){this._balancingMethod=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{teams:(this.teams||[]).map(t=>t.toObject()),internalTeams:(this.internalTeams||[]).map(t=>t.toObject()),balancingMethod:this.balancingMethod}}toJSON(){return this.toObject()}toProtobufJSON(t){var e;return{teams:(this.teams||[]).map(e=>e.toProtobufJSON(t)),internalTeams:(this.internalTeams||[]).map(e=>e.toProtobufJSON(t)),balancingMethod:Uw[null!==(e=this.balancingMethod)&&void 0!==e?e:0]}}}return t.id="common.communitygames.types.TeamComposition",t})(),PM=(()=>{class t{constructor(e){this.originalPlayground=(e=e||{}).originalPlayground?new tM(e.originalPlayground):void 0,this.validatedPlayground=e.validatedPlayground?new tM(e.validatedPlayground):void 0,this.tags=(e.tags||[]).map(t=>new $w(t)),t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.originalPlayground=t.originalPlayground||void 0,t.validatedPlayground=t.validatedPlayground||void 0,t.tags=t.tags||[]}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.originalPlayground=new tM,n.readMessage(e.originalPlayground,tM.deserializeBinaryFromReader);break;case 2:e.validatedPlayground=new tM,n.readMessage(e.validatedPlayground,tM.deserializeBinaryFromReader);break;case 3:const t=new $w;n.readMessage(t,$w.deserializeBinaryFromReader),(e.tags=e.tags||[]).push(t);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.originalPlayground&&e.writeMessage(1,t.originalPlayground,tM.serializeBinaryToWriter),t.validatedPlayground&&e.writeMessage(2,t.validatedPlayground,tM.serializeBinaryToWriter),t.tags&&t.tags.length&&e.writeRepeatedMessage(3,t.tags,$w.serializeBinaryToWriter)}get originalPlayground(){return this._originalPlayground}set originalPlayground(t){this._originalPlayground=t}get validatedPlayground(){return this._validatedPlayground}set validatedPlayground(t){this._validatedPlayground=t}get tags(){return this._tags}set tags(t){this._tags=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{originalPlayground:this.originalPlayground?this.originalPlayground.toObject():void 0,validatedPlayground:this.validatedPlayground?this.validatedPlayground.toObject():void 0,tags:(this.tags||[]).map(t=>t.toObject())}}toJSON(){return this.toObject()}toProtobufJSON(t){return{originalPlayground:this.originalPlayground?this.originalPlayground.toProtobufJSON(t):null,validatedPlayground:this.validatedPlayground?this.validatedPlayground.toProtobufJSON(t):null,tags:(this.tags||[]).map(e=>e.toProtobufJSON(t))}}}return t.id="web.communitygames.PlaygroundResponse",t})(),kM=(()=>{class t{constructor(e){this.protocolVersion=(e=e||{}).protocolVersion,this.blueprintType=e.blueprintType,this.name=e.name,this.description=e.description?new sw(e.description):void 0,this.mutators=(e.mutators||[]).map(t=>new Tw(t)),this.mapRotation=e.mapRotation?new Sw(e.mapRotation):void 0,this.secret=e.secret?new sw(e.secret):void 0,this.serverSettings=e.serverSettings?new Xw(e.serverSettings):void 0,this.restrictions=e.restrictions?new Aw(e.restrictions):void 0,this.originalModRules=e.originalModRules,this.assetCategories=(e.assetCategories||[]).map(t=>new Iw(t)),this.teamComposition=e.teamComposition?new xM(e.teamComposition):void 0,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.protocolVersion=t.protocolVersion||"",t.blueprintType=t.blueprintType||"",t.name=t.name||"",t.description=t.description||void 0,t.mutators=t.mutators||[],t.mapRotation=t.mapRotation||void 0,t.secret=t.secret||void 0,t.serverSettings=t.serverSettings||void 0,t.restrictions=t.restrictions||void 0,t.originalModRules=t.originalModRules||new Uint8Array,t.assetCategories=t.assetCategories||[],t.teamComposition=t.teamComposition||void 0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.protocolVersion=n.readString();break;case 2:e.blueprintType=n.readString();break;case 3:e.name=n.readString();break;case 4:e.description=new sw,n.readMessage(e.description,sw.deserializeBinaryFromReader);break;case 5:const t=new Tw;n.readMessage(t,Tw.deserializeBinaryFromReader),(e.mutators=e.mutators||[]).push(t);break;case 6:e.mapRotation=new Sw,n.readMessage(e.mapRotation,Sw.deserializeBinaryFromReader);break;case 7:e.secret=new sw,n.readMessage(e.secret,sw.deserializeBinaryFromReader);break;case 8:e.serverSettings=new Xw,n.readMessage(e.serverSettings,Xw.deserializeBinaryFromReader);break;case 9:e.restrictions=new Aw,n.readMessage(e.restrictions,Aw.deserializeBinaryFromReader);break;case 10:e.originalModRules=n.readBytes();break;case 11:const i=new Iw;n.readMessage(i,Iw.deserializeBinaryFromReader),(e.assetCategories=e.assetCategories||[]).push(i);break;case 12:e.teamComposition=new xM,n.readMessage(e.teamComposition,xM.deserializeBinaryFromReader);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.protocolVersion&&e.writeString(1,t.protocolVersion),t.blueprintType&&e.writeString(2,t.blueprintType),t.name&&e.writeString(3,t.name),t.description&&e.writeMessage(4,t.description,sw.serializeBinaryToWriter),t.mutators&&t.mutators.length&&e.writeRepeatedMessage(5,t.mutators,Tw.serializeBinaryToWriter),t.mapRotation&&e.writeMessage(6,t.mapRotation,Sw.serializeBinaryToWriter),t.secret&&e.writeMessage(7,t.secret,sw.serializeBinaryToWriter),t.serverSettings&&e.writeMessage(8,t.serverSettings,Xw.serializeBinaryToWriter),t.restrictions&&e.writeMessage(9,t.restrictions,Aw.serializeBinaryToWriter),t.originalModRules&&t.originalModRules.length&&e.writeBytes(10,t.originalModRules),t.assetCategories&&t.assetCategories.length&&e.writeRepeatedMessage(11,t.assetCategories,Iw.serializeBinaryToWriter),t.teamComposition&&e.writeMessage(12,t.teamComposition,xM.serializeBinaryToWriter)}get protocolVersion(){return this._protocolVersion}set protocolVersion(t){this._protocolVersion=t}get blueprintType(){return this._blueprintType}set blueprintType(t){this._blueprintType=t}get name(){return this._name}set name(t){this._name=t}get description(){return this._description}set description(t){this._description=t}get mutators(){return this._mutators}set mutators(t){this._mutators=t}get mapRotation(){return this._mapRotation}set mapRotation(t){this._mapRotation=t}get secret(){return this._secret}set secret(t){this._secret=t}get serverSettings(){return this._serverSettings}set serverSettings(t){this._serverSettings=t}get restrictions(){return this._restrictions}set restrictions(t){this._restrictions=t}get originalModRules(){return this._originalModRules}set originalModRules(t){this._originalModRules=t}get assetCategories(){return this._assetCategories}set assetCategories(t){this._assetCategories=t}get teamComposition(){return this._teamComposition}set teamComposition(t){this._teamComposition=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{protocolVersion:this.protocolVersion,blueprintType:this.blueprintType,name:this.name,description:this.description?this.description.toObject():void 0,mutators:(this.mutators||[]).map(t=>t.toObject()),mapRotation:this.mapRotation?this.mapRotation.toObject():void 0,secret:this.secret?this.secret.toObject():void 0,serverSettings:this.serverSettings?this.serverSettings.toObject():void 0,restrictions:this.restrictions?this.restrictions.toObject():void 0,originalModRules:this.originalModRules?this.originalModRules.subarray(0):new Uint8Array,assetCategories:(this.assetCategories||[]).map(t=>t.toObject()),teamComposition:this.teamComposition?this.teamComposition.toObject():void 0}}toJSON(){return this.toObject()}toProtobufJSON(t){return{protocolVersion:this.protocolVersion,blueprintType:this.blueprintType,name:this.name,description:this.description?this.description.toProtobufJSON(t):null,mutators:(this.mutators||[]).map(e=>e.toProtobufJSON(t)),mapRotation:this.mapRotation?this.mapRotation.toProtobufJSON(t):null,secret:this.secret?this.secret.toProtobufJSON(t):null,serverSettings:this.serverSettings?this.serverSettings.toProtobufJSON(t):null,restrictions:this.restrictions?this.restrictions.toProtobufJSON(t):null,originalModRules:this.originalModRules?Bu(this.originalModRules):"",assetCategories:(this.assetCategories||[]).map(e=>e.toProtobufJSON(t)),teamComposition:this.teamComposition?this.teamComposition.toProtobufJSON(t):null}}}return t.id="web.communitygames.CreatePlaygroundRequest",t})(),IM=(()=>{class t{constructor(e){this.playground=(e=e||{}).playground?new tM(e.playground):void 0,this.playgroundResponse=e.playgroundResponse?new PM(e.playgroundResponse):void 0,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.playground=t.playground||void 0,t.playgroundResponse=t.playgroundResponse||void 0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.playground=new tM,n.readMessage(e.playground,tM.deserializeBinaryFromReader);break;case 2:e.playgroundResponse=new PM,n.readMessage(e.playgroundResponse,PM.deserializeBinaryFromReader);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.playground&&e.writeMessage(1,t.playground,tM.serializeBinaryToWriter),t.playgroundResponse&&e.writeMessage(2,t.playgroundResponse,PM.serializeBinaryToWriter)}get playground(){return this._playground}set playground(t){this._playground=t}get playgroundResponse(){return this._playgroundResponse}set playgroundResponse(t){this._playgroundResponse=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{playground:this.playground?this.playground.toObject():void 0,playgroundResponse:this.playgroundResponse?this.playgroundResponse.toObject():void 0}}toJSON(){return this.toObject()}toProtobufJSON(t){return{playground:this.playground?this.playground.toProtobufJSON(t):null,playgroundResponse:this.playgroundResponse?this.playgroundResponse.toProtobufJSON(t):null}}}return t.id="web.communitygames.CreatePlaygroundResponse",t})(),AM=(()=>{class t{constructor(e){this.protocolVersion=(e=e||{}).protocolVersion,this.newPlayground=e.newPlayground?new tM(e.newPlayground):void 0,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.protocolVersion=t.protocolVersion||"",t.newPlayground=t.newPlayground||void 0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.protocolVersion=n.readString();break;case 2:e.newPlayground=new tM,n.readMessage(e.newPlayground,tM.deserializeBinaryFromReader);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.protocolVersion&&e.writeString(1,t.protocolVersion),t.newPlayground&&e.writeMessage(2,t.newPlayground,tM.serializeBinaryToWriter)}get protocolVersion(){return this._protocolVersion}set protocolVersion(t){this._protocolVersion=t}get newPlayground(){return this._newPlayground}set newPlayground(t){this._newPlayground=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{protocolVersion:this.protocolVersion,newPlayground:this.newPlayground?this.newPlayground.toObject():void 0}}toJSON(){return this.toObject()}toProtobufJSON(t){return{protocolVersion:this.protocolVersion,newPlayground:this.newPlayground?this.newPlayground.toProtobufJSON(t):null}}}return t.id="web.communitygames.UpdatePlaygroundRequest",t})(),RM=(()=>{class t{constructor(e){this.playground=(e=e||{}).playground?new tM(e.playground):void 0,this.playgroundResponse=e.playgroundResponse?new PM(e.playgroundResponse):void 0,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.playground=t.playground||void 0,t.playgroundResponse=t.playgroundResponse||void 0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.playground=new tM,n.readMessage(e.playground,tM.deserializeBinaryFromReader);break;case 2:e.playgroundResponse=new PM,n.readMessage(e.playgroundResponse,PM.deserializeBinaryFromReader);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.playground&&e.writeMessage(1,t.playground,tM.serializeBinaryToWriter),t.playgroundResponse&&e.writeMessage(2,t.playgroundResponse,PM.serializeBinaryToWriter)}get playground(){return this._playground}set playground(t){this._playground=t}get playgroundResponse(){return this._playgroundResponse}set playgroundResponse(t){this._playgroundResponse=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{playground:this.playground?this.playground.toObject():void 0,playgroundResponse:this.playgroundResponse?this.playgroundResponse.toObject():void 0}}toJSON(){return this.toObject()}toProtobufJSON(t){return{playground:this.playground?this.playground.toProtobufJSON(t):null,playgroundResponse:this.playgroundResponse?this.playgroundResponse.toProtobufJSON(t):null}}}return t.id="web.communitygames.UpdatePlaygroundResponse",t})(),DM=(()=>{class t{constructor(e){this.playgroundId=(e=e||{}).playgroundId,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.playgroundId=t.playgroundId||""}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.playgroundId=n.readString();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.playgroundId&&e.writeString(1,t.playgroundId)}get playgroundId(){return this._playgroundId}set playgroundId(t){this._playgroundId=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{playgroundId:this.playgroundId}}toJSON(){return this.toObject()}toProtobufJSON(t){return{playgroundId:this.playgroundId}}}return t.id="web.communitygames.DeletePlaygroundRequest",t})(),LM=(()=>{class t{constructor(e){e=e||{},t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)n.getFieldNumber(),n.skipField();t.refineValues(e)}static serializeBinaryToWriter(t,e){}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{}}toJSON(){return this.toObject()}toProtobufJSON(t){return{}}}return t.id="web.communitygames.DeletePlaygroundResponse",t})(),NM=(()=>{class t{constructor(e){this.protocolVersion=(e=e||{}).protocolVersion,this.playgroundId=e.playgroundId,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.protocolVersion=t.protocolVersion||"",t.playgroundId=t.playgroundId||""}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.protocolVersion=n.readString();break;case 2:e.playgroundId=n.readString();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.protocolVersion&&e.writeString(1,t.protocolVersion),t.playgroundId&&e.writeString(2,t.playgroundId)}get protocolVersion(){return this._protocolVersion}set protocolVersion(t){this._protocolVersion=t}get playgroundId(){return this._playgroundId}set playgroundId(t){this._playgroundId=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{protocolVersion:this.protocolVersion,playgroundId:this.playgroundId}}toJSON(){return this.toObject()}toProtobufJSON(t){return{protocolVersion:this.protocolVersion,playgroundId:this.playgroundId}}}return t.id="web.communitygames.GetPlaygroundRequest",t})(),BM=(()=>{class t{constructor(e){this.playgroundResponse=(e=e||{}).playgroundResponse?new PM(e.playgroundResponse):void 0,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.playgroundResponse=t.playgroundResponse||void 0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.playgroundResponse=new PM,n.readMessage(e.playgroundResponse,PM.deserializeBinaryFromReader);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.playgroundResponse&&e.writeMessage(1,t.playgroundResponse,PM.serializeBinaryToWriter)}get playgroundResponse(){return this._playgroundResponse}set playgroundResponse(t){this._playgroundResponse=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{playgroundResponse:this.playgroundResponse?this.playgroundResponse.toObject():void 0}}toJSON(){return this.toObject()}toProtobufJSON(t){return{playgroundResponse:this.playgroundResponse?this.playgroundResponse.toProtobufJSON(t):null}}}return t.id="web.communitygames.GetPlaygroundResponse",t})(),FM=(()=>{class t{constructor(e){this.blueprintType=(e=e||{}).blueprintType,this.protocolVersion=e.protocolVersion,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.blueprintType=t.blueprintType||"",t.protocolVersion=t.protocolVersion||""}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.blueprintType=n.readString();break;case 2:e.protocolVersion=n.readString();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.blueprintType&&e.writeString(1,t.blueprintType),t.protocolVersion&&e.writeString(2,t.protocolVersion)}get blueprintType(){return this._blueprintType}set blueprintType(t){this._blueprintType=t}get protocolVersion(){return this._protocolVersion}set protocolVersion(t){this._protocolVersion=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{blueprintType:this.blueprintType,protocolVersion:this.protocolVersion}}toJSON(){return this.toObject()}toProtobufJSON(t){return{blueprintType:this.blueprintType,protocolVersion:this.protocolVersion}}}return t.id="web.communitygames.ListPlaygroundsByOwnerRequest",t})(),UM=(()=>{class t{constructor(e){this.playgroundResponses=((e=e||{}).playgroundResponses||[]).map(t=>new PM(t)),t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.playgroundResponses=t.playgroundResponses||[]}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 2:const t=new PM;n.readMessage(t,PM.deserializeBinaryFromReader),(e.playgroundResponses=e.playgroundResponses||[]).push(t);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.playgroundResponses&&t.playgroundResponses.length&&e.writeRepeatedMessage(2,t.playgroundResponses,PM.serializeBinaryToWriter)}get playgroundResponses(){return this._playgroundResponses}set playgroundResponses(t){this._playgroundResponses=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{playgroundResponses:(this.playgroundResponses||[]).map(t=>t.toObject())}}toJSON(){return this.toObject()}toProtobufJSON(t){return{playgroundResponses:(this.playgroundResponses||[]).map(e=>e.toProtobufJSON(t))}}}return t.id="web.communitygames.ListPlaygroundsByOwnerResponse",t})(),VM=(()=>{class t{constructor(e){this.protocolVersion=(e=e||{}).protocolVersion,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.protocolVersion=t.protocolVersion||""}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.protocolVersion=n.readString();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.protocolVersion&&e.writeString(1,t.protocolVersion)}get protocolVersion(){return this._protocolVersion}set protocolVersion(t){this._protocolVersion=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{protocolVersion:this.protocolVersion}}toJSON(){return this.toObject()}toProtobufJSON(t){return{protocolVersion:this.protocolVersion}}}return t.id="web.communitygames.GetScheduledBlueprintsRequest",t})(),GM=(()=>{class t{constructor(e){this.blueprints=((e=e||{}).blueprints||[]).map(t=>new oM(t)),t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.blueprints=t.blueprints||[]}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:const t=new oM;n.readMessage(t,oM.deserializeBinaryFromReader),(e.blueprints=e.blueprints||[]).push(t);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.blueprints&&t.blueprints.length&&e.writeRepeatedMessage(1,t.blueprints,oM.serializeBinaryToWriter)}get blueprints(){return this._blueprints}set blueprints(t){this._blueprints=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{blueprints:(this.blueprints||[]).map(t=>t.toObject())}}toJSON(){return this.toObject()}toProtobufJSON(t){return{blueprints:(this.blueprints||[]).map(e=>e.toProtobufJSON(t))}}}return t.id="web.communitygames.GetScheduledBlueprintsResponse",t})(),jM=(()=>{class t{constructor(e){this.blueprintIds=((e=e||{}).blueprintIds||[]).slice(),this.includeFields=(e.includeFields||[]).slice(),t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.blueprintIds=t.blueprintIds||[],t.includeFields=t.includeFields||[]}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:(e.blueprintIds=e.blueprintIds||[]).push(n.readString());break;case 2:(e.includeFields=e.includeFields||[]).push(...n.readPackedEnum()||[]);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.blueprintIds&&t.blueprintIds.length&&e.writeRepeatedString(1,t.blueprintIds),t.includeFields&&t.includeFields.length&&e.writePackedEnum(2,t.includeFields)}get blueprintIds(){return this._blueprintIds}set blueprintIds(t){this._blueprintIds=t}get includeFields(){return this._includeFields}set includeFields(t){this._includeFields=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{blueprintIds:(this.blueprintIds||[]).slice(),includeFields:(this.includeFields||[]).slice()}}toJSON(){return this.toObject()}toProtobufJSON(t){return{blueprintIds:(this.blueprintIds||[]).slice(),includeFields:(this.includeFields||[]).map(t=>Nw[t])}}}return t.id="web.communitygames.GetBlueprintsByIdRequest",t})(),HM=(()=>{class t{constructor(e){this.blueprints=((e=e||{}).blueprints||[]).map(t=>new Kw(t)),t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.blueprints=t.blueprints||[]}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:const t=new Kw;n.readMessage(t,Kw.deserializeBinaryFromReader),(e.blueprints=e.blueprints||[]).push(t);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.blueprints&&t.blueprints.length&&e.writeRepeatedMessage(1,t.blueprints,Kw.serializeBinaryToWriter)}get blueprints(){return this._blueprints}set blueprints(t){this._blueprints=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{blueprints:(this.blueprints||[]).map(t=>t.toObject())}}toJSON(){return this.toObject()}toProtobufJSON(t){return{blueprints:(this.blueprints||[]).map(e=>e.toProtobufJSON(t))}}}return t.id="web.communitygames.GetBlueprintsByIdResponse",t})(),zM=(()=>{class t{constructor(e){e=e||{},t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)n.getFieldNumber(),n.skipField();t.refineValues(e)}static serializeBinaryToWriter(t,e){}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{}}toJSON(){return this.toObject()}toProtobufJSON(t){return{}}}return t.id="web.communitygames.GetConstraintsRequest",t})(),WM=(()=>{class t{constructor(e){this.globalConstraints=(e=e||{}).globalConstraints?new aM(e.globalConstraints):void 0,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.globalConstraints=t.globalConstraints||void 0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.globalConstraints=new aM,n.readMessage(e.globalConstraints,aM.deserializeBinaryFromReader);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.globalConstraints&&e.writeMessage(1,t.globalConstraints,aM.serializeBinaryToWriter)}get globalConstraints(){return this._globalConstraints}set globalConstraints(t){this._globalConstraints=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{globalConstraints:this.globalConstraints?this.globalConstraints.toObject():void 0}}toJSON(){return this.toObject()}toProtobufJSON(t){return{globalConstraints:this.globalConstraints?this.globalConstraints.toProtobufJSON(t):null}}}return t.id="web.communitygames.GetConstraintsResponse",t})(),ZM=(()=>{class t{constructor(e){this.code=(e=e||{}).code,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.code=t.code||""}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.code=n.readString();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.code&&e.writeString(1,t.code)}get code(){return this._code}set code(t){this._code=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{code:this.code}}toJSON(){return this.toObject()}toProtobufJSON(t){return{code:this.code}}}return t.id="web.communitygames.ShortCode",t})(),YM=(()=>{class t{constructor(e){this.playgroundId=(e=e||{}).playgroundId,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.playgroundId=t.playgroundId||""}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.playgroundId=n.readString();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.playgroundId&&e.writeString(1,t.playgroundId)}get playgroundId(){return this._playgroundId}set playgroundId(t){this._playgroundId=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{playgroundId:this.playgroundId}}toJSON(){return this.toObject()}toProtobufJSON(t){return{playgroundId:this.playgroundId}}}return t.id="web.communitygames.SharePlaygroundRequest",t})(),qM=(()=>{class t{constructor(e){this.shortCode=(e=e||{}).shortCode?new ZM(e.shortCode):void 0,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.shortCode=t.shortCode||void 0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.shortCode=new ZM,n.readMessage(e.shortCode,ZM.deserializeBinaryFromReader);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.shortCode&&e.writeMessage(1,t.shortCode,ZM.serializeBinaryToWriter)}get shortCode(){return this._shortCode}set shortCode(t){this._shortCode=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{shortCode:this.shortCode?this.shortCode.toObject():void 0}}toJSON(){return this.toObject()}toProtobufJSON(t){return{shortCode:this.shortCode?this.shortCode.toProtobufJSON(t):null}}}return t.id="web.communitygames.SharePlaygroundResponse",t})(),JM=(()=>{class t{constructor(e){this.sids=((e=e||{}).sids||[]).slice(),t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.sids=t.sids||[]}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:(e.sids=e.sids||[]).push(n.readString());break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.sids&&t.sids.length&&e.writeRepeatedString(1,t.sids)}get sids(){return this._sids}set sids(t){this._sids=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{sids:(this.sids||[]).slice()}}toJSON(){return this.toObject()}toProtobufJSON(t){return{sids:(this.sids||[]).slice()}}}return t.id="common.localization.types.SidList",t})(),$M=(()=>{class t{constructor(e){this.ids=((e=e||{}).ids||[]).slice(),t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.ids=t.ids||[]}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:(e.ids=e.ids||[]).push(...n.readPackedInt32()||[]);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.ids&&t.ids.length&&e.writePackedInt32(1,t.ids)}get ids(){return this._ids}set ids(t){this._ids=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{ids:(this.ids||[]).slice()}}toJSON(){return this.toObject()}toProtobufJSON(t){return{ids:(this.ids||[]).slice()}}}return t.id="common.localization.types.CategoryIdList",t})(),KM=(()=>{class t{constructor(e){this.ids=((e=e||{}).ids||[]).slice(),t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.ids=t.ids||[]}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:(e.ids=e.ids||[]).push(...n.readPackedInt32()||[]);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.ids&&t.ids.length&&e.writePackedInt32(1,t.ids)}get ids(){return this._ids}set ids(t){this._ids=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{ids:(this.ids||[]).slice()}}toJSON(){return this.toObject()}toProtobufJSON(t){return{ids:(this.ids||[]).slice()}}}return t.id="common.localization.types.SubCategoryIdList",t})(),XM=(()=>{class t{constructor(e){this._query=t.QueryCase.none,this.sidList=(e=e||{}).sidList?new JM(e.sidList):void 0,this.categoryIdList=e.categoryIdList?new $M(e.categoryIdList):void 0,this.subCategoryIdList=e.subCategoryIdList?new KM(e.subCategoryIdList):void 0,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.sidList=new JM,n.readMessage(e.sidList,JM.deserializeBinaryFromReader);break;case 2:e.categoryIdList=new $M,n.readMessage(e.categoryIdList,$M.deserializeBinaryFromReader);break;case 3:e.subCategoryIdList=new KM,n.readMessage(e.subCategoryIdList,KM.deserializeBinaryFromReader);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.sidList&&e.writeMessage(1,t.sidList,JM.serializeBinaryToWriter),t.categoryIdList&&e.writeMessage(2,t.categoryIdList,$M.serializeBinaryToWriter),t.subCategoryIdList&&e.writeMessage(3,t.subCategoryIdList,KM.serializeBinaryToWriter)}get sidList(){return this._sidList}set sidList(e){null!=e&&(this._categoryIdList=this._subCategoryIdList=void 0,this._query=t.QueryCase.sidList),this._sidList=e}get categoryIdList(){return this._categoryIdList}set categoryIdList(e){null!=e&&(this._sidList=this._subCategoryIdList=void 0,this._query=t.QueryCase.categoryIdList),this._categoryIdList=e}get subCategoryIdList(){return this._subCategoryIdList}set subCategoryIdList(e){null!=e&&(this._sidList=this._categoryIdList=void 0,this._query=t.QueryCase.subCategoryIdList),this._subCategoryIdList=e}get query(){return this._query}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{sidList:this.sidList?this.sidList.toObject():void 0,categoryIdList:this.categoryIdList?this.categoryIdList.toObject():void 0,subCategoryIdList:this.subCategoryIdList?this.subCategoryIdList.toObject():void 0}}toJSON(){return this.toObject()}toProtobufJSON(t){return{sidList:this.sidList?this.sidList.toProtobufJSON(t):null,categoryIdList:this.categoryIdList?this.categoryIdList.toProtobufJSON(t):null,subCategoryIdList:this.subCategoryIdList?this.subCategoryIdList.toProtobufJSON(t):null}}}return t.id="common.localization.types.TranslationsQuery",t})();!function(t){let e;!function(t){t[t.none=0]="none",t[t.sidList=1]="sidList",t[t.categoryIdList=2]="categoryIdList",t[t.subCategoryIdList=3]="subCategoryIdList"}(e=t.QueryCase||(t.QueryCase={}))}(XM||(XM={}));let QM=(()=>{class t{constructor(e){this.sid=(e=e||{}).sid,this.localizedText=e.localizedText,this.categoryId=e.categoryId,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.sid=t.sid||"",t.localizedText=t.localizedText||"",t.categoryId=t.categoryId||0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.sid=n.readString();break;case 2:e.localizedText=n.readString();break;case 3:e.categoryId=n.readInt32();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.sid&&e.writeString(1,t.sid),t.localizedText&&e.writeString(2,t.localizedText),t.categoryId&&e.writeInt32(3,t.categoryId)}get sid(){return this._sid}set sid(t){this._sid=t}get localizedText(){return this._localizedText}set localizedText(t){this._localizedText=t}get categoryId(){return this._categoryId}set categoryId(t){this._categoryId=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{sid:this.sid,localizedText:this.localizedText,categoryId:this.categoryId}}toJSON(){return this.toObject()}toProtobufJSON(t){return{sid:this.sid,localizedText:this.localizedText,categoryId:this.categoryId}}}return t.id="common.localization.types.LocalizedText",t})(),tx=(()=>{class t{constructor(e){this.translationsQuery=(e=e||{}).translationsQuery?new XM(e.translationsQuery):void 0,this.locale=e.locale,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.translationsQuery=t.translationsQuery||void 0,t.locale=t.locale||""}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.translationsQuery=new XM,n.readMessage(e.translationsQuery,XM.deserializeBinaryFromReader);break;case 4:e.locale=n.readString();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.translationsQuery&&e.writeMessage(1,t.translationsQuery,XM.serializeBinaryToWriter),t.locale&&e.writeString(4,t.locale)}get translationsQuery(){return this._translationsQuery}set translationsQuery(t){this._translationsQuery=t}get locale(){return this._locale}set locale(t){this._locale=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{translationsQuery:this.translationsQuery?this.translationsQuery.toObject():void 0,locale:this.locale}}toJSON(){return this.toObject()}toProtobufJSON(t){return{translationsQuery:this.translationsQuery?this.translationsQuery.toProtobufJSON(t):null,locale:this.locale}}}return t.id="web.localization.GetTranslationsRequest",t})(),ex=(()=>{class t{constructor(e){this.localizedTexts=((e=e||{}).localizedTexts||[]).map(t=>new QM(t)),t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.localizedTexts=t.localizedTexts||[]}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 3:const t=new QM;n.readMessage(t,QM.deserializeBinaryFromReader),(e.localizedTexts=e.localizedTexts||[]).push(t);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.localizedTexts&&t.localizedTexts.length&&e.writeRepeatedMessage(3,t.localizedTexts,QM.serializeBinaryToWriter)}get localizedTexts(){return this._localizedTexts}set localizedTexts(t){this._localizedTexts=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{localizedTexts:(this.localizedTexts||[]).map(t=>t.toObject())}}toJSON(){return this.toObject()}toProtobufJSON(t){return{localizedTexts:(this.localizedTexts||[]).map(e=>e.toProtobufJSON(t))}}}return t.id="web.localization.GetTranslationsResponse",t})();const nx="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,ix=Object.keys,ox=Array.isArray;function rx(t,e){return"object"!=typeof e||ix(e).forEach(function(n){t[n]=e[n]}),t}"undefined"==typeof Promise||nx.Promise||(nx.Promise=Promise);const sx=Object.getPrototypeOf,ax={}.hasOwnProperty;function lx(t,e){return ax.call(t,e)}function cx(t,e){"function"==typeof e&&(e=e(sx(t))),("undefined"==typeof Reflect?ix:Reflect.ownKeys)(e).forEach(n=>{hx(t,n,e[n])})}const ux=Object.defineProperty;function hx(t,e,n,i){ux(t,e,rx(n&&lx(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},i))}function dx(t){return{from:function(e){return t.prototype=Object.create(e.prototype),hx(t.prototype,"constructor",t),{extend:cx.bind(null,t.prototype)}}}}const px=Object.getOwnPropertyDescriptor;function gx(t,e){let n;return px(t,e)||(n=sx(t))&&gx(n,e)}const mx=[].slice;function fx(t,e,n){return mx.call(t,e,n)}function _x(t,e){return e(t)}function bx(t){if(!t)throw new Error("Assertion Failed")}function vx(t){nx.setImmediate?setImmediate(t):setTimeout(t,0)}function yx(t,e){return t.reduce((t,n,i)=>{var o=e(n,i);return o&&(t[o[0]]=o[1]),t},{})}function Cx(t,e){if(lx(t,e))return t[e];if(!e)return t;if("string"!=typeof e){for(var n=[],i=0,o=e.length;i<o;++i){var r=Cx(t,e[i]);n.push(r)}return n}var s=e.indexOf(".");if(-1!==s){var a=t[e.substr(0,s)];return void 0===a?void 0:Cx(a,e.substr(s+1))}}function Ox(t,e,n){if(t&&void 0!==e&&(!("isFrozen"in Object)||!Object.isFrozen(t)))if("string"!=typeof e&&"length"in e){bx("string"!=typeof n&&"length"in n);for(var i=0,o=e.length;i<o;++i)Ox(t,e[i],n[i])}else{var r=e.indexOf(".");if(-1!==r){var s=e.substr(0,r),a=e.substr(r+1);if(""===a)void 0===n?ox(t)&&!isNaN(parseInt(s))?t.splice(s,1):delete t[s]:t[s]=n;else{var l=t[s];l||(l=t[s]={}),Ox(l,a,n)}}else void 0===n?ox(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=n}}function Tx(t){var e={};for(var n in t)lx(t,n)&&(e[n]=t[n]);return e}const Ex=[].concat;function Sx(t){return Ex.apply([],t)}const wx="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Sx([8,16,32,64].map(t=>["Int","Uint","Float"].map(e=>e+t+"Array")))).filter(t=>nx[t]),Mx=wx.map(t=>nx[t]);yx(wx,t=>[t,!0]);let xx=null;function Px(t){xx="undefined"!=typeof WeakMap&&new WeakMap;const e=kx(t);return xx=null,e}function kx(t){if(!t||"object"!=typeof t)return t;let e=xx&&xx.get(t);if(e)return e;if(ox(t)){e=[],xx&&xx.set(t,e);for(var n=0,i=t.length;n<i;++n)e.push(kx(t[n]))}else if(Mx.indexOf(t.constructor)>=0)e=t;else{const n=sx(t);for(var o in e=n===Object.prototype?{}:Object.create(n),xx&&xx.set(t,e),t)lx(t,o)&&(e[o]=kx(t[o]))}return e}const{toString:Ix}={};function Ax(t){return Ix.call(t).slice(8,-1)}const Rx="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",Dx="symbol"==typeof Rx?function(t){var e;return null!=t&&(e=t[Rx])&&e.apply(t)}:function(){return null},Lx={};function Nx(t){var e,n,i,o;if(1===arguments.length){if(ox(t))return t.slice();if(this===Lx&&"string"==typeof t)return[t];if(o=Dx(t)){for(n=[];!(i=o.next()).done;)n.push(i.value);return n}if(null==t)return[t];if("number"==typeof(e=t.length)){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}const Bx="undefined"!=typeof Symbol?t=>"AsyncFunction"===t[Symbol.toStringTag]:()=>!1;var Fx="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Ux(t,e){Fx=t,Vx=e}var Vx=()=>!0;const Gx=!new Error("").stack;function jx(){if(Gx)try{throw new Error}catch(nx){return nx}return new Error}function Hx(t,e){var n=t.stack;return n?(e=e||0,0===n.indexOf(t.name)&&(e+=(t.name+t.message).split("\n").length),n.split("\n").slice(e).filter(Vx).map(t=>"\n"+t).join("")):""}var zx=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Wx=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(zx),Zx={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Yx(t,e){this._e=jx(),this.name=t,this.message=e}function qx(t,e){return t+". Errors: "+Object.keys(e).map(t=>e[t].toString()).filter((t,e,n)=>n.indexOf(t)===e).join("\n")}function Jx(t,e,n,i){this._e=jx(),this.failures=e,this.failedKeys=i,this.successCount=n,this.message=qx(t,e)}function $x(t,e){this._e=jx(),this.name="BulkError",this.failures=Object.keys(e).map(t=>e[t]),this.failuresByPos=e,this.message=qx(t,e)}dx(Yx).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Hx(this._e,2))}},toString:function(){return this.name+": "+this.message}}),dx(Jx).from(Yx),dx($x).from(Yx);var Kx=Wx.reduce((t,e)=>(t[e]=e+"Error",t),{});const Xx=Yx;var Qx=Wx.reduce((t,e)=>{var n=e+"Error";function i(t,i){this._e=jx(),this.name=n,t?"string"==typeof t?(this.message=`${t}${i?"\n "+i:""}`,this.inner=i||null):"object"==typeof t&&(this.message=`${t.name} ${t.message}`,this.inner=t):(this.message=Zx[e]||n,this.inner=null)}return dx(i).from(Xx),t[e]=i,t},{});Qx.Syntax=SyntaxError,Qx.Type=TypeError,Qx.Range=RangeError;var tP=zx.reduce((t,e)=>(t[e+"Error"]=Qx[e],t),{}),eP=Wx.reduce((t,e)=>(-1===["Syntax","Type","Range"].indexOf(e)&&(t[e+"Error"]=Qx[e]),t),{});function nP(){}function iP(t){return t}function oP(t,e){return null==t||t===iP?e:function(n){return e(t(n))}}function rP(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function sP(t,e){return t===nP?e:function(){var n=t.apply(this,arguments);void 0!==n&&(arguments[0]=n);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var r=e.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?rP(i,this.onsuccess):i),o&&(this.onerror=this.onerror?rP(o,this.onerror):o),void 0!==r?r:n}}function aP(t,e){return t===nP?e:function(){t.apply(this,arguments);var n=this.onsuccess,i=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?rP(n,this.onsuccess):n),i&&(this.onerror=this.onerror?rP(i,this.onerror):i)}}function lP(t,e){return t===nP?e:function(n){var i=t.apply(this,arguments);rx(n,i);var o=this.onsuccess,r=this.onerror;this.onsuccess=null,this.onerror=null;var s=e.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?rP(o,this.onsuccess):o),r&&(this.onerror=this.onerror?rP(r,this.onerror):r),void 0===i?void 0===s?void 0:s:rx(i,s)}}function cP(t,e){return t===nP?e:function(){return!1!==e.apply(this,arguments)&&t.apply(this,arguments)}}function uP(t,e){return t===nP?e:function(){var n=t.apply(this,arguments);if(n&&"function"==typeof n.then){for(var i=this,o=arguments.length,r=new Array(o);o--;)r[o]=arguments[o];return n.then(function(){return e.apply(i,r)})}return e.apply(this,arguments)}}eP.ModifyError=Jx,eP.DexieError=Yx,eP.BulkError=$x;var hP={};const[dP,pP,gP]="undefined"==typeof Promise?[]:(()=>{let t=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[t,sx(t),t];const e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,sx(e),t]})(),mP=pP&&pP.then,fP=dP&&dP.constructor,_P=!!gP;var bP=!1,vP=gP?()=>{gP.then(jP)}:nx.setImmediate?setImmediate.bind(null,jP):nx.MutationObserver?()=>{var t=document.createElement("div");new MutationObserver(()=>{jP(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:()=>{setTimeout(jP,0)},yP=function(t,e){PP.push([t,e]),OP&&(vP(),OP=!1)},CP=!0,OP=!0,TP=[],EP=[],SP=null,wP=iP,MP={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:dk,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(t=>{try{dk(t[0],t[1])}catch(t){}})}},xP=MP,PP=[],kP=0,IP=[];function AP(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=nP,this._lib=!1;var e=this._PSD=xP;if(Fx&&(this._stackHolder=jx(),this._prev=null,this._numPrev=0),"function"!=typeof t){if(t!==hP)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&NP(this,this._value))}this._state=null,this._value=null,++e.ref,LP(this,t)}const RP={get:function(){var t=xP,e=XP;function n(n,i){var o=!t.global&&(t!==xP||e!==XP);const r=o&&!nk();var s=new AP((e,s)=>{FP(this,new DP(uk(n,t,o,r),uk(i,t,o,r),e,s,t))});return Fx&&GP(s,this),s}return n.prototype=hP,n},set:function(t){hx(this,"then",t&&t.prototype===hP?RP:{get:function(){return t},set:RP.set})}};function DP(t,e,n,i,o){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=i,this.psd=o}function LP(t,e){try{e(e=>{if(null===t._state){if(e===t)throw new TypeError("A promise cannot be resolved with itself.");var n=t._lib&&HP();e&&"function"==typeof e.then?LP(t,(t,n)=>{e instanceof AP?e._then(t,n):e.then(t,n)}):(t._state=!0,t._value=e,BP(t)),n&&zP()}},NP.bind(null,t))}catch(e){NP(t,e)}}function NP(t,e){if(EP.push(e),null===t._state){var n=t._lib&&HP();e=wP(e),t._state=!1,t._value=e,Fx&&null!==e&&"object"==typeof e&&!e._promise&&function(t,e,n){try{t.apply(null,void 0)}catch(t){}}(()=>{var n=gx(e,"stack");e._promise=t,hx(e,"stack",{get:()=>bP?n&&(n.get?n.get.apply(e):n.value):t.stack})}),function(t){TP.some(e=>e._value===t._value)||TP.push(t)}(t),BP(t),n&&zP()}}function BP(t){var e=t._listeners;t._listeners=[];for(var n=0,i=e.length;n<i;++n)FP(t,e[n]);var o=t._PSD;--o.ref||o.finalize(),0===kP&&(++kP,yP(()=>{0==--kP&&WP()},[]))}function FP(t,e){if(null!==t._state){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++kP,yP(UP,[n,t,e])}else t._listeners.push(e)}function UP(t,e,n){try{SP=e;var i,o=e._value;e._state?i=t(o):(EP.length&&(EP=[]),i=t(o),-1===EP.indexOf(o)&&function(t){for(var e=TP.length;e;)if(TP[--e]._value===t._value)return void TP.splice(e,1)}(e)),n.resolve(i)}catch(t){n.reject(t)}finally{SP=null,0==--kP&&WP(),--n.psd.ref||n.psd.finalize()}}function VP(t,e,n){if(e.length===n)return e;var i="";if(!1===t._state){var o,r,s=t._value;null!=s?(o=s.name||"Error",r=s.message||s,i=Hx(s,0)):(o=s,r=""),e.push(o+(r?": "+r:"")+i)}return Fx&&((i=Hx(t._stackHolder,2))&&-1===e.indexOf(i)&&e.push(i),t._prev&&VP(t._prev,e,n)),e}function GP(t,e){var n=e?e._numPrev+1:0;n<100&&(t._prev=e,t._numPrev=n)}function jP(){HP()&&zP()}function HP(){var t=CP;return CP=!1,OP=!1,t}function zP(){var t,e,n;do{for(;PP.length>0;)for(t=PP,PP=[],n=t.length,e=0;e<n;++e){var i=t[e];i[0].apply(null,i[1])}}while(PP.length>0);CP=!0,OP=!0}function WP(){var t=TP;TP=[],t.forEach(t=>{t._PSD.onunhandled.call(null,t._value,t)});for(var e=IP.slice(0),n=e.length;n;)e[--n]()}function ZP(t){return new AP(hP,!1,t)}function YP(t,e){var n=xP;return function(){var i=HP(),o=xP;try{return sk(n,!0),t.apply(this,arguments)}catch(t){e&&e(t)}finally{sk(o,!1),i&&zP()}}}cx(AP.prototype,{then:RP,_then:function(t,e){FP(this,new DP(null,null,t,e,xP))},catch:function(t){if(1===arguments.length)return this.then(null,t);var e=arguments[0],n=arguments[1];return this.then(null,"function"==typeof e?t=>t instanceof e?n(t):ZP(t):t=>t&&t.name===e?n(t):ZP(t))},finally:function(t){return this.then(e=>(t(),e),e=>(t(),ZP(e)))},stack:{get:function(){if(this._stack)return this._stack;try{bP=!0;var t=VP(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=t),t}finally{bP=!1}}},timeout:function(t,e){return t<1/0?new AP((n,i)=>{var o=setTimeout(()=>i(new Qx.Timeout(e)),t);this.then(n,i).finally(clearTimeout.bind(null,o))}):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&hx(AP.prototype,Symbol.toStringTag,"Dexie.Promise"),MP.env=ak(),cx(AP,{all:function(){var t=Nx.apply(null,arguments).map(ik);return new AP(function(e,n){0===t.length&&e([]);var i=t.length;t.forEach((o,r)=>AP.resolve(o).then(n=>{t[r]=n,--i||e(t)},n))})},resolve:t=>{if(t instanceof AP)return t;if(t&&"function"==typeof t.then)return new AP((e,n)=>{t.then(e,n)});var e=new AP(hP,!0,t);return GP(e,SP),e},reject:ZP,race:function(){var t=Nx.apply(null,arguments).map(ik);return new AP((e,n)=>{t.map(t=>AP.resolve(t).then(e,n))})},PSD:{get:()=>xP,set:t=>xP=t},totalEchoes:{get:()=>XP},newPSD:tk,usePSD:lk,scheduler:{get:()=>yP,set:t=>{yP=t}},rejectionMapper:{get:()=>wP,set:t=>{wP=t}},follow:(t,e)=>new AP((n,i)=>tk((e,n)=>{var i=xP;i.unhandleds=[],i.onunhandled=n,i.finalize=rP(function(){!function(t){IP.push(function e(){t(),IP.splice(IP.indexOf(e),1)}),++kP,yP(()=>{0==--kP&&WP()},[])}(()=>{0===this.unhandleds.length?e():n(this.unhandleds[0])})},i.finalize),t()},e,n,i))}),fP&&(fP.allSettled&&hx(AP,"allSettled",function(){const t=Nx.apply(null,arguments).map(ik);return new AP(e=>{0===t.length&&e([]);let n=t.length;const i=new Array(n);t.forEach((t,o)=>AP.resolve(t).then(t=>i[o]={status:"fulfilled",value:t},t=>i[o]={status:"rejected",reason:t}).then(()=>--n||e(i)))})}),fP.any&&"undefined"!=typeof AggregateError&&hx(AP,"any",function(){const t=Nx.apply(null,arguments).map(ik);return new AP((e,n)=>{0===t.length&&n(new AggregateError([]));let i=t.length;const o=new Array(i);t.forEach((t,r)=>AP.resolve(t).then(t=>e(t),t=>{o[r]=t,--i||n(new AggregateError(o))}))})}));const qP={awaits:0,echoes:0,id:0};var JP=0,$P=[],KP=0,XP=0,QP=0;function tk(t,e,n,i){var o=xP,r=Object.create(o);r.parent=o,r.ref=0,r.global=!1,r.id=++QP;var s=MP.env;r.env=_P?{Promise:AP,PromiseProp:{value:AP,configurable:!0,writable:!0},all:AP.all,race:AP.race,allSettled:AP.allSettled,any:AP.any,resolve:AP.resolve,reject:AP.reject,nthen:hk(s.nthen,r),gthen:hk(s.gthen,r)}:{},e&&rx(r,e),++o.ref,r.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=lk(r,t,n,i);return 0===r.ref&&r.finalize(),a}function ek(){return qP.id||(qP.id=++JP),++qP.awaits,qP.echoes+=100,qP.id}function nk(){return!!qP.awaits&&(0==--qP.awaits&&(qP.id=0),qP.echoes=100*qP.awaits,!0)}function ik(t){return qP.echoes&&t&&t.constructor===fP?(ek(),t.then(t=>(nk(),t),t=>(nk(),pk(t)))):t}function ok(t){++XP,qP.echoes&&0!=--qP.echoes||(qP.echoes=qP.id=0),$P.push(xP),sk(t,!0)}function rk(){var t=$P[$P.length-1];$P.pop(),sk(t,!1)}function sk(t,e){var n=xP;if((e?!qP.echoes||KP++&&t===xP:!KP||--KP&&t===xP)||ck(e?ok.bind(null,t):rk),t!==xP&&(xP=t,n===MP&&(MP.env=ak()),_P)){var i=MP.env.Promise,o=t.env;pP.then=o.nthen,i.prototype.then=o.gthen,(n.global||t.global)&&(Object.defineProperty(nx,"Promise",o.PromiseProp),i.all=o.all,i.race=o.race,i.resolve=o.resolve,i.reject=o.reject,o.allSettled&&(i.allSettled=o.allSettled),o.any&&(i.any=o.any))}}function ak(){var t=nx.Promise;return _P?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(nx,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:pP.then,gthen:t.prototype.then}:{}}function lk(t,e,n,i,o){var r=xP;try{return sk(t,!0),e(n,i,o)}finally{sk(r,!1)}}function ck(t){mP.call(dP,t)}function uk(t,e,n,i){return"function"!=typeof t?t:function(){var o=xP;n&&ek(),sk(e,!0);try{return t.apply(this,arguments)}finally{sk(o,!1),i&&ck(nk)}}}function hk(t,e){return function(n,i){return t.call(this,uk(n,e),uk(i,e))}}function dk(t,e){var n;try{n=e.onuncatched(t)}catch(nx){}if(!1!==n)try{var i,o={promise:e,reason:t};if(nx.document&&document.createEvent?((i=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),rx(i,o)):nx.CustomEvent&&rx(i=new CustomEvent("unhandledrejection",{detail:o}),o),i&&nx.dispatchEvent&&(dispatchEvent(i),!nx.PromiseRejectionEvent&&nx.onunhandledrejection))try{nx.onunhandledrejection(i)}catch(nx){}Fx&&i&&!i.defaultPrevented&&console.warn(`Unhandled rejection: ${t.stack||t}`)}catch(nx){}}-1===(""+mP).indexOf("[native code]")&&(ek=nk=nP);var pk=AP.reject;function gk(t,e,n,i){if(t.idbdb&&(t._state.openComplete||xP.letThrough||t._vip)){var o=t._createTransaction(e,n,t._dbSchema);try{o.create(),t._state.PR1398_maxLoop=3}catch(o){return o.name===Kx.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>gk(t,e,n,i))):pk(o)}return o._promise(e,(t,e)=>tk(()=>(xP.trans=o,i(t,e,o)))).then(t=>o._completion.then(()=>t))}if(t._state.openComplete)return pk(new Qx.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return pk(new Qx.DatabaseClosed);t.open().catch(nP)}return t._state.dbReadyPromise.then(()=>gk(t,e,n,i))}const mk=String.fromCharCode(65535),fk="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",_k=[],bk="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),vk=bk,yk=bk,Ck=t=>!/(dexie\.js|dexie\.min\.js)/.test(t);function Ok(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}const Tk={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ek(t){return"string"!=typeof t||/\./.test(t)?t=>t:e=>(void 0===e[t]&&t in e&&delete(e=Px(e))[t],e)}class Sk{_trans(t,e,n){const i=this._tx||xP.trans,o=this.name;function r(t,n,i){if(!i.schema[o])throw new Qx.NotFound("Table "+o+" not part of transaction");return e(i.idbtrans,i)}const s=HP();try{return i&&i.db===this.db?i===xP.trans?i._promise(t,r,n):tk(()=>i._promise(t,r,n),{trans:i,transless:xP.transless||xP}):gk(this.db,t,[this.name],r)}finally{s&&zP()}}get(t,e){return t&&t.constructor===Object?this.where(t).first(e):this._trans("readonly",e=>this.core.get({trans:e,key:t}).then(t=>this.hook.reading.fire(t))).then(e)}where(t){if("string"==typeof t)return new this.db.WhereClause(this,t);if(ox(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);const e=ix(t);if(1===e.length)return this.where(e[0]).equals(t[e[0]]);const n=this.schema.indexes.concat(this.schema.primKey).filter(t=>t.compound&&e.every(e=>t.keyPath.indexOf(e)>=0)&&t.keyPath.every(t=>e.indexOf(t)>=0))[0];if(n&&this.db._maxKey!==mk)return this.where(n.name).equals(n.keyPath.map(e=>t[e]));!n&&Fx&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${e.join("+")}]`);const{idxByName:i}=this.schema,o=this.db._deps.indexedDB;function r(t,e){try{return 0===o.cmp(t,e)}catch(t){return!1}}const[s,a]=e.reduce(([e,n],o)=>{const s=i[o],a=t[o];return[e||s,e||!s?Ok(n,s&&s.multi?t=>{const e=Cx(t,o);return ox(e)&&e.some(t=>r(a,t))}:t=>r(a,Cx(t,o))):n]},[null,null]);return s?this.where(s.name).equals(t[s.keyPath]).filter(a):n?this.filter(a):this.where(e).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,ox(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){this.schema.mappedClass=t;const e=e=>{if(!e)return e;const n=Object.create(t.prototype);for(var i in e)if(lx(e,i))try{n[i]=e[i]}catch(t){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=e,this.hook("reading",e),t}defineClass(){return this.mapToClass(function(t){rx(this,t)})}add(t,e){const{auto:n,keyPath:i}=this.schema.primKey;let o=t;return i&&n&&(o=Ek(i)(t)),this._trans("readwrite",t=>this.core.mutate({trans:t,type:"add",keys:null!=e?[e]:null,values:[o]})).then(t=>t.numFailures?AP.reject(t.failures[0]):t.lastResult).then(e=>{if(i)try{Ox(t,i,e)}catch(t){}return e})}update(t,e){if("object"!=typeof t||ox(t))return this.where(":id").equals(t).modify(e);{const n=Cx(t,this.schema.primKey.keyPath);if(void 0===n)return pk(new Qx.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof e?ix(e).forEach(n=>{Ox(t,n,e[n])}):e(t,{value:t,primKey:n})}catch(t){}return this.where(":id").equals(n).modify(e)}}put(t,e){const{auto:n,keyPath:i}=this.schema.primKey;let o=t;return i&&n&&(o=Ek(i)(t)),this._trans("readwrite",t=>this.core.mutate({trans:t,type:"put",values:[o],keys:null!=e?[e]:null})).then(t=>t.numFailures?AP.reject(t.failures[0]):t.lastResult).then(e=>{if(i)try{Ox(t,i,e)}catch(t){}return e})}delete(t){return this._trans("readwrite",e=>this.core.mutate({trans:e,type:"delete",keys:[t]})).then(t=>t.numFailures?AP.reject(t.failures[0]):void 0)}clear(){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"deleteRange",range:Tk})).then(t=>t.numFailures?AP.reject(t.failures[0]):void 0)}bulkGet(t){return this._trans("readonly",e=>this.core.getMany({keys:t,trans:e}).then(t=>t.map(t=>this.hook.reading.fire(t))))}bulkAdd(t,e,n){const i=Array.isArray(e)?e:void 0,o=(n=n||(i?void 0:e))?n.allKeys:void 0;return this._trans("readwrite",e=>{const{auto:n,keyPath:r}=this.schema.primKey;if(r&&i)throw new Qx.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new Qx.InvalidArgument("Arguments objects and keys must have the same length");const s=t.length;let a=r&&n?t.map(Ek(r)):t;return this.core.mutate({trans:e,type:"add",keys:i,values:a,wantResults:o}).then(({numFailures:t,results:e,lastResult:n,failures:i})=>{if(0===t)return o?e:n;throw new $x(`${this.name}.bulkAdd(): ${t} of ${s} operations failed`,i)})})}bulkPut(t,e,n){const i=Array.isArray(e)?e:void 0,o=(n=n||(i?void 0:e))?n.allKeys:void 0;return this._trans("readwrite",e=>{const{auto:n,keyPath:r}=this.schema.primKey;if(r&&i)throw new Qx.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new Qx.InvalidArgument("Arguments objects and keys must have the same length");const s=t.length;let a=r&&n?t.map(Ek(r)):t;return this.core.mutate({trans:e,type:"put",keys:i,values:a,wantResults:o}).then(({numFailures:t,results:e,lastResult:n,failures:i})=>{if(0===t)return o?e:n;throw new $x(`${this.name}.bulkPut(): ${t} of ${s} operations failed`,i)})})}bulkDelete(t){const e=t.length;return this._trans("readwrite",e=>this.core.mutate({trans:e,type:"delete",keys:t})).then(({numFailures:t,lastResult:n,failures:i})=>{if(0===t)return n;throw new $x(`${this.name}.bulkDelete(): ${t} of ${e} operations failed`,i)})}}function wk(t){var e={},n=function(n,i){if(i){for(var o=arguments.length,r=new Array(o-1);--o;)r[o-1]=arguments[o];return e[n].subscribe.apply(null,r),t}if("string"==typeof n)return e[n]};n.addEventType=r;for(var i=1,o=arguments.length;i<o;++i)r(arguments[i]);return n;function r(t,i,o){if("object"==typeof t)return s(t);i||(i=cP),o||(o=nP);var r={subscribers:[],fire:o,subscribe:function(t){-1===r.subscribers.indexOf(t)&&(r.subscribers.push(t),r.fire=i(r.fire,t))},unsubscribe:function(t){r.subscribers=r.subscribers.filter(function(e){return e!==t}),r.fire=r.subscribers.reduce(i,o)}};return e[t]=n[t]=r,r}function s(t){ix(t).forEach(function(e){var n=t[e];if(ox(n))r(e,t[e][0],t[e][1]);else{if("asap"!==n)throw new Qx.InvalidArgument("Invalid event config");var i=r(e,iP,function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];i.subscribers.forEach(function(t){vx(function(){t.apply(null,e)})})})}})}}function Mk(t,e){return dx(e).from({prototype:t}),e}function xk(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function Pk(t,e){t.filter=Ok(t.filter,e)}function kk(t,e,n){var i=t.replayFilter;t.replayFilter=i?()=>Ok(i(),e()):e,t.justLimit=n&&!i}function Ik(t,e){if(t.isPrimKey)return e.primaryKey;const n=e.getIndexByKeyPath(t.index);if(!n)throw new Qx.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return n}function Ak(t,e,n){const i=Ik(t,e.schema);return e.openCursor({trans:n,values:!t.keysOnly,reverse:"prev"===t.dir,unique:!!t.unique,query:{index:i,range:t.range}})}function Rk(t,e,n,i){const o=t.replayFilter?Ok(t.filter,t.replayFilter()):t.filter;if(t.or){const r={},s=(t,n,i)=>{if(!o||o(n,i,t=>n.stop(t),t=>n.fail(t))){var s=n.primaryKey,a=""+s;"[object ArrayBuffer]"===a&&(a=""+new Uint8Array(s)),lx(r,a)||(r[a]=!0,e(t,n,i))}};return Promise.all([t.or._iterate(s,n),Dk(Ak(t,i,n),t.algorithm,s,!t.keysOnly&&t.valueMapper)])}return Dk(Ak(t,i,n),Ok(t.algorithm,o),e,!t.keysOnly&&t.valueMapper)}function Dk(t,e,n,i){var o=YP(i?(t,e,o)=>n(i(t),e,o):n);return t.then(t=>{if(t)return t.start(()=>{var n=()=>t.continue();e&&!e(t,t=>n=t,e=>{t.stop(e),n=nP},e=>{t.fail(e),n=nP})||o(t.value,t,t=>n=t),n()})})}function Lk(t,e){try{const n=Nk(t),i=Nk(e);if(n!==i)return"Array"===n?1:"Array"===i?-1:"binary"===n?1:"binary"===i?-1:"string"===n?1:"string"===i?-1:"Date"===n?1:"Date"!==i?NaN:-1;switch(n){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return function(t,e){const n=t.length,i=e.length,o=n<i?n:i;for(let r=0;r<o;++r)if(t[r]!==e[r])return t[r]<e[r]?-1:1;return n===i?0:n<i?-1:1}(Bk(t),Bk(e));case"Array":return function(t,e){const n=t.length,i=e.length,o=n<i?n:i;for(let r=0;r<o;++r){const n=Lk(t[r],e[r]);if(0!==n)return n}return n===i?0:n<i?-1:1}(t,e)}}catch(t){}return NaN}function Nk(t){const e=typeof t;if("object"!==e)return e;if(ArrayBuffer.isView(t))return"binary";const n=Ax(t);return"ArrayBuffer"===n?"binary":n}function Bk(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}class Fk{_read(t,e){var n=this._ctx;return n.error?n.table._trans(null,pk.bind(null,n.error)):n.table._trans("readonly",t).then(e)}_write(t){var e=this._ctx;return e.error?e.table._trans(null,pk.bind(null,e.error)):e.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var e=this._ctx;e.algorithm=Ok(e.algorithm,t)}_iterate(t,e){return Rk(this._ctx,t,e,this._ctx.table.core)}clone(t){var e=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return t&&rx(n,t),e._ctx=n,e}raw(){return this._ctx.valueMapper=null,this}each(t){var e=this._ctx;return this._read(n=>Rk(e,t,n,e.table.core))}count(t){return this._read(t=>{const e=this._ctx,n=e.table.core;if(xk(e,!0))return n.count({trans:t,query:{index:Ik(e,n.schema),range:e.range}}).then(t=>Math.min(t,e.limit));var i=0;return Rk(e,()=>(++i,!1),t,n).then(()=>i)}).then(t)}sortBy(t,e){const n=t.split(".").reverse(),i=n[0],o=n.length-1;function r(t,e){return e?r(t[n[e]],e-1):t[i]}var s="next"===this._ctx.dir?1:-1;function a(t,e){var n=r(t,o),i=r(e,o);return n<i?-s:n>i?s:0}return this.toArray(function(t){return t.sort(a)}).then(e)}toArray(t){return this._read(t=>{var e=this._ctx;if("next"===e.dir&&xk(e,!0)&&e.limit>0){const{valueMapper:n}=e,i=Ik(e,e.table.core.schema);return e.table.core.query({trans:t,limit:e.limit,values:!0,query:{index:i,range:e.range}}).then(({result:t})=>n?t.map(n):t)}{const n=[];return Rk(e,t=>n.push(t),t,e.table.core).then(()=>n)}},t)}offset(t){var e=this._ctx;return t<=0||(e.offset+=t,xk(e)?kk(e,()=>{var e=t;return(t,n)=>0===e||(1===e?(--e,!1):(n(()=>{t.advance(e),e=0}),!1))}):kk(e,()=>{var e=t;return()=>--e<0})),this}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),kk(this._ctx,()=>{var e=t;return function(t,n,i){return--e<=0&&n(i),e>=0}},!0),this}until(t,e){return Pk(this._ctx,function(n,i,o){return!t(n.value)||(i(o),e)}),this}first(t){return this.limit(1).toArray(function(t){return t[0]}).then(t)}last(t){return this.reverse().first(t)}filter(t){var e;return Pk(this._ctx,function(e){return t(e.value)}),(e=this._ctx).isMatch=Ok(e.isMatch,t),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each(function(e,n){t(n.key,n)})}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each(function(e,n){t(n.primaryKey,n)})}keys(t){var e=this._ctx;e.keysOnly=!e.isMatch;var n=[];return this.each(function(t,e){n.push(e.key)}).then(function(){return n}).then(t)}primaryKeys(t){var e=this._ctx;if("next"===e.dir&&xk(e,!0)&&e.limit>0)return this._read(t=>{var n=Ik(e,e.table.core.schema);return e.table.core.query({trans:t,values:!1,limit:e.limit,query:{index:n,range:e.range}})}).then(({result:t})=>t).then(t);e.keysOnly=!e.isMatch;var n=[];return this.each(function(t,e){n.push(e.primaryKey)}).then(function(){return n}).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys(function(t){return t[0]}).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t=this._ctx,e=t.index&&t.table.schema.idxByName[t.index];if(!e||!e.multi)return this;var n={};return Pk(this._ctx,function(t){var e=t.primaryKey.toString(),i=lx(n,e);return n[e]=!0,!i}),this}modify(t){var e=this._ctx;return this._write(n=>{var i;if("function"==typeof t)i=t;else{var o=ix(t),r=o.length;i=function(e){for(var n=!1,i=0;i<r;++i){var s=o[i],a=t[s];Cx(e,s)!==a&&(Ox(e,s,a),n=!0)}return n}}const s=e.table.core,{outbound:a,extractKey:l}=s.schema.primaryKey,c=this.db._options.modifyChunkSize||200,u=[];let h=0;const d=[],p=(t,e)=>{const{failures:n,numFailures:i}=e;h+=t-i;for(let o of ix(n))u.push(n[o])};return this.clone().primaryKeys().then(o=>{const r=u=>{const h=Math.min(c,o.length-u);return s.getMany({trans:n,keys:o.slice(u,u+h),cache:"immutable"}).then(d=>{const g=[],m=[],f=a?[]:null,_=[];for(let t=0;t<h;++t){const e=d[t],n={value:Px(e),primKey:o[u+t]};!1!==i.call(n,n.value,n)&&(null==n.value?_.push(o[u+t]):a||0===Lk(l(e),l(n.value))?(m.push(n.value),a&&f.push(o[u+t])):(_.push(o[u+t]),g.push(n.value)))}const b=xk(e)&&e.limit===1/0&&("function"!=typeof t||t===Uk)&&{index:e.index,range:e.range};return Promise.resolve(g.length>0&&s.mutate({trans:n,type:"add",values:g}).then(t=>{for(let e in t.failures)_.splice(parseInt(e),1);p(g.length,t)})).then(()=>(m.length>0||b&&"object"==typeof t)&&s.mutate({trans:n,type:"put",keys:f,values:m,criteria:b,changeSpec:"function"!=typeof t&&t}).then(t=>p(m.length,t))).then(()=>(_.length>0||b&&t===Uk)&&s.mutate({trans:n,type:"delete",keys:_,criteria:b}).then(t=>p(_.length,t))).then(()=>o.length>u+h&&r(u+c))})};return r(0).then(()=>{if(u.length>0)throw new Jx("Error modifying one or more objects",u,h,d);return o.length})})})}delete(){var t=this._ctx,e=t.range;return xk(t)&&(t.isPrimKey&&!yk||3===e.type)?this._write(n=>{const{primaryKey:i}=t.table.core.schema,o=e;return t.table.core.count({trans:n,query:{index:i,range:o}}).then(e=>t.table.core.mutate({trans:n,type:"deleteRange",range:o}).then(({failures:t,numFailures:n})=>{if(n)throw new Jx("Could not delete some values",Object.keys(t).map(e=>t[e]),e-n);return e-n}))}):this.modify(Uk)}}const Uk=(t,e)=>e.value=null;function Vk(t,e){return t<e?-1:t===e?0:1}function Gk(t,e){return t>e?-1:t===e?0:1}function jk(t,e,n){var i=t instanceof qk?new t.Collection(t):t;return i._ctx.error=n?new n(e):new TypeError(e),i}function Hk(t){return new t.Collection(t,()=>Yk("")).limit(0)}function zk(t,e,n,i,o,r){for(var s=Math.min(t.length,i.length),a=-1,l=0;l<s;++l){var c=e[l];if(c!==i[l])return o(t[l],n[l])<0?t.substr(0,l)+n[l]+n.substr(l+1):o(t[l],i[l])<0?t.substr(0,l)+i[l]+n.substr(l+1):a>=0?t.substr(0,a)+e[a]+n.substr(a+1):null;o(t[l],c)<0&&(a=l)}return s<i.length&&"next"===r?t+n.substr(t.length):s<t.length&&"prev"===r?t.substr(0,n.length):a<0?null:t.substr(0,a)+i[a]+n.substr(a+1)}function Wk(t,e,n,i){var o,r,s,a,l,c,u,h=n.length;if(!n.every(t=>"string"==typeof t))return jk(t,"String expected.");function d(t){o=function(t){return"next"===t?t=>t.toUpperCase():t=>t.toLowerCase()}(t),r=function(t){return"next"===t?t=>t.toLowerCase():t=>t.toUpperCase()}(t),s="next"===t?Vk:Gk;var e=n.map(function(t){return{lower:r(t),upper:o(t)}}).sort(function(t,e){return s(t.lower,e.lower)});a=e.map(function(t){return t.upper}),l=e.map(function(t){return t.lower}),c=t,u="next"===t?"":i}d("next");var p=new t.Collection(t,()=>Zk(a[0],l[h-1]+i));p._ondirectionchange=function(t){d(t)};var g=0;return p._addAlgorithm(function(t,n,i){var o=t.key;if("string"!=typeof o)return!1;var d=r(o);if(e(d,l,g))return!0;for(var p=null,m=g;m<h;++m){var f=zk(o,d,a[m],l[m],s,c);null===f&&null===p?g=m+1:(null===p||s(p,f)>0)&&(p=f)}return n(null!==p?function(){t.continue(p+u)}:i),!1}),p}function Zk(t,e,n,i){return{type:2,lower:t,upper:e,lowerOpen:n,upperOpen:i}}function Yk(t){return{type:1,lower:t,upper:t}}class qk{get Collection(){return this._ctx.table.db.Collection}between(t,e,n,i){n=!1!==n,i=!0===i;try{return this._cmp(t,e)>0||0===this._cmp(t,e)&&(n||i)&&(!n||!i)?Hk(this):new this.Collection(this,()=>Zk(t,e,!n,!i))}catch(t){return jk(this,fk)}}equals(t){return null==t?jk(this,fk):new this.Collection(this,()=>Yk(t))}above(t){return null==t?jk(this,fk):new this.Collection(this,()=>Zk(t,void 0,!0))}aboveOrEqual(t){return null==t?jk(this,fk):new this.Collection(this,()=>Zk(t,void 0,!1))}below(t){return null==t?jk(this,fk):new this.Collection(this,()=>Zk(void 0,t,!1,!0))}belowOrEqual(t){return null==t?jk(this,fk):new this.Collection(this,()=>Zk(void 0,t))}startsWith(t){return"string"!=typeof t?jk(this,"String expected."):this.between(t,t+mk,!0,!0)}startsWithIgnoreCase(t){return""===t?this.startsWith(t):Wk(this,(t,e)=>0===t.indexOf(e[0]),[t],mk)}equalsIgnoreCase(t){return Wk(this,(t,e)=>t===e[0],[t],"")}anyOfIgnoreCase(){var t=Nx.apply(Lx,arguments);return 0===t.length?Hk(this):Wk(this,(t,e)=>-1!==e.indexOf(t),t,"")}startsWithAnyOfIgnoreCase(){var t=Nx.apply(Lx,arguments);return 0===t.length?Hk(this):Wk(this,(t,e)=>e.some(e=>0===t.indexOf(e)),t,mk)}anyOf(){const t=Nx.apply(Lx,arguments);let e=this._cmp;try{t.sort(e)}catch(t){return jk(this,fk)}if(0===t.length)return Hk(this);const n=new this.Collection(this,()=>Zk(t[0],t[t.length-1]));n._ondirectionchange=n=>{e="next"===n?this._ascending:this._descending,t.sort(e)};let i=0;return n._addAlgorithm((n,o,r)=>{const s=n.key;for(;e(s,t[i])>0;)if(++i,i===t.length)return o(r),!1;return 0===e(s,t[i])||(o(()=>{n.continue(t[i])}),!1)}),n}notEqual(t){return this.inAnyRange([[-1/0,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const t=Nx.apply(Lx,arguments);if(0===t.length)return new this.Collection(this);try{t.sort(this._ascending)}catch(t){return jk(this,fk)}const e=t.reduce((t,e)=>t?t.concat([[t[t.length-1][1],e]]):[[-1/0,e]],null);return e.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(e,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,e){const n=this._cmp,i=this._ascending,o=this._descending,r=this._min,s=this._max;if(0===t.length)return Hk(this);if(!t.every(t=>void 0!==t[0]&&void 0!==t[1]&&i(t[0],t[1])<=0))return jk(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Qx.InvalidArgument);const a=!e||!1!==e.includeLowers,l=e&&!0===e.includeUppers;let c,u=i;function h(t,e){return u(t[0],e[0])}try{c=t.reduce(function(t,e){let i=0,o=t.length;for(;i<o;++i){const o=t[i];if(n(e[0],o[1])<0&&n(e[1],o[0])>0){o[0]=r(o[0],e[0]),o[1]=s(o[1],e[1]);break}}return i===o&&t.push(e),t},[]),c.sort(h)}catch(t){return jk(this,fk)}let d=0;const p=l?t=>i(t,c[d][1])>0:t=>i(t,c[d][1])>=0,g=a?t=>o(t,c[d][0])>0:t=>o(t,c[d][0])>=0;let m=p;const f=new this.Collection(this,()=>Zk(c[0][0],c[c.length-1][1],!a,!l));return f._ondirectionchange=t=>{"next"===t?(m=p,u=i):(m=g,u=o),c.sort(h)},f._addAlgorithm((t,e,n)=>{for(var o=t.key;m(o);)if(++d,d===c.length)return e(n),!1;return!!function(t){return!p(t)&&!g(t)}(o)||(0===this._cmp(o,c[d][1])||0===this._cmp(o,c[d][0])||e(()=>{t.continue(u===i?c[d][0]:c[d][1])}),!1)}),f}startsWithAnyOf(){const t=Nx.apply(Lx,arguments);return t.every(t=>"string"==typeof t)?0===t.length?Hk(this):this.inAnyRange(t.map(t=>[t,t+mk])):jk(this,"startsWithAnyOf() only works with strings")}}function Jk(t){return YP(function(e){return $k(e),t(e.target.error),!1})}function $k(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}const Kk=wk(null,"storagemutated");class Xk{_lock(){return bx(!xP.global),++this._reculock,1!==this._reculock||xP.global||(xP.lockOwnerFor=this),this}_unlock(){if(bx(!xP.global),0==--this._reculock)for(xP.global||(xP.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{lk(t[1],t[0])}catch(t){}}return this}_locked(){return this._reculock&&xP.lockOwnerFor!==this}create(t){if(!this.mode)return this;const e=this.db.idbdb,n=this.db._state.dbOpenError;if(bx(!this.idbtrans),!t&&!e)switch(n&&n.name){case"DatabaseClosedError":throw new Qx.DatabaseClosed(n);case"MissingAPIError":throw new Qx.MissingAPI(n.message,n);default:throw new Qx.OpenFailed(n)}if(!this.active)throw new Qx.TransactionInactive;return bx(null===this._completion._state),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):e.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=YP(e=>{$k(e),this._reject(t.error)}),t.onabort=YP(e=>{$k(e),this.active&&this._reject(new Qx.Abort(t.error)),this.active=!1,this.on("abort").fire(e)}),t.oncomplete=YP(()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&Kk.storagemutated.fire(t.mutatedParts)}),this}_promise(t,e,n){if("readwrite"===t&&"readwrite"!==this.mode)return pk(new Qx.ReadOnly("Transaction is readonly"));if(!this.active)return pk(new Qx.TransactionInactive);if(this._locked())return new AP((i,o)=>{this._blockedFuncs.push([()=>{this._promise(t,e,n).then(i,o)},xP])});if(n)return tk(()=>{var t=new AP((t,n)=>{this._lock();const i=e(t,n,this);i&&i.then&&i.then(t,n)});return t.finally(()=>this._unlock()),t._lib=!0,t});var i=new AP((t,n)=>{var i=e(t,n,this);i&&i.then&&i.then(t,n)});return i._lib=!0,i}_root(){return this.parent?this.parent._root():this}waitFor(t){var e=this._root();const n=AP.resolve(t);if(e._waitingFor)e._waitingFor=e._waitingFor.then(()=>n);else{e._waitingFor=n,e._waitingQueue=[];var i=e.idbtrans.objectStore(e.storeNames[0]);!function t(){for(++e._spinCount;e._waitingQueue.length;)e._waitingQueue.shift()();e._waitingFor&&(i.get(-1/0).onsuccess=t)}()}var o=e._waitingFor;return new AP((t,i)=>{n.then(n=>e._waitingQueue.push(YP(t.bind(null,n))),t=>e._waitingQueue.push(YP(i.bind(null,t)))).finally(()=>{e._waitingFor===o&&(e._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Qx.Abort))}table(t){const e=this._memoizedTables||(this._memoizedTables={});if(lx(e,t))return e[t];const n=this.schema[t];if(!n)throw new Qx.NotFound("Table "+t+" not part of transaction");const i=new this.db.Table(t,n,this);return i.core=this.db.core.table(t),e[t]=i,i}}function Qk(t,e,n,i,o,r,s){return{name:t,keyPath:e,unique:n,multi:i,auto:o,compound:r,src:(n&&!s?"&":"")+(i?"*":"")+(o?"++":"")+tI(e)}}function tI(t){return"string"==typeof t?t:t?"["+[].join.call(t,"+")+"]":""}function eI(t,e,n){return{name:t,primKey:e,indexes:n,mappedClass:null,idxByName:yx(n,t=>[t.name,t])}}let nI=t=>{try{return t.only([[]]),nI=()=>[[]],[[]]}catch(t){return nI=()=>mk,mk}};function iI(t){return null==t?()=>{}:"string"==typeof t?function(t){return 1===t.split(".").length?e=>e[t]:e=>Cx(e,t)}(t):e=>Cx(e,t)}function oI(t){return[].slice.call(t)}let rI=0;function sI(t){return null==t?":id":"string"==typeof t?t:`[${t.join("+")}]`}function aI(t,e,n){function i(t){if(3===t.type)return null;if(4===t.type)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:n,upper:i,lowerOpen:o,upperOpen:r}=t;return void 0===n?void 0===i?null:e.upperBound(i,!!r):void 0===i?e.lowerBound(n,!!o):e.bound(n,i,!!o,!!r)}const{schema:o,hasGetAll:r}=function(t,e){const n=oI(t.objectStoreNames);return{schema:{name:t.name,tables:n.map(t=>e.objectStore(t)).map(t=>{const{keyPath:e,autoIncrement:n}=t,i=ox(e),o={},r={name:t.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:null==e,compound:i,keyPath:e,autoIncrement:n,unique:!0,extractKey:iI(e)},indexes:oI(t.indexNames).map(e=>t.index(e)).map(t=>{const{name:e,unique:n,multiEntry:i,keyPath:r}=t,s={name:e,compound:ox(r),keyPath:r,unique:n,multiEntry:i,extractKey:iI(r)};return o[sI(r)]=s,s}),getIndexByKeyPath:t=>o[sI(t)]};return o[":id"]=r.primaryKey,null!=e&&(o[sI(e)]=r.primaryKey),r})},hasGetAll:n.length>0&&"getAll"in e.objectStore(n[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(t,n),s=o.tables.map(t=>function(t){const e=t.name;return{name:e,schema:t,mutate:function({trans:t,type:n,keys:o,values:r,range:s}){return new Promise((a,l)=>{a=YP(a);const c=t.objectStore(e),u=null==c.keyPath,h="put"===n||"add"===n;if(!h&&"delete"!==n&&"deleteRange"!==n)throw new Error("Invalid operation type: "+n);const{length:d}=o||r||{length:1};if(o&&r&&o.length!==r.length)throw new Error("Given keys array must have same length as given values array.");if(0===d)return a({numFailures:0,failures:{},results:[],lastResult:void 0});let p;const g=[],m=[];let f=0;const _=t=>{++f,$k(t)};if("deleteRange"===n){if(4===s.type)return a({numFailures:f,failures:m,results:[],lastResult:void 0});g.push(p=3===s.type?c.clear():c.delete(i(s)))}else{const[t,e]=h?u?[r,o]:[r,null]:[o,null];if(h)for(let i=0;i<d;++i)g.push(p=e&&void 0!==e[i]?c[n](t[i],e[i]):c[n](t[i])),p.onerror=_;else for(let i=0;i<d;++i)g.push(p=c[n](t[i])),p.onerror=_}const b=t=>{const e=t.target.result;g.forEach((t,e)=>null!=t.error&&(m[e]=t.error)),a({numFailures:f,failures:m,results:"delete"===n?o:g.map(t=>t.result),lastResult:e})};p.onerror=t=>{_(t),b(t)},p.onsuccess=b})},getMany:({trans:t,keys:n})=>new Promise((i,o)=>{i=YP(i);const r=t.objectStore(e),s=n.length,a=new Array(s);let l,c=0,u=0;const h=t=>{const e=t.target;a[e._pos]=e.result,++u===c&&i(a)},d=Jk(o);for(let t=0;t<s;++t)null!=n[t]&&(l=r.get(n[t]),l._pos=t,l.onsuccess=h,l.onerror=d,++c);0===c&&i(a)}),get:({trans:t,key:n})=>new Promise((i,o)=>{i=YP(i);const r=t.objectStore(e).get(n);r.onsuccess=t=>i(t.target.result),r.onerror=Jk(o)}),query:function(t){return n=>new Promise((o,r)=>{o=YP(o);const{trans:s,values:a,limit:l,query:c}=n,u=l===1/0?void 0:l,{index:h,range:d}=c,p=s.objectStore(e),g=h.isPrimaryKey?p:p.index(h.name),m=i(d);if(0===l)return o({result:[]});if(t){const t=a?g.getAll(m,u):g.getAllKeys(m,u);t.onsuccess=t=>o({result:t.target.result}),t.onerror=Jk(r)}else{let t=0;const e=a||!("openKeyCursor"in g)?g.openCursor(m):g.openKeyCursor(m),n=[];e.onsuccess=i=>{const r=e.result;return r?(n.push(a?r.value:r.primaryKey),++t===l?o({result:n}):void r.continue()):o({result:n})},e.onerror=Jk(r)}})}(r),openCursor:function({trans:t,values:n,query:o,reverse:r,unique:s}){return new Promise((a,l)=>{a=YP(a);const{index:c,range:u}=o,h=t.objectStore(e),d=c.isPrimaryKey?h:h.index(c.name),p=r?s?"prevunique":"prev":s?"nextunique":"next",g=n||!("openKeyCursor"in d)?d.openCursor(i(u),p):d.openKeyCursor(i(u),p);g.onerror=Jk(l),g.onsuccess=YP(e=>{const n=g.result;if(!n)return void a(null);n.___id=++rI,n.done=!1;const i=n.continue.bind(n);let o=n.continuePrimaryKey;o&&(o=o.bind(n));const r=n.advance.bind(n),s=()=>{throw new Error("Cursor not stopped")};n.trans=t,n.stop=n.continue=n.continuePrimaryKey=n.advance=()=>{throw new Error("Cursor not started")},n.fail=YP(l),n.next=function(){let t=1;return this.start(()=>t--?this.continue():this.stop()).then(()=>this)},n.start=t=>{const e=new Promise((t,e)=>{t=YP(t),g.onerror=Jk(e),n.fail=e,n.stop=e=>{n.stop=n.continue=n.continuePrimaryKey=n.advance=s,t(e)}}),a=()=>{if(g.result)try{t()}catch(t){n.fail(t)}else n.done=!0,n.start=()=>{throw new Error("Cursor behind last entry")},n.stop()};return g.onsuccess=YP(t=>{g.onsuccess=a,a()}),n.continue=i,n.continuePrimaryKey=o,n.advance=r,a(),e},a(n)},l)})},count({query:t,trans:n}){const{index:o,range:r}=t;return new Promise((t,s)=>{const a=n.objectStore(e),l=o.isPrimaryKey?a:a.index(o.name),c=i(r),u=c?l.count(c):l.count();u.onsuccess=YP(e=>t(e.target.result)),u.onerror=Jk(s)})}}}(t)),a={};return s.forEach(t=>a[t.name]=t),{stack:"dbcore",transaction:t.transaction.bind(t),table(t){if(!a[t])throw new Error(`Table '${t}' not found`);return a[t]},MIN_KEY:-1/0,MAX_KEY:nI(e),schema:o}}function lI({_novip:t},e){const n=function(t,e,{IDBKeyRange:n},i){return{dbcore:function(t,e){return e.reduce((t,{create:e})=>({...t,...e(t)}),t)}(aI(e,n,i),t.dbcore)}}(t._middlewares,e.db,t._deps,e);t.core=n.dbcore,t.tables.forEach(e=>{const n=e.name;t.core.schema.tables.some(t=>t.name===n)&&(e.core=t.core.table(n),t[n]instanceof t.Table&&(t[n].core=e.core))})}function cI({_novip:t},e,n,i){n.forEach(n=>{const o=i[n];e.forEach(e=>{const i=gx(e,n);(!i||"value"in i&&void 0===i.value)&&(e===t.Transaction.prototype||e instanceof t.Transaction?hx(e,n,{get(){return this.table(n)},set(t){ux(this,n,{value:t,writable:!0,configurable:!0,enumerable:!0})}}):e[n]=new t.Table(n,o))})})}function uI({_novip:t},e){e.forEach(e=>{for(let n in e)e[n]instanceof t.Table&&delete e[n]})}function hI(t,e){return t._cfg.version-e._cfg.version}function dI(t,e,n,i){const o=t._dbSchema,r=t._createTransaction("readwrite",t._storeNames,o);r.create(n),r._completion.catch(i);const s=r._reject.bind(r),a=xP.transless||xP;tk(()=>{xP.trans=r,xP.transless=a,0===e?(ix(o).forEach(t=>{gI(n,t,o[t].primKey,o[t].indexes)}),lI(t,n),AP.follow(()=>t.on.populate.fire(r)).catch(s)):function({_novip:t},e,n,i){const o=[],r=t._versions;let s=t._dbSchema=fI(0,t.idbdb,i),a=!1;return r.filter(t=>t._cfg.version>=e).forEach(r=>{o.push(()=>{const o=s,l=r._cfg.dbschema;_I(t,o,i),_I(t,l,i),s=t._dbSchema=l;const c=pI(o,l);c.add.forEach(t=>{gI(i,t[0],t[1].primKey,t[1].indexes)}),c.change.forEach(t=>{if(t.recreate)throw new Qx.Upgrade("Not yet support for changing primary key");{const e=i.objectStore(t.name);t.add.forEach(t=>mI(e,t)),t.change.forEach(t=>{e.deleteIndex(t.name),mI(e,t)}),t.del.forEach(t=>e.deleteIndex(t))}});const u=r._cfg.contentUpgrade;if(u&&r._cfg.version>e){lI(t,i),n._memoizedTables={},a=!0;let e=Tx(l);c.del.forEach(t=>{e[t]=o[t]}),uI(t,[t.Transaction.prototype]),cI(t,[t.Transaction.prototype],ix(e),e),n.schema=e;const r=Bx(u);let s;r&&ek();const h=AP.follow(()=>{if(s=u(n),s&&r){var t=nk.bind(null,null);s.then(t,t)}});return s&&"function"==typeof s.then?AP.resolve(s):h.then(()=>s)}}),o.push(e=>{a&&vk||function(t,e){[].slice.call(e.db.objectStoreNames).forEach(n=>null==t[n]&&e.db.deleteObjectStore(n))}(r._cfg.dbschema,e),uI(t,[t.Transaction.prototype]),cI(t,[t.Transaction.prototype],t._storeNames,t._dbSchema),n.schema=t._dbSchema})}),function t(){return o.length?AP.resolve(o.shift()(n.idbtrans)).then(t):AP.resolve()}().then(()=>{var t,e;e=i,ix(t=s).forEach(n=>{e.db.objectStoreNames.contains(n)||gI(e,n,t[n].primKey,t[n].indexes)})})}(t,e,r,n).catch(s)})}function pI(t,e){const n={del:[],add:[],change:[]};let i;for(i in t)e[i]||n.del.push(i);for(i in e){const o=t[i],r=e[i];if(o){const t={name:i,def:r,recreate:!1,del:[],add:[],change:[]};if(""+(o.primKey.keyPath||"")!=""+(r.primKey.keyPath||"")||o.primKey.auto!==r.primKey.auto&&!bk)t.recreate=!0,n.change.push(t);else{const e=o.idxByName,i=r.idxByName;let s;for(s in e)i[s]||t.del.push(s);for(s in i){const n=e[s],o=i[s];n?n.src!==o.src&&t.change.push(o):t.add.push(o)}(t.del.length>0||t.add.length>0||t.change.length>0)&&n.change.push(t)}}else n.add.push([i,r])}return n}function gI(t,e,n,i){const o=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return i.forEach(t=>mI(o,t)),o}function mI(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function fI(t,e,n){const i={};return fx(e.objectStoreNames,0).forEach(t=>{const e=n.objectStore(t);let o=e.keyPath;const r=Qk(tI(o),o||"",!1,!1,!!e.autoIncrement,o&&"string"!=typeof o,!0),s=[];for(let n=0;n<e.indexNames.length;++n){const t=e.index(e.indexNames[n]);o=t.keyPath;var a=Qk(t.name,o,!!t.unique,!!t.multiEntry,!1,o&&"string"!=typeof o,!1);s.push(a)}i[t]=eI(t,r,s)}),i}function _I({_novip:t},e,n){const i=n.db.objectStoreNames;for(let o=0;o<i.length;++o){const r=i[o],s=n.objectStore(r);t._hasGetAll="getAll"in s;for(let t=0;t<s.indexNames.length;++t){const n=s.indexNames[t],i=s.index(n).keyPath,o="string"==typeof i?i:"["+fx(i).join("+")+"]";if(e[r]){const t=e[r].idxByName[o];t&&(t.name=n,delete e[r].idxByName[o],e[r].idxByName[n]=t)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&nx.WorkerGlobalScope&&nx instanceof nx.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}class bI{_parseStoresSpec(t,e){ix(t).forEach(n=>{if(null!==t[n]){var i=t[n].split(",").map((t,e)=>{const n=(t=t.trim()).replace(/([&*]|\+\+)/g,""),i=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return Qk(n,i||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),ox(i),0===e)}),o=i.shift();if(o.multi)throw new Qx.Schema("Primary key cannot be multi-valued");i.forEach(t=>{if(t.auto)throw new Qx.Schema("Only primary key can be marked as autoIncrement (++)");if(!t.keyPath)throw new Qx.Schema("Index must have a name and cannot be an empty string")}),e[n]=eI(n,o,i)}})}stores(t){const e=this.db;this._cfg.storesSource=this._cfg.storesSource?rx(this._cfg.storesSource,t):t;const n={};let i={};return e._versions.forEach(t=>{rx(n,t._cfg.storesSource),i=t._cfg.dbschema={},t._parseStoresSpec(n,i)}),e._dbSchema=i,uI(e,[e._allTables,e,e.Transaction.prototype]),cI(e,[e._allTables,e,e.Transaction.prototype,this._cfg.tables],ix(i),i),e._storeNames=ix(i),this}upgrade(t){return this._cfg.contentUpgrade=uP(this._cfg.contentUpgrade||nP,t),this}}function vI(t,e){let n=t._dbNamesDB;return n||(n=t._dbNamesDB=new VI("__dbnames",{addons:[],indexedDB:t,IDBKeyRange:e}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function yI(t){return t&&"function"==typeof t.databases}function CI(t){return tk(function(){return xP.letThrough=!0,t()})}function OI(){var t;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(e){var n=function(){return indexedDB.databases().finally(e)};t=setInterval(n,100),n()}).finally(function(){return clearInterval(t)}):Promise.resolve()}function TI(t){var e=e=>t.next(e),n=o(e),i=o(e=>t.throw(e));function o(t){return e=>{var o=t(e),r=o.value;return o.done?r:r&&"function"==typeof r.then?r.then(n,i):ox(r)?Promise.all(r).then(n,i):n(r)}}return o(e)()}function EI(t,e,n){var i=arguments.length;if(i<2)throw new Qx.InvalidArgument("Too few arguments");for(var o=new Array(i-1);--i;)o[i-1]=arguments[i];n=o.pop();var r=Sx(o);return[t,r,n]}function SI(t,e,n,i,o){return AP.resolve().then(()=>{const r=xP.transless||xP,s=t._createTransaction(e,n,t._dbSchema,i),a={trans:s,transless:r};if(i)s.idbtrans=i.idbtrans;else try{s.create(),t._state.PR1398_maxLoop=3}catch(i){return i.name===Kx.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>SI(t,e,n,null,o))):pk(i)}const l=Bx(o);let c;l&&ek();const u=AP.follow(()=>{if(c=o.call(s,s),c)if(l){var t=nk.bind(null,null);c.then(t,t)}else"function"==typeof c.next&&"function"==typeof c.throw&&(c=TI(c))},a);return(c&&"function"==typeof c.then?AP.resolve(c).then(t=>s.active?t:pk(new Qx.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):u.then(()=>c)).then(t=>(i&&s._resolve(),s._completion.then(()=>t))).catch(t=>(s._reject(t),pk(t)))})}function wI(t,e,n){const i=ox(t)?t.slice():[t];for(let o=0;o<n;++o)i.push(e);return i}const MI={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(t){return{...t,table(e){const n=t.table(e),{schema:i}=n,o={},r=[];function s(t,e,n){const i=sI(t),a=o[i]=o[i]||[],l=null==t?0:"string"==typeof t?1:t.length,c=e>0,u={...n,isVirtual:c,keyTail:e,keyLength:l,extractKey:iI(t),unique:!c&&n.unique};return a.push(u),u.isPrimaryKey||r.push(u),l>1&&s(2===l?t[0]:t.slice(0,l-1),e+1,n),a.sort((t,e)=>t.keyTail-e.keyTail),u}const a=s(i.primaryKey.keyPath,0,i.primaryKey);o[":id"]=[a];for(const t of i.indexes)s(t.keyPath,0,t);function l(e){const n=e.query.index;return n.isVirtual?{...e,query:{index:n,range:(i=e.query.range,o=n.keyTail,{type:1===i.type?2:i.type,lower:wI(i.lower,i.lowerOpen?t.MAX_KEY:t.MIN_KEY,o),lowerOpen:!0,upper:wI(i.upper,i.upperOpen?t.MIN_KEY:t.MAX_KEY,o),upperOpen:!0})}}:e;var i,o}return{...n,schema:{...i,primaryKey:a,indexes:r,getIndexByKeyPath:function(t){const e=o[sI(t)];return e&&e[0]}},count:t=>n.count(l(t)),query:t=>n.query(l(t)),openCursor(e){const{keyTail:i,isVirtual:o,keyLength:r}=e.query.index;return o?n.openCursor(l(e)).then(n=>n&&function(n){return Object.create(n,{continue:{value:function(o){null!=o?n.continue(wI(o,e.reverse?t.MAX_KEY:t.MIN_KEY,i)):e.unique?n.continue(n.key.slice(0,r).concat(e.reverse?t.MIN_KEY:t.MAX_KEY,i)):n.continue()}},continuePrimaryKey:{value(e,o){n.continuePrimaryKey(wI(e,t.MAX_KEY,i),o)}},primaryKey:{get:()=>n.primaryKey},key:{get(){const t=n.key;return 1===r?t[0]:t.slice(0,r)}},value:{get:()=>n.value}})}(n)):n.openCursor(e)}}}}}};function xI(t,e,n,i){return n=n||{},i=i||"",ix(t).forEach(o=>{if(lx(e,o)){var r=t[o],s=e[o];if("object"==typeof r&&"object"==typeof s&&r&&s){const t=Ax(r);t!==Ax(s)?n[i+o]=e[o]:"Object"===t?xI(r,s,n,i+o+"."):r!==s&&(n[i+o]=e[o])}else r!==s&&(n[i+o]=e[o])}else n[i+o]=void 0}),ix(e).forEach(o=>{lx(t,o)||(n[i+o]=e[o])}),n}const PI={stack:"dbcore",name:"HooksMiddleware",level:2,create:t=>({...t,table(e){const n=t.table(e),{primaryKey:i}=n.schema;return{...n,mutate(t){const o=xP.trans,{deleting:r,creating:s,updating:a}=o.table(e).hook;switch(t.type){case"add":if(s.fire===nP)break;return o._promise("readwrite",()=>l(t),!0);case"put":if(s.fire===nP&&a.fire===nP)break;return o._promise("readwrite",()=>l(t),!0);case"delete":if(r.fire===nP)break;return o._promise("readwrite",()=>l(t),!0);case"deleteRange":if(r.fire===nP)break;return o._promise("readwrite",()=>function(t){return c(t.trans,t.range,1e4)}(t),!0)}return n.mutate(t);function l(t){const e=xP.trans,o=t.keys||function(t,e){return"delete"===e.type?e.keys:e.keys||e.values.map(t.extractKey)}(i,t);if(!o)throw new Error("Keys missing");return"delete"!==(t="add"===t.type||"put"===t.type?{...t,keys:o}:{...t}).type&&(t.values=[...t.values]),t.keys&&(t.keys=[...t.keys]),function(t,e,n){return"add"===e.type?Promise.resolve([]):t.getMany({trans:e.trans,keys:n,cache:"immutable"})}(n,t,o).then(l=>{const c=o.map((n,o)=>{const c=l[o],u={onerror:null,onsuccess:null};if("delete"===t.type)r.fire.call(u,n,c,e);else if("add"===t.type||void 0===c){const r=s.fire.call(u,n,t.values[o],e);null==n&&null!=r&&(t.keys[o]=n=r,i.outbound||Ox(t.values[o],i.keyPath,n))}else{const i=xI(c,t.values[o]),r=a.fire.call(u,i,n,c,e);if(r){const e=t.values[o];Object.keys(r).forEach(t=>{lx(e,t)?e[t]=r[t]:Ox(e,t,r[t])})}}return u});return n.mutate(t).then(({failures:e,results:n,numFailures:i,lastResult:r})=>{for(let s=0;s<o.length;++s){const i=n?n[s]:o[s],r=c[s];null==i?r.onerror&&r.onerror(e[s]):r.onsuccess&&r.onsuccess("put"===t.type&&l[s]?t.values[s]:i)}return{failures:e,results:n,numFailures:i,lastResult:r}}).catch(t=>(c.forEach(e=>e.onerror&&e.onerror(t)),Promise.reject(t)))})}function c(t,e,o){return n.query({trans:t,values:!1,query:{index:i,range:e},limit:o}).then(({result:n})=>l({type:"delete",keys:n,trans:t}).then(i=>i.numFailures>0?Promise.reject(i.failures[0]):n.length<o?{failures:[],numFailures:0,lastResult:void 0}:c(t,{...e,lower:n[n.length-1],lowerOpen:!0},o)))}}}}})};function kI(t,e,n){try{if(!e)return null;if(e.keys.length<t.length)return null;const i=[];for(let o=0,r=0;o<e.keys.length&&r<t.length;++o)0===Lk(e.keys[o],t[r])&&(i.push(n?Px(e.values[o]):e.values[o]),++r);return i.length===t.length?i:null}catch(t){return null}}const II={stack:"dbcore",level:-1,create:t=>({table:e=>{const n=t.table(e);return{...n,getMany:t=>{if(!t.cache)return n.getMany(t);const e=kI(t.keys,t.trans._cache,"clone"===t.cache);return e?AP.resolve(e):n.getMany(t).then(e=>(t.trans._cache={keys:t.keys,values:"clone"===t.cache?Px(e):e},e))},mutate:t=>("add"!==t.type&&(t.trans._cache=null),n.mutate(t))}}})};function AI(t){return!("from"in t)}const RI=function(t,e){if(!this){const e=new RI;return t&&"d"in t&&rx(e,t),e}rx(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0})};function DI(t,e,n){const i=Lk(e,n);if(isNaN(i))return;if(i>0)throw RangeError();if(AI(t))return rx(t,{from:e,to:n,d:1});const o=t.l,r=t.r;if(Lk(n,t.from)<0)return o?DI(o,e,n):t.l={from:e,to:n,d:1,l:null,r:null},BI(t);if(Lk(e,t.to)>0)return r?DI(r,e,n):t.r={from:e,to:n,d:1,l:null,r:null},BI(t);Lk(e,t.from)<0&&(t.from=e,t.l=null,t.d=r?r.d+1:1),Lk(n,t.to)>0&&(t.to=n,t.r=null,t.d=t.l?t.l.d+1:1);const s=!t.r;o&&!t.l&&LI(t,o),r&&s&&LI(t,r)}function LI(t,e){AI(e)||function t(e,{from:n,to:i,l:o,r:r}){DI(e,n,i),o&&t(e,o),r&&t(e,r)}(t,e)}function NI(t){let e=AI(t)?null:{s:0,n:t};return{next(t){const n=arguments.length>0;for(;e;)switch(e.s){case 0:if(e.s=1,n)for(;e.n.l&&Lk(t,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!n||Lk(t,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function BI(t){var e,n;const i=((null===(e=t.r)||void 0===e?void 0:e.d)||0)-((null===(n=t.l)||void 0===n?void 0:n.d)||0),o=i>1?"r":i<-1?"l":"";if(o){const e="r"===o?"l":"r",n={...t},i=t[o];t.from=i.from,t.to=i.to,t[o]=i[o],n[o]=i[e],t[e]=n,n.d=FI(n)}t.d=FI(t)}function FI({r:t,l:e}){return(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}cx(RI.prototype,{add(t){return LI(this,t),this},addKey(t){return DI(this,t,t),this},addKeys(t){return t.forEach(t=>DI(this,t,t)),this},[Rx](){return NI(this)}});const UI={stack:"dbcore",level:0,create:t=>{const e=t.schema.name,n=new RI(t.MIN_KEY,t.MAX_KEY);return{...t,table:i=>{const o=t.table(i),{schema:r}=o,{primaryKey:s}=r,{extractKey:a,outbound:l}=s,c={...o,mutate:t=>{const s=t.trans,a=s.mutatedParts||(s.mutatedParts={}),l=t=>{const n=`idb://${e}/${i}/${t}`;return a[n]||(a[n]=new RI)},c=l(""),u=l(":dels"),{type:h}=t;let[d,p]="deleteRange"===t.type?[t.range]:"delete"===t.type?[t.keys]:t.values.length<50?[[],t.values]:[];const g=t.trans._cache;return o.mutate(t).then(t=>{if(ox(d)){"delete"!==h&&(d=t.results),c.addKeys(d);const e=kI(d,g);e||"add"===h||u.addKeys(d),(e||p)&&function(t,e,n,i){e.indexes.forEach(function(e){const o=t(e.name||"");function r(t){return null!=t?e.extractKey(t):null}const s=t=>e.multiEntry&&ox(t)?t.forEach(t=>o.addKey(t)):o.addKey(t);(n||i).forEach((t,e)=>{const o=n&&r(n[e]),a=i&&r(i[e]);0!==Lk(o,a)&&(null!=o&&s(o),null!=a&&s(a))})})}(l,r,e,p)}else if(d){const t={from:d.lower,to:d.upper};u.add(t),c.add(t)}else c.add(n),u.add(n),r.indexes.forEach(t=>l(t.name).add(n));return t})}},u=({query:{index:e,range:n}})=>{var i,o;return[e,new RI(null!==(i=n.lower)&&void 0!==i?i:t.MIN_KEY,null!==(o=n.upper)&&void 0!==o?o:t.MAX_KEY)]},h={get:t=>[s,new RI(t.key)],getMany:t=>[s,(new RI).addKeys(t.keys)],count:u,query:u,openCursor:u};return ix(h).forEach(t=>{c[t]=function(r){const{subscr:s}=xP;if(s){const c=t=>{const n=`idb://${e}/${i}/${t}`;return s[n]||(s[n]=new RI)},u=c(""),d=c(":dels"),[p,g]=h[t](r);if(c(p.name||"").add(g),!p.isPrimaryKey){if("count"!==t){const e="query"===t&&l&&r.values&&o.query({...r,values:!1});return o[t].apply(this,arguments).then(n=>{if("query"===t){if(l&&r.values)return e.then(({result:t})=>(u.addKeys(t),n));const t=r.values?n.result.map(a):n.result;r.values?u.addKeys(t):d.addKeys(t)}else if("openCursor"===t){const t=n,e=r.values;return t&&Object.create(t,{key:{get:()=>(d.addKey(t.primaryKey),t.key)},primaryKey:{get(){const e=t.primaryKey;return d.addKey(e),e}},value:{get:()=>(e&&u.addKey(t.primaryKey),t.value)}})}return n})}d.add(n)}}return o[t].apply(this,arguments)}}),c}}}};class VI{constructor(t,e){this._middlewares={},this.verno=0;const n=VI.dependencies;this._options=e={addons:VI.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,...e},this._deps={indexedDB:e.indexedDB,IDBKeyRange:e.IDBKeyRange};const{addons:i}=e;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const o={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:nP,dbReadyPromise:null,cancelOpen:nP,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var r;o.dbReadyPromise=new AP(t=>{o.dbReadyResolve=t}),o.openCanceller=new AP((t,e)=>{o.cancelOpen=e}),this._state=o,this.name=t,this.on=wk(this,"populate","blocked","versionchange","close",{ready:[uP,nP]}),this.on.ready.subscribe=_x(this.on.ready.subscribe,t=>(e,n)=>{VI.vip(()=>{const i=this._state;if(i.openComplete)i.dbOpenError||AP.resolve().then(e),n&&t(e);else if(i.onReadyBeingFired)i.onReadyBeingFired.push(e),n&&t(e);else{t(e);const i=this;n||t(function t(){i.on.ready.unsubscribe(e),i.on.ready.unsubscribe(t)})}})}),this.Collection=(r=this,Mk(Fk.prototype,function(t,e){this.db=r;let n=Tk,i=null;if(e)try{n=e()}catch(t){i=t}const o=t._ctx,s=o.table,a=s.hook.reading.fire;this._ctx={table:s,index:o.index,isPrimKey:!o.index||s.schema.primKey.keyPath&&o.index===s.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:i,or:o.or,valueMapper:a!==iP?a:null}})),this.Table=function(t){return Mk(Sk.prototype,function(e,n,i){this.db=t,this._tx=i,this.name=e,this.schema=n,this.hook=t._allTables[e]?t._allTables[e].hook:wk(null,{creating:[sP,nP],reading:[oP,iP],updating:[lP,nP],deleting:[aP,nP]})})}(this),this.Transaction=function(t){return Mk(Xk.prototype,function(e,n,i,o,r){this.db=t,this.mode=e,this.storeNames=n,this.schema=i,this.chromeTransactionDurability=o,this.idbtrans=null,this.on=wk(this,"complete","error","abort"),this.parent=r||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new AP((t,e)=>{this._resolve=t,this._reject=e}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},t=>{var e=this.active;return this.active=!1,this.on.error.fire(t),this.parent?this.parent._reject(t):e&&this.idbtrans&&this.idbtrans.abort(),pk(t)})})}(this),this.Version=function(t){return Mk(bI.prototype,function(e){this.db=t,this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(t){return Mk(qk.prototype,function(e,n,i){this.db=t,this._ctx={table:e,index:":id"===n?null:n,or:i};const o=t._deps.indexedDB;if(!o)throw new Qx.MissingAPI;this._cmp=this._ascending=o.cmp.bind(o),this._descending=(t,e)=>o.cmp(e,t),this._max=(t,e)=>o.cmp(t,e)>0?t:e,this._min=(t,e)=>o.cmp(t,e)<0?t:e,this._IDBKeyRange=t._deps.IDBKeyRange})}(this),this.on("versionchange",t=>{t.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",t=>{!t.newVersion||t.newVersion<t.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${t.oldVersion/10}`)}),this._maxKey=nI(e.IDBKeyRange),this._createTransaction=(t,e,n,i)=>new this.Transaction(t,e,n,this._options.chromeTransactionDurability,i),this._fireOnBlocked=t=>{this.on("blocked").fire(t),_k.filter(t=>t.name===this.name&&t!==this&&!t._state.vcFired).map(e=>e.on("versionchange").fire(t))},this.use(MI),this.use(PI),this.use(UI),this.use(II),this.vip=Object.create(this,{_vip:{value:!0}}),i.forEach(t=>t(this))}version(t){if(isNaN(t)||t<.1)throw new Qx.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new Qx.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);const e=this._versions;var n=e.filter(e=>e._cfg.version===t)[0];return n||(n=new this.Version(t),e.push(n),e.sort(hI),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(t){return this.idbdb&&(this._state.openComplete||xP.letThrough||this._vip)?t():new AP((t,e)=>{if(this._state.openComplete)return e(new Qx.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void e(new Qx.DatabaseClosed);this.open().catch(nP)}this._state.dbReadyPromise.then(t,e)}).then(t)}use({stack:t,create:e,level:n,name:i}){i&&this.unuse({stack:t,name:i});const o=this._middlewares[t]||(this._middlewares[t]=[]);return o.push({stack:t,create:e,level:null==n?10:n,name:i}),o.sort((t,e)=>t.level-e.level),this}unuse({stack:t,name:e,create:n}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(t=>n?t.create!==n:!!e&&t.name!==e)),this}open(){return function(t){const e=t._state,{indexedDB:n}=t._deps;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then(()=>e.dbOpenError?pk(e.dbOpenError):t);Fx&&(e.openCanceller._stackHolder=jx()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;const i=e.openCanceller;function o(){if(e.openCanceller!==i)throw new Qx.DatabaseClosed("db.open() was cancelled")}let r=e.dbReadyResolve,s=null,a=!1;return AP.race([i,("undefined"==typeof navigator?AP.resolve():OI()).then(()=>new AP((i,r)=>{if(o(),!n)throw new Qx.MissingAPI;const l=t.name,c=e.autoSchema?n.open(l):n.open(l,Math.round(10*t.verno));if(!c)throw new Qx.MissingAPI;c.onerror=Jk(r),c.onblocked=YP(t._fireOnBlocked),c.onupgradeneeded=YP(i=>{if(s=c.transaction,e.autoSchema&&!t._options.allowEmptyDB){c.onerror=$k,s.abort(),c.result.close();const t=n.deleteDatabase(l);t.onsuccess=t.onerror=YP(()=>{r(new Qx.NoSuchDatabase(`Database ${l} doesnt exist`))})}else{s.onerror=Jk(r);var o=i.oldVersion>Math.pow(2,62)?0:i.oldVersion;a=o<1,t._novip.idbdb=c.result,dI(t,o/10,s,r)}},r),c.onsuccess=YP(()=>{s=null;const n=t._novip.idbdb=c.result,o=fx(n.objectStoreNames);if(o.length>0)try{const i=n.transaction(1===(r=o).length?r[0]:r,"readonly");e.autoSchema?function({_novip:t},e,n){t.verno=e.version/10;const i=t._dbSchema=fI(0,e,n);t._storeNames=fx(e.objectStoreNames,0),cI(t,[t._allTables],ix(i),i)}(t,n,i):(_I(t,t._dbSchema,i),function(t,e){const n=pI(fI(0,t.idbdb,e),t._dbSchema);return!(n.add.length||n.change.some(t=>t.add.length||t.change.length))}(t,i)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),lI(t,i)}catch(t){}var r;_k.push(t),n.onversionchange=YP(n=>{e.vcFired=!0,t.on("versionchange").fire(n)}),n.onclose=YP(e=>{t.on("close").fire(e)}),a&&function({indexedDB:t,IDBKeyRange:e},n){!yI(t)&&"__dbnames"!==n&&vI(t,e).put({name:n}).catch(nP)}(t._deps,l),i()},r)}))]).then(()=>(o(),e.onReadyBeingFired=[],AP.resolve(CI(()=>t.on.ready.fire(t.vip))).then(function n(){if(e.onReadyBeingFired.length>0){let i=e.onReadyBeingFired.reduce(uP,nP);return e.onReadyBeingFired=[],AP.resolve(CI(()=>i(t.vip))).then(n)}}))).finally(()=>{e.onReadyBeingFired=null,e.isBeingOpened=!1}).then(()=>t).catch(n=>{e.dbOpenError=n;try{s&&s.abort()}catch(t){}return i===e.openCanceller&&t._close(),pk(n)}).finally(()=>{e.openComplete=!0,r()})}(this)}_close(){const t=this._state,e=_k.indexOf(this);if(e>=0&&_k.splice(e,1),this.idbdb){try{this.idbdb.close()}catch(t){}this._novip.idbdb=null}t.dbReadyPromise=new AP(e=>{t.dbReadyResolve=e}),t.openCanceller=new AP((e,n)=>{t.cancelOpen=n})}close(){this._close();const t=this._state;this._options.autoOpen=!1,t.dbOpenError=new Qx.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){const t=arguments.length>0,e=this._state;return new AP((n,i)=>{const o=()=>{this.close();var t=this._deps.indexedDB.deleteDatabase(this.name);t.onsuccess=YP(()=>{!function({indexedDB:t,IDBKeyRange:e},n){!yI(t)&&"__dbnames"!==n&&vI(t,e).delete(n).catch(nP)}(this._deps,this.name),n()}),t.onerror=Jk(i),t.onblocked=this._fireOnBlocked};if(t)throw new Qx.InvalidArgument("Arguments not allowed in db.delete()");e.isBeingOpened?e.dbReadyPromise.then(o):o()})}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const t=this._state.dbOpenError;return t&&"DatabaseClosed"===t.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return ix(this._allTables).map(t=>this._allTables[t])}transaction(){const t=EI.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,e,n){let i=xP.trans;i&&i.db===this&&-1===t.indexOf("!")||(i=null);const o=-1!==t.indexOf("?");let r,s;t=t.replace("!","").replace("?","");try{if(s=e.map(t=>{var e=t instanceof this.Table?t.name:t;if("string"!=typeof e)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return e}),"r"==t||"readonly"===t)r="readonly";else{if("rw"!=t&&"readwrite"!=t)throw new Qx.InvalidArgument("Invalid transaction mode: "+t);r="readwrite"}if(i){if("readonly"===i.mode&&"readwrite"===r){if(!o)throw new Qx.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&s.forEach(t=>{if(i&&-1===i.storeNames.indexOf(t)){if(!o)throw new Qx.SubTransaction("Table "+t+" not included in parent transaction.");i=null}}),o&&i&&!i.active&&(i=null)}}catch(t){return i?i._promise(null,(e,n)=>{n(t)}):pk(t)}const a=SI.bind(null,this,r,s,i,n);return i?i._promise(r,a,"lock"):xP.trans?lk(xP.transless,()=>this._whenReady(a)):this._whenReady(a)}table(t){if(!lx(this._allTables,t))throw new Qx.InvalidTable(`Table ${t} does not exist`);return this._allTables[t]}}const GI="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";class jI{constructor(t){this._subscribe=t}subscribe(t,e,n){return this._subscribe(t&&"function"!=typeof t?t:{next:t,error:e,complete:n})}[GI](){return this}}function HI(t,e){return ix(e).forEach(n=>{LI(t[n]||(t[n]=new RI),e[n])}),t}let zI;try{zI={indexedDB:nx.indexedDB||nx.mozIndexedDB||nx.webkitIndexedDB||nx.msIndexedDB,IDBKeyRange:nx.IDBKeyRange||nx.webkitIDBKeyRange}}catch(nx){zI={indexedDB:null,IDBKeyRange:null}}const WI=VI;function ZI(t){let e=YI;try{YI=!0,Kk.storagemutated.fire(t)}finally{YI=e}}cx(WI,{...eP,delete:t=>new WI(t,{addons:[]}).delete(),exists:t=>new WI(t,{addons:[]}).open().then(t=>(t.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(t){try{return function({indexedDB:t,IDBKeyRange:e}){return yI(t)?Promise.resolve(t.databases()).then(t=>t.map(t=>t.name).filter(t=>"__dbnames"!==t)):vI(t,e).toCollection().primaryKeys()}(WI.dependencies).then(t)}catch(t){return pk(new Qx.MissingAPI)}},defineClass:()=>function(t){rx(this,t)},ignoreTransaction:t=>xP.trans?lk(xP.transless,t):t(),vip:CI,async:function(t){return function(){try{var e=TI(t.apply(this,arguments));return e&&"function"==typeof e.then?e:AP.resolve(e)}catch(t){return pk(t)}}},spawn:function(t,e,n){try{var i=TI(t.apply(n,e||[]));return i&&"function"==typeof i.then?i:AP.resolve(i)}catch(t){return pk(t)}},currentTransaction:{get:()=>xP.trans||null},waitFor:function(t,e){const n=AP.resolve("function"==typeof t?WI.ignoreTransaction(t):t).timeout(e||6e4);return xP.trans?xP.trans.waitFor(n):n},Promise:AP,debug:{get:()=>Fx,set:t=>{Ux(t,"dexie"===t?()=>!0:Ck)}},derive:dx,extend:rx,props:cx,override:_x,Events:wk,on:Kk,liveQuery:function(t){return new jI(e=>{const n=Bx(t);let i=!1,o={},r={};const s={get closed(){return i},unsubscribe:()=>{i=!0,Kk.storagemutated.unsubscribe(u)}};e.start&&e.start(s);let a=!1,l=!1;function c(){return ix(r).some(t=>o[t]&&function(t,e){const n=NI(e);let i=n.next();if(i.done)return!1;let o=i.value;const r=NI(t);let s=r.next(o.from),a=s.value;for(;!i.done&&!s.done;){if(Lk(a.from,o.to)<=0&&Lk(a.to,o.from)>=0)return!0;Lk(o.from,a.from)<0?o=(i=n.next(a.from)).value:a=(s=r.next(o.from)).value}return!1}(o[t],r[t]))}const u=t=>{HI(o,t),c()&&h()},h=()=>{if(a||i)return;o={};const d={},p=function(e){n&&ek();const i=()=>tk(t,{subscr:e,trans:null}),o=xP.trans?lk(xP.transless,i):i();return n&&o.then(nk,nk),o}(d);l||(Kk("storagemutated",u),l=!0),a=!0,Promise.resolve(p).then(t=>{a=!1,i||(c()?h():(o={},r=d,e.next&&e.next(t)))},t=>{a=!1,e.error&&e.error(t),s.unsubscribe()})};return h(),s})},extendObservabilitySet:HI,getByKeyPath:Cx,setByKeyPath:Ox,delByKeyPath:function(t,e){"string"==typeof e?Ox(t,e,void 0):"length"in e&&[].map.call(e,function(e){Ox(t,e,void 0)})},shallowClone:Tx,deepClone:Px,getObjectDiff:xI,cmp:Lk,asap:vx,minKey:-1/0,addons:[],connections:_k,errnames:Kx,dependencies:zI,semVer:"3.2.1",version:"3.2.1".split(".").map(t=>parseInt(t)).reduce((t,e,n)=>t+e/Math.pow(10,2*n))}),WI.maxKey=nI(WI.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(Kk("storagemutated",t=>{if(!YI){let e;bk?(e=document.createEvent("CustomEvent"),e.initCustomEvent("x-storagemutated-1",!0,!0,t)):e=new CustomEvent("x-storagemutated-1",{detail:t}),YI=!0,dispatchEvent(e),YI=!1}}),addEventListener("x-storagemutated-1",({detail:t})=>{YI||ZI(t)}));let YI=!1;if("undefined"!=typeof BroadcastChannel){const t=new BroadcastChannel("x-storagemutated-1");Kk("storagemutated",e=>{YI||t.postMessage(e)}),t.onmessage=t=>{t.data&&ZI(t.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){Kk("storagemutated",t=>{try{YI||("undefined"!=typeof localStorage&&localStorage.setItem("x-storagemutated-1",JSON.stringify({trig:Math.random(),changedParts:t})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(e=>e.postMessage({type:"x-storagemutated-1",changedParts:t})))}catch(t){}}),addEventListener("storage",t=>{if("x-storagemutated-1"===t.key){const e=JSON.parse(t.newValue);e&&ZI(e.changedParts)}});const t=self.document&&navigator.serviceWorker;t&&t.addEventListener("message",function({data:t}){t&&"x-storagemutated-1"===t.type&&ZI(t.changedParts)})}AP.rejectionMapper=function(t,e){if(!t||t instanceof Yx||t instanceof TypeError||t instanceof SyntaxError||!t.name||!tP[t.name])return t;var n=new tP[t.name](e||t.message,t);return"stack"in t&&hx(n,"stack",{get:function(){return this.inner.stack}}),n},Ux(Fx,Ck);let qI=(()=>{class t extends VI{constructor(){super("cache"),this.version(t.targetVersion).stores({blueprint:"blueprintId",translations:"locale"})}open(){return this.isOpen()?super.open():VI.Promise.resolve().then(()=>VI.exists(this.name)).then(e=>{if(e)return new VI(this.name).open().then(e=>{if(e.verno===t.targetVersion)return Sm.log("Cache up to date"),e.close();Sm.log(`Database schema out of date, resetting all data. (currentVersion: ${this.verno}, expectedVersion: ${t.targetVersion})`),e.delete()})}).catch(t=>{Sm.error("Opening indexeddb failed with: ",t)}).then(()=>super.open())}clearAll(){return VI.waitFor(Promise.all([this.blueprint.clear(),this.translations.clear()]))}}return t.targetVersion=2,t})();var JI=n(2875),$I=n(2023),KI=n(8402);function XI(t){return function(e){return 0===t?(0,_p.c)():e.lift(new QI(t))}}class QI{constructor(t){if(this.total=t,this.total<0)throw new KI.W}call(t,e){return e.subscribe(new tA(t,this.total))}}class tA extends Fu.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let o=0;o<n;o++){const o=e++%n;t.next(i[o])}}t.complete()}}var eA=n(1564);
/**
 * @license Angular v12.0.4
 * (c) 2010-2021 Google LLC. https://angular.io/
 * License: MIT
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class nA{constructor(t,e){this.id=t,this.url=e}}class iA extends nA{constructor(t,e,n="imperative",i=null){super(t,e),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class oA extends nA{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class rA extends nA{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class sA extends nA{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class aA extends nA{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lA extends nA{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cA extends nA{constructor(t,e,n,i,o){super(t,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class uA extends nA{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hA extends nA{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dA{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pA{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gA{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mA{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fA{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _A{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bA{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const vA="primary";class yA{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function CA(t){return new yA(t)}function OA(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function TA(t,e,n){const i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const o={};for(let r=0;r<i.length;r++){const e=i[r],n=t[r];if(e.startsWith(":"))o[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,i.length),posParams:o}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function EA(t,e){const n=t?Object.keys(t):void 0,i=e?Object.keys(e):void 0;if(!n||!i||n.length!=i.length)return!1;let o;for(let r=0;r<n.length;r++)if(o=n[r],!SA(t[o],e[o]))return!1;return!0}function SA(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),i=[...e].sort();return n.every((t,e)=>i[e]===t)}return t===e}function wA(t){return Array.prototype.concat.apply([],t)}function MA(t){return t.length>0?t[t.length-1]:null}function xA(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function PA(t){return(0,i.CqO)(t)?t:(0,i.QGY)(t)?(0,br.D)(Promise.resolve(t)):(0,ea.of)(t)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const kA={exact:function t(e,n,i){if(!UA(e.segments,n.segments))return!1;if(!LA(e.segments,n.segments,i))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const o in n.children){if(!e.children[o])return!1;if(!t(e.children[o],n.children[o],i))return!1}return!0},subset:RA},IA={exact:function(t,e){return EA(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>SA(t[n],e[n]))},ignored:()=>!0};function AA(t,e,n){return kA[n.paths](t.root,e.root,n.matrixParams)&&IA[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function RA(t,e,n){return DA(t,e,e.segments,n)}function DA(t,e,n,i){if(t.segments.length>n.length){const o=t.segments.slice(0,n.length);return!!UA(o,n)&&!e.hasChildren()&&!!LA(o,n,i)}if(t.segments.length===n.length){if(!UA(t.segments,n))return!1;if(!LA(t.segments,n,i))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!RA(t.children[n],e.children[n],i))return!1}return!0}{const o=n.slice(0,t.segments.length),r=n.slice(t.segments.length);return!!UA(t.segments,o)&&!!LA(t.segments,o,i)&&!!t.children.primary&&DA(t.children.primary,e,r,i)}}function LA(t,e,n){return e.every((e,i)=>IA[n](t[i].parameters,e.parameters))}class NA{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=CA(this.queryParams)),this._queryParamMap}toString(){return jA.serialize(this)}}class BA{constructor(t,e){this.segments=t,this.children=e,this.parent=null,xA(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return HA(this)}}class FA{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=CA(this.parameters)),this._parameterMap}toString(){return $A(this)}}function UA(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class VA{}class GA{parse(t){const e=new eR(t);return new NA(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`/${zA(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${ZA(e)}=${ZA(t)}`).join("&"):`${ZA(e)}=${ZA(n)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${function(t){return encodeURI(t)}(t.fragment)}`:""}`}}const jA=new GA;function HA(t){return t.segments.map(t=>$A(t)).join("/")}function zA(t,e){if(!t.hasChildren())return HA(t);if(e){const e=t.children.primary?zA(t.children.primary,!1):"",n=[];return xA(t.children,(t,e)=>{e!==vA&&n.push(`${e}:${zA(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return xA(t.children,(t,i)=>{i===vA&&(n=n.concat(e(t,i)))}),xA(t.children,(t,i)=>{i!==vA&&(n=n.concat(e(t,i)))}),n}(t,(e,n)=>n===vA?[zA(t.children.primary,!1)]:[`${n}:${zA(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${HA(t)}/${e[0]}`:`${HA(t)}/(${e.join("//")})`}}function WA(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ZA(t){return WA(t).replace(/%3B/gi,";")}function YA(t){return WA(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qA(t){return decodeURIComponent(t)}function JA(t){return qA(t.replace(/\+/g,"%20"))}function $A(t){return`${YA(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${YA(t)}=${YA(e[t])}`).join("")}`;var e}const KA=/^[^\/()?;=#]+/;function XA(t){const e=t.match(KA);return e?e[0]:""}const QA=/^[^=?&#]+/,tR=/^[^?&#]+/;class eR{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new BA([],{}):new BA([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new BA(t,e)),n}parseSegment(){const t=XA(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new FA(qA(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=XA(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=XA(this.remaining);t&&(n=t,this.capture(n))}t[qA(e)]=qA(n)}parseQueryParam(t){const e=function(t){const e=t.match(QA);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(tR);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const i=JA(e),o=JA(n);if(t.hasOwnProperty(i)){let e=t[i];Array.isArray(e)||(e=[e],t[i]=e),e.push(o)}else t[i]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=XA(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let o;n.indexOf(":")>-1?(o=n.substr(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=vA);const r=this.parseChildren();e[o]=1===Object.keys(r).length?r.primary:new BA([],r),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class nR{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=iR(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=iR(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=oR(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return oR(t,this._root).map(t=>t.value)}}function iR(t,e){if(t===e.value)return e;for(const n of e.children){const e=iR(t,n);if(e)return e}return null}function oR(t,e){if(t===e.value)return[e];for(const n of e.children){const i=oR(t,n);if(i.length)return i.unshift(e),i}return[]}class rR{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function sR(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class aR extends nR{constructor(t,e){super(t),this.snapshot=e,pR(this,t)}toString(){return this.snapshot.toString()}}function lR(t,e){const n=function(t,e){const n=new hR([],{},{},"",{},vA,e,null,t.root,-1,{});return new dR("",new rR(n,[]))}(t,e),i=new CS.X([new FA("",{})]),o=new CS.X({}),r=new CS.X({}),s=new CS.X({}),a=new CS.X(""),l=new cR(i,o,s,a,r,vA,e,n.root);return l.snapshot=n.root,new aR(new rR(l,[]),n)}class cR{constructor(t,e,n,i,o,r,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=o,this.outlet=r,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Cr.U)(t=>CA(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Cr.U)(t=>CA(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function uR(t,e="emptyOnly"){const n=t.pathFromRoot;let i=0;if("always"!==e)for(i=n.length-1;i>=1;){const t=n[i],e=n[i-1];if(t.routeConfig&&""===t.routeConfig.path)i--;else{if(e.component)break;i--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class hR{constructor(t,e,n,i,o,r,s,a,l,c,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=o,this.outlet=r,this.component=s,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=CA(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=CA(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class dR extends nR{constructor(t,e){super(e),this.url=t,pR(this,e)}toString(){return gR(this._root)}}function pR(t,e){e.value._routerState=t,e.children.forEach(e=>pR(t,e))}function gR(t){const e=t.children.length>0?` { ${t.children.map(gR).join(", ")} } `:"";return`${t.value}${e}`}function mR(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,EA(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),EA(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!EA(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),EA(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function fR(t,e){var n,i;return EA(t.params,e.params)&&UA(n=t.url,i=e.url)&&n.every((t,e)=>EA(t.parameters,i[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||fR(t.parent,e.parent))}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function _R(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=e.value;const o=function(t,e,n){return e.children.map(e=>{for(const i of n.children)if(t.shouldReuseRoute(e.value,i.value.snapshot))return _R(t,e,i);return _R(t,e)})}(t,e,n);return new rR(i,o)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return bR(e,t),t}}const n=function(t){return new cR(new CS.X(t.url),new CS.X(t.params),new CS.X(t.queryParams),new CS.X(t.fragment),new CS.X(t.data),t.outlet,t.component,t)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(e.value),i=e.children.map(e=>_R(t,e));return new rR(n,i)}}function bR(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)bR(t.children[n],e.children[n])}function vR(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function yR(t){return"object"==typeof t&&null!=t&&t.outlets}function CR(t,e,n,i,o){let r={};return i&&xA(i,(t,e)=>{r[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new NA(n.root===t?e:OR(n.root,t,e),r,o)}function OR(t,e,n){const i={};return xA(t.children,(t,o)=>{i[o]=t===e?n:OR(t,e,n)}),new BA(t.segments,i)}class TR{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&vR(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(yR);if(i&&i!==MA(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ER{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function SR(t,e,n){if(t||(t=new BA([],{})),0===t.segments.length&&t.hasChildren())return wR(t,e,n);const i=function(t,e,n){let i=0,o=e;const r={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(i>=n.length)return r;const e=t.segments[o],s=n[i];if(yR(s))break;const a=`${s}`,l=i<n.length-1?n[i+1]:null;if(o>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!kR(a,l,e))return r;i+=2}else{if(!kR(a,{},e))return r;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}(t,e,n),o=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const e=new BA(t.segments.slice(0,i.pathIndex),{});return e.children.primary=new BA(t.segments.slice(i.pathIndex),t.children),wR(e,0,o)}return i.match&&0===o.length?new BA(t.segments,{}):i.match&&!t.hasChildren()?MR(t,e,n):i.match?wR(t,0,o):MR(t,e,n)}function wR(t,e,n){if(0===n.length)return new BA(t.segments,{});{const i=function(t){return yR(t[0])?t[0].outlets:{[vA]:t}}(n),o={};return xA(i,(n,i)=>{"string"==typeof n&&(n=[n]),null!==n&&(o[i]=SR(t.children[i],e,n))}),xA(t.children,(t,e)=>{void 0===i[e]&&(o[e]=t)}),new BA(t.segments,o)}}function MR(t,e,n){const i=t.segments.slice(0,e);let o=0;for(;o<n.length;){const r=n[o];if(yR(r)){const t=xR(r.outlets);return new BA(i,t)}if(0===o&&vR(n[0])){i.push(new FA(t.segments[e].path,PR(n[0]))),o++;continue}const s=yR(r)?r.outlets.primary:`${r}`,a=o<n.length-1?n[o+1]:null;s&&a&&vR(a)?(i.push(new FA(s,PR(a))),o+=2):(i.push(new FA(s,{})),o++)}return new BA(i,{})}function xR(t){const e={};return xA(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=MR(new BA([],{}),0,t))}),e}function PR(t){const e={};return xA(t,(t,n)=>e[n]=`${t}`),e}function kR(t,e,n){return t==n.path&&EA(e,n.parameters)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class IR{constructor(t,e,n,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),mR(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const i=sR(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,i[e],n),delete i[e]}),xA(i,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const i=t.value,o=e?e.value:null;if(i===o)if(i.component){const o=n.getContext(i.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else o&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:i})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),i=n&&t.value.component?n.children:e,o=sR(t);for(const r of Object.keys(o))this.deactivateRouteAndItsChildren(o[r],i);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const i=sR(e);t.children.forEach(t=>{this.activateRoutes(t,i[t.value.outlet],n),this.forwardEvent(new _A(t.value.snapshot))}),t.children.length&&this.forwardEvent(new mA(t.value.snapshot))}activateRoutes(t,e,n){const i=t.value,o=e?e.value:null;if(mR(i),i===o)if(i.component){const o=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(i.component){const e=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const t=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),AR(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(i.snapshot),o=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=i,e.resolver=o,e.outlet&&e.outlet.activateWith(i,o),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function AR(t){mR(t.value),t.children.forEach(AR)}class RR{constructor(t,e){this.routes=t,this.module=e}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function DR(t){return"function"==typeof t}function LR(t){return t instanceof NA}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const NR=Symbol("INITIAL_VALUE");function BR(){return(0,zu.w)(t=>Hv(t.map(t=>t.pipe((0,vp.q)(1),a_(NR)))).pipe((0,$I.R)((t,e)=>{let n=!1;return e.reduce((t,i,o)=>{if(t!==NR)return t;if(i===NR&&(n=!0),!n){if(!1===i)return i;if(o===e.length-1||LR(i))return i}return t},t)},NR),(0,ia.h)(t=>t!==NR),(0,Cr.U)(t=>LR(t)?t:!0===t),(0,vp.q)(1)))}let FR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&i._UZ(0,"router-outlet")},directives:function(){return[ND]},encapsulation:2}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function UR(t,e=""){for(let n=0;n<t.length;n++){const i=t[n];VR(i,GR(e,i))}}function VR(t,e){t.children&&UR(t.children,e)}function GR(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function jR(t){const e=t.children&&t.children.map(jR),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==vA&&(n.component=FR),n}function HR(t){return t.outlet||vA}function zR(t,e){const n=t.filter(t=>HR(t)===e);return n.push(...t.filter(t=>HR(t)!==e)),n}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const WR={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function ZR(t,e,n){var i;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},WR):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const o=(e.matcher||TA)(n,t,e);if(!o)return Object.assign({},WR);const r={};xA(o.posParams,(t,e)=>{r[e]=t.path});const s=o.consumed.length>0?Object.assign(Object.assign({},r),o.consumed[o.consumed.length-1].parameters):r;return{matched:!0,consumedSegments:o.consumed,lastChild:o.consumed.length,parameters:s,positionalParamSegments:null!==(i=o.posParams)&&void 0!==i?i:{}}}function YR(t,e,n,i,o="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>qR(t,e,n)&&HR(n)!==vA)}(t,n,i)){const o=new BA(e,function(t,e,n,i){const o={};o.primary=i,i._sourceSegment=t,i._segmentIndexShift=e.length;for(const r of n)if(""===r.path&&HR(r)!==vA){const n=new BA([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,o[HR(r)]=n}return o}(t,e,i,new BA(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>qR(t,e,n))}(t,n,i)){const r=new BA(t.segments,function(t,e,n,i,o,r){const s={};for(const a of i)if(qR(t,n,a)&&!o[HR(a)]){const n=new BA([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===r?t.segments.length:e.length,s[HR(a)]=n}return Object.assign(Object.assign({},o),s)}(t,e,n,i,t.children,o));return r._sourceSegment=t,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:n}}const r=new BA(t.segments,t.children);return r._sourceSegment=t,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:n}}function qR(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function JR(t,e,n,i){return!!(HR(t)===i||i!==vA&&qR(e,n,t))&&("**"===t.path||ZR(e,t,n).matched)}function $R(t,e,n){return 0===e.length&&!t.children[n]}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class KR{constructor(t){this.segmentGroup=t||null}}class XR{constructor(t){this.urlTree=t}}function QR(t){return new vr.y(e=>e.error(new KR(t)))}function tD(t){return new vr.y(e=>e.error(new XR(t)))}function eD(t){return new vr.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class nD{constructor(t,e,n,o,r){this.configLoader=e,this.urlSerializer=n,this.urlTree=o,this.config=r,this.allowRedirects=!0,this.ngModule=t.get(i.h0i)}apply(){const t=YR(this.urlTree.root,[],[],this.config).segmentGroup,e=new BA(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,vA).pipe((0,Cr.U)(t=>this.createUrlTree(iD(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,qp.K)(t=>{if(t instanceof XR)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof KR)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,vA).pipe((0,Cr.U)(e=>this.createUrlTree(iD(e),t.queryParams,t.fragment))).pipe((0,qp.K)(t=>{if(t instanceof KR)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const i=t.segments.length>0?new BA([],{[vA]:t}):t;return new NA(i,e,n)}expandSegmentGroup(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe((0,Cr.U)(t=>new BA([],t))):this.expandSegment(t,n,e,n.segments,i,!0)}expandChildren(t,e,n){const i=[];for(const o of Object.keys(n.children))"primary"===o?i.unshift(o):i.push(o);return(0,br.D)(i).pipe((0,na.b)(i=>{const o=n.children[i],r=zR(e,i);return this.expandSegmentGroup(t,r,o,i).pipe((0,Cr.U)(t=>({segment:t,outlet:i})))}),(0,$I.R)((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return i=>i.pipe(t?(0,ia.h)((e,n)=>t(e,n,i)):Jg.y,XI(1),n?jg(e):Wg(()=>new Gg))}())}expandSegment(t,e,n,i,o,r){return(0,br.D)(n).pipe((0,na.b)(s=>this.expandSegmentAgainstRoute(t,e,n,s,i,o,r).pipe((0,qp.K)(t=>{if(t instanceof KR)return(0,ea.of)(null);throw t}))),$g(t=>!!t),(0,qp.K)((t,n)=>{if(t instanceof Gg||"EmptyError"===t.name){if($R(e,i,o))return(0,ea.of)(new BA([],{}));throw new KR(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,i,o,r,s){return JR(i,e,o,r)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,o,r):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,o,r):QR(e):QR(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,i,o,r){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,r):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,o,r)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,i){const o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?tD(o):this.lineralizeSegments(n,o).pipe((0,ng.zg)(n=>{const o=new BA(n,{});return this.expandSegment(t,o,e,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,o,r){const{matched:s,consumedSegments:a,lastChild:l,positionalParamSegments:c}=ZR(e,i,o);if(!s)return QR(e);const u=this.applyRedirectCommands(a,i.redirectTo,c);return i.redirectTo.startsWith("/")?tD(u):this.lineralizeSegments(i,u).pipe((0,ng.zg)(i=>this.expandSegment(t,e,n,i.concat(o.slice(l)),r,!1)))}matchSegmentAgainstRoute(t,e,n,i,o){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,ea.of)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe((0,Cr.U)(t=>(n._loadedConfig=t,new BA(i,{})))):(0,ea.of)(new BA(i,{}));const{matched:r,consumedSegments:s,lastChild:a}=ZR(e,n,i);if(!r)return QR(e);const l=i.slice(a);return this.getChildConfig(t,n,i).pipe((0,ng.zg)(t=>{const i=t.module,r=t.routes,{segmentGroup:a,slicedSegments:c}=YR(e,s,l,r),u=new BA(a.segments,a.children);if(0===c.length&&u.hasChildren())return this.expandChildren(i,r,u).pipe((0,Cr.U)(t=>new BA(s,t)));if(0===r.length&&0===c.length)return(0,ea.of)(new BA(s,{}));const h=HR(n)===o;return this.expandSegment(i,u,r,c,h?vA:o,!0).pipe((0,Cr.U)(t=>new BA(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?(0,ea.of)(new RR(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,ea.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe((0,ng.zg)(n=>n?this.configLoader.load(t.injector,e).pipe((0,Cr.U)(t=>(e._loadedConfig=t,t))):function(t){return new vr.y(e=>e.error(OA(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):(0,ea.of)(new RR([],t))}runCanLoadGuards(t,e,n){const i=e.canLoad;if(!i||0===i.length)return(0,ea.of)(!0);const o=i.map(i=>{const o=t.get(i);let r;if(function(t){return t&&DR(t.canLoad)}(o))r=o.canLoad(e,n);else{if(!DR(o))throw new Error("Invalid CanLoad guard");r=o(e,n)}return PA(r)});return(0,ea.of)(o).pipe(BR(),Gu(t=>{if(!LR(t))return;const e=OA(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),(0,Cr.U)(t=>!0===t))}lineralizeSegments(t,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return(0,ea.of)(n);if(i.numberOfChildren>1||!i.children.primary)return eD(t.redirectTo);i=i.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,i){const o=this.createSegmentGroup(t,e.root,n,i);return new NA(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return xA(t,(t,i)=>{if("string"==typeof t&&t.startsWith(":")){const o=t.substring(1);n[i]=e[o]}else n[i]=t}),n}createSegmentGroup(t,e,n,i){const o=this.createSegments(t,e.segments,n,i);let r={};return xA(e.children,(e,o)=>{r[o]=this.createSegmentGroup(t,e,n,i)}),new BA(o,r)}createSegments(t,e,n,i){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,i):this.findOrReturn(e,n))}findPosParam(t,e,n){const i=n[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let n=0;for(const i of e){if(i.path===t.path)return e.splice(n),i;n++}return t}}function iD(t){const e={};for(const n of Object.keys(t.children)){const i=iD(t.children[n]);(i.segments.length>0||i.hasChildren())&&(e[n]=i)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new BA(t.segments.concat(e.segments),e.children)}return t}(new BA(t.segments,e))}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class oD{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class rD{constructor(t,e){this.component=t,this.route=e}}function sD(t,e,n){const i=t._root;return lD(i,e?e._root:null,n,[i.value])}function aD(t,e,n){const i=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function lD(t,e,n,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const r=sR(e);return t.children.forEach(t=>{!function(t,e,n,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const r=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&r.routeConfig===s.routeConfig){const l=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!UA(t.url,e.url);case"pathParamsOrQueryParamsChange":return!UA(t.url,e.url)||!EA(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fR(t,e)||!EA(t.queryParams,e.queryParams);case"paramsChange":default:return!fR(t,e)}}(s,r,r.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new oD(i)):(r.data=s.data,r._resolvedData=s._resolvedData),lD(t,e,r.component?a?a.children:null:n,i,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new rD(a.outlet.component,s))}else s&&cD(e,a,o),o.canActivateChecks.push(new oD(i)),lD(t,null,r.component?a?a.children:null:n,i,o)}(t,r[t.value.outlet],n,i.concat([t.value]),o),delete r[t.value.outlet]}),xA(r,(t,e)=>cD(t,n.getContext(e),o)),o}function cD(t,e,n){const i=sR(t),o=t.value;xA(i,(t,i)=>{cD(t,o.component?e?e.children.getContext(i):null:e,n)}),n.canDeactivateChecks.push(new rD(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
class uD{}function hD(t){return new vr.y(e=>e.error(t))}class dD{constructor(t,e,n,i,o,r){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=r}recognize(){const t=YR(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,vA);if(null===e)return null;const n=new hR([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},vA,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new rR(n,e),o=new dR(this.url,i);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(t){const e=t.value,n=uR(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const o of Object.keys(e.children)){const i=e.children[o],r=zR(t,o),s=this.processSegmentGroup(r,i,o);if(null===s)return null;n.push(...s)}const i=gD(n);return i.sort((t,e)=>t.value.outlet===vA?-1:e.value.outlet===vA?1:t.value.outlet.localeCompare(e.value.outlet)),i}processSegment(t,e,n,i){for(const o of t){const t=this.processSegmentAgainstRoute(o,e,n,i);if(null!==t)return t}return $R(e,n,i)?[]:null}processSegmentAgainstRoute(t,e,n,i){if(t.redirectTo||!JR(t,e,n,i))return null;let o,r=[],s=[];if("**"===t.path){const i=n.length>0?MA(n).parameters:{};o=new hR(n,i,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_D(t),HR(t),t.component,t,mD(e),fD(e)+n.length,bD(t))}else{const i=ZR(e,t,n);if(!i.matched)return null;r=i.consumedSegments,s=n.slice(i.lastChild),o=new hR(r,i.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_D(t),HR(t),t.component,t,mD(e),fD(e)+r.length,bD(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:l,slicedSegments:c}=YR(e,r,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const t=this.processChildren(a,l);return null===t?null:[new rR(o,t)]}if(0===a.length&&0===c.length)return[new rR(o,[])];const u=HR(t)===i,h=this.processSegment(a,l,c,u?vA:i);return null===h?null:[new rR(o,h)]}}function pD(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function gD(t){const e=[],n=new Set;for(const i of t){if(!pD(i)){e.push(i);continue}const t=e.find(t=>i.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...i.children),n.add(t)):e.push(i)}for(const i of n){const t=gD(i.children);e.push(new rR(i.value,t))}return e.filter(t=>!n.has(t))}function mD(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function fD(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function _D(t){return t.data||{}}function bD(t){return t.resolve||{}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function vD(t){return(0,zu.w)(e=>{const n=t(e);return n?(0,br.D)(n).pipe((0,Cr.U)(()=>e)):(0,ea.of)(e)})}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class yD extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const CD=new i.OlP("ROUTES");class OD{constructor(t,e,n,i){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe((0,Cr.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const o=n.create(t);return new RR(wA(o.injector.get(CD,void 0,i.XFs.Self|i.XFs.Optional)).map(jR),o)}),(0,qp.K)(t=>{throw e._loader$=void 0,t}));return e._loader$=new JI.c(n,()=>new jp.xQ).pipe((0,eA.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,br.D)(this.loader.load(t)):PA(t()).pipe((0,ng.zg)(t=>t instanceof i.YKP?(0,ea.of)(t):(0,br.D)(this.compiler.compileModuleAsync(t))))}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class TD{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ED,this.attachRef=null}}class ED{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new TD,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class SD{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function wD(t){throw t}function MD(t,e,n){return e.parse("/")}function xD(t,e){return(0,ea.of)(null)}const PD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ID=(()=>{class t{constructor(t,e,n,o,r,s,a,l){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=o,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new jp.xQ,this.errorHandler=wD,this.malformedUriErrorHandler=MD,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:xD,afterPreactivation:xD},this.urlHandlingStrategy=new SD,this.routeReuseStrategy=new yD,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=r.get(i.h0i),this.console=r.get(i.c2e);const c=r.get(i.R0b);this.isNgZoneEnabled=c instanceof i.R0b&&i.R0b.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=new NA(new BA([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new OD(s,a,t=>this.triggerEvent(new dA(t)),t=>this.triggerEvent(new pA(t))),this.routerState=lR(this.currentUrlTree,this.rootComponentType),this.transitions=new CS.X({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe((0,ia.h)(t=>0!==t.id),(0,Cr.U)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),(0,zu.w)(t=>{let n=!1,i=!1;return(0,ea.of)(t).pipe(Gu(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,zu.w)(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return(0,ea.of)(t).pipe((0,zu.w)(t=>{const n=this.transitions.getValue();return e.next(new iA(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?_p.E:Promise.resolve(t)}),(i=this.ngModule.injector,o=this.configLoader,r=this.urlSerializer,s=this.config,(0,zu.w)(t=>function(t,e,n,i,o){return new nD(t,e,n,i,o).apply()}(i,o,r,t.extractedUrl,s).pipe((0,Cr.U)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Gu(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,i,o){return(0,ng.zg)(r=>function(t,e,n,i,o="emptyOnly",r="legacy"){try{const s=new dD(t,e,n,i,o,r).recognize();return null===s?hD(new uD):(0,ea.of)(s)}catch(nx){return hD(nx)}}(t,e,r.urlAfterRedirects,n(r.urlAfterRedirects),i,o).pipe((0,Cr.U)(t=>Object.assign(Object.assign({},r),{targetSnapshot:t}))))}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Gu(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new aA(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var i,o,r,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:i,source:o,restoredState:r,extras:s}=t,a=new iA(n,this.serializeUrl(i),o,r);e.next(a);const l=lR(i,this.rootComponentType).snapshot;return(0,ea.of)(Object.assign(Object.assign({},t),{targetSnapshot:l,urlAfterRedirects:i,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),_p.E}),vD(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:o,extras:{skipLocationChange:r,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!r,replaceUrl:!!s})}),Gu(t=>{const e=new lA(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(0,Cr.U)(t=>Object.assign(Object.assign({},t),{guards:sD(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return(0,ng.zg)(n=>{const{targetSnapshot:i,currentSnapshot:o,guards:{canActivateChecks:r,canDeactivateChecks:s}}=n;return 0===s.length&&0===r.length?(0,ea.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,i){return(0,br.D)(t).pipe((0,ng.zg)(t=>function(t,e,n,i,o){const r=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!r||0===r.length)return(0,ea.of)(!0);const s=r.map(r=>{const s=aD(r,e,o);let a;if(function(t){return t&&DR(t.canDeactivate)}(s))a=PA(s.canDeactivate(t,e,n,i));else{if(!DR(s))throw new Error("Invalid CanDeactivate guard");a=PA(s(t,e,n,i))}return a.pipe($g())});return(0,ea.of)(s).pipe(BR())}(t.component,t.route,n,e,i)),$g(t=>!0!==t,!0))}(s,i,o,t).pipe((0,ng.zg)(n=>n&&function(t){return"boolean"==typeof t}(n)?function(t,e,n,i){return(0,br.D)(e).pipe((0,na.b)(e=>fp(function(t,e){return null!==t&&e&&e(new gA(t)),(0,ea.of)(!0)}(e.route.parent,i),function(t,e){return null!==t&&e&&e(new fA(t)),(0,ea.of)(!0)}(e.route,i),function(t,e,n){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>bp(()=>{const o=e.guards.map(o=>{const r=aD(o,e.node,n);let s;if(function(t){return t&&DR(t.canActivateChild)}(r))s=PA(r.canActivateChild(i,t));else{if(!DR(r))throw new Error("Invalid CanActivateChild guard");s=PA(r(i,t))}return s.pipe($g())});return(0,ea.of)(o).pipe(BR())}));return(0,ea.of)(o).pipe(BR())}(t,e.path,n),function(t,e,n){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return(0,ea.of)(!0);const o=i.map(i=>bp(()=>{const o=aD(i,e,n);let r;if(function(t){return t&&DR(t.canActivate)}(o))r=PA(o.canActivate(e,t));else{if(!DR(o))throw new Error("Invalid CanActivate guard");r=PA(o(e,t))}return r.pipe($g())}));return(0,ea.of)(o).pipe(BR())}(t,e.route,n))),$g(t=>!0!==t,!0))}(i,r,t,e):(0,ea.of)(n)),(0,Cr.U)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Gu(t=>{if(LR(t.guardsResult)){const e=OA(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new cA(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),(0,ia.h)(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new rA(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),vD(t=>{if(t.guards.canActivateChecks.length)return(0,ea.of)(t).pipe(Gu(t=>{const e=new uA(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(0,zu.w)(t=>{let n=!1;return(0,ea.of)(t).pipe((i=this.paramsInheritanceStrategy,o=this.ngModule.injector,(0,ng.zg)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return(0,ea.of)(t);let r=0;return(0,br.D)(n).pipe((0,na.b)(t=>function(t,e,n,i){return function(t,e,n,i){const o=Object.keys(t);if(0===o.length)return(0,ea.of)({});const r={};return(0,br.D)(o).pipe((0,ng.zg)(o=>function(t,e,n,i){const o=aD(t,e,i);return PA(o.resolve?o.resolve(e,n):o(e,n))}(t[o],e,n,i).pipe(Gu(t=>{r[o]=t}))),XI(1),(0,ng.zg)(()=>Object.keys(r).length===o.length?(0,ea.of)(r):_p.E))}(t._resolve,t,e,i).pipe((0,Cr.U)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),uR(t,n).resolve),null)))}(t.route,e,i,o)),Gu(()=>r++),XI(1),(0,ng.zg)(e=>r===n.length?(0,ea.of)(t):_p.E))})),Gu({next:()=>n=!0,complete:()=>{if(!n){const n=new rA(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var i,o}),Gu(t=>{const e=new hA(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),vD(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:o,extras:{skipLocationChange:r,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!r,replaceUrl:!!s})}),(0,Cr.U)(t=>{const e=function(t,e,n){const i=_R(t,e._root,n?n._root:void 0);return new aR(i,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Gu(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,r=this.routeReuseStrategy,s=t=>this.triggerEvent(t),(0,Cr.U)(t=>(new IR(r,t.targetRouterState,t.currentRouterState,s).activate(o),t))),Gu({next(){n=!0},complete(){n=!0}}),BT(()=>{if(!n&&!i){this.resetUrlToCurrentUrlTree();const n=new rA(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),(0,qp.K)(n=>{if(i=!0,(o=n)&&o.ngNavigationCancelingError){const i=LR(n.url);i||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const o=new rA(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(o),i?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const i=new sA(t.id,this.serializeUrl(t.extractedUrl),n);e.next(i);try{t.resolve(this.errorHandler(n))}catch(nP){t.reject(nP)}}var o;return _p.E}));var o,r,s}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:i}=e,o={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(o.state=t)}this.scheduleNavigation(i,t,n,o)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){UR(t),this.config=t.map(jR),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:o,queryParamsHandling:r,preserveFragment:s}=e,a=n||this.routerState.root,l=s?this.currentUrlTree.fragment:o;let c=null;switch(r){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=i||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,i,o){if(0===n.length)return CR(e.root,e.root,e,i,o);const r=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new TR(!0,0,t);let e=0,n=!1;const i=t.reduce((t,i,o)=>{if("object"==typeof i&&null!=i){if(i.outlets){const e={};return xA(i.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(i.segmentPath)return[...t,i.segmentPath]}return"string"!=typeof i?[...t,i]:0===o?(i.split("/").forEach((i,o)=>{0==o&&"."===i||(0==o&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):[...t,i]},[]);return new TR(n,e,i)}(n);if(r.toRoot())return CR(e.root,new BA([],{}),e,i,o);const s=function(t,e,n){if(t.isAbsolute)return new ER(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new ER(t,t===e.root,0)}const i=vR(t.commands[0])?0:1;return function(t,e,n){let i=t,o=e,r=n;for(;r>o;){if(r-=o,i=i.parent,!i)throw new Error("Invalid number of '../'");o=i.segments.length}return new ER(i,!1,o-r)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(r,e,t),a=s.processChildren?wR(s.segmentGroup,s.index,r.commands):SR(s.segmentGroup,s.index,r.commands);return CR(s.segmentGroup,a,e,i,o)}(a,this.currentUrlTree,t,c,null!=l?l:null)}navigateByUrl(t,e={skipLocationChange:!1}){const n=LR(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(nx){e=this.malformedUriErrorHandler(nx,this.urlSerializer,t)}return e}isActive(t,e){let n;if(n=!0===e?Object.assign({},PD):!1===e?Object.assign({},kD):e,LR(t))return AA(this.currentUrlTree,t,n);const i=this.parseUrl(t);return AA(this.currentUrlTree,i,n)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const i=t[n];return null!=i&&(e[n]=i),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new oA(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,i,o){if(this.disposed)return Promise.resolve(!1);const r=this.getTransition(),s="imperative"!==e&&"imperative"===(null==r?void 0:r.source),a=(this.lastSuccessfulId===r.id||this.currentNavigation?r.rawUrl:r.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let l,c,u;o?(l=o.resolve,c=o.reject,u=o.promise):u=new Promise((t,e)=>{l=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,i){const o=this.urlSerializer.serialize(t);i=i||{},this.location.isCurrentPathEqualTo(o)||e?this.location.replaceState(o,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(o,"",Object.assign(Object.assign({},i),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.DyG),i.LFG(VA),i.LFG(ED),i.LFG(C),i.LFG(i.zs3),i.LFG(i.v3s),i.LFG(i.Sil),i.LFG(void 0))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),AD=(()=>{class t{constructor(t,e,n,i,o){this.router=t,this.route=e,this.commands=[],this.onChanges=new jp.xQ,null==n&&i.setAttribute(o.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:DD(this.skipLocationChange),replaceUrl:DD(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:DD(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(ID),i.Y36(cR),i.$8M("tabindex"),i.Y36(i.Qsj),i.Y36(i.SBq))},t.\u0275dir=i.lG2({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&i.NdJ("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[i.TTD]}),t})(),RD=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new jp.xQ,this.subscription=t.events.subscribe(t=>{t instanceof oA&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,i,o){if(0!==t||e||n||i||o)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const r={skipLocationChange:DD(this.skipLocationChange),replaceUrl:DD(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,r),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:DD(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(ID),i.Y36(cR),i.Y36(f))},t.\u0275dir=i.lG2({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&i.NdJ("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(i.Ikx("href",e.href,i.LSH),i.uIk("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[i.TTD]}),t})();function DD(t){return""===t||!!t}let LD=(()=>{class t{constructor(t,e,n,i,o,r){this.router=t,this.element=e,this.renderer=n,this.cdr=i,this.link=o,this.linkWithHref=r,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof oA&&this.update()})}ngAfterContentInit(){(0,ea.of)(this.links.changes,this.linksWithHrefs.changes,(0,ea.of)(null)).pipe((0,mp.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=(0,br.D)(e).pipe((0,mp.J)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){const e="paths"in this.routerLinkActiveOptions?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return n=>t.isActive(n.urlTree,e)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(ID),i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(i.sBO),i.Y36(AD,8),i.Y36(RD,8))},t.\u0275dir=i.lG2({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){if(1&t&&(i.Suo(n,AD,5),i.Suo(n,RD,5)),2&t){let t;i.iGM(t=i.CRH())&&(e.links=t),i.iGM(t=i.CRH())&&(e.linksWithHrefs=t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[i.TTD]}),t})(),ND=(()=>{class t{constructor(t,e,n,o,r){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.vpe,this.deactivateEvents=new i.vpe,this.name=o||vA,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,o=new BD(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,o),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(ED),i.Y36(i.s_b),i.Y36(i._Vd),i.$8M("name"),i.Y36(i.sBO))},t.\u0275dir=i.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class BD{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===cR?this.route:t===ED?this.childContexts:this.parent.get(t,e)}}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */class FD{}class UD{preload(t,e){return(0,ea.of)(null)}}let VD=(()=>{class t{constructor(t,e,n,i,o){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=new OD(e,n,e=>t.triggerEvent(new dA(e)),e=>t.triggerEvent(new pA(e)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,ia.h)(t=>t instanceof oA),(0,na.b)(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(i.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const i of e)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const t=i._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(t,i)):i.children&&n.push(this.processRoutes(t,i.children));return(0,br.D)(n).pipe((0,mp.J)(),(0,Cr.U)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?(0,ea.of)(e._loadedConfig):this.loader.load(t.injector,e)).pipe((0,ng.zg)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(ID),i.LFG(i.v3s),i.LFG(i.Sil),i.LFG(i.zs3),i.LFG(FD))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),GD=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof iA?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof oA&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof bA&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new bA(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(ID),i.LFG(K),i.LFG(void 0))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
const jD=new i.OlP("ROUTER_CONFIGURATION"),HD=new i.OlP("ROUTER_FORROOT_GUARD"),zD=[C,{provide:VA,useClass:GA},{provide:ID,useFactory:function(t,e,n,i,o,r,s,a={},l,c){const u=new ID(null,t,e,n,i,o,r,wA(s));return l&&(u.urlHandlingStrategy=l),c&&(u.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,u),a.enableTracing&&u.events.subscribe(t=>{var e,n;null===(e=console.group)||void 0===e||e.call(console,`Router Event: ${t.constructor.name}`),console.log(t.toString()),console.log(t),null===(n=console.groupEnd)||void 0===n||n.call(console)}),u},deps:[VA,ED,C,i.zs3,i.v3s,i.Sil,CD,jD,[class{},new i.FiY],[class{},new i.FiY]]},ED,{provide:cR,useFactory:function(t){return t.routerState.root},deps:[ID]},{provide:i.v3s,useClass:i.EAV},VD,UD,class{preload(t,e){return e().pipe((0,qp.K)(()=>(0,ea.of)(null)))}},{provide:jD,useValue:{enableTracing:!1}}];function WD(){return new i.PXZ("Router",ID)}let ZD=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[zD,$D(e),{provide:HD,useFactory:JD,deps:[[ID,new i.FiY,new i.tp0]]},{provide:jD,useValue:n||{}},{provide:f,useFactory:qD,deps:[a,[new i.tBr(b),new i.FiY],jD]},{provide:GD,useFactory:YD,deps:[ID,K,jD]},{provide:FD,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:UD},{provide:i.PXZ,multi:!0,useFactory:WD},[KD,{provide:i.ip1,multi:!0,useFactory:XD,deps:[KD]},{provide:tL,useFactory:QD,deps:[KD]},{provide:i.tb,multi:!0,useExisting:tL}]]}}static forChild(e){return{ngModule:t,providers:[$D(e)]}}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(HD,8),i.LFG(ID,8))},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})();function YD(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new GD(t,e,n)}function qD(t,e,n={}){return n.useHash?new y(t,e):new v(t,e)}function JD(t){return"guarded"}function $D(t){return[{provide:i.deG,multi:!0,useValue:t},{provide:CD,multi:!0,useValue:t}]}let KD=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new jp.xQ}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(ID),i=this.injector.get(jD);return"disabled"===i.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,ea.of)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(jD),n=this.injector.get(VD),o=this.injector.get(GD),r=this.injector.get(ID),s=this.injector.get(i.z2F);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||r.initialNavigation(),n.setUpPreloading(),o.init(),r.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.zs3))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();function XD(t){return t.appInitializer.bind(t)}function QD(t){return t.bootstrapListener.bind(t)}const tL=new i.OlP("Router Initializer");var eL=function(t){return t[t.USER_BIT_UNSPECIFIED=0]="USER_BIT_UNSPECIFIED",t[t.USER_BIT_ACCEPTED_TOS=1]="USER_BIT_ACCEPTED_TOS",t[t.USER_BIT_ENABLE_USERSHARING=2]="USER_BIT_ENABLE_USERSHARING",t[t.USER_BIT_ENABLE_CRASHREPORTS=3]="USER_BIT_ENABLE_CRASHREPORTS",t[t.USER_BIT_COMPLETED_TUTORIAL=4]="USER_BIT_COMPLETED_TUTORIAL",t[t.USER_BIT_CLIENT_ENABLE_USAGESHARING=5]="USER_BIT_CLIENT_ENABLE_USAGESHARING",t}({});let nL=(()=>{class t{constructor(e){this.authCode=(e=e||{}).authCode,this.redirectUri=e.redirectUri,this.product=e.product,this.firstPartyId=e.firstPartyId,this.platform=e.platform,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.authCode=t.authCode||"",t.redirectUri=t.redirectUri||"",t.product=t.product||"",t.firstPartyId=t.firstPartyId||"",t.platform=t.platform||0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.authCode=n.readString();break;case 2:e.redirectUri=n.readString();break;case 3:e.product=n.readString();break;case 4:e.firstPartyId=n.readString();break;case 5:e.platform=n.readEnum();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.authCode&&e.writeString(1,t.authCode),t.redirectUri&&e.writeString(2,t.redirectUri),t.product&&e.writeString(3,t.product),t.firstPartyId&&e.writeString(4,t.firstPartyId),t.platform&&e.writeEnum(5,t.platform)}get authCode(){return this._authCode}set authCode(t){this._authCode=t}get redirectUri(){return this._redirectUri}set redirectUri(t){this._redirectUri=t}get product(){return this._product}set product(t){this._product=t}get firstPartyId(){return this._firstPartyId}set firstPartyId(t){this._firstPartyId=t}get platform(){return this._platform}set platform(t){this._platform=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{authCode:this.authCode,redirectUri:this.redirectUri,product:this.product,firstPartyId:this.firstPartyId,platform:this.platform}}toJSON(){return this.toObject()}toProtobufJSON(t){var e;return{authCode:this.authCode,redirectUri:this.redirectUri,product:this.product,firstPartyId:this.firstPartyId,platform:JS[null!==(e=this.platform)&&void 0!==e?e:0]}}}return t.id="web.authentication.AuthCodeAuthentication",t})(),iL=(()=>{class t{constructor(e){this.sessionId=(e=e||{}).sessionId,this.player=e.player?new KS(e.player):void 0,this.userBits=(e.userBits||[]).slice(),t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.sessionId=t.sessionId||"",t.player=t.player||void 0,t.userBits=t.userBits||[]}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.sessionId=n.readString();break;case 3:e.player=new KS,n.readMessage(e.player,KS.deserializeBinaryFromReader);break;case 4:(e.userBits=e.userBits||[]).push(...n.readPackedEnum()||[]);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.sessionId&&e.writeString(1,t.sessionId),t.player&&e.writeMessage(3,t.player,KS.serializeBinaryToWriter),t.userBits&&t.userBits.length&&e.writePackedEnum(4,t.userBits)}get sessionId(){return this._sessionId}set sessionId(t){this._sessionId=t}get player(){return this._player}set player(t){this._player=t}get userBits(){return this._userBits}set userBits(t){this._userBits=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{sessionId:this.sessionId,player:this.player?this.player.toObject():void 0,userBits:(this.userBits||[]).slice()}}toJSON(){return this.toObject()}toProtobufJSON(t){return{sessionId:this.sessionId,player:this.player?this.player.toProtobufJSON(t):null,userBits:(this.userBits||[]).map(t=>eL[t])}}}return t.id="web.authentication.AuthenticationResponse",t})();const oL=new i.OlP("GRPC_AUTHENTICATION_CLIENT_SETTINGS");let rL=(()=>{class t{constructor(t,e,n){this.handler=n,this.$raw={viaAuthCode:(t,e=new Nu)=>this.handler.handle({type:Ru.unary,client:this.client,path:"/web.authentication.Authentication/viaAuthCode",requestData:t,requestMetadata:e,requestClass:nL,responseClass:iL}),logout:(t,e=new Nu)=>this.handler.handle({type:Ru.unary,client:this.client,path:"/web.authentication.Authentication/logout",requestData:t,requestMetadata:e,requestClass:ew,responseClass:ew})},this.client=e.createClient("web.authentication.Authentication",t)}viaAuthCode(t,e=new Nu){return this.$raw.viaAuthCode(t,e).pipe(Qu(),th())}logout(t,e=new Nu){return this.$raw.logout(t,e).pipe(Qu(),th())}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(oL,8),i.LFG(Zu),i.LFG(qu))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const sL=Sm.get("session");let aL=(()=>{class t{constructor(t,e){this.clientAuthenticationClient=t,this.store=e}handleError(t="operation",e){return t=>(sL.error(t),(0,ea.of)(null!=e?e:{}))}authViaCode(t,e=function(t){const e=jm().toLowerCase();return`${rm}${e&&"/"+e}/login`}()){const n=new nL({authCode:t,redirectUri:e,platform:JS.PC});return this.clientAuthenticationClient.viaAuthCode(n,new Nu({"x-dice-tenancy":Qg})).pipe((0,qp.K)(this.handleError("authViaCode")))}logout(t){const e=new ew;return this.clientAuthenticationClient.logout(e,new Nu({"x-gateway-session-id":t,"x-dice-tenancy":Qg})).pipe((0,qp.K)(this.handleError("logout")))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(rL),i.LFG(Vp.yh))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function lL(t){return`/2384652/${t=t.replace(/^\/+/g,"")}`}const cL={MY_EXPERIENCES:0,ALL:1,CONQUEST_LARGE:2,CONQUEST_SMALL:3,RUSH:4,CUSTOM:5},uL=(0,Vp.PH)("[EDITOR] SET_HAS_CHANGES",(0,Vp.Ky)()),hL=(0,Vp.PH)("[EDITOR] SET_HAS_UNSAVED_CHANGES",(0,Vp.Ky)()),dL=(0,Vp.PH)("[EDITOR] SET_FFA_HAS_CHANGES",(0,Vp.Ky)()),pL=(0,Vp.PH)("[EDITOR] RESET_SERIES"),gL=(0,Vp.PH)("[EDITOR] RESET_ITEM_CHANGES",(0,Vp.Ky)()),mL=(0,Vp.PH)("[EDITOR] SET_TEAM1_HAS_CHANGES",(0,Vp.Ky)()),fL=(0,Vp.PH)("[EDITOR] SET_TEAM2_HAS_CHANGES",(0,Vp.Ky)()),_L=t=>e=>e[t],bL=t=>{let e=!1,n=!1,i=!1,o=!1,r=!1;return Object.values(t.tabs).forEach(t=>{e||(e=t.team1HasChanges||t.team2HasChanges),n||(n=t.hasUnsavedChanges),i||(i=t.ffaHasChanges),o||(o=t.team1HasChanges),r||(r=t.team2HasChanges)}),Object.assign(Object.assign({},t),{hasChanges:e,hasUnsavedChanges:n,ffaHasChanges:i,team1HasChanges:o,team2HasChanges:r})},vL={hasUnsavedChanges:!1,ffaHasChanges:!1,team1HasChanges:!1,team2HasChanges:!1},yL="series",CL={hasChanges:!1,hasUnsavedChanges:!1,ffaHasChanges:!1,team1HasChanges:!1,team2HasChanges:!1,tabs:{character:vL,weapon:vL,vehicle:vL,gadget:vL,attachment:vL}},OL=(0,Vp.Lq)(CL,(0,Vp.on)(uL,(t,{newValue:e})=>Object.assign(Object.assign({},t),{hasChanges:e})),(0,Vp.on)(hL,(t,{key:e,newValue:n})=>e?bL(Object.assign(Object.assign({},t),{tabs:Object.assign(Object.assign({},t.tabs),{[e]:Object.assign(Object.assign({},_L(e)(t.tabs)),{hasUnsavedChanges:n})})})):Object.assign(Object.assign({},t),{hasUnsavedChanges:n})),(0,Vp.on)(dL,(t,{key:e,newValue:n})=>e?bL(Object.assign(Object.assign({},t),{tabs:Object.assign(Object.assign({},t.tabs),{[e]:Object.assign(Object.assign({},_L(e)(t.tabs)),{ffaHasChanges:n})})})):Object.assign(Object.assign({},t),{ffaHasChanges:n})),(0,Vp.on)(mL,(t,{key:e,newValue:n})=>e?bL(Object.assign(Object.assign({},t),{tabs:Object.assign(Object.assign({},t.tabs),{[e]:Object.assign(Object.assign({},_L(e)(t.tabs)),{team1HasChanges:n})})})):Object.assign(Object.assign({},t),{hasChanges:t.team2HasChanges&&n,team1HasChanges:n})),(0,Vp.on)(fL,(t,{key:e,newValue:n})=>e?bL(Object.assign(Object.assign({},t),{tabs:Object.assign(Object.assign({},t.tabs),{[e]:Object.assign(Object.assign({},_L(e)(t.tabs)),{team2HasChanges:n})})})):Object.assign(Object.assign({},t),{hasChanges:t.team1HasChanges&&n,team2HasChanges:n})),(0,Vp.on)(pL,()=>CL),(0,Vp.on)(gL,(t,{key:e})=>bL(Object.assign(Object.assign({},t),{tabs:Object.assign(Object.assign({},t.tabs),{[e]:vL})})))),TL=(t=CL,e)=>OL(t,e),EL=(0,Vp.ZF)(yL),SL=((0,Vp.ZF)("tabs"),(0,Vp.P1)(EL,t=>t.hasChanges),(0,Vp.P1)(EL,t=>t.hasUnsavedChanges)),wL=(0,Vp.P1)(EL,t=>t.ffaHasChanges),ML=(0,Vp.P1)(EL,t=>t.team1HasChanges),xL=(0,Vp.P1)(EL,t=>t.team2HasChanges),PL=((0,Vp.P1)(EL,(t,e)=>_L(e)(t.tabs).team1HasChanges||_L(e)(t.tabs).team2HasChanges),(0,Vp.P1)(EL,(t,e)=>_L(e)(t.tabs).ffaHasChanges)),kL=(0,Vp.P1)(EL,(t,e)=>_L(e)(t.tabs).team1HasChanges),IL=(0,Vp.P1)(EL,(t,e)=>_L(e)(t.tabs).team2HasChanges);function AL(t){const e=t/2;return{global:Math.floor(e),team1:Math.ceil(e),team2:Math.floor(e)}}function RL(t){return Math.round(1e3*t)/1e3}var DL=function(t){return t[t.UNKNOWN_CATEGORY=0]="UNKNOWN_CATEGORY",t[t.CHEATING=1]="CHEATING",t[t.HARASSMENT=2]="HARASSMENT",t[t.SPAM=3]="SPAM",t[t.PLAGIARISM=4]="PLAGIARISM",t[t.HATE_SPEECH=5]="HATE_SPEECH",t[t.SEXUALLY_EXPLICIT=6]="SEXUALLY_EXPLICIT",t[t.CHILD_SOLICITATION=7]="CHILD_SOLICITATION",t[t.TERRORIST_THREAT=8]="TERRORIST_THREAT",t[t.CLIENT_HACK=9]="CLIENT_HACK",t[t.SUICIDE_THREAT=10]="SUICIDE_THREAT",t[t.DOXING=11]="DOXING",t[t.ADVERTISING=12]="ADVERTISING",t[t.INAPPROPRIATE=13]="INAPPROPRIATE",t[t.VIOLENT=14]="VIOLENT",t[t.OFFENSIVE=15]="OFFENSIVE",t[t.OFFENSIVE_CHAT=16]="OFFENSIVE_CHAT",t[t.OFFENSIVE_NAME=17]="OFFENSIVE_NAME",t}({});let LL=(()=>{class t{constructor(e){this._playerIdentifier=t.PlayerIdentifierCase.none,this.fullPlayer=(e=e||{}).fullPlayer?new KS(e.fullPlayer):void 0,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.fullPlayer=new KS,n.readMessage(e.fullPlayer,KS.deserializeBinaryFromReader);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.fullPlayer&&e.writeMessage(1,t.fullPlayer,KS.serializeBinaryToWriter)}get fullPlayer(){return this._fullPlayer}set fullPlayer(e){null!=e&&(this._playerIdentifier=t.PlayerIdentifierCase.fullPlayer),this._fullPlayer=e}get playerIdentifier(){return this._playerIdentifier}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{fullPlayer:this.fullPlayer?this.fullPlayer.toObject():void 0}}toJSON(){return this.toObject()}toProtobufJSON(t){return{fullPlayer:this.fullPlayer?this.fullPlayer.toProtobufJSON(t):null}}}return t.id="common.reporting.types.OffendingPlayer",t})();!function(t){let e;!function(t){t[t.none=0]="none",t[t.fullPlayer=1]="fullPlayer"}(e=t.PlayerIdentifierCase||(t.PlayerIdentifierCase={}))}(LL||(LL={}));let NL=(()=>{class t{constructor(e){this.protocolVersion=(e=e||{}).protocolVersion,this.playgroundId=e.playgroundId,this.category=e.category,this.requesterEmail=e.requesterEmail?new sw(e.requesterEmail):void 0,this.subject=e.subject?new sw(e.subject):void 0,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.protocolVersion=t.protocolVersion||"",t.playgroundId=t.playgroundId||"",t.category=t.category||0,t.requesterEmail=t.requesterEmail||void 0,t.subject=t.subject||void 0}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.protocolVersion=n.readString();break;case 2:e.playgroundId=n.readString();break;case 3:e.category=n.readEnum();break;case 4:e.requesterEmail=new sw,n.readMessage(e.requesterEmail,sw.deserializeBinaryFromReader);break;case 5:e.subject=new sw,n.readMessage(e.subject,sw.deserializeBinaryFromReader);break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.protocolVersion&&e.writeString(1,t.protocolVersion),t.playgroundId&&e.writeString(2,t.playgroundId),t.category&&e.writeEnum(3,t.category),t.requesterEmail&&e.writeMessage(4,t.requesterEmail,sw.serializeBinaryToWriter),t.subject&&e.writeMessage(5,t.subject,sw.serializeBinaryToWriter)}get protocolVersion(){return this._protocolVersion}set protocolVersion(t){this._protocolVersion=t}get playgroundId(){return this._playgroundId}set playgroundId(t){this._playgroundId=t}get category(){return this._category}set category(t){this._category=t}get requesterEmail(){return this._requesterEmail}set requesterEmail(t){this._requesterEmail=t}get subject(){return this._subject}set subject(t){this._subject=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{protocolVersion:this.protocolVersion,playgroundId:this.playgroundId,category:this.category,requesterEmail:this.requesterEmail?this.requesterEmail.toObject():void 0,subject:this.subject?this.subject.toObject():void 0}}toJSON(){return this.toObject()}toProtobufJSON(t){var e;return{protocolVersion:this.protocolVersion,playgroundId:this.playgroundId,category:DL[null!==(e=this.category)&&void 0!==e?e:0],requesterEmail:this.requesterEmail?this.requesterEmail.toProtobufJSON(t):null,subject:this.subject?this.subject.toProtobufJSON(t):null}}}return t.id="web.reporting.ReportPlaygroundRequest",t})(),BL=(()=>{class t{constructor(e){this.petitionId=(e=e||{}).petitionId,t.refineValues(this)}static deserializeBinary(e){const n=new t;return t.deserializeBinaryFromReader(n,new qS.BinaryReader(e)),n}static refineValues(t){t.petitionId=t.petitionId||""}static deserializeBinaryFromReader(e,n){for(;n.nextField()&&!n.isEndGroup();)switch(n.getFieldNumber()){case 1:e.petitionId=n.readString();break;default:n.skipField()}t.refineValues(e)}static serializeBinaryToWriter(t,e){t.petitionId&&e.writeString(1,t.petitionId)}get petitionId(){return this._petitionId}set petitionId(t){this._petitionId=t}serializeBinary(){const e=new qS.BinaryWriter;return t.serializeBinaryToWriter(this,e),e.getResultBuffer()}toObject(){return{petitionId:this.petitionId}}toJSON(){return this.toObject()}toProtobufJSON(t){return{petitionId:this.petitionId}}}return t.id="web.reporting.ReportPlaygroundResponse",t})();const FL=(0,Vp.PH)("[PLAYGROUND] SET_IS_CREATING",(0,Vp.Ky)()),UL=(0,Vp.PH)("[PLAYGROUND] SET_IS_DELETING",(0,Vp.Ky)()),VL=(0,Vp.PH)("[PLAYGROUND] SET_MAX_PLAYGROUNDS",(0,Vp.Ky)()),GL=(0,Vp.PH)("[PLAYGROUND] SET_CURRENT_PLAYGROUNDS",(0,Vp.Ky)()),jL=(0,Vp.PH)("[PLAYGROUND] SET_CREATE_DISABLED",(0,Vp.Ky)()),HL=(0,Vp.PH)("[PLAYGROUND] RESET_PLAYGROUND"),zL="playground",WL={isCreating:!1,isDeleting:!1,maxPlaygrounds:0,currentPlaygrounds:0,createDisabled:!1},ZL=(0,Vp.Lq)(WL,(0,Vp.on)(HL,()=>WL),(0,Vp.on)(FL,(t,{isCreating:e})=>Object.assign(Object.assign({},t),{isCreating:e})),(0,Vp.on)(UL,(t,{isDeleting:e})=>Object.assign(Object.assign({},t),{isDeleting:e})),(0,Vp.on)(VL,(t,{maxPlaygrounds:e})=>Object.assign(Object.assign({},t),{maxPlaygrounds:e})),(0,Vp.on)(GL,(t,{currentPlaygrounds:e})=>Object.assign(Object.assign({},t),{currentPlaygrounds:e})),(0,Vp.on)(jL,(t,{disabled:e})=>Object.assign(Object.assign({},t),{createDisabled:e}))),YL=(t=WL,e)=>ZL(t,e),qL=(0,Vp.ZF)(zL),JL=(0,Vp.P1)(qL,t=>t.isCreating),$L=(0,Vp.P1)(qL,t=>t.isDeleting),KL=(0,Vp.P1)(qL,t=>t.maxPlaygrounds),XL=(0,Vp.P1)(qL,t=>t.currentPlaygrounds),QL=(0,Vp.P1)(qL,t=>t.createDisabled);let tN=(()=>{class t{constructor(t){this.snackBar=t}add(t,e=2e3){this.snackBar.open(t,void 0,{duration:e})}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(py))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const eN=new i.OlP("GRPC_COMMUNITY_GAMES_CLIENT_SETTINGS");let nN=(()=>{class t{constructor(t,e,n){this.handler=n,this.$raw={createPlayground:(t,e=new Nu)=>this.handler.handle({type:Ru.unary,client:this.client,path:"/web.communitygames.CommunityGames/createPlayground",requestData:t,requestMetadata:e,requestClass:kM,responseClass:IM}),updatePlayground:(t,e=new Nu)=>this.handler.handle({type:Ru.unary,client:this.client,path:"/web.communitygames.CommunityGames/updatePlayground",requestData:t,requestMetadata:e,requestClass:AM,responseClass:RM}),deletePlayground:(t,e=new Nu)=>this.handler.handle({type:Ru.unary,client:this.client,path:"/web.communitygames.CommunityGames/deletePlayground",requestData:t,requestMetadata:e,requestClass:DM,responseClass:LM}),getPlayground:(t,e=new Nu)=>this.handler.handle({type:Ru.unary,client:this.client,path:"/web.communitygames.CommunityGames/getPlayground",requestData:t,requestMetadata:e,requestClass:NM,responseClass:BM}),listPlaygroundsByOwner:(t,e=new Nu)=>this.handler.handle({type:Ru.unary,client:this.client,path:"/web.communitygames.CommunityGames/listPlaygroundsByOwner",requestData:t,requestMetadata:e,requestClass:FM,responseClass:UM}),getBlueprintsById:(t,e=new Nu)=>this.handler.handle({type:Ru.unary,client:this.client,path:"/web.communitygames.CommunityGames/getBlueprintsById",requestData:t,requestMetadata:e,requestClass:jM,responseClass:HM}),getScheduledBlueprints:(t,e=new Nu)=>this.handler.handle({type:Ru.unary,client:this.client,path:"/web.communitygames.CommunityGames/getScheduledBlueprints",requestData:t,requestMetadata:e,requestClass:VM,responseClass:GM}),getConstraints:(t,e=new Nu)=>this.handler.handle({type:Ru.unary,client:this.client,path:"/web.communitygames.CommunityGames/getConstraints",requestData:t,requestMetadata:e,requestClass:zM,responseClass:WM}),sharePlayground:(t,e=new Nu)=>this.handler.handle({type:Ru.unary,client:this.client,path:"/web.communitygames.CommunityGames/sharePlayground",requestData:t,requestMetadata:e,requestClass:YM,responseClass:qM})},this.client=e.createClient("web.communitygames.CommunityGames",t)}createPlayground(t,e=new Nu){return this.$raw.createPlayground(t,e).pipe(Qu(),th())}updatePlayground(t,e=new Nu){return this.$raw.updatePlayground(t,e).pipe(Qu(),th())}deletePlayground(t,e=new Nu){return this.$raw.deletePlayground(t,e).pipe(Qu(),th())}getPlayground(t,e=new Nu){return this.$raw.getPlayground(t,e).pipe(Qu(),th())}listPlaygroundsByOwner(t,e=new Nu){return this.$raw.listPlaygroundsByOwner(t,e).pipe(Qu(),th())}getBlueprintsById(t,e=new Nu){return this.$raw.getBlueprintsById(t,e).pipe(Qu(),th())}getScheduledBlueprints(t,e=new Nu){return this.$raw.getScheduledBlueprints(t,e).pipe(Qu(),th())}getConstraints(t,e=new Nu){return this.$raw.getConstraints(t,e).pipe(Qu(),th())}sharePlayground(t,e=new Nu){return this.$raw.sharePlayground(t,e).pipe(Qu(),th())}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(eN,8),i.LFG(Zu),i.LFG(qu))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const iN=new i.OlP("GRPC_WEB_REPORTING_CLIENT_SETTINGS");let oN=(()=>{class t{constructor(t,e,n){this.handler=n,this.$raw={reportPlayground:(t,e=new Nu)=>this.handler.handle({type:Ru.unary,client:this.client,path:"/web.reporting.WebReporting/reportPlayground",requestData:t,requestMetadata:e,requestClass:NL,responseClass:BL})},this.client=e.createClient("web.reporting.WebReporting",t)}reportPlayground(t,e=new Nu){return this.$raw.reportPlayground(t,e).pipe(Qu(),th())}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(iN,8),i.LFG(Zu),i.LFG(qu))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const rN=Sm.get("playground"),sN={listPlaygroundsByOwner:"list-playgrounds-by-owner",getPlayground:"get-playground",sharePlayground:"share-playground",updatePlayground:"update-playground",reportPlayground:"report-playground",createPlayground:"create-playground",deletePlayground:"delete-playground"};let aN=(()=>{class t{constructor(t,e,n,i,o,r){this.messageService=t,this.sessionEffects=e,this.communityGamesClient=n,this.webReportingClient=i,this.store=o,this.translateService=r,this.didFetchPlaygroundFail=!1}handleError(t="operation",e){return n=>{rN.error(n);const i=sN[t];return i&&this.messageService.add(this.translateService.instant(`playgrounds.service-errors.${i}`),1e4),t.includes("getPlayground id=")&&(this.didFetchPlaygroundFail=!0),(0,ea.of)(null!=e?e:{})}}getPlaygrounds$(t){return this.store.select(Fm).pipe((0,zu.w)(t=>this.communityGamesClient.listPlaygroundsByOwner(new FM({blueprintType:"vanilla"}),t).pipe(WS(3),(0,qp.K)(this.handleError("listPlaygroundsByOwner")),(0,Cr.U)(t=>{var e;return null!==(e=t.playgroundResponses)&&void 0!==e?e:[]}))),$g())}getPlayground$(t){if(!t)return rN.error("Missing playgroundId for fetching Playground"),_p.E;this.didFetchPlaygroundFail=!1;const e=new NM({playgroundId:t});return this.store.select(Fm).pipe((0,zu.w)(n=>this.communityGamesClient.getPlayground(e,n).pipe((0,qp.K)(this.handleError(`getPlayground id=${t}`)),(0,Cr.U)(t=>t.playgroundResponse))),$g())}sharePlayground$(t){if(!t)return rN.error("Missing playgroundId for sharing Playground"),_p.E;const e=new YM({playgroundId:t});return this.store.select(Fm).pipe((0,zu.w)(n=>this.communityGamesClient.sharePlayground(e,n).pipe((0,qp.K)(this.handleError(`sharePlayground id=${t}`)),(0,Cr.U)(t=>t))),$g())}updatePlayground$(t,e,n){const i=new TextEncoder,o=new AM({newPlayground:new tM(Object.assign(Object.assign({},t),{serverSettings:new Xw({name:t.name}),modRules:n?new eM({compatibleRules:new nM({rules:i.encode(JSON.stringify(n))})}):void 0})),protocolVersion:e});return this.store.select(Fm).pipe((0,zu.w)(t=>this.communityGamesClient.updatePlayground(o,t).pipe((0,qp.K)(this.handleError("updatePlayground")),(0,Cr.U)(t=>t))),$g())}reportPlayground$(t,e,n,i){const o=new NL({playgroundId:t,category:n,protocolVersion:"",requesterEmail:new sw({value:e}),subject:new sw({value:i})});return this.store.select(Fm).pipe((0,zu.w)(t=>this.webReportingClient.reportPlayground(o,t).pipe((0,qp.K)(this.handleError("reportPlayground")),(0,Cr.U)(t=>t))),$g())}createPlayground$(t,e,n){this.store.dispatch(FL({isCreating:!0}));const i=new TextEncoder,o=new kM(Object.assign(Object.assign({},t),{blueprintType:"vanilla",protocolVersion:e,serverSettings:new Xw({name:t.name}),originalModRules:n?i.encode(JSON.stringify(n)):void 0,description:t.description?new sw({value:t.description}):void 0,secret:void 0}));return this.store.select(Fm).pipe((0,zu.w)(t=>this.communityGamesClient.createPlayground(o,t).pipe((0,qp.K)(this.handleError("createPlayground")),(0,Cr.U)(t=>t))),$g())}deletePlayground$(t){this.store.dispatch(UL({isDeleting:!0}));const e=new DM({playgroundId:t});return this.store.select(Fm).pipe($g(),(0,zu.w)(t=>this.communityGamesClient.deletePlayground(e,t).pipe((0,qp.K)(this.handleError("deletePlayground")),(0,Cr.U)(t=>t))),$g())}updatePlaygroundCreatability(t){Hv([this.store.select(KL),this.store.select(XL)]).pipe($g()).subscribe(([e,n])=>{const i=t?n+1:n-1;this.store.dispatch(GL({currentPlaygrounds:i})),this.store.dispatch(jL({disabled:e<=i}))})}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(tN),i.LFG(wN),i.LFG(nN),i.LFG(oN),i.LFG(Vp.yh),i.LFG(Bp))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const lN=Sm.get("editor"),cN=["MaxPlayerCount_PerTeam","FactionID_PerTeam","ModBuilder_GameMode","MaxTeamCount"],uN={CONQUEST_GAMEMODE:"WA_GM_Conquest",CONQUEST_SMALL_GAMEMODE:"WA_GM_ConquestSmall",RUSH_GAMEMODE:"WA_GM_Rush",CUSTOM_GAMEMODE:"WA_GM_Custom",HAZARD_GAMEMODE:"WA_GM_HazardZone",BREAKTHROUGH_GAMEMODE:"WA_GM_Breakthrough",GLOBAL_SETTINGS:"WA_ST_Global",SOLDIER_SETTINGS:"WA_ST_Soldier",VEHICLE_SETTINGS:"WA_ST_Vehicle",WEAPON_SETTINGS:"WA_ST_Weapon",UI_SETTINGS:"WA_ST_UI",AI_SETTINGS:"WA_ST_AI",AI_SYNC_SETTINGS:"WA_ST_AI_Sync",ALL_GAMEMODE_SETTINGS:"WA_GM_All",MODBUILDER_SETTINGS:"MB_All",ERA_SETTINGS:"WA_ST_Era",VISUAL_SETTINGS:"WA_ST_Visual",GAMEPLAY_SETTINGS:"WA_ST_Gameplay",XP_REDUCED:"WA_XP_Reduced"};function hN(t){switch(t){case"Conquest":return uN.CONQUEST_GAMEMODE;case"ConquestSmall":return uN.CONQUEST_SMALL_GAMEMODE;case"ModBuilderCustom":return uN.CUSTOM_GAMEMODE;case"Rush":return uN.RUSH_GAMEMODE}}function dN(t,e){return t.filter(t=>{var n;return null===(n=t.category)||void 0===n?void 0:n.split(",").includes(e)})}const pN=Nr.pattern("[ -~\xa1-\xff]*"),gN=new qw({maxConfigDescriptionSize:0,maxConfigNameSize:0,maxDescriptionSize:256,maxMapsInRotation:20,maxMutators:100,maxNameSize:64,maxSecretSize:200});let mN=(()=>{class t{constructor(e,n,i,o,r,s,a,l,c,u,h){this.formBuilder=e,this.route=n,this.translateService=i,this.blueprintService=o,this.playgroundService=r,this.location=s,this.store=a,this.router=l,this.messageService=c,this.telemetryService=u,this.rendererFactory=h,this.subscriptions=[],this.editorForm=this.formBuilder.group({name:[""],description:[""],gameMode:[null,Nr.required],maps:this.formBuilder.array([]),mutators:this.formBuilder.group({}),splitMutators:this.formBuilder.group({}),tags:this.formBuilder.group({})}),this.gameModeControl=this.editorForm.get("gameMode"),this.mapsFormArray=this.editorForm.get("maps"),this.mutatorsFormGroup=this.editorForm.get("mutators"),this.splitMutatorsFormGroup=this.editorForm.get("splitMutators"),this.tagsFormGroup=this.editorForm.get("tags"),this.playgroundNameFormControl=this.editorForm.get("name"),this.playgroundDescriptionFormControl=this.editorForm.get("description"),this.currentGameMode$=bp(()=>this.gameModeControl.valueChanges.pipe(a_(this.gameModeControl.value))),this.isCustomGameMode$=this.currentGameMode$.pipe((0,Cr.U)(t=>"ModBuilderCustom"===t)),this.player$=this.store.select(Nm),this.playgroundId$=this.route.queryParams.pipe((0,Cr.U)(t=>t.playgroundId),(0,Db.x)()),this.presetId$=this.route.queryParams.pipe((0,Cr.U)(t=>t.preset),(0,Db.x)()),this.editorDisabledSubject=new CS.X(!1),this.editorDisabled$=this.editorDisabledSubject.asObservable(),this.rulesSubject=new CS.X(void 0),this.rules$=this.rulesSubject.asObservable(),this.resetSubject=new CS.X(null),this.reset$=this.resetSubject.asObservable(),this.gameSizeSubject=new CS.X(0),this.gameSize$=this.gameSizeSubject.asObservable(),this.showDetailsPanelSubject=new CS.X(!1),this.showDetailsPanel$=this.showDetailsPanelSubject.asObservable(),this.showManagePanelSubject=new CS.X(!1),this.showManagePanel$=this.showManagePanelSubject.asObservable(),this.detailsModelSubject=new CS.X(null),this.detailsModel$=this.detailsModelSubject.asObservable(),this.detailsMetaSubject=new CS.X({}),this.detailsMeta$=this.detailsMetaSubject.asObservable(),this.playgroundResponse$=Hv([this.presetId$,this.blueprintService.presets$,this.playgroundId$]).pipe((0,zu.w)(([t,e,n])=>{const i=null==e?void 0:e.find(e=>e.presetId===t);return i?(0,ea.of)(new PM({validatedPlayground:i,originalPlayground:i})):n?this.playgroundService.getPlayground$(n):(lN.log("Using empty Playground"),(0,ea.of)(new PM({originalPlayground:new tM,validatedPlayground:new tM})))}),Au(1)),this.playground$=this.playgroundResponse$.pipe((0,Cr.U)(t=>null==t?void 0:t.originalPlayground),(0,Db.x)()),this.isArchived$=this.playground$.pipe((0,Cr.U)(t=>(null==t?void 0:t.state)===Bw.ARCHIVED)),this.isNewMode$=this.playground$.pipe((0,Cr.U)(t=>!(null==t?void 0:t.createdAt))),this.isOwner$=Hv([this.isNewMode$,this.playground$,this.player$]).pipe((0,Cr.U)(([t,e,n])=>{var i;return!!t||!(!e||!n)&&(null===(i=e.owner)||void 0===i?void 0:i.nucleusId)===n.nucleusId})),this.isEditable$=Hv([this.isArchived$,this.isOwner$]).pipe((0,Cr.U)(([t,e])=>e&&!t)),this.blueprint$=this.blueprintService.blueprint$.pipe((0,vp.q)(1),Au(1)),this.coreEditorFormLoadedSubject=new CS.X(!1),this.mapsEditorFormLoadedSubject=new CS.X(!1),this.mutatorsEditorFormLoadedSubject=new CS.X(!1),this.tagsEditorFormLoadedSubject=new CS.X(!1),this.isLoaded$=Hv([this.coreEditorFormLoadedSubject.asObservable(),this.mapsEditorFormLoadedSubject.asObservable(),this.mutatorsEditorFormLoadedSubject.asObservable(),this.tagsEditorFormLoadedSubject.asObservable()]).pipe((0,Cr.U)(([t,e,n,i])=>t&&e&&n&&i)),this.playgroundTagsSubject=new CS.X([]),this.playgroundTags$=this.playgroundTagsSubject.asObservable(),this.gameModeOptions$=bp(()=>this.blueprint$.pipe((0,Cr.U)(t=>{var e,n;const i=[];return null===(n=null===(e=null==t?void 0:t.availableGameData)||void 0===e?void 0:e.maps)||void 0===n||n.forEach(t=>{void 0!==t.gameMode&&i.push(t.gameMode)}),[...new Set(i)]}),Au(1))),this.availableBlueprintMapEntries$=this.blueprint$.pipe((0,Cr.U)(t=>{var e,n;return null!==(n=null===(e=null==t?void 0:t.availableGameData)||void 0===e?void 0:e.maps)&&void 0!==n?n:[]})),this.filteredBlueprintMapEntries$=bp(()=>this.gameModeControl.valueChanges.pipe(a_(this.gameModeControl.value),(0,zu.w)(t=>void 0===t?(0,ea.of)([]):this.availableBlueprintMapEntries$.pipe((0,Cr.U)(e=>e.filter(e=>e.gameMode===t)))),Au(1))),this.availableAssetCategoryTags$=this.blueprint$.pipe((0,Cr.U)(t=>{var e,n,i;return null!==(i=null===(n=null===(e=null==t?void 0:t.availableGameData)||void 0===e?void 0:e.assetCategories)||void 0===n?void 0:n.tags)&&void 0!==i?i:[]})),this.availableBlueprintMutators$=this.blueprint$.pipe((0,Cr.U)(t=>{var e,n;return null!==(n=null===(e=null==t?void 0:t.availableGameData)||void 0===e?void 0:e.mutators)&&void 0!==n?n:[]})),this.playgroundConstraints$=this.blueprint$.pipe((0,Cr.U)(t=>(null==t?void 0:t.playgroundConstraints)||gN)),this.mutatorEras$=this.availableBlueprintMutators$.pipe((0,Cr.U)(t=>null==t?void 0:t.find(t=>"FactionID_PerTeam"===t.name))),this.mutatorGameSize$=this.availableBlueprintMutators$.pipe((0,Cr.U)(t=>t.find(t=>"MaxPlayerCount_PerTeam"===t.name))),this.mutatorModBuilderGameMode$=this.availableBlueprintMutators$.pipe((0,Cr.U)(t=>t.find(t=>"ModBuilder_GameMode"===t.name))),this.soldierMutators$=this.availableBlueprintMutators$.pipe((0,Cr.U)(t=>dN(t,uN.SOLDIER_SETTINGS))),this.vehicleMutators$=this.availableBlueprintMutators$.pipe((0,Cr.U)(t=>dN(t,uN.VEHICLE_SETTINGS))),this.uiMutators$=this.availableBlueprintMutators$.pipe((0,Cr.U)(t=>dN(t,uN.UI_SETTINGS))),this.aiMutators$=this.availableBlueprintMutators$.pipe((0,Cr.U)(t=>dN(t,uN.AI_SETTINGS))),this.coreMutators$=this.availableBlueprintMutators$.pipe((0,Cr.U)(t=>dN(t,uN.GAMEPLAY_SETTINGS))),this.visualMutators$=this.availableBlueprintMutators$.pipe((0,Cr.U)(t=>dN(t,uN.VISUAL_SETTINGS))),this.uncategorizedMutators$=this.availableBlueprintMutators$.pipe((0,Cr.U)(t=>t.filter(t=>{var e;const n=null===(e=t.category)||void 0===e?void 0:e.split(",").filter(t=>"Native"!==t);return null==n?void 0:n.some(e=>{var n;return!(null===(n=Object.values(uN))||void 0===n?void 0:n.includes(e))&&"MaxTeamCount"!==t.name})}))),this.gameModeMutators$=this.availableBlueprintMutators$.pipe((0,Cr.U)(t=>t.filter(t=>{var e;const n=null===(e=t.category)||void 0===e?void 0:e.split(",");return!!(null==n?void 0:n.find(t=>t.includes("WA_GM")))&&t}))),this.currentGameModeMutators$=this.currentGameMode$.pipe((0,zu.w)(t=>this.gameModeMutators$.pipe((0,Cr.U)(e=>e.filter(e=>{var n;const i=null===(n=null==e?void 0:e.category)||void 0===n?void 0:n.split(",");return!!(null==i?void 0:i.find(e=>hN(t)===e||e===uN.ALL_GAMEMODE_SETTINGS))&&e}))))),this.checkPerTeamOption$=Hv([this.playground$,this.splitMutatorsFormGroup.valueChanges.pipe(a_(this.splitMutatorsFormGroup.value)),this.currentGameMode$]),this.eraValues$=bp(()=>Hv([this.mutatorEras$,this.splitMutatorsFormGroupChanges$]).pipe((0,Cr.U)(([e,n])=>{if(!(null==e?void 0:e.kind)||!n.hasOwnProperty("FactionID_PerTeam"))return null;const i=t.getMutatorType(null==e?void 0:e.kind).index;return null!==i?n.FactionID_PerTeam[i]:null}))),this.mutatorsFormGroupChanges$=bp(()=>this.mutatorsFormGroup.valueChanges.pipe(a_(this.mutatorsFormGroup.value))),this.splitMutatorsFormGroupChanges$=bp(()=>this.splitMutatorsFormGroup.valueChanges.pipe(a_(this.splitMutatorsFormGroup.value))),this.aiSyncedMutators$=this.aiMutators$.pipe((0,Cr.U)(t=>t.filter(t=>{var e;const n=null===(e=t.category)||void 0===e?void 0:e.split(",");return(null==n?void 0:n.includes("WA_ST_AI"))&&(null==n?void 0:n.includes("WA_ST_AI_Sync"))}))),this.aiNonSyncedMutators$=this.aiMutators$.pipe((0,Cr.U)(t=>t.filter(t=>{var e;const n=null===(e=t.category)||void 0===e?void 0:e.split(",");return(null==n?void 0:n.includes("WA_ST_AI"))&&!1===(null==n?void 0:n.includes("WA_ST_AI_Sync"))}))),this.isCurrentGenOnly$=Hv([this.currentGameMode$,this.gameSize$,this.mapsFormArray.valueChanges.pipe(a_(this.mapsFormArray.value))]).pipe((0,Cr.U)(([t,e,n])=>{const i="Conquest"===t,o=e>64,r=function(t){return t.some(t=>"ModBuilderCustom2"===t.levelLocation)}(this.mapsFormArray.value);return{hasCurrentGenFlag:o||i||r,isCurrentGameSizeAboveOldGenMax:o,isConquest:i,hasLargeMaps:r}})),this.gameModeFFAStatus="default",this.showPerTeamOption=!1,this.areMutatorsSynced=!0,this.currentUrl=this.location.path(),this.DISABLE_SCROLLING_CLASS="hide-overflow",this.MOBILE_ONLY="mobile-only",this.renderer=h.createRenderer(null,null),this.addSubscription(Hv([this.coreEditorFormLoadedSubject.asObservable(),this.mutatorsEditorFormLoadedSubject.asObservable(),this.mutatorGameSize$,this.gameSize$]).pipe((0,ia.h)(([t,e,n])=>t&&e&&!!n)).subscribe(([t,e,n,i])=>{var o,r,s,a,l,c,u,h,d,p,g,m,f,_,b,v,y,C,O,T,E,S,w,M;const x=null===(o=this.splitMutatorsFormGroup.get("MaxPlayerCount_PerTeam"))||void 0===o?void 0:o.get(`${dM.KindCase.mutatorSparseIntValues}`),P=null===(r=this.mutatorsFormGroup.get("AiMaxCount_PerTeam"))||void 0===r?void 0:r.get(`${dM.KindCase.mutatorSparseIntValues}`);if(x){const t=null!==(a=null===(s=null==x?void 0:x.get("perTeam"))||void 0===s?void 0:s.value)&&void 0!==a?a:0,e=null!==(u=null===(c=null===(l=null==x?void 0:x.get("values"))||void 0===l?void 0:l.get("0"))||void 0===c?void 0:c.value)&&void 0!==u?u:0,n=null!==(p=null===(d=null===(h=null==x?void 0:x.get("values"))||void 0===h?void 0:h.get("1"))||void 0===d?void 0:d.value)&&void 0!==p?p:0,o=null!==(f=null===(m=null===(g=null==x?void 0:x.get("values"))||void 0===g?void 0:g.get("2"))||void 0===m?void 0:m.value)&&void 0!==f?f:0,r=null!==(b=null===(_=null==P?void 0:P.get("perTeam"))||void 0===_?void 0:_.value)&&void 0!==b?b:0,k=null!==(C=null===(y=null===(v=null==P?void 0:P.get("values"))||void 0===v?void 0:v.get("0"))||void 0===y?void 0:y.value)&&void 0!==C?C:0,I=null!==(E=null===(T=null===(O=null==P?void 0:P.get("values"))||void 0===O?void 0:O.get("1"))||void 0===T?void 0:T.value)&&void 0!==E?E:0,A=null!==(M=null===(w=null===(S=null==P?void 0:P.get("values"))||void 0===S?void 0:S.get("2"))||void 0===w?void 0:w.value)&&void 0!==M?M:0,R=r?I+A:2*k;if(this.showPerTeamOption||!1===t&&1===e){if(i!==n+o){const t=AL(i);if(lN.debug(`Game Size changed (${i}), updating MaxPlayerCount_PerTeam form values`,`(global: ${t.global}, t1: ${t.team1}, t2: ${t.team2})`),x.patchValue({values:[t.global,t.team1,t.team2]}),i+R>128){const t=Math.floor((128-i)/2);null==P||P.patchValue({values:[t,t,t]})}}}else if(lN.debug(`Game Size changed (${i}), updating MaxPlayerCount_PerTeam form values for FFA`),x.patchValue({values:[1,1,1],perTeam:!1}),i+R>128){const t=128-i;null==P||P.patchValue({values:[t,0,0],perTeam:!1})}}else lN.warn("Trying to update MaxPlayerCount_PerTeam but it does not exist in the form yet!")}),this.checkPerTeamOption$.subscribe(t=>{var e,n,i,o,r;const[s={mutators:[],mapRotation:{maps:[{gameSize:0,gameMode:""}]}},a,l]=t,c=null===(e=null==s?void 0:s.mutators)||void 0===e?void 0:e.find(t=>"ModBuilder_GameMode"===t.name),u=2===(null===(i=null===(n=null==c?void 0:c.kind)||void 0===n?void 0:n.mutatorInt)||void 0===i?void 0:i.value);let h=!1;a.ModBuilder_GameMode&&(h=2===(null===(r=null===(o=a.ModBuilder_GameMode)||void 0===o?void 0:o[dM.KindCase.mutatorIntValues])||void 0===r?void 0:r.value)),u&&u===h||h?(this.updateMutatorPerTeamValues(this.mutatorsFormGroup),this.updateMutatorPerTeamValues(this.splitMutatorsFormGroup),this.showPerTeamOption=!1):this.showPerTeamOption=!0}),this.playground$.subscribe(t=>{var e,n,i;const o=null!==(e=null==t?void 0:t.mutators)&&void 0!==e?e:[];for(const r of o)if(null===(n=r.category)||void 0===n?void 0:n.includes("WA_ST_AI_Sync")){const t=null===(i=null==r?void 0:r.name)||void 0===i?void 0:i.split("AI_")[1],e=o.find(e=>e.name===t);if(!e)return void(this.areMutatorsSynced=!1);if(_N(r)!==_N(e))return void(this.areMutatorsSynced=!1)}this.areMutatorsSynced=!0}),this.playgroundConstraints$.subscribe({next:t=>{var e,n;null===(e=this.mapsFormArray)||void 0===e||e.setValidators([Nr.required,Nr.minLength(1),Nr.maxLength(t.maxMapsInRotation||20)]),this.playgroundNameFormControl.setValidators([Nr.required,pN,Nr.maxLength(t.maxNameSize||64)]),null===(n=this.playgroundDescriptionFormControl)||void 0===n||n.setValidators([Nr.required,pN,Nr.maxLength(t.maxDescriptionSize||256)])}}),this.playgroundResponse$.pipe((0,Cr.U)(t=>{var e;return null!==(e=null==t?void 0:t.tags)&&void 0!==e?e:[]})).subscribe(t=>{this.playgroundTagsSubject.next(t)}),this.mutatorsFormGroup.valueChanges.pipe((0,ef.b)(500)).subscribe(t=>{this.areMutatorsSynced&&this.syncMutators()}),this.router.events.subscribe(t=>{t instanceof oA&&"/experiences"===t.url&&this.gameModeControl.setValue(null)})),this.areMutatorsSynced&&this.syncMutators()}static getMutatorType(t){return Object.entries(t).reduce((t,[e,n],i)=>(n&&(t={index:i+1,kindKey:e,kindVal:n}),t),{index:null,kindKey:null,kindVal:null})}reset(){this.resetSubject.next(null)}setGameSize(t,e=!1){this.gameSizeSubject.next(t),e||this.editorForm.markAsDirty()}setDetailsModel(t){this.detailsModelSubject.next(t)}setDetailsMeta(t){this.detailsMetaSubject.next(t)}setRules(t){this.rulesSubject.next(t)}enableEditor(){this.editorDisabledSubject.next(!1)}disableEditor(){this.editorDisabledSubject.next(!0)}toggleDetailsPanel(t){this.showDetailsPanelSubject.next(t),this.toggleScrolling(t)}toggleManagePanel(t){this.showManagePanelSubject.next(t),this.toggleScrolling(t)}onEditorFormSubmit(t=!1){this.disableEditor(),this.save(this.editorForm.getRawValue(),t,(t,e)=>{var n,i;if(null===(n=null==t?void 0:t.playground)||void 0===n?void 0:n.playgroundId){const n=this.translateService.instant("playgrounds.experience-saved");this.messageService.add(n),this.telemetryService.triggerPlaygroundAction(t.playground,e),this.playgroundTagsSubject.next(null===(i=t.playgroundResponse)||void 0===i?void 0:i.tags),this.editorForm.markAsPristine(),this.router.navigate([],{relativeTo:this.route,queryParams:{preset:void 0,playgroundId:t.playground.playgroundId},queryParamsHandling:"merge"})}this.enableEditor()})}updateMutatorPerTeamValues(t){var e;for(const[n,i]of Object.entries(t.value)){const o=Object.assign({},i);for(const[i,r]of Object.entries(o)){const o=Object.assign({},r);"perTeam"in o&&o.perTeam&&(null===(e=t.controls[n].get(`${i}`))||void 0===e||e.patchValue({perTeam:!1}))}}}addSubscription(...t){this.subscriptions.push(...t)}save(t,e,n){lN.extend("save");Hv([this.player$,this.isOwner$,this.playground$,this.blueprint$,this.gameSize$,this.rules$]).pipe($g()).subscribe({next:([i,o,r,s,a,l])=>{(r=r?JSON.parse(JSON.stringify(r)):void 0)&&s&&(r.owner=i,r.name=t.name,r.description=t.description,r.secret=void 0,r.mapRotation?r.mapRotation.maps&&(r.mapRotation.maps=[]):r.mapRotation=new Sw({maps:[],rotationBehavior:lw.LOOP,roundBehavior:cw.CONTINUE}),this.addMaps(t,r,a),this.addMutators(t,s,r,a),this.addTags(t,s,r),!e&&o&&r.createdAt?this.playgroundService.updatePlayground$(r,"",l).subscribe({next:t=>n(t,"update")}):this.playgroundService.createPlayground$(r,"",l).subscribe({next:t=>n(t,"create")}),this.store.dispatch(hL({newValue:!1})),window.onbeforeunload=null)}})}addMaps(t,e,n){t.maps.forEach(t=>{var i,o;null===(o=null===(i=null==e?void 0:e.mapRotation)||void 0===i?void 0:i.maps)||void 0===o||o.push(new Ew({levelName:t.levelName,gameMode:t.gameMode,gameSize:n,rounds:t.rounds?t.rounds.defaultValue:0,levelLocation:t.levelLocation,preRoundSize:t.preRoundSize?t.preRoundSize.defaultValue:0,warmUpSize:t.warmUpSize?t.warmUpSize.defaultValue:0,allowedSpectators:t.allowedSpectators?t.allowedSpectators.defaultValue:0,mutators:[]}))})}addMutators(e,n,i,o){var r,s,a;i.mutators=[];let l=!1,c=1+o,u=0;if(Object.keys(e.mutators).concat(Object.keys(e.splitMutators)).forEach(o=>{var r,s,a,c,h,d,p,g,m;const f="MaxPlayerCount_PerTeam"===o,_="AiMaxCount_PerTeam"===o,b="AiSpawnType"===o,v=null===(s=null===(r=null==n?void 0:n.availableGameData)||void 0===r?void 0:r.mutators)||void 0===s?void 0:s.find(t=>t.name===o),y=(null==v?void 0:v.kind)?t.getMutatorType(null==v?void 0:v.kind):null;if(v&&y&&null!==y.index){const t=null===(c=null!==(a=e.mutators[o])&&void 0!==a?a:e.splitMutators[o])||void 0===c?void 0:c[y.index];if(t){const e=fN(v);let n=!1;if(void 0!==t.value)n=t.value!==e;else if(void 0!==t.values){const i=t.values[1],o=t.values[2];f&&(t.perTeam=i!==o),n=t.perTeam?t.values.slice(1).findIndex(t=>t!==e)>-1:_&&!this.showPerTeamOption?t.values[1]!==e:t.values[0]!==e}n&&(_&&!this.showPerTeamOption?null===(h=null==i?void 0:i.mutators)||void 0===h||h.push(new Tw({name:v.name,category:v.category,id:v.id,kind:new Ow({mutatorSparseInt:new vw({size:null!==(p=null===(d=t.values)||void 0===d?void 0:d.length)&&void 0!==p?p:0,sparseValues:null===(g=t.values)||void 0===g?void 0:g.map((t,e)=>new fw({value:t,index:e}))})})})):null===(m=null==i?void 0:i.mutators)||void 0===m||m.push(new Tw({name:v.name,category:v.category,id:v.id,kind:bN(v,t)}))),this.showPerTeamOption||(_?u=t.values[1]:b&&1===(n?t.value:e)&&(l=!0))}}}),!this.showPerTeamOption){const t=null===(s=null===(r=n.availableGameData)||void 0===r?void 0:r.mutators)||void 0===s?void 0:s.find(t=>"MaxTeamCount"===t.name);if(l&&(c+=u),t){const e=null==i?void 0:i.mutators.findIndex(e=>e.name===t.name);e>-1&&(null==i||i.mutators.splice(e,1)),null===(a=null==i?void 0:i.mutators)||void 0===a||a.push(new Tw({name:t.name,category:t.category,id:t.id,kind:new Ow({mutatorInt:new pw({value:c})})}))}else lN.error("Could not set MaxTeamCount mutator since it does not exist in Blueprint")}}addTags(t,e,n){var i,o;n.assetCategories=[];const r=[];Object.keys(t.tags).forEach(i=>{var o,s,a,l,c;const u=null===(a=null===(s=null===(o=null==e?void 0:e.availableGameData)||void 0===o?void 0:o.assetCategories)||void 0===s?void 0:s.tags)||void 0===a?void 0:a.find(t=>t.tagId===i);if(u){const e=t.tags[i];if(e&&e.values.findIndex(t=>!0!==t)>-1){const t=!e.values.every(t=>!1===t),i=[];e.values.forEach((e,n)=>{var o;e!==t&&(i.push(new Pw({assetCategoryTags:u.tagId?[u.tagId]:void 0,teamId:n+1,value:e})),(null===(o=null==u?void 0:u.childrenTags)||void 0===o?void 0:o.length)&&r.push({blueprintTag:u,isBoth:!1,team:n+1}))}),null===(l=null==n?void 0:n.assetCategories)||void 0===l||l.push(new Iw({tagId:u.tagId,boolean:new kw({defaultValue:t,teamOverrides:i})})),(null===(c=null==u?void 0:u.childrenTags)||void 0===c?void 0:c.length)&&!1===t&&r.push({blueprintTag:u,isBoth:!0})}}}),r.length&&this.removeTags(n.assetCategories,r,null===(o=null===(i=null==e?void 0:e.availableGameData)||void 0===i?void 0:i.assetCategories)||void 0===o?void 0:o.tags)}removeTags(t,e,n){void 0!==t&&t.length&&e.forEach(({blueprintTag:e,isBoth:i,team:o})=>{var r;null===(r=e.childrenTags)||void 0===r||r.forEach(e=>{var r,s,a,l,c;const u=null==n?void 0:n.find(t=>t.tagId===e);if(0===(null===(r=null==u?void 0:u.childrenTags)||void 0===r?void 0:r.length)){const n=t.findIndex(t=>t.tagId===e);if(i&&n>-1)null==t||t.splice(n,1);else{const e=null===(c=null===(l=null===(a=null===(s=null==t?void 0:t[n])||void 0===s?void 0:s.boolean)||void 0===a?void 0:a.teamOverrides)||void 0===l?void 0:l[0])||void 0===c?void 0:c.teamId;n>-1&&e===o&&(null==t||t.splice(n,1))}}})})}arrayEquals(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===e.length&&t.every((t,n)=>t===e[n])}handleSyncMutators(t){this.areMutatorsSynced=t,this.areMutatorsSynced?this.syncMutators():this.setAIMutatorsToDefault()}syncMutators(){this.aiSyncedMutators$.pipe($g()).subscribe(e=>{var n,i;for(const o of e){if(void 0===o.kind)return;const e=t.getMutatorType(o.kind).index,r=null===(n=o.name)||void 0===n?void 0:n.split("AI_")[1];if(r&&e&&o.name&&this.mutatorsFormGroup){const t=this.mutatorsFormGroup.controls[r];if(t){const n=t.controls[e].value.values,r=t.controls[e].value.perTeam,s=this.mutatorsFormGroup.get(o.name);this.arrayEquals(n,null==s?void 0:s.controls[e].value.values)||(null===(i=null==s?void 0:s.get(`${e}`))||void 0===i||i.patchValue({perTeam:r,values:n}),this.mutatorsFormGroup.markAsDirty())}}}})}setAIMutatorsToDefault(){this.aiSyncedMutators$.pipe($g()).subscribe(t=>{var e;for(const n of t){const t=n.kind,i=n.name;if(i){const o=this.mutatorsFormGroup.controls[i],r=fN(n);null===(e=null==o?void 0:o.get(`${t}`))||void 0===e||e.patchValue({perTeam:!1,values:[r,r,r]}),this.mutatorsFormGroup.markAsDirty()}}})}toggleClassnames(t,e,n=[]){n.forEach(t?t=>{this.renderer.addClass(e,t)}:t=>{this.renderer.removeClass(e,t)})}toggleScrolling(t){this.toggleClassnames(t,document.body,[this.DISABLE_SCROLLING_CLASS])}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(ta),i.LFG(cR),i.LFG(Bp),i.LFG(kN),i.LFG(aN),i.LFG(C),i.LFG(Vp.yh),i.LFG(ID),i.LFG(tN),i.LFG(SN),i.LFG(i.FYo))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();function fN(t){var e,n,i,o,r,s,a,l,c,u,h;if(t.kind)switch(mN.getMutatorType(t.kind).index){case dM.KindCase.mutatorBoolean:return null===(e=t.kind.mutatorBoolean)||void 0===e?void 0:e.value;case dM.KindCase.mutatorFloatValues:return null===(i=null===(n=t.kind.mutatorFloatValues)||void 0===n?void 0:n.mutator)||void 0===i?void 0:i.value;case dM.KindCase.mutatorIntValues:return null===(r=null===(o=t.kind.mutatorIntValues)||void 0===o?void 0:o.mutator)||void 0===r?void 0:r.value;case dM.KindCase.mutatorSparseBoolean:return null===(s=t.kind.mutatorSparseBoolean)||void 0===s?void 0:s.defaultValue;case dM.KindCase.mutatorSparseFloatValues:return null===(l=null===(a=t.kind.mutatorSparseFloatValues)||void 0===a?void 0:a.mutator)||void 0===l?void 0:l.defaultValue;case dM.KindCase.mutatorSparseIntValues:return null===(u=null===(c=t.kind.mutatorSparseIntValues)||void 0===c?void 0:c.mutator)||void 0===u?void 0:u.defaultValue;case dM.KindCase.mutatorString:return null===(h=t.kind.mutatorString)||void 0===h?void 0:h.value}}function _N(t){var e,n,i,o,r,s,a;if(void 0!==(null==t?void 0:t.kind))switch(mN.getMutatorType(t.kind).index){case Ow.KindCase.mutatorBoolean:return null===(e=null==t?void 0:t.kind.mutatorBoolean)||void 0===e?void 0:e.value;case Ow.KindCase.mutatorString:return null===(n=null==t?void 0:t.kind.mutatorString)||void 0===n?void 0:n.value;case Ow.KindCase.mutatorFloat:return null===(i=null==t?void 0:t.kind.mutatorFloat)||void 0===i?void 0:i.value;case Ow.KindCase.mutatorInt:return null===(o=null==t?void 0:t.kind.mutatorInt)||void 0===o?void 0:o.value;case Ow.KindCase.mutatorSparseBoolean:return null===(r=null==t?void 0:t.kind.mutatorSparseBoolean)||void 0===r?void 0:r.defaultValue;case Ow.KindCase.mutatorSparseFloat:return null===(s=null==t?void 0:t.kind.mutatorSparseFloat)||void 0===s?void 0:s.defaultValue;case Ow.KindCase.mutatorSparseInt:return null===(a=null==t?void 0:t.kind.mutatorSparseInt)||void 0===a?void 0:a.defaultValue}}function bN(t,e){var n,i,o,r,s,a,l,c;let u=Ow.KindCase.none;const h={};switch(t.kind?mN.getMutatorType(t.kind).index:0){case dM.KindCase.mutatorBoolean:u=Ow.KindCase.mutatorBoolean,h.mutatorBoolean=new dw({value:e.value});break;case dM.KindCase.mutatorFloatValues:u=Ow.KindCase.mutatorFloat,h.mutatorFloat=new gw({value:e.value});break;case dM.KindCase.mutatorIntValues:u=Ow.KindCase.mutatorInt,h.mutatorInt=new pw({value:e.value});break;case dM.KindCase.mutatorSparseBoolean:u=Ow.KindCase.mutatorSparseBoolean;const d=e.perTeam?e.values[1]:e.values[0];h.mutatorSparseBoolean=new bw({defaultValue:d,size:null===(i=null===(n=t.kind)||void 0===n?void 0:n.mutatorSparseBoolean)||void 0===i?void 0:i.size,sparseValues:e.perTeam?e.values.map((t,e)=>new mw({index:e,value:t})).filter((t,e)=>0!==e&&t.value!==d):void 0});break;case dM.KindCase.mutatorSparseFloatValues:u=Ow.KindCase.mutatorSparseFloat;const p=e.perTeam?e.values[1]:e.values[0];h.mutatorSparseFloat=new yw({defaultValue:p,size:null===(s=null===(r=null===(o=t.kind)||void 0===o?void 0:o.mutatorSparseFloatValues)||void 0===r?void 0:r.mutator)||void 0===s?void 0:s.size,sparseValues:e.perTeam?e.values.map((t,e)=>new _w({index:e,value:t})).filter((t,e)=>0!==e&&t.value!==p):void 0});break;case dM.KindCase.mutatorSparseIntValues:u=Ow.KindCase.mutatorSparseInt;const g=e.perTeam?e.values[1]:e.values[0];h.mutatorSparseInt=new vw({defaultValue:g,size:null===(c=null===(l=null===(a=t.kind)||void 0===a?void 0:a.mutatorSparseIntValues)||void 0===l?void 0:l.mutator)||void 0===c?void 0:c.size,sparseValues:e.perTeam?e.values.map((t,e)=>new fw({index:e,value:t})).filter((t,e)=>0!==e&&t.value!==g):void 0});break;case dM.KindCase.mutatorString:u=Ow.KindCase.mutatorString,h.mutatorString=new Cw({value:e.value})}return new Ow(Object.assign({},h))}function vN(t,e){var n,i;const o=null===(i=null===(n=t.metadata)||void 0===n?void 0:n.translations)||void 0===i?void 0:i.find(t=>t.kind===`Value ${e}`);return`${null==o?void 0:o.translationId}`}function yN(t,e){var n,i,o,r,s,a,l,c,u,h,d,p,g,m,f,_,b,v,y,C,O,T,E,S,w,M;if(void 0!==e.kind)switch(mN.getMutatorType(e.kind).index){case dM.KindCase.mutatorBoolean:null===(n=t.get("value"))||void 0===n||n.setValue(null===(i=e.kind.mutatorBoolean)||void 0===i?void 0:i.value);break;case dM.KindCase.mutatorFloatValues:null===(o=t.get("value"))||void 0===o||o.setValue(null===(s=null===(r=e.kind.mutatorFloatValues)||void 0===r?void 0:r.mutator)||void 0===s?void 0:s.value);break;case dM.KindCase.mutatorIntValues:null===(a=t.get("value"))||void 0===a||a.setValue(null===(c=null===(l=e.kind.mutatorIntValues)||void 0===l?void 0:l.mutator)||void 0===c?void 0:c.value);break;case dM.KindCase.mutatorSparseBoolean:null===(u=t.get("perTeam"))||void 0===u||u.setValue(!1),null===(h=t.get("values"))||void 0===h||h.setValue(new Array(null===(d=e.kind.mutatorSparseBoolean)||void 0===d?void 0:d.size).fill(null===(p=e.kind.mutatorSparseBoolean)||void 0===p?void 0:p.defaultValue));break;case dM.KindCase.mutatorSparseFloatValues:null===(g=t.get("perTeam"))||void 0===g||g.setValue(!1),null===(m=t.get("values"))||void 0===m||m.setValue(new Array(null===(_=null===(f=e.kind.mutatorSparseFloatValues)||void 0===f?void 0:f.mutator)||void 0===_?void 0:_.size).fill(null===(v=null===(b=e.kind.mutatorSparseFloatValues)||void 0===b?void 0:b.mutator)||void 0===v?void 0:v.defaultValue));break;case dM.KindCase.mutatorSparseIntValues:null===(y=t.get("perTeam"))||void 0===y||y.setValue(!1),null===(C=t.get("values"))||void 0===C||C.setValue(new Array(null===(T=null===(O=e.kind.mutatorSparseIntValues)||void 0===O?void 0:O.mutator)||void 0===T?void 0:T.size).fill(null===(S=null===(E=e.kind.mutatorSparseIntValues)||void 0===E?void 0:E.mutator)||void 0===S?void 0:S.defaultValue));break;case dM.KindCase.mutatorString:null===(w=t.get("value"))||void 0===w||w.setValue(null===(M=e.kind.mutatorString)||void 0===M?void 0:M.value)}}function CN(t,e){switch(t.value){case"Conquest":return lL(e?"conquest_selected":"conquest");case"ConquestSmall":return lL(e?"conquest_small_selected":"conquest_small");case"ModBuilderCustom":return lL(e?"mod_builder_custom_selected":"mod_builder_custom");case"Rush":return lL(e?"rush_selected":"rush")}}var ON=function(t){return t[t.None=-1]="None",t[t.Required=0]="Required",t[t.Functional=1]="Functional",t[t.Advertising=2]="Advertising",t}({});function TN(){return function(){var t;const e=ym().get("notice_preferences");switch(null===(t=null==e?void 0:e.split(":"))||void 0===t?void 0:t[0]){case"0":return ON.Required;case"1":return ON.Functional;case"2":return ON.Advertising;default:return ON.None}}()>=ON.Functional}const EN=Sm.get("telemetry");let SN=(()=>{class t extends class{triggerLogin(t){this.handleEvent("login",t)}triggerLogout(t){this.handleEvent("logout",t)}triggerPageView(t){this.handleEvent("page_view",t)}triggerSettings(t){this.handleEvent("settings",t)}}{constructor(t,e,n){super(),this.httpClient=t,this.store=e,this.router=n,this.eventCounter=0,this.queuedEvents=[],this.queueSize=0;const i=jm();this.store.select(Dm).pipe((0,ia.h)(t=>!!t)).subscribe(t=>{t.hasSession?(this.sessionState=t,this.sessionHeaders={rel:"prod"===cm?"prod":"test",v:"2384652",loc:i,taxv:"2.0",tidt:"projectid",tid:"312396 ",sid:t.sessionId,plat:"web",et:"client_web_builder",ts_post:"NOT_SET_YET"}):(this.sessionState=void 0,this.sessionHeaders=void 0)}),this.router.events.subscribe(t=>{if(t instanceof oA){const e=this.currentPage,n=this.pageVisitTime;this.currentPage=t.urlAfterRedirects.split("?")[0],this.pageVisitTime=Date.now(),this.triggerPageView({type:"web_page",pgid:this.currentPage,fromid:e,pgdur:n&&(this.pageVisitTime-n)/1e3,ldur:void 0})}}),window.addEventListener("beforeunload",()=>{this.flushQueue()}),window.addEventListener("unload",()=>{this.flushQueue()})}handleEvent(t,e){var n,i,o,r;if(!this.sessionState)return;EN.debug("*** TelemetryService.handleEvent",{eventName:t},{params:e});const s={s:++this.eventCounter,en:t,pidt:"nucleus",pid:(null===(i=null===(n=this.sessionState)||void 0===n?void 0:n.player)||void 0===i?void 0:i.nucleusId)||"",ts_event:(new Date).toISOString(),pidm:{persona:(null===(r=null===(o=this.sessionState)||void 0===o?void 0:o.player)||void 0===r?void 0:r.personaId)||""}},a=Object.assign(Object.assign({},e),{core:s}),l=JSON.stringify(a);this.queuedEvents.push(l),this.queueSize+=l.length,void 0===this.nextSendTimeout?this.nextSendTimeout=setTimeout(()=>{this.flushQueue()},6e4):this.queueSize>2e4&&this.flushQueue()}flushQueue(){if(!TN())return void EN.debug("Not flushing telemetry queue since telemetry is disabled!");if(0===this.queuedEvents.length)return;this.nextSendTimeout&&(clearTimeout(this.nextSendTimeout),this.nextSendTimeout=void 0);const t=this.generatePayLoad();this.clearQueue(),this.sendJsonPayload(t)}generatePayLoad(){return this.sessionHeaders?(this.sessionHeaders.ts_post=(new Date).toISOString(),JSON.stringify(Object.assign(Object.assign({},this.sessionHeaders),{events:["QUEUED_EVENTS_PLACEHOLDER"]})).replace('"QUEUED_EVENTS_PLACEHOLDER"',this.queuedEvents.join(","))):""}clearQueue(){this.queuedEvents.length=0,this.queueSize=0}sendJsonPayload(t){TN()?(EN.debug("*** TelemetryService.sendJsonPayload",t),this.httpClient.post(lm,t,{headers:{"x-ea-game-id":"","x-ea-game-id-type":"","x-ea-taxv":"","x-ea-env":cm,"application-id":""}}).toPromise()):EN.debug("Not sending telemetry payload since telemetry is disabled!")}triggerLogout(t){super.triggerLogout(t),this.flushQueue()}triggerPlaygroundAction(t,e){var n;const i=t.playgroundId;if(!i)return;const o=[];null===(n=t.mutators)||void 0===n||n.forEach(t=>{const e=_N(t);o.push({id:t.id||"",name:t.name||"",value:""+e})}),o&&this.triggerSettings({id:i,type:"element-list",status:e,settings:o})}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Oa),i.LFG(Vp.yh),i.LFG(ID))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),wN=(()=>{class t{constructor(t,e,n,i,o){this.actions$=t,this.route=e,this.router=n,this.sessionService=i,this.telemetryService=o,this.retrieveSession$=hg(()=>this.actions$.pipe(vg(hm),og(({authCode:t,redirectUri:e})=>this.sessionService.authViaCode(t,e).pipe((0,Cr.U)(t=>t&&t.sessionId&&t.player?dm({sessionId:t.sessionId,player:t.player}):pm()))))),this.retrieveSessionSuccess$=hg(()=>this.actions$.pipe(vg(dm),(0,Cr.U)(({sessionId:t="",player:e})=>(function(t,e){if(t){const e=new Date;e.setSeconds(e.getSeconds()+86400),ym().set("sessionId",t,{expires:e,sameSite:"Strict",secure:!0})}if(e){const t=new Date;t.setSeconds(t.getSeconds()+86400),ym().set("player",JSON.stringify(e),{expires:t,sameSite:"Strict",secure:!0})}}(t,e),gm({sessionId:t,player:e}))))),this.retrieveSessionFailure$=hg(()=>this.actions$.pipe(vg(pm),(0,Cr.U)(()=>(Pm(),gm({sessionId:"",player:void 0}))))),this.onSetSession$=hg(()=>this.actions$.pipe(vg(gm),Gu(({player:t})=>{this.telemetryService.triggerLogin({type:"nucleus",status:"success",source:"web"})})),{dispatch:!1}),this.resetSession$=hg(()=>this.actions$.pipe(vg(mm),Gu(()=>{this.telemetryService.triggerLogout({type:"nucleus",end_reason:"normal"})}),og(()=>{const t=xm();return this.sessionService.logout(t).pipe(Gu(()=>{Pm()}),(0,Cr.U)(()=>fm()))})))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(bg),i.LFG(cR),i.LFG(ID),i.LFG(aL),i.LFG(SN))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const MN=new i.OlP("GRPC_CLIENT_LOCALIZATION_CLIENT_SETTINGS");let xN=(()=>{class t{constructor(t,e,n){this.handler=n,this.$raw={getTranslations:(t,e=new Nu)=>this.handler.handle({type:Ru.unary,client:this.client,path:"/web.localization.ClientLocalization/getTranslations",requestData:t,requestMetadata:e,requestClass:tx,responseClass:ex})},this.client=e.createClient("web.localization.ClientLocalization",t)}getTranslations(t,e=new Nu){return this.$raw.getTranslations(t,e).pipe(Qu(),th())}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(MN,8),i.LFG(Zu),i.LFG(qu))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const PN=Sm.get("blueprint");let kN=(()=>{class t{constructor(t,e,n,i,o){this.store=t,this.sessionEffects=e,this.communityGamesClient=n,this.localizationClient=i,this.httpClient=o,this.blueprint$=this.store.select(Fm).pipe($g(),(0,zu.w)(t=>this.communityGamesClient.getScheduledBlueprints(new VM,t).pipe(WS(3),(0,qp.K)(this.handleError("getScheduledBlueprints")),(0,zu.w)(e=>{var n;const i=e.blueprints;if(!i||!(null===(n=i[0])||void 0===n?void 0:n.blueprintId))return _p.E;this.didFetchBlueprintsFail=!1;const o=i[0].blueprintId;return(0,br.D)(this.db.blueprint.toArray().catch(t=>{PN.error("Blueprint cache query failed with: ",t)})).pipe((0,na.b)(e=>{var n,i;return e&&(null===(n=null==e?void 0:e[0])||void 0===n?void 0:n.payload)&&(null===(i=null==e?void 0:e[0])||void 0===i?void 0:i.blueprintId)===o?(0,ea.of)(e[0].payload):this.communityGamesClient.getBlueprintsById(new jM({blueprintIds:[o],includeFields:[Nw.AVAILABLE_GAME_DATA,Nw.METADATA,Nw.CUSTOM_DATA,Nw.CONSTRAINTS,Nw.AVAILABLE_TAGS]}),t).pipe((0,qp.K)(this.handleError(`getBlueprintsById id=[${o}]`)),(0,Cr.U)(t=>{var e,n;const i=null!==(n=null===(e=t.blueprints)||void 0===e?void 0:e[0].toJSON())&&void 0!==n?n:void 0;if(void 0!==i)return this.db.clearAll().then(()=>{this.db.blueprint.put({blueprintId:o,payload:i})}),i;PN.error("Blueprint returned undefined")}))}))}))),Au(1)),this.presets$=this.blueprint$.pipe((0,Cr.U)(t=>(null==t?void 0:t.customData)?OM.deserializeBinary(t.customData):void 0),Gu(t=>PN.debug("[Blueprint Custom Data]",t)),(0,Cr.U)(t=>{var e,n;return[...null!==(e=null==t?void 0:t.standardPresets)&&void 0!==e?e:[],...null!==(n=null==t?void 0:t.scriptedPresets)&&void 0!==n?n:[]]}),Gu(t=>PN.debug("[Blueprint Presets]",t)),Au(1)),this.constraints$=this.store.select(Fm).pipe($g(),(0,zu.w)(t=>this.communityGamesClient.getConstraints(new zM,t).pipe((0,qp.K)(this.handleError("getConstraints")),(0,Cr.U)(t=>t&&Object.keys(t).length?t.toObject().globalConstraints:{}))),Au(1)),this.maxFollowedHostsListSize$=this.constraints$.pipe((0,Cr.U)(t=>t.maxFollowedHostListSize)),this.maxGameServersPerPlayer$=this.constraints$.pipe((0,Cr.U)(t=>t.maxGameServersPerPlayer)),this.maxPlaygroundsPerPlayer$=this.constraints$.pipe((0,Cr.U)(t=>t.maxPlaygroundsPerPlayer)),this.availableTags$=this.blueprint$.pipe((0,Cr.U)(t=>null==t?void 0:t.availableTags)),this.rulesVersion$=this.blueprint$.pipe((0,Cr.U)(t=>{var e,n,i;return null!==(i=null===(n=null===(e=null==t?void 0:t.availableGameData)||void 0===e?void 0:e.modRules)||void 0===n?void 0:n.rulesVersion)&&void 0!==i?i:0})),this.blocklyDefinitions$=this.blueprint$.pipe((0,Cr.U)(t=>{var e,n;if(null===(n=null===(e=null==t?void 0:t.availableGameData)||void 0===e?void 0:e.modRules)||void 0===n?void 0:n.modBuilder){const e=(new TextDecoder).decode(t.availableGameData.modRules.modBuilder);return JSON.parse(e)}return{actions:[],controlActions:[],events:[],objects:[],selectionLists:[],types:[],values:[],constraints:{maxDepth:0,maxGlobalVariables:0,maxObjectVariables:0}}})),this.assetCategories$=this.blueprint$.pipe((0,Cr.U)(t=>{var e;return null===(e=null==t?void 0:t.availableGameData)||void 0===e?void 0:e.assetCategories})),this.assetCategoryTags$=this.assetCategories$.pipe((0,Cr.U)(t=>(null==t?void 0:t.tags)||[])),this.assetCategoryLeafTags$=this.assetCategories$.pipe((0,Cr.U)(t=>{var e;return null===(e=null==t?void 0:t.tags)||void 0===e?void 0:e.filter(t=>{var e;return 0===(null!==(e=t.childrenTags)&&void 0!==e?e:[]).length||[]})}),Au(1)),this.translations$=Hv([this.blueprint$,this.presets$,this.blocklyDefinitions$]).pipe((0,zu.w)(([t,e,n])=>{const i=jm()||Vm;return(0,br.D)(this.db.translations.where("locale").equals(i).toArray().catch(t=>{PN.error("Translations cache query failed with: ",t)})).pipe((0,na.b)(o=>{var r,s,a,l,c,u,h,d,p,g;if(o&&(null===(r=null==o?void 0:o[0])||void 0===r?void 0:r.translations))return(0,ea.of)(null===(s=null==o?void 0:o[0])||void 0===s?void 0:s.translations);let m=[];return null===(c=null===(l=null===(a=null==t?void 0:t.availableGameData)||void 0===a?void 0:a.assetCategories)||void 0===l?void 0:l.tags)||void 0===c||c.forEach(t=>{var e,n;null===(n=null===(e=t.metadata)||void 0===e?void 0:e.translations)||void 0===n||n.forEach(t=>t.translationId&&m.push(t.translationId))}),null===(h=null===(u=null==t?void 0:t.availableGameData)||void 0===u?void 0:u.maps)||void 0===h||h.forEach(t=>{var e,n,i;const o=null===(e=t.levelLocation)||void 0===e?void 0:e.startsWith("ModBuilderCustom");null===(i=null===(n=t.metadata)||void 0===n?void 0:n.translations)||void 0===i||i.forEach(e=>{var n;e.translationId&&m.push(e.translationId+(o?`_${null===(n=t.levelLocation)||void 0===n?void 0:n.toUpperCase()}`:""))})}),null===(p=null===(d=null==t?void 0:t.availableGameData)||void 0===d?void 0:d.mutators)||void 0===p||p.forEach(t=>{var e,n;null===(n=null===(e=t.metadata)||void 0===e?void 0:e.translations)||void 0===n||n.forEach(t=>t.translationId&&m.push(t.translationId))}),null===(g=null==t?void 0:t.availableTags)||void 0===g||g.forEach(t=>{var e,n;null===(n=null===(e=t.metadata)||void 0===e?void 0:e.translations)||void 0===n||n.forEach(t=>t.translationId&&m.push(t.translationId))}),[...n.actions,...n.values,...n.objects,...n.events].forEach(t=>{t.displayNameSID&&m.push(t.displayNameSID)}),n.selectionLists.forEach(t=>{t.displayNameSID&&m.push(t.displayNameSID),t.selectionValues.forEach(t=>{m.push(t.displayNameSID)})}),e.forEach(t=>{var e,n;null===(n=null===(e=t.meta)||void 0===e?void 0:e.translations)||void 0===n||n.forEach(t=>t.translationId&&m.push(t.translationId))}),m=[...new Set(m)],this.store.select(Fm).pipe((0,zu.w)(t=>this.localizationClient.getTranslations(new tx({locale:i,translationsQuery:new XM({sidList:new JM({sids:m})})}),t).pipe((0,qp.K)(this.handleError("getTranslations")),(0,Cr.U)(t=>{var e,n;const o=null!==(n=null===(e=t.toJSON().localizedTexts)||void 0===e?void 0:e.reduce((t,{sid:e,localizedText:n})=>(void 0===e||void 0===n||(t[e]=n),t),{}))&&void 0!==n?n:{};return VI.waitFor(this.db.translations.clear()).then(()=>{this.db.translations.put({locale:i,translations:o})}),o}))),$g())}))}),Au(1)),this.didFetchBlueprintsFail=!1,this.db=new qI}handleError(t="operation",e){return n=>(PN.error(n),"getScheduledBlueprints"===t&&(this.didFetchBlueprintsFail=!0),(0,ea.of)(null!=e?e:{}))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Vp.yh),i.LFG(wN),i.LFG(nN),i.LFG(xN),i.LFG(Oa))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),IN=(()=>{class t{constructor(t){this.blueprintService=t}ngOnDestroy(){}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(kN))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const AN=function(t){return{"icon-small":t}};function RN(t,e){if(1&t&&(i.TgZ(0,"div",5),i._UZ(1,"mat-icon",6),i.qZA()),2&t){const t=i.oxw(2);i.xp6(1),i.Q6J("ngClass",i.VKq(2,AN,"sm"===t.iconSize))("svgIcon",t.icon)}}function DN(t,e){if(1&t&&i.YNc(0,RN,2,4,"div",4),2&t){const t=i.oxw();i.Q6J("ngIf",t.icon)}}function LN(t,e){}function NN(t,e){1&t&&i.YNc(0,LN,0,0,"ng-template")}function BN(t,e){}function FN(t,e){1&t&&i.YNc(0,BN,0,0,"ng-template")}const UN=function(t,e,n,i,o,r){return{"py-button--flat":t,"py-button--outlined":e,"py-button--fill":n,"py-button--icon-right":i,"py-button--icon-left":o,"py-button--mobile-fab":r}},VN=["*"];let GN=(()=>{class t{constructor(){this.buttonText="",this.icon="",this.iconSize="auto",this.variant="outlined",this.iconRight=!1,this.disabled=!1,this.link=null,this.isMobileFab=!1,this.queryParamsHandling="preserve",this.clickFired=new i.vpe}onClick(){this.clickFired.emit()}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-py-button"]],inputs:{buttonText:"buttonText",icon:"icon",iconSize:"iconSize",variant:"variant",iconRight:"iconRight",disabled:"disabled",link:"link",isMobileFab:"isMobileFab",queryParamsHandling:"queryParamsHandling"},outputs:{clickFired:"clickFired"},ngContentSelectors:VN,decls:7,vars:15,consts:[["type","button",1,"py-button",3,"routerLink","queryParamsHandling","disabled","ngClass","click"],["iconNode",""],[4,"ngIf","ngIfThen"],[1,"py-button-text"],["class","py-button-icon",4,"ngIf"],[1,"py-button-icon"],[3,"ngClass","svgIcon"]],template:function(t,e){if(1&t&&(i.F$t(),i.TgZ(0,"button",0),i.NdJ("click",function(){return e.onClick()}),i.YNc(1,DN,1,1,"ng-template",null,1,i.W1O),i.YNc(3,NN,1,0,void 0,2),i.TgZ(4,"span",3),i.Hsn(5),i.qZA(),i.YNc(6,FN,1,0,void 0,2),i.qZA()),2&t){const t=i.MAs(2);i.Q6J("routerLink",e.link)("queryParamsHandling",e.queryParamsHandling)("disabled",e.disabled)("ngClass",i.HTZ(8,UN,"flat"===e.variant,"outlined"===e.variant,"fill"===e.variant,e.iconRight&&e.icon,!e.iconRight&&e.icon,e.isMobileFab)),i.xp6(3),i.Q6J("ngIf",!e.iconRight)("ngIfThen",t),i.xp6(3),i.Q6J("ngIf",e.iconRight)("ngIfThen",t)}},directives:[AD,P,R,eE],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}[variant=fill][_nghost-%COMP%]{display:flex}.py-button[_ngcontent-%COMP%]{background:none;border:none;padding:4px 30px;display:inline-flex;max-width:360px;min-height:50px;align-items:center;font-family:"Purista-Semibold",var(--font-fallback);text-transform:uppercase;color:#fff;font-size:20px;cursor:pointer;position:relative}.py-button[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;right:0;bottom:0;top:0;z-index:0;border:2px solid #fff}.py-button[disabled][_ngcontent-%COMP%]{color:#434343;cursor:default}.py-button[disabled][_ngcontent-%COMP%]:before{border-color:#434343;background-color:initial;left:0;right:0;bottom:0;top:0}@media (hover:hover){.py-button[disabled][_ngcontent-%COMP%]:hover{color:#434343;cursor:default}.py-button[disabled][_ngcontent-%COMP%]:hover:before{border-color:#434343;background-color:initial;left:0;right:0;bottom:0;top:0}}.py-button[_ngcontent-%COMP%]:active{color:#000}.py-button[_ngcontent-%COMP%]:active:before{background-color:#fff}@media (hover:hover){.py-button[_ngcontent-%COMP%]:hover{color:#000}.py-button[_ngcontent-%COMP%]:hover:before{border-color:#fff;background-color:#fff;left:-2px;right:-2px;bottom:-1px;top:-1px}}.py-button.py-button--flat[_ngcontent-%COMP%]{color:#000}.py-button.py-button--flat[_ngcontent-%COMP%]:before{background-color:#fff;border-color:#fff}.py-button.py-button--flat[disabled][_ngcontent-%COMP%]{color:#434343}.py-button.py-button--flat[disabled][_ngcontent-%COMP%]:before{border-color:#121212;background-color:#121212}@media (hover:hover){.py-button.py-button--flat[disabled][_ngcontent-%COMP%]:hover{color:#434343}.py-button.py-button--flat[disabled][_ngcontent-%COMP%]:hover:before{border-color:#121212;background-color:#121212}}.py-button.py-button--flat[_ngcontent-%COMP%]:active:before{background-color:#c7c7c7;border-color:#c7c7c7}@media (hover:hover){.py-button.py-button--flat[_ngcontent-%COMP%]:before:hover{background-color:#c7c7c7;border-color:#c7c7c7}}.py-button.py-button--fill[_ngcontent-%COMP%]{max-width:none;background-color:#fff;color:#000;text-align:center;flex-grow:1;padding:0}.py-button.py-button--fill[_ngcontent-%COMP%]:before{content:none}html[dir=ltr][_ngcontent-%COMP%]   .py-button.py-button--fill.py-button--icon-right[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .py-button.py-button--fill.py-button--icon-right[_ngcontent-%COMP%]{padding-right:0}html[dir=rtl][_ngcontent-%COMP%]   .py-button.py-button--fill.py-button--icon-right[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .py-button.py-button--fill.py-button--icon-right[_ngcontent-%COMP%]{padding-left:0}.py-button.py-button--fill[_ngcontent-%COMP%]   .py-button-icon[_ngcontent-%COMP%]{background-color:#f2f2f2;justify-content:center;width:50px}html[dir=ltr][_ngcontent-%COMP%]   .py-button.py-button--fill[_ngcontent-%COMP%]   .py-button-icon[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .py-button.py-button--fill[_ngcontent-%COMP%]   .py-button-icon[_ngcontent-%COMP%]{padding-left:0}html[dir=rtl][_ngcontent-%COMP%]   .py-button.py-button--fill[_ngcontent-%COMP%]   .py-button-icon[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .py-button.py-button--fill[_ngcontent-%COMP%]   .py-button-icon[_ngcontent-%COMP%]{padding-right:0}.py-button.py-button--fill[_ngcontent-%COMP%]   .py-button-text[_ngcontent-%COMP%]{flex-grow:1}html[dir=ltr][_ngcontent-%COMP%]   .py-button.py-button--icon-left.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .py-button.py-button--icon-right.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .py-button.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .py-button.py-button--icon-left.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .py-button.py-button--icon-right.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .py-button.py-button--mobile-fab[_ngcontent-%COMP%]{padding-left:13px}html[dir=rtl][_ngcontent-%COMP%]   .py-button.py-button--icon-left.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .py-button.py-button--icon-right.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .py-button.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .py-button.py-button--icon-left.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .py-button.py-button--icon-right.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .py-button.py-button--mobile-fab[_ngcontent-%COMP%]{padding-right:13px}html[dir=ltr][_ngcontent-%COMP%]   .py-button.py-button--icon-left.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .py-button.py-button--icon-right.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .py-button.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .py-button.py-button--icon-left.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .py-button.py-button--icon-right.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .py-button.py-button--mobile-fab[_ngcontent-%COMP%]{padding-right:13px}html[dir=rtl][_ngcontent-%COMP%]   .py-button.py-button--icon-left.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .py-button.py-button--icon-right.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .py-button.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .py-button.py-button--icon-left.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .py-button.py-button--icon-right.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .py-button.py-button--mobile-fab[_ngcontent-%COMP%]{padding-left:13px}@media only screen and (min-width:768px){.py-button.py-button--icon-left.py-button--mobile-fab[_ngcontent-%COMP%], .py-button.py-button--icon-right.py-button--mobile-fab[_ngcontent-%COMP%], .py-button.py-button--mobile-fab[_ngcontent-%COMP%]{padding-top:4px;padding-bottom:7px}html[dir=ltr][_ngcontent-%COMP%]   .py-button.py-button--icon-left.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .py-button.py-button--icon-right.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .py-button.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .py-button.py-button--icon-left.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .py-button.py-button--icon-right.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .py-button.py-button--mobile-fab[_ngcontent-%COMP%]{padding-right:30px}html[dir=rtl][_ngcontent-%COMP%]   .py-button.py-button--icon-left.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .py-button.py-button--icon-right.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .py-button.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .py-button.py-button--icon-left.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .py-button.py-button--icon-right.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .py-button.py-button--mobile-fab[_ngcontent-%COMP%]{padding-left:30px}html[dir=ltr][_ngcontent-%COMP%]   .py-button.py-button--icon-left.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .py-button.py-button--icon-right.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .py-button.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .py-button.py-button--icon-left.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .py-button.py-button--icon-right.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .py-button.py-button--mobile-fab[_ngcontent-%COMP%]{padding-left:30px}html[dir=rtl][_ngcontent-%COMP%]   .py-button.py-button--icon-left.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .py-button.py-button--icon-right.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .py-button.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .py-button.py-button--icon-left.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .py-button.py-button--icon-right.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .py-button.py-button--mobile-fab[_ngcontent-%COMP%]{padding-right:30px}}@media only screen and (min-width:768px){html[dir=ltr][_ngcontent-%COMP%]   .py-button.py-button--icon-left.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .py-button.py-button--icon-left.py-button--mobile-fab[_ngcontent-%COMP%]{padding-left:22px}html[dir=rtl][_ngcontent-%COMP%]   .py-button.py-button--icon-left.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .py-button.py-button--icon-left.py-button--mobile-fab[_ngcontent-%COMP%]{padding-right:22px}}@media only screen and (min-width:768px){html[dir=ltr][_ngcontent-%COMP%]   .py-button.py-button--icon-right.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .py-button.py-button--icon-right.py-button--mobile-fab[_ngcontent-%COMP%]{padding-right:22px}html[dir=rtl][_ngcontent-%COMP%]   .py-button.py-button--icon-right.py-button--mobile-fab[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .py-button.py-button--icon-right.py-button--mobile-fab[_ngcontent-%COMP%]{padding-left:22px}}html[dir=ltr][_ngcontent-%COMP%]   .py-button.py-button--icon-left[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .py-button.py-button--icon-left[_ngcontent-%COMP%]{padding-left:22px}html[dir=rtl][_ngcontent-%COMP%]   .py-button.py-button--icon-left[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .py-button.py-button--icon-left[_ngcontent-%COMP%]{padding-right:22px}html[dir=ltr][_ngcontent-%COMP%]   .py-button.py-button--icon-right[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .py-button.py-button--icon-right[_ngcontent-%COMP%]{padding-right:22px}html[dir=rtl][_ngcontent-%COMP%]   .py-button.py-button--icon-right[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .py-button.py-button--icon-right[_ngcontent-%COMP%]{padding-left:22px}.py-button-text[_ngcontent-%COMP%]{z-index:1}@media only screen and (max-width:767px){.py-button-text[_ngcontent-%COMP%]{font-size:14px}}.py-button-icon[_ngcontent-%COMP%]{align-self:stretch;display:flex;align-items:center;z-index:1}.py-button-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:26px;height:26px}@media only screen and (max-width:767px){.py-button-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:24px;height:24px}}.py-button-icon[_ngcontent-%COMP%]   .icon-small[_ngcontent-%COMP%]{width:23px;height:23px}html[dir=ltr][_ngcontent-%COMP%]   .py-button--icon-right[_ngcontent-%COMP%]   .py-button-icon[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .py-button--icon-right[_ngcontent-%COMP%]   .py-button-icon[_ngcontent-%COMP%]{padding-left:22px}html[dir=rtl][_ngcontent-%COMP%]   .py-button--icon-right[_ngcontent-%COMP%]   .py-button-icon[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .py-button--icon-right[_ngcontent-%COMP%]   .py-button-icon[_ngcontent-%COMP%]{padding-right:22px}html[dir=ltr][_ngcontent-%COMP%]   .py-button--icon-left[_ngcontent-%COMP%]   .py-button-icon[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .py-button--icon-left[_ngcontent-%COMP%]   .py-button-icon[_ngcontent-%COMP%]{padding-right:22px}html[dir=rtl][_ngcontent-%COMP%]   .py-button--icon-left[_ngcontent-%COMP%]   .py-button-icon[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .py-button--icon-left[_ngcontent-%COMP%]   .py-button-icon[_ngcontent-%COMP%]{padding-left:22px}html[dir=ltr][_ngcontent-%COMP%]   .py-button--mobile-fab.py-button--icon-right[_ngcontent-%COMP%]   .py-button-icon[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .py-button--mobile-fab.py-button--icon-right[_ngcontent-%COMP%]   .py-button-icon[_ngcontent-%COMP%]{padding-left:0}html[dir=rtl][_ngcontent-%COMP%]   .py-button--mobile-fab.py-button--icon-right[_ngcontent-%COMP%]   .py-button-icon[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .py-button--mobile-fab.py-button--icon-right[_ngcontent-%COMP%]   .py-button-icon[_ngcontent-%COMP%]{padding-right:0}@media only screen and (min-width:768px){html[dir=ltr][_ngcontent-%COMP%]   .py-button--mobile-fab.py-button--icon-right[_ngcontent-%COMP%]   .py-button-icon[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .py-button--mobile-fab.py-button--icon-right[_ngcontent-%COMP%]   .py-button-icon[_ngcontent-%COMP%]{padding-left:22px}html[dir=rtl][_ngcontent-%COMP%]   .py-button--mobile-fab.py-button--icon-right[_ngcontent-%COMP%]   .py-button-icon[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .py-button--mobile-fab.py-button--icon-right[_ngcontent-%COMP%]   .py-button-icon[_ngcontent-%COMP%]{padding-right:22px}}html[dir=ltr][_ngcontent-%COMP%]   .py-button--mobile-fab.py-button--icon-left[_ngcontent-%COMP%]   .py-button-icon[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .py-button--mobile-fab.py-button--icon-left[_ngcontent-%COMP%]   .py-button-icon[_ngcontent-%COMP%]{padding-right:0}html[dir=rtl][_ngcontent-%COMP%]   .py-button--mobile-fab.py-button--icon-left[_ngcontent-%COMP%]   .py-button-icon[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .py-button--mobile-fab.py-button--icon-left[_ngcontent-%COMP%]   .py-button-icon[_ngcontent-%COMP%]{padding-left:0}@media only screen and (min-width:768px){html[dir=ltr][_ngcontent-%COMP%]   .py-button--mobile-fab.py-button--icon-left[_ngcontent-%COMP%]   .py-button-icon[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .py-button--mobile-fab.py-button--icon-left[_ngcontent-%COMP%]   .py-button-icon[_ngcontent-%COMP%]{padding-right:22px}html[dir=rtl][_ngcontent-%COMP%]   .py-button--mobile-fab.py-button--icon-left[_ngcontent-%COMP%]   .py-button-icon[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .py-button--mobile-fab.py-button--icon-left[_ngcontent-%COMP%]   .py-button-icon[_ngcontent-%COMP%]{padding-left:22px}}']}),t})(),jN=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-index"]],decls:13,vars:9,consts:[[1,"container"],[1,"banner"],[1,"body"],["link","/login","queryParamsHandling","preserve","variant","flat",1,"login-button"],["href","https://www.ea.com/games/battlefield/battlefield-2042/game-overview/modes/battlefield-portal",1,"back-link"],["svgIcon","chevron_left"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i._UZ(1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"p"),i._uU(4),i.ALo(5,"translate"),i.qZA(),i.TgZ(6,"app-py-button",3),i._uU(7),i.ALo(8,"translate"),i.qZA(),i.TgZ(9,"a",4),i._UZ(10,"mat-icon",5),i._uU(11),i.ALo(12,"translate"),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(4),i.Oqu(i.lcZ(5,3,"app.please-sign-in")),i.xp6(3),i.hij(" ",i.lcZ(8,5,"app.sign-in-to-continue")," "),i.xp6(4),i.hij(" ",i.lcZ(12,7,"app.back-to-home")," "))},directives:[GN,eE],pipes:[Fp],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}[_nghost-%COMP%]{height:100%;justify-content:center;align-items:center;display:flex;background-image:linear-gradient(180deg,#0016211a 0,#001621 900px),linear-gradient(90deg,#001621 0,#0016211a 20%,#0016211a 80%,#001621),url(/2384652/assets/backgrounds/2042.png);background-size:2304px auto,2304px auto;background-repeat:no-repeat;background-position:top}html[dir=rtl]   [_nghost-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   -shadowcsshost{direction:rtl}@media only screen and (max-width:767px){[_nghost-%COMP%]{background-image:linear-gradient(180deg,#00162180 0,#001621),url(/2384652/assets/backgrounds/2042.png)}}.container[_ngcontent-%COMP%]{width:426px}.container[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]{height:153px;background:url(/2384652/assets/images/index-banner-bright.jpg)}.container[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{font-family:"BFText-Regular",var(--font-fallback);background-color:#121212;align-items:center;flex-direction:column;display:flex;padding:30px}html[dir=rtl][_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{direction:rtl}.container[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:inline-block;color:#fff;font-size:18px;line-height:28px;margin-bottom:30px}.container[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .login-button[_ngcontent-%COMP%]{margin-bottom:15px}.container[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]{font-size:18px}']}),t})();function HN(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"div",15),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.BQk()),2&t){const t=i.oxw();i.xp6(2),i.Oqu(i.lcZ(3,1,t.reportRoute+"invalid-email"))}}function zN(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"div",15),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.BQk()),2&t){const t=i.oxw();i.xp6(2),i.Oqu(i.lcZ(3,1,t.reportRoute+"require-email"))}}function WN(t,e){if(1&t&&(i.TgZ(0,"mat-option",16),i._uU(1),i.ALo(2,"async"),i.qZA()),2&t){const t=e.$implicit;i.Q6J("value",t.id),i.xp6(1),i.hij(" ",i.lcZ(2,2,t.name$)," ")}}function ZN(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"div",17),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.BQk()),2&t){const t=i.oxw();i.xp6(2),i.Oqu(i.lcZ(3,1,t.reportRoute+"submit-error"))}}let YN=(()=>{class t{constructor(t,e,n){var i,o;this.translateService=t,this.dialogRef=e,this.data=n,this.title$=null!==(i=this.data.title$)&&void 0!==i?i:this.translateService.get("dialog.alert-header"),this.confirmLabel$=null!==(o=this.data.confirmLabel$)&&void 0!==o?o:this.translateService.get("generic.confirm")}onCancel(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Bp),i.Y36(tT),i.Y36(nT))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-alert-dialog"]],decls:11,vars:10,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(t,e){1&t&&(i.TgZ(0,"h1",0),i._uU(1),i.ALo(2,"async"),i.qZA(),i.TgZ(3,"div",1),i.TgZ(4,"p"),i._uU(5),i.ALo(6,"async"),i.qZA(),i.qZA(),i.TgZ(7,"div",2),i.TgZ(8,"button",3),i._uU(9),i.ALo(10,"async"),i.qZA(),i.qZA()),2&t&&(i.xp6(1),i.Oqu(i.lcZ(2,4,e.title$)),i.xp6(4),i.Oqu(i.lcZ(6,6,e.data.body$)),i.xp6(3),i.Q6J("mat-dialog-close",!0),i.xp6(1),i.Oqu(i.lcZ(10,8,e.confirmLabel$)))},directives:[uT,hT,dT,rb,cT],pipes:[Z],styles:[".mat-dialog-content[_ngcontent-%COMP%]{margin-bottom:16px}"]}),t})(),qN=(()=>{class t{constructor(t,e,n){var i,o,r;this.translateService=t,this.dialogRef=e,this.data=n,this.title$=null!==(i=this.data.title$)&&void 0!==i?i:this.translateService.get("dialog.confirm-header"),this.cancelLabel$=null!==(o=this.data.cancelLabel$)&&void 0!==o?o:this.translateService.get("generic.cancel"),this.confirmLabel$=null!==(r=this.data.confirmLabel$)&&void 0!==r?r:this.translateService.get("generic.confirm")}onCancel(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Bp),i.Y36(tT),i.Y36(nT))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-confirm-dialog"]],decls:16,vars:13,consts:[["mat-dialog-title",""],["mat-dialog-close","","mat-icon-button","",1,"close-button",3,"click"],["svgIcon","close"],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-stroked-button","","cdkFocusInitial","",3,"click"],["mat-flat-button","","color","primary",3,"mat-dialog-close"]],template:function(t,e){1&t&&(i.TgZ(0,"h1",0),i._uU(1),i.ALo(2,"async"),i.qZA(),i.TgZ(3,"button",1),i.NdJ("click",function(){return e.onCancel()}),i._UZ(4,"mat-icon",2),i.qZA(),i.TgZ(5,"div",3),i.TgZ(6,"p"),i._uU(7),i.ALo(8,"async"),i.qZA(),i.qZA(),i.TgZ(9,"div",4),i.TgZ(10,"button",5),i.NdJ("click",function(){return e.onCancel()}),i._uU(11),i.ALo(12,"async"),i.qZA(),i.TgZ(13,"button",6),i._uU(14),i.ALo(15,"async"),i.qZA(),i.qZA()),2&t&&(i.xp6(1),i.Oqu(i.lcZ(2,5,e.title$)),i.xp6(6),i.Oqu(i.lcZ(8,7,e.data.body$)),i.xp6(4),i.Oqu(i.lcZ(12,9,e.cancelLabel$)),i.xp6(2),i.Q6J("mat-dialog-close",!0),i.xp6(1),i.Oqu(i.lcZ(15,11,e.confirmLabel$)))},directives:[uT,rb,cT,eE,hT,dT],pipes:[Z],styles:["[_nghost-%COMP%]   .mat-dialog-actions[_ngcontent-%COMP%]{padding-bottom:20px}.mat-dialog-content[_ngcontent-%COMP%]{margin-bottom:16px}"]}),t})(),JN=(()=>{class t{constructor(t,e,n,i){this.dialogRef=t,this.data=e,this.translateService=n,this.formBuilder=i,this.shortCode="",this.shortCode=e.body}onCancel(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(tT),i.Y36(nT),i.Y36(Bp),i.Y36(ta))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-share-playground-dialog"]],decls:14,vars:11,consts:[["mat-dialog-title",""],["type","button","mat-dialog-close","","mat-icon-button","",1,"close-button",3,"click"],["svgIcon","close"],["mat-dialog-content",""],["matInput","","type","text","readonly","",1,"share-code-input",3,"value"],["mat-dialog-actions",""],["type","button","mat-button","","aria-label","close button",3,"click"],["type","button","mat-button","",3,"cdkCopyToClipboard"]],template:function(t,e){1&t&&(i.TgZ(0,"h1",0),i._uU(1),i.ALo(2,"translate"),i.qZA(),i.TgZ(3,"button",1),i.NdJ("click",function(){return e.onCancel()}),i._UZ(4,"mat-icon",2),i.qZA(),i.TgZ(5,"div",3),i._UZ(6,"input",4),i.qZA(),i.TgZ(7,"div",5),i.TgZ(8,"button",6),i.NdJ("click",function(){return e.onCancel()}),i._uU(9),i.ALo(10,"translate"),i.qZA(),i.TgZ(11,"button",7),i._uU(12),i.ALo(13,"translate"),i.qZA(),i.qZA()),2&t&&(i.xp6(1),i.Oqu(i.lcZ(2,5,"dialog.server-code-label")),i.xp6(5),i.s9C("value",e.shortCode),i.xp6(3),i.hij(" ",i.lcZ(10,7,"generic.cancel")," "),i.xp6(2),i.Q6J("cdkCopyToClipboard",e.shortCode),i.xp6(1),i.Oqu(i.lcZ(13,9,"dialog.copy-text")))},directives:[uT,rb,cT,eE,hT,vC,dT,Pu],pipes:[Fp],styles:["[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}.share-code-input[_ngcontent-%COMP%]{border:1px solid;padding:4px;margin-top:12px;width:100%;height:32px}"]}),t})(),$N=(()=>{class t{constructor(t,e,n,i){this.dialogRef=t,this.translateService=e,this.playgroundService=n,this.data=i,this.reportRoute="editor.manage.report-suite.",this.emailValue="",this.categoryValue=-1,this.subjectValue="",this.form=new ws({email:new Ss(this.emailValue,[Nr.required,Nr.email]),category:new Ss(this.categoryValue)}),this.categories=this.data.categories,this.isPristineEmail=!0,this.submittingRequest=!1,this.showSubmitError=!1}get disabled(){var t;return-1===this.categoryValue||(null===(t=this.email)||void 0===t?void 0:t.invalid)||!this.emailValue}get email(){return this.form.get("email")}onEmailLeaveFocus(){this.isPristineEmail&&(this.isPristineEmail=!1),this.showSubmitError=!1}onEmailChange(t){this.emailValue=t.target.value}setCategory(t){this.categoryValue=t.value,this.showSubmitError=!1}onSubjectChange(t){this.subjectValue=t.target.value}onCancel(){this.dialogRef.close()}onReport(){this.data.playgroundId.length&&(this.submittingRequest=!0,this.playgroundService.reportPlayground$(this.data.playgroundId,this.emailValue,this.categoryValue,this.subjectValue).subscribe({next:t=>{t.petitionId&&t.petitionId.length?(this.showSubmitError=!1,this.dialogRef.close()):this.showSubmitError=!0,this.submittingRequest=!1}}))}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(tT),i.Y36(Bp),i.Y36(aN),i.Y36(nT))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-report-playground-dialog"]],decls:36,vars:37,consts:[["mat-dialog-title","",1,"title"],["type","button","mat-dialog-close","","mat-icon-button","",1,"close-button",3,"click"],["svgIcon","close"],["mat-dialog-content","",1,"content"],[1,"header"],[1,"email-container",3,"formGroup"],["formControlName","email","type","email","required","",1,"email",3,"placeholder","focusout","change"],[4,"ngIf"],[1,"category-select",3,"placeholder","ngModel","selectionChange","ngModelChange"],["class","category-option",3,"value",4,"ngFor","ngForOf"],[1,"subject",3,"placeholder","change"],[1,"description"],["mat-dialog-actions",""],["type","button","mat-button","","cdkFocusInitial","",1,"cancel",3,"click"],["type","button","mat-button","",1,"report",3,"disabled","click"],[1,"error-message"],[1,"category-option",3,"value"],[1,"submit-error"]],template:function(t,e){1&t&&(i.TgZ(0,"h1",0),i._uU(1),i.ALo(2,"translate"),i.qZA(),i.TgZ(3,"button",1),i.NdJ("click",function(){return e.onCancel()}),i._UZ(4,"mat-icon",2),i.qZA(),i.TgZ(5,"div",3),i.TgZ(6,"div",4),i._uU(7),i.ALo(8,"translate"),i.qZA(),i.TgZ(9,"div",5),i.TgZ(10,"input",6),i.NdJ("focusout",function(){return e.onEmailLeaveFocus()})("change",function(t){return e.onEmailChange(t)}),i.ALo(11,"translate"),i.qZA(),i.YNc(12,HN,4,3,"ng-container",7),i.YNc(13,zN,4,3,"ng-container",7),i.qZA(),i.TgZ(14,"div",4),i._uU(15),i.ALo(16,"translate"),i.qZA(),i.TgZ(17,"mat-select",8),i.NdJ("selectionChange",function(t){return e.setCategory(t)})("ngModelChange",function(t){return e.categoryValue=t}),i.ALo(18,"translate"),i.YNc(19,WN,3,4,"mat-option",9),i.qZA(),i.TgZ(20,"div",4),i._uU(21),i.ALo(22,"translate"),i.qZA(),i.TgZ(23,"textarea",10),i.NdJ("change",function(t){return e.onSubjectChange(t)}),i.ALo(24,"translate"),i.qZA(),i.TgZ(25,"div",11),i._uU(26),i.ALo(27,"translate"),i.qZA(),i.TgZ(28,"div",12),i.TgZ(29,"button",13),i.NdJ("click",function(){return e.onCancel()}),i._uU(30),i.ALo(31,"translate"),i.qZA(),i.TgZ(32,"button",14),i.NdJ("click",function(){return e.onReport()}),i._uU(33),i.ALo(34,"translate"),i.qZA(),i.qZA(),i.YNc(35,ZN,4,3,"ng-container",7),i.qZA()),2&t&&(i.xp6(1),i.Oqu(i.lcZ(2,17,e.reportRoute+"title")),i.xp6(6),i.Oqu(i.lcZ(8,19,e.reportRoute+"email-header")),i.xp6(2),i.Q6J("formGroup",e.form),i.xp6(1),i.Q6J("placeholder",i.lcZ(11,21,e.reportRoute+"email-placeholder")),i.xp6(2),i.Q6J("ngIf",(null==e.email?null:e.email.invalid)&&e.emailValue.length),i.xp6(1),i.Q6J("ngIf",!e.isPristineEmail&&!e.emailValue.length),i.xp6(2),i.Oqu(i.lcZ(16,23,e.reportRoute+"reason-header")),i.xp6(2),i.Q6J("placeholder",i.lcZ(18,25,e.reportRoute+"reason-placeholder"))("ngModel",e.categoryValue),i.xp6(2),i.Q6J("ngForOf",e.categories),i.xp6(2),i.Oqu(i.lcZ(22,27,e.reportRoute+"subject-header")),i.xp6(2),i.Q6J("placeholder",i.lcZ(24,29,e.reportRoute+"subject-placeholder")),i.xp6(3),i.Oqu(i.lcZ(27,31,e.reportRoute+"description")),i.xp6(4),i.hij(" ",i.lcZ(31,33,"generic.cancel")," "),i.xp6(2),i.Q6J("disabled",e.disabled||e.submittingRequest),i.xp6(1),i.hij(" ",i.lcZ(34,35,"generic.report")," "),i.xp6(2),i.Q6J("ngIf",e.showSubmitError))},directives:[uT,rb,cT,eE,hT,ns,Gs,kr,es,qs,$s,R,jC,Ds,I,dT,J_],pipes:[Fp,Z],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}[_nghost-%COMP%]{display:block;font-family:"BF_Modernista-Bold",var(--font-fallback);padding:0;min-height:400px;position:relative}.title[_ngcontent-%COMP%]{font-family:"BF_Modernista-Bold",var(--font-fallback)}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){.title[_ngcontent-%COMP%]{font-size:19px}}.close-button[_ngcontent-%COMP%]{position:absolute;top:0;line-height:20px;width:25px;height:33px;font-weight:700}html[dir=ltr][_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .close-button[_ngcontent-%COMP%]{right:0}html[dir=rtl][_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .close-button[_ngcontent-%COMP%]{left:0}.content[_ngcontent-%COMP%]{min-height:400px}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){.content[_ngcontent-%COMP%]{min-height:434px}}.content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:5px}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){.content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-size:14px}}.content[_ngcontent-%COMP%]   .email-container[_ngcontent-%COMP%]{position:relative}.content[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{background-color:#000;width:100%;color:#d8d8d8;margin-bottom:28px;border:1px solid #d8d8d8;font-size:16px;padding:5px}.content[_ngcontent-%COMP%]   .email.invalid[_ngcontent-%COMP%]{border:1px solid #f33}.content[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{position:absolute;bottom:6px;color:#f33;font-size:12px}.content[_ngcontent-%COMP%]   .category-select[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .subject[_ngcontent-%COMP%]{margin-bottom:15px}.content[_ngcontent-%COMP%]   .subject[_ngcontent-%COMP%]{background-color:#000;width:100%;color:#d8d8d8;border:1px solid #d8d8d8;font-size:16px;padding:5px;resize:none;height:100px}.content[_ngcontent-%COMP%]   .mat-dialog-actions[_ngcontent-%COMP%]{padding:8px 0 0;margin-bottom:0}.content[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{border:1px solid #787878;color:#787878}.content[_ngcontent-%COMP%]   .report[_ngcontent-%COMP%]{background-color:#f33;color:#000}.content[_ngcontent-%COMP%]   .report.mat-button-disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.content[_ngcontent-%COMP%]   .submit-error[_ngcontent-%COMP%]{color:#f33;font-size:12px;margin-top:8px}']}),t})(),KN=(()=>{class t{constructor(t){this.breakpointObserver=t,this.isNarrow$=this.breakpointObserver.observe(["(max-width: 1455px)"]).pipe((0,Cr.U)(t=>t.matches)),this.isTablet$=this.breakpointObserver.observe(["(min-width: 768px) and (max-width: 1030px)"]).pipe((0,Cr.U)(t=>t.matches)),this.isHandset$=this.breakpointObserver.observe(["(max-width: 767px)"]).pipe((0,Cr.U)(t=>t.matches)),this.isHandsetPortrait$=this.breakpointObserver.observe(["max-width: 480px"]).pipe((0,Cr.U)(t=>t.matches)),this.isTabletPlus$=this.breakpointObserver.observe(["(min-width: 768px)"]).pipe((0,Cr.U)(t=>t.matches)),this.isTabletOrSmaller$=this.breakpointObserver.observe(["(max-width: 1030px)"]).pipe((0,Cr.U)(t=>t.matches))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Kv))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),XN=(()=>{class t{constructor(t){this.el=t,this.appTruncatedTextTooltip="",this.titleText="",this.overflow="hidden",this.whitespace="nowrap",this.textOverflow="ellipsis",this.isTruncated=!1}get truncatedState(){return this.isTruncated}checkAndSetTruncation(){const t=this.el.nativeElement;this.isTruncated=t&&t.scrollWidth>t.clientWidth,this.titleText=this.isTruncated?this.appTruncatedTextTooltip||t.innerText:""}ngAfterContentInit(){this.checkAndSetTruncation()}onResize(){this.checkAndSetTruncation()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq))},t.\u0275dir=i.lG2({type:t,selectors:[["","appTruncatedTextTooltip",""]],hostVars:9,hostBindings:function(t,e){1&t&&i.NdJ("resize",function(t){return e.onResize(t.target)},!1,i.Jf7),2&t&&(i.uIk("title",e.titleText),i.Udp("overflow",e.overflow)("white-space",e.whitespace)("text-overflow",e.textOverflow),i.ekj("truncated",e.truncatedState))},inputs:{appTruncatedTextTooltip:"appTruncatedTextTooltip"}}),t})();function QN(t,e){if(1&t&&(i.TgZ(0,"span",32),i._uU(1),i.qZA()),2&t){const t=i.oxw(3);i.xp6(1),i.Oqu(t.playerCount[0])}}function tB(t,e){1&t&&(i.TgZ(0,"span",32),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"playgrounds.cards.vs")," "))}function eB(t,e){if(1&t&&(i.TgZ(0,"span",32),i._uU(1),i.qZA()),2&t){const t=i.oxw(3);i.xp6(1),i.Oqu(t.playerCount[1])}}function nB(t,e){if(1&t&&(i.TgZ(0,"div",14),i.TgZ(1,"div",15),i._UZ(2,"mat-icon",16),i.qZA(),i.YNc(3,QN,2,1,"span",17),i.YNc(4,tB,3,3,"span",17),i.YNc(5,eB,2,1,"span",17),i.qZA()),2&t){const t=i.oxw(2);i.xp6(3),i.Q6J("ngIf",t.playerCount),i.xp6(1),i.Q6J("ngIf",!t.isFFA&&t.playerCount.length>1),i.xp6(1),i.Q6J("ngIf",!t.isFFA&&t.playerCount.length>1)}}function iB(t,e){if(1&t&&(i.TgZ(0,"div",33),i._uU(1),i.TgZ(2,"button",34),i._UZ(3,"mat-icon",35),i.qZA(),i.qZA()),2&t){const t=i.oxw(2);i.xp6(1),i.hij(" ",t.shortCode," "),i.xp6(1),i.Q6J("cdkCopyToClipboard",t.shortCode)}}function oB(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",22),i.TgZ(1,"div",3),i.TgZ(2,"div",4),i.TgZ(3,"div",5),i._UZ(4,"mat-icon",23),i.qZA(),i.TgZ(5,"div",7),i._uU(6),i.ALo(7,"translate"),i.qZA(),i.qZA(),i.TgZ(8,"div",8),i.TgZ(9,"button",9),i.NdJ("click",function(){return i.CHM(t),i.oxw().togglePlayOverlay()}),i._UZ(10,"mat-icon",24),i.qZA(),i.qZA(),i.qZA(),i.TgZ(11,"div",25),i.TgZ(12,"div",26),i._uU(13),i.ALo(14,"translate"),i.qZA(),i.YNc(15,nB,6,3,"div",27),i.qZA(),i.TgZ(16,"div",28),i.TgZ(17,"div",29),i._uU(18),i.ALo(19,"translate"),i.qZA(),i.YNc(20,iB,4,2,"div",30),i.TgZ(21,"div",31),i._uU(22),i.ALo(23,"translate"),i.qZA(),i.qZA(),i.qZA()}if(2&t){const t=i.oxw();i.xp6(6),i.Oqu(i.lcZ(7,6,"playgrounds.cards.play-text")),i.xp6(7),i.hij(" ",t.isPreset?i.lcZ(14,8,t.name||""):t.name," "),i.xp6(2),i.Q6J("ngIf",t.playerCount),i.xp6(3),i.Oqu(i.lcZ(19,10,"playgrounds.cards.server-code")),i.xp6(2),i.Q6J("ngIf",t.shortCode),i.xp6(2),i.hij(" ",i.lcZ(23,12,"playgrounds.cards.server-code-prompt")," ")}}function rB(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",36),i.TgZ(1,"div",3),i.TgZ(2,"div",4),i.TgZ(3,"div",5),i._UZ(4,"mat-icon",37),i.qZA(),i.TgZ(5,"div",7),i._uU(6),i.ALo(7,"translate"),i.qZA(),i.qZA(),i.TgZ(8,"div",8),i.TgZ(9,"button",9),i.NdJ("click",function(){return i.CHM(t),i.oxw().toggleDescription()}),i._UZ(10,"mat-icon",24),i.qZA(),i.qZA(),i.qZA(),i.TgZ(11,"div",38),i._uU(12),i.qZA(),i.qZA()}if(2&t){const t=i.oxw();i.xp6(6),i.Oqu(i.lcZ(7,2,"playgrounds.cards.card-description")),i.xp6(6),i.hij(" ",t.description," ")}}function sB(t,e){if(1&t&&(i.TgZ(0,"span",32),i._uU(1),i.qZA()),2&t){const t=i.oxw();i.xp6(1),i.Oqu(t.playerCount[0])}}function aB(t,e){1&t&&(i.TgZ(0,"span",32),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"playgrounds.cards.vs")," "))}function lB(t,e){if(1&t&&(i.TgZ(0,"span",32),i._uU(1),i.qZA()),2&t){const t=i.oxw();i.xp6(1),i.Oqu(t.playerCount[1])}}function cB(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"button",39),i.NdJ("click",function(){return i.CHM(t),i.oxw().togglePlayOverlay()}),i.TgZ(1,"span",20),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.qZA()}2&t&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"playgrounds.cards.play-text")))}const uB=function(t){return{preset:t}},hB=function(t){return{playgroundId:t}};let dB=(()=>{class t{constructor(t,e){this.playgroundService=t,this.translateService=e,this.mapName="",this.gameMode="",this.playerCount=[],this.name="",this.description="",this.playgroundId="",this.isPreset=!0,this.isFFA=!1,this.thumbnail="",this.showDescription=!1,this.showPlayOverlay=!1,this.shortCode="",this.headerLabel$=null,this.share$=(0,ea.of)()}getGameModeData(){switch(this.gameMode){case"Conquest":return this.headerLabel$=this.translateService.get("playgrounds.conquest-game-mode"),"conquest_header_icon";case"ConquestSmall":return this.headerLabel$=this.translateService.get("playgrounds.conquest-small-game-mode"),"conquest_header_icon";case"Rush":return this.headerLabel$=this.translateService.get("playgrounds.rush-game-mode"),"rush_header_icon";case"ModBuilderCustom":return this.headerLabel$=this.translateService.get("playgrounds.custom-game-mode"),"custom_header_icon";default:return"custom_header_icon"}}ngOnInit(){this.share$=this.playgroundService.sharePlayground$(this.playgroundId).pipe($g(),Au(1))}toggleDescription(){this.showDescription=!this.showDescription}togglePlayOverlay(){this.showPlayOverlay?this.showPlayOverlay=!1:this.isPreset||this.share$.subscribe(t=>{var e,n;this.shortCode=null!==(n=null===(e=null==t?void 0:t.shortCode)||void 0===e?void 0:e.code)&&void 0!==n?n:"",this.showPlayOverlay=!0})}getThumbNail(t,e){if(t)return t;switch(e){case"MP_Harbor":return lL("assets/images/maps/Map_Art_BFBC2_AH_S.jpg");case"MP_LightHouse":return lL("assets/images/maps/Map_Art_BFBC2_VP_S.jpg");case"MP_Frost":return lL("assets/images/maps/Map_Art_BF1942_BB_S.jpg");case"MP_Oasis":return lL("assets/images/maps/Map_Art_BF1942_EA_S.jpg");case"MP_Rural":return lL("assets/images/maps/Map_Art_BF3_CB_S.jpg");case"MP_Port":return lL("assets/images/maps/Map_Art_BF3_NC_S.jpg");case"MP_Orbital":return lL("assets/images/maps/Map_Art_BF2042_ORB_S.jpg");case"MP_Hourglass":return lL("assets/images/maps/Map_Art_BF2042_HG_S.jpg");case"MP_Kaleidoscope":return lL("assets/images/maps/Map_Art_BF2042_KS_S.jpg");case"MP_Irreversible":return lL("assets/images/maps/Map_Art_BF2042_IRR_S.jpg");case"MP_Discarded":return lL("assets/images/maps/Map_Art_BF2042_DIS_S.jpg");case"MP_LongHaul":return lL("assets/images/maps/Map_Art_BF2042_LH_S.jpg");case"MP_TheWall":return lL("assets/images/maps/Map_Art_BF2042_TW_S.jpg");case"MP_Ridge":return lL("assets/images/maps/Map_Art_BF2042_RID_S.jpg")}}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(aN),i.Y36(Bp))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-experience-card"]],inputs:{mapName:"mapName",gameMode:"gameMode",playerCount:"playerCount",name:"name",description:"description",playgroundId:"playgroundId",isPreset:"isPreset",isFFA:"isFFA",thumbnail:"thumbnail"},decls:30,vars:24,consts:[[1,"experience-card"],["class","play-overlay",4,"ngIf"],[1,"image-section"],[1,"header-row"],[1,"header"],[1,"header-icon"],[1,"mat-primary",3,"svgIcon"],[1,"header-text"],[1,"info-wrapper"],["mat-icon-button","","aria-label","info icon",3,"click"],["svgIcon","info"],[1,"experience-name",3,"appTruncatedTextTooltip"],["class","description-overlay",4,"ngIf"],[1,"experience-info-wrapper"],[1,"player-count-wrapper"],[1,"player-count-icon-wrapper"],["svgIcon","players_icon"],["class","player-count-text",4,"ngIf"],[1,"button-group"],["color","primary","mat-stroked-button","",1,"action-button",3,"routerLink","queryParams"],[1,"icon-button-text"],["class","action-button","mat-stroked-button","","color","primary",3,"click",4,"ngIf"],[1,"play-overlay"],["svgIcon","rush_header_icon"],["svgIcon","close"],[1,"experience-card-details-row"],[1,"experience-name"],["class","player-count-wrapper",4,"ngIf"],[1,"server-code-wrapper"],[1,"section-title"],["class","code-wrapper",4,"ngIf"],[1,"server-code-text"],[1,"player-count-text"],[1,"code-wrapper"],["mat-icon-button","",3,"cdkCopyToClipboard"],["svgIcon","copy_icon"],[1,"description-overlay"],["svgIcon","primary_info_icon"],[1,"description-text"],["mat-stroked-button","","color","primary",1,"action-button",3,"click"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.YNc(1,oB,24,14,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"div",3),i.TgZ(4,"div",4),i.TgZ(5,"div",5),i._UZ(6,"mat-icon",6),i.qZA(),i.TgZ(7,"div",7),i._uU(8),i.ALo(9,"async"),i.qZA(),i.qZA(),i.TgZ(10,"div",8),i.TgZ(11,"button",9),i.NdJ("click",function(){return e.toggleDescription()}),i._UZ(12,"mat-icon",10),i.qZA(),i.qZA(),i.qZA(),i.TgZ(13,"div",11),i._uU(14),i.ALo(15,"translate"),i.qZA(),i.YNc(16,rB,13,4,"div",12),i.qZA(),i.TgZ(17,"div",13),i.TgZ(18,"div",14),i.TgZ(19,"div",15),i._UZ(20,"mat-icon",16),i.qZA(),i.YNc(21,sB,2,1,"span",17),i.YNc(22,aB,3,3,"span",17),i.YNc(23,lB,2,1,"span",17),i.qZA(),i.TgZ(24,"div",18),i.TgZ(25,"a",19),i.TgZ(26,"div",20),i._uU(27),i.ALo(28,"translate"),i.qZA(),i.qZA(),i.YNc(29,cB,4,3,"button",21),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(1),i.Q6J("ngIf",e.showPlayOverlay),i.xp6(1),i.Udp("--experience-card-bg","url("+e.getThumbNail(e.thumbnail,e.mapName)+")"),i.xp6(4),i.Q6J("svgIcon",e.getGameModeData()),i.xp6(2),i.Oqu(i.lcZ(9,14,e.headerLabel$)),i.xp6(6),i.hij(" ",e.isPreset?i.lcZ(15,16,e.name||""):e.name," "),i.xp6(2),i.Q6J("ngIf",e.showDescription),i.xp6(5),i.Q6J("ngIf",e.playerCount),i.xp6(1),i.Q6J("ngIf",!e.isFFA&&e.playerCount.length>1),i.xp6(1),i.Q6J("ngIf",!e.isFFA&&e.playerCount.length>1),i.xp6(2),i.s9C("routerLink",e.isPreset?"/experience/new":"/experience"),i.Q6J("queryParams",e.isPreset?i.VKq(20,uB,e.playgroundId):i.VKq(22,hB,e.playgroundId)),i.xp6(2),i.Oqu(i.lcZ(28,18,"generic.modify")),i.xp6(2),i.Q6J("ngIf",!e.isPreset))},directives:[R,eE,rb,XN,sb,RD,Pu],pipes:[Z,Fp],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}.experience-card[_ngcontent-%COMP%]{position:relative;overflow:auto}.experience-card[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]{background:#000;position:absolute;z-index:10;width:100%;height:100%}.experience-card[_ngcontent-%COMP%]   .play-overlay[_ngcontent-%COMP%]   .experience-name[_ngcontent-%COMP%]{padding:0}.experience-card[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px}html[dir=rtl][_ngcontent-%COMP%]   .experience-card[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .experience-card[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]{direction:rtl}.experience-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex}html[dir=rtl][_ngcontent-%COMP%]   .experience-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .experience-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{direction:rtl}.experience-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{display:flex;background:#000;align-items:center;height:30px}html[dir=rtl][_ngcontent-%COMP%]   .experience-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .experience-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{direction:rtl}.experience-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]{display:flex;background:#000;font-family:"Purista-Semibold",var(--font-fallback);font-size:15px;font-style:normal;font-weight:600;letter-spacing:.03em;padding:0 10px 3px 2px;height:30px;justify-content:center;align-items:center;color:#26ffdf;text-align:left}html[dir=rtl][_ngcontent-%COMP%]   .experience-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .experience-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]{direction:rtl}html[lang=ar][_ngcontent-%COMP%]   .experience-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%], html[lang=ar]   [_nghost-%COMP%]   .experience-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]{letter-spacing:0}html[dir=rtl][_ngcontent-%COMP%]   .experience-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .experience-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]{padding:0 2px 3px 10px}html[dir=rtl][_ngcontent-%COMP%]   .experience-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .experience-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]{text-align:right}.experience-card[_ngcontent-%COMP%]   .player-count-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:10px;min-height:41px;color:#c7c7c7}html[dir=rtl][_ngcontent-%COMP%]   .experience-card[_ngcontent-%COMP%]   .player-count-wrapper[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .experience-card[_ngcontent-%COMP%]   .player-count-wrapper[_ngcontent-%COMP%]{direction:rtl}.experience-card[_ngcontent-%COMP%]   .player-count-wrapper[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{vertical-align:top}.experience-card[_ngcontent-%COMP%]   .player-count-wrapper[_ngcontent-%COMP%]   .player-count-text[_ngcontent-%COMP%]{font-family:"BFText-Regular",var(--font-fallback);font-size:24px;font-style:normal;font-weight:400;line-height:32px;letter-spacing:0;text-align:center;text-transform:uppercase;margin:0 5px}html[lang=ar][_ngcontent-%COMP%]   .experience-card[_ngcontent-%COMP%]   .player-count-wrapper[_ngcontent-%COMP%]   .player-count-text[_ngcontent-%COMP%], html[lang=ar]   [_nghost-%COMP%]   .experience-card[_ngcontent-%COMP%]   .player-count-wrapper[_ngcontent-%COMP%]   .player-count-text[_ngcontent-%COMP%]{letter-spacing:0}.experience-card[_ngcontent-%COMP%]   .experience-card-details-row[_ngcontent-%COMP%]{padding:0 10px}.experience-card[_ngcontent-%COMP%]   .experience-card-details-row[_ngcontent-%COMP%]   .player-count-wrapper[_ngcontent-%COMP%]{margin-top:0}.experience-card[_ngcontent-%COMP%]   .server-code-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:10px}html[dir=rtl][_ngcontent-%COMP%]   .experience-card[_ngcontent-%COMP%]   .server-code-wrapper[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .experience-card[_ngcontent-%COMP%]   .server-code-wrapper[_ngcontent-%COMP%]{direction:rtl}.experience-card[_ngcontent-%COMP%]   .server-code-wrapper[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-family:"Purista-Semibold",var(--font-fallback);font-size:20px;font-style:normal;font-weight:600;line-height:27px;letter-spacing:.03em;text-align:left}html[lang=ar][_ngcontent-%COMP%]   .experience-card[_ngcontent-%COMP%]   .server-code-wrapper[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%], html[lang=ar]   [_nghost-%COMP%]   .experience-card[_ngcontent-%COMP%]   .server-code-wrapper[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{letter-spacing:0}html[dir=rtl][_ngcontent-%COMP%]   .experience-card[_ngcontent-%COMP%]   .server-code-wrapper[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .experience-card[_ngcontent-%COMP%]   .server-code-wrapper[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{text-align:right}.experience-card[_ngcontent-%COMP%]   .server-code-wrapper[_ngcontent-%COMP%]   .code-wrapper[_ngcontent-%COMP%]{display:flex;font-family:"BFText-Regular",var(--font-fallback);font-size:24px;font-style:normal;font-weight:400;line-height:32px;letter-spacing:0;text-transform:uppercase;justify-content:space-between;align-items:center;border:1px solid #fff;padding:4px 10px 2px;margin-top:7px;text-align:left}html[dir=rtl][_ngcontent-%COMP%]   .experience-card[_ngcontent-%COMP%]   .server-code-wrapper[_ngcontent-%COMP%]   .code-wrapper[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .experience-card[_ngcontent-%COMP%]   .server-code-wrapper[_ngcontent-%COMP%]   .code-wrapper[_ngcontent-%COMP%]{direction:rtl}html[lang=ar][_ngcontent-%COMP%]   .experience-card[_ngcontent-%COMP%]   .server-code-wrapper[_ngcontent-%COMP%]   .code-wrapper[_ngcontent-%COMP%], html[lang=ar]   [_nghost-%COMP%]   .experience-card[_ngcontent-%COMP%]   .server-code-wrapper[_ngcontent-%COMP%]   .code-wrapper[_ngcontent-%COMP%]{letter-spacing:0}html[dir=rtl][_ngcontent-%COMP%]   .experience-card[_ngcontent-%COMP%]   .server-code-wrapper[_ngcontent-%COMP%]   .code-wrapper[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .experience-card[_ngcontent-%COMP%]   .server-code-wrapper[_ngcontent-%COMP%]   .code-wrapper[_ngcontent-%COMP%]{text-align:right}.experience-card[_ngcontent-%COMP%]   .server-code-wrapper[_ngcontent-%COMP%]   .server-code-text[_ngcontent-%COMP%]{font-family:"BFText-Regular",var(--font-fallback);font-size:16px;font-style:normal;font-weight:400;line-height:24px;letter-spacing:0;margin-top:10px;text-align:left}html[lang=ar][_ngcontent-%COMP%]   .experience-card[_ngcontent-%COMP%]   .server-code-wrapper[_ngcontent-%COMP%]   .server-code-text[_ngcontent-%COMP%], html[lang=ar]   [_nghost-%COMP%]   .experience-card[_ngcontent-%COMP%]   .server-code-wrapper[_ngcontent-%COMP%]   .server-code-text[_ngcontent-%COMP%]{letter-spacing:0}html[dir=rtl][_ngcontent-%COMP%]   .experience-card[_ngcontent-%COMP%]   .server-code-wrapper[_ngcontent-%COMP%]   .server-code-text[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .experience-card[_ngcontent-%COMP%]   .server-code-wrapper[_ngcontent-%COMP%]   .server-code-text[_ngcontent-%COMP%]{text-align:right}.experience-card[_ngcontent-%COMP%]   .experience-name[_ngcontent-%COMP%]{font-family:"Purista-Semibold",var(--font-fallback);font-size:30px;font-style:normal;font-weight:600;line-height:55px;letter-spacing:.02em;text-transform:uppercase;padding:0 10px}html[lang=ar][_ngcontent-%COMP%]   .experience-card[_ngcontent-%COMP%]   .experience-name[_ngcontent-%COMP%], html[lang=ar]   [_nghost-%COMP%]   .experience-card[_ngcontent-%COMP%]   .experience-name[_ngcontent-%COMP%]{letter-spacing:0}.image-section[_ngcontent-%COMP%]{display:flex;height:175px;background-position:50%;background-size:cover;flex-direction:column;position:relative;background-image:linear-gradient(180deg,#0003 55%,#0009 70%,#000 98%),var(--experience-card-bg)}html[dir=rtl][_ngcontent-%COMP%]   .image-section[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .image-section[_ngcontent-%COMP%]{direction:rtl}.image-section[_ngcontent-%COMP%]   .experience-name[_ngcontent-%COMP%]{text-align:center;margin-top:60px}.image-section[_ngcontent-%COMP%]   .description-overlay[_ngcontent-%COMP%]{background:#000;position:absolute;z-index:10;width:100%;height:120%;overflow:auto}.image-section[_ngcontent-%COMP%]   .description-overlay[_ngcontent-%COMP%]   .description-text[_ngcontent-%COMP%]{font-family:"BFText-Regular",var(--font-fallback);font-size:16px;font-style:normal;font-weight:400;line-height:28px;letter-spacing:0;color:#b4b4b4;padding:0 18px;text-align:left}html[lang=ar][_ngcontent-%COMP%]   .image-section[_ngcontent-%COMP%]   .description-overlay[_ngcontent-%COMP%]   .description-text[_ngcontent-%COMP%], html[lang=ar]   [_nghost-%COMP%]   .image-section[_ngcontent-%COMP%]   .description-overlay[_ngcontent-%COMP%]   .description-text[_ngcontent-%COMP%]{letter-spacing:0}.experience-info-wrapper[_ngcontent-%COMP%]{background:#000}.experience-info-wrapper[_ngcontent-%COMP%]   .player-count-wrapper[_ngcontent-%COMP%]{justify-content:center;color:#c7c7c7}.experience-info-wrapper[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;padding:18px 35px}html[dir=rtl][_ngcontent-%COMP%]   .experience-info-wrapper[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .experience-info-wrapper[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{direction:rtl}@media only screen and (max-width:767px){.experience-info-wrapper[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{padding:18px 6px}}.experience-info-wrapper[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:initial;position:relative;align-items:center;flex:1}html[dir=rtl][_ngcontent-%COMP%]   .experience-info-wrapper[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .experience-info-wrapper[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{direction:rtl}@media only screen and (max-width:767px){.experience-info-wrapper[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{font-size:18px}}html[dir=ltr][_ngcontent-%COMP%]   .experience-info-wrapper[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   button.action-button[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .experience-info-wrapper[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   button.action-button[_ngcontent-%COMP%]{margin-left:22px}html[dir=rtl][_ngcontent-%COMP%]   .experience-info-wrapper[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   button.action-button[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .experience-info-wrapper[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   button.action-button[_ngcontent-%COMP%]{margin-right:22px}.experience-info-wrapper[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]     .mat-focus-indicator.mat-stroked-button.mat-button-base{padding:0;width:168px;height:50px}.experience-info-wrapper[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]     .mat-focus-indicator.mat-stroked-button.mat-button-base span.mat-button-wrapper{display:flex;justify-content:center;align-items:center}html[dir=rtl][_ngcontent-%COMP%]   .experience-info-wrapper[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]     .mat-focus-indicator.mat-stroked-button.mat-button-base span.mat-button-wrapper, html[dir=rtl]   [_nghost-%COMP%]   .experience-info-wrapper[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]     .mat-focus-indicator.mat-stroked-button.mat-button-base span.mat-button-wrapper{direction:rtl}.experience-info-wrapper[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]     .mat-focus-indicator.mat-stroked-button.mat-button-base .button-icon-wrapper, .experience-info-wrapper[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]     .mat-focus-indicator.mat-stroked-button.mat-button-base .featured-button-text{display:flex;justify-content:center;align-items:center}html[dir=rtl][_ngcontent-%COMP%]   .experience-info-wrapper[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]     .mat-focus-indicator.mat-stroked-button.mat-button-base .button-icon-wrapper, html[dir=rtl][_ngcontent-%COMP%]   .experience-info-wrapper[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]     .mat-focus-indicator.mat-stroked-button.mat-button-base .featured-button-text, html[dir=rtl]   [_nghost-%COMP%]   .experience-info-wrapper[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]     .mat-focus-indicator.mat-stroked-button.mat-button-base .button-icon-wrapper, html[dir=rtl]   [_nghost-%COMP%]   .experience-info-wrapper[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]     .mat-focus-indicator.mat-stroked-button.mat-button-base .featured-button-text{direction:rtl}.experience-info-wrapper[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]     .mat-focus-indicator.mat-stroked-button.mat-button-base .icon-button-text{display:flex;justify-content:center;align-items:center;padding-bottom:5px;font-size:20px;font-family:"Purista-Semibold",var(--font-fallback)}html[dir=rtl][_ngcontent-%COMP%]   .experience-info-wrapper[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]     .mat-focus-indicator.mat-stroked-button.mat-button-base .icon-button-text, html[dir=rtl]   [_nghost-%COMP%]   .experience-info-wrapper[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]     .mat-focus-indicator.mat-stroked-button.mat-button-base .icon-button-text{direction:rtl}@media only screen and (max-width:767px){.experience-info-wrapper[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]     .mat-focus-indicator.mat-stroked-button.mat-button-base .icon-button-text{font-size:18px;padding-bottom:0}}html[dir=ltr][_ngcontent-%COMP%]   .experience-info-wrapper[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]     .mat-focus-indicator.mat-stroked-button.mat-button-base .button-icon-wrapper+.icon-button-text, html[dir=ltr]   [_nghost-%COMP%]   .experience-info-wrapper[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]     .mat-focus-indicator.mat-stroked-button.mat-button-base .button-icon-wrapper+.icon-button-text{padding-left:10px}html[dir=rtl][_ngcontent-%COMP%]   .experience-info-wrapper[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]     .mat-focus-indicator.mat-stroked-button.mat-button-base .button-icon-wrapper+.icon-button-text, html[dir=rtl]   [_nghost-%COMP%]   .experience-info-wrapper[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]     .mat-focus-indicator.mat-stroked-button.mat-button-base .button-icon-wrapper+.icon-button-text{padding-right:10px}']}),t})();function pB(t,e){1&t&&(i.TgZ(0,"div",40),i.TgZ(1,"p",41),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.TgZ(4,"p",41),i._uU(5),i.ALo(6,"translate"),i.qZA(),i.qZA()),2&t&&(i.xp6(2),i.hij(" ",i.lcZ(3,2,"playgrounds.banner-description-one")," "),i.xp6(3),i.hij(" ",i.lcZ(6,4,"playgrounds.banner-description-two")," "))}const gB=function(t){return{disabled:t}};function mB(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",42),i.TgZ(1,"a",43),i.NdJ("click",function(){return i.CHM(t),i.oxw(2).createNewHandler()}),i.TgZ(2,"span",44),i._uU(3),i.ALo(4,"translate"),i.qZA(),i._UZ(5,"mat-icon",45),i.qZA(),i.qZA()}if(2&t){const t=i.oxw(2);i.xp6(1),i.Q6J("ngClass",i.VKq(4,gB,t.createDisabled)),i.xp6(2),i.Oqu(i.lcZ(4,2,"playgrounds.create-something-button"))}}function fB(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",46),i.TgZ(1,"p",47),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.TgZ(4,"p",47),i._uU(5),i.ALo(6,"translate"),i.qZA(),i.TgZ(7,"div",48),i.TgZ(8,"a",43),i.NdJ("click",function(){return i.CHM(t),i.oxw(2).createNewHandler()}),i.TgZ(9,"span",44),i._uU(10),i.ALo(11,"translate"),i.qZA(),i._UZ(12,"mat-icon",45),i.qZA(),i.qZA(),i.qZA()}if(2&t){const t=i.oxw(2);i.xp6(2),i.hij(" ",i.lcZ(3,4,"playgrounds.banner-description-one")," "),i.xp6(3),i.hij(" ",i.lcZ(6,6,"playgrounds.banner-description-two")," "),i.xp6(3),i.Q6J("ngClass",i.VKq(10,gB,t.createDisabled)),i.xp6(2),i.Oqu(i.lcZ(11,8,"playgrounds.create-something-button"))}}const _B=function(t){return{"background-image":t}},bB=function(t){return{preset:t}};function vB(t,e){if(1&t&&(i.TgZ(0,"div",49),i.TgZ(1,"div",50),i.TgZ(2,"a",51),i.TgZ(3,"div",52),i._uU(4),i.ALo(5,"translate"),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&t){const t=e.$implicit;i.Q6J("ngStyle",i.VKq(6,_B,"url("+t.packArt+")")),i.xp6(2),i.Q6J("queryParams",i.VKq(8,bB,t.presetId)),i.uIk("aria-label",t.name),i.xp6(2),i.Oqu(i.lcZ(5,4,"playgrounds.modify-button"))}}function yB(t,e){if(1&t&&(i.TgZ(0,"mat-option",22),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t){const t=i.oxw(2);i.s9C("value",t.tabsData.CONQUEST_LARGE),i.xp6(1),i.hij(" ",i.lcZ(2,2,"playgrounds.conquest-game-mode")," ")}}function CB(t,e){if(1&t&&(i.TgZ(0,"mat-option",22),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t){const t=i.oxw(2);i.s9C("value",t.tabsData.CONQUEST_SMALL),i.xp6(1),i.hij(" ",i.lcZ(2,2,"playgrounds.conquest-small-game-mode")," ")}}function OB(t,e){if(1&t&&(i.TgZ(0,"mat-option",22),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t){const t=i.oxw(2);i.s9C("value",t.tabsData.RUSH),i.xp6(1),i.hij(" ",i.lcZ(2,2,"playgrounds.rush-game-mode")," ")}}function TB(t,e){if(1&t&&(i.TgZ(0,"mat-option",22),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t){const t=i.oxw(2);i.s9C("value",t.tabsData.CUSTOM),i.xp6(1),i.hij(" ",i.lcZ(2,2,"playgrounds.custom-game-mode")," ")}}function EB(t,e){if(1&t&&(i._UZ(0,"mat-tab",29),i.ALo(1,"translate")),2&t){const t=i.oxw(2);i.s9C("label",i.lcZ(1,2,"playgrounds.conquest-game-mode")),i.Q6J("disabled",!t.areMyExperiencesLoaded)}}function SB(t,e){if(1&t&&(i._UZ(0,"mat-tab",29),i.ALo(1,"translate")),2&t){const t=i.oxw(2);i.s9C("label",i.lcZ(1,2,"playgrounds.conquest-small-game-mode")),i.Q6J("disabled",!t.areMyExperiencesLoaded)}}function wB(t,e){if(1&t&&(i._UZ(0,"mat-tab",29),i.ALo(1,"translate")),2&t){const t=i.oxw(2);i.s9C("label",i.lcZ(1,2,"playgrounds.rush-game-mode")),i.Q6J("disabled",!t.areMyExperiencesLoaded)}}function MB(t,e){if(1&t&&(i._UZ(0,"mat-tab",29),i.ALo(1,"translate")),2&t){const t=i.oxw(2);i.s9C("label",i.lcZ(1,2,"playgrounds.custom-game-mode")),i.Q6J("disabled",!t.areMyExperiencesLoaded)}}function xB(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"a",24),i.NdJ("click",function(){return i.CHM(t),i.oxw(2).createNewHandler()}),i._UZ(1,"mat-icon",25),i.TgZ(2,"span",53),i._uU(3),i.ALo(4,"translate"),i.qZA(),i.qZA()}if(2&t){const t=i.oxw(2);i.Q6J("ngClass",i.VKq(4,gB,t.createDisabled)),i.xp6(3),i.Oqu(i.lcZ(4,2,"playgrounds.create-new"))}}function PB(t,e){}function kB(t,e){1&t&&i.YNc(0,PB,0,0,"ng-template")}function IB(t,e){if(1&t&&i._UZ(0,"app-experience-card",55),2&t){const t=e.$implicit,n=i.oxw(3);i.Q6J("mapName",n.getMapName(t))("gameMode",n.getGameMode(t))("playerCount",n.getPlayerCount(t))("name",n.getExperienceName(t))("description",t.description||"")("playgroundId",t.owner?t.playgroundId:t.presetId)("isPreset",!t.owner)("isFFA",n.getIsFFA(t))("thumbnail",n.getThumbnailUrl(t))}}function AB(t,e){if(1&t&&i.YNc(0,IB,1,9,"app-experience-card",54),2&t){const t=i.oxw(2);i.Q6J("ngForOf",t.determineWhichSetToDisplay())}}function RB(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",56),i.TgZ(1,"h4",57),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.TgZ(4,"a",43),i.NdJ("click",function(){return i.CHM(t),i.oxw(2).createNewHandler()}),i._UZ(5,"mat-icon",45),i.TgZ(6,"span",44),i._uU(7),i.ALo(8,"translate"),i.qZA(),i.qZA(),i.qZA()}if(2&t){const t=i.oxw(2);i.xp6(2),i.Oqu(i.lcZ(3,3,"playgrounds.empty-experiences-state")),i.xp6(2),i.Q6J("ngClass",i.VKq(7,gB,t.createDisabled)),i.xp6(3),i.Oqu(i.lcZ(8,5,"playgrounds.create-new"))}}function DB(t,e){1&t&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"playgrounds.load-more-button")))}function LB(t,e){1&t&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"playgrounds.show-less-button")))}function NB(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"button",58),i.NdJ("click",function(){return i.CHM(t),i.oxw(2).toggleLoadMore()}),i.TgZ(1,"div",59),i.YNc(2,DB,3,3,"span",0),i.YNc(3,LB,3,3,"span",0),i.qZA(),i.qZA()}if(2&t){const t=i.oxw(2);i.xp6(2),i.Q6J("ngIf",!t.showAllExperiences),i.xp6(1),i.Q6J("ngIf",t.showAllExperiences)}}const BB=function(t){return{"experience-content":t}};function FB(t,e){if(1&t){const t=i.EpF();i.ynx(0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"div",3),i.TgZ(4,"div",4),i.TgZ(5,"div",5),i._UZ(6,"mat-icon",6),i.qZA(),i.TgZ(7,"div",7),i._uU(8),i.ALo(9,"translate"),i.qZA(),i.qZA(),i.TgZ(10,"div",8),i.TgZ(11,"span",9),i._uU(12),i.ALo(13,"translate"),i.qZA(),i.TgZ(14,"span",10),i._uU(15),i.ALo(16,"translate"),i.qZA(),i.qZA(),i.YNc(17,pB,7,6,"div",11),i.ALo(18,"async"),i.YNc(19,mB,6,6,"div",12),i.ALo(20,"async"),i.qZA(),i.YNc(21,fB,13,12,"div",13),i.ALo(22,"async"),i.TgZ(23,"div",14),i.YNc(24,vB,6,10,"div",15),i.ALo(25,"async"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(26,"div",16),i.TgZ(27,"div",17),i.TgZ(28,"div",18),i.TgZ(29,"div",19),i._UZ(30,"mat-icon",20),i.TgZ(31,"mat-select",21),i.NdJ("valueChange",function(e){return i.CHM(t),i.oxw().selected=e})("selectionChange",function(e){return i.CHM(t),i.oxw().onFilterHandler(e)}),i.TgZ(32,"mat-option",22),i._uU(33),i.ALo(34,"translate"),i.qZA(),i.TgZ(35,"mat-option",22),i._uU(36),i.ALo(37,"translate"),i.qZA(),i.YNc(38,yB,3,4,"mat-option",23),i.YNc(39,CB,3,4,"mat-option",23),i.YNc(40,OB,3,4,"mat-option",23),i.YNc(41,TB,3,4,"mat-option",23),i.qZA(),i.qZA(),i.TgZ(42,"a",24),i.NdJ("click",function(){return i.CHM(t),i.oxw().createNewHandler()}),i._UZ(43,"mat-icon",25),i.qZA(),i.qZA(),i.TgZ(44,"div",26),i.TgZ(45,"mat-tab-group",27),i.NdJ("selectedTabChange",function(e){return i.CHM(t),i.oxw().onFilterHandler(e)}),i._UZ(46,"mat-tab",28),i.ALo(47,"translate"),i._UZ(48,"mat-tab",29),i.ALo(49,"translate"),i.YNc(50,EB,2,4,"mat-tab",30),i.YNc(51,SB,2,4,"mat-tab",30),i.YNc(52,wB,2,4,"mat-tab",30),i.YNc(53,MB,2,4,"mat-tab",30),i.TgZ(54,"mat-tab",31),i.YNc(55,xB,5,6,"ng-template",32),i.qZA(),i.qZA(),i.qZA(),i.TgZ(56,"div",33),i.TgZ(57,"div",34),i.YNc(58,kB,1,0,void 0,35),i.YNc(59,AB,1,1,"ng-template",null,36,i.W1O),i.YNc(61,RB,9,9,"ng-template",null,37,i.W1O),i.qZA(),i.TgZ(63,"div",38),i.YNc(64,NB,4,2,"button",39),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.BQk()}if(2&t){const t=i.MAs(60),e=i.MAs(62),n=i.oxw();i.xp6(8),i.Oqu(i.lcZ(9,31,"playgrounds.banner-header")),i.xp6(4),i.Oqu(i.lcZ(13,33,"playgrounds.title-part-one")),i.xp6(3),i.Oqu(i.lcZ(16,35,"playgrounds.title-part-two")),i.xp6(2),i.Q6J("ngIf",!1===i.lcZ(18,37,n.layoutService.isTabletOrSmaller$)),i.xp6(2),i.Q6J("ngIf",!1===i.lcZ(20,39,n.layoutService.isTabletOrSmaller$)),i.xp6(2),i.Q6J("ngIf",!0===i.lcZ(22,41,n.layoutService.isTabletOrSmaller$)),i.xp6(3),i.Q6J("ngForOf",i.lcZ(25,43,n.diceFeaturedPresetOptions$)),i.xp6(7),i.Q6J("value",n.selected),i.xp6(1),i.s9C("value",n.tabsData.MY_EXPERIENCES),i.xp6(1),i.hij(" ",i.lcZ(34,45,"playgrounds.my-playgrounds")," "),i.xp6(2),i.s9C("value",n.tabsData.ALL),i.xp6(1),i.hij(" ",i.lcZ(37,47,"playgrounds.all-game-modes")," "),i.xp6(2),i.Q6J("ngIf",n.shouldDisplayFilter("Conquest")),i.xp6(1),i.Q6J("ngIf",n.shouldDisplayFilter("ConquestSmall")),i.xp6(1),i.Q6J("ngIf",n.shouldDisplayFilter("Rush")),i.xp6(1),i.Q6J("ngIf",n.shouldDisplayFilter("ModBuilderCustom")),i.xp6(1),i.Q6J("ngClass",i.VKq(53,gB,n.createDisabled)),i.xp6(3),i.Q6J("disablePagination",!0),i.xp6(1),i.s9C("label",i.lcZ(47,49,"playgrounds.my-playgrounds")),i.xp6(2),i.s9C("label",i.lcZ(49,51,"playgrounds.all-game-modes")),i.Q6J("disabled",!n.areMyExperiencesLoaded),i.xp6(2),i.Q6J("ngIf",n.shouldDisplayFilter("Conquest")),i.xp6(1),i.Q6J("ngIf",n.shouldDisplayFilter("ConquestSmall")),i.xp6(1),i.Q6J("ngIf",n.shouldDisplayFilter("Rush")),i.xp6(1),i.Q6J("ngIf",n.shouldDisplayFilter("ModBuilderCustom")),i.xp6(1),i.Q6J("disabled",!0),i.xp6(3),i.Q6J("ngClass",i.VKq(55,BB,!n.showEmptyExperiencesTemplate)),i.xp6(1),i.Q6J("ngIf",n.showEmptyExperiencesTemplate&&n.selectedTab===n.tabsData.MY_EXPERIENCES)("ngIfThen",e)("ngIfElse",t),i.xp6(6),i.Q6J("ngIf",n.allFilteredExperiences.length>16)}}function UB(t,e){1&t&&(i.ynx(0),i.TgZ(1,"h1"),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.BQk()),2&t&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"app.please-sign-in")))}let VB=(()=>{class t{constructor(t,e,n,i,o,r,s,a,l,c){this.route=t,this.dialog=e,this.playgroundService=n,this.blueprintService=i,this.sessionService=o,this.translateService=r,this.layoutService=s,this.router=a,this.store=l,this.cdr=c,this.subscriptions=[],this.player$=this.store.select(Nm),this.getCreateDisabled$=this.store.select(QL),this.hasSession$=this.store.select(Bm),this.maxPlaygrounds$=this.store.select(KL),this.createDisabled=!1,this.allExperiences=[],this.allFilteredExperiences=[],this.initialFilteredExperiences=[],this.showAllExperiences=!1,this.experiencesToDisplay=[],this.areMyExperiencesLoaded=!1,this.showEmptyExperiencesTemplate=!1,this.selectedTab=null,this.tabsData=cL,this.selected=this.tabsData.MY_EXPERIENCES.toString(),this.refreshPlaygrounds$=new CS.X(null),this.owner$=Hv([this.route.params,this.player$]).pipe((0,Cr.U)(([t,e])=>t.nucleusId?new KS({nucleusId:t.nucleusId,personaId:t.personaId,platform:t.platform}):e)),this.playgrounds$=this.refreshPlaygrounds$.pipe((0,zu.w)(()=>this.owner$.pipe(og(t=>this.playgroundService.getPlaygrounds$(t))))),this.customPlaygrounds$=this.blueprintService.maxPlaygroundsPerPlayer$.pipe((0,zu.w)(t=>Hv([this.playgrounds$,this.blueprintService.maxPlaygroundsPerPlayer$,this.translateService.get("playgrounds.max-playground-tooltip",{maxPlaygrounds:t})])),(0,Cr.U)(([t,e,n])=>{const i=t.sort((t,e)=>{var n,i,o,r,s,a;return parseInt(null!==(o=null===(i=null===(n=null==e?void 0:e.originalPlayground)||void 0===n?void 0:n.updatedAt)||void 0===i?void 0:i.seconds)&&void 0!==o?o:"0",10)-parseInt(null!==(a=null===(s=null===(r=null==t?void 0:t.originalPlayground)||void 0===r?void 0:r.updatedAt)||void 0===s?void 0:s.seconds)&&void 0!==a?a:"0",10)});return null==i?void 0:i.map(t=>t.originalPlayground)}),Au(1)),this.dicePlaygrounds$=this.blueprintService.presets$.pipe((0,Cr.U)(t=>t)),this.diceFeaturedPresetOptions$=this.blueprintService.presets$.pipe((0,Cr.U)(t=>t.filter(t=>{var e,n;return!!(null===(n=null===(e=t.meta)||void 0===e?void 0:e.resources)||void 0===n?void 0:n.find(t=>"featuredImage"===t.kind))}).map(t=>{var e,n,i,o,r,s,a,l,c,u;const h=null===(n=null===(e=t.meta)||void 0===e?void 0:e.resources)||void 0===n?void 0:n.find(t=>"featuredImage"===t.kind);return{packArt:null!==(r=null===(o=null===(i=null==h?void 0:h.location)||void 0===i?void 0:i.url)||void 0===o?void 0:o.replace("[BB_PREFIX]",um))&&void 0!==r?r:"",name:null!==(c=null===(l=null===(a=null===(s=t.meta)||void 0===s?void 0:s.translations)||void 0===a?void 0:a.find(t=>"4"===t.kind))||void 0===l?void 0:l.translationId)&&void 0!==c?c:"...",presetId:null!==(u=t.presetId)&&void 0!==u?u:""}}).slice(0,3))),this.addSubscription(Hv([this.hasSession$,this.store.select(JL),this.store.select($L)]).pipe((0,ia.h)(([t,...e])=>t),(0,zu.w)(([t,e,n])=>((e||n)&&(this.refresh(),e&&this.store.dispatch(FL({isCreating:!1})),n&&this.store.dispatch(UL({isDeleting:!1}))),Hv([this.customPlaygrounds$,this.blueprintService.maxPlaygroundsPerPlayer$])))).subscribe(([t,e])=>{this.store.dispatch(VL({maxPlaygrounds:e})),this.store.dispatch(GL({currentPlaygrounds:t.length})),this.store.dispatch(jL({disabled:e<=t.length}))}),Hv([this.customPlaygrounds$,this.dicePlaygrounds$]).pipe($g()).subscribe(([t,e])=>{t&&e&&(this.allExperiences=[...t,...e]),this.myExperiencesFilter()}),this.getCreateDisabled$.subscribe(t=>{this.createDisabled=t}))}ngOnInit(){}ngAfterViewChecked(){this.cdr.detectChanges()}refresh(){this.refreshPlaygrounds$.next(null)}splitExperiencesToLoadMore(t){if(t.length>16)return this.allFilteredExperiences=t,void(this.initialFilteredExperiences=t.slice(0,16));this.initialFilteredExperiences=t,this.allFilteredExperiences=t}determineWhichSetToDisplay(){return this.showAllExperiences?this.allFilteredExperiences:this.initialFilteredExperiences}toggleLoadMore(){this.showAllExperiences=!this.showAllExperiences}gameModeFilter(t){let e=[];const n=this.allExperiences.filter(t=>void 0===t.owner);let i="";switch(this.selectedTab=t,this.showEmptyExperiencesTemplate=!1,t){case this.tabsData.CONQUEST_LARGE:i="Conquest";break;case this.tabsData.CONQUEST_SMALL:i="Conquest Small";break;case this.tabsData.RUSH:i="Rush";break;case this.tabsData.CUSTOM:i="Custom"}if("Custom"!==i)return e=n.filter(t=>{var e,n,o,r;return"Conquest Small"!==i?(null===(n=null===(e=t.mapRotation)||void 0===e?void 0:e.maps)||void 0===n?void 0:n[0].gameMode)===i:"ConquestSmall"===(null===(r=null===(o=t.mapRotation)||void 0===o?void 0:o.maps)||void 0===r?void 0:r[0].gameMode)}),void this.splitExperiencesToLoadMore(e);e=n.filter(t=>{var e,n,o;return null===(o=null===(n=null===(e=t.mapRotation)||void 0===e?void 0:e.maps)||void 0===n?void 0:n[0].gameMode)||void 0===o?void 0:o.includes(i)}),this.splitExperiencesToLoadMore(e)}myExperiencesFilter(){const t=this.allExperiences.filter(t=>t.owner);this.showEmptyExperiencesTemplate=0===t.length,this.selectedTab=this.tabsData.MY_EXPERIENCES,this.splitExperiencesToLoadMore(t),this.areMyExperiencesLoaded=!0}allPresetsFilter(){const t=this.allExperiences.filter(t=>void 0===t.owner);this.splitExperiencesToLoadMore(t)}onFilterHandler(t){const e=parseInt(void 0!==t.index?t.index:t.value,10);if(e!==this.tabsData.MY_EXPERIENCES)return e===this.tabsData.ALL?(this.selectedTab=this.tabsData.ALL,this.showEmptyExperiencesTemplate=!1,void this.allPresetsFilter()):void this.gameModeFilter(e);this.myExperiencesFilter()}shouldDisplayFilter(t){return this.allExperiences.filter(t=>void 0===t.owner).some(e=>{var n,i;return(null===(i=null===(n=e.mapRotation)||void 0===n?void 0:n.maps)||void 0===i?void 0:i[0].gameMode)===t})}getThumbnailUrl(t){var e,n,i,o;if(!t.presetId)return;const r=null===(o=null===(i=null===(n=null===(e=t.meta)||void 0===e?void 0:e.resources)||void 0===n?void 0:n.find(t=>"thumbnailImage"===t.kind))||void 0===i?void 0:i.location)||void 0===o?void 0:o.url;return(null==r?void 0:r.replace("[BB_PREFIX]",um))||void 0}getMapName(t){var e,n,i;return(null===(i=null===(n=null===(e=t.mapRotation)||void 0===e?void 0:e.maps)||void 0===n?void 0:n[0])||void 0===i?void 0:i.levelName)||""}getExperienceName(t){var e,n;return t instanceof tM?t.name:null===(n=null===(e=null==t?void 0:t.meta)||void 0===e?void 0:e.translations)||void 0===n?void 0:n[0].translationId}getGameMode(t){var e,n,i;return(null===(i=null===(n=null===(e=t.mapRotation)||void 0===e?void 0:e.maps)||void 0===n?void 0:n[0])||void 0===i?void 0:i.gameMode)||""}getIsFFA(t){var e,n,i;const o=null===(e=null==t?void 0:t.mutators)||void 0===e?void 0:e.find(t=>"ModBuilder_GameMode"===t.name);return 2===(null===(i=null===(n=null==o?void 0:o.kind)||void 0===n?void 0:n.mutatorInt)||void 0===i?void 0:i.value)}createNewHandler(){if(this.createDisabled)return this.dialog.open(YN,{width:"512px",data:{body$:this.translateService.get("playgrounds.max-playground-warning"),title$:this.translateService.get("playgrounds.max-playground-title"),confirmLabel$:this.translateService.get("generic.ok")}}),void this.onFilterHandler({value:"My Experiences"});this.router.navigate(["experience/new"])}getPlayerCount(t){var e,n,i,o,r,s,a,l,c,u;const h=this.getIsFFA(t),d=null!==(o=null===(i=null===(n=null===(e=t.mapRotation)||void 0===e?void 0:e.maps)||void 0===n?void 0:n[0])||void 0===i?void 0:i.gameSize)&&void 0!==o?o:0;if(h)return[d];const p=null===(l=null===(a=null===(s=null===(r=t.mutators)||void 0===r?void 0:r.find(t=>"MaxPlayerCount_PerTeam"===t.name))||void 0===s?void 0:s.kind)||void 0===a?void 0:a.mutatorSparseInt)||void 0===l?void 0:l.sparseValues;if(null==p?void 0:p.length){const t=null!==(u=null===(c=p[0])||void 0===c?void 0:c.value)&&void 0!==u?u:0;return[d-t,t]}const g=AL(d);return[g.team1,g.team2]}addSubscription(...t){this.subscriptions.push(...t)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(cR),i.Y36(aT),i.Y36(aN),i.Y36(kN),i.Y36(aL),i.Y36(Bp),i.Y36(KN),i.Y36(ID),i.Y36(Vp.yh),i.Y36(i.sBO))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-playgrounds"]],decls:4,vars:6,consts:[[4,"ngIf"],[1,"banner-section"],[1,"banner-content"],[1,"classics-info"],[1,"header"],[1,"header-icon"],["svgIcon","experience_icon"],[1,"header-text"],[1,"title"],[1,"title-part-one"],[1,"title-part-two"],["class","classic-description",4,"ngIf"],["class","create-button-wrapper",4,"ngIf"],["class","mobile-description",4,"ngIf"],[1,"classics"],["class","classic-placeholder",3,"ngStyle",4,"ngFor","ngForOf"],[1,"experiences-section"],[1,"experience-section-content"],[1,"mobile-filter-wrapper"],[1,"mobile-select-wrapper"],["svgIcon","blue_filter"],["panelClass","custom-select-panel-class",3,"value","valueChange","selectionChange"],[3,"value"],[3,"value",4,"ngIf"],[1,"create-link",3,"ngClass","click"],["svgIcon","primary_plus_icon"],[1,"tabs-wrapper"],["animationDuration","0ms",3,"disablePagination","selectedTabChange"],[3,"label"],[3,"disabled","label"],[3,"disabled","label",4,"ngIf"],[3,"disabled"],["mat-tab-label",""],[1,"experiences-wrapper"],[3,"ngClass"],[4,"ngIf","ngIfThen","ngIfElse"],["experienceCard",""],["noExperiences",""],[1,"load-more-wrapper"],["type","button","class","action-button","mat-stroked-button","",3,"click",4,"ngIf"],[1,"classic-description"],[1,"description-text"],[1,"create-button-wrapper"],["mat-stroked-button","",1,"mat-primary","create-button",3,"ngClass","click"],[1,"button-text"],["svgIcon","add_circle_outline",1,"button-text","button-icon"],[1,"mobile-description"],[1,"description-text-mobile"],[1,"mobile-button-wrapper"],[1,"classic-placeholder",3,"ngStyle"],[1,"button-group-wrapper"],["routerLink","/experience/new",1,"button",3,"queryParams"],[1,"featured-button-text"],[1,"create-new-text"],[3,"mapName","gameMode","playerCount","name","description","playgroundId","isPreset","isFFA","thumbnail",4,"ngFor","ngForOf"],[3,"mapName","gameMode","playerCount","name","description","playgroundId","isPreset","isFFA","thumbnail"],[1,"empty-experiences-template"],[1,"prompt"],["type","button","mat-stroked-button","",1,"action-button",3,"click"],[1,"load-more-text"]],template:function(t,e){1&t&&(i.YNc(0,FB,65,57,"ng-container",0),i.ALo(1,"async"),i.YNc(2,UB,4,3,"ng-container",0),i.ALo(3,"async")),2&t&&(i.Q6J("ngIf",i.lcZ(1,2,e.hasSession$)),i.xp6(2),i.Q6J("ngIf",!1===i.lcZ(3,4,e.hasSession$)))},directives:[R,eE,I,jC,J_,P,UO,xO,EO,sb,V,RD,dB,rb],pipes:[Z,Fp],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1;position:relative}html[dir=rtl]   [_nghost-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   -shadowcsshost{direction:rtl}.banner-section[_ngcontent-%COMP%]{background-image:linear-gradient(180deg,#0016211a 0,#001621 900px),linear-gradient(90deg,#001621 0,#0016211a 20%,#0016211a 80%,#001621),url(/2384652/assets/images/BG-3.png);background-size:2304px auto,2304px auto;background-repeat:no-repeat;background-position:top;display:flex;flex-direction:row;height:auto}@media only screen and (max-width:767px){.banner-section[_ngcontent-%COMP%]{background-image:linear-gradient(180deg,#00162180 0,#001621),url(/2384652/assets/images/BG-3.png)}}html[dir=rtl][_ngcontent-%COMP%]   .banner-section[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .banner-section[_ngcontent-%COMP%]{direction:rtl}.banner-section[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]{display:flex;max-width:1920px;margin:0 auto;justify-content:space-between;padding:50px 0;width:100%;align-items:center}html[dir=rtl][_ngcontent-%COMP%]   .banner-section[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .banner-section[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]{direction:rtl}@media only screen and (max-width:1920px){.banner-section[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]{padding:50px}}@media only screen and (max-width:1400px){.banner-section[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]{flex-direction:column;align-items:normal}}@media only screen and (min-width:768px) and (max-width:1030px){.banner-section[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]{padding:50px 30px}}@media only screen and (max-width:767px){.banner-section[_ngcontent-%COMP%]   .banner-content[_ngcontent-%COMP%]{padding:20px}}.banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}html[dir=rtl][_ngcontent-%COMP%]   .banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]{direction:rtl}@media only screen and (max-width:1400px){html[dir=ltr][_ngcontent-%COMP%]   .banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]{margin-right:0}html[dir=rtl][_ngcontent-%COMP%]   .banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]{margin-left:0}}.banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .classic-description[_ngcontent-%COMP%]{margin-top:35px}html[dir=ltr][_ngcontent-%COMP%]   .banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .classic-description[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .classic-description[_ngcontent-%COMP%]{padding-right:100px}html[dir=rtl][_ngcontent-%COMP%]   .banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .classic-description[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .classic-description[_ngcontent-%COMP%]{padding-left:100px}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){.banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .classic-description[_ngcontent-%COMP%]{margin:0 auto;padding:20px}}.banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .classic-description[_ngcontent-%COMP%]   .description-text[_ngcontent-%COMP%]{font-family:"BFText-Regular",var(--font-fallback);font-size:20px;font-style:normal;font-weight:400;line-height:28px;letter-spacing:0;text-align:left}html[lang=ar][_ngcontent-%COMP%]   .banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .classic-description[_ngcontent-%COMP%]   .description-text[_ngcontent-%COMP%], html[lang=ar]   [_nghost-%COMP%]   .banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .classic-description[_ngcontent-%COMP%]   .description-text[_ngcontent-%COMP%]{letter-spacing:0}html[dir=rtl][_ngcontent-%COMP%]   .banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .classic-description[_ngcontent-%COMP%]   .description-text[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .classic-description[_ngcontent-%COMP%]   .description-text[_ngcontent-%COMP%]{text-align:right}@media only screen and (max-width:767px){.banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .classic-description[_ngcontent-%COMP%]   .description-text[_ngcontent-%COMP%]{font-size:20px}}.banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;margin-bottom:80px}html[dir=rtl][_ngcontent-%COMP%]   .banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{direction:rtl}@media only screen and (max-width:1400px){.banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:100px}}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){.banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:40px}}.banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{background:#000;display:flex;padding:4px 11px}html[dir=rtl][_ngcontent-%COMP%]   .banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{direction:rtl}.banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#26ffdf;height:48px;width:28px}.banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]{background:#000;font-family:"Purista-Semibold",var(--font-fallback);font-size:32px;font-style:normal;font-weight:600;line-height:43px;letter-spacing:.03em;padding:5px 20px 5px 0;text-align:left}html[lang=ar][_ngcontent-%COMP%]   .banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%], html[lang=ar]   [_nghost-%COMP%]   .banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]{letter-spacing:0}html[dir=rtl][_ngcontent-%COMP%]   .banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]{padding:5px 0 5px 20px}html[dir=rtl][_ngcontent-%COMP%]   .banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]{text-align:right}@media only screen and (max-width:767px){.banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]{font-size:1em}.banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:30px}}.banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .title-part-one[_ngcontent-%COMP%]{font-family:"BF_Modernista-Bold",var(--font-fallback);font-size:61px;font-style:normal;line-height:60px;letter-spacing:.03em;display:block;color:#26ffdf;text-transform:uppercase;text-align:left}html[lang=ar][_ngcontent-%COMP%]   .banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .title-part-one[_ngcontent-%COMP%], html[lang=ar]   [_nghost-%COMP%]   .banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .title-part-one[_ngcontent-%COMP%]{line-height:100px}html[lang=ar][_ngcontent-%COMP%]   .banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .title-part-one[_ngcontent-%COMP%], html[lang=ar]   [_nghost-%COMP%]   .banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .title-part-one[_ngcontent-%COMP%]{letter-spacing:0}html[dir=rtl][_ngcontent-%COMP%]   .banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .title-part-one[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .title-part-one[_ngcontent-%COMP%]{text-align:right}@media only screen and (min-width:768px) and (max-width:1030px){.banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .title-part-one[_ngcontent-%COMP%]{font-size:48px;line-height:47px}html[lang=ar][_ngcontent-%COMP%]   .banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .title-part-one[_ngcontent-%COMP%], html[lang=ar]   [_nghost-%COMP%]   .banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .title-part-one[_ngcontent-%COMP%]{line-height:75px}}@media only screen and (max-width:767px){.banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .title-part-one[_ngcontent-%COMP%]{font-size:28px}html[lang=ar][_ngcontent-%COMP%]   .banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .title-part-one[_ngcontent-%COMP%], html[lang=ar]   [_nghost-%COMP%]   .banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .title-part-one[_ngcontent-%COMP%]{line-height:60px}}.banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .title-part-two[_ngcontent-%COMP%]{font-family:"BF_Modernista-Bold",var(--font-fallback);font-size:80px;font-style:normal;line-height:78px;letter-spacing:.03em;color:#26ffdf;text-transform:uppercase;text-align:left}html[lang=ar][_ngcontent-%COMP%]   .banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .title-part-two[_ngcontent-%COMP%], html[lang=ar]   [_nghost-%COMP%]   .banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .title-part-two[_ngcontent-%COMP%]{letter-spacing:0}html[dir=rtl][_ngcontent-%COMP%]   .banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .title-part-two[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .title-part-two[_ngcontent-%COMP%]{text-align:right}@media only screen and (min-width:1400px){.banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .title-part-two[_ngcontent-%COMP%]{font-size:90px;line-height:90px}}@media only screen and (min-width:768px) and (max-width:1030px){.banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .title-part-two[_ngcontent-%COMP%]{font-size:80px;line-height:78px}html[lang=ar][_ngcontent-%COMP%]   .banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .title-part-two[_ngcontent-%COMP%], html[lang=ar]   [_nghost-%COMP%]   .banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .title-part-two[_ngcontent-%COMP%]{line-height:110px}}@media only screen and (max-width:767px){.banner-section[_ngcontent-%COMP%]   .classics-info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .title-part-two[_ngcontent-%COMP%]{font-size:50px;line-height:40px}}.banner-section[_ngcontent-%COMP%]   .mobile-description[_ngcontent-%COMP%]{display:flex;flex-direction:column;background:#000;padding:20px;margin-top:10px}html[dir=rtl][_ngcontent-%COMP%]   .banner-section[_ngcontent-%COMP%]   .mobile-description[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .banner-section[_ngcontent-%COMP%]   .mobile-description[_ngcontent-%COMP%]{direction:rtl}.banner-section[_ngcontent-%COMP%]   .mobile-description[_ngcontent-%COMP%]   .description-text-mobile[_ngcontent-%COMP%]{font-family:"BFText-Light",var(--font-fallback);font-size:18px;font-style:normal;line-height:28px;letter-spacing:0;text-align:left}html[lang=ar][_ngcontent-%COMP%]   .banner-section[_ngcontent-%COMP%]   .mobile-description[_ngcontent-%COMP%]   .description-text-mobile[_ngcontent-%COMP%], html[lang=ar]   [_nghost-%COMP%]   .banner-section[_ngcontent-%COMP%]   .mobile-description[_ngcontent-%COMP%]   .description-text-mobile[_ngcontent-%COMP%]{letter-spacing:0}html[dir=rtl][_ngcontent-%COMP%]   .banner-section[_ngcontent-%COMP%]   .mobile-description[_ngcontent-%COMP%]   .description-text-mobile[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .banner-section[_ngcontent-%COMP%]   .mobile-description[_ngcontent-%COMP%]   .description-text-mobile[_ngcontent-%COMP%]{text-align:right}.banner-section[_ngcontent-%COMP%]   .mobile-description[_ngcontent-%COMP%]   .mobile-button-wrapper[_ngcontent-%COMP%]{max-width:346px}.banner-section[_ngcontent-%COMP%]   .create-button-wrapper[_ngcontent-%COMP%]{width:346px}.banner-section[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]{display:flex;font-size:20px;justify-content:center;white-space:normal;margin-top:30px;padding:4px 10px}html[dir=rtl][_ngcontent-%COMP%]   .banner-section[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .banner-section[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]{direction:rtl}@media only screen and (min-width:480px){.banner-section[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]{padding:4px 32px;justify-content:space-between}}.banner-section[_ngcontent-%COMP%]   .create-button.disabled[_ngcontent-%COMP%]{cursor:not-allowed;opacity:.5}.banner-section[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{position:relative;bottom:2px}.banner-section[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]   .button-icon[_ngcontent-%COMP%]{display:none}@media only screen and (min-width:480px){.banner-section[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]   .button-icon[_ngcontent-%COMP%]{display:inline-block}html[dir=ltr][_ngcontent-%COMP%]   .banner-section[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]   .button-icon[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .banner-section[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]   .button-icon[_ngcontent-%COMP%]{margin-left:12px}html[dir=rtl][_ngcontent-%COMP%]   .banner-section[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]   .button-icon[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .banner-section[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]   .button-icon[_ngcontent-%COMP%]{margin-right:12px}}@media only screen and (min-width:768px){.banner-section[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]     .mat-button-wrapper{display:flex;justify-content:space-between;align-items:center;width:100%}html[dir=rtl][_ngcontent-%COMP%]   .banner-section[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]     .mat-button-wrapper, html[dir=rtl]   [_nghost-%COMP%]   .banner-section[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]     .mat-button-wrapper{direction:rtl}}.classics[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));grid-gap:8px;gap:8px}@media only screen and (max-width:553px){.classics[_ngcontent-%COMP%]{grid-template-columns:repeat(1,minmax(250px,1fr))}}@media only screen and (min-width:768px){.classics[_ngcontent-%COMP%]{margin-top:40px}}@media only screen and (min-width:1400px){.classics[_ngcontent-%COMP%]{min-width:51%;margin-top:70px}}.classic-placeholder[_ngcontent-%COMP%]{position:relative;padding-bottom:135%;background-size:cover}.button-group-wrapper[_ngcontent-%COMP%]{display:flex;position:absolute;bottom:0;width:100%;justify-content:center;align-items:center}html[dir=rtl][_ngcontent-%COMP%]   .button-group-wrapper[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .button-group-wrapper[_ngcontent-%COMP%]{direction:rtl}@media only screen and (min-width:768px){.button-group-wrapper[_ngcontent-%COMP%]{padding:20px;background-color:#0009}}.button[_ngcontent-%COMP%]{cursor:pointer;width:100%;background-color:#092a25;color:#26ffdf;line-height:30px;font-family:"Purista-Semibold",var(--font-fallback);font-size:20px;text-align:center;text-transform:uppercase}@media only screen and (min-width:768px){.button[_ngcontent-%COMP%]{display:flex;position:relative;justify-content:center;align-items:center;border:1px solid #26ffdf;background-color:initial;line-height:50px}html[dir=rtl][_ngcontent-%COMP%]   .button[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .button[_ngcontent-%COMP%]{direction:rtl}.button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-1px;bottom:-1px;background-color:#fff;opacity:0;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1)}html[dir=ltr][_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:before, html[dir=ltr]   [_nghost-%COMP%]   .button[_ngcontent-%COMP%]:before{right:-1px}html[dir=rtl][_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:before, html[dir=rtl]   [_nghost-%COMP%]   .button[_ngcontent-%COMP%]:before{left:-1px}html[dir=ltr][_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:before, html[dir=ltr]   [_nghost-%COMP%]   .button[_ngcontent-%COMP%]:before{left:-1px}html[dir=rtl][_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:before, html[dir=rtl]   [_nghost-%COMP%]   .button[_ngcontent-%COMP%]:before{right:-1px}}@media only screen and (min-width:768px) and (hover:hover){.button[_ngcontent-%COMP%]:hover:before{opacity:.04}}.button-icon-wrapper[_ngcontent-%COMP%]{display:none}@media only screen and (min-width:768px){.button-icon-wrapper[_ngcontent-%COMP%]{display:inline-flex}html[dir=rtl][_ngcontent-%COMP%]   .button-icon-wrapper[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .button-icon-wrapper[_ngcontent-%COMP%]{direction:rtl}html[dir=ltr][_ngcontent-%COMP%]   .button-icon-wrapper[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .button-icon-wrapper[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .button-icon-wrapper[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .button-icon-wrapper[_ngcontent-%COMP%]{margin-left:10px}}.featured-button-text[_ngcontent-%COMP%]{padding-bottom:5px}.experiences-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0;background:url(/2384652/assets/images/bf_stripe_bg.png);background-size:contain;background-repeat:no-repeat;background-position:bottom 0 right 0;background-size:40%}html[dir=rtl][_ngcontent-%COMP%]   .experiences-section[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .experiences-section[_ngcontent-%COMP%]{direction:rtl}.experiences-section[_ngcontent-%COMP%]   .experience-section-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:1920px;margin:0 auto;width:100%}html[dir=rtl][_ngcontent-%COMP%]   .experiences-section[_ngcontent-%COMP%]   .experience-section-content[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .experiences-section[_ngcontent-%COMP%]   .experience-section-content[_ngcontent-%COMP%]{direction:rtl}.experiences-section[_ngcontent-%COMP%]   .tabs-wrapper[_ngcontent-%COMP%]{padding:50px 0;position:relative}@media only screen and (max-width:1024px){.experiences-section[_ngcontent-%COMP%]   .tabs-wrapper[_ngcontent-%COMP%]{padding:0}}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){.experiences-section[_ngcontent-%COMP%]   .tabs-wrapper[_ngcontent-%COMP%]{display:none}}.experiences-section[_ngcontent-%COMP%]   .tabs-wrapper[_ngcontent-%COMP%]     .mat-tab-labels{padding:0 50px}.experiences-section[_ngcontent-%COMP%]   .tabs-wrapper[_ngcontent-%COMP%]     .mat-tab-label-content .create-link{color:#26ffdf;text-decoration:none;cursor:pointer;display:flex}html[dir=rtl][_ngcontent-%COMP%]   .experiences-section[_ngcontent-%COMP%]   .tabs-wrapper[_ngcontent-%COMP%]     .mat-tab-label-content .create-link, html[dir=rtl]   [_nghost-%COMP%]   .experiences-section[_ngcontent-%COMP%]   .tabs-wrapper[_ngcontent-%COMP%]     .mat-tab-label-content .create-link{direction:rtl}.experiences-section[_ngcontent-%COMP%]   .tabs-wrapper[_ngcontent-%COMP%]     .mat-tab-label-content .create-link.disabled{cursor:not-allowed;opacity:.5}html[dir=ltr][_ngcontent-%COMP%]   .experiences-section[_ngcontent-%COMP%]   .tabs-wrapper[_ngcontent-%COMP%]     .mat-tab-label-content .create-link span.create-new-text, html[dir=ltr]   [_nghost-%COMP%]   .experiences-section[_ngcontent-%COMP%]   .tabs-wrapper[_ngcontent-%COMP%]     .mat-tab-label-content .create-link span.create-new-text{margin-left:20px}html[dir=rtl][_ngcontent-%COMP%]   .experiences-section[_ngcontent-%COMP%]   .tabs-wrapper[_ngcontent-%COMP%]     .mat-tab-label-content .create-link span.create-new-text, html[dir=rtl]   [_nghost-%COMP%]   .experiences-section[_ngcontent-%COMP%]   .tabs-wrapper[_ngcontent-%COMP%]     .mat-tab-label-content .create-link span.create-new-text{margin-right:20px}@media only screen and (max-width:1455px){.experiences-section[_ngcontent-%COMP%]   .tabs-wrapper[_ngcontent-%COMP%]     .mat-tab-label-content .create-link span.create-new-text{display:none}}.experiences-section[_ngcontent-%COMP%]   .tabs-wrapper[_ngcontent-%COMP%]     .mat-tab-label:last-of-type{position:absolute;background-color:initial;color:#26ffdf;min-width:auto;padding:0}html[dir=ltr][_ngcontent-%COMP%]   .experiences-section[_ngcontent-%COMP%]   .tabs-wrapper[_ngcontent-%COMP%]     .mat-tab-label:last-of-type, html[dir=ltr]   [_nghost-%COMP%]   .experiences-section[_ngcontent-%COMP%]   .tabs-wrapper[_ngcontent-%COMP%]     .mat-tab-label:last-of-type{right:50px}html[dir=rtl][_ngcontent-%COMP%]   .experiences-section[_ngcontent-%COMP%]   .tabs-wrapper[_ngcontent-%COMP%]     .mat-tab-label:last-of-type, html[dir=rtl]   [_nghost-%COMP%]   .experiences-section[_ngcontent-%COMP%]   .tabs-wrapper[_ngcontent-%COMP%]     .mat-tab-label:last-of-type{left:50px}@media only screen and (max-width:1400px){html[dir=ltr][_ngcontent-%COMP%]   .experiences-section[_ngcontent-%COMP%]   .tabs-wrapper[_ngcontent-%COMP%]     .mat-tab-label:last-of-type, html[dir=ltr]   [_nghost-%COMP%]   .experiences-section[_ngcontent-%COMP%]   .tabs-wrapper[_ngcontent-%COMP%]     .mat-tab-label:last-of-type{right:20px}html[dir=rtl][_ngcontent-%COMP%]   .experiences-section[_ngcontent-%COMP%]   .tabs-wrapper[_ngcontent-%COMP%]     .mat-tab-label:last-of-type, html[dir=rtl]   [_nghost-%COMP%]   .experiences-section[_ngcontent-%COMP%]   .tabs-wrapper[_ngcontent-%COMP%]     .mat-tab-label:last-of-type{left:20px}}@media only screen and (max-width:1024px){.experiences-section[_ngcontent-%COMP%]   .tabs-wrapper[_ngcontent-%COMP%]     .mat-tab-label:last-of-type{position:relative}html[dir=ltr][_ngcontent-%COMP%]   .experiences-section[_ngcontent-%COMP%]   .tabs-wrapper[_ngcontent-%COMP%]     .mat-tab-label:last-of-type, html[dir=ltr]   [_nghost-%COMP%]   .experiences-section[_ngcontent-%COMP%]   .tabs-wrapper[_ngcontent-%COMP%]     .mat-tab-label:last-of-type{right:15px}html[dir=rtl][_ngcontent-%COMP%]   .experiences-section[_ngcontent-%COMP%]   .tabs-wrapper[_ngcontent-%COMP%]     .mat-tab-label:last-of-type, html[dir=rtl]   [_nghost-%COMP%]   .experiences-section[_ngcontent-%COMP%]   .tabs-wrapper[_ngcontent-%COMP%]     .mat-tab-label:last-of-type{left:15px}}.experiences-section[_ngcontent-%COMP%]   .mobile-filter-wrapper[_ngcontent-%COMP%]{display:none;justify-content:space-between;padding:0 50px;margin-bottom:10px}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){.experiences-section[_ngcontent-%COMP%]   .mobile-filter-wrapper[_ngcontent-%COMP%]{display:flex}html[dir=rtl][_ngcontent-%COMP%]   .experiences-section[_ngcontent-%COMP%]   .mobile-filter-wrapper[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .experiences-section[_ngcontent-%COMP%]   .mobile-filter-wrapper[_ngcontent-%COMP%]{direction:rtl}}@media only screen and (min-width:768px) and (max-width:1030px){.experiences-section[_ngcontent-%COMP%]   .mobile-filter-wrapper[_ngcontent-%COMP%]{padding:0 30px}}@media only screen and (max-width:767px){.experiences-section[_ngcontent-%COMP%]   .mobile-filter-wrapper[_ngcontent-%COMP%]{padding:0 20px}}.experiences-section[_ngcontent-%COMP%]   .mobile-filter-wrapper[_ngcontent-%COMP%]   .create-link[_ngcontent-%COMP%]{align-self:center;cursor:pointer}.experiences-section[_ngcontent-%COMP%]   .mobile-filter-wrapper[_ngcontent-%COMP%]   .create-link.disabled[_ngcontent-%COMP%]{cursor:not-allowed;opacity:.5}.experiences-section[_ngcontent-%COMP%]   .mobile-filter-wrapper[_ngcontent-%COMP%]   .mobile-select-wrapper[_ngcontent-%COMP%]{display:flex;width:400px;align-items:center}html[dir=rtl][_ngcontent-%COMP%]   .experiences-section[_ngcontent-%COMP%]   .mobile-filter-wrapper[_ngcontent-%COMP%]   .mobile-select-wrapper[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .experiences-section[_ngcontent-%COMP%]   .mobile-filter-wrapper[_ngcontent-%COMP%]   .mobile-select-wrapper[_ngcontent-%COMP%]{direction:rtl}.experiences-section[_ngcontent-%COMP%]   .mobile-filter-wrapper[_ngcontent-%COMP%]   .mobile-select-wrapper[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-top:10px}.experiences-section[_ngcontent-%COMP%]   .mobile-filter-wrapper[_ngcontent-%COMP%]   .mobile-select-wrapper[_ngcontent-%COMP%]   .mat-select[_ngcontent-%COMP%]{width:90%;text-transform:uppercase;border:none}.experiences-section[_ngcontent-%COMP%]   .mobile-filter-wrapper[_ngcontent-%COMP%]   .mobile-select-wrapper[_ngcontent-%COMP%]   .mat-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{padding:10px}.experiences-section[_ngcontent-%COMP%]   .mobile-filter-wrapper[_ngcontent-%COMP%]   .mobile-select-wrapper[_ngcontent-%COMP%]     .mat-select-arrow{visibility:hidden}.experiences-section[_ngcontent-%COMP%]   .mobile-filter-wrapper[_ngcontent-%COMP%]   .mobile-select-wrapper[_ngcontent-%COMP%]     .mat-select{border:none;background-color:#000;padding:5px 10px;font-family:"Purista-Semibold",var(--font-fallback);font-size:20px;font-style:normal;font-weight:600;line-height:32px;letter-spacing:.03em;text-align:left}html[lang=ar][_ngcontent-%COMP%]   .experiences-section[_ngcontent-%COMP%]   .mobile-filter-wrapper[_ngcontent-%COMP%]   .mobile-select-wrapper[_ngcontent-%COMP%]     .mat-select, html[lang=ar]   [_nghost-%COMP%]   .experiences-section[_ngcontent-%COMP%]   .mobile-filter-wrapper[_ngcontent-%COMP%]   .mobile-select-wrapper[_ngcontent-%COMP%]     .mat-select{letter-spacing:0}html[dir=rtl][_ngcontent-%COMP%]   .experiences-section[_ngcontent-%COMP%]   .mobile-filter-wrapper[_ngcontent-%COMP%]   .mobile-select-wrapper[_ngcontent-%COMP%]     .mat-select, html[dir=rtl]   [_nghost-%COMP%]   .experiences-section[_ngcontent-%COMP%]   .mobile-filter-wrapper[_ngcontent-%COMP%]   .mobile-select-wrapper[_ngcontent-%COMP%]     .mat-select{text-align:right}@media only screen and (max-width:1920px){.experiences-section[_ngcontent-%COMP%]   .experiences-wrapper[_ngcontent-%COMP%]{padding:0 50px}}@media only screen and (min-width:768px) and (max-width:1030px){.experiences-section[_ngcontent-%COMP%]   .experiences-wrapper[_ngcontent-%COMP%]{padding:0 30px}}@media only screen and (max-width:767px){.experiences-section[_ngcontent-%COMP%]   .experiences-wrapper[_ngcontent-%COMP%]{padding:0 20px}}.experiences-section[_ngcontent-%COMP%]   .experiences-wrapper[_ngcontent-%COMP%]   .experience-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(425px,1fr));grid-gap:60px 15px}@media only screen and (max-width:767px){.experiences-section[_ngcontent-%COMP%]   .experiences-wrapper[_ngcontent-%COMP%]   .experience-content[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(342px,1fr));grid-gap:60px 0}}.experiences-section[_ngcontent-%COMP%]   .experiences-wrapper[_ngcontent-%COMP%]   .empty-experiences-template[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:15% 2%}.experiences-section[_ngcontent-%COMP%]   .experiences-wrapper[_ngcontent-%COMP%]   .empty-experiences-template[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]{width:282px}.experiences-section[_ngcontent-%COMP%]   .experiences-wrapper[_ngcontent-%COMP%]   .empty-experiences-template[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:5px}.experiences-section[_ngcontent-%COMP%]   .experiences-wrapper[_ngcontent-%COMP%]   .empty-experiences-template[_ngcontent-%COMP%]   .create-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;position:relative;bottom:2px}.experiences-section[_ngcontent-%COMP%]   .experiences-wrapper[_ngcontent-%COMP%]   .empty-experiences-template[_ngcontent-%COMP%]   .prompt[_ngcontent-%COMP%]{font-family:"Purista-Semibold",var(--font-fallback);font-style:normal;font-weight:600;font-size:24px;line-height:32px;letter-spacing:.03em;text-transform:uppercase;color:#787878;margin-bottom:30px;text-align:center}.experiences-section[_ngcontent-%COMP%]   .experiences-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:60px 0}html[dir=rtl][_ngcontent-%COMP%]   .experiences-section[_ngcontent-%COMP%]   .experiences-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .experiences-section[_ngcontent-%COMP%]   .experiences-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%]{direction:rtl}.dice-playgrounds-wrapper[_ngcontent-%COMP%]{max-width:1600px;padding:32px 64px}h1[_ngcontent-%COMP%]{text-align:center}.debug[_ngcontent-%COMP%]{color:#f44336;margin-bottom:16px}.dice-playgrounds-wrapper[_ngcontent-%COMP%]{margin:0 auto}  .create-disable-tooltip{font-size:18px}']}),t})(),GB=(()=>{class t{canActivate(){return Ym(),!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),jB=(()=>{class t{canActivate(){return qm(),!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),HB=(()=>{class t{constructor(t,e){this.store=t,this.actions=e}canActivate(){return Jm(this.store,this.actions),!1}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Vp.yh),i.LFG(bg))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),zB=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-not-found"]],decls:3,vars:3,template:function(t,e){1&t&&(i.TgZ(0,"h1"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"app.status-404")))},pipes:[Fp],styles:[""]}),t})(),WB=(()=>{class t{constructor(t,e){this.router=t,this.store=e,this.hasSession$=this.store.select(Bm)}canActivate(t,e){return this.hasSession$.pipe((0,Cr.U)(t=>!!t||this.router.createUrlTree([],{queryParams:{redirect:encodeURIComponent(e.url)}})))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(ID),i.LFG(Vp.yh))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ZB=(()=>{class t{constructor(t,e){this.router=t,this.store=e,this.hasSession$=this.store.select(Bm)}canActivate(t,e){return this.hasSession$.pipe((0,Cr.U)(t=>!t||this.router.parseUrl("/experiences")))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(ID),i.LFG(Vp.yh))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const YB=`^(${Object.keys(Gm).join("|")})$`,qB=[{path:"",canActivate:[ZB],component:jN},{path:"playgrounds",redirectTo:"experiences",pathMatch:"full"},{path:"experiences",canActivate:[WB],component:VB},{path:"login",canActivate:[GB],component:zB},{path:"register",canActivate:[jB],component:zB},{path:"logout",canActivate:[HB],component:zB}],JB=[{matcher:t=>1===t.length&&t[0].path.match(YB)?{consumed:t}:null,children:qB},...qB];let $B=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[ZD.forRoot(JB,{scrollPositionRestoration:"enabled"})],ZD]}),t})(),KB=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[],imports:[[J,zS,Km,$B,ku,Up.forChild({extend:!0})]]}),t})(),XB=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[Km,zS,J,Xs,Qs,KB,Up.forChild({extend:!0})]]}),t})();function QB(t,e,n,i){return new(n||(n=Promise))(function(o,r){function s(t){try{l(i.next(t))}catch(nx){r(nx)}}function a(t){try{l(i.throw(t))}catch(nx){r(nx)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}l((i=i.apply(t,e||[])).next())})}
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
(()=>{const t=(t,n)=>{let i=e.getTooltipOfObject(t);i=Fg.utils.string.wrap(i,e.LIMIT);const o=i.split("\n");for(let e=0;e<o.length;e++){const t=document.createElement("div");t.appendChild(document.createTextNode(o[e])),n.appendChild(t)}},e=Fg.Tooltip;e.show_=function(){if(e.blocked_)return;e.poisonedElement_=e.element_;const n=e.DIV;if(!n)return;n.textContent="",((e,n)=>{const i=e.customTooltip;if(i){const o=i();o?n.appendChild(o):t(e,n)}else t(e,n)})(e.element_,n);const i=e.element_.RTL,o=document.documentElement.clientWidth,r=document.documentElement.clientHeight;n.style.direction=i?"rtl":"ltr",n.style.display="block",e.visible=!0;let s=e.lastX_;i?s-=e.OFFSET_X+n.offsetWidth:s+=e.OFFSET_X;let a=e.lastY_+e.OFFSET_Y;a+n.offsetHeight>r+window.scrollY&&(a-=n.offsetHeight+2*e.OFFSET_Y),i?s=Math.max(e.MARGINS-window.scrollX,s):s+n.offsetWidth>o+window.scrollX-2*e.MARGINS&&(s=o-n.offsetWidth-2*e.MARGINS),n.style.top=a+"px",n.style.left=s+"px"}})();var tF=n(6672);const eF="NAME";function nF(t){const e=tF.Msg,n=-1===t.indexOf(".")?e[t]:(i=t,o=e,(Array.isArray(i)?i:i.split(".")).reduce((t,e)=>t&&t[e],o));var i,o;return null!=n?n:`%{${t}}`}let iF,oF=t=>t;function rF(t){return oF(t)}function sF(t){return Math.max(...t.map(t=>{var e,n;return null!==(n=null===(e=t.parameterTypes)||void 0===e?void 0:e.length)&&void 0!==n?n:0}))}function aF(t){return[...new Set(t.flatMap(t=>{var e;return null===(e=t.parameterTypes)||void 0===e?void 0:e.flatMap(t=>t.parameterTypes)}).concat(t.map(t=>t.returnType)))].filter(t=>void 0!==t)}function lF(t,e,n){if(function(t,e){return!!t.find(t=>{var n,i;return!0===(null===(i=null===(n=t.parameterTypes)||void 0===n?void 0:n[e])||void 0===i?void 0:i.anyType)})}(t,n))return null;const i=uF(t,e);return[...new Set(i.flatMap(t=>{var e,i;return null===(i=null===(e=t.parameterTypes)||void 0===e?void 0:e[n])||void 0===i?void 0:i.parameterTypes}))].filter(t=>void 0!==t)}function cF(t,e){let n=[];const i=uF(t,e);return n=[...new Set(i.map(t=>t.returnType))].filter(t=>void 0!==t),0===n.length&&(n=null),n}function uF(t,e){return t.filter(t=>{var n,i,o;const r=[];for(let s=0;s<e.inputList.length;s++){const a=e.getInputTargetBlock(`VALUE-${s}`);if(!a||(null===(i=null===(n=t.parameterTypes)||void 0===n?void 0:n[s])||void 0===i?void 0:i.anyType)){r[s]=!0;continue}const l=null!==(o=a.outputConnection.getCheck())&&void 0!==o?o:[];r[s]=l.some(e=>{var n,i,o;return null===(o=null===(i=null===(n=t.parameterTypes)||void 0===n?void 0:n[s])||void 0===i?void 0:i.parameterTypes)||void 0===o?void 0:o.includes(e)})}return!r.includes(!1)})}function hF(t,e){return t.blockId===e.id||t.newParentId===e.id||t.oldParentId===e.id}function dF(t){switch(t){case"any":return rF("assets/blockly/icons/type-any.svg");case"Array":return rF("assets/blockly/icons/type-array.svg");case"Boolean":return rF("assets/blockly/icons/type-boolean.svg");case"Global":return rF("assets/blockly/icons/type-global.svg");case"Message":return rF("assets/blockly/icons/type-message.svg");case"Number":return rF("assets/blockly/icons/type-number.svg");case"Player":return rF("assets/blockly/icons/type-player.svg");case"SquadId":return rF("assets/blockly/icons/type-squadid.svg");case"String":return rF("assets/blockly/icons/type-string.svg");case"TeamId":return rF("assets/blockly/icons/type-teamid.svg");case"FactionId":return rF("assets/blockly/icons/type-factionid.svg");case"Vector":return rF("assets/blockly/icons/type-vector.svg");case"DeathType":return rF("assets/blockly/icons/type-deathtype.svg");case"WeaponUnlock":return rF("assets/blockly/icons/type-weaponunlock.svg");default:return t.startsWith("Enum_")?rF("assets/blockly/icons/type-itemindex.svg"):rF("assets/blockly/icons/type-null.svg")}}function pF(t,e,n){var i;const o=t.inputList.find(t=>t.name=eF);if(o){o.fieldRow.filter(t=>{var e;return null===(e=null==t?void 0:t.name)||void 0===e?void 0:e.startsWith("ICON")}).forEach(t=>{o.removeField(t.name)});const r=n?null!==(i=cF(n,t))&&void 0!==i?i:e.types:[];r===e.types?o.insertFieldAt(0,new tF.FieldImage(dF("any"),30,30),"ICON-0"):r.forEach((t,e)=>{o.insertFieldAt(e,new tF.FieldImage(dF(t),30,30),`ICON-${e}`)})}}class gF extends Fg.Mutator{constructor(t){super(t)}drawIcon_(t){Fg.utils.dom.createSvgElement(Fg.utils.Svg.RECT,{class:"blocklyIconShape",rx:"24",ry:"24",height:"24",width:"24"},t),Fg.utils.dom.createSvgElement(Fg.utils.Svg.PATH,{class:"blocklyIconSymbol",transform:"scale(0.5675) translate(5,5)",d:"M15.9,11c-2.7,0-4.9,2.2-4.9,4.9s2.2,4.9,4.9,4.9s4.9-2.2,4.9-4.9S18.6,11,15.9,11z M30.3,20l-2.6,5.1l-3.3-1.7c-1.4,1.6-3.3,2.8-5.5,3.4v4.1h-5.7v-4.1c-2-0.5-3.7-1.6-5.1-3l-3.2,1.9L2,20.8l3.3-1.9C5,17.9,4.9,17,4.9,16c0-0.9,0.1-1.7,0.3-2.6l-3.5-1.8l2.6-5.1l3.6,1.8c1.4-1.4,3.1-2.5,5.1-3V1.2h5.7v4.1c1.9,0.5,3.6,1.4,4.9,2.7l3.5-2l2.9,4.9l-3.4,2c0.3,1,0.5,2.1,0.5,3.2c0,0.8-0.1,1.5-0.2,2.2L30.3,20z M24.8,16c0-4.9-4-8.8-8.8-8.8c-4.9,0-8.8,4-8.8,8.8c0,4.9,4,8.8,8.8,8.8C20.9,24.8,24.8,20.9,24.8,16z"},t)}}class mF{constructor(t){this.mainWorkspace=t}init(t,e){if(void 0===t)throw new Error("Missing rulesVersion!");this.mainWorkspace instanceof Fg.WorkspaceSvg&&console.debug("Frostbite Block Definitions",e),this.definitions=e,iF!==t&&(console.log(`Creating blocks for rulesVersion ${t}`),iF=t,this.createBlocks())}createBlocks(){var t;Fg.Blocks.modBlock={init(){this.appendDummyInput().appendField(new Fg.FieldLabel(nF("PYRITE_MOD"),"fieldHeaderText"),"NAME"),this.appendStatementInput("RULES").setCheck("ruleBlock"),this.setInputsInline(!0),this.setTooltip(""),this.setHelpUrl(""),this.setMovable(!0),this.setDeletable(!1),this.setStyle("mod-block-style")}},Fg.Blocks.conditionBlock={init(){this.appendDummyInput().appendField(nF("PYRITE_CONDITION"),"NAME"),this.appendValueInput("CONDITION").setCheck("Boolean"),this.setInputsInline(!0),this.setPreviousStatement(!0,"conditionBlock"),this.setNextStatement(!0,"conditionBlock"),this.setTooltip(""),this.setHelpUrl(""),this.setStyle("condition-block-style")}},Fg.Blocks.Text={init(){this.jsonInit({type:"Text",message0:"%1 %2 %3",args0:[{type:"field_image",name:"VARICON0",src:rF("./assets/blockly/quote0.png"),width:12,height:12,flipRtl:!1},{type:"field_input",name:"TEXT",text:""},{type:"field_image",name:"VARICON1",src:rF("./assets/blockly/quote1.png"),width:12,height:12,flipRtl:!1}],output:"String",colour:"#5dc8ce",helpUrl:"",tooltip:""}),this.setStyle("value-block-style")}},Fg.Blocks.Number={init(){this.jsonInit({type:"Number",message0:"%1 %2 %3",args0:[{type:"field_image",name:"VARICON0",src:rF("./assets/blockly/1x1.png"),width:1,height:12,flipRtl:!1},{type:"field_number",name:"NUM",value:0},{type:"field_image",name:"VARICON1",src:rF("./assets/blockly/1x1.png"),width:1,height:12,flipRtl:!1}],output:"Number",colour:"#5dc8ce",helpUrl:"",tooltip:""}),this.setStyle("value-block-style")}},Fg.Blocks.Boolean={init(){this.jsonInit({type:"Boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["true","TRUE"],["false","FALSE"]]}],output:"Boolean",colour:"#5dc8ce",tooltip:"",helpUrl:""}),this.setStyle("value-block-style")}},Fg.Blocks.Compare={init(){this.jsonInit({type:"Compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["==","EQ"],["!=","NEQ"],["<","LT"],["<=","LTE"],[">","GT"],[">=","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:""})}},this.definitions&&(t=this.definitions,Fg.Blocks.ArrayContains={init(){this.jsonInit({type:"Convenience",message0:`%1 ${nF("PYRITE_CONVENIENCE_ARRAYCONTAINS")} %2 %3`,args0:[{type:"field_image",name:"ICON-0",src:dF("Boolean"),width:30,height:30},{type:"input_value",name:"VALUE-0",check:"Array"},{type:"input_value",name:"VALUE-1",check:t.types}],inputsInline:!0,colour:0,tooltip:"",helpUrl:"",output:"Boolean"}),this.setStyle("value-block-style")}},Fg.Blocks.IndexOfArrayValue={init(){this.jsonInit({type:"Convenience",message0:`%1 ${nF("PYRITE_CONVENIENCE_INDEXOFARRAYVALUE")} %2 %3`,args0:[{type:"field_image",name:"ICON-0",src:dF("Number"),width:30,height:30},{type:"input_value",name:"VALUE-0",check:"Array"},{type:"input_value",name:"VALUE-1",check:t.types}],inputsInline:!0,colour:0,tooltip:"",helpUrl:"",output:"Number"}),this.setStyle("value-block-style")}},Fg.Blocks.RemoveFromArray={init(){this.jsonInit({type:"Convenience",message0:`%1 ${nF("PYRITE_CONVENIENCE_REMOVEFROMARRAY")} %2 %3`,args0:[{type:"field_image",name:"ICON-0",src:dF("Array"),width:30,height:30},{type:"input_value",name:"VALUE-0",check:"Array"},{type:"input_value",name:"VALUE-1",check:t.types}],inputsInline:!0,colour:0,tooltip:"",helpUrl:"",output:"Array"}),this.setStyle("value-block-style")}},function(t){Fg.Blocks.ruleBlock={init(){this.appendDummyInput().appendField(new Fg.FieldLabel(nF("PYRITE_RULE"),"fieldHeaderText ruleBlockRuleText")).appendField(new Fg.FieldTextInput(nF("PYRITE_NEW_RULE")),"NAME"),this.appendDummyInput("EVENT").appendField(nF("PYRITE_EVENT")),this.appendDummyInput().appendField(new Fg.FieldDropdown(this.generateOptions),"EVENTTYPE"),this.appendDummyInput("OBJECTTYPE_DUMMY"),this.appendStatementInput("CONDITIONS").setCheck("conditionBlock").appendField(new Fg.FieldLabel(nF("PYRITE_CONDITIONS"),"fieldHeaderText ruleBlockConditionText")),this.appendStatementInput("ACTIONS").setCheck("actionBlock").appendField(new Fg.FieldLabel(nF("PYRITE_ACTIONS"),"fieldHeaderText ruleBlockActionText")),this.setInputsInline(!0),this.setPreviousStatement(!0,"ruleBlock"),this.setNextStatement(!0,"ruleBlock"),this.setStyle("rule-block-style"),this.updateShape(!0)},mutationToDom(){const t=Fg.utils.xml.createElement("mutation"),e="Ongoing"===this.getFieldValue("EVENTTYPE");return t.setAttribute("isOnGoingEvent",e?"true":"false"),t},domToMutation(t){const e="true"===t.getAttribute("isOnGoingEvent");this.updateShape(e)},generateOptions:()=>t.events.map(t=>[t.displayNameSID?nF(t.displayNameSID):t.name,t.name]),onchange(t){hF(t,this)&&t.type===Fg.Events.CHANGE&&"EVENTTYPE"===t.name&&t.newValue!==t.oldValue&&this.updateShape("Ongoing"===t.newValue)},updateShape(e){const n=this,i=n.getField("OBJECTTYPE");var o;e?i||n.getInput("OBJECTTYPE_DUMMY").appendField(new Fg.FieldDropdown((o=t.objects,()=>o.map(t=>[t.displayNameSID?nF(t.displayNameSID):t.name,t.name]))),"OBJECTTYPE"):i&&n.getInput("OBJECTTYPE_DUMMY").removeField("OBJECTTYPE")}}}(this.definitions),function(t){t.values.forEach(e=>{const{name:n,displayNameSID:i,eventParameter:o,functionSignatures:r}=e,s=t.selectionLists.filter(t=>{var e;return t.returnType===(null===(e=null==r?void 0:r[0])||void 0===e?void 0:e.returnType)}),a=s.length>0;Fg.Blocks[n]={init(){if(this.appendDummyInput(eF).appendField(i?nF(i):n),pF(this,t,r),a){const e=s.map((t,e)=>[t.displayNameSID?nF(t.displayNameSID):t.name,t.name]);this.appendDummyInput().appendField(new Fg.FieldDropdown(()=>e.length>0?e:["N/A","never"]),"VALUE-0").setVisible(s.length>1),this.appendDummyInput().appendField(new Fg.FieldDropdown(()=>function(e){var n,i;const o=t.selectionLists.find(t=>t.name===e),r=null!==(i=null===(n=null==o?void 0:o.selectionValues)||void 0===n?void 0:n.map(t=>[t.displayNameSID?nF(t.displayNameSID):t.name,t.name]))&&void 0!==i?i:[];return r.length>0?r:[["N/A","never"]]}(this.getFieldValue("VALUE-0"))),"VALUE-1")}else{if(void 0===r)throw new Error(`Block '${n}' is missing functionSignatures`);for(let t=0;t<this.maxParametersCount();t++)this.appendValueInput(`VALUE-${t}`).setCheck(this.getTypesForParameterIndex(t))}this.setOutput(!0,this.getTypesForOutput()),this.setTooltip(this.getTooltipText()),this.setInputsInline(!0),this.setStyle("value-block-style"),Fg.Extensions.apply("tooltip-extension",this,!1)},maxParametersCount:()=>r?sF(r):0,getTypesForParameterIndex(e){var n;return r?null!==(n=lF(r,this,e))&&void 0!==n?n:t.types:[]},getTypesForOutput(){var e;return r?null!==(e=cF(r,this))&&void 0!==e?e:t.types:[]},getTooltipText(){var t;if(!r)return"";const e=uF(r,this);return(null!==(t=null==r?void 0:r.map(t=>{var o;const r=e.includes(t),s=`${i?nF(i):n}(${t.parameterTypes&&!a?null===(o=t.parameterTypes)||void 0===o?void 0:o.map((t,e)=>`<span style="color: rgba(255, 255, 255, 0.7);">${t.anyType?nF("PYRITE_TYPE_ANYTYPE"):t.parameterTypes.map(t=>nF(`PYRITE_TYPE_${t.toUpperCase()}`)).join(" | ")}</span>`).join(", "):""}): ${nF(t.returnType?`PYRITE_TYPE_${t.returnType.toUpperCase()}`:"PYRITE_TYPE_ANYTYPE")}`;return r?`<b>${s}</b>`:`<span style="opacity: 0.7">${s}</span>`}))&&void 0!==t?t:[]).join("<br /><br />")},onchange(e){if(hF(e,this)&&r&&!a){for(let t=0;t<this.maxParametersCount();t++){const e=this.getInput(`VALUE-${t}`),n=this.getTypesForParameterIndex(t);null==e||e.setCheck(n)}this.setOutput(!0,this.getTypesForOutput()),this.setTooltip(this.getTooltipText()),pF(this,t,r),this instanceof Fg.BlockSvg&&this.render()}if(e.type===Fg.Events.CHANGE&&hF(e,this)&&a&&"VALUE-0"===e.name&&e.newValue!==e.oldValue){const t=this.getField("VALUE-1");if(t){const e=t.getOptions();t.setValue(e[0][1])}}if([Fg.Events.MOVE,Fg.Events.CHANGE].indexOf(e.type)>-1&&o){let e,n=this.getParent();do{"ruleBlock"===(null==n?void 0:n.type)&&(e=n),n=null==n?void 0:n.getParent()}while(void 0===e&&n);if(e){const n=e.getFieldValue("EVENTTYPE"),i=t.events.find(t=>t.name===n),r="Ongoing"===n;if(i||r){let n,s=!0;if(r){const n=e.getFieldValue("OBJECTTYPE"),i=t.objects.find(t=>t.name===n);s=(null==i?void 0:i.type)===o}else if(i){const t=i.parameters.findIndex(t=>t.name===o);s=t>-1,n=i.parameters[t]}this.setEnabled(s),s?(this.setWarningText(null,"unsupportedRuleEvent"),this.setWarningText((null==n?void 0:n.deprecated)?nF("PYRITE_DEPRECATED_RULE_EVENT"):null,"deprecatedRuleEvent")):(this.setWarningText(nF("PYRITE_UNSUPPORTED_RULE_EVENT"),"unsupportedRuleEvent"),this.setWarningText(null,"deprecatedRuleEvent"))}}else this.setEnabled(!0),this.setWarningText(null,"unsupportedRuleEvent")}}}}),Fg.Blocks.missingValueBlockType_v1={init(){this.appendDummyInput().appendField(new Fg.FieldLabelSerializable("BLOCK NAME"),"DELETED_NAME"),this.appendDummyInput().appendField("DELETED"),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl(""),this.setStyle("value-block-style")}}}(this.definitions),function(t){t.actions.forEach(e=>{const{name:n,displayNameSID:i,functionSignatures:o}=e;Fg.Blocks[n]={init(){if(this.appendDummyInput(eF).appendField(i?nF(i):n),void 0!==o)for(let t=0;t<this.maxParametersCount();t++)this.appendValueInput(`VALUE-${t}`).setCheck(this.getTypesForParameterIndex(t));this.setPreviousStatement(!0,"actionBlock"),this.setNextStatement(!0,"actionBlock"),this.setInputsInline(!0),this.setTooltip(this.getTooltipText()),this.setStyle("action-block-style"),Fg.Extensions.apply("tooltip-extension",this,!1)},maxParametersCount:()=>o?sF(o):0,getTypesForParameterIndex(e){var n;return o?null!==(n=lF(o,this,e))&&void 0!==n?n:t.types:[]},getTooltipText(){var t;if(!o)return"";const e=uF(o,this);return(null!==(t=null==o?void 0:o.map(t=>{var o;const r=e.includes(t),s=`${i?nF(i):n}(${t.parameterTypes?null===(o=t.parameterTypes)||void 0===o?void 0:o.map((t,e)=>`<span style="color: rgba(255, 255, 255, 0.7);">${t.anyType?nF("PYRITE_TYPE_ANYTYPE"):t.parameterTypes.map(t=>nF(`PYRITE_TYPE_${t.toUpperCase()}`)).join(" | ")}</span>`).join(", "):""})`;return r?`<b>${s}</b>`:`<span style="opacity: 0.7">${s}</span>`}))&&void 0!==t?t:[]).join("<br /><br />")},onchange(t){if(hF(t,this)&&o){for(let t=0;t<this.maxParametersCount();t++){const e=this.getInput(`VALUE-${t}`),n=this.getTypesForParameterIndex(t);null==e||e.setCheck(n)}this.setTooltip(this.getTooltipText()),this instanceof Fg.BlockSvg&&this.render()}}}}),Fg.Blocks.actionComment={init(){const t=new Fg.FieldMultilineInput("");this.appendDummyInput().appendField(t,"TEXT"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(0),this.setStyle("comment-block-style")}},Fg.Blocks.missingActionBlockType_v1={init(){this.appendDummyInput().appendField(new Fg.FieldLabelSerializable("BLOCK NAME"),"DELETED_NAME"),this.appendDummyInput().appendField("DELETED"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(0),this.setTooltip(""),this.setHelpUrl(""),this.setStyle("action-block-style")}}}(this.definitions),function(t){Fg.Blocks.controls_if_if={init(){this.appendDummyInput().appendField("If"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setStyle("control-block-alt-style")}},Fg.Blocks.controls_if_elseif={init(){this.appendDummyInput().appendField("ElseIf"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setStyle("control-block-style")}},Fg.Blocks.controls_if_else={init(){this.appendDummyInput().appendField("Else"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setStyle("control-block-style")}},t.controlActions.forEach(t=>{const{name:e,displayNameSID:n}=t;"Break"===e?Fg.Blocks.Break={init(){this.appendDummyInput().appendField(n?nF(n):e),this.setPreviousStatement(!0,"actionBlock"),this.setNextStatement(!0,"actionBlock"),this.setStyle("control-block-style")}}:"Continue"===e?Fg.Blocks.Continue={init(){this.appendDummyInput().appendField(n?nF(n):e),this.setPreviousStatement(!0,"actionBlock"),this.setNextStatement(!0,"actionBlock"),this.setStyle("control-block-style")}}:"If"===e?Fg.Blocks.If={init(){this.appendDummyInput().appendField(n?nF(n):e),this.appendValueInput("VALUE-0").setCheck("Boolean"),this.appendStatementInput("DO").setCheck("actionBlock"),this.setInputsInline(!0),this.setPreviousStatement(!0,"actionBlock"),this.setNextStatement(!0,"actionBlock"),this.setColour(230),this.setMutator(new gF(["controls_if_elseif","controls_if_else"])),this.setTooltip(""),this.setHelpUrl(""),this.setStyle("control-block-style")},mutationToDom(){if(!this.elseifCount_&&!this.elseCount_)return null;var t=Fg.utils.xml.createElement("mutation");return this.elseifCount_&&t.setAttribute("elseif",this.elseifCount_.toString()),this.elseCount_&&t.setAttribute("else","1"),t},domToMutation(t){var e,n;this.elseifCount_=parseInt(null!==(e=t.getAttribute("elseif"))&&void 0!==e?e:"0",10),this.elseCount_=parseInt(null!==(n=t.getAttribute("else"))&&void 0!==n?n:"0",10),this.rebuildShape()},reconnectChildBlocks(t,e,n){for(var i=1;i<=this.elseifCount_;i++)Fg.Mutator.reconnect(t[i],this,"IF"+i),Fg.Mutator.reconnect(e[i],this,"DO"+i);n&&Fg.Mutator.reconnect(n,this,"ELSE")},decompose(t){const e=t.newBlock("controls_if_if");e.initSvg();for(var n=e.nextConnection,i=1;i<=this.elseifCount_;i++){var o=t.newBlock("controls_if_elseif");o.initSvg(),n.connect(o.previousConnection),n=o.nextConnection}if(this.elseCount_){var r=t.newBlock("controls_if_else");r.initSvg(),n.connect(r.previousConnection)}return e},compose(t){var e=t.nextConnection.targetBlock();this.elseifCount_=0,this.elseCount_=0;for(var n=[],i=[],o=null;e&&!e.isInsertionMarker();){switch(e.type){case"controls_if_elseif":this.elseifCount_++,n.push(e.valueConnection_),i.push(e.statementConnection_);break;case"controls_if_else":this.elseCount_++,o=e.statementConnection_;break;default:throw TypeError("Unknown block type: "+e.type)}e=e.nextConnection&&e.nextConnection.targetBlock()}this.updateShape(),this.reconnectChildBlocks(n,i,o)},saveConnections(t){for(var e=t.nextConnection.targetBlock(),n=1;e;){switch(e.type){case"controls_if_elseif":var i=this.getInput("IF"+n),o=this.getInput("DO"+n);e.valueConnection_=i&&i.connection.targetConnection,e.statementConnection_=o&&o.connection.targetConnection,n++;break;case"controls_if_else":o=this.getInput("ELSE"),e.statementConnection_=o&&o.connection.targetConnection;break;default:throw TypeError("Unknown block type: "+e.type)}e=e.nextConnection&&e.nextConnection.targetBlock()}},rebuildShape(){var t=[],e=[],n=null;this.getInput("ELSE")&&(n=this.getInput("ELSE").connection.targetConnection);for(var i=1;this.getInput("IF"+i);){var o=this.getInput("IF"+i),r=this.getInput("DO"+i);t.push(o.connection.targetConnection),e.push(r.connection.targetConnection),i++}this.updateShape(),this.reconnectChildBlocks(t,e,n)},updateShape(){this.getInput("ELSE")&&this.removeInput("ELSE");for(var t=1;this.getInput("IF"+t);)this.removeInput("IF"+t),this.removeInput("DO"+t),t++;for(t=1;t<=this.elseifCount_;t++)this.appendValueInput("IF"+t).setCheck("Boolean").appendField(Fg.Msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput("DO"+t).appendField(Fg.Msg.CONTROLS_IF_MSG_THEN).setCheck("actionBlock");this.elseCount_&&this.appendStatementInput("ELSE").appendField(Fg.Msg.CONTROLS_IF_MSG_ELSE).setCheck("actionBlock")}}:"ForGlobalVariable"===e?Fg.Blocks[e]={init:function(){this.jsonInit({type:"controls_global_for_loop",message0:"Loop Global Variable %1 From %2 To %3 By %4 %5",args0:[{type:"input_value",name:"VALUE-0",check:"GlobalVariable"},{type:"input_value",name:"VALUE-1",check:"Number"},{type:"input_value",name:"VALUE-2",check:"Number"},{type:"input_value",name:"VALUE-3",check:"Number"},{type:"input_statement",name:"DO",check:"actionBlock"}],inputsInline:!0,previousStatement:"actionBlock",nextStatement:"actionBlock",colour:"#d89a3c",tooltip:"",helpUrl:""})}}:"ForObjectVariable"===e?Fg.Blocks[e]={init:function(){this.jsonInit({type:"controls_object_for_loop",message0:"Loop Object Variable %1 From %2 To %3 By %4 %5",args0:[{type:"input_value",name:"VALUE-0",check:"ObjectVariable"},{type:"input_value",name:"VALUE-1",check:"Number"},{type:"input_value",name:"VALUE-2",check:"Number"},{type:"input_value",name:"VALUE-3",check:"Number"},{type:"input_statement",name:"DO",check:"actionBlock"}],inputsInline:!0,previousStatement:"actionBlock",nextStatement:"actionBlock",colour:"#d89a3c",tooltip:"",helpUrl:""})}}:"ForVariable"===e?Fg.Blocks[e]={init:function(){this.appendDummyInput().appendField(n?nF(n):e),this.appendValueInput("VALUE-0").setCheck("Variable"),this.appendDummyInput().appendField(nF("PYRITE_CONTROL_FROM")),this.appendValueInput("VALUE-1").setCheck("Number"),this.appendDummyInput().appendField(nF("PYRITE_CONTROL_TO")),this.appendValueInput("VALUE-2").setCheck("Number"),this.appendDummyInput().appendField(nF("PYRITE_CONTROL_BY")),this.appendValueInput("VALUE-3").setCheck("Number"),this.appendStatementInput("DO").setCheck("actionBlock"),this.setInputsInline(!0),this.setPreviousStatement(!0,"actionBlock"),this.setNextStatement(!0,"actionBlock"),this.setTooltip(""),this.setHelpUrl(""),this.setStyle("control-block-style")}}:"While"===e&&(Fg.Blocks.While={init(){this.appendDummyInput().appendField(n?nF(n):e),this.appendValueInput("VALUE-0").setCheck("Boolean"),this.appendStatementInput("DO").setCheck("actionBlock"),this.setInputsInline(!0),this.setPreviousStatement(!0,"actionBlock"),this.setNextStatement(!0,"actionBlock"),this.setTooltip(""),this.setHelpUrl(""),this.setStyle("control-block-style")}})})}(this.definitions))}}var fF=function(t){return t.MANAGE_VARIABLES="MANAGE_CUSTOM_VARIABLES",t.CUSTOM_VARIABLE_FLYOUT="CUSTOM_VARIABLE_FLYOUT",t.RENAME_VARIABLE="RENAME_CUSTOM_VARIABLES",t.CREATE_SUBROUTINE="CREATE_CUSTOM_SUBROUTINE",t.CUSTOM_SUBROUTINE_FLYOUT="CUSTOM_SUBROUTINE_FLYOUT",t}({});class _F{constructor(t){this.mainWorkspace=t,this.createNewSubroutineAction=t=>{},this.renameSubroutineCallbackAction=(t,e)=>{},this.deleteSubroutineCallbackAction=t=>{},this.renameSubroutineCallback=t=>{this.renameSubroutineCallbackAction(this.subroutines,t)},this.deleteSubroutineCallback=t=>{this.deleteSubroutineCallbackAction(t)},this.createSubroutineBlocks()}get subroutines(){return this.mainWorkspace?this.mainWorkspace.getTopBlocks(!0).filter(t=>"subroutineBlock"===t.type).map(t=>t.getFieldValue("SUBROUTINE_NAME")):[]}destroy(){this.mainWorkspace instanceof Fg.WorkspaceSvg&&this.mainWorkspace.removeButtonCallback(fF.CREATE_SUBROUTINE)}subroutinesFlyoutCallback(t){const e=[],n=document.createElement("button");if(n.setAttribute("text",nF("PYRITE_CREATE_SUBROUTINE")),n.setAttribute("callbackKey","CREATE_CUSTOM_SUBROUTINE"),e.push(n),Fg.Blocks.subroutineBlock&&Fg.Blocks.subroutineInstanceBlock)for(const i of this.subroutines){const t=Fg.utils.xml.createElement("block");t.setAttribute("type","subroutineInstanceBlock");const n=Fg.utils.xml.createElement("field");n.setAttribute("name","SUBROUTINE_NAME"),n.appendChild(Fg.utils.xml.createTextNode(i)),t.appendChild(n),e.push(t)}return e}createSubroutineBlocks(){const t=this;this.mainWorkspace instanceof Fg.WorkspaceSvg&&(this.mainWorkspace.registerToolboxCategoryCallback(fF.CUSTOM_SUBROUTINE_FLYOUT,t=>this.subroutinesFlyoutCallback(this.mainWorkspace)),this.mainWorkspace.registerButtonCallback(fF.CREATE_SUBROUTINE,()=>{this.createNewSubroutine()})),Fg.Blocks.subroutineBlock={init(){this.appendDummyInput().appendField(new Fg.FieldLabel(nF("PYRITE_SUBROUTINE"),"fieldHeaderText subroutineBlockSubroutineText")).appendField(new Fg.FieldLabelSerializable(nF("PYRITE_NEW_SUBROUTINE")),"SUBROUTINE_NAME"),this.appendStatementInput("CONDITIONS").setCheck("conditionBlock").appendField(new Fg.FieldLabel(nF("PYRITE_CONDITIONS"),"fieldHeaderText ruleBlockConditionText")),this.appendStatementInput("ACTIONS").setCheck("actionBlock").appendField(new Fg.FieldLabel(nF("PYRITE_ACTIONS"),"fieldHeaderText ruleBlockActionText")),this.setInputsInline(!0),this.setStyle("subroutine-block-style")},onchange(t){t.type===Fg.Events.BLOCK_CREATE&&this.setDeletable(!1)},customContextMenu(e){{const n={text:nF("rules.subroutines.rename-subroutine"),enabled:!0,callback:()=>{t.renameSubroutineCallback(this)}},i={text:nF("rules.subroutines.delete-subroutine"),enabled:!0,callback:()=>{t.deleteSubroutineCallback(this)}};e.unshift(n),e.unshift(i)}}},Fg.Blocks.subroutineInstanceBlock={init(){this.appendDummyInput().appendField(new Fg.FieldLabelSerializable(""),"SUBROUTINE_NAME"),this.setPreviousStatement(!0,"actionBlock"),this.setNextStatement(!0,"actionBlock"),this.setStyle("action-block-style")}}}registerCreateNewSubroutineAction(t){this.createNewSubroutineAction=t}createNewSubroutine(){this.createNewSubroutineAction(this.subroutines)}refreshToolboxes(){this.mainWorkspace instanceof Fg.WorkspaceSvg&&this.mainWorkspace.refreshToolboxSelection()}renameSubroutine(t,e){if(t!==e&&-1!==this.subroutines.findIndex(e=>e===t)){const n=this.mainWorkspace.getBlocksByType("subroutineBlock",!1).filter(e=>e.getFieldValue("SUBROUTINE_NAME")===t);for(const t of n)t.getField("SUBROUTINE_NAME").setValue(e);const i=this.mainWorkspace.getBlocksByType("subroutineInstanceBlock",!1).filter(e=>e.getFieldValue("SUBROUTINE_NAME")===t);for(const t of i)t.getField("SUBROUTINE_NAME").setValue(e)}}deleteSubroutine(t){-1!==this.subroutines.findIndex(e=>e===t)&&(this.mainWorkspace.getBlocksByType("subroutineBlock",!1).filter(e=>e.getFieldValue("SUBROUTINE_NAME")===t).forEach(t=>{t.dispose(!0)}),this.mainWorkspace.getBlocksByType("subroutineInstanceBlock",!1).filter(e=>e.getFieldValue("SUBROUTINE_NAME")===t).forEach(t=>{t.dispose(!0)})),this.refreshToolboxes()}registerRenameSubroutineCallbackAction(t){this.renameSubroutineCallbackAction=t}registerDeleteSubroutineCallbackAction(t){this.deleteSubroutineCallbackAction=t}createSubroutineDefinitionBlock(t){const e=Fg.utils.xml.createElement("block");e.setAttribute("type","subroutineBlock");const n=Fg.utils.xml.createElement("field");n.setAttribute("name","SUBROUTINE_NAME"),n.appendChild(Fg.utils.xml.createTextNode(t));const{top:i,left:o,width:r,height:s}=this.mainWorkspace.getMetricsManager().getViewMetrics(),a=i+s/2-150;e.setAttribute("x",(o+r/2).toString()),e.setAttribute("y",a.toString()),e.appendChild(n),this.mainWorkspace instanceof Fg.WorkspaceSvg&&this.mainWorkspace.paste(e),this.refreshToolboxes()}}class bF{constructor(t){this.mainWorkspace=t,this.maxGlobalVariables=0,this.maxObjectVariables=0,this.objectTypes=[],this.manageVariablesAction=(t,e)=>{},this.renameVariableCallbackAction=t=>{},this.deleteVariableCallbackAction=t=>{},this.renameVariableCallback=t=>{this.renameVariableCallbackAction(t)},this.deleteVariableCallback=t=>{this.deleteVariableCallbackAction(t)}}init(t){this.definitions=t,this.objectTypes=this.definitions.objects.map(t=>[t.displayNameSID?nF(t.displayNameSID):t.name,t.type]),this.maxGlobalVariables=this.definitions.constraints.maxGlobalVariables,this.maxObjectVariables=this.definitions.constraints.maxObjectVariables,this.createVariableTypesBlocks(this.objectTypes)}destroy(){this.mainWorkspace instanceof Fg.WorkspaceSvg&&this.mainWorkspace.removeButtonCallback(fF.MANAGE_VARIABLES)}getGlobalVariableCount(){return this.mainWorkspace.getVariablesOfType("Global").length}getObjectVariableCount(){return this.mainWorkspace.getAllVariables().filter(t=>"Global"!==t.type).length}canCreateVariableOfType(t){return"Global"===t?this.getGlobalVariableCount()<this.maxGlobalVariables:this.getObjectVariableCount()<this.maxObjectVariables}registerManageVariablesAction(t){this.manageVariablesAction=t}get availableObjectTypes(){return this.objectTypes.filter(t=>this.mainWorkspace.getVariablesOfType(t[1]).length>0)}variablesFlyoutCallback(t){const e=[],n=document.createElement("button");if(n.setAttribute("text",nF("PYRITE_MANAGE_VARIABLES")),n.setAttribute("callbackKey","MANAGE_CUSTOM_VARIABLES"),e.push(n),this.availableObjectTypes.length>0){const t=Fg.utils.xml.createElement("block");t.setAttribute("type","variableReferenceBlock"),e.push(t);const n=Fg.utils.xml.createElement("value");n.setAttribute("name","VALUE-0"),n.appendChild(t.cloneNode());const i=Fg.utils.xml.createElement("block");i.setAttribute("type","GetVariable"),i.appendChild(n),e.push(i);const o=Fg.utils.xml.createElement("value");o.setAttribute("name","VALUE-0"),o.appendChild(t.cloneNode());const r=Fg.utils.xml.createElement("block");r.setAttribute("type","SetVariable"),r.appendChild(o),e.push(r)}return e}createVariableTypesBlocks(t){this.mainWorkspace instanceof Fg.WorkspaceSvg&&(this.mainWorkspace.registerToolboxCategoryCallback(fF.CUSTOM_VARIABLE_FLYOUT,t=>this.variablesFlyoutCallback(this.mainWorkspace)),this.mainWorkspace.registerButtonCallback(fF.MANAGE_VARIABLES,()=>{var e;this.manageVariablesAction(t,null===(e=this.definitions)||void 0===e?void 0:e.constraints)})),Fg.Blocks.variableReferenceBlock={init(){const t=this;this.appendDummyInput().appendField(new Fg.FieldDropdown(function(){const e=t.availableObjectTypes();return e.length>0?e:[["",""]]}),"OBJECTTYPE").appendField("Variable"),this.appendDummyInput().appendField(new Fg.FieldVariable(" "),"VAR"),this.setInputsInline(!0),this.setOutput(!0,"Variable"),this.setColour("#33b4ff");const e=this.getField("VAR");e.setValidator(function(e){var n;const i=null===(n=this.getVariable())||void 0===n?void 0:n.type;t.updateShape(!!i&&"Global"!==i)}),e.menuGenerator_=this.variableDropdownCreate,this.setStyle("variable-block-style")},availableObjectTypes(){return t.filter(t=>this.workspace.getVariablesOfType(t[1]).length>0)},mutationToDom(){const t=Fg.utils.xml.createElement("mutation"),e=this.getFieldValue("VAR"),n=this.workspace.getVariableById(e);return n&&t.setAttribute("isObjectVar","Global"!==n.type?"true":"false"),t},domToMutation(t){const e="true"===t.getAttribute("isObjectVar");this.updateShape(e)},updateShape(t){var e,n;const i=null!==(n=null===(e=this.getField("VAR").getVariable())||void 0===e?void 0:e.type)&&void 0!==n?n:null,o=this.getInput("OBJECT"),r=this.getInput("FORLABEL");t?(r||this.appendDummyInput("FORLABEL").appendField(new Fg.FieldLabel("for")),o?o.setCheck(i):this.appendValueInput("OBJECT").setCheck(i)):(o&&this.removeInput("OBJECT"),r&&this.removeInput("FORLABEL"))},onchange(t){const e=this.getField("VAR"),n=this.getFieldValue("OBJECTTYPE"),i="Global"!==n;if(t.type===Fg.Events.VAR_RENAME&&e.refreshVariableName(),t.type!==Fg.Events.CHANGE&&t.type!==Fg.Events.VAR_CREATE||this.updateShape(i),t.type===Fg.Events.CREATE||t.type===Fg.Events.CHANGE||t.type===Fg.Events.VAR_CREATE){const t=null==e?void 0:e.getVariable(),i=null==t?void 0:t.type;if(e&&i!==n){const t=this.workspace.getVariablesOfType(n);t.length>0&&e.setValue(t[0].getId())}}},customContextMenu(t){},variableDropdownCreate(){const t=this.sourceBlock_.getFieldValue("OBJECTTYPE"),e=this.sourceBlock_.workspace.getVariablesOfType(t).map(t=>[t.name,t.getId()]);return e.length>0?e:[["",""]]},customFromXml(t){const e=t.getAttribute("id")||"",n=t.textContent||"",i=t.getAttribute("variabletype")||"",o=Fg.Variables.getOrCreateVariablePackage(this.sourceBlock_.workspace,e,n,i);if(null!=i&&i!==o.type)throw Error("Serialized variable type with id '"+o.getId()+"' had type "+o.type+", and does not match variable field that references it: "+Fg.Xml.domToText(t)+".");const r=this.sourceBlock_.getInput("OBJECT");r?r.setCheck(i):"Global"!==i&&this.sourceBlock_.appendValueInput("OBJECT").setCheck(i)}}}registerRenameVariableCallbackAction(t){this.renameVariableCallbackAction=t}registerDeleteVariableCallbackAction(t){this.deleteVariableCallbackAction=t}}((t,e="custom-tooltip-extension")=>{Fg.Extensions.register(e,function(){const e=this;e.customTooltip=function(){return t(e)}})})(t=>{const e=document.createElement("div");e.className="blockly-custom-tooltip",e.style.backgroundColor="rgba(0, 0, 0, 0.9)",e.style.borderColor=t.getColourTertiary();const n=document.createElement("div");return n.innerHTML=t.getTooltip(),e.appendChild(n),e},"tooltip-extension");const vF=["ObjectVariable","GlobalVariable","CallSubroutine","Else","ElseIf","End"],yF=["Break","Continue","ForGlobalVariable","ForObjectVariable","ForVariable","If","While"],CF=["Variable"],OF={maxGlobalVariables:16,maxObjectVariables:16,maxDepth:64};class TF extends class{constructor(){this.default='<xml xmlns="https://developers.google.com/blockly/xml">\n        <block type="modBlock" deletable="false">\n            <statement name="RULES">\n                <block type="ruleBlock"></block>\n            </statement>\n        </block>\n    </xml>',this.definitions={}}registerModRules(t){this.modRules=t}registerDefinitions(t,e){if(!this.blockImporterManager||!this.variablesManager)throw new Error("You need to create Workspaces before registring definitions!");let n=["String","Number","Boolean"];this.rulesVersion=t,this.definitions={objects:[{name:"Global",type:"Global",deprecated:!1,displayNameSID:"PYRITE_OBJECT_GLOBAL"}].concat(e.objects).map(t=>{var e;return n=n.concat(null!==(e=t.type)&&void 0!==e?e:[]),t}),events:[{name:"Ongoing",parameters:[],deprecated:!1,displayNameSID:"PYRITE_EVENT_ONGOING"}].concat(e.events.map(t=>Object.assign(Object.assign({},t),{parameters:t.parameters.map(t=>"string"==typeof t?{name:t,deprecated:!1}:t)}))),values:e.values.filter(t=>-1===vF.indexOf(t.name)&&-1===yF.indexOf(t.name)).map(t=>(t.functionSignatures&&(n=n.concat(aF(t.functionSignatures))),t)),actions:e.actions.filter(t=>-1===vF.indexOf(t.name)&&-1===yF.indexOf(t.name)).map(t=>(t.functionSignatures&&(n=n.concat(aF(t.functionSignatures))),t)),selectionLists:e.selectionLists.map(t=>(t.returnType&&(n=n.concat(t.returnType)),t)),controlActions:e.actions.filter(t=>-1!==yF.indexOf(t.name)).map(t=>(t.functionSignatures&&(n=n.concat(aF(t.functionSignatures))),t)),types:[],constraints:OF},this.definitions.types=[...new Set(n)].filter(t=>-1===CF.indexOf(t)),this.blockImporterManager.init(this.rulesVersion,this.definitions),this.variablesManager.init(this.definitions)}setupManagers(t){this.blockImporterManager=new mF(t),this.subroutinesManager=new _F(t),this.variablesManager=new bF(t)}hasChanges(){var t,e,n;let i=!1;const o=this.mainWorkspace.getAllVariables(),r=this.mainWorkspace.getTopBlocks(!1),s=Fg.Xml.workspaceToDom(this.mainWorkspace,!0).querySelectorAll('block[type="ruleBlock"]'),a=s[0],l=(null===(t=null==a?void 0:a.querySelector('field[name="NAME"]'))||void 0===t?void 0:t.innerHTML)!==nF("PYRITE_NEW_RULE"),c="Ongoing"!==(null===(e=null==a?void 0:a.querySelector('field[name="EVENTTYPE"]'))||void 0===e?void 0:e.innerHTML),u="Global"!==(null===(n=null==a?void 0:a.querySelector('field[name="OBJECTTYPE"]'))||void 0===n?void 0:n.innerHTML),h=!!(null==a?void 0:a.querySelector('statement[name="CONDITIONS"] block')),d=!!(null==a?void 0:a.querySelector('statement[name="ACTIONS"] block'));return(r.length>1||o.length>0||1!==s.length||l||c||u||h||d)&&(i=!0),i}export(){if(!this.hasChanges())return null;const t=this.mainWorkspace.getAllVariables();return{mainWorkspace:Fg.Xml.domToText(Fg.Xml.workspaceToDom(this.mainWorkspace,!0)),variables:Fg.Xml.domToText(Fg.Xml.variablesToDom(t))}}}{constructor(t,e){super(),this.changeListeners=[],this.mainWorkspace=Fg.inject(t,e),this.setupManagers(this.mainWorkspace)}destroy(){this.mainWorkspace.dispose(),this.changeListeners.forEach(t=>{this.mainWorkspace.removeChangeListener(t)})}addChangeListener(t){this.mainWorkspace.addChangeListener(t)}validateWorkspaceDom(t){return QB(this,void 0,void 0,function*(){return t=function(t){var e;const n=t.getElementsByTagName("block");for(let i=0;i<n.length;++i){const t=n[i].getAttribute("type"),o="value"===(null===(e=n[i].parentElement)||void 0===e?void 0:e.nodeName);t&&void 0===Fg.Blocks[t]&&(n[i].setAttribute("type",o?"missingValueBlockType_v1":"missingActionBlockType_v1"),n[i].innerHTML=`<field name="DELETED_NAME">${t}</field>\n`+n[i].innerHTML)}return t}(t=function(t){return t.querySelectorAll('block[type="variableReferenceBlock"] > field[name="OBJECTTYPE"]:empty').forEach(t=>{var e;if(""===t.innerHTML.trim()){const n=null===(e=t.parentElement)||void 0===e?void 0:e.querySelector('field[name="VAR"]'),i=null==n?void 0:n.getAttribute("variabletype");t.innerHTML=null!=i?i:""}}),t}(t))})}}var EF=function(t){return t.Disabled="blockStyleDisabled",t.Error="blockStyleError",t.Deprecated="blocklyStyleDeprecated",t}({});class SF{constructor(){this.constants=null,this.defs=null,this.styles=new Map}init(t){this.constants=t}makeStyles(t){this.defs=Fg.utils.dom.createSvgElement("defs",{},t),this.defs&&(this.styles.set(EF.Disabled,function(t,e){const n=[];if(t.constants){const i=Fg.utils.dom.createSvgElement(Fg.utils.Svg.PATTERN,{id:"disabledPatternStyle",patternUnits:"userSpaceOnUse",width:10,height:10},e);Fg.utils.dom.createSvgElement(Fg.utils.Svg.RECT,{width:10,height:10,fill:t.constants.BLOCK_DISABLED_PATTERN_FILL_COLOUR},i),Fg.utils.dom.createSvgElement(Fg.utils.Svg.PATH,{class:"disabledPatternGridLines",d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:t.constants.BLOCK_DISABLED_PATTERN_STROKE_COLOUR,strokewidth:2*t.constants.GRID_UNIT},i),n.push({attribute:"fill",value:`url(#${i.id})`})}return n}(this,this.defs)),this.styles.set(EF.Error,function(t,e){const n=[];if(t.constants){const i=Fg.utils.dom.createSvgElement(Fg.utils.Svg.PATTERN,{id:"errorPatternStyle",patternUnits:"userSpaceOnUse",width:15,height:15},e);Fg.utils.dom.createSvgElement(Fg.utils.Svg.RECT,{width:15,height:15,fill:t.constants.BLOCK_ERROR_PATTERN_FILL_COLOUR},i),Fg.utils.dom.createSvgElement(Fg.utils.Svg.PATH,{d:"M 0 0 M 15 0 L 0 15",stroke:t.constants.BLOCK_ERROR_PATTERN_STROKE_COLOUR,strokewidth:2*t.constants.GRID_UNIT},i),n.push({attribute:"fill",value:`url(#${i.id})`}),n.push({attribute:"stroke",value:t.constants.BLOCK_ERROR_HIGHLIGHT_STROKE_COLOUR}),n.push({attribute:"stroke-width",value:"2px"})}return n}(this,this.defs)),this.styles.set(EF.Deprecated,function(t,e){const n=[];if(t.constants){const i=Fg.utils.dom.createSvgElement(Fg.utils.Svg.PATTERN,{id:"deprecatedPatternStyle",patternUnits:"userSpaceOnUse",width:15,height:15},e);Fg.utils.dom.createSvgElement(Fg.utils.Svg.RECT,{width:15,height:15,fill:t.constants.BLOCK_DEPRECATED_PATTERN_FILL_COLOUR},i),Fg.utils.dom.createSvgElement(Fg.utils.Svg.PATH,{d:"M 0 0 M 15 0 L 0 15",stroke:t.constants.BLOCK_DEPRECATED_PATTERN_STROKE_COLOUR,strokewidth:2*t.constants.GRID_UNIT},i),n.push({attribute:"fill",value:`url(#${i.id})`}),n.push({attribute:"stroke",value:t.constants.BLOCK_DEPRECATED_HIGHLIGHT_STROKE_COLOUR}),n.push({attribute:"stroke-width",value:"2px"})}return n}(this,this.defs)))}getCss(t){return this.constants?`\n        ${t}  .blocklyDisabled > .blocklyOutlinePath {\n            fill: url(#disabledPatternStyle');\n        }\n        ${t}  .blocklyError > .blocklyOutlinePath {\n            fill: url(#errorPatternStyle');\n        }\n        ${t}  .blocklyDeprecated > .blocklyOutlinePath {\n            fill: url(#deprecatedPatternStyle');\n        }\n        ${t}  .blocklyText.ruleBlockRuleText {\n            fill: ${this.constants.RULE_BLOCK_RULE_TEXT_COLOR};\n        }\n        ${t}  .blocklyText.ruleBlockConditionText {\n            fill: ${this.constants.RULE_BLOCK_CONDITION_TEXT_COLOR};\n        }\n        ${t}  .blocklyText.ruleBlockActionText {\n            fill: ${this.constants.RULE_BLOCK_ACTION_TEXT_COLOR};\n        }\n        ${t}  .blocklyText.subroutineBlockSubroutineText {\n            fill: ${this.constants.SUBROUTINE_BLOCK_SUBROUTINE_TEXT_COLOR};\n        }\n        ${t}  .blocklyText.fieldHeaderText {\n            font-family: ${this.constants.FIELD_TEXT_HEADER_FONTFAMILY};\n            font-weight: ${this.constants.FIELD_TEXT_HEADER_FONTWEIGHT};\n        }\n\n        ${t}  .blocklyPath.blocklyWsSearchHighlight {\n            stroke + ${this.constants.SEARCH_HIGHLIGHT_GROUP_STROKE_COLOUR};\n            stroke-width: ${this.constants.SEARCH_HIGHLIGHT_GROUP_STROKE_WIDTH}px;\n        }\n        ${t}  .blocklyPath.blocklyWsSearchHighlight.blocklyWsSearchCurrent {\n            stroke: ${this.constants.SEARCH_HIGHLIGHT_CURRENT_STROKE_COLOUR};\n            stroke-width: ${this.constants.SEARCH_HIGHLIGHT_CURRENT_STROKE_WIDTH}px;\n        }\n\n        ${t} .blocklyStatementConnectionIndicator.connected {\n            display: none;\n        }\n\n        ${t} .blocklyStatementConnectionIndicator polygon:first-child {\n            fill: #000000;\n        }\n\n        ${t} .blocklySelected > .blocklyStatementConnectionIndicator polygon:first-child {\n            fill: ${this.constants.SELECTED_GLOW_COLOUR};\n        }\n\n        ${t} .blocklyStatementConnectionIndicator.ruleBlock polygon:last-child {\n            fill: ${this.constants.RULE_BLOCK_RULE_CONNECTION_COLOR};\n        }\n\n        ${t} .blocklyStatementConnectionIndicator.conditionBlock polygon:last-child {\n            fill: ${this.constants.RULE_BLOCK_CONDITION_CONNECTION_COLOR};\n        }\n\n        ${t} .blocklyStatementConnectionIndicator.actionBlock polygon:last-child {\n            fill: ${this.constants.RULE_BLOCK_ACTION_CONNECTION_COLOR};\n        }\n        `:""}applyStyle(t,e){const n=this.styles.get(e);if(n)for(const i of n)t.setAttribute(i.attribute,i.value)}}let wF=(()=>{class t{static parse(e){e=String(e).toLowerCase().trim();let n=t.Colors[e];if(n)return n;if(n="0x"===e.substring(0,2)?"#"+e.substring(2):e,n="#"===n[0]?n:"#"+n,/^#[0-9a-f]{6}$/.test(n))return n;if(/^#[0-9a-f]{3}$/.test(n))return["#",n[1],n[1],n[2],n[2],n[3],n[3]].join("");const i=e.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);if(i){const e=Number(i[1]),n=Number(i[2]),o=Number(i[3]);if(e>=0&&e<256&&n>=0&&n<256&&o>=0&&o<256)return t.rgbToHex(e,n,o)}return""}static rgbToHex(t,e,n){const i=t<<16|e<<8|n;return t<16?"#"+(16777216|i).toString(16).substr(1):"#"+i.toString(16)}static rgbArrayToHex(e){return t.rgbToHex(e[0],e[1],e[2])}static hexToRgb(e){const n=t.parse(e);if(!n)return[0,0,0];const i=parseInt(n.substr(1),16);return[i>>16,i>>8&255,255&i]}static blend(e,n,i){const o=t.parse(e);if(!o)return"";const r=t.parse(n);if(!r)return"";const s=t.hexToRgb(o),a=t.hexToRgb(r),l=Math.round(a[0]+i*(s[0]-a[0])),c=Math.round(a[1]+i*(s[1]-a[1])),u=Math.round(a[2]+i*(s[2]-a[2]));return t.rgbToHex(l,c,u)}static luminance(t){return(.2126*t[0]+.7152*t[1]+.0722*t[2])/255}static darken(e,n){return t.blend("#000000",e,n)}static lighten(e,n){return t.blend("#ffffff",e,n)}}return t.Colors={text:"#575E75",workspace:"#F9F9F9",toolboxHover:"#4C97FF",toolboxSelected:"#e9eef2",toolboxText:"#575E75",toolbox:"#FFFFFF",flyout:"#444",scrollbar:"#CECDCE",scrollbarHover:"#CECDCE",textField:"#FFFFFF",insertionMarker:"#000000",insertionMarkerOpacity:.2,dragShadowOpacity:.4,stackGlow:"#FFF200",stackGlowSize:4,stackGlowOpacity:1,replacementGlow:"#FFF200",replacementGlowSize:2,replacementGlowOpacity:1,highlightGlow:"#FFF200",highlightGlowSize:1.1,highlightGlowOpacity:1,selectedGlow:"#FFF200",selectedGlowSize:.4,warningGlow:"#E53D00",warningGlowSize:1.1,warningGlowOpacity:1,colourPickerStroke:"#FFFFFF",fieldShadow:"rgba(255, 255, 255, 0.2)",dropDownShadow:"rgba(0, 0, 0, .3)",numPadBackground:"#547AB2",numPadBorder:"#435F91",numPadActiveBackground:"#435F91",numPadText:"#FFFFFF",valueReportBackground:"#FFFFFF",valueReportBorder:"#AAAAAA",canvasTransitionLength:500},t})();class MF extends Fg.zelos.ConstantProvider{constructor(){super(...arguments),this.GRID_UNIT=4,this.ICON_SEPARATOR_HEIGHT=8*this.GRID_UNIT,this.ELLIPSES="",this.ELLIPSES_RADIUS=6,this.ELLIPSES_SPACING=8,this.COLLAPSE_IMAGE_DATAURI="data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg enable-background='new 0 0 24 24' version='1.1' viewBox='0 0 24 24' xml:space='preserve' xmlns='http://www.w3.org/2000/svg'%3E%3Cstyle type='text/css'%3E .st0%7Bfill:%23CF8B17;%7D .st1%7Bfill:%23FFFFFF;%7D%0A%3C/style%3E%3Ctitle%3Erepeat%3C/title%3E%3Ccircle cx='12' cy='12' r='10.503' fill='none' stroke='%23fff' stroke-linecap='square' stroke-linejoin='round' stroke-width='2'/%3E%3Cg transform='matrix(.0086269 0 0 -.0086269 4.8224 17.354)'%3E%3Cpath d='m1611 367.42q0 53-37 90l-651 651q-38 38-91 38-54 0-90-38l-651-651q-38-36-38-90 0-53 38-91l74-75q39-37 91-37 53 0 90 37l486 486 486-486q37-37 90-37 52 0 91 37l75 75q37 39 37 91z' fill='%23fff'/%3E%3C/g%3E%3C/svg%3E%0A",this.EXPAND_IMAGE_DATAURI="data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg enable-background='new 0 0 24 24' version='1.1' viewBox='0 0 24 24' xml:space='preserve' xmlns='http://www.w3.org/2000/svg'%3E%3Cstyle type='text/css'%3E .st0%7Bfill:%23CF8B17;%7D .st1%7Bfill:%23FFFFFF;%7D%0A%3C/style%3E%3Ctitle%3Erepeat%3C/title%3E%3Ccircle cx='12' cy='12' r='10.503' fill='none' stroke='%23fff' stroke-linecap='square' stroke-linejoin='round' stroke-width='2'/%3E%3Cg transform='matrix(.0086269 0 0 -.0086269 4.8224 17.654)'%3E%3Cpath d='m1611 832q0-53-37-90l-651-651q-38-38-91-38-54 0-90 38l-651 651q-38 36-38 90 0 53 38 91l74 75q39 37 91 37 53 0 90-37l486-486 486 486q37 37 90 37 52 0 91-37l75-75q37-39 37-91z' fill='%23fff'/%3E%3C/g%3E%3C/svg%3E%0A",this.CONNECTION_INDICATOR_RADIUS=5,this.NOTCH=this.makeNotch(),this.START_HAT=this.makeStartHat(),this.PUZZLE_TAB=this.makePuzzleTab(),this.INSIDE_CORNERS=this.makeInsideCorners(),this.OUTSIDE_CORNERS=this.makeOutsideCorners(),this.NO_PADDING=0,this.SMALL_PADDING=this.GRID_UNIT,this.MEDIUM_PADDING=3*this.GRID_UNIT,this.MEDIUM_LARGE_PADDING=6*this.GRID_UNIT,this.LARGE_PADDING=6*this.GRID_UNIT,this.TALL_INPUT_FIELD_OFFSET_Y=this.MEDIUM_PADDING,this.TAB_HEIGHT=15,this.TAB_OFFSET_FROM_TOP=0,this.TAB_VERTICAL_OVERLAP=2.5,this.TAB_WIDTH=8,this.NOTCH_WIDTH=9*this.GRID_UNIT,this.NOTCH_HEIGHT=2*this.GRID_UNIT,this.MIN_BLOCK_WIDTH=2*this.GRID_UNIT,this.EMPTY_BLOCK_SPACER_HEIGHT=16,this.DUMMY_INPUT_MIN_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=6*this.GRID_UNIT,this.CORNER_RADIUS=.25*this.GRID_UNIT,this.NOTCH_OFFSET_LEFT=3*this.GRID_UNIT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT,this.STATEMENT_INPUT_PADDING_LEFT=8*this.GRID_UNIT,this.BETWEEN_STATEMENT_PADDING_Y=4,this.TOP_ROW_MIN_HEIGHT=4*this.CORNER_RADIUS,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=4*this.CORNER_RADIUS,this.STATEMENT_INPUT_SPACER_MIN_WIDTH=40*this.GRID_UNIT,this.CURSOR_RADIUS=5,this.SHAPE_IN_SHAPE_PADDING={1:{0:5*this.GRID_UNIT,1:2*this.GRID_UNIT,2:5*this.GRID_UNIT,3:5*this.GRID_UNIT},2:{0:3*this.GRID_UNIT,1:3*this.GRID_UNIT,2:1*this.GRID_UNIT,3:2*this.GRID_UNIT},3:{0:2*this.GRID_UNIT,1:2*this.GRID_UNIT,2:2*this.GRID_UNIT,3:2*this.GRID_UNIT}},this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH=16*this.GRID_UNIT,this.SELECTED_GLOW_COLOUR="#26ffdf",this.SELECTED_GLOW_SIZE=.1,this.REPLACEMENT_GLOW_COLOUR="#fff200",this.REPLACEMENT_GLOW_SIZE=1,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=6*this.GRID_UNIT,this.ADD_START_HATS=!1,this.START_HAT_HEIGHT=22,this.START_HAT_WIDTH=96,this.SPACER_DEFAULT_HEIGHT=15,this.MIN_BLOCK_HEIGHT=12*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_PADDING=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_HEIGHT=8*this.GRID_UNIT,this.EXTERNAL_VALUE_INPUT_PADDING=2,this.EMPTY_STATEMENT_INPUT_HEIGHT=12*this.GRID_UNIT,this.START_POINT=Fg.utils.svgPaths.moveBy(0,0),this.JAGGED_TEETH_HEIGHT=0,this.JAGGED_TEETH_WIDTH=0,this.FIELD_TEXT_FONTSIZE=3*this.GRID_UNIT,this.FIELD_TEXT_FONTWEIGHT="400",this.FIELD_TEXT_FONTFAMILY=zm('"BFText-Regular"'),this.FIELD_TEXT_HEADER_FONTWEIGHT="600",this.FIELD_TEXT_HEADER_FONTFAMILY=zm('"Purista-Semibold"'),this.FIELD_TEXT_HEIGHT=-1,this.FIELD_TEXT_BASELINE=-1,this.FIELD_BORDER_RECT_RADIUS=4*this.CORNER_RADIUS,this.FIELD_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_BORDER_RECT_X_PADDING=2*this.GRID_UNIT,this.FIELD_BORDER_RECT_Y_PADDING=1.625*this.GRID_UNIT,this.FIELD_BORDER_RECT_COLOUR="#fff",this.FIELD_TEXT_BASELINE_CENTER=!Fg.utils.userAgent.IE&&!Fg.utils.userAgent.EDGE,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!0,this.FIELD_DROPDOWN_COLOURED_DIV=!0,this.FIELD_DROPDOWN_SVG_ARROW=!0,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_DROPDOWN_SVG_ARROW_SIZE=12,this.FIELD_DROPDOWN_SVG_ARROW_DATAURI="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=",this.FIELD_DROPDOWN_SVG_CHECKMARK_SIZE=12,this.FIELD_DROPDOWN_SVG_CHECKMARK_DATAURI="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBmaWxsPSIjZmZmZmZmIiBkPSJNMjAuMjg1IDJsLTExLjI4NSAxMS41NjctNS4yODYtNS4wMTEtMy43MTQgMy43MTYgOSA4LjcyOCAxNS0xNS4yODV6Ii8+PC9zdmc+",this.FIELD_DROPDOWN_TEXT_COLOR="#ffffff",this.FILED_DROPDOWN_HIGHLIGHTCOLOR="#ff0000",this.FILED_DROPDOWN_TEXT_HIGHLIGHTCOLOR="#ff00ff",this.FIELD_TEXTINPUT_BOX_SHADOW=!0,this.FIELD_COLOUR_FULL_BLOCK=!0,this.FIELD_COLOUR_DEFAULT_WIDTH=2*this.GRID_UNIT,this.FIELD_COLOUR_DEFAULT_HEIGHT=4*this.GRID_UNIT,this.FIELD_CHECKBOX_X_OFFSET=1*this.GRID_UNIT,this.FIELD_TEXT_COLOR="#575E75",this.FIELD_EDITABLE_TEXT_COLOR_HOVER="#fff",this.CURSOR_COLOUR="#ffa200",this.MARKER_COLOUR="#4286f4",this.CURSOR_WS_WIDTH=20*this.GRID_UNIT,this.WS_CURSOR_HEIGHT=5,this.CURSOR_STACK_PADDING=10,this.CURSOR_BLOCK_PADDING=2,this.CURSOR_STROKE_WIDTH=4,this.FULL_BLOCK_FIELDS=!0,this.INSERTION_MARKER_COLOUR="#000000",this.INSERTION_MARKER_OPACITY=.2,this.SEARCH_HIGHLIGHT_GROUP_STROKE_COLOUR="#0000ff",this.SEARCH_HIGHLIGHT_GROUP_STROKE_WIDTH=.5*this.GRID_UNIT,this.SEARCH_HIGHLIGHT_CURRENT_STROKE_COLOUR="#ff00ff",this.SEARCH_HIGHLIGHT_CURRENT_STROKE_WIDTH=1*this.GRID_UNIT,this.RULE_BLOCK_RULE_TEXT_COLOR="#ffffff",this.RULE_BLOCK_RULE_CONNECTION_COLOR="#e882ff",this.RULE_BLOCK_CONDITION_TEXT_COLOR="#ffffff",this.RULE_BLOCK_CONDITION_CONNECTION_COLOR="#0a4f78",this.RULE_BLOCK_ACTION_TEXT_COLOR="#ffffff",this.RULE_BLOCK_ACTION_CONNECTION_COLOR="#b7a11c",this.SUBROUTINE_BLOCK_SUBROUTINE_TEXT_COLOR="#ffffff",this.SHAPES={HEXAGONAL:1,ROUND:2,SQUARE:3,PUZZLE:4,NOTCH:5},this.highlightedGlowFilterId="",this.warningGlowFilterId="",this.BLOCK_DISABLED_PATTERN_STROKE_COLOUR="#cc0",this.BLOCK_DISABLED_PATTERN_FILL_COLOUR="rgba(255,255,255,0.5)",this.BLOCK_ERROR_PATTERN_STROKE_COLOUR="#ff0000",this.BLOCK_ERROR_PATTERN_FILL_COLOUR="#aaa",this.BLOCK_ERROR_HIGHLIGHT_STROKE_COLOUR="#ff0000",this.BLOCK_DEPRECATED_PATTERN_STROKE_COLOUR="#ff0000",this.BLOCK_DEPRECATED_PATTERN_FILL_COLOUR="#aaa",this.BLOCK_DEPRECATED_HIGHLIGHT_STROKE_COLOUR="#ff0000",this.BLOCK_OUTLINE_STROKE_WIDTH=2,this.RULE_CATEGORY_COLOR="#ffffff",this.SUBROUTINES_CATEGORY_COLOR="#ffffff",this.VALUES_CATEGORY_COLOR="#ffffff",this.ACTIONS_CATEGORY_COLOR="#ffffff",this.CONTROLS_CATEGORY_COLOR="#ffffff",this.INPUT_VALUE_TYPE_ICON_MAX_COUNT=6,this.INPUT_VALUE_TYPE_ICON_MAX_SIZE=30,this.INPUT_VALUE_TYPE_ICON_MARGIN=2,this.styleManager=new SF}init(){super.init(),this.ELLIPSES=this.makeEllipses(),this.styleManager.init(this)}getStyleManager(){return this.styleManager}createDom(t,e,n){var i;super.createDom(t,e,n);const o=Fg.utils.dom.createSvgElement("defs",{},t),r=Fg.utils.dom.createSvgElement("filter",{id:"blocklyHighlightGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},o);Fg.utils.dom.createSvgElement("feGaussianBlur",{in:"SourceGraphic",stdDeviation:wF.Colors.highlightGlowSize},r);const s=Fg.utils.dom.createSvgElement("feComponentTransfer",{result:"outBlur"},r);Fg.utils.dom.createSvgElement("feFuncA",{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},s),Fg.utils.dom.createSvgElement("feFlood",{"flood-color":wF.Colors.highlightGlow,"flood-opacity":wF.Colors.highlightGlowOpacity,result:"outColor"},r),Fg.utils.dom.createSvgElement("feComposite",{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},r),this.highlightedGlowFilterId=r.id,this.highlightedGlowFilter=r;const a=Fg.utils.dom.createSvgElement("filter",{id:"blocklyHighlightWarningFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},o);Fg.utils.dom.createSvgElement("feGaussianBlur",{in:"SourceGraphic",stdDeviation:wF.Colors.warningGlowSize},a);const l=Fg.utils.dom.createSvgElement("feComponentTransfer",{result:"outBlur"},a);Fg.utils.dom.createSvgElement("feFuncA",{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},l),Fg.utils.dom.createSvgElement("feFlood",{"flood-color":wF.Colors.warningGlow,"flood-opacity":wF.Colors.warningGlowOpacity,result:"outColor"},a),Fg.utils.dom.createSvgElement("feComposite",{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},a),this.warningGlowFilterId=a.id,this.warningGlowFilter=a;const c=this.FIELD_DROPDOWN_SVG_ARROW_SIZE;Fg.utils.dom.createSvgElement("image",{id:"blocklyDropdownArrowSvg",height:c+"px",width:c+"px"},o).setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.FIELD_DROPDOWN_SVG_ARROW_DATAURI),Fg.utils.dom.createSvgElement("image",{id:"blocklyDropdownCheckmarkSvg"},o).setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.FIELD_DROPDOWN_SVG_CHECKMARK_DATAURI),null===(i=this.styleManager)||void 0===i||i.makeStyles(t)}makeEllipses(){const t=this.ELLIPSES_RADIUS,e=this.ELLIPSES_SPACING;let n="";for(let i=0;i<3;i++)n+=Fg.utils.svgPaths.moveBy(e,0)+Fg.utils.svgPaths.arc("a","180 1,1",t,Fg.utils.svgPaths.point(2*t,0));for(let i=0;i<3;i++)n+=Fg.utils.svgPaths.arc("a","180 1,1",t,Fg.utils.svgPaths.point(2*-t,0))+Fg.utils.svgPaths.moveBy(-e,0);return n}makeNotch(){const t=this.NOTCH_WIDTH,e=this.NOTCH_HEIGHT,n=t/3,i=n/3,o=e/2,r=o/2,s=t=>Fg.utils.svgPaths.curve("c",[Fg.utils.svgPaths.point(t*i/2,0),Fg.utils.svgPaths.point(t*i*3/4,r/2),Fg.utils.svgPaths.point(t*i,r)])+Fg.utils.svgPaths.line([Fg.utils.svgPaths.point(t*i,o)])+Fg.utils.svgPaths.curve("c",[Fg.utils.svgPaths.point(t*i/4,r/2),Fg.utils.svgPaths.point(t*i/2,r),Fg.utils.svgPaths.point(t*i,r)])+Fg.utils.svgPaths.lineOnAxis("h",t*n)+Fg.utils.svgPaths.curve("c",[Fg.utils.svgPaths.point(t*i/2,0),Fg.utils.svgPaths.point(t*i*3/4,-r/2),Fg.utils.svgPaths.point(t*i,-r)])+Fg.utils.svgPaths.line([Fg.utils.svgPaths.point(t*i,-o)])+Fg.utils.svgPaths.curve("c",[Fg.utils.svgPaths.point(t*i/4,-r/2),Fg.utils.svgPaths.point(t*i/2,-r),Fg.utils.svgPaths.point(t*i,-r)]),a=s(1),l=s(-1);return{type:this.SHAPES.NOTCH,width:t,height:e,pathLeft:a,pathRight:l}}setDynamicProperties_(t){super.setDynamicProperties_(t),this.SELECTED_GLOW_COLOUR=t.getComponentStyle("selectedGlowColour")||this.SELECTED_GLOW_COLOUR;const e=Number(t.getComponentStyle("selectedGlowSize"));this.SELECTED_GLOW_SIZE=e&&!isNaN(e)?e:this.SELECTED_GLOW_SIZE,this.REPLACEMENT_GLOW_COLOUR=t.getComponentStyle("replacementGlowColour")||this.REPLACEMENT_GLOW_COLOUR;const n=Number(t.getComponentStyle("replacementGlowSize"));this.REPLACEMENT_GLOW_SIZE=n&&!isNaN(n)?n:this.REPLACEMENT_GLOW_SIZE,this.FIELD_BORDER_RECT_COLOUR=t.getComponentStyle("fieldBorderRectColor")||this.FIELD_BORDER_RECT_COLOUR,this.FIELD_TEXT_COLOR=t.getComponentStyle("fieldTextColor")||this.FIELD_TEXT_COLOR,this.FIELD_DROPDOWN_TEXT_COLOR=t.getComponentStyle("fieldDropdownTextColor")||this.FIELD_DROPDOWN_TEXT_COLOR,this.FILED_DROPDOWN_HIGHLIGHTCOLOR=t.getComponentStyle("fieldDropDownHighlightColor")||this.FILED_DROPDOWN_HIGHLIGHTCOLOR,this.FILED_DROPDOWN_TEXT_HIGHLIGHTCOLOR=t.getComponentStyle("fieldDropDownTextHighlightColor")||this.FILED_DROPDOWN_TEXT_HIGHLIGHTCOLOR,this.FIELD_EDITABLE_TEXT_COLOR_HOVER=t.getComponentStyle("fieldEditableTextHoverColor")||this.FIELD_EDITABLE_TEXT_COLOR_HOVER,this.SEARCH_HIGHLIGHT_CURRENT_STROKE_COLOUR=t.getComponentStyle("wsSearchHighlightCurrentColor")||this.SEARCH_HIGHLIGHT_CURRENT_STROKE_COLOUR,this.SEARCH_HIGHLIGHT_GROUP_STROKE_COLOUR=t.getComponentStyle("wsSearchHighlightGroupColor")||this.SEARCH_HIGHLIGHT_GROUP_STROKE_COLOUR,this.BLOCK_DISABLED_PATTERN_STROKE_COLOUR=t.getComponentStyle("blockDisablePatternStrokeColor")||this.BLOCK_DISABLED_PATTERN_STROKE_COLOUR,this.BLOCK_DISABLED_PATTERN_FILL_COLOUR=t.getComponentStyle("blockDisablePatternFillColor")||this.BLOCK_DISABLED_PATTERN_FILL_COLOUR,this.BLOCK_ERROR_PATTERN_STROKE_COLOUR=t.getComponentStyle("blockErrorPatternStrokeColor")||this.BLOCK_ERROR_PATTERN_STROKE_COLOUR,this.BLOCK_ERROR_PATTERN_FILL_COLOUR=t.getComponentStyle("blockErrorPatternFillColor")||this.BLOCK_ERROR_PATTERN_FILL_COLOUR,this.BLOCK_ERROR_HIGHLIGHT_STROKE_COLOUR=t.getComponentStyle("blockErrorHighlightStrokeColor")||this.BLOCK_ERROR_HIGHLIGHT_STROKE_COLOUR,this.BLOCK_DEPRECATED_PATTERN_STROKE_COLOUR=t.getComponentStyle("blockDeprecatedPatternStrokeColor")||this.BLOCK_DEPRECATED_PATTERN_STROKE_COLOUR,this.BLOCK_DEPRECATED_PATTERN_FILL_COLOUR=t.getComponentStyle("blockDeprecatedPatternFillColor")||this.BLOCK_DEPRECATED_PATTERN_FILL_COLOUR,this.BLOCK_DEPRECATED_HIGHLIGHT_STROKE_COLOUR=t.getComponentStyle("blockDeprecatedHighlightStrokeColor")||this.BLOCK_DEPRECATED_HIGHLIGHT_STROKE_COLOUR,this.RULE_BLOCK_RULE_TEXT_COLOR=t.getComponentStyle("ruleBlockRuleTextColor")||this.RULE_BLOCK_RULE_TEXT_COLOR,this.RULE_BLOCK_RULE_CONNECTION_COLOR=t.getComponentStyle("ruleBlockRuleConnectionColor")||this.RULE_BLOCK_RULE_CONNECTION_COLOR,this.RULE_BLOCK_CONDITION_TEXT_COLOR=t.getComponentStyle("ruleBlockConditionTextColor")||this.RULE_BLOCK_CONDITION_TEXT_COLOR,this.RULE_BLOCK_CONDITION_CONNECTION_COLOR=t.getComponentStyle("ruleBlockConditionConnectionColor")||this.RULE_BLOCK_CONDITION_CONNECTION_COLOR,this.RULE_BLOCK_ACTION_TEXT_COLOR=t.getComponentStyle("ruleBlockActionTextColor")||this.RULE_BLOCK_ACTION_TEXT_COLOR,this.RULE_BLOCK_ACTION_CONNECTION_COLOR=t.getComponentStyle("ruleBlockActionConnectionColor")||this.RULE_BLOCK_ACTION_CONNECTION_COLOR,this.SUBROUTINE_BLOCK_SUBROUTINE_TEXT_COLOR=t.getComponentStyle("subroutineBlockSubroutineTextColor")||this.SUBROUTINE_BLOCK_SUBROUTINE_TEXT_COLOR,this.RULE_CATEGORY_COLOR=t.getComponentStyle("rulesCategoryColor")||this.RULE_CATEGORY_COLOR,this.SUBROUTINES_CATEGORY_COLOR=t.getComponentStyle("subroutinesCategoryColor")||this.SUBROUTINES_CATEGORY_COLOR,this.VALUES_CATEGORY_COLOR=t.getComponentStyle("valuesCategoryColor")||this.VALUES_CATEGORY_COLOR,this.ACTIONS_CATEGORY_COLOR=t.getComponentStyle("actionsCategoryColor")||this.ACTIONS_CATEGORY_COLOR,this.CONTROLS_CATEGORY_COLOR=t.getComponentStyle("controlsCategoryColor")||this.CONTROLS_CATEGORY_COLOR}shapeFor(t){let e=t.getCheck();switch(!e&&t.targetConnection&&(e=t.targetConnection.getCheck()),t.type){case Fg.connectionTypes.INPUT_VALUE:case Fg.connectionTypes.OUTPUT_VALUE:const e=t.getSourceBlock().getOutputShape();if(null!=e)switch(e){case this.SHAPES.HEXAGONAL:return this.HEXAGONAL;case this.SHAPES.ROUND:return this.ROUNDED;case this.SHAPES.SQUARE:return this.SQUARED}return this.ROUNDED;case Fg.connectionTypes.PREVIOUS_STATEMENT:case Fg.connectionTypes.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown type")}}getCSS_(t){return[t+" .blocklyMainBackground {","stroke: none;","}",t+" .blocklyText,",t+" .blocklyFlyoutLabelText {","font: "+this.FIELD_TEXT_FONTWEIGHT+" "+this.FIELD_TEXT_FONTSIZE+"pt "+this.FIELD_TEXT_FONTFAMILY+";","}",t+" .blocklyText {","fill: #fff;","}",t+" .blocklyNonEditableText>rect:not(.blocklyDropdownRect),",t+" .blocklyEditableText>rect:not(.blocklyDropdownRect) {","fill: "+this.FIELD_BORDER_RECT_COLOUR+";","}",t+" .blocklyNonEditableText>text,",t+" .blocklyEditableText>text:not(.blocklyDropdownText),",t+" .blocklyNonEditableText>g>text,",t+" .blocklyEditableText>g>text {","fill: "+this.FIELD_TEXT_COLOR+";","}",t+" .blocklyFlyoutLabelText {","fill: #575E75;","}",t+" .blocklyText.blocklyBubbleText {","fill: white;","stroke: rgba(38, 255, 223, 0.5);","stroke-width: 3px","}",t+" .blocklyDraggable:not(.blocklyDisabled)"," .blocklyEditableText:not(.editing):hover>rect,",t+" .blocklyDraggable:not(.blocklyDisabled)"," .blocklyEditableText:not(.editing):hover>.blocklyPath {","stroke: "+this.FIELD_EDITABLE_TEXT_COLOR_HOVER+";","stroke-width: 2;","}",t+" .blocklyHtmlInput {","font-family: "+this.FIELD_TEXT_FONTFAMILY+";","font-weight: "+this.FIELD_TEXT_FONTWEIGHT+";","fill: "+this.FIELD_TEXT_COLOR+";","}",t+" .blocklyDropdownText {","fill: "+this.FIELD_DROPDOWN_TEXT_COLOR+";","}",t+".blocklyWidgetDiv .goog-menuitem,",t+".blocklyDropDownDiv .goog-menuitem {","font-family: "+this.FIELD_TEXT_FONTFAMILY+";","}",t+".blocklyDropDownDiv .goog-menuitem-content {","color: #fff;","}",t+" .blocklyMenuItemHighlight {","background-color: "+this.FILED_DROPDOWN_HIGHLIGHTCOLOR+";","}",t+" .blocklyMenuItemHighlight .blocklyMenuItemContent {","color: "+this.FILED_DROPDOWN_TEXT_HIGHLIGHTCOLOR+";","}",t+" .blocklyMenuItemSelected .blocklyMenuItemCheckbox {","background: url("+this.FIELD_DROPDOWN_SVG_CHECKMARK_DATAURI+");","float: left;","margin-left: -24px;","position: static;","background-size: contain;","width: "+this.FIELD_DROPDOWN_SVG_CHECKMARK_SIZE+"px;","height: "+this.FIELD_DROPDOWN_SVG_CHECKMARK_SIZE+"px;","}",t+" .blocklyHighlightedConnectionPath {","stroke: "+this.SELECTED_GLOW_COLOUR+";","}",t+" .blocklyDisabled > .blocklyOutlinePath {","fill: url(#blocklyDisabledPattern"+this.randomIdentifier+")","}",t+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.INSERTION_MARKER_OPACITY+";","stroke: none;","}",t+" .blocklyConnectionIndicator, "+t+" .blocklyInputConnectionIndicator {","fill: #ff0000;","fill-opacity: 0.9;","stroke: #ffff00;","stroke-width: 3px;","}",t+" .blocklyConnectionIndicator {","display: none;","}",t+" .blocklyBlockDragSurface > g > .blocklyDraggable > .blocklyConnectionIndicator {","display: block;","}",t+" .blocklyConnectionLine {","stroke: #ffff00;","stroke-width: 4px;","}",t+" .blocklyConnectionLine.hidden {","display: none;","}"].concat([this.styleManager.getCss(t)])}}class xF extends Fg.zelos.Drawer{constructor(t,e){super(t,e),this.block=t,this.portalPathObject=t.pathObject,this.portalRenderInfo=e}isStatementBlock(){return this.block.nextConnection&&this.block.nextConnection.getCheck()&&(-1!==this.block.nextConnection.getCheck().indexOf("actionBlock")||-1!==this.block.nextConnection.getCheck().indexOf("conditionBlock")||-1!==this.block.nextConnection.getCheck().indexOf("ruleBlock"))}drawOutline_(){this.portalPathObject.clearStatementConnectors(),super.drawOutline_()}drawInlineInput_(t){super.drawInlineInput_(t),this.portalPathObject.setValueInputPath(t)}}class PF extends Fg.blockRendering.InlineInput{constructor(t,e){var n;if(super(t,e),this.portalConstants=t,!e.connection.targetConnection&&e.connection.getCheck()){const t=this.height/1.3,i=this.portalConstants.INPUT_VALUE_TYPE_ICON_MAX_SIZE,o=t>i?i:t;let r=null!==(n=e.connection.getCheck())&&void 0!==n?n:[];r.length>this.portalConstants.INPUT_VALUE_TYPE_ICON_MAX_COUNT&&(r=["any"]),this.width+=r.length*o+(r.length-1)*this.portalConstants.INPUT_VALUE_TYPE_ICON_MARGIN}}}class kF extends Fg.blockRendering.Row{measure(){this.width=this.minWidth,this.height=this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT}}class IF extends Fg.zelos.RenderInfo{addCollapsedRow_(t){return this.rows.push(t),t=new kF(this.constants_),this.inputRowNum_++,t.hasDummyInput=!0,t}addInput_(t,e){t.type===Fg.inputTypes.DUMMY&&e.hasDummyInput&&e.align===Fg.constants.ALIGN.LEFT&&t.align===Fg.constants.ALIGN.RIGHT&&(e.rightAlignedDummyInput=t),this.isInline&&t.type===Fg.inputTypes.VALUE?(e.elements.push(new PF(this.constants_,t)),e.hasInlineInput=!0):t.type===Fg.inputTypes.STATEMENT?(e.elements.push(new Fg.blockRendering.StatementInput(this.constants_,t)),e.hasStatement=!0):t.type===Fg.inputTypes.VALUE?(e.elements.push(new Fg.blockRendering.ExternalValueInput(this.constants_,t)),e.hasExternalInput=!0):t.type===Fg.inputTypes.DUMMY&&(e.minHeight=Math.max(e.minHeight,t.getSourceBlock()&&t.getSourceBlock().isShadow()?this.constants_.DUMMY_INPUT_SHADOW_MIN_HEIGHT:this.constants_.DUMMY_INPUT_MIN_HEIGHT),e.hasDummyInput=!0),null===e.align&&(e.align=t.align)}getInRowSpacing_(t,e){return t&&e||!this.outputConnection||!this.outputConnection.isDynamicShape||this.hasStatementInput||this.bottomRow.hasNextConnection?t?t&&Fg.blockRendering.Types.isLeftRoundedCorner(t)&&e&&(Fg.blockRendering.Types.isPreviousConnection(e)||Fg.blockRendering.Types.isNextConnection(e))?e.notchOffset-this.constants_.CORNER_RADIUS:t&&Fg.blockRendering.Types.isLeftSquareCorner(t)&&e&&Fg.blockRendering.Types.isHat(e)?this.constants_.NO_PADDING:this.constants_.MEDIUM_LARGE_PADDING:e&&Fg.blockRendering.Types.isStatementInput(e)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.MEDIUM_PADDING:this.constants_.NO_PADDING}}class AF extends Fg.zelos.PathObject{constructor(t,e,n){super(t,e,n),this.svgPathHighlighted=null,this.svgPathHighlightedWarning=null,this.svgOutputConnectionIndicator=null,this.portalConstants=this.constants,Fg.utils.dom.addClass(this.svgPath,"blocklyBlockBackground"),this.statementConnectorIndicator=new Map,this.valueInputIconIndicator=new Map}setPath(t){super.setPath(t),this.svgPathHighlighted&&this.svgPathHighlighted.setAttribute("d",t),this.svgPathHighlightedWarning&&this.svgPathHighlightedWarning.setAttribute("d",t)}updateDisabled(t){this.setClass_("blocklyDisabled",t),t&&this.portalConstants.getStyleManager().applyStyle(this.svgPath,EF.Disabled)}updateError(t){this.setClass_("blocklyError",t),t&&this.portalConstants.getStyleManager().applyStyle(this.svgPath,EF.Error)}applyColour(t){this.svgPath.setAttribute("stroke",this.style.colourTertiary),this.svgPath.setAttribute("fill",this.style.colourPrimary),this.svgPath.setAttribute("stroke-width",`${this.portalConstants.BLOCK_OUTLINE_STROKE_WIDTH}px`),this.updateShadow_(t.isShadow()),this.updateDisabled(!t.isEnabled()||t.getInheritedDisabled());const e=t.type.includes("missingValueBlockType")||t.type.includes("missingActionBlockType");this.updateError(e);for(let n,i=0,o=Object.keys(this.outlines_);n=o[i];i++)this.outlines_[n].setAttribute("fill",this.style.colourSecondary);if(t.isShadow()&&t.getParent()){const e=t.getParent().style.colourTertiary,n=Fg.utils.colour.hexToRgb(e),i=wF.luminance(n);this.svgPath.setAttribute("stroke",i<.15?wF.lighten(e,.3):t.getParent().style.colourTertiary)}}setOutlinePath(t,e){const n=this.getOutlinePath_(t);n.setAttribute("d",e),n.setAttribute("stroke",this.style.colourTertiary),n.setAttribute("fill",this.style.colourSecondary)}updateHighlighted(t){this.setClass_("blocklyHighlighted",t),t?this.svgPathHighlighted||(this.svgPathHighlighted=this.svgPath.cloneNode(!0),this.svgPathHighlighted.setAttribute("fill","none"),this.svgPathHighlighted.setAttribute("filter","url(#"+this.portalConstants.highlightedGlowFilterId+")"),this.svgRoot.appendChild(this.svgPathHighlighted)):this.svgPathHighlighted&&(this.svgRoot.removeChild(this.svgPathHighlighted),this.svgPathHighlighted=null)}updateHighlightedWarning(t){this.setClass_("blocklyHighlightedWarning",t),t?this.svgPathHighlightedWarning||(this.svgPathHighlightedWarning=this.svgPath.cloneNode(!0),this.svgPathHighlightedWarning.setAttribute("fill","none"),this.svgPathHighlightedWarning.setAttribute("filter","url(#"+this.portalConstants.warningGlowFilterId+")"),this.svgRoot.appendChild(this.svgPathHighlightedWarning)):this.svgPathHighlightedWarning&&(this.svgRoot.removeChild(this.svgPathHighlightedWarning),this.svgPathHighlightedWarning=null)}updateSelected(t){if(super.updateSelected(t),t&&(this.svgOutputConnectionIndicator&&(this.svgRoot.removeChild(this.svgOutputConnectionIndicator),this.svgRoot.appendChild(this.svgOutputConnectionIndicator)),this.statementConnectorIndicator))for(const e of this.statementConnectorIndicator)e[1]&&(this.svgRoot.removeChild(e[1]),this.svgRoot.appendChild(e[1]))}positionConnectionIndicator(t,e){var n;this.svgOutputConnectionIndicator||(this.svgOutputConnectionIndicator=Fg.utils.dom.createSvgElement("g",{class:"blocklyConnectionIndicator"}),this.svgOutputConnectionIndicator&&(this.svgRoot.appendChild(this.svgOutputConnectionIndicator),Fg.utils.dom.createSvgElement("circle",{r:this.portalConstants.CONNECTION_INDICATOR_RADIUS},this.svgOutputConnectionIndicator))),null===(n=this.svgOutputConnectionIndicator)||void 0===n||n.setAttribute("transform",this.translate(t,e))}getOutlinePath_(t){return this.outlines_[t]||(this.outlines_[t]=Fg.utils.dom.createSvgElement(Fg.utils.Svg.PATH,{class:"blocklyOutlinePath",d:""},this.svgRoot)),this.remainingOutlines_&&delete this.remainingOutlines_[t],this.outlines_[t]}clearStatementConnectors(){for(const t of this.statementConnectorIndicator)t[1]&&this.svgRoot.removeChild(t[1]);this.statementConnectorIndicator.clear()}positionStatementInputConnections(t){var e;const n=t.input;if(n.connection&&n.connection.type===Fg.connectionTypes.NEXT_STATEMENT){const i=t.xPos,o=t.centerline;let r=null===(e=n.connection)||void 0===e?void 0:e.targetBlock();if(r){let t=0,e=n.connection,o=e.getOffsetInBlock().y;do{let n=this.statementConnectorIndicator.get(r);n||(n=this.createStatementConnectionShape(e.getCheck()),this.statementConnectorIndicator.set(r,n)),null==n||n.setAttribute("transform",this.translate(i,o+r.height/2)),e=r.nextConnection,r=e?e.targetBlock():null,o+=e.getOffsetInBlock().y,++t}while(null!==r)}else{const t=this.createStatementConnectionShape(n.connection.getCheck());this.statementConnectorIndicator.set(0,t),null==t||t.setAttribute("transform",this.translate(i,o))}}}positionStatementOutputConnection(t,e,n){if(t){const i=t.nextConnection;if(!this.statementConnectorIndicator.get(t)){const e=this.createStatementConnectionShape(null==i?void 0:i.getCheck());e&&this.statementConnectorIndicator.set(t,e)}const o=this.statementConnectorIndicator.get(t);o&&o.setAttribute("transform",this.translate(e,n))}}createStatementConnectionShape(t){const e=Fg.utils.dom.createSvgElement("g",{class:"blocklyStatementConnectionIndicator"});if(e&&(Fg.utils.dom.createSvgElement(Fg.utils.Svg.POLYGON,{points:"0,x -x,0 0,-x x,0".replace(/x/g,(this.portalConstants.CONNECTION_INDICATOR_RADIUS+this.portalConstants.BLOCK_OUTLINE_STROKE_WIDTH).toString())},e),Fg.utils.dom.createSvgElement(Fg.utils.Svg.POLYGON,{points:"0,x -x,0 0,-x x,0".replace(/x/g,this.portalConstants.CONNECTION_INDICATOR_RADIUS.toString())},e),this.svgRoot.appendChild(e),t))for(const n of t)n&&e.classList.add(n.toString());return e}setValueInputPath(t){var e;const n=t.input,i=this.valueInputIconIndicator.get(n.name);if(i&&(this.svgRoot.removeChild(i),this.valueInputIconIndicator.delete(n.name)),!t.connectionModel.targetConnection){const i=Fg.utils.dom.createSvgElement("g",{class:"blocklyValueIcon"}),o=t.height/1.3,r=this.portalConstants.INPUT_VALUE_TYPE_ICON_MAX_SIZE,s=o>r?r:o;let a=null!==(e=t.connectionModel.getCheck())&&void 0!==e?e:[];if(a.length>this.portalConstants.INPUT_VALUE_TYPE_ICON_MAX_COUNT&&(a=["any"]),a){let e=t.width/2-(a.length*s+(a.length-1)*this.portalConstants.INPUT_VALUE_TYPE_ICON_MARGIN)/2;Hm()&&(e+=s);for(const t of a)if(t){const n=Fg.utils.dom.createSvgElement(Fg.utils.Svg.IMAGE,{height:s+"px",width:s+"px",alt:""},i);n.setAttributeNS(Fg.utils.dom.XLINK_NS,"xlink:href",dF(t)),n.setAttribute("transform",this.translate(e,-s/2)),e+=s+this.portalConstants.INPUT_VALUE_TYPE_ICON_MARGIN}}this.svgRoot.appendChild(i),this.valueInputIconIndicator.set(n.name,i)}const o=this.valueInputIconIndicator.get(n.name);o&&o.setAttribute("transform",this.translate(t.xPos,t.centerline))}translate(t,e){return Hm()?`translate(-${t},${e})`:`translate(${t},${e})`}}Fg.blockRendering.register("portal",class extends Fg.zelos.Renderer{constructor(t){super(t)}init(t,e){super.init(t,e)}makePathObject(t,e){return new AF(t,e,this.getConstants())}makeConstants_(){return new MF}makeRenderInfo_(t){return new IF(this,t)}makeDrawer_(t,e){return new xF(t,e)}shouldInsertDraggedBlock(t,e){return!1}});Fg.Theme.defineTheme("portal-dark",{base:Fg.Theme.Classic,componentStyles:{workspaceBackgroundColour:"rgba(0, 0, 0, 0)",toolboxBackgroundColour:"rgba(30, 39, 40, 0.8)",toolboxForegroundColour:"#ffffff",flyoutBackgroundColour:"#0a0a0a",flyoutForegroundColour:"#ffffff",flyoutOpacity:1,scrollbarColour:"#ffffff",scrollbarOpacity:.05,insertionMarkerColour:"#26ffdf",insertionMarkerOpacity:.3,markerColour:"#d0d0d0",cursorColour:"#d0d0d0",selectedGlowColour:"#26ffdf",selectedGlowOpacity:1,replacementGlowColour:"#26ffdf",replacementGlowOpacity:.5,fieldBorderRectColor:"#a8a8a8",fieldTextColor:"#000000",fieldDropdownTextColor:"#ffffff",fieldDropDownHighlightColor:"#26ffdf",fieldDropDownTextHighlightColor:"#000000",fieldEditableTextHoverColor:"#26ffdf",wsSearchHighlightCurrentColor:"#26ffdf",wsSearchHighlightGroupColor:"#ffffff",blockDisablePatternFillColor:"rgba(20,20,20,0.66)",blockDisablePatternStrokeColor:"#4f4f4f",blockErrorPatternFillColor:"#141414",blockErrorPatternStrokeColor:"#aa2b3f",blockErrorHighlightStrokeColor:"#ff2b3f",blockDeprecatedPatternFillColor:"#383629",blockDeprecatedPatternStrokeColor:"#a6aa2b",blockDeprecatedHighlightStrokeColor:"#ffe32b",ruleBlockRuleTextColor:"#ffffff",ruleBlockRuleConnectionColor:"#e882ff",ruleBlockConditionTextColor:"#ffffff",ruleBlockConditionConnectionColor:"#0a4f78",ruleBlockActionTextColor:"#ffffff",ruleBlockActionConnectionColor:"#b7a11c",subroutineBlockSubroutineTextColor:"#ed7f33",rulesCategoryColor:"#b45ac7",subroutinesCategoryColor:"#8a4211",valuesCategoryColor:"#1d8c58",actionsCategoryColor:"#b7a11c",controlsCategoryColor:"#2a90d0"},blockStyles:{"mod-block-style":{colourPrimary:"#222b2d",colourSecondary:"#0a0a0a",colourTertiary:"#161d1e",hat:"false"},"rule-block-style":{colourPrimary:"#682177",colourSecondary:"#0a0a0a",colourTertiary:"#390f42",hat:"false"},"condition-block-style":{colourPrimary:"#0a4f78",colourSecondary:"#0a0a0a",colourTertiary:"#003a5d",hat:"false"},"value-block-style":{colourPrimary:"#0f5736",colourSecondary:"#0a0a0a",colourTertiary:"#033d23",hat:"false"},"action-block-style":{colourPrimary:"#847000",colourSecondary:"#0a0a0a",colourTertiary:"#493e00",hat:"false"},"comment-block-style":{colourPrimary:"#141414",colourSecondary:"#0a0a0a",colourTertiary:"#141414",hat:"false"},"variable-block-style":{colourPrimary:"#0f5736",colourSecondary:"#0a0a0a",colourTertiary:"#033d23",hat:"false"},"subroutine-block-style":{colourPrimary:"#622c07",colourSecondary:"#0a0a0a",colourTertiary:"#461e02",hat:"false"},"control-block-style":{colourPrimary:"#351f95",colourSecondary:"#0a0a0a",colourTertiary:"#351f95",hat:"false"},"control-block-alt-style":{colourPrimary:"#2b1b71",colourSecondary:"#0a0a0a",colourTertiary:"#2b1b71",hat:"false"}},categoryStyles:{"rules-category":{colour:"#b45ac7"},"values-category":{colour:"#1d8c58"},"subroutines-category":{colour:"#bd6222"},"actions-category":{colour:"#b7a11c"},"controls-category":{colour:"#5939e6"}}}),Ug().setLocale(Vg),Ug().VerticalFlyout.prototype.getFlyoutScale=()=>1,oF=lL,Ug().Tooltip.HOVER_MS=100,Ug().SNAP_RADIUS=48,Ug().CONNECTING_SNAP_RADIUS=96,Ug().InsertionMarkerManager=class extends Fg.InsertionMarkerManager{constructor(t){super(t),this.block=t,this.connectionLine=null,this.connectionIndicator=null}update(t,e){super.update(t,e),this.updateConnectionLine(t)}createConnectionLine(){const t=this.block.workspace.getRenderer().getConstants().CONNECTION_INDICATOR_RADIUS;if(!this.connectionLine&&(this.connectionLine=Fg.utils.dom.createSvgElement("line",{class:"blocklyConnectionLine",x1:0,y1:0,x2:0,y2:0},this.localConnection_.sourceBlock_.getSvgRoot()),this.connectionIndicator=Fg.utils.dom.createSvgElement("g",{class:"blocklyInputConnectionIndicator"},this.closestConnection_.sourceBlock_.getSvgRoot()),this.connectionIndicator)){Fg.utils.dom.createSvgElement("circle",{r:t},this.connectionIndicator);const e=this.closestConnection_.offsetInBlock_;this.connectionIndicator.setAttribute("transform","translate("+e.x+","+e.y+")")}}updateConnectionLine(t){const e=this.block.workspace.getRenderer().getConstants();if(this.closestConnection_&&this.localConnection_&&this.connectionLine){const n=e.CONNECTION_INDICATOR_RADIUS,i=this.localConnection_.offsetInBlock_,o=this.closestConnection_.x-this.localConnection_.x-t.x+i.x,r=this.closestConnection_.y-this.localConnection_.y-t.y+i.y,s=Math.atan2(r-i.y,o-i.x);Math.sqrt(Math.pow(o-i.x,2)+Math.pow(r-i.y,2))<2*n+1?Fg.utils.dom.addClass(this.connectionLine,"hidden"):(Fg.utils.dom.removeClass(this.connectionLine,"hidden"),this.connectionLine.setAttribute("x1",(i.x+Math.cos(s)*n).toString()),this.connectionLine.setAttribute("y1",(i.y+Math.sin(s)*n).toString()),this.connectionLine.setAttribute("x2",(o-Math.cos(s)*n).toString()),this.connectionLine.setAttribute("y2",(r-Math.sin(s)*n).toString()))}}hideConnectionLine(){this.localConnection_&&this.connectionLine&&(this.localConnection_.sourceBlock_.getSvgRoot().removeChild(this.connectionLine),this.connectionLine=null,this.closestConnection_.sourceBlock_.getSvgRoot().removeChild(this.connectionIndicator),this.connectionIndicator=null)}showInsertionInputOutline_(){this.createConnectionLine(),super.showInsertionInputOutline_()}hideInsertionInputOutline_(){this.hideConnectionLine(),super.hideInsertionInputOutline_()}},Ug().Bubble.ARROW_THICKNESS=25,Ug().Bubble.ARROW_BEND=255,Ug().ContextMenuRegistry.registry.unregister("collapseWorkspace"),Ug().ContextMenuRegistry.registry.unregister("expandWorkspace"),Ug().ContextMenuRegistry.registry.unregister("blockCollapseExpand"),Ug().ContextMenuRegistry.registry.unregister("blockInline"),Ug().ContextMenuRegistry.registry.unregister("blockComment"),Ug().ContextMenuRegistry.registry.unregister("blockDisable"),Ug().Warning.prototype.drawIcon_=function(t){Ug().utils.dom.createSvgElement(Ug().utils.Svg.PATH,{fill:"#fff",d:"M16,1.9L0.3,30.1h31.4L16,1.9z M18,28.2h-4v-4h4V28.2z M14,22.2v-12h4v12H14z",transform:"scale(0.5)"},t)},window._Blockly=Ug();let RF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[IN],imports:[[Km,zS,J,Xs,Qs,KB,Up.forChild({extend:!0}),XB]]}),t})(),DF=(()=>{class t{constructor(t,e){this.translateService=t,this.dialog=e}canDeactivate(t,e,n,i){if(null==t?void 0:t.hasPendingChanges()){const e=this.dialog.open(qN,{width:"512px",data:{title$:this.translateService.get("editor.pending-changes-header"),body$:this.translateService.get("editor.pending-changes-body"),cancelLabel$:this.translateService.get("generic.no"),confirmLabel$:this.translateService.get("generic.yes")}});return(null==t?void 0:t.clickedBrowserNavigation)&&history.pushState({},document.title,n.url),e.afterClosed()}return!0}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Bp),i.LFG(aT))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function LF(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"mat-icon",1),i.NdJ("click",function(){return i.CHM(t),i.oxw().onClose()}),i.qZA()}}let NF=(()=>{class t{constructor(){this.title=""}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-mobile-header"]],inputs:{title:"title",onClose:"onClose"},decls:3,vars:2,consts:[["svgIcon","close",3,"click",4,"ngIf"],["svgIcon","close",3,"click"]],template:function(t,e){1&t&&(i.TgZ(0,"h3"),i._uU(1),i.qZA(),i.YNc(2,LF,1,0,"mat-icon",0)),2&t&&(i.xp6(1),i.Oqu(e.title),i.xp6(1),i.Q6J("ngIf",e.onClose))},directives:[R,eE],styles:["[_nghost-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 30px;text-transform:uppercase;background-color:#000;position:sticky;top:0;right:0;left:0;z-index:4}[_nghost-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-weight:600;font-size:20px}[_nghost-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px;color:#787878}"]}),t})();const BF=[[["","content",""]],[["","footer",""]]],FF=function(t){return{footer:!0,noBackground:t}},UF=["[content]","[footer]"];let VF=(()=>{class t{constructor(){this.title="",this.transparentBackground=!1}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-mobile-content"]],inputs:{title:"title",onClose:"onClose",transparentBackground:"transparentBackground"},ngContentSelectors:UF,decls:7,vars:6,consts:[[1,"container",3,"ngClass"],[3,"title","onClose"],[1,"content"],[3,"ngClass"],["footerRef",""]],template:function(t,e){if(1&t&&(i.F$t(BF),i.TgZ(0,"div",0),i._UZ(1,"app-mobile-header",1),i.TgZ(2,"div",2),i.Hsn(3),i.qZA(),i.TgZ(4,"div",3,4),i.Hsn(6,1),i.qZA(),i.qZA()),2&t){const t=i.MAs(5);i.Q6J("ngClass",t.innerHTML.trim()?"hasFooter":""),i.xp6(1),i.Q6J("title",e.title)("onClose",e.onClose),i.xp6(3),i.Q6J("ngClass",i.VKq(4,FF,e.transparentBackground))}},directives:[P,NF],styles:[".container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding-bottom:16px}.container[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{display:none;position:sticky;bottom:0;left:0;right:0;z-index:4;background:#000;padding:12px 15px}.hasFooter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{display:flex}.container[_ngcontent-%COMP%]   .footer.noBackground[_ngcontent-%COMP%]{background:none}.container.hasFooter[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{display:block}"]}),t})();function GF(t,e){}function jF(t,e){1&t&&i.YNc(0,GF,0,0,"ng-template")}function HF(t,e){1&t&&(i.TgZ(0,"h2",8),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"editor.manage.no-playground-text")))}function zF(t,e){1&t&&(i.TgZ(0,"mat-card",9),i.TgZ(1,"mat-card-content"),i._UZ(2,"app-editor-manage-content"),i.qZA(),i.qZA(),i._UZ(3,"app-editor-manage-footer"))}const WF=function(t){return{overlay:!0,show:t}},ZF=Sm.get("editor","manage");let YF=(()=>{class t{constructor(t,e,n,i,o,r,s,a,l,c){this.translateService=t,this.dialog=e,this.route=n,this.router=i,this.messageService=o,this.telemetryService=r,this.editorService=s,this.playgroundService=a,this.blueprintService=l,this.store=c,this.subscriptions=[],this.editorForm=this.editorService.editorForm,this.playgroundId=null,this.createDisabled=!0,this.createDisabledMessage="",this.maxNameSize=0,this.maxDescriptionSize=0,this.isPreset$=this.route.queryParams.pipe((0,Cr.U)(t=>!!t.preset)),this.addSubscription(this.editorService.playgroundId$.pipe().subscribe(t=>{this.playgroundId=t}),this.editorService.playgroundConstraints$.subscribe(t=>{this.maxNameSize=t.maxNameSize||64,this.maxDescriptionSize=t.maxDescriptionSize||256}),this.store.select(KL).pipe((0,zu.w)(t=>Hv([this.store.select(QL),this.translateService.get("playgrounds.max-playground-tooltip",{maxPlaygrounds:t})]))).subscribe(([t,e])=>{this.createDisabled=t,t&&(this.createDisabledMessage=e)}))}ngOnInit(){}getTagsTranslations(t){return function(t){var e,n,i,o,r,s;return{name:null!==(i=null===(n=null===(e=null==t?void 0:t.metadata)||void 0===e?void 0:e.translations)||void 0===n?void 0:n[0].translationId)&&void 0!==i?i:"",description:null!==(s=null===(r=null===(o=null==t?void 0:t.metadata)||void 0===o?void 0:o.translations)||void 0===r?void 0:r[1].translationId)&&void 0!==s?s:""}}(t)}onEditorFormReset(){this.dialog.open(qN,{width:"512px",data:{body$:this.translateService.get("editor.manage.reset-question")}}).afterClosed().subscribe(t=>{t&&this.editorService.isNewMode$.pipe($g()).subscribe(t=>{this.editorService.reset(),t&&this.router.navigate(["experience","new"],{replaceUrl:!0})})})}onReportToggle(){this.dialog.open($N,{width:"512px",data:{playgroundId:this.playgroundId,categories:[{name$:this.translateService.get("editor.manage.report-suite.categories.CHEATING"),id:1},{name$:this.translateService.get("editor.manage.report-suite.categories.INAPPROPRIATE"),id:13},{name$:this.translateService.get("editor.manage.report-suite.categories.OFFENSIVE"),id:15}]}})}deletePlayground(t){void 0!==t&&this.dialog.open(qN,{width:"512px",data:{body$:this.translateService.get("editor.manage.delete-confirmation")}}).afterClosed().subscribe(e=>{e&&this.playgroundService.deletePlayground$(t).subscribe({complete:()=>{this.store.dispatch(hL({newValue:!1})),this.editorService.editorForm.markAsPristine(),this.router.navigate(["/experiences"],{replaceUrl:!0})}})})}duplicatePlayground(){this.dialog.open(qN,{width:"512px",data:{body$:this.translateService.get("editor.manage.duplicate-confirmation")}}).afterClosed().subscribe(t=>{t&&this.editorService.onEditorFormSubmit(!0)})}shareButtonHandler(){this.playgroundId&&this.playgroundService.sharePlayground$(this.playgroundId).pipe($g()).subscribe(t=>{var e,n;this.dialog.open(JN,{width:"512px",data:{body:null!==(n=null===(e=null==t?void 0:t.shortCode)||void 0===e?void 0:e.code)&&void 0!==n?n:""}})})}closeManagePanel(){this.editorService.toggleManagePanel(!1)}log(...t){ZF.log(...t)}addSubscription(...t){this.subscriptions.push(...t)}ngOnDestroy(){this.closeManagePanel(),this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Bp),i.Y36(aT),i.Y36(cR),i.Y36(ID),i.Y36(tN),i.Y36(SN),i.Y36(mN),i.Y36(aN),i.Y36(kN),i.Y36(Vp.yh))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-editor-manage"]],decls:14,vars:11,consts:[[1,"content-wrapper"],[3,"ngClass","click"],[1,"header"],["type","button","mat-icon-button","","aria-label","close icon",3,"click"],["svgIcon","close"],[4,"ngIf","ngIfThen","ngIfElse"],["playgroundError",""],["playground",""],[1,"no-playground"],[1,"mat-elevation-z0"]],template:function(t,e){if(1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.NdJ("click",function(){return e.closeManagePanel()}),i.ALo(2,"async"),i.qZA(),i.TgZ(3,"div",2),i.TgZ(4,"span"),i._uU(5),i.ALo(6,"translate"),i.qZA(),i.TgZ(7,"button",3),i.NdJ("click",function(){return e.closeManagePanel()}),i._UZ(8,"mat-icon",4),i.qZA(),i.qZA(),i.YNc(9,jF,1,0,void 0,5),i.YNc(10,HF,3,3,"ng-template",null,6,i.W1O),i.YNc(12,zF,4,0,"ng-template",null,7,i.W1O),i.qZA()),2&t){const t=i.MAs(11),n=i.MAs(13);i.xp6(1),i.Q6J("ngClass",i.VKq(9,WF,!0===i.lcZ(2,5,e.editorService.showManagePanel$))),i.xp6(4),i.Oqu(i.lcZ(6,7,"editor.manage.heading")),i.xp6(4),i.Q6J("ngIf",e.playgroundService.didFetchPlaygroundFail)("ngIfThen",t)("ngIfElse",n)}},styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}.content-wrapper[_ngcontent-%COMP%]{position:relative;z-index:40;flex-direction:column;height:100%;display:flex}html[dir=rtl][_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{direction:rtl}@media only screen and (max-width:768px){.content-wrapper[_ngcontent-%COMP%]{width:100%}}.content-wrapper[_ngcontent-%COMP%]   .tags-section[_ngcontent-%COMP%]   .mat-chip.mat-chip-disabled[_ngcontent-%COMP%]{display:none}.content-wrapper[_ngcontent-%COMP%]   .tags-title[_ngcontent-%COMP%]{margin-top:20px}.content-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{border-radius:0;flex:1;overflow:auto;scrollbar-width:thin}.content-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}.content-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0000}.content-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#fff3;border-radius:12px;background-clip:padding-box;border:3px solid #0000}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;background:#0009;width:100%;height:100%;display:none}html[dir=ltr][_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]{left:0}html[dir=rtl][_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]{right:0}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background:#000;align-items:center;justify-content:space-between;padding:10px 20px;position:relative;text-transform:uppercase}html[dir=rtl][_ngcontent-%COMP%]   .header[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .header[_ngcontent-%COMP%]{direction:rtl}.show[_ngcontent-%COMP%]{display:block}.no-playground[_ngcontent-%COMP%]{font-size:36px;min-height:200px;margin-top:60px;line-height:36px;text-align:center}html[dir=rtl][_ngcontent-%COMP%]   .no-playground[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .no-playground[_ngcontent-%COMP%]{text-align:center}form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{display:block}.notification-wrapper[_ngcontent-%COMP%]{margin-bottom:20px}.notification-wrapper[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{display:flex}html[dir=rtl][_ngcontent-%COMP%]   .notification-wrapper[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .notification-wrapper[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{direction:rtl}html[dir=ltr][_ngcontent-%COMP%]   .notification-wrapper[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .notification-wrapper[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{margin-right:20px}html[dir=rtl][_ngcontent-%COMP%]   .notification-wrapper[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .notification-wrapper[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{margin-left:20px}.notification-wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]{display:flex;align-items:center;font-family:"BFText-Regular",var(--font-fallback);font-size:14px;font-style:normal;line-height:28px;letter-spacing:0;text-align:left;padding:10px 17px;margin-bottom:2px}html[dir=rtl][_ngcontent-%COMP%]   .notification-wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .notification-wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]{direction:rtl}html[dir=rtl][_ngcontent-%COMP%]   .notification-wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .notification-wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]{text-align:right}.notification-wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;top:2px}.notification-wrapper[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{background-color:#49421f}.notification-wrapper[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{background-color:#491f1f}.notification-wrapper[_ngcontent-%COMP%]   .valid[_ngcontent-%COMP%]{background-color:#0f2022}  .mat-tooltip-panel div.mat-tooltip{font-size:18px}  .mat-card{background-color:#121212}']}),t})();function qF(t,e){}function JF(t,e){1&t&&i.YNc(0,qF,0,0,"ng-template")}function $F(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",7),i.TgZ(1,"mat-icon",8,9),i.NdJ("click",function(){return i.CHM(t),i.MAs(2).toggle()}),i.qZA(),i.qZA()}if(2&t){const t=i.oxw();i.xp6(1),i.Q6J("matTooltip",t.helpText)("matTooltipPosition",t.tooltipPosition)}}function KF(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",11),i.NdJ("click",function(){return i.CHM(t),i.oxw(2).toggleHelp()}),i._UZ(1,"mat-icon",12),i.qZA()}}function XF(t,e){if(1&t&&i.YNc(0,KF,2,0,"div",10),2&t){const t=i.oxw();i.Q6J("ngIf",t.helpText)}}function QF(t,e){if(1&t&&(i.TgZ(0,"div",13),i._uU(1),i.qZA()),2&t){const t=i.oxw();i.xp6(1),i.Oqu(t.helpText)}}const tU=["*"];let eU=(()=>{class t{constructor(){this.label="",this.helpText="",this.hasTooltip=!1,this.tooltipPosition="below",this.showHelp=!1}ngOnInit(){}toggleHelp(){this.hasTooltip||(this.showHelp=!this.showHelp)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-form-field"]],inputs:{label:"label",helpText:"helpText",hasTooltip:"hasTooltip",tooltipPosition:"tooltipPosition"},ngContentSelectors:tU,decls:11,vars:5,consts:[[1,"form-field"],[1,"header"],[1,"label"],[4,"ngIf","ngIfThen","ngIfElse"],["toolTip",""],["helpTextPrompt",""],["class","help-container",4,"ngIf"],[1,"help-icon"],["svgIcon","info",3,"matTooltip","matTooltipPosition","click"],["tooltip","matTooltip"],["class","help-icon",3,"click",4,"ngIf"],[1,"help-icon",3,"click"],["svgIcon","info"],[1,"help-container"]],template:function(t,e){if(1&t&&(i.F$t(),i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i._uU(3),i.qZA(),i.YNc(4,JF,1,0,void 0,3),i.YNc(5,$F,3,2,"ng-template",null,4,i.W1O),i.YNc(7,XF,1,1,"ng-template",null,5,i.W1O),i.qZA(),i.YNc(9,QF,2,1,"div",6),i.Hsn(10),i.qZA()),2&t){const t=i.MAs(6),n=i.MAs(8);i.xp6(3),i.Oqu(e.label),i.xp6(1),i.Q6J("ngIf",e.hasTooltip)("ngIfThen",t)("ngIfElse",n),i.xp6(5),i.Q6J("ngIf",e.showHelp)}},directives:[R,eE,_S],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}[_nghost-%COMP%]     input, [_nghost-%COMP%]     select, [_nghost-%COMP%]     textarea{font-family:"BFText-Regular",var(--font-fallback);width:100%;min-width:100%;max-width:100%;box-sizing:border-box;color:#fff;background-color:#121212;border:1px solid #d8d8d8;margin-bottom:10px;padding:5px 10px;font-size:16px;line-height:24px}[_nghost-%COMP%]     input.ng-invalid, [_nghost-%COMP%]     select.ng-invalid, [_nghost-%COMP%]     textarea.ng-invalid{border:1px solid #f33}.form-field[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between;margin-bottom:8px;font-size:16px}html[dir=rtl][_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .form-field[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{direction:rtl}.form-field[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-family:"Purista-Semibold",var(--font-fallback);font-size:18px;font-style:normal;font-weight:600;line-height:32px;letter-spacing:.03em;text-align:left;color:#b4b4b4;text-transform:uppercase}html[lang=ar][_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], html[lang=ar]   [_nghost-%COMP%]   .form-field[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{letter-spacing:0}html[dir=rtl][_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .form-field[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{text-align:right}.form-field[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .help-icon[_ngcontent-%COMP%]{cursor:pointer;color:#787878}.form-field[_ngcontent-%COMP%]   .help-container[_ngcontent-%COMP%]{background:#121212;padding:10px;font-size:14px;margin-bottom:10px}']}),t})(),nU=(()=>{class t{constructor(t,e){this.el=t,this.control=e}onBlur(){var t;const e=this.el.nativeElement.value.trim();this.el.nativeElement.value.length!==e.length&&(null===(t=this.control.control)||void 0===t||t.setValue(e))}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(Qr))},t.\u0275dir=i.lG2({type:t,selectors:[["","appTrimWhiteSpace",""]],hostBindings:function(t,e){1&t&&i.NdJ("blur",function(){return e.onBlur()})}}),t})(),iU=(()=>{class t{constructor(){this.type="valid",this.iconSrc="",this.text=""}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-validation-notification"]],inputs:{type:"type",iconSrc:"iconSrc",text:"text"},decls:5,vars:5,consts:[[1,"icon-wrapper"],[3,"svgIcon"]],template:function(t,e){1&t&&(i.TgZ(0,"div"),i.TgZ(1,"div",0),i._UZ(2,"mat-icon",1),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA(),i.qZA()),2&t&&(i.Gre("notification ",e.type,""),i.xp6(2),i.s9C("svgIcon",e.iconSrc),i.xp6(2),i.Oqu(e.text))},directives:[eE],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}.icon-wrapper[_ngcontent-%COMP%]{display:flex}html[dir=rtl][_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{direction:rtl}html[dir=ltr][_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{margin-right:20px}html[dir=rtl][_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{margin-left:20px}.notification[_ngcontent-%COMP%]{display:flex;align-items:center;font-family:"BFText-Regular",var(--font-fallback);font-size:18px;font-style:normal;line-height:28px;letter-spacing:0;text-align:left;padding:10px;margin-bottom:2px}html[dir=rtl][_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .notification[_ngcontent-%COMP%]{direction:rtl}html[dir=rtl][_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .notification[_ngcontent-%COMP%]{text-align:right}.notification[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;top:2px}.warning[_ngcontent-%COMP%]{background-color:#332e13}.warning[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{color:#ffd706}.valid[_ngcontent-%COMP%]{background-color:#0f2022}.valid[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{color:#60f156}.error[_ngcontent-%COMP%]{background-color:#550d0d}.error[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{color:#f33}']}),t})();function oU(t,e){1&t&&(i._UZ(0,"app-validation-notification",16),i.ALo(1,"translate")),2&t&&i.Q6J("text",i.lcZ(1,1,"editor.manage.valid-playground"))}function rU(t,e){1&t&&(i._UZ(0,"app-validation-notification",17),i.ALo(1,"translate")),2&t&&i.Q6J("type","error")("text",i.lcZ(1,2,"editor.manage.maps-error"))}function sU(t,e){1&t&&(i._UZ(0,"app-validation-notification",17),i.ALo(1,"translate")),2&t&&i.Q6J("type","error")("text",i.lcZ(1,2,"editor.manage.characters-error"))}function aU(t,e){1&t&&(i._UZ(0,"app-validation-notification",17),i.ALo(1,"translate")),2&t&&i.Q6J("type","error")("text",i.lcZ(1,2,"editor.manage.no-name-error"))}const lU=function(t){return{max:t}};function cU(t,e){if(1&t&&(i._UZ(0,"app-validation-notification",17),i.ALo(1,"translate")),2&t){const t=i.oxw(2);i.Q6J("type","error")("text",i.xi3(1,2,"editor.manage.max-name-error",i.VKq(5,lU,t.maxNameSize)))}}function uU(t,e){1&t&&(i._UZ(0,"app-validation-notification",17),i.ALo(1,"translate")),2&t&&i.Q6J("type","error")("text",i.lcZ(1,2,"editor.manage.no-description-error"))}function hU(t,e){if(1&t&&(i._UZ(0,"app-validation-notification",17),i.ALo(1,"translate")),2&t){const t=i.oxw(2);i.Q6J("type","error")("text",i.xi3(1,2,"editor.manage.max-description-error",i.VKq(5,lU,t.maxDescriptionSize)))}}function dU(t,e){1&t&&(i._UZ(0,"app-validation-notification",18),i.ALo(1,"translate")),2&t&&i.Q6J("text",i.lcZ(1,1,"editor.manage.generation-warning"))}function pU(t,e){if(1&t&&(i.TgZ(0,"div",10),i._UZ(1,"app-form-field",11),i.ALo(2,"translate"),i.TgZ(3,"div",12),i.YNc(4,oU,2,3,"app-validation-notification",13),i.YNc(5,rU,2,4,"app-validation-notification",14),i.YNc(6,sU,2,4,"app-validation-notification",14),i.YNc(7,aU,2,4,"app-validation-notification",14),i.YNc(8,cU,2,7,"app-validation-notification",14),i.YNc(9,uU,2,4,"app-validation-notification",14),i.YNc(10,hU,2,7,"app-validation-notification",14),i.YNc(11,dU,2,3,"app-validation-notification",15),i.ALo(12,"async"),i.qZA(),i.qZA()),2&t){const t=i.oxw();let e;i.xp6(1),i.Q6J("label",i.lcZ(2,9,"editor.manage.validation-title")),i.xp6(3),i.Q6J("ngIf",t.editorService.editorForm.valid&&0!==t.editorService.mapsFormArray.value.length),i.xp6(1),i.Q6J("ngIf",0===t.editorService.mapsFormArray.value.length),i.xp6(1),i.Q6J("ngIf",(null==t.editorService.playgroundNameFormControl||null==t.editorService.playgroundNameFormControl.errors?null:t.editorService.playgroundNameFormControl.errors.pattern)||(null==t.editorService.playgroundDescriptionFormControl||null==t.editorService.playgroundDescriptionFormControl.errors?null:t.editorService.playgroundDescriptionFormControl.errors.pattern)),i.xp6(1),i.Q6J("ngIf",null==t.editorService.playgroundNameFormControl||null==t.editorService.playgroundNameFormControl.errors?null:t.editorService.playgroundNameFormControl.errors.required),i.xp6(1),i.Q6J("ngIf",(null==t.editorService.playgroundNameFormControl?null:t.editorService.playgroundNameFormControl.value.length)>=t.maxNameSize),i.xp6(1),i.Q6J("ngIf",(null==t.editorService.playgroundDescriptionFormControl||null==t.editorService.playgroundDescriptionFormControl.errors?null:t.editorService.playgroundDescriptionFormControl.errors.required)||0===(null==t.editorService.playgroundDescriptionFormControl?null:t.editorService.playgroundDescriptionFormControl.value.length)),i.xp6(1),i.Q6J("ngIf",(null==t.editorService.playgroundDescriptionFormControl?null:t.editorService.playgroundDescriptionFormControl.value.length)>=t.maxDescriptionSize),i.xp6(1),i.Q6J("ngIf",null==(e=i.lcZ(12,11,t.editorService.isCurrentGenOnly$))?null:e.hasCurrentGenFlag)}}function gU(t,e){1&t&&(i._UZ(0,"app-form-field",11),i.ALo(1,"translate")),2&t&&i.Q6J("label",i.lcZ(1,1,"editor.manage.tags-title"))}function mU(t,e){if(1&t&&(i.TgZ(0,"div"),i.TgZ(1,"mat-chip",20),i.ALo(2,"translate"),i.TgZ(3,"span"),i._uU(4),i.ALo(5,"translate"),i.qZA(),i.qZA(),i.qZA()),2&t){const t=e.$implicit,n=i.oxw(2);i.xp6(1),i.Q6J("matTooltip",i.lcZ(2,2,n.getTagsTranslations(t).description)),i.xp6(3),i.Oqu(i.lcZ(5,4,n.getTagsTranslations(t).name))}}function fU(t,e){if(1&t&&(i.TgZ(0,"mat-chip-list"),i.YNc(1,mU,6,6,"div",19),i.ALo(2,"async"),i.qZA()),2&t){const t=i.oxw();i.xp6(1),i.Q6J("ngForOf",i.lcZ(2,1,t.editorService.playgroundTags$))}}let _U=(()=>{class t extends YF{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275cmp=i.Xpm({type:t,selectors:[["app-editor-manage-content"]],features:[i.qOj],decls:18,vars:25,consts:[[1,"editor",3,"formGroup"],[3,"disabled"],[1,"column"],["tooltipPosition","left",3,"label","hasTooltip","helpText"],["formControlName","name","autocomplete","off","appTrimWhiteSpace","","required",""],["rows","6","formControlName","description","autocomplete","off","appTrimWhiteSpace","","required",""],["class","playground-validation-section",4,"ngIf"],[1,"tags-section"],[3,"label",4,"ngIf"],[4,"ngIf"],[1,"playground-validation-section"],[3,"label"],[1,"notification-wrapper"],["type","valid","iconSrc","check",3,"text",4,"ngIf"],["iconSrc","warning",3,"type","text",4,"ngIf"],["type","warning","iconSrc","warning",3,"text",4,"ngIf"],["type","valid","iconSrc","check",3,"text"],["iconSrc","warning",3,"type","text"],["type","warning","iconSrc","warning",3,"text"],[4,"ngFor","ngForOf"],[3,"matTooltip"]],template:function(t,e){if(1&t&&(i.TgZ(0,"form",0),i.TgZ(1,"fieldset",1),i.ALo(2,"async"),i.TgZ(3,"div",2),i.TgZ(4,"app-form-field",3),i.ALo(5,"translate"),i.ALo(6,"translate"),i._UZ(7,"input",4),i.qZA(),i.TgZ(8,"app-form-field",3),i.ALo(9,"translate"),i.ALo(10,"translate"),i._UZ(11,"textarea",5),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.YNc(12,pU,13,13,"div",6),i.ALo(13,"async"),i.TgZ(14,"div",7),i.YNc(15,gU,2,3,"app-form-field",8),i.ALo(16,"async"),i.YNc(17,fU,3,3,"mat-chip-list",9),i.qZA()),2&t){let t;i.Q6J("formGroup",e.editorForm),i.xp6(1),i.Q6J("disabled",i.lcZ(2,11,e.editorService.editorDisabled$)),i.xp6(3),i.Q6J("label",i.lcZ(5,13,"editor.manage.playground-name"))("hasTooltip",!0)("helpText",i.lcZ(6,15,"editor.manage.experience-name-tooltip")),i.xp6(4),i.Q6J("label",i.lcZ(9,17,"label.description"))("hasTooltip",!0)("helpText",i.lcZ(10,19,"editor.manage.experience-description-tooltip")),i.xp6(4),i.Q6J("ngIf",i.lcZ(13,21,e.editorService.isLoaded$)),i.xp6(3),i.Q6J("ngIf",null==(t=i.lcZ(16,23,e.editorService.playgroundTags$))?null:t.length),i.xp6(2),i.Q6J("ngIf",e.editorService.playgroundId$)}},directives:[Ls,ns,Gs,eU,kr,es,qs,nU,$s,R,iU,lS,I,nS,_S],pipes:[Z,Fp],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}.content-wrapper[_ngcontent-%COMP%]{position:relative;z-index:40;flex-direction:column;height:100%;display:flex}html[dir=rtl][_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{direction:rtl}@media only screen and (max-width:768px){.content-wrapper[_ngcontent-%COMP%]{width:100%}}.content-wrapper[_ngcontent-%COMP%]   .tags-section[_ngcontent-%COMP%]   .mat-chip.mat-chip-disabled[_ngcontent-%COMP%]{display:none}.content-wrapper[_ngcontent-%COMP%]   .tags-title[_ngcontent-%COMP%]{margin-top:20px}.content-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{border-radius:0;flex:1;overflow:auto;scrollbar-width:thin}.content-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}.content-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0000}.content-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#fff3;border-radius:12px;background-clip:padding-box;border:3px solid #0000}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;background:#0009;width:100%;height:100%;display:none}html[dir=ltr][_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]{left:0}html[dir=rtl][_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]{right:0}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background:#000;align-items:center;justify-content:space-between;padding:10px 20px;position:relative;text-transform:uppercase}html[dir=rtl][_ngcontent-%COMP%]   .header[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .header[_ngcontent-%COMP%]{direction:rtl}.show[_ngcontent-%COMP%]{display:block}.no-playground[_ngcontent-%COMP%]{font-size:36px;min-height:200px;margin-top:60px;line-height:36px;text-align:center}html[dir=rtl][_ngcontent-%COMP%]   .no-playground[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .no-playground[_ngcontent-%COMP%]{text-align:center}form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{display:block}.notification-wrapper[_ngcontent-%COMP%]{margin-bottom:20px}.notification-wrapper[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{display:flex}html[dir=rtl][_ngcontent-%COMP%]   .notification-wrapper[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .notification-wrapper[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{direction:rtl}html[dir=ltr][_ngcontent-%COMP%]   .notification-wrapper[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .notification-wrapper[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{margin-right:20px}html[dir=rtl][_ngcontent-%COMP%]   .notification-wrapper[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .notification-wrapper[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{margin-left:20px}.notification-wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]{display:flex;align-items:center;font-family:"BFText-Regular",var(--font-fallback);font-size:14px;font-style:normal;line-height:28px;letter-spacing:0;text-align:left;padding:10px 17px;margin-bottom:2px}html[dir=rtl][_ngcontent-%COMP%]   .notification-wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .notification-wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]{direction:rtl}html[dir=rtl][_ngcontent-%COMP%]   .notification-wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .notification-wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]{text-align:right}.notification-wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;top:2px}.notification-wrapper[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{background-color:#49421f}.notification-wrapper[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{background-color:#491f1f}.notification-wrapper[_ngcontent-%COMP%]   .valid[_ngcontent-%COMP%]{background-color:#0f2022}  .mat-tooltip-panel div.mat-tooltip{font-size:18px}  .mat-card{background-color:#121212}']}),t})();function bU(t,e){if(1&t&&(i.TgZ(0,"button",5),i._UZ(1,"mat-icon",6),i.qZA()),2&t){i.oxw();const t=i.MAs(4);i.Q6J("matMenuTriggerFor",t)}}function vU(t,e){if(1&t){const t=i.EpF();i.ynx(0),i.TgZ(1,"button",7),i.NdJ("click",function(){return i.CHM(t),i.oxw().onEditorFormReset()}),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.BQk()}2&t&&(i.xp6(2),i.hij(" ",i.lcZ(3,1,"editor.manage.reset")," "))}function yU(t,e){if(1&t){const t=i.EpF();i.ynx(0),i.TgZ(1,"button",8),i.NdJ("click",function(){return i.CHM(t),i.oxw().duplicatePlayground()}),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.BQk()}if(2&t){const t=i.oxw();i.xp6(1),i.Q6J("disabled",t.editorService.editorForm.invalid||t.editorService.editorForm.disabled||t.createDisabled),i.xp6(1),i.hij(" ",i.lcZ(3,2,"editor.manage.duplicate")," ")}}function CU(t,e){if(1&t){const t=i.EpF();i.ynx(0),i.TgZ(1,"button",9),i.NdJ("click",function(){return i.CHM(t),i.oxw().onReportToggle()}),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.BQk()}2&t&&(i.xp6(2),i.hij(" ",i.lcZ(3,1,"editor.manage.report")," "))}function OU(t,e){if(1&t){const t=i.EpF();i.ynx(0),i.TgZ(1,"button",9),i.NdJ("click",function(){i.CHM(t);const e=i.oxw();return e.deletePlayground(e.playgroundId||void 0)}),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.BQk()}2&t&&(i.xp6(2),i.hij(" ",i.lcZ(3,1,"editor.manage.delete")," "))}function TU(t,e){if(1&t){const t=i.EpF();i.ynx(0),i.TgZ(1,"button",10),i.NdJ("click",function(){return i.CHM(t),i.oxw().shareButtonHandler()}),i._uU(2),i.ALo(3,"translate"),i._UZ(4,"mat-icon",11),i.qZA(),i.BQk()}if(2&t){const t=i.oxw();i.xp6(1),i.Q6J("disabled",t.editorService.editorForm.invalid||t.editorService.editorForm.disabled),i.xp6(1),i.hij(" ",i.lcZ(3,2,"editor.manage.share-button")," ")}}const EU=function(t){return{disabled:t}};function SU(t,e){if(1&t){const t=i.EpF();i.ynx(0),i.TgZ(1,"button",12),i.NdJ("click",function(){return i.CHM(t),i.oxw(2).editorService.onEditorFormSubmit()}),i.ALo(2,"async"),i.ALo(3,"async"),i._uU(4),i.ALo(5,"translate"),i._UZ(6,"mat-icon",13),i.qZA(),i.BQk()}if(2&t){const t=i.oxw(2);i.xp6(1),i.Q6J("ngClass",i.VKq(9,EU,t.editorService.editorForm.invalid||!0===i.lcZ(2,3,t.editorService.editorDisabled$)))("disabled",t.editorService.editorForm.invalid||!0===i.lcZ(3,5,t.editorService.editorDisabled$)),i.xp6(3),i.hij(" ",i.lcZ(5,7,"generic.save")," ")}}function wU(t,e){if(1&t){const t=i.EpF();i.ynx(0),i.TgZ(1,"div",14),i.TgZ(2,"button",15),i.NdJ("click",function(){return i.CHM(t),i.oxw(2).editorService.onEditorFormSubmit()}),i.ALo(3,"async"),i._uU(4),i.ALo(5,"translate"),i.qZA(),i.qZA(),i.BQk()}if(2&t){const t=i.oxw(2);i.xp6(1),i.Q6J("matTooltip",t.createDisabledMessage),i.xp6(1),i.Q6J("disabled",t.editorService.editorForm.invalid||0===t.editorService.editorForm.value.maps.length||!0===i.lcZ(3,3,t.editorService.editorDisabled$)||t.createDisabled),i.xp6(2),i.hij(" ",i.lcZ(5,5,"generic.create")," ")}}function MU(t,e){if(1&t&&(i.ynx(0),i.YNc(1,SU,7,11,"ng-container",4),i.ALo(2,"async"),i.YNc(3,wU,6,7,"ng-container",4),i.ALo(4,"async"),i.BQk()),2&t){const t=i.oxw();i.xp6(1),i.Q6J("ngIf",!t.editorService.editorForm.pristine&&!1===i.lcZ(2,2,t.editorService.isNewMode$)),i.xp6(2),i.Q6J("ngIf",i.lcZ(4,4,t.editorService.isNewMode$))}}function xU(t,e){if(1&t){const t=i.EpF();i.ynx(0),i.TgZ(1,"button",16),i.NdJ("click",function(){return i.CHM(t),i.oxw().editorService.onEditorFormSubmit(!0)}),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.BQk()}if(2&t){const t=i.oxw();i.xp6(1),i.Q6J("disabled",t.createDisabled),i.xp6(1),i.hij(" ",i.lcZ(3,2,"editor.manage.save-copy")," ")}}let PU=(()=>{class t extends YF{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275cmp=i.Xpm({type:t,selectors:[["app-editor-manage-footer"]],features:[i.qOj],decls:25,vars:36,consts:[[1,"footer-wrapper"],["type","button","mat-icon-button","","class","footer-menu-trigger","aria-label","footer menu",3,"matMenuTriggerFor",4,"ngIf"],[1,"footer-menu"],["footerMenu","matMenu"],[4,"ngIf"],["type","button","mat-icon-button","","aria-label","footer menu",1,"footer-menu-trigger",3,"matMenuTriggerFor"],["svgIcon","more_vert"],["type","button","mat-menu-item","",3,"click"],["type","button","mat-menu-item","",1,"footer-button",3,"disabled","click"],["type","button","mat-menu-item","",1,"footer-button",3,"click"],["type","button","mat-button","",1,"footer-button",3,"disabled","click"],["svgIcon","share"],["mat-raised-button","",1,"footer-button",3,"ngClass","disabled","click"],["svgIcon","save"],["matTooltipPosition","left",1,"tooltip",3,"matTooltip"],["mat-raised-button","",1,"footer-button","create",3,"disabled","click"],["mat-raised-button","",1,"footer-button",3,"disabled","click"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.YNc(1,bU,2,1,"button",1),i.ALo(2,"async"),i.TgZ(3,"mat-menu",2,3),i.YNc(5,vU,4,3,"ng-container",4),i.YNc(6,yU,4,4,"ng-container",4),i.ALo(7,"async"),i.ALo(8,"async"),i.ALo(9,"async"),i.YNc(10,CU,4,3,"ng-container",4),i.ALo(11,"async"),i.YNc(12,OU,4,3,"ng-container",4),i.ALo(13,"async"),i.ALo(14,"async"),i.ALo(15,"async"),i.qZA(),i.YNc(16,TU,5,4,"ng-container",4),i.ALo(17,"async"),i.ALo(18,"async"),i.YNc(19,MU,5,6,"ng-container",4),i.ALo(20,"async"),i.ALo(21,"async"),i.YNc(22,xU,4,4,"ng-container",4),i.ALo(23,"async"),i.ALo(24,"async"),i.qZA()),2&t&&(i.xp6(1),i.Q6J("ngIf",!1===i.lcZ(2,8,e.isPreset$)),i.xp6(4),i.Q6J("ngIf",!e.editorService.editorForm.pristine),i.xp6(1),i.Q6J("ngIf",(e.editorService.editorForm.pristine&&!1===i.lcZ(7,10,e.editorService.isNewMode$)||!1===i.lcZ(8,12,e.editorService.isEditable$))&&i.lcZ(9,14,e.editorService.isOwner$)),i.xp6(4),i.Q6J("ngIf",!1===i.lcZ(11,16,e.editorService.isOwner$)),i.xp6(2),i.Q6J("ngIf",i.lcZ(13,18,e.editorService.isOwner$)&&!1===i.lcZ(14,20,e.editorService.isArchived$)&&!1===i.lcZ(15,22,e.editorService.isNewMode$)),i.xp6(4),i.Q6J("ngIf",i.lcZ(17,24,e.editorService.playgroundId$)&&i.lcZ(18,26,e.editorService.isOwner$)),i.xp6(3),i.Q6J("ngIf",i.lcZ(20,28,e.editorService.isOwner$)&&!1===i.lcZ(21,30,e.editorService.isArchived$)),i.xp6(3),i.Q6J("ngIf",!1===i.lcZ(23,32,e.editorService.isOwner$)&&!1===i.lcZ(24,34,e.editorService.isArchived$)))},directives:[R,fE,rb,yE,eE,dE,P,_S],pipes:[Z,Fp],styles:["[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}[_nghost-%COMP%]{display:flex;flex-direction:row}.footer-wrapper[_ngcontent-%COMP%]{background-color:#000;width:100%;padding:20px;display:flex}.footer-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px}.footer-wrapper[_ngcontent-%COMP%]   .footer-menu-trigger[_ngcontent-%COMP%]{background:#121212;border-radius:0;height:44px;width:44px;display:inline-flex;justify-content:center;align-items:center}.footer-wrapper[_ngcontent-%COMP%]   .footer-button[_ngcontent-%COMP%]{color:#000;background:#fff;font-size:16px}@media only screen and (max-width:767px){.footer-wrapper[_ngcontent-%COMP%]   .footer-button[_ngcontent-%COMP%]{padding:0 16px}}.footer-wrapper[_ngcontent-%COMP%]   .footer-button.mat-button-disabled[_ngcontent-%COMP%]{opacity:.5}.footer-wrapper[_ngcontent-%COMP%]   .footer-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:relative;width:20px}html[dir=ltr][_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{left:20px}html[dir=rtl][_ngcontent-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .footer-wrapper[_ngcontent-%COMP%]   .footer-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{right:20px}@media only screen and (max-width:767px){.footer-wrapper[_ngcontent-%COMP%]   .footer-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:none}}  .mat-menu-content{background:#000}  .mat-tooltip-panel div.mat-tooltip{font-size:18px}"]}),t})(),kU=(()=>{class t{constructor(t){this._bottomSheetRef=t,this.close=()=>{this._bottomSheetRef.dismiss()}}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(WE))},t.\u0275cmp=i.Xpm({type:t,selectors:[["ng-component"]],decls:7,vars:5,consts:[[3,"transparentBackground","title","onClose"],["content",""],[1,"mobile-manage-content"],["footer",""]],template:function(t,e){1&t&&(i.TgZ(0,"app-mobile-content",0),i.ALo(1,"translate"),i.ynx(2,1),i.TgZ(3,"div",2),i._UZ(4,"app-editor-manage-content"),i.qZA(),i.BQk(),i.ynx(5,3),i._UZ(6,"app-editor-manage-footer"),i.BQk(),i.qZA()),2&t&&i.Q6J("transparentBackground",!0)("title",i.lcZ(1,3,"editor.header.manage"))("onClose",e.close)},directives:[VF,_U,PU],pipes:[Fp],styles:[".mobile-manage-content[_ngcontent-%COMP%]{padding:0 30px}"]}),t})();const IU={DEFAULT:[0],2042:[753847964,-1345154873],BC2:[-1812729600,-1812726317],BF3:[-1538018332,-1538019529],1942:[-620490983,-929856448,-620480178]},AU={DEFAULT:{team1Src:lL("assets/images/experiences/pageBG_MapDefault@2x.jpg"),team2Src:lL("assets/images/experiences/pageBG_MapDefault@2x.jpg")},1942:{team1Src:lL("assets/images/experiences/pageBG_1942@2x.jpg"),team2Src:lL("assets/images/experiences/pageBG_1942@2x.jpg")},BC2:{team1Src:lL("assets/images/experiences/pageBG_BC2@2x.jpg"),team2Src:lL("assets/images/experiences/pageBG_BC2@2x.jpg")},BF3:{team1Src:lL("assets/images/experiences/pageBG_BF3@2x.jpg"),team2Src:lL("assets/images/experiences/pageBG_BF3@2x.jpg")},2042:{team1Src:lL("assets/images/experiences/pageBG_2042@2x.jpg"),team2Src:lL("assets/images/experiences/pageBG_2042@2x.jpg")}},RU={DEFAULT:"",2042:lL("assets/images/experiences/bf2042-logo.png"),BF3:lL("assets/images/experiences/bf3-logo.png"),BC2:lL("assets/images/experiences/bad-company-logo.png"),1942:lL("assets/images/experiences/1942-logo.png")},DU={DEFAULT:{short:lL("assets/images/experiences/BG_MapDefault-short.jpg"),tall:lL("assets/images/experiences/BG_MapDefault_Mobile_FFA@2x.jpg")},2042:{short:lL("assets/images/experiences/BG_2042-short.jpg"),tall:lL("assets/images/experiences/BG_2042_Mobile_FFA@2x.jpg")},BF3:{short:lL("assets/images/experiences/BG_BF3-short.jpg"),tall:lL("assets/images/experiences/BG_BF3_Mobile_FFA@2x.jpg")},BC2:{short:lL("assets/images/experiences/BG_BC2-short.jpg"),tall:lL("assets/images/experiences/BG_BC2_Mobile_FFA@2x.jpg")},1942:{short:lL("assets/images/experiences/BG_1942-short.jpg"),tall:lL("assets/images/experiences/BG_1942_Mobile_FFA@2x.jpg")}},LU={DEFAULT:"editor.package.era.options.DEFAULT","1942_UK":"editor.package.era.options.game-1942","1942_GER":"editor.package.era.options.game-1942","1942_US":"editor.package.era.options.game-1942",BF3_US:"editor.package.era.options.game-BF3",BF3_RU:"editor.package.era.options.game-BF3",BC2_US:"editor.package.era.options.game-BC2",BC2_RU:"editor.package.era.options.game-BC2",KIN_US:"editor.package.era.options.game-2042",KIN_RU:"editor.package.era.options.game-2042"},NU={DEFAULT:"editor.package.factions.DEFAULT","1942_UK":"editor.package.factions.1942_UK","1942_GER":"editor.package.factions.1942_GER","1942_US":"editor.package.factions.1942_US",BF3_US:"editor.package.factions.BF3_US",BF3_RU:"editor.package.factions.BF3_RU",BC2_US:"editor.package.factions.BC2_US",BC2_RU:"editor.package.factions.BC2_RU",KIN_US:"editor.package.factions.KIN_US",KIN_RU:"editor.package.factions.KIN_RU"},BU={DEFAULT:"editor.package.countries.DEFAULT","1942_UK":"editor.package.countries.1942_UK","1942_GER":"editor.package.countries.1942_GER","1942_US":"editor.package.countries.1942_US",BF3_US:"editor.package.countries.BF3_US",BF3_RU:"editor.package.countries.BF3_RU",BC2_US:"editor.package.countries.BC2_US",BC2_RU:"editor.package.countries.BC2_RU",KIN_US:"editor.package.countries.KIN_US",KIN_RU:"editor.package.countries.KIN_RU"},FU={DEFAULT:0,"1942_UK":-929856448,"1942_GER":-620480178,"1942_US":-620490983,BF3_US:-1538018332,BF3_RU:-1538019529,BC2_US:-1812729600,BC2_RU:-1812726317,KIN_US:753847964,KIN_RU:-1345154873},UU={0:0,753847964:-1345154873,"-1345154873":-1345154873,"-1812729600":-1812726317,"-1812726317":-1812726317,"-1538018332":-1538019529,"-1538019529":-1538019529,"-929856448":-620480178,"-620480178":-620480178,"-620490983":-620480178},VU={DEFAULT:"DEFAULT",KIN_US:"2042",KIN_RU:"2042",BC2_US:"BC2",BC2_RU:"BC2",BF3_US:"BF3",BF3_RU:"BF3","1942_US":"1942","1942_UK":"1942","1942_GER":"1942"},GU={DEFAULT:"editor.package.era.descriptions.DEFAULT",1942:"editor.package.era.descriptions.game-1942",BC2:"editor.package.era.descriptions.game-BC2",BF3:"editor.package.era.descriptions.game-BF3",2042:"editor.package.era.descriptions.game-2042"},jU={"1942_US":"1942_GER","1942_UK":"1942_GER","1942_GER":"1942_GER",BF3_US:"BF3_RU",BF3_RU:"BF3_RU",BC2_US:"BC2_RU",BC2_RU:"BC2_RU",KIN_US:"KIN_RU",KIN_RU:"KIN_RU"};class HU{constructor({factionTag:t}){this.value=-1,this.label="",this.keys=[],this.faction="",this.abbreviation="",this.description="",this.team1Src="",this.team2Src="",this.src="",this.logoSrc="",this.packArt={short:"",tall:""},this.defaultArt={short:"",tall:""},this.eraTag="",this.factionTag="",this.disabled=!1,this.isDefault=!1,this.isCharacterBased=!1,this.hasProgressionLock=!1,this.factionTag=t,this.faction=NU[t],this.abbreviation=BU[t],this.label=LU[t],this.value=FU[t],this.eraTag=VU[t]||"",this.keys=IU[this.eraTag],"1942_UK"===t&&(this.disabled=!0),this.isDefault=0===this.value,this.hasProgressionLock="2042"===this.eraTag,this.isCharacterBased="2042"===this.eraTag,this.description=GU[this.eraTag]||"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",this.defaultArt={tall:lL("assets/images/experiences/BG_MapDefault_Mobile_FFA@2x.jpg"),short:lL("assets/images/experiences/default-short.jpg")};const{team1Src:e,team2Src:n}=AU[this.eraTag];this.team1Src=e,this.team2Src=n,this.logoSrc=RU[this.eraTag],this.packArt=DU[this.eraTag]}}const zU=(0,Vp.PH)("[EDITOR] SET_NUMBER_OF_MAPS",(0,Vp.Ky)()),WU=(0,Vp.PH)("[EDITOR] RESET_GAME_MODE"),ZU="gameMode",YU={numberOfMaps:0,maxNumberOfMaps:0},qU=(0,Vp.Lq)(YU,(0,Vp.on)(WU,()=>YU),(0,Vp.on)(zU,(t,{numberOfMaps:e})=>Object.assign(Object.assign({},t),{numberOfMaps:e}))),JU=(t=YU,e)=>qU(t,e),$U=(0,Vp.ZF)(ZU),KU=((0,Vp.P1)($U,t=>t.numberOfMaps),lL("assets/images/series/characters/profile-1.png")),XU={antitank:lL("assets/images/series/characters/class/anti-tank.png"),assault:lL("assets/images/series/characters/class/assault.png"),engineer:lL("assets/images/series/characters/class/engineer.png"),medic:lL("assets/images/series/characters/class/medic.png"),scout:lL("assets/images/series/characters/class/scout.png"),recon:lL("assets/images/series/characters/class/scout.png"),support:lL("assets/images/series/characters/class/medic.png")},QU={AntiTankClass:lL("assets/images/series/characters/class/anti-tank.png"),AssaultClass:lL("assets/images/series/characters/class/assault.png"),EngineerClass:lL("assets/images/series/characters/class/engineer.png"),MedicClass:lL("assets/images/series/characters/class/medic.png"),ScoutClass:lL("assets/images/series/characters/class/scout.png"),ReconClass:lL("assets/images/series/characters/class/scout.png"),SupportClass:lL("assets/images/series/characters/class/medic.png")},tV=(lL("assets/images/series/characters/icons/kingston/alpha.png"),lL("assets/images/series/characters/icons/kingston/bravo.png"),lL("assets/images/series/characters/icons/kingston/charlie.png"),lL("assets/images/series/characters/icons/kingston/delta.png"),lL("assets/images/series/characters/icons/kingston/echo.png"),lL("assets/images/series/characters/icons/kingston/foxtrot.png"),lL("assets/images/series/characters/icons/kingston/golf.png"),lL("assets/images/series/characters/icons/kingston/hotel.png"),lL("assets/images/series/characters/icons/kingston/india.png"),lL("assets/images/series/characters/icons/kingston/juliet.png"),lL("assets/images/series/characters/icons/kingston/kilo.png"),lL("assets/images/series/characters/icons/kingston/lima.png"),dM.KindCase.mutatorSparseIntValues),eV=lL("assets/images/series/weapons/glock.png"),nV=lL("assets/images/series/vehicles/default.png"),iV=lL("assets/images/series/attachments/default.png"),oV=lL("assets/images/series/gadgets/default.png"),rV={Pistol:lL("assets/images/series/weapons/glock.png"),AssaultRifle:lL("assets/images/series/weapons/svch-chkavin.png"),Rifle:lL("assets/images/series/weapons/sniper.png"),Shotgun:lL("assets/images/series/weapons/ddm4.png"),MachineGun:lL("assets/images/series/weapons/lamg.png"),"SMG-PDW":lL("assets/images/series/weapons/ddm4.png")};let sV=(()=>{class t{constructor(t,e,n){this.editorService=t,this.blueprintService=e,this.store=n,this.allTags=[],this.allLeafTags=[],this.weaponTag$=this.getParentTagByName("Weapons",!0),this.vehicleTag$=this.getParentTagByName("Vehicles",!0),this.eraTag$=this.getParentTagByName("Eras",!0),this.gadgetTag$=this.getParentTagByName("Gadgets",!0),this.abilityTypeTag$=this.getParentTagByName("AbilityTypes",!0),this.classTag$=this.getParentTagByName("Classes",!0),this.factionTag$=this.getParentTagByName("Factions",!0),this.characterTag$=this.getParentTagByName("Characters",!0),this.attachmentTag$=this.getParentTagByName("Attachments",!0),this.imagePrefix=um,this.blueprintService.assetCategoryTags$.pipe($g()).subscribe({next:t=>{this.allTags=t}}),this.blueprintService.assetCategoryLeafTags$.pipe($g()).subscribe({next:t=>{this.allLeafTags=t}})}get eraFormGroup(){var t;return null===(t=this.editorService.splitMutatorsFormGroup.get("FactionID_PerTeam"))||void 0===t?void 0:t.get([`${tV}`])}getParentTagByName(t,e=!1){return bp(()=>this.blueprintService.blueprint$.pipe((0,Cr.U)(n=>{var i,o,r,s;const a=null===(i=null==n?void 0:n.availableGameData)||void 0===i?void 0:i.assetCategories,l=null===(o=e?null==a?void 0:a.rootTags:null==a?void 0:a.tags)||void 0===o?void 0:o.find(e=>e.name===t);return{tagId:null==l?void 0:l.tagId,name:null==l?void 0:l.name,childrenTags:null==l?void 0:l.childrenTags,metadata:null==l?void 0:l.metadata,childrenList:null===(s=null===(r=null==l?void 0:l.childrenTags)||void 0===r?void 0:r.map(t=>{var e;return null===(e=null==a?void 0:a.tags)||void 0===e?void 0:e.find(e=>e.tagId===t)}))||void 0===s?void 0:s.filter(t=>void 0!==t)}})))}getItemIdsByCategory(t,e){var n,i;return(null===(i=null===(n=null==t?void 0:t.childrenList)||void 0===n?void 0:n.find(t=>(null==t?void 0:t.name)===e))||void 0===i?void 0:i.childrenTags)||[]}getDataByTag(t,e=!0,n=!0){return bp(()=>t.pipe((0,Cr.U)(t=>{var i;const o=e?this.allLeafTags:this.allTags;if(o&&t&&t.hasOwnProperty("childrenList")){const e={},r=[],s={},a=[];return null===(i=null==t?void 0:t.childrenList)||void 0===i||i.forEach(i=>{var l,c,u;if(i){const h=(null==i?void 0:i.name)||"",d=this.getItemIdsByCategory(t,h);a.push(...d),s[h]={id:i.tagId||"",translation:(null===(u=null===(c=null===(l=null==i?void 0:i.metadata)||void 0===l?void 0:l.translations)||void 0===c?void 0:c[0])||void 0===u?void 0:u.translationId)||""},n?e[h]=this.filterCategoryTags(o,d):r.push(...this.filterCategoryTags(o,d))}}),{allPyriteTagsArray:r,allPyriteTagsMap:e,allCategoriesMap:s,typeTag:t,allItemIds:a}}return{}}),$g()))}filterTagIds(t,e){return t.filter(t=>null==e?void 0:e.includes(t))}filterCategoryTags(t=[],e=[]){return t.filter(t=>null==e?void 0:e.includes((null==t?void 0:t.tagId)||""))}filterItemValue(t,e){return t.filter(t=>null==e?void 0:e.includes(t.value.toString()))}findTag(t,e){return t.find(t=>t.name===e)}findChildTag(t,e){var n;return null===(n=t.childrenList)||void 0===n?void 0:n.find(t=>t.name===e)}filterAsPyriteTagsMap(t,e){const n={};return Object.keys(t).forEach(i=>{const o=this.filterCategoryTags(t[i],e);o.length&&(n[i]=o)}),n}filterAsItemsMap(t,e=[]){const n={};return Object.keys(t).forEach(i=>{const o=this.filterItemValue(t[i],e);o.length&&(n[i]=o)}),n}filterAndConvertToItemsMap(t,e=[],n,i=[]){return this.convertToItemsMap(this.filterAsPyriteTagsMap(t,e),n,i)}filterToCharacters(t=[],e=[],n="Character"){return this.convertToCharacters(this.filterCategoryTags(t,e),n)}convertToItemsMap(t,e,n=[]){const i={};return Object.keys(t).forEach(o=>{t[o].length&&(i[o]=this.convertToItems(t[o],e,o,n))}),i}convertToItems(t=[],e,n="",i=[]){return t.map(t=>{var o,r,s,a,l,c,u,h;const d=(null===(o=null==t?void 0:t.metadata)||void 0===o?void 0:o.resources)||[],p=null===(r=null==t?void 0:t.metadata)||void 0===r?void 0:r.translations;return{value:t.tagId||"",label:null!==(l=null!==(a=null===(s=null==p?void 0:p[0])||void 0===s?void 0:s.translationId)&&void 0!==a?a:t.name)&&void 0!==l?l:"",name:null!==(c=t.name)&&void 0!==c?c:"",description:null!==(h=null===(u=null==p?void 0:p[1])||void 0===u?void 0:u.translationId)&&void 0!==h?h:"",categories:[e,n],imageSrc:this.getImage(d,this.getDefaultImage(e,n)),isDefaultImage:this.getIsDefaultImage(d),isProgressionLocked:this.getProgression(d),isMultiCategories:this.getIsMultiCategories(i,t.tagId||"")}})}getDefaultImage(t,e=""){switch(t){case"weapon":return rV[e]||eV;case"vehicle":return nV;case"gadget":return oV;case"attachment":return iV;default:return""}}getImageResource(t){var e,n,i,o;const r=null===(n=null===(e=null==t?void 0:t.find(t=>"webImage"===t.kind))||void 0===e?void 0:e.location)||void 0===n?void 0:n.url,s=null===(o=null===(i=null==t?void 0:t.find(t=>"image"===t.kind))||void 0===i?void 0:i.location)||void 0===o?void 0:o.url;return(null==r?void 0:r.length)?r:(null==s?void 0:s.length)?s:void 0}getImage(t,e){const n=this.getImageResource(t);return n?null==n?void 0:n.replace("[BB_PREFIX]",um):e}getIsDefaultImage(t){return!Boolean(this.getImageResource(t))}getProgression(t){return Boolean(null==t?void 0:t.find(t=>"lic"===t.kind))}getIsMultiCategories(t=[],e){return t.filter(t=>t===e).length>1}convertToCharacters(t=[],e=""){return t.map(t=>{var n,i,o,r,s,a,l,c,u,h,d;return{value:t.tagId||"",label:null!==(s=null!==(r=null===(o=null===(i=null===(n=t.metadata)||void 0===n?void 0:n.translations)||void 0===i?void 0:i[0])||void 0===o?void 0:o.translationId)&&void 0!==r?r:t.name)&&void 0!==s?s:"",description:null!==(u=null===(c=null===(l=null===(a=t.metadata)||void 0===a?void 0:a.translations)||void 0===l?void 0:l[1])||void 0===c?void 0:c.translationId)&&void 0!==u?u:"",categories:[e],isProgressionLocked:null===(d=null===(h=t.metadata)||void 0===h?void 0:h.resources)||void 0===d?void 0:d.some(({kind:t})=>"lic"===t),imageSrc:this.getCharacterImage(t||""),iconSrc:this.getCharacterIcon(t||"")}})}getCharacterImage(t){var e,n;const i=this.getImageResource(null===(e=null==t?void 0:t.metadata)||void 0===e?void 0:e.resources),o=Object.keys(XU).find(e=>{var n;return null===(n=null==t?void 0:t.name)||void 0===n?void 0:n.toLowerCase().includes(e)})||"",r=(null===(n=null==t?void 0:t.name)||void 0===n?void 0:n.includes("U_Character"))?KU:XU[o];return i?i.replace("[BB_PREFIX]",this.imagePrefix):r}getCharacterIcon(t){var e,n,i,o;const r=null===(o=null===(i=null===(n=null===(e=null==t?void 0:t.metadata)||void 0===e?void 0:e.resources)||void 0===n?void 0:n.find(t=>"image"===t.kind))||void 0===i?void 0:i.location)||void 0===o?void 0:o.url;return r?null==r?void 0:r.replace("[BB_PREFIX]",this.imagePrefix):""}filterByProgressionLock(t,e){const n={};return Object.keys(t).forEach(i=>{n[i]=t[i].filter(t=>(null==t?void 0:t.isProgressionLocked)===e)}),n}getNumberOfItems(t){let e=0;return Object.keys(t).forEach(n=>{e+=t[n].length}),e}getItemIds(t){const e=[];return Object.values(t).forEach(t=>{t.forEach(t=>e.push(t.value.toString()))}),e}getLockedItemsCount(t){return t.reduce((t,e)=>e.isProgressionLocked?t+1:t,0)}getLockedItemsFromMapCount(t){return Object.values(t).reduce((t,e)=>t+this.getLockedItemsCount(e),0)}getClassCategory(t){return this.classTag$.pipe((0,Cr.U)(e=>{var n;return null===(n=e.childrenList)||void 0===n?void 0:n.find(e=>{var n;return null===(n=e.childrenTags)||void 0===n?void 0:n.includes(t)})}))}team(t){var e;return null===(e=this.editorService.tagsFormGroup)||void 0===e?void 0:e.get([t.toString()||""])}teamFormGroup(t){return this.team(t)}team1(t){var e,n;return null===(n=null===(e=this.teamFormGroup(t))||void 0===e?void 0:e.get("values"))||void 0===n?void 0:n.get("0")}team1FormGroup(t){return this.team1(t)}team2(t){var e,n;return null===(n=null===(e=this.teamFormGroup(t))||void 0===e?void 0:e.get("values"))||void 0===n?void 0:n.get("1")}team2FormGroup(t){return this.team2(t)}item(t,e){return e?this.team2(t):this.team1(t)}itemFormGroup(t,e){return this.item(t,e)}resetCharacters(t="",e,n=!1,i=!1){t&&Hv([this.characterTag$,this.factionTag$]).pipe($g()).subscribe({next:([o,r])=>{var s,a,l,c,u,h;this.filterTagIds((null===(a=null===(s=null==o?void 0:o.childrenList)||void 0===s?void 0:s[0])||void 0===a?void 0:a.childrenTags)||[],(null===(l=this.findChildTag(r,t))||void 0===l?void 0:l.childrenTags)||[]).forEach(t=>{n?this.resetItemValue(t,i):this.resetTeamValue(t,e)}),e||this.filterTagIds((null===(u=null===(c=null==o?void 0:o.childrenList)||void 0===c?void 0:c[0])||void 0===u?void 0:u.childrenTags)||[],(null===(h=this.findChildTag(r,jU[t]))||void 0===h?void 0:h.childrenTags)||[]).forEach(t=>{n?this.resetItemValue(t,i):this.resetTeamValue(t,e)})}})}resetFFACharacters(t=""){Hv([this.characterTag$,this.factionTag$]).pipe($g()).subscribe({next:([e,n])=>{var i,o,r,s,a,l;t?this.filterTagIds((null===(o=null===(i=null==e?void 0:e.childrenList)||void 0===i?void 0:i[0])||void 0===o?void 0:o.childrenTags)||[],(null===(r=this.findChildTag(n,t))||void 0===r?void 0:r.childrenTags)||[]).forEach(t=>this.resetBothValue(t)):null===(l=null===(a=null===(s=null==e?void 0:e.childrenList)||void 0===s?void 0:s[0])||void 0===a?void 0:a.childrenTags)||void 0===l||l.forEach(t=>this.resetBothValue(t))}})}resetItems(t,e,n){this.eraTag$.pipe($g()).subscribe({next:i=>{var o,r,s;t&&!t.isDefault?null===(r=null===(o=this.findChildTag(i,t.eraTag))||void 0===o?void 0:o.childrenTags)||void 0===r||r.forEach(t=>e?this.resetItemValue(t,n):this.resetTeamValue(t,e)):null===(s=i.childrenList)||void 0===s||s.forEach(t=>{var i;null===(i=null==t?void 0:t.childrenTags)||void 0===i||i.forEach(t=>e?this.resetItemValue(t,n):this.resetTeamValue(t,e))})}}),Hv([this.weaponTag$,this.vehicleTag$,this.attachmentTag$,this.gadgetTag$]).pipe($g()).subscribe({next:([t,i,o,r])=>{var s,a,l,c;null===(s=t.childrenTags)||void 0===s||s.forEach(t=>e?this.resetItemValue(t,n):this.resetTeamValue(t,e)),null===(a=null==i?void 0:i.childrenTags)||void 0===a||a.forEach(t=>e?this.resetItemValue(t,n):this.resetTeamValue(t,e)),null===(l=null==o?void 0:o.childrenTags)||void 0===l||l.forEach(t=>e?this.resetItemValue(t,n):this.resetTeamValue(t,e)),null===(c=r.childrenTags)||void 0===c||c.forEach(t=>e?this.resetItemValue(t,n):this.resetTeamValue(t,e))}})}resetFFAItems(t=null){this.eraTag$.pipe($g()).subscribe({next:e=>{var n,i,o;null!==t&&t.isDefault?null===(i=null===(n=this.findChildTag(e,t.eraTag))||void 0===n?void 0:n.childrenTags)||void 0===i||i.forEach(t=>this.resetBothValue(t)):null===(o=e.childrenList)||void 0===o||o.forEach(t=>{var e;null===(e=null==t?void 0:t.childrenTags)||void 0===e||e.forEach(t=>this.resetBothValue(t))})}}),Hv([this.weaponTag$,this.vehicleTag$,this.attachmentTag$,this.gadgetTag$]).pipe($g()).subscribe({next:([t,e,n,i])=>{var o,r,s,a;null===(o=t.childrenTags)||void 0===o||o.forEach(t=>this.resetBothValue(t)),null===(r=null==e?void 0:e.childrenTags)||void 0===r||r.forEach(t=>this.resetBothValue(t)),null===(s=null==n?void 0:n.childrenTags)||void 0===s||s.forEach(t=>this.resetBothValue(t)),null===(a=i.childrenTags)||void 0===a||a.forEach(t=>this.resetBothValue(t))}})}resetItemValue(t,e){var n,i;(null===(n=this.item(t,e))||void 0===n?void 0:n.value)||null===(i=this.item(t,e))||void 0===i||i.setValue(!0,{emitEvent:!1})}resetTeamValue(t,e){var n,i;(null===(n=this.team2(t))||void 0===n?void 0:n.value)||this.resetTeam2Value(t),e||(null===(i=this.team1(t))||void 0===i?void 0:i.value)||this.resetTeam1Value(t)}resetBothValue(t){var e,n;(null===(e=this.team2(t))||void 0===e?void 0:e.value)||this.resetTeam2Value(t),(null===(n=this.team1(t))||void 0===n?void 0:n.value)||this.resetTeam1Value(t)}resetTeam1Value(t){var e;null===(e=this.team1(t))||void 0===e||e.setValue(!0,{emitEvent:!1})}resetTeam2Value(t){var e;null===(e=this.team2(t))||void 0===e||e.setValue(!0,{emitEvent:!1})}matchTeamCharacters(t){const e=0===t.length;Hv([this.characterTag$,this.factionTag$]).pipe($g()).subscribe({next:([n,i])=>{var o,r,s,a,l;e?((null===(r=null===(o=null==n?void 0:n.childrenList)||void 0===o?void 0:o[0])||void 0===r?void 0:r.childrenTags)||[]).forEach(t=>{this.resetTeamValue(t,!1)}):this.filterTagIds((null===(a=null===(s=null==n?void 0:n.childrenList)||void 0===s?void 0:s[0])||void 0===a?void 0:a.childrenTags)||[],(null===(l=this.findChildTag(i,t))||void 0===l?void 0:l.childrenTags)||[]).forEach(t=>this.resetItemValue(t,!0))}})}matchTeamItems(t,e){const n=0===t.length;this.eraTag$.pipe($g()).subscribe({next:e=>{var i,o;null===(o=null===(i=this.findChildTag(e,t))||void 0===i?void 0:i.childrenTags)||void 0===o||o.forEach(t=>n?this.resetTeamValue(t,!1):this.matchTeam2Value(t))}}),Hv([this.weaponTag$,this.vehicleTag$,this.attachmentTag$,this.gadgetTag$]).pipe($g()).subscribe({next:([t,i,o,r])=>{var s,a,l,c;null===(s=t.childrenTags)||void 0===s||s.forEach(t=>n?this.resetTeamValue(t,!1):e?this.matchTeam2Value(t):this.matchTeam1Value(t)),null===(a=null==i?void 0:i.childrenTags)||void 0===a||a.forEach(t=>n?this.resetTeamValue(t,!1):e?this.matchTeam2Value(t):this.matchTeam1Value(t)),null===(l=null==o?void 0:o.childrenTags)||void 0===l||l.forEach(t=>n?this.resetTeamValue(t,!1):e?this.matchTeam2Value(t):this.matchTeam1Value(t)),null===(c=r.childrenTags)||void 0===c||c.forEach(t=>n?this.resetTeamValue(t,!1):e?this.matchTeam2Value(t):this.matchTeam1Value(t))}})}matchTeam1Value(t){var e,n;null===(e=this.team1(t))||void 0===e||e.setValue(null===(n=this.team2(t))||void 0===n?void 0:n.value,{emitEvent:!1})}matchTeam2Value(t){var e,n;null===(e=this.team2(t))||void 0===e||e.setValue(null===(n=this.team1(t))||void 0===n?void 0:n.value,{emitEvent:!1})}matchCharacterValue(t,e=""){var n,i;null===(n=this.team2(t))||void 0===n||n.setValue(null===(i=this.team1(e))||void 0===i?void 0:i.value,{emitEvent:!1})}resetGameMode(){this.resetGameModeMaps(),this.resetGameModeSettings()}resetGameModeMaps(){this.editorService.mapsFormArray.clear(),this.editorService.mapsFormArray.reset(),this.store.dispatch(WU())}resetGameModeSettings(){this.editorService.availableBlueprintMapEntries$.pipe($g()).subscribe(t=>{var e,n;const i=this.editorService.gameModeControl.value,o=t.find(t=>t.gameMode===i);if(o){const t=null!==(n=null===(e=o.gameSize)||void 0===e?void 0:e.defaultValue)&&void 0!==n?n:0;this.editorService.setGameSize(t)}}),this.editorService.currentGameModeMutators$.pipe($g()).subscribe(t=>{t.forEach(t=>{var e,n;if(void 0===(null==t?void 0:t.kind))return;const i=mN.getMutatorType(null==t?void 0:t.kind).index;if(i){const o=null===(n=null===(e=this.editorService.mutatorsFormGroup)||void 0===e?void 0:e.get((null==t?void 0:t.name)||""))||void 0===n?void 0:n.get([i]);o&&yN(o,t)}})}),Hv([this.editorService.coreMutators$,this.editorService.uncategorizedMutators$,this.editorService.soldierMutators$,this.editorService.vehicleMutators$,this.editorService.uiMutators$,this.editorService.aiNonSyncedMutators$,this.editorService.aiSyncedMutators$]).pipe($g()).subscribe(([t,e,n,i,o,r,s])=>{[...t,...e,...n,...i,...o,...r,...s].forEach(t=>{var e,n;if(void 0===(null==t?void 0:t.kind))return;const i=mN.getMutatorType(null==t?void 0:t.kind).index;if(i){const o=null===(n=null===(e=this.editorService.mutatorsFormGroup)||void 0===e?void 0:e.get((null==t?void 0:t.name)||""))||void 0===n?void 0:n.get([i]);o&&yN(o,t)}})})}resetErasAndFactions(t){var e,n,i,o,r,s;t?null===(n=null===(e=this.eraFormGroup.get("values"))||void 0===e?void 0:e.get("0"))||void 0===n||n.setValue(0):(null===(o=null===(i=this.eraFormGroup.get("values"))||void 0===i?void 0:i.get("1"))||void 0===o||o.setValue(0),null===(s=null===(r=this.eraFormGroup.get("values"))||void 0===r?void 0:r.get("2"))||void 0===s||s.setValue(0))}resetGameModeAssetTags({isFFA:t,ffaFaction:e,linkedFaction:n,team2Faction:i}){t?(this.resetCharacters(null==n?void 0:n.factionTag,!1,!1,!1),this.resetCharacters(null==i?void 0:i.factionTag,!1,!1,!0),this.resetItems(n,!1,!1),this.resetItems(i,!1,!0)):(this.resetFFACharacters(null==e?void 0:e.factionTag),this.resetFFAItems(e)),this.store.dispatch(pL())}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(mN),i.LFG(kN),i.LFG(Vp.yh))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const aV=dM.KindCase.mutatorIntValues;let lV=(()=>{class t{constructor(t,e){var n,i;this.editorService=t,this.formService=e,this.subscriptions=[],this.factions$=bp(()=>Hv([this.formService.factionTag$,this.editorService.eraValues$])),this.eras$=bp(()=>Hv([this.formService.eraTag$,this.editorService.eraValues$])),this.erasAndFactions$=bp(()=>Hv([this.formService.eraTag$,this.formService.factionTag$,this.editorService.eraValues$])),this.backgroundSrc="",this.team1Factions=["DEFAULT","KIN_US","BF3_US","BC2_US","1942_UK","1942_US"],this.team1Options=this.team1Factions.map(t=>new HU({factionTag:t})),this.team2Factions=["DEFAULT","KIN_RU","BF3_RU","BC2_RU","1942_GER"],this.team2Options=this.team2Factions.map(t=>new HU({factionTag:t})),this.allOptions=[...this.team1Options,...this.team2Options],this.B1942Factions=["1942_US","1942_UK","1942_GER"],this.B1942Options=this.B1942Factions.map(t=>new HU({factionTag:t})),this.BC2Factions=["BC2_US","BC2_RU"],this.BC2Options=this.BC2Factions.map(t=>new HU({factionTag:t})),this.BF3Factions=["BF3_US","BF3_RU"],this.BF3Options=this.BF3Factions.map(t=>new HU({factionTag:t})),this.kingstonFactions=["KIN_US","KIN_RU"],this.kingstonOptions=this.kingstonFactions.map(t=>new HU({factionTag:t})),this.factionSelectionMap={1942:this.B1942Options,BC2:this.BC2Options,BF3:this.BF3Options,2042:this.kingstonOptions},this.defaultEra=new HU({factionTag:"DEFAULT"}),this.factionRootTag=void 0,this.prevFFAFactionTag=void 0,this.prevLinkedFactionTag=void 0,this.prevTeam2FactionTag=void 0,this.ffaFactionTag=void 0,this.linkedFactionTag=void 0,this.team2FactionTag=void 0,this.eraRootTag=void 0,this.ffaEraTag=void 0,this.linkedEraTag=void 0,this.team2EraTag=void 0,this.ffaFaction=this.defaultEra,this.linkedFaction=this.defaultEra,this.team2Faction=this.defaultEra,this.isPerTeamEra=!1,this.isSameEra=!0,this.isSameFaction=!1,this.classTag=void 0,this.isFFA=!1,this.isBothDefault=(null===(n=this.linkedFaction)||void 0===n?void 0:n.isDefault)&&(null===(i=this.team2Faction)||void 0===i?void 0:i.isDefault),this.addSubscription(this.editorService.splitMutatorsFormGroupChanges$.subscribe({next:t=>{var e;t.hasOwnProperty("ModBuilder_GameMode")&&(this.isFFA=2===(null===(e=t.ModBuilder_GameMode[`${aV}`])||void 0===e?void 0:e.value))}}))}get hasDefault(){var t,e;return(null===(t=this.linkedFaction)||void 0===t?void 0:t.isDefault)||(null===(e=this.team2Faction)||void 0===e?void 0:e.isDefault)||!1}get has2042(){var t,e,n;return this.isFFA?"2042"===(null===(t=this.ffaFaction)||void 0===t?void 0:t.eraTag):"2042"===(null===(e=this.linkedFaction)||void 0===e?void 0:e.eraTag)||"2042"===(null===(n=this.team2Faction)||void 0===n?void 0:n.eraTag)}setErasAndFactions(t,e,n){!this.factionRootTag&&e&&(this.factionRootTag=e),!this.eraRootTag&&t&&(this.eraRootTag=t),this.setFactionValues(n),this.setFactionTags(),this.setEraTags()}setFactions(t,e){!this.factionRootTag&&t&&(this.factionRootTag=t),this.setFactionValues(e),this.setFactionTags()}setEras(t,e){!this.eraRootTag&&t&&(this.eraRootTag=t),this.setFactionValues(e),this.setEraTags()}setFactionValues(t){var e,n,i;if(t.length){const[o,r,s]=t;this.isFFA?(this.linkedFaction=void 0,this.team2Faction=void 0,this.ffaFaction=this.getFaction(o),this.backgroundSrc=null===(e=this.ffaFaction)||void 0===e?void 0:e.team1Src,this.isPerTeamEra=!1,this.isSameEra=!1,this.isSameFaction=!1):(this.ffaFaction=void 0,this.linkedFaction=this.getFaction(r),this.team2Faction=this.getFaction(s),this.isPerTeamEra=this.getIsPerTeamEra(r,s),this.isSameEra=!this.isPerTeamEra,this.isSameFaction=r===s,this.backgroundSrc=0!==this.team2Faction.value?null===(n=this.team2Faction)||void 0===n?void 0:n.team1Src:null===(i=this.linkedFaction)||void 0===i?void 0:i.team1Src)}}getFaction(t){return this.allOptions.find(e=>e.value===t)||this.allOptions.find(e=>e.keys.includes(t))||this.defaultEra}getIsPerTeamEra(t,e){var n;return e!==UU[t]&&!(null===(n=this.team2Faction)||void 0===n?void 0:n.keys.includes(t))}setFactionTags(){var t,e,n,i,o,r;this.factionRootTag&&(this.prevFFAFactionTag=this.ffaFactionTag,this.prevLinkedFactionTag=this.linkedFactionTag,this.prevTeam2FactionTag=this.team2FactionTag,this.ffaFactionTag=null===(e=null===(t=this.factionRootTag)||void 0===t?void 0:t.childrenList)||void 0===e?void 0:e.find(t=>{var e;return t.name===(null===(e=this.ffaFaction)||void 0===e?void 0:e.factionTag)}),this.linkedFactionTag=null===(i=null===(n=this.factionRootTag)||void 0===n?void 0:n.childrenList)||void 0===i?void 0:i.find(t=>{var e;return t.name===(null===(e=this.linkedFaction)||void 0===e?void 0:e.factionTag)}),this.team2FactionTag=null===(r=null===(o=this.factionRootTag)||void 0===o?void 0:o.childrenList)||void 0===r?void 0:r.find(t=>{var e;return t.name===(null===(e=this.team2Faction)||void 0===e?void 0:e.factionTag)}))}setEraTags(){var t,e,n,i,o,r;this.eraRootTag&&(this.ffaEraTag=null===(e=null===(t=this.eraRootTag)||void 0===t?void 0:t.childrenList)||void 0===e?void 0:e.find(t=>{var e;return t.name===(null===(e=this.ffaFaction)||void 0===e?void 0:e.eraTag)}),this.linkedEraTag=null===(i=null===(n=this.eraRootTag)||void 0===n?void 0:n.childrenList)||void 0===i?void 0:i.find(t=>{var e;return t.name===(null===(e=this.linkedFaction)||void 0===e?void 0:e.eraTag)}),this.team2EraTag=null===(r=null===(o=this.eraRootTag)||void 0===o?void 0:o.childrenList)||void 0===r?void 0:r.find(t=>{var e;return t.name===(null===(e=this.team2Faction)||void 0===e?void 0:e.eraTag)}))}ffaFactionChanged(){var t,e;return(null===(t=this.prevFFAFactionTag)||void 0===t?void 0:t.name)!==(null===(e=this.ffaFactionTag)||void 0===e?void 0:e.name)}linkedFactionChanged(){var t,e;return(null===(t=this.prevLinkedFactionTag)||void 0===t?void 0:t.name)!==(null===(e=this.linkedFactionTag)||void 0===e?void 0:e.name)}team2FactionChanged(){var t,e;return(null===(t=this.prevTeam2FactionTag)||void 0===t?void 0:t.name)!==(null===(e=this.team2FactionTag)||void 0===e?void 0:e.name)}addSubscription(...t){this.subscriptions.push(...t)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(mN),i.LFG(sV))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const cV=Sm.get("editor","menu");let uV=(()=>{class t{constructor(t,e,n,i){this.editorService=t,this.router=e,this.layoutService=n,this.eraService=i,this.mobileMenu={title:"",section:""},this.menuSubject=new jp.xQ,this.subscriptions=[],this.editorFormValue$=bp(()=>this.editorService.editorForm.valueChanges.pipe(a_(this.editorService.editorForm.value))),this.isGameModeInvalid$=this.editorFormValue$.pipe((0,Cr.U)(t=>!t.gameMode)),this.noMapsSelected$=this.isGameModeInvalid$.pipe((0,zu.w)(t=>this.editorFormValue$.pipe((0,Cr.U)(e=>t||0===e.maps.length)))),this.isEraMapDefault$=this.noMapsSelected$.pipe((0,zu.w)(t=>t?(0,ea.of)(!0):Hv([this.editorService.eraValues$,this.editorService.splitMutatorsFormGroupChanges$]).pipe((0,Cr.U)(([t,e])=>{var n;if(e.hasOwnProperty("ModBuilder_GameMode")&&t){const i=2===(null===(n=e.ModBuilder_GameMode[`${dM.KindCase.mutatorIntValues}`])||void 0===n?void 0:n.value),[o,r,s]=t.values;return i?0===o:0===r&&0===s}return!1})))),this.rulesEditorDisabled$=this.noMapsSelected$.pipe((0,zu.w)(t=>t?(0,ea.of)(!0):this.editorService.isCustomGameMode$.pipe((0,Cr.U)(t=>!t)))),this.hideRulesEditor$=Hv([this.layoutService.isTabletOrSmaller$,this.rulesEditorDisabled$,this.editorService.eraValues$.pipe(a_([])),this.router.events.pipe((0,ia.h)(t=>t instanceof oA),(0,Cr.U)(t=>t),a_({url:window.location.href}))]).pipe((0,Cr.U)(([t,e,n,i])=>{if(null!==n){const[o,r,s]=n.values,a=this.eraService.isFFA?0===o:0===r&&0===s,l=i.url.includes("package/era")||window.location.href.includes("package/era");if(t&&l&&a)return!0;if(e&&a)return!e}return!1})),this.menu=[{labelSID:"editor.menu.core",path:"/experience/mode",icon:"cog",children:[{labelSID:"editor.menu.game-mode",path:"/experience/mode/game-mode"},{labelSID:"editor.menu.map-rotation",path:"/experience/mode/choose-maps",disabled$:this.isGameModeInvalid$},{labelSID:"editor.menu.game-mode-settings",path:"/experience/mode/mode-settings",disabled$:this.noMapsSelected$}]},{disabled$:this.noMapsSelected$,labelSID:"editor.menu.modifiers",path:"/experience/general",icon:"filter",children:[{labelSID:"editor.menu.gameplay",path:"/experience/general/core",disabled$:this.noMapsSelected$},{labelSID:"editor.menu.soldier",path:"/experience/general/soldier",disabled$:this.noMapsSelected$},{labelSID:"editor.menu.vehicle",path:"/experience/general/vehicle",disabled$:this.noMapsSelected$},{labelSID:"editor.menu.ui",path:"/experience/general/ui",disabled$:this.noMapsSelected$},{labelSID:"editor.menu.ai-tuning",path:"/experience/general/ai",disabled$:this.noMapsSelected$}]},{labelSID:"editor.menu.collection",path:"/experience/package",icon:"weapon",disabled$:this.noMapsSelected$,children:[{labelSID:"editor.menu.series",path:"/experience/package/era",disabled$:this.noMapsSelected$},{labelSID:"editor.menu.characters",path:"/experience/package/characters",disabled$:this.isEraMapDefault$},{labelSID:"editor.menu.weapons",path:"/experience/package/weapons",disabled$:this.isEraMapDefault$},{labelSID:"editor.menu.attachments",path:"/experience/package/attachments",disabled$:this.isEraMapDefault$},{labelSID:"editor.menu.vehicles",path:"/experience/package/vehicles",disabled$:this.isEraMapDefault$},{labelSID:"editor.menu.gadgets",path:"/experience/package/gadgets",disabled$:this.isEraMapDefault$}]},{labelSID:"editor.menu.rules",path:"/experience/rules",icon:"builder",disabled$:this.rulesEditorDisabled$}],this.flattenedMenu=this.menu.flatMap(t=>t.children?[t,...t.children]:t)}setMenu(t){this.mobileMenu=t,this.menuSubject.next(this.mobileMenu)}onMobileMenuUpdate(){return this.menuSubject.asObservable()}addSubscription(...t){this.subscriptions.push(...t)}validateCurrentActiveMenuItem(){this.flattenedMenu.forEach(t=>{this.router.isActive(t.path,{paths:"subset",queryParams:"ignored",fragment:"ignored",matrixParams:"ignored"})&&t.disabled$&&this.addSubscription(Hv([t.disabled$,this.editorService.isLoaded$]).pipe((0,ia.h)(([t,e])=>e),$g()).subscribe(([t,e])=>{t&&e&&(cV.warn("Currently on a disabled editor route. Redirecting back to start!"),this.router.navigate(["experience/new"],{queryParamsHandling:"preserve",skipLocationChange:!0}))}))})}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(mN),i.LFG(ID),i.LFG(KN),i.LFG(lV))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();function hV(t,e){if(1&t&&(i.TgZ(0,"div",8),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t){const t=i.oxw().node;i.xp6(1),i.Oqu(i.lcZ(2,1,t.labelSID))}}const dV=function(){return{exact:!1}};function pV(t,e){if(1&t&&(i.TgZ(0,"a",6),i.YNc(1,hV,3,3,"div",7),i.qZA()),2&t){const t=e.node,n=i.oxw();i.Q6J("routerLink",t.path)("routerLinkActiveOptions",i.DdM(3,dV)),i.xp6(1),i.Q6J("ngIf",!n.collapsed)}}function gV(t,e){if(1&t&&(i.TgZ(0,"div",10),i.TgZ(1,"div",8),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.qZA()),2&t){const t=i.oxw().node;i.xp6(2),i.Oqu(i.lcZ(3,1,t.labelSID))}}function mV(t,e){if(1&t&&i.YNc(0,gV,4,3,"div",9),2&t){const t=i.oxw();i.Q6J("ngIf",!t.collapsed)}}function fV(t,e){}function _V(t,e){if(1&t&&i._UZ(0,"mat-icon",17),2&t){const t=i.oxw().node;i.Q6J("svgIcon",t.icon)}}const bV=function(t){return{node:t}};function vV(t,e){if(1&t&&(i.YNc(0,fV,0,0,"ng-template",11),i.ALo(1,"async"),i.TgZ(2,"div",12),i.YNc(3,_V,1,1,"mat-icon",13),i._UZ(4,"div",14),i.TgZ(5,"div",15),i._UZ(6,"div",16),i.qZA(),i.qZA()),2&t){const t=e.node;i.oxw();const n=i.MAs(3),o=i.MAs(1);i.Q6J("ngTemplateOutlet",!0===i.lcZ(1,3,t.disabled$)?n:o)("ngTemplateOutletContext",i.VKq(5,bV,t)),i.xp6(3),i.Q6J("ngIf",t.icon)}}function yV(t,e){}const CV=function(t,e){return{disabled:t,top:e}};function OV(t,e){if(1&t&&(i.TgZ(0,"mat-tree-node",18),i.ALo(1,"async"),i.YNc(2,yV,0,0,"ng-template",11),i.qZA()),2&t){const t=e.$implicit;i.oxw();const n=i.MAs(5);i.Q6J("ngClass",i.WLB(5,CV,i.lcZ(1,3,t.disabled$),0===t.level)),i.xp6(2),i.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",i.VKq(8,bV,t))}}function TV(t,e){}function EV(t,e){if(1&t&&(i.TgZ(0,"mat-tree-node",18),i.ALo(1,"async"),i.YNc(2,TV,0,0,"ng-template",11),i.TgZ(3,"button",19),i._UZ(4,"mat-icon",20),i.qZA(),i.qZA()),2&t){const t=e.$implicit,n=i.oxw(),o=i.MAs(5);i.Q6J("ngClass",i.WLB(6,CV,i.lcZ(1,4,t.disabled$),0===t.level)),i.xp6(2),i.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",i.VKq(9,bV,t)),i.xp6(2),i.Q6J("svgIcon",n.treeControl.isExpanded(t)?"expand_less":"expand_more")}}const SV=function(t){return{collapsed:t}};let wV=(()=>{class t{constructor(t,e,n){this.editorMenuService=t,this.editorService=e,this.router=n,this.subscriptions=[],this.collapsed=!1,this.treeControl=new OS(t=>t.level,t=>t.expandable),this.treeFlattener=new US((t,e)=>Object.assign(Object.assign({},t),{children:void 0,expandable:!!t.children&&t.children.length>0,level:e}),t=>t.level,t=>t.expandable,t=>t.children),this.dataSource=new VS(this.treeControl,this.treeFlattener),this.dataSource.data=this.editorMenuService.menu,this.addSubscription(this.router.events.pipe((0,ia.h)(t=>t instanceof oA)).subscribe(t=>{t instanceof oA&&this.expandActiveMenu()}))}addSubscription(...t){this.subscriptions.push(...t)}ngOnInit(){this.expandActiveMenu()}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}ngOnChanges(t){t.hasOwnProperty("collapsed")&&this.expandActiveMenu()}hasChild(t,e){return e.expandable}expandActiveMenu(){this.treeControl.dataNodes.forEach(t=>{this.router.isActive(t.path,{paths:"subset",queryParams:"ignored",fragment:"ignored",matrixParams:"ignored"})?this.treeControl.expand(t):this.treeControl.collapse(t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(uV),i.Y36(mN),i.Y36(ID))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-editor-menu"]],inputs:{collapsed:"collapsed"},features:[i.TTD],decls:9,vars:6,consts:[["menuBody",""],["menuBodyDisabled",""],["menuItem",""],[1,"editor-menu-tree",3,"ngClass","dataSource","treeControl"],[3,"ngClass",4,"matTreeNodeDef"],[3,"ngClass",4,"matTreeNodeDef","matTreeNodeDefWhen"],["queryParamsHandling","preserve","routerLinkActive","active",1,"body",3,"routerLink","routerLinkActiveOptions"],[3,"appTruncatedTextTooltip",4,"ngIf"],[3,"appTruncatedTextTooltip"],["class","body",4,"ngIf"],[1,"body"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"progress"],["class","icon",3,"svgIcon",4,"ngIf"],[1,"line"],[1,"dot"],[1,"strike"],[1,"icon",3,"svgIcon"],[3,"ngClass"],["mat-icon-button","","matTreeNodeToggle","",1,"expand-button"],[1,"mat-icon-rtl-mirror",3,"svgIcon"]],template:function(t,e){1&t&&(i.YNc(0,pV,2,4,"ng-template",null,0,i.W1O),i.YNc(2,mV,1,1,"ng-template",null,1,i.W1O),i.YNc(4,vV,7,7,"ng-template",null,2,i.W1O),i.TgZ(6,"mat-tree",3),i.YNc(7,OV,3,10,"mat-tree-node",4),i.YNc(8,EV,5,11,"mat-tree-node",5),i.qZA()),2&t&&(i.xp6(6),i.Q6J("ngClass",i.VKq(4,SV,e.collapsed))("dataSource",e.dataSource)("treeControl",e.treeControl),i.xp6(2),i.Q6J("matTreeNodeDefWhen",e.hasChild))},directives:[NS,P,DS,RD,LD,R,XN,G,eE,RS,rb,BS],pipes:[Fp,Z],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}  .editor-menu-tree.mat-tree{background:none}  .editor-menu-tree.mat-tree.collapsed .mat-tree-node a.body{padding:0}html[dir=rtl][_ngcontent-%COMP%]     .editor-menu-tree.mat-tree.collapsed .mat-tree-node a.body, html[dir=rtl]   [_nghost-%COMP%]     .editor-menu-tree.mat-tree.collapsed .mat-tree-node a.body{padding:0}  .editor-menu-tree.mat-tree.collapsed .mat-tree-node .expand-button{display:none}  .editor-menu-tree.mat-tree .mat-tree-node{min-height:auto;height:48px;line-height:48px;position:relative;align-items:stretch}@media (hover:hover){  .editor-menu-tree.mat-tree .mat-tree-node:not(.disabled) .body:not(.active):hover{color:#fff;background-color:#121212}  .editor-menu-tree.mat-tree .mat-tree-node:not(.disabled) .body:not(.active):hover+.progress .dot{border-color:#fff}}  .editor-menu-tree.mat-tree .mat-tree-node .body{font-family:"BFText-Regular",var(--font-fallback);font-size:18px;padding:0 16px 0 64px;display:block;color:#a1a1a1;text-decoration:none;position:absolute;top:0;bottom:0;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}html[dir=rtl][_ngcontent-%COMP%]     .editor-menu-tree.mat-tree .mat-tree-node .body, html[dir=rtl]   [_nghost-%COMP%]     .editor-menu-tree.mat-tree .mat-tree-node .body{padding:0 64px 0 16px}html[dir=ltr][_ngcontent-%COMP%]     .editor-menu-tree.mat-tree .mat-tree-node .body, html[dir=ltr]   [_nghost-%COMP%]     .editor-menu-tree.mat-tree .mat-tree-node .body{right:0}html[dir=rtl][_ngcontent-%COMP%]     .editor-menu-tree.mat-tree .mat-tree-node .body, html[dir=rtl]   [_nghost-%COMP%]     .editor-menu-tree.mat-tree .mat-tree-node .body{left:0}html[dir=ltr][_ngcontent-%COMP%]     .editor-menu-tree.mat-tree .mat-tree-node .body, html[dir=ltr]   [_nghost-%COMP%]     .editor-menu-tree.mat-tree .mat-tree-node .body{left:0}html[dir=rtl][_ngcontent-%COMP%]     .editor-menu-tree.mat-tree .mat-tree-node .body, html[dir=rtl]   [_nghost-%COMP%]     .editor-menu-tree.mat-tree .mat-tree-node .body{right:0}@media only screen and (max-width:1455px){  .editor-menu-tree.mat-tree .mat-tree-node .body{padding:0 16px 0 54px;font-size:14px}html[dir=rtl][_ngcontent-%COMP%]     .editor-menu-tree.mat-tree .mat-tree-node .body, html[dir=rtl]   [_nghost-%COMP%]     .editor-menu-tree.mat-tree .mat-tree-node .body{padding:0 54px 0 16px}}  .editor-menu-tree.mat-tree .mat-tree-node .body.active{background-color:#121212;color:#26ffdf}  .editor-menu-tree.mat-tree .mat-tree-node .expand-button{position:absolute;z-index:3}html[dir=ltr][_ngcontent-%COMP%]     .editor-menu-tree.mat-tree .mat-tree-node .expand-button, html[dir=ltr]   [_nghost-%COMP%]     .editor-menu-tree.mat-tree .mat-tree-node .expand-button{right:0}html[dir=rtl][_ngcontent-%COMP%]     .editor-menu-tree.mat-tree .mat-tree-node .expand-button, html[dir=rtl]   [_nghost-%COMP%]     .editor-menu-tree.mat-tree .mat-tree-node .expand-button{left:0}  .editor-menu-tree.mat-tree .mat-tree-node:first-child .progress .line{display:none}  .editor-menu-tree.mat-tree .mat-tree-node .progress{width:48px;position:absolute;top:0;bottom:0;display:flex;flex-direction:column;justify-content:center;align-items:center;pointer-events:none}html[dir=ltr][_ngcontent-%COMP%]     .editor-menu-tree.mat-tree .mat-tree-node .progress, html[dir=ltr]   [_nghost-%COMP%]     .editor-menu-tree.mat-tree .mat-tree-node .progress{left:0}html[dir=rtl][_ngcontent-%COMP%]     .editor-menu-tree.mat-tree .mat-tree-node .progress, html[dir=rtl]   [_nghost-%COMP%]     .editor-menu-tree.mat-tree .mat-tree-node .progress{right:0}html[dir=rtl][_ngcontent-%COMP%]     .editor-menu-tree.mat-tree .mat-tree-node .progress, html[dir=rtl]   [_nghost-%COMP%]     .editor-menu-tree.mat-tree .mat-tree-node .progress{direction:rtl}  .editor-menu-tree.mat-tree .mat-tree-node .progress .icon{position:absolute;top:16px;width:16px;height:16px;z-index:2;color:#fff;display:inline-grid}html[dir=ltr][_ngcontent-%COMP%]     .editor-menu-tree.mat-tree .mat-tree-node .progress .icon, html[dir=ltr]   [_nghost-%COMP%]     .editor-menu-tree.mat-tree .mat-tree-node .progress .icon{left:16px}html[dir=rtl][_ngcontent-%COMP%]     .editor-menu-tree.mat-tree .mat-tree-node .progress .icon, html[dir=rtl]   [_nghost-%COMP%]     .editor-menu-tree.mat-tree .mat-tree-node .progress .icon{right:16px}  .editor-menu-tree.mat-tree .mat-tree-node .progress .dot{width:12px;height:12px;background-color:#161616;border:2px solid #a1a1a1;border-radius:6px;z-index:1;transform:rotateY(0deg) rotate(45deg)}  .editor-menu-tree.mat-tree .mat-tree-node .progress .dot .strike{width:2px;background-color:#fff;height:100%;display:none}html[dir=ltr][_ngcontent-%COMP%]     .editor-menu-tree.mat-tree .mat-tree-node .progress .dot .strike, html[dir=ltr]   [_nghost-%COMP%]     .editor-menu-tree.mat-tree .mat-tree-node .progress .dot .strike{margin-left:auto}html[dir=rtl][_ngcontent-%COMP%]     .editor-menu-tree.mat-tree .mat-tree-node .progress .dot .strike, html[dir=rtl]   [_nghost-%COMP%]     .editor-menu-tree.mat-tree .mat-tree-node .progress .dot .strike{margin-right:auto}html[dir=ltr][_ngcontent-%COMP%]     .editor-menu-tree.mat-tree .mat-tree-node .progress .dot .strike, html[dir=ltr]   [_nghost-%COMP%]     .editor-menu-tree.mat-tree .mat-tree-node .progress .dot .strike{margin-right:auto}html[dir=rtl][_ngcontent-%COMP%]     .editor-menu-tree.mat-tree .mat-tree-node .progress .dot .strike, html[dir=rtl]   [_nghost-%COMP%]     .editor-menu-tree.mat-tree .mat-tree-node .progress .dot .strike{margin-left:auto}  .editor-menu-tree.mat-tree .mat-tree-node .progress .line{width:2px;background-color:#434343;position:absolute;top:-18px;height:42px}html[dir=ltr][_ngcontent-%COMP%]     .editor-menu-tree.mat-tree .mat-tree-node .progress .line, html[dir=ltr]   [_nghost-%COMP%]     .editor-menu-tree.mat-tree .mat-tree-node .progress .line{left:23px}html[dir=rtl][_ngcontent-%COMP%]     .editor-menu-tree.mat-tree .mat-tree-node .progress .line, html[dir=rtl]   [_nghost-%COMP%]     .editor-menu-tree.mat-tree .mat-tree-node .progress .line{right:23px}  .editor-menu-tree.mat-tree .mat-tree-node.top .body{font-family:"Purista-Semibold",var(--font-fallback);color:#fff}  .editor-menu-tree.mat-tree .mat-tree-node.top .progress .dot{border-radius:0;border-color:#fff;width:24px;height:24px}  .editor-menu-tree.mat-tree .mat-tree-node.disabled .body,   .editor-menu-tree.mat-tree .mat-tree-node.disabled .expand-button{color:#434343;cursor:default}  .editor-menu-tree.mat-tree .mat-tree-node.disabled .progress .dot{border-color:#434343}  .editor-menu-tree.mat-tree .mat-tree-node.disabled .progress .dot .strike{background-color:#434343;display:block}  .editor-menu-tree.mat-tree .mat-tree-node.disabled .progress .line{background-color:#434343}  .editor-menu-tree.mat-tree .mat-tree-node.disabled .progress .icon{color:#434343}  .editor-menu-tree.mat-tree .mat-tree-node .body.active+.progress .dot{border-color:#26ffdf;background-color:#26ffdf}  .editor-menu-tree.mat-tree .mat-tree-node .body.active+.progress .icon{color:#000}']}),t})();const MV=function(t){return{"disabled-opacity":t}};function xV(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"button",6),i.NdJ("click",function(){return i.CHM(t),i.oxw().editorService.onEditorFormSubmit()}),i.ALo(1,"async"),i.ALo(2,"async"),i._UZ(3,"mat-icon",7),i.qZA()}if(2&t){const t=i.oxw();i.Q6J("ngClass",i.VKq(6,MV,t.editorService.editorForm.invalid||!0===i.lcZ(1,2,t.editorService.editorDisabled$)))("disabled",t.editorService.editorForm.invalid||!0===i.lcZ(2,4,t.editorService.editorDisabled$))}}let PV=(()=>{class t{constructor(t,e,n,i,o){this.data=t,this.menuBottomSheetRef=e,this.manageBottomSheet=n,this.router=i,this.editorService=o,this.subscriptions=[],this.openManageBottomSheet=()=>{this.menuBottomSheetRef.afterDismissed().subscribe(()=>{this.manageBottomSheet.open(kU)}),this.close()},this.close=()=>{this.menuBottomSheetRef.dismiss()},this.addSubscription(this.router.events.pipe((0,ia.h)(t=>t instanceof oA)).subscribe(t=>{t instanceof oA&&this.close()}))}addSubscription(...t){this.subscriptions.push(...t)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(VE),i.Y36(WE),i.Y36(YE),i.Y36(ID),i.Y36(mN))},t.\u0275cmp=i.Xpm({type:t,selectors:[["ng-component"]],decls:13,vars:15,consts:[[3,"title","onClose"],["content",""],["footer",""],[1,"footer"],["type","button","class","save-btn","mat-mini-fab","","aria-label","save button",3,"ngClass","disabled","click",4,"ngIf"],["variant","fill","icon","manage",1,"manage-btn",3,"iconRight","clickFired"],["type","button","mat-mini-fab","","aria-label","save button",1,"save-btn",3,"ngClass","disabled","click"],["svgIcon","save"]],template:function(t,e){1&t&&(i.TgZ(0,"app-mobile-content",0),i.ALo(1,"translate"),i.ynx(2,1),i._UZ(3,"app-editor-menu"),i.BQk(),i.ynx(4,2),i.TgZ(5,"div",3),i.YNc(6,xV,4,8,"button",4),i.ALo(7,"async"),i.ALo(8,"async"),i.ALo(9,"async"),i.TgZ(10,"app-py-button",5),i.NdJ("clickFired",function(){return e.openManageBottomSheet()}),i._uU(11),i.ALo(12,"translate"),i.qZA(),i.qZA(),i.BQk(),i.qZA()),2&t&&(i.Q6J("title",i.lcZ(1,5,"editor.menu.title"))("onClose",e.close),i.xp6(6),i.Q6J("ngIf",i.lcZ(7,7,e.editorService.isOwner$)&&!1===i.lcZ(8,9,e.editorService.isArchived$)&&!e.editorService.editorForm.pristine&&!1===i.lcZ(9,11,e.editorService.isNewMode$)),i.xp6(4),i.Q6J("iconRight",!0),i.xp6(1),i.hij(" ",i.lcZ(12,13,"editor.menu.manage")," "))},directives:[VF,wV,R,GN,rb,P,eE],pipes:[Fp,Z],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}.list[_ngcontent-%COMP%]{max-height:calc(80vh - 68px - 68px);overflow:auto}.category[_ngcontent-%COMP%]{font-family:"Purista-Semibold",var(--font-fallback);display:flex;flex-direction:row;padding:8px 30px;background:#000;text-transform:uppercase;margin:0;font-size:20px;color:#787878}html[dir=rtl][_ngcontent-%COMP%]   .category[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .category[_ngcontent-%COMP%]{direction:rtl}.item[_ngcontent-%COMP%]{font-family:"Purista-Semibold",var(--font-fallback);text-transform:uppercase;padding:12px 30px;height:auto;line-height:1;font-size:20px}.footer[_ngcontent-%COMP%]{display:flex;align-items:center}html[dir=rtl][_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .footer[_ngcontent-%COMP%]{direction:rtl}.save-btn[_ngcontent-%COMP%]{width:50px;height:50px;padding:0}html[dir=ltr][_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .save-btn[_ngcontent-%COMP%]{margin-right:20px}html[dir=rtl][_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .save-btn[_ngcontent-%COMP%]{margin-left:20px}.manage-btn[_ngcontent-%COMP%]{flex-grow:1}']}),t})();const kV=["editorMenu"];function IV(t,e){1&t&&(i.TgZ(0,"div",2),i.TgZ(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.qZA()),2&t&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"editor.not-found")))}function AV(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",10),i.TgZ(1,"button",11),i.NdJ("click",function(){return i.CHM(t),i.oxw(2).openBottomSheet()}),i.TgZ(2,"div",12),i._uU(3),i.qZA(),i.TgZ(4,"div",13),i._uU(5),i.qZA(),i._UZ(6,"mat-icon",14),i.qZA(),i.qZA()}if(2&t){const t=i.oxw(2);i.xp6(3),i.hij(" ",t.category," "),i.xp6(2),i.hij(" ",t.title," ")}}function RV(t,e){1&t&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"editor.menu.minimize")))}const DV=function(t){return{collapsed:t}};function LV(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",15),i._UZ(1,"app-editor-menu",16),i.TgZ(2,"div",17),i.NdJ("click",function(){return i.CHM(t),i.oxw(2).toggleMenuCollapse()}),i.YNc(3,RV,3,3,"span",18),i._UZ(4,"mat-icon",19),i.qZA(),i.qZA()}if(2&t){const t=i.oxw(2);i.xp6(1),i.Q6J("collapsed",t.collapseMenu),i.xp6(1),i.Q6J("ngClass",i.VKq(4,DV,t.collapseMenu)),i.xp6(1),i.Q6J("ngIf",!t.collapseMenu),i.xp6(1),i.Q6J("svgIcon",t.collapseMenu?"chevron_right":"chevron_left")}}function NV(t,e){1&t&&i._UZ(0,"app-editor-manage",20)}function BV(t,e){if(1&t&&(i._UZ(0,"app-details-panel",21),i.ALo(1,"async"),i.ALo(2,"async")),2&t){const t=i.oxw(2);i.Q6J("model",i.lcZ(1,2,t.editorService.detailsModel$))("metaData",i.lcZ(2,4,t.editorService.detailsMeta$))}}function FV(t,e){if(1&t&&i._UZ(0,"app-editor-footer",22),2&t){const t=i.oxw(2);i.Q6J("mainRoute",t.mainRoute)("subRoute",t.subRoute)("isGameModeInvalid",t.isGameModeInvalid)("haveMapsBeenSelected",t.haveMapsBeenSelected)("isMapDefault",t.isMapDefault)}}const UV=function(t,e){return{"collapse-menu":t,"mobile-menu":e}},VV=function(t,e){return[t,e]};function GV(t,e){if(1&t&&(i.TgZ(0,"div",3),i.ALo(1,"async"),i.YNc(2,AV,7,2,"div",4),i.ALo(3,"async"),i.YNc(4,LV,5,6,"div",5),i.ALo(5,"async"),i.TgZ(6,"div",6),i._UZ(7,"router-outlet"),i.YNc(8,NV,1,0,"app-editor-manage",7),i.ALo(9,"async"),i.ALo(10,"async"),i.YNc(11,BV,3,6,"app-details-panel",8),i.ALo(12,"async"),i.YNc(13,FV,1,5,"app-editor-footer",9),i.qZA(),i.qZA()),2&t){const t=i.oxw();i.Q6J("ngClass",i.WLB(19,UV,t.collapseMenu,i.lcZ(1,7,t.layoutService.isTabletOrSmaller$))),i.xp6(2),i.Q6J("ngIf",i.lcZ(3,9,t.layoutService.isTabletOrSmaller$)&&t.category&&t.title),i.xp6(2),i.Q6J("ngIf",!1===i.lcZ(5,11,t.layoutService.isTabletOrSmaller$)),i.xp6(2),i.Q6J("ngClass",i.WLB(22,VV,t.mainRoute||"",t.subRoute||"")),i.xp6(2),i.Q6J("ngIf",!0===i.lcZ(9,13,t.editorService.showManagePanel$)&&!1===i.lcZ(10,15,t.layoutService.isTabletOrSmaller$)),i.xp6(3),i.Q6J("ngIf",!0===i.lcZ(12,17,t.editorService.showDetailsPanel$)),i.xp6(2),i.Q6J("ngIf","rules"!==t.mainRoute)}}const jV=Sm.get("editor");let HV=(()=>{class t{constructor(t,e,n,i,o,r,s,a,l,c,u,h,d,p){this.formBuilder=t,this.editorService=e,this.playgroundService=n,this.blueprintService=i,this.translateService=o,this.menuService=r,this.eraService=s,this.router=a,this.layoutService=l,this.store=c,this._bottomSheet=u,this.renderer=h,this.dialog=d,this.cdRef=p,this.subscriptions=[],this.currentRoute="",this.mainRoute="",this.subRoute="",this.isGameModeInvalid=!0,this.isMapDefault=!0,this.hasChanges=!1,this.ffaHasChanges=!1,this.team1HasChanges=!1,this.team2HasChanges=!1,this.collapseMenu=!1,this.isCollapsedFromToggle=!1,this.getCreateDisabled$=this.store.select(QL),this.createDisabled=!1,this.mobileMenuData={title:"",section:""},this.title="",this.category="",this.clickedBrowserNavigation=!1,this.isPlaygroundFetched=(t,e)=>Boolean(null==t?void 0:t.mapRotation)&&Boolean(e)||!Boolean(e),this.editorService.disableEditor(),this.addSubscription(this.menuService.onMobileMenuUpdate().subscribe(t=>{this.mobileMenuData=t}),this.router.events.subscribe(t=>{if(t instanceof oA){this.currentRoute=t.urlAfterRedirects.split("?")[0];const e=this.currentRoute.split("/");this.mainRoute=e[2],this.subRoute=e[3]}}),this.router.events.pipe((0,ia.h)(t=>t instanceof oA)).subscribe(t=>{this.collapseMenu=!!t.urlAfterRedirects.includes("/experience/rules")||this.isCollapsedFromToggle}),this.editorService.eraValues$.subscribe({next:t=>{if(t){const[e,n,i]=t.values;this.isMapDefault=this.eraService.isFFA?0===e:0===n&&0===i}}}),this.editorService.reset$.pipe((0,zu.w)(()=>this.store.select(Nm)),(0,zu.w)(t=>t?Hv([this.editorService.isEditable$,this.editorService.playground$,this.playgroundService.getPlaygrounds$(t),this.blueprintService.maxPlaygroundsPerPlayer$,this.store.select(JL)]).pipe($g()):Hv([this.editorService.isEditable$,this.editorService.playground$]).pipe($g()))).subscribe({next:([t,e,n,i,o])=>{var r,s,a,l,c,u,h,d,p,g,m;if(!e)return;if(this.editorService.disableEditor(),n&&i&&!o&&(this.store.dispatch(VL({maxPlaygrounds:i})),this.store.dispatch(GL({currentPlaygrounds:n.length})),this.store.dispatch(jL({disabled:i<=n.length}))),null===(s=null===(r=e.modRules)||void 0===r?void 0:r.compatibleRules)||void 0===s?void 0:s.rules)try{const t=new TextDecoder,n=JSON.parse(t.decode(null===(l=null===(a=e.modRules)||void 0===a?void 0:a.compatibleRules)||void 0===l?void 0:l.rules));this.editorService.setRules(n)}catch(nx){jV.error("Could not parse rules:",nx),this.editorService.setRules(null)}else this.editorService.setRules(null);this.editorService.editorForm.patchValue({name:e.name,description:e.description,gameMode:null===(h=null===(u=null===(c=e.mapRotation)||void 0===c?void 0:c.maps)||void 0===u?void 0:u[0])||void 0===h?void 0:h.gameMode});const f=null!==(m=null===(g=null===(p=null===(d=e.mapRotation)||void 0===d?void 0:d.maps)||void 0===p?void 0:p[0])||void 0===g?void 0:g.gameSize)&&void 0!==m?m:0;this.editorService.setGameSize(f,!0),this.editorService.editorForm.markAsPristine(),t&&this.editorService.enableEditor(),this.editorService.coreEditorFormLoadedSubject.next(!0)}}),this.editorService.reset$.pipe((0,zu.w)(t=>Hv([this.editorService.playground$,this.editorService.playgroundId$]).pipe((0,ia.h)(([t,e])=>this.isPlaygroundFetched(t,e)),$g()))).subscribe({next:([t])=>{this.editorService.availableBlueprintMapEntries$.pipe($g()).subscribe({next:e=>{var n,i;this.editorService.mapsFormArray.clear(),null===(i=null===(n=null==t?void 0:t.mapRotation)||void 0===n?void 0:n.maps)||void 0===i||i.forEach(t=>{const n=e.find(e=>e.levelName===t.levelName&&e.gameMode===t.gameMode&&e.levelLocation===t.levelLocation);if(n){const t=this.formBuilder.control(n);this.editorService.mapsFormArray.push(t)}}),this.editorService.mapsEditorFormLoadedSubject.next(!0)}})}}),this.editorService.reset$.pipe((0,zu.w)(t=>Hv([this.editorService.playground$,this.editorService.availableBlueprintMutators$,this.editorService.playgroundId$]).pipe((0,ia.h)(([t,e,n])=>this.isPlaygroundFetched(t,n)),$g()))).subscribe({next:([t,e])=>{var n,i,o,r,s,a,l,c,u,h,d,p;Object.keys(this.editorService.mutatorsFormGroup.controls).forEach(t=>{this.editorService.mutatorsFormGroup.removeControl(t)}),Object.keys(this.editorService.splitMutatorsFormGroup.controls).forEach(t=>{this.editorService.splitMutatorsFormGroup.removeControl(t)});const g=null!==(a=null===(s=null===(r=null===(o=null===(i=null===(n=e.find(t=>"MaxPlayerCount_PerTeam"===t.name))||void 0===n?void 0:n.kind)||void 0===i?void 0:i.mutatorSparseIntValues)||void 0===o?void 0:o.availableValues)||void 0===r?void 0:r.range)||void 0===s?void 0:s.maxValue)&&void 0!==a?a:128,m=null!==(p=null===(d=null===(h=null===(u=null===(c=null===(l=e.find(t=>"AiMaxCount_PerTeam"===t.name))||void 0===l?void 0:l.kind)||void 0===c?void 0:c.mutatorSparseIntValues)||void 0===u?void 0:u.availableValues)||void 0===h?void 0:h.range)||void 0===d?void 0:d.maxValue)&&void 0!==p?p:60;null==e||e.forEach(e=>{var n,i,o,r,s,a,l,c,u,h,d,p,f,_,b,v,y,C,O,T,E,S,w,M,x,P,k,I,A,R,D,L,N,B,F,U,V,G,j,H,z,W,Z,Y,q,J,$,K;if(!e.id)return void jV.error("Missing Mutator ID. Ignoring Mutator.",e);if(!e.name)return void jV.error("Missing Mutator name. Ignoring Mutator.",e);const X=null===(n=null==t?void 0:t.mutators)||void 0===n?void 0:n.find(t=>t.id===e.id),Q=null!==(r=null===(o=null===(i=e.kind)||void 0===i?void 0:i.mutatorSparseBoolean)||void 0===o?void 0:o.size)&&void 0!==r?r:0,tt=null!==(h=null!==(l=null===(a=null===(s=null==X?void 0:X.kind)||void 0===s?void 0:s.mutatorSparseBoolean)||void 0===a?void 0:a.defaultValue)&&void 0!==l?l:null===(u=null===(c=e.kind)||void 0===c?void 0:c.mutatorSparseBoolean)||void 0===u?void 0:u.defaultValue)&&void 0!==h&&h,et=new Array(Q).fill(0).map((t,e)=>{var n,i,o,r;let s=tt;if(X){const t=null===(o=null===(i=null===(n=X.kind)||void 0===n?void 0:n.mutatorSparseBoolean)||void 0===i?void 0:i.sparseValues)||void 0===o?void 0:o.find(t=>t.index===e);s=null!==(r=null==t?void 0:t.value)&&void 0!==r?r:tt}return s}),nt=null!==(_=null===(f=null===(p=null===(d=e.kind)||void 0===d?void 0:d.mutatorSparseFloatValues)||void 0===p?void 0:p.mutator)||void 0===f?void 0:f.size)&&void 0!==_?_:0,it=RL(null!==(E=null!==(y=null===(v=null===(b=null==X?void 0:X.kind)||void 0===b?void 0:b.mutatorSparseFloat)||void 0===v?void 0:v.defaultValue)&&void 0!==y?y:null===(T=null===(O=null===(C=e.kind)||void 0===C?void 0:C.mutatorSparseFloatValues)||void 0===O?void 0:O.mutator)||void 0===T?void 0:T.defaultValue)&&void 0!==E?E:0),ot=new Array(nt).fill(0).map((t,e)=>{var n,i,o;let r=it;if(X){const t=null===(o=null===(i=null===(n=X.kind)||void 0===n?void 0:n.mutatorSparseFloat)||void 0===i?void 0:i.sparseValues)||void 0===o?void 0:o.find(t=>t.index===e);"number"==typeof(null==t?void 0:t.value)&&(r=RL(t.value))}return r}),rt=null!==(x=null===(M=null===(w=null===(S=e.kind)||void 0===S?void 0:S.mutatorSparseIntValues)||void 0===w?void 0:w.mutator)||void 0===M?void 0:M.size)&&void 0!==x?x:0,st=null!==(L=null!==(I=null===(k=null===(P=null==X?void 0:X.kind)||void 0===P?void 0:P.mutatorSparseInt)||void 0===k?void 0:k.defaultValue)&&void 0!==I?I:null===(D=null===(R=null===(A=e.kind)||void 0===A?void 0:A.mutatorSparseIntValues)||void 0===R?void 0:R.mutator)||void 0===D?void 0:D.defaultValue)&&void 0!==L?L:0,at=new Array(rt).fill(0).map((t,e)=>{var n,i,o,r;let s=st;if(X){const t=null===(o=null===(i=null===(n=X.kind)||void 0===n?void 0:n.mutatorSparseInt)||void 0===i?void 0:i.sparseValues)||void 0===o?void 0:o.find(t=>t.index===e);s=null!==(r=null==t?void 0:t.value)&&void 0!==r?r:st}return s}),lt=at.findIndex(t=>t!==st)>0,ct=null===(F=null===(B=null===(N=null==t?void 0:t.mutators)||void 0===N?void 0:N.find(t=>"MaxPlayerCount_PerTeam"===t.name))||void 0===B?void 0:B.kind)||void 0===F?void 0:F.mutatorSparseInt,ut=(null===(U=null==ct?void 0:ct.sparseValues)||void 0===U?void 0:U.length)?(null!==(V=null==ct?void 0:ct.defaultValue)&&void 0!==V?V:0)+(null!==(H=null===(j=null===(G=null==ct?void 0:ct.sparseValues)||void 0===G?void 0:G[0])||void 0===j?void 0:j.value)&&void 0!==H?H:0):2*(null!==(z=null==ct?void 0:ct.defaultValue)&&void 0!==z?z:0),ht=g-ut;if("AiMaxCount_PerTeam"===e.name&&!lt&&at[0]+at[1]>ht){const t=Math.floor((ht>m?m:ht)/2);at[0]=t,at[1]=t}const dt=this.formBuilder.group({name:e.name,[dM.KindCase.none]:this.formBuilder.group({}),[dM.KindCase.mutatorBoolean]:this.formBuilder.group({value:(()=>{var t,n,i,o,r,s;return null!==(s=null!==(i=null===(n=null===(t=null==X?void 0:X.kind)||void 0===t?void 0:t.mutatorBoolean)||void 0===n?void 0:n.value)&&void 0!==i?i:null===(r=null===(o=e.kind)||void 0===o?void 0:o.mutatorBoolean)||void 0===r?void 0:r.value)&&void 0!==s&&s})()}),[dM.KindCase.mutatorFloatValues]:this.formBuilder.group({value:RL(null!==(K=null!==(Y=null===(Z=null===(W=null==X?void 0:X.kind)||void 0===W?void 0:W.mutatorFloat)||void 0===Z?void 0:Z.value)&&void 0!==Y?Y:null===($=null===(J=null===(q=e.kind)||void 0===q?void 0:q.mutatorFloatValues)||void 0===J?void 0:J.mutator)||void 0===$?void 0:$.value)&&void 0!==K?K:0)}),[dM.KindCase.mutatorIntValues]:this.formBuilder.group({value:(()=>{var t,n,i,o,r,s,a;return null!==(a=null!==(i=null===(n=null===(t=null==X?void 0:X.kind)||void 0===t?void 0:t.mutatorInt)||void 0===n?void 0:n.value)&&void 0!==i?i:null===(s=null===(r=null===(o=e.kind)||void 0===o?void 0:o.mutatorIntValues)||void 0===r?void 0:r.mutator)||void 0===s?void 0:s.value)&&void 0!==a?a:0})()}),[dM.KindCase.mutatorSparseBoolean]:this.formBuilder.group({perTeam:this.formBuilder.control(et.findIndex(t=>t!==tt)>0),values:this.formBuilder.array(et.map(t=>this.formBuilder.control(t)))}),[dM.KindCase.mutatorSparseFloatValues]:this.formBuilder.group({perTeam:this.formBuilder.control(ot.findIndex(t=>t!==it)>0),values:this.formBuilder.array(ot.map(t=>this.formBuilder.control(t)))}),[dM.KindCase.mutatorSparseIntValues]:this.formBuilder.group({perTeam:this.formBuilder.control(lt),values:this.formBuilder.array(at.map(t=>this.formBuilder.control(t)))}),[dM.KindCase.mutatorString]:this.formBuilder.group({value:(()=>{var t,n,i,o,r,s;return null!==(s=null!==(i=null===(n=null===(t=null==X?void 0:X.kind)||void 0===t?void 0:t.mutatorString)||void 0===n?void 0:n.value)&&void 0!==i?i:null===(r=null===(o=e.kind)||void 0===o?void 0:o.mutatorString)||void 0===r?void 0:r.value)&&void 0!==s?s:""})()})});cN.includes(e.name)?this.editorService.splitMutatorsFormGroup.registerControl(e.name,dt):this.editorService.mutatorsFormGroup.registerControl(e.name,dt)}),this.editorService.splitMutatorsFormGroup.updateValueAndValidity(),this.editorService.mutatorsFormGroup.updateValueAndValidity(),this.editorService.mutatorsEditorFormLoadedSubject.next(!0)}}),this.editorService.reset$.pipe((0,zu.w)(t=>Hv([this.editorService.playground$,this.editorService.availableAssetCategoryTags$,this.editorService.playgroundId$]).pipe((0,ia.h)(([t,e,n])=>this.isPlaygroundFetched(t,n)),$g()))).subscribe({next:([t,e])=>{Object.keys(this.editorService.tagsFormGroup.controls).forEach(t=>{this.editorService.tagsFormGroup.removeControl(t)}),e.forEach(e=>{var n,i,o,r,s,a,l,c,u;const h=null===(n=null==t?void 0:t.assetCategories)||void 0===n?void 0:n.find(t=>t.tagId===e.tagId);if(!(null==e?void 0:e.tagId))return void jV.error("Ignoring AssetCategoryTag with missing ID.",e);const d=null===(o=null===(i=null==h?void 0:h.boolean)||void 0===i?void 0:i.defaultValue)||void 0===o||o,p=null!==(s=null===(r=null==h?void 0:h.boolean)||void 0===r?void 0:r.teamOverrides)&&void 0!==s?s:[],g=this.formBuilder.group({values:this.formBuilder.array([null!==(l=null===(a=p.find(t=>1===t.teamId))||void 0===a?void 0:a.value)&&void 0!==l?l:d,null!==(u=null===(c=p.find(t=>2===t.teamId))||void 0===c?void 0:c.value)&&void 0!==u?u:d])});this.setHasChanges(g),this.editorService.tagsFormGroup.registerControl(e.tagId,g)}),this.editorService.tagsFormGroup.updateValueAndValidity(),this.editorService.tagsEditorFormLoadedSubject.next(!0)}}),this.editorService.editorForm.valueChanges.pipe((0,ef.b)(500)).subscribe(t=>{var e;this.haveMapsBeenSelected=!!t.maps.length,this.isGameModeInvalid=!(null===(e=this.editorService.editorForm.get("gameMode"))||void 0===e?void 0:e.value)}),Hv([this.blueprintService.maxPlaygroundsPerPlayer$,this.getCreateDisabled$,this.editorService.isNewMode$,this.editorService.presetId$,this.editorService.playgroundId$]).subscribe(([t,e,n,i,o])=>{this.createDisabled=e,this.createDisabled&&n&&(i||!o&&!i)&&this.dialog.open(qN,{width:"512px",data:{title$:this.translateService.get("editor.general.max-playgrounds-warning-title"),body$:this.translateService.get("editor.general.max-playgrounds-warning",{max:t}),confirmLabel$:this.translateService.get("editor.general.max-playgrounds-modal-confirm-label")}}).afterClosed().subscribe(t=>{t&&this.router.navigate(["/experiences"])})})),window.onbeforeunload=this.confirmUnmount.bind(this),window.onpopstate=()=>{this.clickedBrowserNavigation=!0,setTimeout(()=>{this.clickedBrowserNavigation=!1},100)}}ngOnInit(){var t,e;this.haveMapsBeenSelected=!!(null===(t=this.editorService.editorForm.get("maps"))||void 0===t?void 0:t.value.length),this.isGameModeInvalid=!(null===(e=this.editorService.editorForm.get("gameMode"))||void 0===e?void 0:e.value)}ngAfterViewInit(){this.setMenuHeight(),this.setMobileMenu(),this.cdRef.detectChanges()}ngDoCheck(){this.setMenuHeight(),this.setMobileMenu()}setHasChanges(t){(null==t?void 0:t.value.values[0])||(null==t?void 0:t.value.values[1])||(this.eraService.isFFA&&!this.ffaHasChanges?(this.ffaHasChanges=!0,this.store.dispatch(dL({newValue:!0}))):this.hasChanges||(this.hasChanges=!0,this.store.dispatch(uL({newValue:!0})))),(null==t?void 0:t.value.values[0])||this.eraService.isFFA||this.team1HasChanges||(this.team1HasChanges=!0,this.store.dispatch(mL({newValue:!0}))),(null==t?void 0:t.value.values[1])||this.eraService.isFFA||this.team2HasChanges||(this.team2HasChanges=!0,this.store.dispatch(fL({newValue:!0})))}openBottomSheet(){this._bottomSheet.open(PV)}canDestroy(){return QB(this,void 0,void 0,function*(){return new Promise(t=>this.store.select(SL).pipe($g()).subscribe(e=>{t(!e&&!this.hasPendingChanges())}))})}unmountMessage(){return QB(this,void 0,void 0,function*(){return new Promise(t=>Hv([this.translateService.get("editor.pending-changes-header"),this.translateService.get("editor.pending-changes-body")]).pipe($g()).subscribe(([e,n])=>t(e+" "+n)))})}confirmUnmount(t){return QB(this,void 0,void 0,function*(){if(!(yield this.canDestroy())){t.preventDefault();const e=yield this.unmountMessage();return t.returnValue=e,e}})}hasPendingChanges(){return this.editorService.editorForm.dirty}toggleMenuCollapse(){this.collapseMenu=!this.collapseMenu,this.isCollapsedFromToggle=this.collapseMenu}onResize(){this.setMenuHeight()}setMobileMenu(){this.title=this.mobileMenuData.title,this.category=this.mobileMenuData.section}setMenuHeight(){var t;(null===(t=this.editorMenuElement)||void 0===t?void 0:t.nativeElement)&&this.renderer.setStyle(this.editorMenuElement.nativeElement,"height",`${window.innerHeight}px`)}addSubscription(...t){this.subscriptions.push(...t)}log(...t){jV.log(...t)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe()),this.store.dispatch(pL()),window.onpopstate=null}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(ta),i.Y36(mN),i.Y36(aN),i.Y36(kN),i.Y36(Bp),i.Y36(uV),i.Y36(lV),i.Y36(ID),i.Y36(KN),i.Y36(Vp.yh),i.Y36(YE),i.Y36(i.Qsj),i.Y36(aT),i.Y36(i.sBO))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-editor"]],viewQuery:function(t,e){if(1&t&&i.Gf(kV,5),2&t){let t;i.iGM(t=i.CRH())&&(e.editorMenuElement=t.first)}},hostBindings:function(t,e){1&t&&i.NdJ("resize",function(t){return e.onResize(t.target)},!1,i.Jf7)},decls:4,vars:6,consts:[["class","not-found",4,"ngIf"],["class","editor-container",3,"ngClass",4,"ngIf"],[1,"not-found"],[1,"editor-container",3,"ngClass"],["class","editor-menu-mobile",4,"ngIf"],["class","editor-menu",4,"ngIf"],[1,"editor-main",3,"ngClass"],["class","editor-manage",4,"ngIf"],["class","details-panel",3,"model","metaData",4,"ngIf"],["class","editor-footer",3,"mainRoute","subRoute","isGameModeInvalid","haveMapsBeenSelected","isMapDefault",4,"ngIf"],[1,"editor-menu-mobile"],[1,"tab-header-wrapper",3,"click"],[1,"header-text","tab-category"],[1,"header-text","tab-label"],["svgIcon","expand_more",1,"expand-icon"],[1,"editor-menu"],[1,"editor-menu-list",3,"collapsed"],[1,"collapse-menu-button",3,"ngClass","click"],[4,"ngIf"],[3,"svgIcon"],[1,"editor-manage"],[1,"details-panel",3,"model","metaData"],[1,"editor-footer",3,"mainRoute","subRoute","isGameModeInvalid","haveMapsBeenSelected","isMapDefault"]],template:function(t,e){1&t&&(i.YNc(0,IV,4,3,"div",0),i.ALo(1,"async"),i.YNc(2,GV,14,25,"div",1),i.ALo(3,"async")),2&t&&(i.Q6J("ngIf",void 0===i.lcZ(1,2,e.editorService.playground$)),i.xp6(2),i.Q6J("ngIf",void 0!==i.lcZ(3,4,e.editorService.playground$)))},styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}.not-found[_ngcontent-%COMP%]{min-height:100%;display:flex;justify-content:center;align-items:center;text-align:center;font-size:24px}html[dir=rtl][_ngcontent-%COMP%]   .not-found[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .not-found[_ngcontent-%COMP%]{direction:rtl}html[dir=rtl][_ngcontent-%COMP%]   .not-found[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .not-found[_ngcontent-%COMP%]{text-align:center}.editor-container[_ngcontent-%COMP%]{min-height:100%;display:grid;grid-template-columns:300px minmax(0,1fr);grid-template-rows:0 1fr;grid-gap:0 0;gap:0 0;grid-template-areas:"editor-mobile-nav editor-mobile-nav" "editor-nav editor-main"}html[dir=rtl][_ngcontent-%COMP%]   .editor-container[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .editor-container[_ngcontent-%COMP%]{direction:rtl}@media only screen and (max-width:1455px){.editor-container[_ngcontent-%COMP%]{grid-template-columns:240px minmax(0,1fr)}}.editor-container.collapse-menu[_ngcontent-%COMP%]{grid-template-columns:48px minmax(0,1fr)}.editor-container.mobile-menu[_ngcontent-%COMP%]{grid-template-columns:0 minmax(0,1fr);grid-template-rows:minmax(55px,auto) 1fr}  ea-local-nav-advanced.net-nav-onscreen+.app .editor-menu,   ea-local-nav.net-nav-onscreen+.app .editor-menu{padding-top:calc(var(--network-nav-height) + var(--local-nav-height))}  ea-local-nav-advanced.net-nav-onscreen+.app .details-panel,   ea-local-nav-advanced.net-nav-onscreen+.app .editor-manage,   ea-local-nav.net-nav-onscreen+.app .details-panel,   ea-local-nav.net-nav-onscreen+.app .editor-manage{top:calc(var(--network-nav-height) + var(--local-nav-height))}.details-panel[_ngcontent-%COMP%], .editor-manage[_ngcontent-%COMP%]{position:fixed;top:var(--local-nav-height);bottom:0;width:450px;overflow:auto;z-index:40;transition:top .5s cubic-bezier(.5,.25,.015,1)}html[dir=ltr][_ngcontent-%COMP%]   .details-panel[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .editor-manage[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .details-panel[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .editor-manage[_ngcontent-%COMP%]{right:0}html[dir=rtl][_ngcontent-%COMP%]   .details-panel[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .editor-manage[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .details-panel[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .editor-manage[_ngcontent-%COMP%]{left:0}@media only screen and (max-width:767px){.details-panel[_ngcontent-%COMP%], .editor-manage[_ngcontent-%COMP%]{width:100%}}.editor-menu[_ngcontent-%COMP%]{grid-area:editor-nav;max-height:100vh;position:sticky;top:0;margin-top:calc(var(--header-height) * -1);padding-top:var(--local-nav-height);padding-bottom:48px;background-color:#000;z-index:15;display:flex;flex-direction:column;flex-wrap:nowrap;justify-content:space-between;box-sizing:border-box;overflow:auto;transition:padding-top .5s cubic-bezier(.5,.25,.015,1)}html[dir=rtl][_ngcontent-%COMP%]   .editor-menu[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .editor-menu[_ngcontent-%COMP%]{direction:rtl}.editor-menu[_ngcontent-%COMP%]   .editor-menu-list[_ngcontent-%COMP%]{overflow:auto;scrollbar-width:thin}.editor-menu[_ngcontent-%COMP%]   .editor-menu-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}.editor-menu[_ngcontent-%COMP%]   .editor-menu-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0000}.editor-menu[_ngcontent-%COMP%]   .editor-menu-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#fff3;border-radius:12px;background-clip:padding-box;border:3px solid #0000}.editor-menu[_ngcontent-%COMP%]   .collapse-menu-button[_ngcontent-%COMP%]{position:absolute;left:0;right:0;bottom:0;height:48px;padding:0 16px;background:#000;color:#ffffffb3;z-index:4;display:flex;justify-content:space-between;align-items:center;cursor:pointer}.editor-menu[_ngcontent-%COMP%]   .collapse-menu-button.collapsed[_ngcontent-%COMP%]{justify-content:center;padding:0}@media (hover:hover){.editor-menu[_ngcontent-%COMP%]   .collapse-menu-button[_ngcontent-%COMP%]:hover{color:#fff}}.editor-menu-mobile[_ngcontent-%COMP%]{grid-area:editor-mobile-nav;position:sticky;overflow-y:hidden;z-index:15;top:var(--local-nav-height);display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;transition:top .5s cubic-bezier(.5,.25,.015,1)}html[dir=rtl][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]{direction:rtl}@media only screen and (max-width:768px){.editor-menu-mobile[_ngcontent-%COMP%]{justify-content:flex-start}}.editor-menu-mobile[_ngcontent-%COMP%]   .manage-btn[_ngcontent-%COMP%]{align-self:flex-end}.editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%], .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{display:inline-block;font-family:"BFText-Regular",var(--font-fallback);font-size:16px;height:55px;line-height:50px;color:#a1a1a1;padding:0 24px 0 32px;text-decoration:none;position:relative}html[dir=rtl][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{padding:0 32px 0 24px}.editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:first-child, .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:first-child{z-index:15}.editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:nth-child(2), .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:nth-child(2){z-index:14}.editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:nth-child(3), .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:nth-child(3){z-index:13}.editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:nth-child(4), .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:nth-child(4){z-index:12}.editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:nth-child(5), .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:nth-child(5){z-index:11}.editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:nth-child(6), .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:nth-child(6){z-index:10}.editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:nth-child(7), .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:nth-child(7){z-index:9}.editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:nth-child(8), .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:nth-child(8){z-index:8}.editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:nth-child(9), .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:nth-child(9){z-index:7}.editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:nth-child(10), .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:nth-child(10){z-index:6}.editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:nth-child(11), .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:nth-child(11){z-index:5}.editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:nth-child(12), .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:nth-child(12){z-index:4}.editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:nth-child(13), .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:nth-child(13){z-index:3}.editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:nth-child(14), .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:nth-child(14){z-index:2}.editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:nth-child(15), .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:nth-child(15){z-index:1}.editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:nth-child(16), .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:nth-child(16){z-index:0}.editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:before, .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-3px;border:26px solid #0000;-webkit-user-select:none;user-select:none;pointer-events:none}html[dir=ltr][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:before, html[dir=ltr][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:before, html[dir=ltr]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:before, html[dir=ltr]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:before{right:-16px}html[dir=rtl][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:before, html[dir=rtl][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:before, html[dir=rtl]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:before, html[dir=rtl]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:before{left:-16px}html[dir=ltr][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:before, html[dir=ltr][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:before, html[dir=ltr]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:before, html[dir=ltr]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:before{border-left-color:#262626}html[dir=rtl][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:before, html[dir=rtl][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:before, html[dir=rtl]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:before, html[dir=rtl]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:before{border-right-color:#262626}html[dir=ltr][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:before, html[dir=ltr][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:before, html[dir=ltr]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:before, html[dir=ltr]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:before{border-right-width:8px}html[dir=rtl][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:before, html[dir=rtl][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:before, html[dir=rtl]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:before, html[dir=rtl]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:before{border-left-width:8px}html[dir=ltr][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:before, html[dir=ltr][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:before, html[dir=ltr]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:before, html[dir=ltr]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:before{border-left-width:8px}html[dir=rtl][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:before, html[dir=rtl][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:before, html[dir=rtl]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:before, html[dir=rtl]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:before{border-right-width:8px}.editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:after, .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-3px;border:26px solid #0000;-webkit-user-select:none;user-select:none;pointer-events:none}html[dir=ltr][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:after, html[dir=ltr][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:after, html[dir=ltr]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:after, html[dir=ltr]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:after{right:-15px}html[dir=rtl][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:after, html[dir=rtl][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:after, html[dir=rtl]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:after, html[dir=rtl]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:after{left:-15px}html[dir=ltr][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:after, html[dir=ltr][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:after, html[dir=ltr]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:after, html[dir=ltr]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:after{border-left-color:#161616}html[dir=rtl][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:after, html[dir=rtl][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:after, html[dir=rtl]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:after, html[dir=rtl]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:after{border-right-color:#161616}html[dir=ltr][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:after, html[dir=ltr][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:after, html[dir=ltr]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:after, html[dir=ltr]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:after{border-right-width:8px}html[dir=rtl][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:after, html[dir=rtl][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:after, html[dir=rtl]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:after, html[dir=rtl]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:after{border-left-width:8px}html[dir=ltr][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:after, html[dir=ltr][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:after, html[dir=ltr]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:after, html[dir=ltr]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:after{border-left-width:8px}html[dir=rtl][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:after, html[dir=rtl][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:after, html[dir=rtl]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:after, html[dir=rtl]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:after{border-right-width:8px}.editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.tab.active[_ngcontent-%COMP%], .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.tab.tab-active[_ngcontent-%COMP%], .editor-menu-mobile[_ngcontent-%COMP%]   .tab.tab.active[_ngcontent-%COMP%], .editor-menu-mobile[_ngcontent-%COMP%]   .tab.tab.tab-active[_ngcontent-%COMP%]{color:#26ffdf}@media (hover:hover){.editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.tab[_ngcontent-%COMP%]:hover, .editor-menu-mobile[_ngcontent-%COMP%]   .tab.tab[_ngcontent-%COMP%]:hover{color:#26ffdf}}.editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.tab.section.tab-active[_ngcontent-%COMP%], .editor-menu-mobile[_ngcontent-%COMP%]   .tab.tab.section.tab-active[_ngcontent-%COMP%]{background:radial-gradient(60.38% 36.46% at 50.34% 118.75%,#26ffdf 0,#26ffdf00 100%),#262626}.editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.active[_ngcontent-%COMP%], .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.tab-active[_ngcontent-%COMP%], .editor-menu-mobile[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%], .editor-menu-mobile[_ngcontent-%COMP%]   .tab.tab-active[_ngcontent-%COMP%]{color:#fff;background-color:#262626}@media (hover:hover){.editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.active[_ngcontent-%COMP%]:hover, .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.tab-active[_ngcontent-%COMP%]:hover, .editor-menu-mobile[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]:hover, .editor-menu-mobile[_ngcontent-%COMP%]   .tab.tab-active[_ngcontent-%COMP%]:hover{color:#fff;background-color:#262626}}html[dir=ltr][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.active[_ngcontent-%COMP%]:after, html[dir=ltr][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.tab-active[_ngcontent-%COMP%]:after, html[dir=ltr][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]:after, html[dir=ltr][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab.tab-active[_ngcontent-%COMP%]:after, html[dir=ltr]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.active[_ngcontent-%COMP%]:after, html[dir=ltr]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.tab-active[_ngcontent-%COMP%]:after, html[dir=ltr]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]:after, html[dir=ltr]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab.tab-active[_ngcontent-%COMP%]:after{border-left-color:#262626}html[dir=rtl][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.active[_ngcontent-%COMP%]:after, html[dir=rtl][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.tab-active[_ngcontent-%COMP%]:after, html[dir=rtl][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]:after, html[dir=rtl][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab.tab-active[_ngcontent-%COMP%]:after, html[dir=rtl]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.active[_ngcontent-%COMP%]:after, html[dir=rtl]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.tab-active[_ngcontent-%COMP%]:after, html[dir=rtl]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]:after, html[dir=rtl]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab.tab-active[_ngcontent-%COMP%]:after{border-right-color:#262626}.editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.active.sub-tab[_ngcontent-%COMP%], .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.tab-active.sub-tab[_ngcontent-%COMP%], .editor-menu-mobile[_ngcontent-%COMP%]   .tab.active.sub-tab[_ngcontent-%COMP%], .editor-menu-mobile[_ngcontent-%COMP%]   .tab.tab-active.sub-tab[_ngcontent-%COMP%]{background:#106458;color:#fff;align-items:center;flex-direction:row}.editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.active.sub-tab[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.tab-active.sub-tab[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .editor-menu-mobile[_ngcontent-%COMP%]   .tab.active.sub-tab[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .editor-menu-mobile[_ngcontent-%COMP%]   .tab.tab-active.sub-tab[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{vertical-align:middle;line-height:.5;width:22px;height:11px;color:#b4b4b4}html[dir=ltr][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.active.sub-tab[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.tab-active.sub-tab[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab.active.sub-tab[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab.tab-active.sub-tab[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.active.sub-tab[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.tab-active.sub-tab[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab.active.sub-tab[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab.tab-active.sub-tab[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-left:10px}html[dir=rtl][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.active.sub-tab[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.tab-active.sub-tab[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab.active.sub-tab[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab.tab-active.sub-tab[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.active.sub-tab[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.tab-active.sub-tab[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab.active.sub-tab[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab.tab-active.sub-tab[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:10px}html[dir=ltr][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.active.sub-tab[_ngcontent-%COMP%]:after, html[dir=ltr][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.tab-active.sub-tab[_ngcontent-%COMP%]:after, html[dir=ltr][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab.active.sub-tab[_ngcontent-%COMP%]:after, html[dir=ltr][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab.tab-active.sub-tab[_ngcontent-%COMP%]:after, html[dir=ltr]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.active.sub-tab[_ngcontent-%COMP%]:after, html[dir=ltr]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.tab-active.sub-tab[_ngcontent-%COMP%]:after, html[dir=ltr]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab.active.sub-tab[_ngcontent-%COMP%]:after, html[dir=ltr]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab.tab-active.sub-tab[_ngcontent-%COMP%]:after{border-left-color:#106458}html[dir=rtl][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.active.sub-tab[_ngcontent-%COMP%]:after, html[dir=rtl][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.tab-active.sub-tab[_ngcontent-%COMP%]:after, html[dir=rtl][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab.active.sub-tab[_ngcontent-%COMP%]:after, html[dir=rtl][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab.tab-active.sub-tab[_ngcontent-%COMP%]:after, html[dir=rtl]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.active.sub-tab[_ngcontent-%COMP%]:after, html[dir=rtl]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.tab-active.sub-tab[_ngcontent-%COMP%]:after, html[dir=rtl]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab.active.sub-tab[_ngcontent-%COMP%]:after, html[dir=rtl]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab.tab-active.sub-tab[_ngcontent-%COMP%]:after{border-right-color:#106458}.editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab-icon[_ngcontent-%COMP%], .editor-menu-mobile[_ngcontent-%COMP%]   .tab-icon[_ngcontent-%COMP%]{display:none}.editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.active[_ngcontent-%COMP%]   .tab-icon[_ngcontent-%COMP%], .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.tab-active[_ngcontent-%COMP%]   .tab-icon[_ngcontent-%COMP%], .editor-menu-mobile[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]   .tab-icon[_ngcontent-%COMP%], .editor-menu-mobile[_ngcontent-%COMP%]   .tab.tab-active[_ngcontent-%COMP%]   .tab-icon[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;padding-bottom:3px}html[dir=ltr][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.active[_ngcontent-%COMP%]   .tab-icon[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.tab-active[_ngcontent-%COMP%]   .tab-icon[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]   .tab-icon[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab.tab-active[_ngcontent-%COMP%]   .tab-icon[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.active[_ngcontent-%COMP%]   .tab-icon[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.tab-active[_ngcontent-%COMP%]   .tab-icon[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]   .tab-icon[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab.tab-active[_ngcontent-%COMP%]   .tab-icon[_ngcontent-%COMP%]{margin-right:5px}html[dir=rtl][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.active[_ngcontent-%COMP%]   .tab-icon[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.tab-active[_ngcontent-%COMP%]   .tab-icon[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]   .tab-icon[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab.tab-active[_ngcontent-%COMP%]   .tab-icon[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.active[_ngcontent-%COMP%]   .tab-icon[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.tab-active[_ngcontent-%COMP%]   .tab-icon[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]   .tab-icon[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .tab.tab-active[_ngcontent-%COMP%]   .tab-icon[_ngcontent-%COMP%]{margin-left:5px}.editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]{background-color:#262626;color:#a1a1a1}html[dir=ltr][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:after, html[dir=ltr]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:after{border-left-color:#262626}html[dir=rtl][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:after, html[dir=rtl]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:after{border-right-color:#262626}.editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab.active[_ngcontent-%COMP%]{color:#fff}@media (hover:hover){.editor-menu-mobile[_ngcontent-%COMP%]   .sub-tab[_ngcontent-%COMP%]:hover{color:#fff}}.editor-menu-mobile[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]{pointer-events:none;cursor:default}.editor-menu-mobile[_ngcontent-%COMP%]   .right-items[_ngcontent-%COMP%]{display:flex}html[dir=rtl][_ngcontent-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .right-items[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .editor-menu-mobile[_ngcontent-%COMP%]   .right-items[_ngcontent-%COMP%]{direction:rtl}.editor-menu-mobile[_ngcontent-%COMP%]   .right-items[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{align-self:flex-end}.editor-main[_ngcontent-%COMP%]{grid-area:editor-main;position:relative;display:grid;grid-template-columns:minmax(0,1fr);grid-template-rows:1fr 94px;grid-gap:0 0;gap:0 0;grid-template-areas:"editor-content" "editor-footer"}html[dir=rtl][_ngcontent-%COMP%]   .editor-main[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .editor-main[_ngcontent-%COMP%]{direction:rtl}@media only screen and (max-width:1455px){.editor-main[_ngcontent-%COMP%]{grid-template-rows:1fr 74px}}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){.editor-main[_ngcontent-%COMP%]{grid-template-rows:1fr 64px}}.editor-main.rules[_ngcontent-%COMP%]{overflow:hidden}.editor-main[_ngcontent-%COMP%]   router-outlet[_ngcontent-%COMP%]{grid-area:none}.editor-main[_ngcontent-%COMP%]   router-outlet[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{grid-area:editor-content}.editor-main[_ngcontent-%COMP%]   .editor-footer[_ngcontent-%COMP%]{z-index:20;grid-area:editor-footer;position:sticky;bottom:0;padding:0 25px}@media only screen and (max-width:767px){.editor-main[_ngcontent-%COMP%]   .editor-footer[_ngcontent-%COMP%]{padding:0 20px}}.tab-header-wrapper[_ngcontent-%COMP%]{display:flex;flex-grow:1;align-items:center;padding:0;background-color:#000c;cursor:pointer;border:none;overflow:hidden}html[dir=rtl][_ngcontent-%COMP%]   .tab-header-wrapper[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .tab-header-wrapper[_ngcontent-%COMP%]{direction:rtl}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){.tab-header-wrapper[_ngcontent-%COMP%]{background-color:#000}}.header-text[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;padding:0 10px;font-size:18px;text-transform:uppercase}html[dir=rtl][_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .header-text[_ngcontent-%COMP%]{direction:rtl}.tab-category[_ngcontent-%COMP%]{font-family:"Purista-Bold",var(--font-fallback);background-color:#fff;color:#000;word-break:normal;position:relative}html[dir=ltr][_ngcontent-%COMP%]   .tab-category[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .tab-category[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .tab-category[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .tab-category[_ngcontent-%COMP%]{margin-left:10px}.tab-category[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;bottom:0;width:10px;-webkit-clip-path:polygon(15% 0,0 0,0 100%,15% 100%,100% 50%);clip-path:polygon(15% 0,0 0,0 100%,15% 100%,100% 50%);background-color:#fff}html[dir=ltr][_ngcontent-%COMP%]   .tab-category[_ngcontent-%COMP%]:after, html[dir=ltr]   [_nghost-%COMP%]   .tab-category[_ngcontent-%COMP%]:after{right:-9.5px}html[dir=rtl][_ngcontent-%COMP%]   .tab-category[_ngcontent-%COMP%]:after, html[dir=rtl]   [_nghost-%COMP%]   .tab-category[_ngcontent-%COMP%]:after{left:-9.5px}html[dir=rtl][_ngcontent-%COMP%]   .tab-category[_ngcontent-%COMP%]:after, html[dir=rtl]   [_nghost-%COMP%]   .tab-category[_ngcontent-%COMP%]:after{-webkit-clip-path:polygon(85% 0,100% 0,100% 100%,85% 100%,0 50%);clip-path:polygon(85% 0,100% 0,100% 100%,85% 100%,0 50%)}.tab-label[_ngcontent-%COMP%]{font-family:"Purista-Semibold",var(--font-fallback);color:#fff;letter-spacing:1.2px}html[lang=ar][_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%], html[lang=ar]   [_nghost-%COMP%]   .tab-label[_ngcontent-%COMP%]{letter-spacing:0}.expand-icon[_ngcontent-%COMP%]{color:#787878;width:50px}html[dir=ltr][_ngcontent-%COMP%]   .expand-icon[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .expand-icon[_ngcontent-%COMP%]{margin-left:auto}html[dir=rtl][_ngcontent-%COMP%]   .expand-icon[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .expand-icon[_ngcontent-%COMP%]{margin-right:auto}']}),t})();class zV{constructor(t){this.dialog=t,this.override()}override(){Ug().alert=(t,e)=>{this.dialog.open(YN,{width:"512px",data:{body:t}}).afterClosed().subscribe(t=>{t&&e&&e()})},Ug().confirm=(t,e)=>{this.dialog.open(qN,{width:"512px",data:{body:t}}).afterClosed().subscribe(t=>{e(!!t)})}}}Sm.get("ToolboxManager");const WV=["SetVariable"],ZV=["GetVariable","IndexOfFirstTrue"],YV=(t,e)=>{const n=(new DOMParser).parseFromString(`<block type="${t}" />`,"text/xml").getElementsByTagName("block")[0];return e&&n.setAttribute("displayName",e),n},qV=t=>(new DOMParser).parseFromString(`<label text="${t}" />`,"text/xml").getElementsByTagName("label")[0];class JV{constructor(t,e){this.mainWorkspace=t,this.translateService=e}init(t){this.definitions=t,this.refreshToolbox()}getLocalizedCategory(t){return t=t.replace(" ","_").toUpperCase(),this.translateService.instant(`PYRITE_TOOLBOX_${t}`)}refreshToolbox(){this.mainWorkspace.updateToolbox(this.getToolbox()),this.mainWorkspace.getToolbox().refreshSelection()}getToolbox(){var t,e,n,i;const o=document.implementation.createDocument(null,"xml"),r=o.getElementsByTagName("xml")[0],s=()=>{const t=o.createElement("sep");r.appendChild(t)},a=[];null===(t=this.definitions)||void 0===t||t.values.filter(t=>!t.deprecated&&-1===ZV.indexOf(t.name)).forEach(t=>{var e;(null===(e=this.definitions)||void 0===e?void 0:e.selectionLists.find(e=>{var n,i;return e.returnType===(null===(i=null===(n=t.functionSignatures)||void 0===n?void 0:n[0])||void 0===i?void 0:i.returnType)}))&&a.push(t.name)});const l=o.createElement("category");l.setAttribute("name",this.getLocalizedCategory("RULES")),l.setAttribute("categorystyle","rules-category"),l.setAttribute("css-icon","toolbox-rules"),r.appendChild(l);const c=o.createElement("block");c.setAttribute("type","conditionBlock");const u=o.createElement("block");u.setAttribute("type","ruleBlock"),l.appendChild(u),l.appendChild(c),s();const h=null===(e=this.definitions)||void 0===e?void 0:e.actions.filter(t=>!t.deprecated&&-1===WV.indexOf(t.name)).reduce((t,e)=>{var n;const i=null!==(n=e.category)&&void 0!==n?n:"Other";return t[i]=t[i]||[],t[i].push(e),t},Object.create(null));h&&Object.keys(h).sort((t,e)=>t.localeCompare(e)).forEach(t=>{const e=h[t].sort((t,e)=>t.name.localeCompare(e.name)).sort((t,e)=>{var n,i;return(null!==(n=t.subCategory)&&void 0!==n?n:"").localeCompare(null!==(i=e.subCategory)&&void 0!==i?i:"")});if(e.length>0){const n=o.createElement("category");n.setAttribute("name",this.getLocalizedCategory(t)),n.setAttribute("categorystyle","actions-category"),n.setAttribute("css-icon",`toolbox-actions-${t.replace(" ","").toLowerCase()}`),r.appendChild(n);const i=[];e.forEach(t=>{if(t.subCategory&&!i.includes(t.subCategory)){i.push(t.subCategory);const e=o.createElement("label");e.setAttribute("text",this.getLocalizedCategory(t.subCategory)),n.appendChild(e)}const e=o.createElement("block");e.setAttribute("type",t.name),t.displayNameSID&&e.setAttribute("displayName",this.translateService.instant(t.displayNameSID)),n.appendChild(e)})}}),s();const d=null===(n=this.definitions)||void 0===n?void 0:n.values.filter(t=>!t.deprecated&&-1===ZV.indexOf(t.name)).reduce((t,e)=>{var n;const i=null!==(n=e.category)&&void 0!==n?n:"Other";return t[i]=t[i]||[],t[i].push(e),t},Object.create(null));if(d){const t=o.createElement("category");t.setAttribute("name",this.getLocalizedCategory("SELECTION_LISTS")),t.setAttribute("categorystyle","values-category"),t.setAttribute("css-icon","toolbox-values-selectionlists"),Object.keys(d).sort((t,e)=>t.localeCompare(e)).forEach(e=>{const n=d[e].sort((t,e)=>t.name.localeCompare(e.name)).sort((t,e)=>{var n,i;return(null!==(n=t.subCategory)&&void 0!==n?n:"").localeCompare(null!==(i=e.subCategory)&&void 0!==i?i:"")}),i=o.createElement("category");i.setAttribute("name",this.getLocalizedCategory(e)),i.setAttribute("categorystyle","values-category"),i.setAttribute("css-icon",`toolbox-values-${e.replace(" ","").toLowerCase()}`),r.appendChild(i);const s=[];switch(n.forEach(e=>{if(e.subCategory&&!s.includes(e.subCategory)){s.push(e.subCategory);const t=o.createElement("label");t.setAttribute("text",this.getLocalizedCategory(e.subCategory)),i.appendChild(t)}const n=o.createElement("block");n.setAttribute("type",e.name),e.displayNameSID&&n.setAttribute("displayName",this.translateService.instant(e.displayNameSID)),a.includes(e.name)?t.appendChild(n):i.appendChild(n)}),e){case"Arrays":const t=o.createElement("label");t.setAttribute("text",this.getLocalizedCategory("CONVENIENCE")),i.appendChild(t),i.appendChild(YV("ArrayContains",this.translateService.instant("PYRITE_CONVENIENCE_ARRAYCONTAINS"))),i.appendChild(YV("IndexOfArrayValue",this.translateService.instant("PYRITE_CONVENIENCE_INDEXOFARRAYVALUE"))),i.appendChild(YV("RemoveFromArray",this.translateService.instant("PYRITE_CONVENIENCE_REMOVEFROMARRAY")))}0===i.childNodes.length&&i.remove()}),r.appendChild(t)}const p=o.createElement("category");p.setAttribute("name",this.getLocalizedCategory("LITERALS")),p.setAttribute("categorystyle","values-category"),p.setAttribute("css-icon","toolbox-values-literals");const g=YV("Number");g.appendChild((new DOMParser).parseFromString('<field name="NUM">123</field>',"text/xml").getElementsByTagName("field")[0]),p.appendChild(qV(this.getLocalizedCategory("TEXT"))),p.appendChild(YV("Text")),p.appendChild(qV(this.getLocalizedCategory("NUMBER"))),p.appendChild(g),p.appendChild(qV(this.getLocalizedCategory("BOOLEAN"))),p.appendChild(YV("Boolean")),r.appendChild(p),s();const m=o.createElement("category");m.setAttribute("name",this.getLocalizedCategory("VARIABLES")),m.setAttribute("categorystyle","values-category"),m.setAttribute("css-icon","toolbox-variables"),m.setAttribute("custom","CUSTOM_VARIABLE_FLYOUT"),r.appendChild(m);const f=o.createElement("category");f.setAttribute("name",this.getLocalizedCategory("SUBROUTINES")),f.setAttribute("categorystyle","subroutines-category"),f.setAttribute("css-icon","toolbox-subroutines"),f.setAttribute("custom","CUSTOM_SUBROUTINE_FLYOUT"),r.appendChild(f);const _=o.createElement("category");return _.setAttribute("name",this.getLocalizedCategory("CONTROL_ACTIONS")),_.setAttribute("categorystyle","controls-category"),_.setAttribute("css-icon","toolbox-controlactions"),null===(i=this.definitions)||void 0===i||i.controlActions.filter(t=>!t.deprecated).forEach(t=>{const e=o.createElement("block");e.setAttribute("type",t.name),_.appendChild(e)}),r.appendChild(_),(new XMLSerializer).serializeToString(o)}}class $V{constructor(t){this.workspace=t,this.htmlDiv=null,this.searchContainerElement=null,this.inputElement=null,this.textInputPlaceholder=nF("PYRITE_SEARCH_PLACEHOLDER"),this.blocks=[],this.currentBlockIndex=-1,this.searchText="",this.searchOnInput=!0,this.caseSensitive=!1,this.preserveSelected=!0,this.boundEvents=[],this.searchActive=!1}init(){this.createDom()}dispose(){for(const t of this.boundEvents)Fg.unbindEvent_(t);this.boundEvents=[],this.htmlDiv&&(this.htmlDiv.remove(),this.htmlDiv=null),this.searchContainerElement=null,this.inputElement=null}createDom(){const t=this.workspace.getInjectionDiv();this.htmlDiv=document.createElement("div"),Fg.utils.dom.addClass(this.htmlDiv,"ws-search-container-parent"),this.searchContainerElement=document.createElement("div"),Fg.utils.dom.addClass(this.searchContainerElement,"ws-search-container"),this.inputElement=this.createTextInput(),Fg.utils.dom.addClass(this.inputElement,"ws-search-input"),this.addEvent(this.inputElement,"keydown",this,t=>this.onKeyDown(t)),this.addEvent(this.inputElement,"input",this,()=>this.onInput()),this.addEvent(this.inputElement,"click",this,()=>this.searchAndHighlight(this.searchText,this.preserveSelected));const e=document.createElement("a");Fg.utils.dom.addClass(e,"ws-search-button"),this.addEvent(e,"click",this,()=>this.serachClick());const n=document.createElement("i");Fg.utils.dom.addClass(n,"ws-search-icon"),e.appendChild(n),this.searchContainerElement.appendChild(this.inputElement),this.searchContainerElement.appendChild(e),this.htmlDiv.appendChild(this.searchContainerElement),t.insertBefore(this.htmlDiv,this.workspace.getParentSvg())}addEvent(t,e,n,i){const o=Fg.bindEventWithChecks_(t,e,n,i);this.boundEvents.push(o)}createTextInput(){const t=document.createElement("input");return t.type="search",t.setAttribute("placeholder",this.textInputPlaceholder),t}onInput(){if(this.searchOnInput&&this.inputElement){const t=this.inputElement.value.trim();t!==this.searchText&&this.searchAndHighlight(t,this.preserveSelected)}}onKeyDown(t){if("Enter"===t.key)if(this.searchOnInput)this.next();else if(this.inputElement){const t=this.inputElement.value.trim();t!==this.searchText&&this.searchAndHighlight(t,this.preserveSelected)}}serachClick(){this.searchActive?this.closeSearch():this.openSearch()}closeSearch(){this.workspace.markFocused(),this.clearBlocks(),this.searchContainerElement&&Fg.utils.dom.removeClass(this.searchContainerElement,"ws-search-container-active"),this.inputElement&&Fg.utils.dom.removeClass(this.inputElement,"ws-search-input-active"),this.searchActive=!1}openSearch(){var t;null===(t=this.inputElement)||void 0===t||t.focus(),this.searchText&&this.searchAndHighlight(this.searchText,!0),this.searchContainerElement&&Fg.utils.dom.addClass(this.searchContainerElement,"ws-search-container-active"),this.inputElement&&Fg.utils.dom.addClass(this.inputElement,"ws-search-input-active"),this.searchActive=!0}previous(){this.setCurrentBlock(this.currentBlockIndex-1)}next(){this.setCurrentBlock(this.currentBlockIndex+1)}setCurrentBlock(t){if(!this.blocks.length)return;let e=this.blocks[this.currentBlockIndex];e&&this.unhighlightCurrentSelection(e),this.currentBlockIndex=(t%this.blocks.length+this.blocks.length)%this.blocks.length,e=this.blocks[this.currentBlockIndex],this.highlightCurrentSelection(e),this.scrollToVisible(e)}searchAndHighlight(t,e){const n=this.blocks[this.currentBlockIndex];this.searchText=t.trim(),this.clearBlocks(),this.blocks=this.getMatchingBlocks(this.workspace,this.searchText,this.caseSensitive),this.highlightSearchGroup(this.blocks);let i=0;e&&(i=this.blocks.indexOf(n),i=i>-1?i:0),this.setCurrentBlock(i)}getSearchPool(t){return t.getAllBlocks(!0).filter(t=>{const e=t.getSurroundParent();return!e||!e.isCollapsed()})}isBlockMatch(t,e,n){let i="";if(t.isCollapsed())i=t.toString();else{const e=[];t.inputList.forEach(t=>{t.fieldRow.forEach(t=>{e.push(t.getText())})}),i=e.join(" ").trim()}return n||(i=i.toLowerCase()),i.indexOf(e)>-1}getMatchingBlocks(t,e,n){return e?(this.caseSensitive||(e=e.toLowerCase()),this.getSearchPool(t).filter(t=>this.isBlockMatch(t,e,n))):[]}clearBlocks(){this.unhighlightSearchGroup(this.blocks);const t=this.blocks[this.currentBlockIndex];t&&this.unhighlightCurrentSelection(t),this.currentBlockIndex=-1,this.blocks=[]}highlightCurrentSelection(t){Fg.utils.dom.addClass(t.pathObject.svgPath,"blocklyWsSearchCurrent")}unhighlightCurrentSelection(t){Fg.utils.dom.removeClass(t.pathObject.svgPath,"blocklyWsSearchCurrent")}highlightSearchGroup(t){t.forEach(t=>{Fg.utils.dom.addClass(t.pathObject.svgPath,"blocklyWsSearchHighlight")})}unhighlightSearchGroup(t){t.forEach(t=>{Fg.utils.dom.removeClass(t.pathObject.svgPath,"blocklyWsSearchHighlight")})}scrollToVisible(t){if(!this.workspace.isMovable())return;const e=t.getRelativeToSurfaceXY(),n=this.workspace.scale,i=t.width*n,o=t.height*n,r=e.y*n,s=(e.y+t.height)*n,a=this.workspace.RTL?e.x*n-i:e.x*n,l=this.workspace.RTL?e.x*n:e.x*n+i,c=this.workspace.getMetrics();let u=c.viewLeft;const h=i>c.viewWidth;!h&&a<c.viewLeft||h&&!this.workspace.RTL?u=a:(!h&&l>c.viewLeft+c.viewWidth||h&&this.workspace.RTL)&&(u=l-c.viewWidth);let d=c.viewTop;const p=s>c.viewTop+c.viewHeight;if(r<c.viewTop||o>c.viewHeight&&p?d=r:p&&(d=s-c.viewHeight),u!==c.viewLeft||d!==c.viewTop){const t=document.activeElement;this.workspace.scroll(-u,-d),t&&t.focus()}}}const KV="^[a-zA-Z0-9_]*$";function XV(t,e){1&t&&(i.TgZ(0,"p",11),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"rules.subroutines.name-requirements")," "))}function QV(t,e){1&t&&(i.TgZ(0,"p",11),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"rules.subroutines.already-exists")," "))}class tG{isErrorState(t,e){var n;return!!(t&&t.invalid&&(t.dirty||t.touched||(null==e?void 0:e.submitted))||(null===(n=null==e?void 0:e.errors)||void 0===n?void 0:n.existing))}}let eG=(()=>{class t{constructor(t,e,n,i){var o;this.translateService=t,this.dialogRef=e,this.data=n,this.formBuilder=i,this.title$=this.translateService.get(this.data.isCreate?"rules.subroutines.create-subroutine":"rules.subroutines.rename-subroutine"),this.submitText$=this.translateService.get(this.data.isCreate?"generic.create":"generic.ok"),this.form=this.formBuilder.group({name:[this.data.name,[Nr.required,Nr.pattern(KV),(o=this.data.createdSubroutines,t=>0===o.length||-1===o.indexOf(t.value)?null:{existing:!0})]],oldName:this.data.oldName},{}),this.nameFormControl=this.form.get("name"),this.nameErrorMatcher=new tG}onCancel(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Bp),i.Y36(tT),i.Y36(nT),i.Y36(ta))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-blockly-create-rename-subroutine-dialog"]],decls:20,vars:18,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup"],[1,"input-wrapper"],["for","subroutine-name"],["id","subroutine-name","type","text","matInput","","cdkFocusInitial","","formControlName","name","autocomplete","off","required","",3,"errorStateMatcher"],["type","hidden","formControlName","oldName"],["class","error",4,"ngIf"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","color","primary",3,"mat-dialog-close","disabled"],[1,"error"]],template:function(t,e){1&t&&(i.TgZ(0,"h1",0),i._uU(1),i.ALo(2,"async"),i.qZA(),i.TgZ(3,"div",1),i.TgZ(4,"form",2),i.TgZ(5,"div",3),i.TgZ(6,"label",4),i._uU(7),i.ALo(8,"translate"),i.qZA(),i._UZ(9,"input",5),i._UZ(10,"input",6),i.YNc(11,XV,3,3,"p",7),i.YNc(12,QV,3,3,"p",7),i.qZA(),i.qZA(),i.qZA(),i.TgZ(13,"div",8),i.TgZ(14,"button",9),i.NdJ("click",function(){return e.onCancel()}),i._uU(15),i.ALo(16,"translate"),i.qZA(),i.TgZ(17,"button",10),i._uU(18),i.ALo(19,"async"),i.qZA(),i.qZA()),2&t&&(i.xp6(1),i.Oqu(i.lcZ(2,10,e.title$)),i.xp6(3),i.Q6J("formGroup",e.form),i.xp6(3),i.Oqu(i.lcZ(8,12,"label.name")),i.xp6(2),i.Q6J("errorStateMatcher",e.nameErrorMatcher),i.xp6(2),i.Q6J("ngIf",e.nameFormControl.hasError("pattern")),i.xp6(1),i.Q6J("ngIf",e.form.hasError("existing")),i.xp6(3),i.Oqu(i.lcZ(16,14,"generic.cancel")),i.xp6(2),i.Q6J("mat-dialog-close",e.form.value)("disabled",e.form.invalid),i.xp6(1),i.hij(" ",i.lcZ(19,16,e.submitText$)," "))},directives:[uT,hT,Ls,ns,Gs,vC,kr,es,qs,$s,R,dT,rb,cT],pipes:[Z,Fp],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}.mat-dialog-content[_ngcontent-%COMP%]{margin-bottom:16px}.mat-dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column}html[dir=rtl][_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{direction:rtl}.mat-dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;color:#b4b4b4;font-family:"Purista-Semibold",var(--font-fallback);line-height:22px;font-size:18px;letter-spacing:.03em;margin-bottom:12px}html[lang=ar][_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], html[lang=ar]   [_nghost-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{letter-spacing:0}.mat-dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-family:"Purista-Semibold",var(--font-fallback);font-size:16px;border:1px solid #d8d8d8;background-color:#121212;color:#fff;width:100%;height:38px;padding:3px 5px;text-align:left}.mat-dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[type=text].ng-dirty.ng-invalid[_ngcontent-%COMP%]{border-color:#f33;caret-color:#f33}.mat-dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   p.error[_ngcontent-%COMP%]{font-family:"BFText-Bold",var(--font-fallback);color:#f33;font-size:16px;line-height:18px;margin:6px 0 0}']}),t})();function nG(t,e){1&t&&(i.TgZ(0,"mat-error"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"rules.variables.name-requirements")," "))}function iG(t,e){1&t&&(i.TgZ(0,"mat-error"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"rules.variables.already-exists")," "))}class oG{isErrorState(t,e){var n;return!!(t&&t.invalid&&(t.dirty||t.touched||(null==e?void 0:e.submitted))||(null===(n=null==e?void 0:e.errors)||void 0===n?void 0:n.existing))}}let rG=(()=>{class t{constructor(t,e,n){var i;this.dialogRef=t,this.data=e,this.formBuilder=n,this.form=this.formBuilder.group({name:[this.data.name,[Nr.required,Nr.pattern(KV)]],type:this.data.type,variableId:this.data.variableId},{validator:(i=this.data.workspace,t=>{var e,n;return i.getVariable((null===(e=t.get("name"))||void 0===e?void 0:e.value)||"",(null===(n=t.get("type"))||void 0===n?void 0:n.value)||"")?{existing:!0}:null})}),this.nameFormControl=this.form.get("name"),this.nameTypeErrorMatcher=new oG}onCancel(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(tT),i.Y36(nT),i.Y36(ta))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-blockly-rename-variable-dialog"]],decls:21,vars:18,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup"],["appearance","fill"],["matInput","","cdkFocusInitial","","formControlName","name","autocomplete","off","required","",3,"errorStateMatcher"],["type","hidden","formControlName","type"],["type","hidden","formControlName","variableId"],[4,"ngIf"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","",3,"mat-dialog-close","disabled"]],template:function(t,e){1&t&&(i.TgZ(0,"h1",0),i._uU(1),i.ALo(2,"translate"),i.qZA(),i.TgZ(3,"div",1),i.TgZ(4,"form",2),i.TgZ(5,"mat-form-field",3),i.TgZ(6,"mat-label"),i._uU(7),i.ALo(8,"translate"),i.qZA(),i._UZ(9,"input",4),i._UZ(10,"input",5),i._UZ(11,"input",6),i.YNc(12,nG,3,3,"mat-error",7),i.YNc(13,iG,3,3,"mat-error",7),i.qZA(),i.qZA(),i.qZA(),i.TgZ(14,"div",8),i.TgZ(15,"button",9),i.NdJ("click",function(){return e.onCancel()}),i._uU(16),i.ALo(17,"translate"),i.qZA(),i.TgZ(18,"button",10),i._uU(19),i.ALo(20,"translate"),i.qZA(),i.qZA()),2&t&&(i.xp6(1),i.Oqu(i.lcZ(2,10,"rules.variables.rename-title")),i.xp6(3),i.Q6J("formGroup",e.form),i.xp6(3),i.Oqu(i.lcZ(8,12,"label.name")),i.xp6(2),i.Q6J("errorStateMatcher",e.nameTypeErrorMatcher),i.xp6(3),i.Q6J("ngIf",e.nameFormControl.hasError("pattern")),i.xp6(1),i.Q6J("ngIf",e.form.hasError("existing")),i.xp6(3),i.Oqu(i.lcZ(17,14,"generic.cancel")),i.xp6(2),i.Q6J("mat-dialog-close",e.form.value)("disabled",e.form.invalid),i.xp6(1),i.hij(" ",i.lcZ(20,16,"generic.ok")," "))},directives:[uT,hT,Ls,ns,Gs,cC,Qy,vC,kr,es,qs,$s,R,dT,rb,cT,Jy],pipes:[Fp],styles:[".mat-dialog-content[_ngcontent-%COMP%]{margin-bottom:16px}.mat-dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column}html[dir=rtl][_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{direction:rtl}.mat-dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{margin-bottom:8px}"]}),t})();function sG(t,e){1&t&&(i.TgZ(0,"p",13),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"rules.variables.name-requirements")," "))}function aG(t,e){if(1&t&&(i.TgZ(0,"mat-option",14),i._uU(1),i.qZA()),2&t){const t=e.$implicit;i.Q6J("value",t[1]),i.xp6(1),i.Oqu(t[0])}}function lG(t,e){1&t&&(i.TgZ(0,"p",13),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"rules.variables.already-exists")," "))}function cG(t,e){1&t&&(i.TgZ(0,"p",13),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"rules.variables.too-many")," "))}class uG{isErrorState(t,e){var n;return!!(t&&t.invalid&&(t.dirty||t.touched||(null==e?void 0:e.submitted))||(null===(n=null==e?void 0:e.errors)||void 0===n?void 0:n.existing))}}let hG=(()=>{class t{constructor(t,e,n){var i,o,r;this.dialogRef=t,this.data=e,this.formBuilder=n,this.form=this.formBuilder.group({name:["",[Nr.required,Nr.pattern(KV)]],type:[null!==(i=this.data.types[0][1])&&void 0!==i?i:"",[Nr.required]]},{validator:(o=this.data.workspace,r=this.data.variablesManager,t=>{var e,n;if(!r)return{missingManager:!0};const i=(null===(e=t.get("name"))||void 0===e?void 0:e.value)||"",s=(null===(n=t.get("type"))||void 0===n?void 0:n.value)||"";return r.canCreateVariableOfType(s)?o.getVariable(i,s)?{existing:!0}:null:{tooManyOfType:!0}})}),this.nameFormControl=this.form.get("name"),this.nameTypeErrorMatcher=new uG}onCancel(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(tT),i.Y36(nT),i.Y36(ta))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-blockly-create-variable-dialog"]],decls:26,vars:24,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup"],[1,"input-wrapper"],["for","variable-name"],["id","variable-name","type","text","matInput","","cdkFocusInitial","","formControlName","name","autocomplete","off","required","",3,"errorStateMatcher"],["class","error",4,"ngIf"],["for","variable-type"],["id","variable-type","formControlName","type","required","",3,"errorStateMatcher"],[3,"value",4,"ngFor","ngForOf"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","color","primary",3,"mat-dialog-close","disabled"],[1,"error"],[3,"value"]],template:function(t,e){1&t&&(i.TgZ(0,"h1",0),i._uU(1),i.ALo(2,"translate"),i.qZA(),i.TgZ(3,"div",1),i.TgZ(4,"form",2),i.TgZ(5,"div",3),i.TgZ(6,"label",4),i._uU(7),i.ALo(8,"translate"),i.qZA(),i._UZ(9,"input",5),i.YNc(10,sG,3,3,"p",6),i.qZA(),i.TgZ(11,"div",3),i.TgZ(12,"label",7),i._uU(13),i.ALo(14,"translate"),i.qZA(),i.TgZ(15,"mat-select",8),i.YNc(16,aG,2,2,"mat-option",9),i.qZA(),i.YNc(17,lG,3,3,"p",6),i.YNc(18,cG,3,3,"p",6),i.qZA(),i.qZA(),i.qZA(),i.TgZ(19,"div",10),i.TgZ(20,"button",11),i.NdJ("click",function(){return e.onCancel()}),i._uU(21),i.ALo(22,"translate"),i.qZA(),i.TgZ(23,"button",12),i._uU(24),i.ALo(25,"translate"),i.qZA(),i.qZA()),2&t&&(i.xp6(1),i.Oqu(i.lcZ(2,14,"rules.variables.create-title")),i.xp6(3),i.Q6J("formGroup",e.form),i.xp6(3),i.Oqu(i.lcZ(8,16,"label.name")),i.xp6(2),i.Q6J("errorStateMatcher",e.nameTypeErrorMatcher),i.xp6(1),i.Q6J("ngIf",e.nameFormControl.hasError("pattern")),i.xp6(3),i.Oqu(i.lcZ(14,18,"label.type")),i.xp6(2),i.Q6J("errorStateMatcher",e.nameTypeErrorMatcher),i.xp6(1),i.Q6J("ngForOf",e.data.types),i.xp6(1),i.Q6J("ngIf",e.form.hasError("existing")),i.xp6(1),i.Q6J("ngIf",e.form.hasError("tooManyOfType")),i.xp6(3),i.Oqu(i.lcZ(22,20,"generic.cancel")),i.xp6(2),i.Q6J("mat-dialog-close",e.form.value)("disabled",e.form.invalid),i.xp6(1),i.hij(" ",i.lcZ(25,22,"generic.create")," "))},directives:[uT,hT,Ls,ns,Gs,vC,kr,es,qs,$s,R,jC,I,dT,rb,cT,J_],pipes:[Fp],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}.mat-dialog-content[_ngcontent-%COMP%]{margin-bottom:16px}.mat-dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column}html[dir=rtl][_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{direction:rtl}.mat-dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{margin-bottom:8px}.mat-dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]:last-child{margin-bottom:0}.mat-dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;color:#b4b4b4;font-family:"Purista-Semibold",var(--font-fallback);line-height:22px;font-size:18px;letter-spacing:.03em;margin-bottom:12px}html[lang=ar][_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], html[lang=ar]   [_nghost-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{letter-spacing:0}.mat-dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{font-family:"Purista-Semibold",var(--font-fallback);font-size:16px;border:1px solid #d8d8d8;background-color:#121212;color:#fff;width:100%;height:38px;padding:3px 5px;text-align:left}.mat-dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[type=text].ng-dirty.ng-invalid[_ngcontent-%COMP%]{border-color:#f33;caret-color:#f33}.mat-dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   p.error[_ngcontent-%COMP%]{font-family:"BFText-Bold",var(--font-fallback);color:#f33;font-size:16px;line-height:18px;margin:6px 0 0}']}),t})();function dG(t,e){}const pG=function(t,e){return{nr:t,max:e}},gG=function(t){return{type:t}};function mG(t,e){if(1&t&&(i.TgZ(0,"div"),i.TgZ(1,"h2"),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.YNc(4,dG,0,0,"ng-template",8),i.qZA()),2&t){const t=e.$implicit,n=i.oxw(),o=i.MAs(19);i.xp6(2),i.hij(" ",i.xi3(3,3,"rules.variables.global-header",i.WLB(6,pG,n.currentGlobalVariables,n.maxGlobalVariables))," "),i.xp6(2),i.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",i.VKq(9,gG,t))}}function fG(t,e){}function _G(t,e){if(1&t&&(i.TgZ(0,"div"),i.TgZ(1,"h3"),i._uU(2),i.qZA(),i.YNc(3,fG,0,0,"ng-template",8),i.qZA()),2&t){const t=e.$implicit;i.oxw();const n=i.MAs(19);i.xp6(2),i.Oqu(t[0]),i.xp6(1),i.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",i.VKq(3,gG,t))}}function bG(t,e){1&t&&(i.TgZ(0,"mat-list-item",10),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"rules.variables.no-variables")," "))}function vG(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"mat-list-item"),i.TgZ(1,"button",11),i.NdJ("click",function(){const e=i.CHM(t).$implicit;return i.oxw(2).onDeleteVariable(e.getId())}),i._UZ(2,"mat-icon",12),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA(),i.TgZ(5,"button",13),i.NdJ("click",function(){const e=i.CHM(t).$implicit;return i.oxw(2).onRenameVariable(e.getId())}),i._UZ(6,"mat-icon",14),i.qZA(),i.qZA()}if(2&t){const t=e.$implicit;i.xp6(4),i.Oqu(t.name)}}function yG(t,e){if(1&t&&(i.TgZ(0,"mat-list"),i.YNc(1,bG,3,3,"mat-list-item",9),i.YNc(2,vG,7,1,"mat-list-item",3),i.qZA()),2&t){const t=e.type,n=i.oxw();i.xp6(1),i.Q6J("ngIf",0===n.variables[t[1]].length),i.xp6(1),i.Q6J("ngForOf",n.variables[t[1]])}}const CG=Sm.get("dialog","variables");let OG=(()=>{class t{constructor(t,e,n,i){this.translateService=t,this.dialog=e,this.dialogRef=n,this.data=i,this.variables={},this.maxGlobalVariables=0,this.maxObjectVariables=0,this.currentGlobalVariables=0,this.currentObjectVariables=0,this.data.variablesManager?(this.maxGlobalVariables=this.data.variablesManager.maxGlobalVariables,this.maxObjectVariables=this.data.variablesManager.maxObjectVariables):CG.error("Missing Variables Manager"),this.updateVariables()}updateVariables(){this.data.types.forEach(t=>{const e=this.data.workspace.getVariablesOfType(t[1]);this.variables[t[1]]=e}),this.data.variablesManager?(this.currentGlobalVariables=this.data.variablesManager.getGlobalVariableCount(),this.currentObjectVariables=this.data.variablesManager.getObjectVariableCount()):CG.error("Missing Variables Manager while updating variables")}onClose(){this.dialogRef.close()}onCreateVariable(){this.dialog.open(hG,{width:"512px",data:{workspace:this.data.workspace,variablesManager:this.data.variablesManager,types:this.data.types}}).afterClosed().subscribe(t=>{t&&(this.data.workspace.createVariable(t.name,t.type),this.updateVariables())})}onDeleteVariable(t){var e;const n=this.data.workspace.getVariableById(t),i=null!==(e=this.data.workspace.getVariableUsesById(t))&&void 0!==e?e:[];if(n){const t=()=>{this.data.workspace.getVariableMap().deleteVariableInternal(n,i),this.data.workspace.getToolbox().refreshSelection(),this.updateVariables()};i.length>0?this.dialog.open(qN,{width:"512px",data:{title$:this.translateService.get("rules.variables.delete-variable"),body$:this.translateService.get("rules.variables.delete-variable-body",{nr:i.length,name:n.name})}}).afterClosed().subscribe(e=>{e&&t()}):t()}}onRenameVariable(t){const e=this.data.workspace.getVariableById(t);this.data.workspace.getVariableUsesById(t),e&&this.dialog.open(rG,{width:"512px",data:{workspace:this.data.workspace,name:e.name,type:e.type,variableId:e.getId()}}).afterClosed().subscribe(t=>{var e;t&&(null===(e=this.data.workspace)||void 0===e||e.renameVariableById(t.variableId,t.name),this.data.workspace.getToolbox().refreshSelection(),this.updateVariables())})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Bp),i.Y36(aT),i.Y36(tT),i.Y36(nT))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-blockly-variables-dialog"]],decls:20,vars:18,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"column"],[4,"ngFor","ngForOf"],["mat-dialog-actions",""],["type","button","mat-button","","cdkFocusInitial","",3,"click"],["mat-button","","color","primary",3,"click"],["variableList",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","no-variables",4,"ngIf"],[1,"no-variables"],["mat-icon-button","",1,"delete",3,"click"],["svgIcon","remove_circle_outline"],["mat-icon-button","",1,"rename",3,"click"],["svgIcon","edit"]],template:function(t,e){1&t&&(i.TgZ(0,"h1",0),i._uU(1),i.ALo(2,"translate"),i.qZA(),i.TgZ(3,"div",1),i.TgZ(4,"div",2),i.YNc(5,mG,5,11,"div",3),i.qZA(),i.TgZ(6,"div",2),i.TgZ(7,"h2"),i._uU(8),i.ALo(9,"translate"),i.qZA(),i.YNc(10,_G,4,5,"div",3),i.qZA(),i.qZA(),i.TgZ(11,"div",4),i.TgZ(12,"button",5),i.NdJ("click",function(){return e.onClose()}),i._uU(13),i.ALo(14,"translate"),i.qZA(),i.TgZ(15,"button",6),i.NdJ("click",function(){return e.onCreateVariable()}),i._uU(16),i.ALo(17,"translate"),i.qZA(),i.qZA(),i.YNc(18,yG,3,2,"ng-template",null,7,i.W1O)),2&t&&(i.xp6(1),i.Oqu(i.lcZ(2,6,"rules.variables.header")),i.xp6(4),i.Q6J("ngForOf",e.data.types.slice(0,1)),i.xp6(3),i.hij(" ",i.xi3(9,8,"rules.variables.object-header",i.WLB(15,pG,e.currentObjectVariables,e.maxObjectVariables))," "),i.xp6(2),i.Q6J("ngForOf",e.data.types.slice(1)),i.xp6(3),i.Oqu(i.lcZ(14,11,"generic.close")),i.xp6(3),i.hij(" ",i.lcZ(17,13,"rules.variables.new-variable")," "))},directives:[uT,hT,I,dT,rb,G,Ey,R,My,eE],pipes:[Fp],styles:["[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}.mat-dialog-content[_ngcontent-%COMP%]{margin-bottom:16px;display:flex;flex-direction:row}html[dir=rtl][_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]{direction:rtl}.mat-dialog-content[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]{flex:1}.mat-dialog-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 10px}.mat-dialog-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#eaeaea}.mat-dialog-content[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]{padding-top:0;margin-bottom:8px}.mat-dialog-content[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .no-variables[_ngcontent-%COMP%]{color:#a2a2a2}html[dir=ltr][_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .no-variables[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .no-variables[_ngcontent-%COMP%]{padding-left:10px}html[dir=rtl][_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .no-variables[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .no-variables[_ngcontent-%COMP%]{padding-right:10px}.mat-dialog-content[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{height:38px}.mat-dialog-content[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]     .mat-list-item-content{padding:0}.mat-dialog-content[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{opacity:.5}@media (hover:hover){.mat-dialog-content[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}}.mat-dialog-content[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   button.rename[_ngcontent-%COMP%]{width:30px;height:30px;line-height:29px}.mat-dialog-content[_ngcontent-%COMP%]   .mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   button.rename[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:18px;height:18px;line-height:18px}"]}),t})();var TG,EG=n(1645),SG=new Uint8Array(16);function wG(){if(!TG&&!(TG="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return TG(SG)}const MG=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,xG=function(t){return"string"==typeof t&&MG.test(t)};for(var PG=[],kG=0;kG<256;++kG)PG.push((kG+256).toString(16).substr(1));const IG=function(t,e,n){var i=(t=t||{}).random||(t.rng||wG)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=i[o];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(PG[t[e+0]]+PG[t[e+1]]+PG[t[e+2]]+PG[t[e+3]]+"-"+PG[t[e+4]]+PG[t[e+5]]+"-"+PG[t[e+6]]+PG[t[e+7]]+"-"+PG[t[e+8]]+PG[t[e+9]]+"-"+PG[t[e+10]]+PG[t[e+11]]+PG[t[e+12]]+PG[t[e+13]]+PG[t[e+14]]+PG[t[e+15]]).toLowerCase();if(!xG(n))throw TypeError("Stringified UUID is invalid");return n}(i)};class AG extends Fg.Toolbox{constructor(t){super(t),this.SEARCHBAR_CLASS="searchbar",this.TOOLBAR_CLASS="toolbar",this.input=null,this.categoryId=IG(),this.categoryExpandedCache=new Map,t.addChangeListener(this.onWorkspaceChange.bind(this))}init(){super.init(),this.initSearchbar()}render(t){if(0===t.contents.length||t.contents[0].toolboxitemid!==this.categoryId){const e=nF("PYRITE_TOOLBOX_SEARCH"),n=Fg.utils.toolbox.convertToolboxDefToJson('<xml><category css-icon="search" colour="#004444" expanded="false" name="'+e+'" hidden="true" toolboxitemid="'+this.categoryId+'"></category></xml>');t.contents=[n.contents[0]].concat(t.contents)}super.render(t),this.restoreExpandedState()}clearSearch(){this.clearSearchResult(),this.input&&(this.input.value="")}initSearchbar(){this.input=document.createElement("input"),this.input.placeholder=nF("PYRITE_SEARCH_PLACEHOLDER"),this.input.className=this.SEARCHBAR_CLASS,this.input.size=2,this.input.type="search",this.input.addEventListener("keyup",this.search.bind(this)),this.input.addEventListener("search",this.search.bind(this));const t=document.createElement("div");t.className=this.SEARCHBAR_CLASS+"div";const e=document.createElement("span");e.className=this.SEARCHBAR_CLASS+"span",e.appendChild(this.input),t.appendChild(e);const n=this.HtmlDiv.firstChild;n&&(n.classList.add(this.TOOLBAR_CLASS),this.HtmlDiv.insertBefore(t,this.HtmlDiv.firstChild))}search(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>{const e=t.target.value.trim();if(e.length>0){const t=this.recursiveSearch(e,this.toolboxDef_);if(t.length>0){const e=this.getToolboxItemById(this.categoryId);e.updateFlyoutContents(t),e.show(),this.setSelectedItem(e)}else this.clearSearchResult()}else this.clearSearchResult()},100)}getTargets(t){let e=[];if(void 0!==t){const n=t;if(n&&n.contents&&Array.isArray(n.contents)){if(n.toolboxitemid&&n.toolboxitemid===this.categoryId)return e;for(const t of n.contents)if("object"==typeof t&&t.kind)if("BLOCK"===t.kind){const n=t;if(!n.type)continue;e.push(n)}else if("CATEGORY"===t.kind){const n=this.getTargets(t);e=[...e,...n]}}}return e}recursiveSearch(t,e){const n=this.getTargets(e);return EG.go(t,n,{key:"displayName",threshold:-5e3}).map(t=>t.obj)}clearSearchResult(){const t=this.workspace_.getFlyout();t&&t.hide();const e=this.getToolboxItemById(this.categoryId);e&&e.hide()}storeExpandedState(){this.getToolboxItems().forEach(t=>{if(t instanceof Fg.CollapsibleToolboxCategory){const e=t;void 0!==e&&e.getId()!==this.categoryId&&this.categoryExpandedCache.set(t.getId(),!!e.isExpanded())}})}restoreExpandedState(){this.categoryExpandedCache.forEach((t,e)=>{const n=this.getToolboxItemById(e);if(n instanceof Fg.CollapsibleToolboxCategory){const e=n;e&&"function"==typeof e.setExpanded&&e.setExpanded(t)}})}onWorkspaceChange(t){t.type===Fg.Events.TOOLBOX_ITEM_SELECT&&this.storeExpandedState()}compare(t,e){if("string"==typeof t&&"string"==typeof e&&(t=this.prepareString(t),e=this.prepareString(e),t.length>0&&e.length>0)){const n=t.split("_"),i=e.split("_");for(const t of n)for(const e of i)if(e.startsWith(t))return!0}return!1}prepareString(t){return t=(t=this.breakUpCamelCase(t)).toLowerCase().trim(),this.replaceWhitespaceWithUnderscore(t)}breakUpCamelCase(t){return t.replace(/([A-Z])/g," $1")}replaceWhitespaceWithUnderscore(t){return t.replace(/\s+/g,"_")}}function RG(t,e){1&t&&(i.TgZ(0,"p"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"editor.mode.game-size-generation-warning")," "))}function DG(t,e){1&t&&(i.TgZ(0,"p"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"editor.mode.conquest-generation-warning")," "))}function LG(t,e){1&t&&(i.TgZ(0,"p"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"editor.mode.large-maps-warning")," "))}function NG(t,e){if(1&t&&(i.TgZ(0,"div",3),i.TgZ(1,"div",4),i._UZ(2,"mat-icon",5),i.qZA(),i.TgZ(3,"div",6),i.YNc(4,RG,3,3,"p",7),i.ALo(5,"async"),i.ALo(6,"async"),i.YNc(7,DG,3,3,"p",7),i.ALo(8,"async"),i.YNc(9,LG,3,3,"p",7),i.ALo(10,"async"),i.ALo(11,"async"),i.ALo(12,"async"),i.qZA(),i.qZA()),2&t){const t=i.oxw();let e,n,o;i.xp6(4),i.Q6J("ngIf",(null==(e=i.lcZ(5,3,t.editorService.isCurrentGenOnly$))?null:e.isCurrentGameSizeAboveOldGenMax)&&!1===(null==(e=i.lcZ(6,5,t.editorService.isCurrentGenOnly$))?null:e.isConquest)),i.xp6(3),i.Q6J("ngIf",null==(n=i.lcZ(8,7,t.editorService.isCurrentGenOnly$))?null:n.isConquest),i.xp6(2),i.Q6J("ngIf",(null==(o=i.lcZ(10,9,t.editorService.isCurrentGenOnly$))?null:o.hasLargeMaps)&&!1===(null==(o=i.lcZ(11,11,t.editorService.isCurrentGenOnly$))?null:o.isConquest)&&!1===(null==(o=i.lcZ(12,13,t.editorService.isCurrentGenOnly$))?null:o.isCurrentGameSizeAboveOldGenMax))}}function BG(t,e){1&t&&(i.TgZ(0,"div",3),i.TgZ(1,"div",4),i._UZ(2,"mat-icon",5),i.qZA(),i.TgZ(3,"div",6),i.TgZ(4,"p"),i._uU(5),i.ALo(6,"translate"),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(5),i.Oqu(i.lcZ(6,1,"editor.general.non-owner-warning")))}const FG=function(t){return{"disabled-opacity":t}};function UG(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"button",12),i.NdJ("click",function(){return i.CHM(t),i.oxw(2).editorService.onEditorFormSubmit()}),i.ALo(1,"async"),i.ALo(2,"async"),i._UZ(3,"mat-icon",13),i.qZA()}if(2&t){const t=i.oxw(2);i.Q6J("ngClass",i.VKq(6,FG,t.editorService.editorForm.invalid||!0===i.lcZ(1,2,t.editorService.editorDisabled$)))("disabled",t.editorService.editorForm.invalid||!0===i.lcZ(2,4,t.editorService.editorDisabled$))}}function VG(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",8),i.YNc(1,UG,4,8,"button",9),i.ALo(2,"async"),i.ALo(3,"async"),i.ALo(4,"async"),i.TgZ(5,"button",10),i.NdJ("click",function(){return i.CHM(t),i.oxw().editorService.toggleManagePanel(!0)}),i._UZ(6,"mat-icon",11),i.qZA(),i.qZA()}if(2&t){const t=i.oxw();i.xp6(1),i.Q6J("ngIf",i.lcZ(2,1,t.editorService.isOwner$)&&!1===i.lcZ(3,3,t.editorService.isArchived$)&&!t.editorService.editorForm.pristine&&!1===i.lcZ(4,5,t.editorService.isNewMode$))}}const GG=function(t){return{"position-absolutely":t}};let jG=(()=>{class t{constructor(t,e,n){this.editorService=t,this.location=e,this.layoutService=n,this.isModeSettingsRoute=null,this.isGameModeSettingRoute=null,this.currentUrl=this.location.path()}ngOnInit(){this.isModeSettingsRoute=this.currentUrl.includes("experience/mode/"),this.isGameModeSettingRoute=this.currentUrl.includes("experience/mode/game-mode")}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(mN),i.Y36(C),i.Y36(KN))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-action-buttons-and-notifications"]],decls:8,vars:14,consts:[["id","action-buttons-wrapper",1,"action-buttons-wrapper",3,"ngClass"],["class","generation-notification",4,"ngIf"],["class","action-button-group",4,"ngIf"],[1,"generation-notification"],[1,"icon-wrapper"],["svgIcon","warning",1,"warning"],[1,"warning-prompt"],[4,"ngIf"],[1,"action-button-group"],["type","button","class","action-button","mat-mini-fab","","aria-label","save button",3,"ngClass","disabled","click",4,"ngIf"],["type","button","mat-mini-fab","","aria-label","manage button",1,"action-button",3,"click"],["svgIcon","manage"],["type","button","mat-mini-fab","","aria-label","save button",1,"action-button",3,"ngClass","disabled","click"],["svgIcon","save"]],template:function(t,e){if(1&t&&(i.TgZ(0,"div",0),i.YNc(1,NG,13,15,"div",1),i.ALo(2,"async"),i.ALo(3,"async"),i.YNc(4,BG,7,3,"div",1),i.ALo(5,"async"),i.YNc(6,VG,7,7,"div",2),i.ALo(7,"async"),i.qZA()),2&t){let t;i.Q6J("ngClass",i.VKq(12,GG,e.isGameModeSettingRoute)),i.xp6(1),i.Q6J("ngIf",(null==(t=i.lcZ(2,4,e.editorService.isCurrentGenOnly$))?null:t.hasCurrentGenFlag)&&i.lcZ(3,6,e.editorService.isOwner$)&&e.isModeSettingsRoute),i.xp6(3),i.Q6J("ngIf",!1===i.lcZ(5,8,e.editorService.isOwner$)),i.xp6(2),i.Q6J("ngIf",!1===i.lcZ(7,10,e.layoutService.isTabletOrSmaller$))}},directives:[P,R,eE,rb],pipes:[Z,Fp],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}.action-buttons-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center}.action-buttons-wrapper[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#000}.action-buttons-wrapper.overlay[_ngcontent-%COMP%]{top:0;z-index:30}html[dir=ltr][_ngcontent-%COMP%]   .action-buttons-wrapper.overlay[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .action-buttons-wrapper.overlay[_ngcontent-%COMP%]{right:10px}html[dir=rtl][_ngcontent-%COMP%]   .action-buttons-wrapper.overlay[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .action-buttons-wrapper.overlay[_ngcontent-%COMP%]{left:10px}@media only screen and (max-width:1024px){html[dir=ltr][_ngcontent-%COMP%]   .action-buttons-wrapper[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .action-buttons-wrapper[_ngcontent-%COMP%]{right:5px}html[dir=rtl][_ngcontent-%COMP%]   .action-buttons-wrapper[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .action-buttons-wrapper[_ngcontent-%COMP%]{left:5px}}.action-buttons-wrapper[_ngcontent-%COMP%]   .action-button-group[_ngcontent-%COMP%]{display:flex;grid-gap:12px;gap:12px;justify-content:space-evenly}html[dir=rtl][_ngcontent-%COMP%]   .action-buttons-wrapper[_ngcontent-%COMP%]   .action-button-group[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .action-buttons-wrapper[_ngcontent-%COMP%]   .action-button-group[_ngcontent-%COMP%]{direction:rtl}.action-buttons-wrapper[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{display:flex;grid-gap:12px;gap:12px;justify-content:center;align-items:center;background-color:#fff;height:40px;width:40px;padding:0}html[dir=rtl][_ngcontent-%COMP%]   .action-buttons-wrapper[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .action-buttons-wrapper[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{direction:rtl}.action-buttons-wrapper[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;background:#ffd706;padding:8px}html[dir=rtl][_ngcontent-%COMP%]   .action-buttons-wrapper[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .action-buttons-wrapper[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{direction:rtl}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){.action-buttons-wrapper[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{height:auto;min-height:40px}}.action-buttons-wrapper[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{width:24px;position:relative;bottom:2px;color:#000}.action-buttons-wrapper[_ngcontent-%COMP%]   .generation-notification[_ngcontent-%COMP%]{display:flex;align-items:stretch;font-family:"BFText-Regular",var(--font-fallback);font-size:18px;font-style:normal;font-weight:400;line-height:1;letter-spacing:0;text-align:left;margin:0}html[dir=rtl][_ngcontent-%COMP%]   .action-buttons-wrapper[_ngcontent-%COMP%]   .generation-notification[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .action-buttons-wrapper[_ngcontent-%COMP%]   .generation-notification[_ngcontent-%COMP%]{direction:rtl}@media only screen and (min-width:1031px){.action-buttons-wrapper[_ngcontent-%COMP%]   .generation-notification[_ngcontent-%COMP%]{margin:0 12px}}.action-buttons-wrapper[_ngcontent-%COMP%]   .generation-notification[_ngcontent-%COMP%]   .warning-prompt[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#121212;padding:5px 10px;word-break:normal}html[dir=rtl][_ngcontent-%COMP%]   .action-buttons-wrapper[_ngcontent-%COMP%]   .generation-notification[_ngcontent-%COMP%]   .warning-prompt[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .action-buttons-wrapper[_ngcontent-%COMP%]   .generation-notification[_ngcontent-%COMP%]   .warning-prompt[_ngcontent-%COMP%]{direction:rtl}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){.action-buttons-wrapper[_ngcontent-%COMP%]   .generation-notification[_ngcontent-%COMP%]   .warning-prompt[_ngcontent-%COMP%]{height:auto;min-height:40px}}.action-buttons-wrapper[_ngcontent-%COMP%]   .generation-notification[_ngcontent-%COMP%]   .warning-prompt[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.action-buttons-wrapper[_ngcontent-%COMP%]   .synced-mutator-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:center;align-items:center}html[dir=rtl][_ngcontent-%COMP%]   .action-buttons-wrapper[_ngcontent-%COMP%]   .synced-mutator-wrapper[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .action-buttons-wrapper[_ngcontent-%COMP%]   .synced-mutator-wrapper[_ngcontent-%COMP%]{direction:rtl}html[dir=ltr][_ngcontent-%COMP%]   .action-buttons-wrapper[_ngcontent-%COMP%]   .synced-mutator-wrapper[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .action-buttons-wrapper[_ngcontent-%COMP%]   .synced-mutator-wrapper[_ngcontent-%COMP%]{margin-right:20px}html[dir=rtl][_ngcontent-%COMP%]   .action-buttons-wrapper[_ngcontent-%COMP%]   .synced-mutator-wrapper[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .action-buttons-wrapper[_ngcontent-%COMP%]   .synced-mutator-wrapper[_ngcontent-%COMP%]{margin-left:20px}@media only screen and (max-width:1024px){html[dir=ltr][_ngcontent-%COMP%]   .action-buttons-wrapper[_ngcontent-%COMP%]   .synced-mutator-wrapper[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .action-buttons-wrapper[_ngcontent-%COMP%]   .synced-mutator-wrapper[_ngcontent-%COMP%]{margin-right:11px}html[dir=rtl][_ngcontent-%COMP%]   .action-buttons-wrapper[_ngcontent-%COMP%]   .synced-mutator-wrapper[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .action-buttons-wrapper[_ngcontent-%COMP%]   .synced-mutator-wrapper[_ngcontent-%COMP%]{margin-left:11px}}.action-buttons-wrapper[_ngcontent-%COMP%]   .synced-mutator-wrapper[_ngcontent-%COMP%]   .synced-mutators-checkbox[_ngcontent-%COMP%]   .label-text[_ngcontent-%COMP%]{font-size:20px}.action-buttons-wrapper[_ngcontent-%COMP%]   .synced-mutator-wrapper[_ngcontent-%COMP%]     .mat-checkbox{background:#0006;padding:4px 10px}@media only screen and (max-width:1024px){.action-buttons-wrapper[_ngcontent-%COMP%]   .synced-mutator-wrapper[_ngcontent-%COMP%]     .mat-checkbox .mat-checkbox-label{font-size:10px}}@media only screen and (max-width:767px){#action-buttons-wrapper.position-absolutely[_ngcontent-%COMP%]{position:absolute;left:0;right:0;margin:auto}}']}),t})(),HG=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-code"]],decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();var zG=n(8187),WG=n.n(zG);let ZG=(()=>{class t{constructor(t){this.sanitizer=t}transform(t){return this.sanitizer.bypassSecurityTrustHtml(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(xt,16))},t.\u0275pipe=i.Yjl({name:"safeHtml",type:t,pure:!0}),t})();function YG(t,e){1&t&&(i._UZ(0,"div",1),i.ALo(1,"safeHtml")),2&t&&i.Q6J("innerHTML",i.lcZ(1,1,e.ngIf),i.oJD)}const qG=Sm.get("blockly","help");let JG=(()=>{class t{constructor(t,e){this.httpClient=t,this.translateService=e,this.article=null,this.articleSubject=new CS.X(""),this.article$=this.articleSubject.asObservable(),this.output$=this.article$.pipe(a_(""),(0,ia.h)(t=>!!t),(0,zu.w)(t=>this.httpClient.get(lL(`assets/help/${t}.md`),{responseType:"text"}).pipe((0,qp.K)(()=>(0,ea.of)(`Missing help article for **${t}**`)),(0,Cr.U)(t=>WG()(t)))));const n={code:(t,e,n)=>{if(!this.pyriteBlockly)throw new Error("Missing PyriteBlockly for code renderer");const i=new Fg.Options({scrollbars:!0,parentWorkspace:this.pyriteBlockly.mainWorkspace,rtl:this.pyriteBlockly.mainWorkspace.RTL,oneBasedIndex:this.pyriteBlockly.mainWorkspace.options.oneBasedIndex,renderer:this.pyriteBlockly.mainWorkspace.options.renderer,rendererOverrides:this.pyriteBlockly.mainWorkspace.options.rendererOverrides,sounds:!1,zoom:{controls:!1,pinch:!1,scaleSpeed:0,wheel:!1},move:{scrollbars:!0,drag:!1,wheel:!1}}),o=new(Fg.registry.getClassFromOptions(Fg.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX,this.pyriteBlockly.mainWorkspace.options,!0))(i);o.autoClose=!1,o.MARGIN=0;const r=function(t){let e,n,i=0;if(0===t.length)return i;for(e=0;e<t.length;e++)n=t.charCodeAt(e),i=(i<<5)-i+n,i|=0;return i}(t),s=setInterval(()=>{if(!this.pyriteBlockly)throw new Error("Missing PyriteBlockly for help flyout");const e=document.body.querySelector(`.blockly-help .help-flyout .hash-${r}`);if(e){const n=o.createDom(Fg.utils.Svg.SVG);Fg.utils.dom.insertAfter(n,e),o.init(this.pyriteBlockly.mainWorkspace);try{const e=Fg.Xml.textToDom(t);o.show([e])}catch(nx){qG.error(nx)}const i=Math.ceil(o.getWorkspace().getMetrics().contentWidth)+10;o.getWorkspace().getInjectionDiv().setAttribute("style",`width: ${i}px`),Fg.utils.dom.removeNode(e),clearInterval(s)}},100);return`\n                    <div class="help-flyout-container">\n                        <div class="injectionDiv help-flyout ${this.pyriteBlockly.mainWorkspace.getRenderer().getClassName()} ${this.pyriteBlockly.mainWorkspace.getTheme().getClassName()}">\n                            <svg class="hash-${r}"></svg>\n                        </div>\n                    </div>\n                `}},i={name:"translation",level:"inline",start(t){var e,n;return null!==(n=null===(e=t.match(/[%{]/))||void 0===e?void 0:e.index)&&void 0!==n?n:-1},tokenizer(t,e){const n=/^%\{([a-zA-Z0-9_\.\-]+)?\}/.exec(t);if(n)return{type:"translation",raw:n[0],stringId:n[1].trim()}},renderer:t=>`${WG().parseInline(e.instant(t.stringId))}`,childTokens:["stringId"]};WG().use({extensions:[i]}),WG().use({renderer:n,xhtml:!0})}ngOnInit(){}ngOnChanges(t){t.article&&this.articleSubject.next(t.article.currentValue)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Oa),i.Y36(Bp))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-blockly-help"]],inputs:{pyriteBlockly:"pyriteBlockly",article:"article"},features:[i.TTD],decls:2,vars:3,consts:[["class","article",3,"innerHTML",4,"ngIf"],[1,"article",3,"innerHTML"]],template:function(t,e){1&t&&(i.YNc(0,YG,2,3,"div",0),i.ALo(1,"async")),2&t&&i.Q6J("ngIf",i.lcZ(1,1,e.output$))},directives:[R],pipes:[Z,ZG],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}  .blockly-help .article{font-family:"BFText-Regular",var(--font-fallback);height:100%;overflow-y:auto}  .blockly-help .article>:not(.injectionDiv){max-width:500px;padding:0 12px}html[dir=ltr][_ngcontent-%COMP%]     .blockly-help .article>:not(.injectionDiv), html[dir=ltr]   [_nghost-%COMP%]     .blockly-help .article>:not(.injectionDiv){margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]     .blockly-help .article>:not(.injectionDiv), html[dir=rtl]   [_nghost-%COMP%]     .blockly-help .article>:not(.injectionDiv){margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]     .blockly-help .article>:not(.injectionDiv), html[dir=ltr]   [_nghost-%COMP%]     .blockly-help .article>:not(.injectionDiv){margin-right:16px}html[dir=rtl][_ngcontent-%COMP%]     .blockly-help .article>:not(.injectionDiv), html[dir=rtl]   [_nghost-%COMP%]     .blockly-help .article>:not(.injectionDiv){margin-left:16px}  .blockly-help .article h1,   .blockly-help .article h2,   .blockly-help .article h3,   .blockly-help .article h4,   .blockly-help .article h5,   .blockly-help .article h6{font-family:"Purista-Semibold",var(--font-fallback)}  .blockly-help .article h1:not(:first-child),   .blockly-help .article h2:not(:first-child),   .blockly-help .article h3:not(:first-child),   .blockly-help .article h4:not(:first-child),   .blockly-help .article h5:not(:first-child),   .blockly-help .article h6:not(:first-child){margin-top:16px}  .blockly-help .article ol{position:relative;left:20px}  .blockly-help .article .injectionDiv{height:auto}  .blockly-help .article .help-flyout-container{background:#0000004d;overflow-x:auto;max-width:none;margin:0 0 12px;padding:8px 0}html[dir=rtl][_ngcontent-%COMP%]     .blockly-help .article .help-flyout-container, html[dir=rtl]   [_nghost-%COMP%]     .blockly-help .article .help-flyout-container{margin:0 0 12px}  .blockly-help .article .help-flyout{pointer-events:none}  .blockly-help .article .help-flyout .blocklyFlyout{width:100%;position:relative;transform:none!important;display:inline-block!important;overflow:visible;margin-top:1px;margin-bottom:-20px}  .blockly-help .article .help-flyout .blocklyFlyout .blocklyFlyoutBackground{display:none}  .blockly-help .article .help-flyout svg.blocklyFlyoutScrollbar{display:none!important}.article[_ngcontent-%COMP%]{padding:32px 0}']}),t})();const $G=["blockly"],KG=["blocklyarea"];function XG(t,e){1&t&&(i.TgZ(0,"div",9),i._UZ(1,"app-code"),i.qZA())}function QG(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",10),i.TgZ(1,"button",11),i.NdJ("click",function(){return i.CHM(t),i.oxw().onClickImport()}),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.TgZ(4,"button",11),i.NdJ("click",function(){return i.CHM(t),i.oxw().onClickExport()}),i._uU(5),i.ALo(6,"translate"),i.qZA(),i.TgZ(7,"button",11),i.NdJ("click",function(){return i.CHM(t),i.oxw().onClickExportMod()}),i._uU(8),i.ALo(9,"translate"),i.qZA(),i.TgZ(10,"button",12),i.NdJ("click",function(){return i.CHM(t),i.oxw().onClickTestCode()}),i._uU(11," [DEV] CODE "),i.qZA(),i.qZA()}2&t&&(i.xp6(2),i.hij(" ",i.lcZ(3,5,"rules.import-workspace")," "),i.xp6(3),i.hij(" ",i.lcZ(6,7,"rules.export-workspace")," "),i.xp6(3),i.Oqu(i.lcZ(9,9,"rules.export-mod")),i.xp6(2),i.Q6J("matTooltipPosition","before")("matTooltip","This is an experimential feature!"))}const tj=function(t){return{hide:t}};function ej(t,e){if(1&t){const t=i.EpF();i.ynx(0),i.TgZ(1,"div",13),i.ALo(2,"async"),i.TgZ(3,"div",14),i.NdJ("click",function(){return i.CHM(t),i.oxw().onToggleHelp()}),i._UZ(4,"mat-icon",15),i.qZA(),i._UZ(5,"app-blockly-help",16),i.ALo(6,"async"),i.qZA(),i.BQk()}if(2&t){const t=i.oxw();i.xp6(1),i.Q6J("ngClass",i.VKq(7,tj,!1===i.lcZ(2,3,t.showHelp$))),i.xp6(4),i.Q6J("pyriteBlockly",t.pyriteBlockly)("article",i.lcZ(6,5,t.helpArticle$))}}const nj=function(t){return{"show-test-code":t}},ij=Sm.get("blockly"),oj=new i.vpe;Fg.ContextMenuRegistry.registry.register({displayText:()=>Fg.Msg.HELP,preconditionFn:t=>"enabled",callback:t=>{const e=t.block;e&&oj.emit(e.type)},scopeType:Fg.ContextMenuRegistry.ScopeType.BLOCK,id:"blockPyriteHelp",weight:1});let rj=(()=>{class t{constructor(t,e,n,i,o){this.translateService=t,this.dialog=e,this.blueprintService=n,this.host=i,this.editorService=o,this.blocklyInitialized=!1,this.rules$=this.editorService?this.editorService.rules$:new CS.X(null),this.workspaceInitializedSubject=new CS.X(!1),this.workspaceInitialized$=this.workspaceInitializedSubject.asObservable(),this.showHelpSubject=new CS.X(!1),this.showHelp$=this.showHelpSubject.asObservable(),this.helpArticle$=oj.pipe(Gu(()=>this.onToggleHelp(!0)),a_("modBlock")),this.flyoutIsVisible=!1,this.rulesLoaded=!1,this.showTools=!1,this.showTestCode=!1,this.previousBlocklyArea=[0,0],this.subscriptions=[],this.jsonGenerator=void 0,this.addSubscription(Hv([this.workspaceInitialized$,this.blueprintService.rulesVersion$,this.blueprintService.blocklyDefinitions$,this.rules$]).pipe((0,ia.h)(([t,e,n,i])=>t&&void 0!==i),$g()).subscribe({next:([t,e,n,i])=>QB(this,void 0,void 0,function*(){var t,o;this.pyriteBlockly.registerDefinitions(e,n),null===(t=this.toolboxManager)||void 0===t||t.init(this.pyriteBlockly.definitions),this.setActiveWorkspace(),yield this.loadRules(i),null===(o=this.workspaceSearchManager)||void 0===o||o.init()})}))}addSubscription(...t){this.subscriptions.push(...t)}ngOnInit(){window.importWorkspace=this.onClickImport.bind(this),window.exportWorkspace=this.onClickExport.bind(this),window.exportMod=this.onClickExportMod.bind(this)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe()),this.pyriteBlockly&&this.pyriteBlockly.destroy(),delete window.importWorkspace,delete window.exportWorkspace,delete window.exportMod}ngAfterViewInit(){this.translateService.get("app").pipe($g()).subscribe(()=>{this.initBlockly()})}ngDoCheck(){this.repositionWorkspace()}repositionWorkspace(){var t,e;const n=null===(t=this.blocklyAreaElementRef)||void 0===t?void 0:t.nativeElement,i=null===(e=this.blocklyElementRef)||void 0===e?void 0:e.nativeElement;if(this.pyriteBlockly&&n&&i){const t=n.clientWidth,e=n.clientHeight;this.previousBlocklyArea[0]===t&&this.previousBlocklyArea[1]===e||(ij.debug("Positioning Blockly Workspace"),i.style.left="0px",i.style.top="0px",i.style.width=`${t}px`,i.style.height=`${e}px`,Fg.svgResize(this.pyriteBlockly.mainWorkspace),this.previousBlocklyArea=[t,e])}}onKeyUp(t){var e,n;t.ctrlKey&&("z"!==t.key&&"y"!==t.key||"input"!==(null===(n=null===(e=document.activeElement)||void 0===e?void 0:e.tagName)||void 0===n?void 0:n.toLowerCase())&&t.preventDefault())}initBlockly(){var t,e,n,i,o,r;if(this.blocklyInitialized)return void ij.warn("initBlockly has already been called once!");if(this.blocklyInitialized=!0,!this.blocklyElementRef)throw new Error("Could not find #blockly element reference");const s={readOnly:!1,media:lL("assets/blockly/"),trashcan:!1,rtl:Hm(),move:{scrollbars:!0,drag:!0,wheel:!1},zoom:{controls:!0,wheel:!0,startScale:1,maxScale:4,minScale:.25,scaleSpeed:1.05},sounds:!1,renderer:"portal",toolbox:'<xml xmlns="https://developers.google.com/blockly/xml"><category /></xml>',theme:"portal-dark",plugins:{toolbox:AG}};this.pyriteBlockly=new TF(this.blocklyElementRef.nativeElement,s),this.pyriteBlockly.mainWorkspace.getFlyout().CORNER_RADIUS=0,this.toolboxManager=new JV(this.pyriteBlockly.mainWorkspace,this.translateService),this.dialogManager=new zV(this.dialog),this.workspaceSearchManager=new $V(this.pyriteBlockly.mainWorkspace),this.pyriteBlockly.mainWorkspace.setVisible(!1),this.pyriteBlockly.addChangeListener(this.onWorkspaceChange.bind(this)),null===(t=this.pyriteBlockly.subroutinesManager)||void 0===t||t.registerCreateNewSubroutineAction(t=>{this.dialog.open(eG,{width:"512px",data:{manager:this.pyriteBlockly.subroutinesManager,createdSubroutines:t,isCreate:!0}}).afterClosed().subscribe(t=>{var e;t&&(null===(e=this.pyriteBlockly.subroutinesManager)||void 0===e||e.createSubroutineDefinitionBlock(t.name))})}),null===(e=this.pyriteBlockly.subroutinesManager)||void 0===e||e.registerRenameSubroutineCallbackAction((t,e)=>{const n=e.getFieldValue("SUBROUTINE_NAME");this.dialog.open(eG,{width:"512px",data:{name:n,oldName:n,manager:this.pyriteBlockly.subroutinesManager,createdSubroutines:t,isCreate:!1}}).afterClosed().subscribe(t=>{var e;t&&(null===(e=this.pyriteBlockly.subroutinesManager)||void 0===e||e.renameSubroutine(t.oldName,t.name))})}),null===(n=this.pyriteBlockly.subroutinesManager)||void 0===n||n.registerDeleteSubroutineCallbackAction(t=>{var e,n;const i=t.getFieldValue("SUBROUTINE_NAME"),o=(null!==(n=null===(e=this.pyriteBlockly.mainWorkspace)||void 0===e?void 0:e.getBlocksByType("subroutineInstanceBlock",!1))&&void 0!==n?n:[]).filter(t=>t.getFieldValue("SUBROUTINE_NAME")===i);this.dialog.open(qN,{width:"512px",data:{title$:this.translateService.get("rules.subroutines.delete-subroutine"),body$:this.translateService.get("rules.subroutines.delete-subroutine-body",{nr:o.length,name:i})}}).afterClosed().subscribe(t=>{var e;t&&(null===(e=this.pyriteBlockly.subroutinesManager)||void 0===e||e.deleteSubroutine(i))})}),null===(i=this.pyriteBlockly.variablesManager)||void 0===i||i.registerManageVariablesAction((t,e)=>{this.dialog.open(OG,{width:"720px",data:{workspace:this.pyriteBlockly.mainWorkspace,variablesManager:this.pyriteBlockly.variablesManager,types:t}}).afterClosed().subscribe(t=>{})}),null===(o=this.pyriteBlockly.variablesManager)||void 0===o||o.registerRenameVariableCallbackAction(t=>{var e;const n=t.getField("VAR").getValue(),i=null===(e=this.pyriteBlockly.mainWorkspace)||void 0===e?void 0:e.getVariableById(n);i&&this.dialog.open(rG,{width:"512px",data:{workspace:this.pyriteBlockly.mainWorkspace,name:i.name,type:i.type,variableId:i.getId()}}).afterClosed().subscribe(t=>{var e;t&&(null===(e=this.pyriteBlockly.mainWorkspace)||void 0===e||e.renameVariableById(t.variableId,t.name),this.pyriteBlockly.mainWorkspace.getToolbox().refreshSelection())})}),null===(r=this.pyriteBlockly.variablesManager)||void 0===r||r.registerDeleteVariableCallbackAction(t=>{var e,n,i;const o=t.getField("VAR").getValue(),r=null===(e=this.pyriteBlockly.mainWorkspace)||void 0===e?void 0:e.getVariableById(o),s=null!==(i=null===(n=this.pyriteBlockly.mainWorkspace)||void 0===n?void 0:n.getVariableUsesById(o))&&void 0!==i?i:[];r&&this.dialog.open(qN,{width:"512px",data:{title$:this.translateService.get("rules.variables.delete-variable"),body$:this.translateService.get("rules.subroutines.delete-subroutine-body",{nr:s.length,name:r.name})}}).afterClosed().subscribe(t=>{var e;t&&(null===(e=this.pyriteBlockly.mainWorkspace)||void 0===e||e.getVariableMap().deleteVariableInternal(r,s),this.pyriteBlockly.mainWorkspace.getToolbox().refreshSelection())})}),this.workspaceInitializedSubject.next(!0)}loadRules(t){var e,n;return QB(this,void 0,void 0,function*(){if(ij.log("Loading Blockly workspace with data",t),!this.pyriteBlockly.mainWorkspace)throw new Error("No main workspace exists to load rules for");this.rulesLoaded=!1,this.pyriteBlockly.mainWorkspace.clear();try{const i=Fg.Xml.textToDom(null!==(e=null==t?void 0:t.variables)&&void 0!==e?e:"<xml />");ij.debug("Loading Variables DOM",i),Fg.Xml.domToVariables(i,this.pyriteBlockly.mainWorkspace);const o=yield this.pyriteBlockly.validateWorkspaceDom(Fg.Xml.textToDom(null!==(n=null==t?void 0:t.mainWorkspace)&&void 0!==n?n:this.pyriteBlockly.default));ij.debug("Loading Workspace DOM",o),Fg.Xml.domToWorkspace(o,this.pyriteBlockly.mainWorkspace)}catch(nx){ij.error("Could not load Blockly workspace:",nx),this.pyriteBlockly.mainWorkspace.clear(),this.rulesLoaded=!0}this.pyriteBlockly.mainWorkspace.clearUndo()})}onWorkspaceChange(t){var e;if(!(t instanceof Fg.Events.Ui||t instanceof Fg.Events.ViewportChange||t instanceof Fg.Events.BlockDrag)){if(t instanceof Fg.Events.ToolboxItemSelect)return this.flyoutIsVisible=this.pyriteBlockly.mainWorkspace.getFlyout().isVisible(),void(null===(e=Fg.selected)||void 0===e||e.unselect());if(t instanceof Fg.Events.FinishedLoading)this.rulesLoaded=!0;else if(!(t instanceof Fg.Events.Selected)&&!(t instanceof Fg.Events.Click)&&(!(t instanceof Fg.Events.Move)||t.oldCoordinate)&&this.pyriteBlockly.mainWorkspace&&this.editorService&&this.rulesLoaded){const t=this.pyriteBlockly.export();0,this.editorService.setRules(t),t&&this.editorService.editorForm.markAsDirty()}}}setActiveWorkspace(){if(!this.pyriteBlockly.mainWorkspace)throw new Error("No Main Blockly workspace exists");this.pyriteBlockly.mainWorkspace.setVisible(!0)}onToggleHelp(t){void 0!==t?this.showHelpSubject.next(t):this.showHelp$.pipe($g()).subscribe(t=>this.showHelpSubject.next(!t))}onClickExportMod(){return QB(this,void 0,void 0,function*(){0})}onClickExport(){return QB(this,void 0,void 0,function*(){if(this.pyriteBlockly.mainWorkspace){const t=yield this.pyriteBlockly.validateWorkspaceDom(Fg.Xml.workspaceToDom(this.pyriteBlockly.mainWorkspace));ij.extend("dev").log(t),this.editorService&&this.editorService.rules$.pipe($g()).subscribe({next:t=>{const e=JSON.stringify(t,void 0,4),n=document.createElement("a");n.setAttribute("href","data:application/json;charset=utf-8,"+encodeURIComponent(e)),n.setAttribute("download","mica-workspace.json"),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}})}})}onClickImport(){if(this.pyriteBlockly.mainWorkspace){const t=document.createElement("input");t.setAttribute("type","file"),t.setAttribute("accept",".json"),t.addEventListener("change",()=>{if(ij.extend("dev").log(t.files),t.files&&t.files[0]){const e=new FileReader;e.readAsText(t.files[0]),e.onload=t=>{var e,n,i;"string"==typeof(null===(e=t.target)||void 0===e?void 0:e.result)&&(this.loadRules(JSON.parse(null===(n=t.target)||void 0===n?void 0:n.result)),null===(i=this.editorService)||void 0===i||i.editorForm.markAsDirty())}}},!1),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}}onClickTestCode(){}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Bp),i.Y36(aT),i.Y36(kN),i.Y36(HV,9),i.Y36(mN,8))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-blockly"]],viewQuery:function(t,e){if(1&t&&(i.Gf($G,5),i.Gf(KG,5)),2&t){let t;i.iGM(t=i.CRH())&&(e.blocklyElementRef=t.first),i.iGM(t=i.CRH())&&(e.blocklyAreaElementRef=t.first)}},hostBindings:function(t,e){1&t&&i.NdJ("keydown",function(t){return e.onKeyUp(t)},!1,i.evT)},decls:9,vars:6,consts:[[1,"btns-and-notifications"],[1,"rules",3,"ngClass"],[1,"blockly-area"],["blocklyarea",""],[1,"blockly"],["blockly",""],["class","code-area",4,"ngIf"],["class","action-buttons",4,"ngIf"],[4,"ngIf"],[1,"code-area"],[1,"action-buttons"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","primary",3,"matTooltipPosition","matTooltip","click"],[1,"blockly-help",3,"ngClass"],[1,"toggle",3,"click"],["svgIcon","chevron_right"],[3,"pyriteBlockly","article"]],template:function(t,e){1&t&&(i._UZ(0,"app-action-buttons-and-notifications",0),i.TgZ(1,"div",1),i._UZ(2,"div",2,3),i._UZ(4,"div",4,5),i.YNc(6,XG,2,0,"div",6),i.qZA(),i.YNc(7,QG,12,11,"div",7),i.YNc(8,ej,7,9,"ng-container",8)),2&t&&(i.xp6(1),i.Q6J("ngClass",i.VKq(4,nj,e.showTestCode)),i.xp6(5),i.Q6J("ngIf",e.showTestCode),i.xp6(1),i.Q6J("ngIf",e.showTools),i.xp6(1),i.Q6J("ngIf",e.rulesLoaded))},directives:[jG,P,R,HG,rb,_S,eE,JG],pipes:[Fp,Z],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}[_nghost-%COMP%]{display:block;height:100%}.btns-and-notifications[_ngcontent-%COMP%]{position:absolute;z-index:10;top:38px}html[dir=ltr][_ngcontent-%COMP%]   .btns-and-notifications[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .btns-and-notifications[_ngcontent-%COMP%]{right:27px}html[dir=rtl][_ngcontent-%COMP%]   .btns-and-notifications[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .btns-and-notifications[_ngcontent-%COMP%]{left:27px}.rules[_ngcontent-%COMP%]{width:100%;height:100%;display:grid;grid-template-rows:1fr;grid-template-areas:"blockly"}.rules.show-test-code[_ngcontent-%COMP%]{grid-template-rows:1fr 1fr;grid-template-areas:"blockly" "code"}.code-area[_ngcontent-%COMP%]{grid-area:code}.blockly-area[_ngcontent-%COMP%]{grid-area:blockly}.blockly[_ngcontent-%COMP%]{position:absolute;background-color:#010504}.blockly[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;width:800px;height:800px;background:no-repeat url(/2384652/assets/backgrounds/rules-bg.png);background-size:contain;top:0;right:0;opacity:.4}.blockly-help[_ngcontent-%COMP%]{z-index:40;position:absolute;top:0;bottom:0;max-width:calc(100% - 300px);background-color:#222b2dcc;-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);box-shadow:-10px 0 10px #0f0f0fa3}html[dir=ltr][_ngcontent-%COMP%]   .blockly-help[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .blockly-help[_ngcontent-%COMP%]{right:0}html[dir=rtl][_ngcontent-%COMP%]   .blockly-help[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .blockly-help[_ngcontent-%COMP%]{left:0}.blockly-help.hide[_ngcontent-%COMP%]{transform:translateX(100%);box-shadow:none}html[dir=rtl][_ngcontent-%COMP%]   .blockly-help.hide[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .blockly-help.hide[_ngcontent-%COMP%]{transform:translateX(-100%)}html[dir=ltr][_ngcontent-%COMP%]   .blockly-help.hide[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .blockly-help.hide[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{transform:scaleX(-1)}html[dir=rtl][_ngcontent-%COMP%]   .blockly-help.hide[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .blockly-help.hide[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{transform:scaleX(1)}.blockly-help[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]{width:24px;height:160px;line-height:160px;text-align:center;background-color:#222b2dcc;-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);position:absolute;top:50%;margin-top:-80px;cursor:pointer}html[dir=rtl][_ngcontent-%COMP%]   .blockly-help[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .blockly-help[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]{text-align:center}html[dir=ltr][_ngcontent-%COMP%]   .blockly-help[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .blockly-help[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]{left:-26px}html[dir=rtl][_ngcontent-%COMP%]   .blockly-help[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .blockly-help[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]{right:-26px}.blockly-help[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{vertical-align:unset}html[dir=ltr][_ngcontent-%COMP%]   .blockly-help[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .blockly-help[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{transform:scaleX(1)}html[dir=rtl][_ngcontent-%COMP%]   .blockly-help[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .blockly-help[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{transform:scaleX(-1)}.editor-actions-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;position:relative}html[dir=rtl][_ngcontent-%COMP%]   .editor-actions-wrapper[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .editor-actions-wrapper[_ngcontent-%COMP%]{direction:rtl}.editor-actions-wrapper[_ngcontent-%COMP%]   .editor-actions-content[_ngcontent-%COMP%]{position:absolute;top:38px;z-index:30}html[dir=ltr][_ngcontent-%COMP%]   .editor-actions-wrapper[_ngcontent-%COMP%]   .editor-actions-content[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .editor-actions-wrapper[_ngcontent-%COMP%]   .editor-actions-content[_ngcontent-%COMP%]{right:10px}html[dir=rtl][_ngcontent-%COMP%]   .editor-actions-wrapper[_ngcontent-%COMP%]   .editor-actions-content[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .editor-actions-wrapper[_ngcontent-%COMP%]   .editor-actions-content[_ngcontent-%COMP%]{left:10px}.action-buttons[_ngcontent-%COMP%]{position:absolute;top:108px;display:flex;flex-direction:column;z-index:20}html[dir=ltr][_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .action-buttons[_ngcontent-%COMP%]{right:37px}html[dir=rtl][_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .action-buttons[_ngcontent-%COMP%]{left:37px}html[dir=rtl][_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .action-buttons[_ngcontent-%COMP%]{direction:rtl}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-bottom:8px;font-size:11px;padding:0 8px;line-height:26px}html[dir=ltr]   [_nghost-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]{margin-left:12px}html[dir=rtl]   [_nghost-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]{margin-right:12px}']}),t})();function sj(t,e){1&t&&(i.TgZ(0,"div",2),i.TgZ(1,"span"),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.qZA()),2&t&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"rules.not-supported")))}function aj(t,e){1&t&&i._UZ(0,"app-blockly")}let lj=(()=>{class t{constructor(t){this.layoutService=t,this.isSupportedScreen$=this.layoutService.isTabletOrSmaller$.pipe((0,Cr.U)(t=>!t))}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(KN))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-rules"]],decls:4,vars:6,consts:[["class","not-supported",4,"ngIf"],[4,"ngIf"],[1,"not-supported"]],template:function(t,e){1&t&&(i.YNc(0,sj,4,3,"div",0),i.ALo(1,"async"),i.YNc(2,aj,1,0,"app-blockly",1),i.ALo(3,"async")),2&t&&(i.Q6J("ngIf",!1===i.lcZ(1,2,e.isSupportedScreen$)),i.xp6(2),i.Q6J("ngIf",i.lcZ(3,4,e.isSupportedScreen$)))},directives:[R,rj],pipes:[Z,Fp],styles:["[_nghost-%COMP%]{grid-row-start:editor-content;grid-row-end:editor-footer}.not-supported[_ngcontent-%COMP%]{min-height:100%;display:flex;justify-content:center;align-items:center;text-align:center;font-size:24px;padding-top:32px}"]}),t})();const cj=function(t){return{floating:t}};let uj=(()=>{class t{constructor(t){this.menuService=t,this.category="",this.label="",this.floating=!1}ngOnInit(){this.menuService.setMenu({title:this.label,section:this.category})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(uV))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-playground-tab-header"]],inputs:{category:"category",label:"label",floating:"floating"},decls:7,vars:5,consts:[[1,"tab-header-wrapper",3,"ngClass"],[1,"header"],[1,"header-text","tab-category"],[1,"header-text","tab-label"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"header",1),i.TgZ(2,"div",2),i._uU(3),i.qZA(),i.TgZ(4,"div",3),i._uU(5),i.qZA(),i.qZA(),i._UZ(6,"app-action-buttons-and-notifications"),i.qZA()),2&t&&(i.Q6J("ngClass",i.VKq(3,cj,e.floating)),i.xp6(3),i.hij(" ",e.category," "),i.xp6(2),i.Oqu(e.label))},directives:[P,jG],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}@media only screen and (min-width:1031px){.tab-header-wrapper[_ngcontent-%COMP%]{display:flex;flex-grow:1;align-items:center;justify-content:space-between;padding:30px}.tab-header-wrapper.floating[_ngcontent-%COMP%]{position:absolute;top:0;z-index:10;width:100%}}.header[_ngcontent-%COMP%]{display:none}@media only screen and (min-width:1031px){.header[_ngcontent-%COMP%]{display:inline-flex;flex:0 1 auto;min-height:40px;align-items:stretch;background-color:#000}html[dir=rtl][_ngcontent-%COMP%]   .header[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .header[_ngcontent-%COMP%]{direction:rtl}}.header-text[_ngcontent-%COMP%]{display:flex;align-items:center;padding:5px 10px 8px;font-size:18px;line-height:1;text-transform:uppercase;word-break:normal}html[dir=rtl][_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .header-text[_ngcontent-%COMP%]{direction:rtl}.tab-category[_ngcontent-%COMP%]{background-color:#fff;font-family:"Purista-Bold",var(--font-fallback);color:#000;position:relative}html[dir=ltr][_ngcontent-%COMP%]   .tab-category[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .tab-category[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .tab-category[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .tab-category[_ngcontent-%COMP%]{margin-left:10px}.tab-category[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;bottom:0;width:10px;-webkit-clip-path:polygon(15% 0,0 0,0 100%,15% 100%,100% 50%);clip-path:polygon(15% 0,0 0,0 100%,15% 100%,100% 50%);background-color:#fff}html[dir=ltr][_ngcontent-%COMP%]   .tab-category[_ngcontent-%COMP%]:after, html[dir=ltr]   [_nghost-%COMP%]   .tab-category[_ngcontent-%COMP%]:after{right:-9.5px}html[dir=rtl][_ngcontent-%COMP%]   .tab-category[_ngcontent-%COMP%]:after, html[dir=rtl]   [_nghost-%COMP%]   .tab-category[_ngcontent-%COMP%]:after{left:-9.5px}html[dir=rtl][_ngcontent-%COMP%]   .tab-category[_ngcontent-%COMP%]:after, html[dir=rtl]   [_nghost-%COMP%]   .tab-category[_ngcontent-%COMP%]:after{-webkit-clip-path:polygon(85% 0,100% 0,100% 100%,85% 100%,0 50%);clip-path:polygon(85% 0,100% 0,100% 100%,85% 100%,0 50%)}.tab-label[_ngcontent-%COMP%]{font-family:"Purista-Semibold",var(--font-fallback);color:#fff;letter-spacing:1.2px}html[lang=ar][_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%], html[lang=ar]   [_nghost-%COMP%]   .tab-label[_ngcontent-%COMP%]{letter-spacing:0}']}),t})();function hj(t,e){if(1&t&&(i.TgZ(0,"div",7),i.TgZ(1,"h1"),i._UZ(2,"mat-icon",8),i._uU(3),i.ALo(4,"translate"),i.qZA(),i.TgZ(5,"p"),i._uU(6),i.ALo(7,"translate"),i.qZA(),i.qZA()),2&t){const t=i.oxw();i.xp6(2),i.Q6J("svgIcon",t.iconMap.get(t.selectedGameMode)||""),i.xp6(1),i.hij(" ",i.lcZ(4,3,"dynamic.gamemodes."+t.getDefaultedGameMode+".title")," "),i.xp6(3),i.hij(" ",i.lcZ(7,5,"dynamic.gamemodes."+t.getDefaultedGameMode+".desc")," ")}}function dj(t,e){1&t&&(i.TgZ(0,"div",7),i.TgZ(1,"h1"),i._UZ(2,"mat-icon",8),i._uU(3),i.ALo(4,"translate"),i.qZA(),i.qZA()),2&t&&(i.xp6(2),i.Q6J("svgIcon","experience_icon"),i.xp6(1),i.hij(" ",i.lcZ(4,2,"editor.mode.choose-game-mode")," "))}function pj(t,e){1&t&&(i.TgZ(0,"div",13),i._UZ(1,"mat-icon",14),i.qZA())}const gj=function(t,e){return{active:t,"disabled-opacity":e}};function mj(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"button",9),i.NdJ("click",function(){const e=i.CHM(t).$implicit;return i.oxw().onModeSelected(e.value,e.customKey)}),i.ALo(1,"async"),i.YNc(2,pj,2,0,"div",10),i._UZ(3,"mat-icon",11),i.TgZ(4,"span",12),i._uU(5),i.ALo(6,"translate"),i.qZA(),i.qZA()}if(2&t){const t=e.$implicit,n=i.oxw();i.Q6J("ngClass",i.WLB(8,gj,n.isActive(t.value,t.customKey),i.lcZ(1,4,n.editorService.editorDisabled$))),i.xp6(2),i.Q6J("ngIf",void 0!==t.customKey),i.xp6(1),i.Q6J("svgIcon",n.iconMap.get(t.value)||""),i.xp6(2),i.Oqu(i.lcZ(6,6,t.labelSID||""))}}const fj=Sm.get("editor","mode");let _j=(()=>{class t{constructor(t,e,n,i,o){this.editorService=t,this.formService=e,this.eraService=n,this.translateService=i,this.dialog=o,this.subscriptions=[],this.defaultGameMode="Rush",this.currentSelection=null,this.editorForm=this.editorService.editorForm,this.splitMutatorsFormGroup=this.editorService.splitMutatorsFormGroup,this.iconMap=new Map([["Conquest","conquest"],["ConquestSmall","conquest_small"],["ModBuilderCustom","mod_builder_custom"],["Rush","rush"]]),this.bgSrcMap=new Map([["Conquest",lL("/assets/images/mode-settings/conquest.jpg")],["ConquestSmall",lL("/assets/images/mode-settings/conquest-small.jpg")],["Rush",lL("/assets/images/mode-settings/rush.jpg")],["ModBuilderCustom",lL("/assets/images/mode-settings/tdm.jpg")],["ModBuilderCustom-1",lL("/assets/images/mode-settings/vehicle-tdm.jpg")],["ModBuilderCustom-2",lL("/assets/images/mode-settings/ffa.jpg")]]),this.gameModeOptions$=Hv([this.editorService.gameModeOptions$,this.editorService.mutatorModBuilderGameMode$]).pipe((0,Cr.U)(([t,e])=>t.flatMap(t=>{var n,i,o,r,s;return"ModBuilderCustom"===t&&e?(null!==(s=null===(r=null===(o=null===(i=null===(n=e.kind)||void 0===n?void 0:n.mutatorIntValues)||void 0===i?void 0:i.availableValues)||void 0===o?void 0:o.sparseValues)||void 0===r?void 0:r.values)&&void 0!==s?s:[]).map(t=>({id:`ModBuilderCustom-${t}`,customKey:t,value:"ModBuilderCustom",labelSID:vN(e,t)})):{id:t,value:t,labelSID:`dynamic.gamemodes.${t}.title`}}).sort(t=>void 0!==(null==t?void 0:t.customKey)?1:-1))),this.selectedGameMode=null,this.addSubscription(this.editorService.currentGameMode$.subscribe(t=>{this.selectedGameMode=t}),Hv([this.editorService.splitMutatorsFormGroupChanges$,this.editorService.currentGameMode$]).subscribe({next:([t,e])=>{var n;if(t.hasOwnProperty("ModBuilder_GameMode")&&e){const e=null===(n=t.ModBuilder_GameMode[`${dM.KindCase.mutatorIntValues}`])||void 0===n?void 0:n.value;this.currentSelection=this.buildUniqueSelectionId(this.editorService.gameModeControl.value,e)}}}))}get getDefaultedGameMode(){return"null"!==this.currentSelection&&this.currentSelection?this.currentSelection:this.defaultGameMode}buildUniqueSelectionId(t,e){return`${t}${e?`-${e}`:""}`}isActive(t,e){return this.buildUniqueSelectionId(t,e)===this.currentSelection}onModeSelected(t,e){var n,i,o,r;return QB(this,void 0,void 0,function*(){this.currentSelection!==this.buildUniqueSelectionId(t,e)&&(yield this.onBeforeSelection(!!t))&&(e?(null===(i=null===(n=this.editorService.splitMutatorsFormGroup.get("ModBuilder_GameMode"))||void 0===n?void 0:n.get(`${dM.KindCase.mutatorIntValues}`))||void 0===i||i.patchValue({value:e}),this.editorService.gameModeControl.setValue(t)):(null===(r=null===(o=this.editorService.splitMutatorsFormGroup.get("ModBuilder_GameMode"))||void 0===o?void 0:o.get(`${dM.KindCase.mutatorIntValues}`))||void 0===r||r.patchValue({value:void 0}),this.editorService.gameModeControl.setValue(t)),this.formService.resetGameMode(),this.formService.resetErasAndFactions(this.eraService.isFFA),this.formService.resetGameModeAssetTags({isFFA:this.eraService.isFFA,ffaFaction:this.eraService.ffaFaction,linkedFaction:this.eraService.linkedFaction,team2Faction:this.eraService.team2Faction}),this.editorService.setRules(null),this.currentSelection=this.buildUniqueSelectionId(t,e))})}onBeforeSelection(t){return QB(this,void 0,void 0,function*(){if(!(this.editorService.mapsFormArray.getRawValue().length>0))return!0;const e=this.dialog.open(qN,{width:"512px",data:{body$:this.translateService.get("editor.mode.game-mode."+(null===t?"reset":"change")+"-question")}});return!!(yield e.afterClosed().toPromise())})}addSubscription(...t){this.subscriptions.push(...t)}log(...t){fj.log(...t)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(mN),i.Y36(sV),i.Y36(lV),i.Y36(Bp),i.Y36(aT))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-game-mode"]],decls:12,vars:18,consts:[[1,"wrapper"],[1,"section-title-wrapper"],[3,"className","category","label"],[1,"editor","editor-flex",3,"formGroup"],["class","description",4,"ngIf"],[1,"game-component-button-list",3,"disabled"],["type","button","class","game-component-button",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"description"],[3,"svgIcon"],["type","button",1,"game-component-button",3,"ngClass","click"],["class","custom-indicator",4,"ngIf"],[1,"icon",3,"svgIcon"],[1,"label"],[1,"custom-indicator"],["svgIcon","custom_wrench"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i._UZ(2,"app-playground-tab-header",2),i.ALo(3,"translate"),i.ALo(4,"translate"),i.qZA(),i.TgZ(5,"form",3),i.YNc(6,hj,8,7,"div",4),i.YNc(7,dj,5,4,"div",4),i.TgZ(8,"fieldset",5),i.ALo(9,"async"),i.YNc(10,mj,7,11,"button",6),i.ALo(11,"async"),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.Udp("--game-mode-bg","url("+e.bgSrcMap.get(e.getDefaultedGameMode)+")"),i.xp6(2),i.Q6J("className","game-mode mode")("category",i.lcZ(3,10,"editor.header.mode-category"))("label",i.lcZ(4,12,"editor.header.game-mode")),i.xp6(3),i.Q6J("formGroup",e.editorForm),i.xp6(1),i.Q6J("ngIf",e.selectedGameMode),i.xp6(1),i.Q6J("ngIf",!e.selectedGameMode),i.xp6(1),i.Q6J("disabled",i.lcZ(9,14,e.editorService.editorDisabled$)),i.xp6(2),i.Q6J("ngForOf",i.lcZ(11,16,e.gameModeOptions$)))},directives:[uj,Ls,ns,Gs,R,I,eE,P],pipes:[Fp,Z],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}form[_ngcontent-%COMP%]{width:100%;box-sizing:border-box}@media only screen and (min-width:1921px){form[_ngcontent-%COMP%]{max-width:1920px;margin:0 auto}}form[_ngcontent-%COMP%]   app-grid-selection[_ngcontent-%COMP%]{margin-bottom:50px}.wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-direction:column;height:100%;position:relative;width:100%;background-image:linear-gradient(to bottom,#0000001a 0,#000 900px),linear-gradient(to right,#000 0,#0000001a 20%,#0000001a 80%,#000 100%),var(--game-mode-bg);background-size:cover;background-repeat:no-repeat;background-blend-mode:darken}html[dir=rtl][_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .wrapper[_ngcontent-%COMP%]{direction:rtl}@media only screen and (max-width:767px){.wrapper[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom,#00000080 0,#000 100%),var(--game-mode-bg)}}.temp-gamesize-notice[_ngcontent-%COMP%]{opacity:.7}.editor[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;justify-content:flex-end;min-height:70vh}html[dir=rtl][_ngcontent-%COMP%]   .editor[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .editor[_ngcontent-%COMP%]{direction:rtl}.game-component-button-list[_ngcontent-%COMP%]{display:grid;grid-gap:2px;gap:2px;grid-template-columns:repeat(2,1fr)}html[dir=rtl][_ngcontent-%COMP%]   .game-component-button-list[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .game-component-button-list[_ngcontent-%COMP%]{direction:rtl}@media only screen and (min-width:600px){.game-component-button-list[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media only screen and (min-width:950px){.game-component-button-list[_ngcontent-%COMP%]{grid-template-columns:repeat(6,1fr)}}.game-component-button[_ngcontent-%COMP%]{background-color:#0006;border:none;display:flex;min-height:175px;place-content:center;flex-direction:column;position:relative;font-family:"Purista-Semibold",var(--font-fallback);font-size:20px;text-align:center;text-transform:uppercase;color:#787878;cursor:pointer;padding:0}html[dir=rtl][_ngcontent-%COMP%]   .game-component-button[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .game-component-button[_ngcontent-%COMP%]{direction:rtl}@media (hover:hover){.game-component-button[_ngcontent-%COMP%]:hover{color:#fff}}.game-component-button.active[_ngcontent-%COMP%]{color:#fff}.game-component-button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{min-height:90px;min-width:90px;padding:10px 0;margin-top:auto;place-self:center}.custom-indicator[_ngcontent-%COMP%]{background-color:#a1a1a133;position:absolute;top:0;width:48px;height:48px;-webkit-clip-path:polygon(0 0,0 100%,100% 0);clip-path:polygon(0 0,0 100%,100% 0)}html[dir=ltr][_ngcontent-%COMP%]   .custom-indicator[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .custom-indicator[_ngcontent-%COMP%]{left:0}html[dir=rtl][_ngcontent-%COMP%]   .custom-indicator[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .custom-indicator[_ngcontent-%COMP%]{right:0}html[dir=rtl][_ngcontent-%COMP%]   .custom-indicator[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .custom-indicator[_ngcontent-%COMP%]{-webkit-clip-path:polygon(100% 0,100% 100%,0 0);clip-path:polygon(100% 0,100% 100%,0 0)}.custom-indicator[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{position:absolute;top:3px;color:#787878}html[dir=ltr][_ngcontent-%COMP%]   .custom-indicator[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .custom-indicator[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{left:3px}html[dir=rtl][_ngcontent-%COMP%]   .custom-indicator[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .custom-indicator[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{right:3px}html[dir=rtl][_ngcontent-%COMP%]   .custom-indicator[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .custom-indicator[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{transform:scaleX(-1)}.active[_ngcontent-%COMP%]   .custom-indicator[_ngcontent-%COMP%]{background-color:#fff}.active[_ngcontent-%COMP%]   .custom-indicator[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{color:#000}.label[_ngcontent-%COMP%]{width:100%;padding:10px 0;margin-top:auto}.active[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{background:#fff;color:#000}.description[_ngcontent-%COMP%]{display:flex;flex-grow:1;justify-content:center;flex-direction:column;text-align:center;margin:0 30px}html[dir=rtl][_ngcontent-%COMP%]   .description[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .description[_ngcontent-%COMP%]{direction:rtl}@media only screen and (max-width:767px){.description[_ngcontent-%COMP%]{min-height:500px}}@media only screen and (min-width:768px){.description[_ngcontent-%COMP%]{max-width:500px;margin:0 auto}}@media only screen and (min-width:1031px){.description[_ngcontent-%COMP%]{max-width:850px}}.description[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-family:"BF_Modernista-Regular",var(--font-fallback);font-size:40px;line-height:50px;text-transform:uppercase;flex-direction:column;align-items:center;margin-top:55px;margin-bottom:15px;display:flex;position:relative}html[dir=rtl][_ngcontent-%COMP%]   .description[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .description[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{direction:rtl}@media only screen and (max-width:767px){.description[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{min-height:145px}}@media only screen and (min-width:768px){.description[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-size:50px;line-height:60px}}@media only screen and (min-width:1031px){.description[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-size:60px;line-height:70px}}@media only screen and (min-width:1456px){.description[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{margin-bottom:30px;font-size:92px;line-height:110px}}.description[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{height:90px;width:90px;top:50%;margin-top:-45px}html[dir=ltr][_ngcontent-%COMP%]   .description[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .description[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{left:0}html[dir=rtl][_ngcontent-%COMP%]   .description[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .description[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{right:0}@media only screen and (min-width:768px){.description[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{margin-top:-50px;height:100px;width:100px}}.description[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:16px;line-height:24px;margin-bottom:30px;font-family:"BFText-Regular",var(--font-fallback)}@media only screen and (max-width:767px){.description[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{min-height:100px}}@media only screen and (min-width:600px){.description[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:18px;line-height:28px}}']}),t})(),bj=(()=>{class t{transform(t){var e,n,i;const o=(null===(n=null===(e=t.metadata)||void 0===e?void 0:e.translations)||void 0===n?void 0:n[1].translationId)||"";return"ModBuilderCustom"===(t.gameMode||"")?`${o}_${null===(i=t.levelLocation)||void 0===i?void 0:i.toLocaleUpperCase()}`:o}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Yjl({name:"formatMapEntry",type:t,pure:!1}),t})();function vj(t,e){if(1&t&&i._UZ(0,"mat-icon",6),2&t){const t=i.oxw(2);i.Q6J("svgIcon",t.mapSize)}}const yj=function(t){return[t]};function Cj(t,e){if(1&t&&(i.TgZ(0,"div",1),i.Hsn(1),i.TgZ(2,"div",2),i.YNc(3,vj,1,1,"mat-icon",3),i.qZA(),i.TgZ(4,"div",4),i.TgZ(5,"span",5),i._uU(6),i.ALo(7,"translate"),i.ALo(8,"formatMapEntry"),i.qZA(),i.Hsn(9,1,["class","action-area"]),i.qZA(),i.qZA()),2&t){const t=i.oxw();i.xp6(2),i.Q6J("ngClass",i.VKq(8,yj,t.map.levelName)),i.xp6(1),i.Q6J("ngIf",t.mapSize&&t.isCustomGameMode),i.xp6(2),i.Q6J("ngClass",i.VKq(10,yj,t.map.gameMode)),i.xp6(1),i.hij(" ",i.lcZ(7,4,i.lcZ(8,6,t.map))," ")}}const Oj=[[["","before-area",""]],[["","action-area",""]]],Tj=["[before-area]","[action-area]"];let Ej=(()=>{class t{constructor(t){this.editorService=t,this.subscriptions=[],this.MAP_SIZE_ICON_NAMES=["map-size-s","map-size-m","map-size-l"],this.isCustomGameMode=!1,this.map=null,this.mapSize=null,this.addSubscription(this.editorService.isCustomGameMode$.pipe().subscribe({next:t=>{this.isCustomGameMode=t}}))}ngOnInit(){var t,e;this.mapSize=void 0!==(null===(t=this.map)||void 0===t?void 0:t.levelLocation)?null===(e=this.MAP_SIZE_ICON_NAMES)||void 0===e?void 0:e[parseInt(this.map.levelLocation.substr(-1),10)]:null}addSubscription(...t){this.subscriptions.push(...t)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(mN))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-map-row"]],inputs:{map:"map"},ngContentSelectors:Tj,decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"image",3,"ngClass"],["class","map-size-icon",3,"svgIcon",4,"ngIf"],[1,"info"],["appTruncatedTextTooltip","",1,"level-name",3,"ngClass"],[1,"map-size-icon",3,"svgIcon"]],template:function(t,e){1&t&&(i.F$t(Oj),i.YNc(0,Cj,10,12,"div",0)),2&t&&i.Q6J("ngIf",e.map)},directives:[R,P,XN,eE],pipes:[Fp,bj],styles:["[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}[_nghost-%COMP%]{display:block;background:#121212;border:1px solid #121212}[_nghost-%COMP%]:focus{border-color:#434343}[_nghost-%COMP%]:focus     .icon-btn{color:#fff}@media (hover:hover){[_nghost-%COMP%]:hover{border-color:#434343}[_nghost-%COMP%]:hover     .icon-btn{color:#fff}}[_nghost-%COMP%]:active{border-color:#a1a1a1}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){[_nghost-%COMP%]{border:0}}.compact[_nghost-%COMP%]{border-color:#121212}.compact[_nghost-%COMP%]:focus{border-color:#434343}@media (hover:hover){.compact[_nghost-%COMP%]:hover{border-color:#434343}}.compact[_nghost-%COMP%]:active{border-color:#a1a1a1}.compact[_nghost-%COMP%]:active     .sort-handle{color:#fff}.compact[_nghost-%COMP%]   .map-size-icon[_ngcontent-%COMP%]{top:5px;left:5px;height:30px;width:30px}  .sort-handle{width:20px}  .sort-handle .mat-button-wrapper>mat-icon{width:12px;color:#787878}  .sort-handle:active .mat-button-wrapper>mat-icon,   .sort-handle:focus .mat-button-wrapper>mat-icon{color:#fff}@media (hover:hover){  .sort-handle:hover .mat-button-wrapper>mat-icon{color:#fff}}.container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}@media only screen and (min-width:768px){.container[_ngcontent-%COMP%]{display:block;justify-content:flex-start;align-items:center}}.compact[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.info[_ngcontent-%COMP%]{padding:15px;display:flex;flex-direction:row;align-items:center;justify-content:space-between;flex:1;min-width:0}.image[_ngcontent-%COMP%]{position:relative;background:#ffffff1a;background-repeat:no-repeat;background-position:50%;background-size:cover;height:76px;width:120px;flex-shrink:0}@media only screen and (min-width:768px){.image[_ngcontent-%COMP%]{height:104px;width:unset;flex-shrink:unset}}.compact[_nghost-%COMP%]   .image[_ngcontent-%COMP%]{height:76px;width:120px;flex-shrink:0}.image.MP_Harbor[_ngcontent-%COMP%]{background-image:url(/2384652/assets/images/maps/Map_Art_BFBC2_AH_S.jpg)}.image.MP_LightHouse[_ngcontent-%COMP%]{background-image:url(/2384652/assets/images/maps/Map_Art_BFBC2_VP_S.jpg)}.image.MP_Frost[_ngcontent-%COMP%]{background-image:url(/2384652/assets/images/maps/Map_Art_BF1942_BB_S.jpg)}.image.MP_Oasis[_ngcontent-%COMP%]{background-image:url(/2384652/assets/images/maps/Map_Art_BF1942_EA_S.jpg)}.image.MP_Rural[_ngcontent-%COMP%]{background-image:url(/2384652/assets/images/maps/Map_Art_BF3_CB_S.jpg)}.image.MP_Port[_ngcontent-%COMP%]{background-image:url(/2384652/assets/images/maps/Map_Art_BF3_NC_S.jpg)}.image.MP_Orbital[_ngcontent-%COMP%]{background-image:url(/2384652/assets/images/maps/Map_Art_BF2042_ORB_S.jpg)}.image.MP_Hourglass[_ngcontent-%COMP%]{background-image:url(/2384652/assets/images/maps/Map_Art_BF2042_HG_S.jpg)}.image.MP_Kaleidoscope[_ngcontent-%COMP%]{background-image:url(/2384652/assets/images/maps/Map_Art_BF2042_KS_S.jpg)}.image.MP_Irreversible[_ngcontent-%COMP%]{background-image:url(/2384652/assets/images/maps/Map_Art_BF2042_IRR_S.jpg)}.image.MP_Discarded[_ngcontent-%COMP%]{background-image:url(/2384652/assets/images/maps/Map_Art_BF2042_DIS_S.jpg)}.image.MP_LongHaul[_ngcontent-%COMP%]{background-image:url(/2384652/assets/images/maps/Map_Art_BF2042_LH_S.jpg)}.image.MP_TheWall[_ngcontent-%COMP%]{background-image:url(/2384652/assets/images/maps/Map_Art_BF2042_TW_S.jpg)}.image.MP_Ridge[_ngcontent-%COMP%]{background-image:url(/2384652/assets/images/maps/Map_Art_BF2042_RID_S.jpg)}.level-name[_ngcontent-%COMP%]{font-size:18px}.level-name.ModBuilderCustom[_ngcontent-%COMP%]{font-size:16px}.game-mode[_ngcontent-%COMP%]{color:#b4b4b4;font-size:18px}.action-area[_ngcontent-%COMP%]{position:relative}.map-size-icon[_ngcontent-%COMP%]{position:absolute;top:5px;left:5px;height:30px;width:30px;color:#000}@media only screen and (min-width:768px){.map-size-icon[_ngcontent-%COMP%]{height:44px;width:44px;top:10px;left:10px}}"]}),t})();const Sj=function(t){return{disabled:t}};function wj(t,e){if(1&t){const t=i.EpF();i.ynx(0),i.TgZ(1,"app-map-row",10),i.ynx(2,11),i.TgZ(3,"button",12),i.NdJ("click",function(){const e=i.CHM(t).$implicit;return i.oxw(2).addMap(e)}),i._UZ(4,"mat-icon",13),i.qZA(),i.BQk(),i.qZA(),i.BQk()}if(2&t){const t=e.$implicit,n=i.oxw(2);i.xp6(1),i.Q6J("map",t),i.xp6(2),i.Q6J("ngClass",i.VKq(2,Sj,n.disableAddMaps))}}function Mj(t,e){if(1&t){const t=i.EpF();i.ynx(0),i.TgZ(1,"app-map-row",14),i.ynx(2,11),i.TgZ(3,"button",15),i.NdJ("click",function(){const e=i.CHM(t).index;return i.oxw(2).removeMap(e)}),i._UZ(4,"mat-icon",16),i.qZA(),i.BQk(),i.ynx(5,17),i.TgZ(6,"button",18),i.ALo(7,"async"),i._UZ(8,"mat-icon",19),i.qZA(),i.BQk(),i.qZA(),i.BQk()}if(2&t){const t=e.$implicit,n=i.oxw(2);i.xp6(1),i.Q6J("map",t.value),i.xp6(5),i.Q6J("disabled",i.lcZ(7,2,n.editorService.editorDisabled$))}}function xj(t,e){1&t&&(i.TgZ(0,"div",20),i.TgZ(1,"div",21),i._UZ(2,"mat-icon",22),i.TgZ(3,"h3"),i._uU(4),i.ALo(5,"translate"),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(4),i.Oqu(i.lcZ(5,1,"editor.package.maps.drag-and-drop-empty")))}const Pj=function(t){return{"is-empty":t}},kj=function(t,e){return{current:t,max:e}};function Ij(t,e){if(1&t&&(i.ynx(0,2),i.TgZ(1,"div",3),i.TgZ(2,"div",4),i.TgZ(3,"h3"),i._uU(4),i.ALo(5,"translate"),i.qZA(),i.qZA(),i.TgZ(6,"div",5),i.YNc(7,wj,5,4,"ng-container",6),i.qZA(),i.qZA(),i.TgZ(8,"div",7),i.TgZ(9,"div",4),i.TgZ(10,"h3"),i._uU(11),i.ALo(12,"translate"),i.qZA(),i.qZA(),i.TgZ(13,"div",8),i.YNc(14,Mj,9,4,"ng-container",6),i.qZA(),i.YNc(15,xj,6,3,"div",9),i.qZA(),i.BQk()),2&t){const t=e.ngIf,n=i.oxw();i.xp6(4),i.Oqu(i.lcZ(5,12,"editor.package.maps.available-maps")),i.xp6(2),i.Q6J("sortablejs",t)("sortablejsCloneFunction",n.selectDragDropMap)("sortablejsOptions",n.availableSortableOptions),i.xp6(1),i.Q6J("ngForOf",t),i.xp6(1),i.Q6J("ngClass",i.VKq(17,Pj,!n.editorService.mapsFormArray.controls.length)),i.xp6(3),i.hij(" ",i.xi3(12,14,"editor.package.maps.playground-map-rotation",i.WLB(19,kj,n.currentMapCount,n.maxMapCount))," "),i.xp6(2),i.Q6J("sortablejs",n.editorService.mapsFormArray.controls)("sortablejsOptions",n.selectedSortableOptions)("sortablejsCloneFunction",n.selectDragDropMap),i.xp6(1),i.Q6J("ngForOf",n.editorService.mapsFormArray.controls),i.xp6(1),i.Q6J("ngIf",!n.editorService.mapsFormArray.controls.length)}}let Aj=(()=>{class t{constructor(t,e,n,i){this.formBuilder=t,this.editorService=e,this.translateService=n,this.cdRef=i,this.subscriptions=[],this.editorForm=this.editorService.editorForm,this.filteredMaps$=this.editorService.filteredBlueprintMapEntries$,this.maxMapCount=0,this.editorDisabled=!1,this.isCustomGameMode=!1,this.availableSortableOptions={group:{name:"clone-group",pull:"clone",put:!1},sort:!1},this.selectedSortableOptions={group:{name:"clone-group",put:(t,e)=>t.el.children.length<this.maxMapCount},swapThreshold:1,onUpdate:()=>{this.editorService.mapsFormArray.markAsDirty()},onAdd:()=>{this.editorService.mapsFormArray.updateValueAndValidity({onlySelf:!1,emitEvent:!0})},handle:this.isTouchInputDevice?".sort-handle":void 0},this.isSelected=t=>!!this.editorService.mapsFormArray.getRawValue().find(e=>e===t),this.selectDragDropMap=t=>{if(!(this.disableAddMaps||this.isEditorDisabled||this.isTouchInputDevice))return this.editorService.mapsFormArray.markAsDirty(),this.formBuilder.control(t)}}get disableAddMaps(){return this.editorDisabled||this.currentMapCount>=this.maxMapCount}get isEditorDisabled(){return this.editorDisabled}get currentMapCount(){return this.editorService.mapsFormArray.value.length}get isTouchInputDevice(){return(navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&256!==navigator.maxTouchPoints}ngOnInit(){this.addSubscription(this.editorService.playgroundConstraints$.pipe($g()).subscribe({next:t=>{this.maxMapCount=t.maxMapsInRotation||0,this.updateSortableOptions()}}),this.editorService.editorDisabled$.pipe($g()).subscribe({next:t=>{this.editorDisabled=t,this.updateSortableOptions()}}),this.editorService.isCustomGameMode$.pipe($g()).subscribe({next:t=>{this.isCustomGameMode=t}}))}updateSortableOptions(){this.availableSortableOptions.disabled=this.disableAddMaps||this.isTouchInputDevice,this.selectedSortableOptions.disabled=this.disableAddMaps,this.cdRef.detectChanges()}addMap(t){if(this.disableAddMaps||!t)return;const e=this.editorService.mapsFormArray;e.insert(0,this.formBuilder.control(t)),e.markAsDirty(),this.updateSortableOptions()}removeMap(t){var e;this.isEditorDisabled||(this.editorService.mapsFormArray.removeAt(t),null===(e=this.editorService.mapsFormArray)||void 0===e||e.markAsDirty(),this.updateSortableOptions())}addSubscription(...t){this.subscriptions.push(...t)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(ta),i.Y36(mN),i.Y36(Bp),i.Y36(i.sBO))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-order-maps"]],decls:3,vars:4,consts:[[1,"order-maps-container",3,"formGroup"],["formArrayName","maps",4,"ngIf"],["formArrayName","maps"],[1,"available-maps-container"],[1,"header"],[1,"available-maps",3,"sortablejs","sortablejsCloneFunction","sortablejsOptions"],[4,"ngFor","ngForOf"],[1,"selected-maps-container",3,"ngClass"],[1,"selected-maps",3,"sortablejs","sortablejsOptions","sortablejsCloneFunction"],["class","empty-content",4,"ngIf"],[1,"item","map-row",3,"map"],["action-area",""],["type","button",1,"icon-btn",3,"ngClass","click"],["svgIcon","add_circle_outline"],[1,"item","map-row","compact",3,"map"],["type","button",1,"icon-btn",3,"click"],["svgIcon","remove_circle_outline"],["before-area",""],["mat-icon-button","","aria-label","move",1,"sort-handle",3,"disabled"],["svgIcon","dehaze"],[1,"empty-content"],[1,"empty-label"],["svgIcon","add"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.YNc(1,Ij,16,22,"ng-container",1),i.ALo(2,"async"),i.qZA()),2&t&&(i.Q6J("formGroup",e.editorForm),i.xp6(1),i.Q6J("ngIf",i.lcZ(2,2,e.filteredMaps$)))},directives:[ns,Gs,R,Ws,dp,I,P,Ej,eE,rb],pipes:[Z,Fp],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}[_nghost-%COMP%]{display:block;height:100%}.order-maps-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 444px;grid-template-areas:"editor-maps-side editor-maps-main";grid-column-gap:2px;column-gap:2px;height:100%}.header[_ngcontent-%COMP%]{background:#000;display:flex;justify-content:space-between;align-items:center;padding:10px 20px;text-transform:uppercase;height:48px}.header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:"Purista-Semibold",var(--font-fallback);margin:0;font-size:20px}.sort-handle[_ngcontent-%COMP%]{width:20px;color:#787878}@media (hover:hover){.sort-handle[_ngcontent-%COMP%]:hover{color:#fff}}.sort-handle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:12px;height:12px}.available-maps-container[_ngcontent-%COMP%]{grid-area:editor-maps-side;position:relative}.available-maps[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(265px,1fr));position:absolute;top:48px;bottom:0;left:0;right:0;overflow-y:auto;padding:15px;background:#0009;grid-gap:15px;grid-auto-rows:-webkit-max-content;grid-auto-rows:max-content;scrollbar-width:thin}html[dir=rtl][_ngcontent-%COMP%]   .available-maps[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .available-maps[_ngcontent-%COMP%]{direction:rtl}@media only screen and (min-width:1031px){.available-maps[_ngcontent-%COMP%]{bottom:104px}}.available-maps[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}.available-maps[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0000}.available-maps[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#fff3;border-radius:12px;background-clip:padding-box;border:3px solid #0000}.selected-maps-container[_ngcontent-%COMP%]{grid-area:editor-maps-main;background:#0009;position:relative}.selected-maps-container.is-empty[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;align-items:center;text-align:center}.selected-maps-container[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]{position:absolute;top:48px;bottom:0;left:0;right:0;border:1px dashed #ffffff80;margin:15px}@media only screen and (min-width:1031px){.selected-maps-container[_ngcontent-%COMP%]   .empty-content[_ngcontent-%COMP%]{bottom:104px}}.selected-maps-container[_ngcontent-%COMP%]   .empty-label[_ngcontent-%COMP%]{color:#ffffff80;position:absolute;top:50%;left:50%;max-width:305px;transform:translateX(-50%) translateY(-50%) translateY(24px)}.selected-maps-container[_ngcontent-%COMP%]   .empty-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-family:"Purista-Semibold",var(--font-fallback);font-size:20px;font-style:normal;font-weight:400;line-height:27px;letter-spacing:.03em;text-transform:uppercase}html[lang=ar][_ngcontent-%COMP%]   .selected-maps-container[_ngcontent-%COMP%]   .empty-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], html[lang=ar]   [_nghost-%COMP%]   .selected-maps-container[_ngcontent-%COMP%]   .empty-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{letter-spacing:0}.selected-maps[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(265px,1fr));position:absolute;top:48px;bottom:0;left:0;right:0;scrollbar-width:thin;overflow-y:auto;padding:15px;grid-auto-rows:-webkit-max-content;grid-auto-rows:max-content;grid-gap:2px}html[dir=rtl][_ngcontent-%COMP%]   .selected-maps[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .selected-maps[_ngcontent-%COMP%]{direction:rtl}@media only screen and (min-width:1031px){.selected-maps[_ngcontent-%COMP%]{bottom:104px}}.selected-maps[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}.selected-maps[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0000}.selected-maps[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#fff3;border-radius:12px;background-clip:padding-box;border:3px solid #0000}.item[_ngcontent-%COMP%]{cursor:move}.sortable-ghost[_ngcontent-%COMP%]{opacity:.8}.icon-btn[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:unset;border:none;cursor:pointer;color:#c7c7c7}.icon-btn.disabled[_ngcontent-%COMP%]{opacity:.4;cursor:default}.icon-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}']}),t})();function Rj(t,e){1&t&&(i.ynx(0),i._UZ(1,"app-order-maps"),i.BQk())}function Dj(t,e){}function Lj(t,e){1&t&&i.YNc(0,Dj,0,0,"ng-template")}const Nj=function(t){return{"disabled-opacity":t}};function Bj(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"app-map-row",12),i.ynx(1,13),i.TgZ(2,"button",14),i.NdJ("click",function(){const e=i.CHM(t).index;return i.oxw(4).removeMap(e)}),i.ALo(3,"async"),i._UZ(4,"mat-icon",15),i.qZA(),i.BQk(),i.ynx(5,16),i.TgZ(6,"button",17),i.ALo(7,"async"),i._UZ(8,"mat-icon",18),i.qZA(),i.BQk(),i.qZA()}if(2&t){const t=e.$implicit,n=i.oxw(4);i.Q6J("map",t.value),i.xp6(2),i.Q6J("ngClass",i.VKq(7,Nj,i.lcZ(3,3,n.editorService.editorDisabled$))),i.xp6(4),i.Q6J("disabled",i.lcZ(7,5,n.editorService.editorDisabled$))}}function Fj(t,e){if(1&t&&(i.TgZ(0,"div",9),i.TgZ(1,"div",10),i.YNc(2,Bj,9,9,"app-map-row",11),i.qZA(),i.qZA()),2&t){const t=i.oxw(3);i.xp6(1),i.Q6J("sortablejs",t.editorService.mapsFormArray.controls)("sortablejsOptions",t.selectedSortableOptions),i.xp6(1),i.Q6J("ngForOf",t.editorService.mapsFormArray.controls)}}function Uj(t,e){if(1&t&&(i.YNc(0,Fj,3,3,"div",8),i.ALo(1,"async")),2&t){const t=i.oxw(2);i.Q6J("ngIf",i.lcZ(1,1,t.editorService.filteredBlueprintMapEntries$))}}function Vj(t,e){1&t&&(i.TgZ(0,"div",19),i.TgZ(1,"p",20),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.qZA()),2&t&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"editor.package.maps.add-map-mobile-prompt")))}function Gj(t,e){if(1&t){const t=i.EpF();i.ynx(0),i.YNc(1,Lj,1,0,void 0,3),i.YNc(2,Uj,2,3,"ng-template",null,4,i.W1O),i.YNc(4,Vj,4,3,"ng-template",null,5,i.W1O),i.TgZ(6,"a",6),i.NdJ("click",function(){return i.CHM(t),i.oxw().openBottomSheet()}),i._uU(7),i.ALo(8,"translate"),i._UZ(9,"mat-icon",7),i.qZA(),i.BQk()}if(2&t){const t=i.MAs(3),e=i.MAs(5),n=i.oxw();i.xp6(1),i.Q6J("ngIf",n.editorService.mapsFormArray.length>0)("ngIfThen",t)("ngIfElse",e),i.xp6(6),i.hij(" ",i.lcZ(8,4,"editor.package.maps.add-map")," ")}}const jj=function(t){return{disabled:t}};function Hj(t,e){if(1&t){const t=i.EpF();i.ynx(0),i.TgZ(1,"app-map-row",5),i.ynx(2,6),i.TgZ(3,"button",7),i.NdJ("click",function(){const e=i.CHM(t).$implicit;return i.oxw(2).addMap(e)}),i._UZ(4,"mat-icon",8),i.qZA(),i.BQk(),i.qZA(),i.BQk()}if(2&t){const t=e.$implicit,n=i.oxw(2);i.xp6(1),i.Q6J("map",t),i.xp6(2),i.Q6J("ngClass",i.VKq(2,jj,n.disableAddMaps))}}function zj(t,e){if(1&t&&(i.TgZ(0,"form",3),i.YNc(1,Hj,5,4,"ng-container",4),i.qZA()),2&t){const t=e.ngIf,n=i.oxw();i.Q6J("formGroup",n.editorForm),i.xp6(1),i.Q6J("ngForOf",t)}}const Wj=function(t,e){return{current:t,max:e}},Zj=Sm.get("editor","mode");let Yj=(()=>{class t{constructor(t,e,n){this.editorService=t,this.layoutService=e,this._bottomSheet=n,this.editorForm=this.editorService.editorForm,this.menuTitle="",this.menuSection="",this.subscriptions=[],this.selectedSortableOptions={handle:".sort-handle",onUpdate:()=>{this.editorService.mapsFormArray.markAsDirty()}}}removeMap(t){var e;this.editorService.mapsFormArray.removeAt(t),null===(e=this.editorService.mapsFormArray)||void 0===e||e.controls[t].markAsDirty()}openBottomSheet(){this._bottomSheet.open(qj)}log(...t){Zj.log(...t)}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(mN),i.Y36(KN),i.Y36(YE))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-choose-maps"]],decls:8,vars:13,consts:[[3,"category","label"],[1,"editor","editor-flex",3,"formGroup"],[4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],["maps",""],["mapPrompt",""],["mat-button","",1,"add-map-btn",3,"click"],["svgIcon","add"],["formArrayName","maps",4,"ngIf"],["formArrayName","maps"],[1,"selected-maps",3,"sortablejs","sortablejsOptions"],["class","map-row",3,"map",4,"ngFor","ngForOf"],[1,"map-row",3,"map"],["action-area",""],["type","button",1,"icon-btn",3,"ngClass","click"],["svgIcon","remove_circle_outline"],["before-area",""],["type","button","mat-icon-button","","aria-label","move",1,"sort-handle",3,"disabled"],["svgIcon","dehaze"],[1,"prompt-wrapper"],[1,"prompt"]],template:function(t,e){1&t&&(i._UZ(0,"app-playground-tab-header",0),i.ALo(1,"translate"),i.ALo(2,"translate"),i.TgZ(3,"form",1),i.YNc(4,Rj,2,0,"ng-container",2),i.ALo(5,"async"),i.YNc(6,Gj,10,6,"ng-container",2),i.ALo(7,"async"),i.qZA()),2&t&&(i.Q6J("category",i.lcZ(1,5,"editor.header.mode-category"))("label",i.lcZ(2,7,"editor.header.map-rotation")),i.xp6(3),i.Q6J("formGroup",e.editorForm),i.xp6(1),i.Q6J("ngIf",e.editorService.gameModeControl.value&&!0===i.lcZ(5,9,e.layoutService.isTabletPlus$)),i.xp6(2),i.Q6J("ngIf",!1===i.lcZ(7,11,e.layoutService.isTabletPlus$)))},directives:[uj,Ls,ns,Gs,R,Aj,sb,eE,Ws,dp,I,Ej,P,rb],pipes:[Fp,Z],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}[_nghost-%COMP%]{display:block;position:relative;background-color:#001621;background-image:linear-gradient(180deg,#0016211a 0,#001621 900px),linear-gradient(90deg,#001621 0,#0016211a 20%,#0016211a 80%,#001621),url(/2384652/assets/backgrounds/generic.jpg);background-size:2304px auto,2304px auto;background-repeat:no-repeat;background-position:top}@media only screen and (max-width:767px){[_nghost-%COMP%]{background-image:linear-gradient(180deg,#00162180 0,#001621),url(/2384652/assets/backgrounds/generic.jpg)}}form[_ngcontent-%COMP%]{width:100%;box-sizing:border-box}@media only screen and (min-width:1921px){form[_ngcontent-%COMP%]{max-width:1920px;margin:0 auto}}.editor[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;justify-content:space-between;height:calc(100% - 124px);min-height:calc(100vh - 265px)}@media only screen and (min-width:768px){.editor[_ngcontent-%COMP%]{height:100%}}.icon-btn[_ngcontent-%COMP%]{background-color:unset;border:none;color:#fff;cursor:pointer}.map-row[_ngcontent-%COMP%] + .map-row[_ngcontent-%COMP%]{margin-top:1px}.map-row[_ngcontent-%COMP%] + .map-row[_ngcontent-%COMP%]   .sort-handle[_ngcontent-%COMP%]{height:72px}.map-row[_ngcontent-%COMP%] + .map-row[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.add-map-btn[_ngcontent-%COMP%]{background:#fff;color:#000;margin:20px 20px 0}.prompt-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:48px}.prompt-wrapper[_ngcontent-%COMP%]   .prompt[_ngcontent-%COMP%]{font-size:24px}.map-options[_ngcontent-%COMP%]{width:1232px;margin-bottom:32px;display:flex;flex-direction:row;flex-wrap:wrap;padding:0 90px}@media only screen and (max-width:1400px){.map-options[_ngcontent-%COMP%]{width:100%}}.map-options[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{width:200px;height:110px;margin-right:8px;margin-bottom:8px;border:1px solid #ffffff0d;background:#ffffff1a;display:flex;justify-content:center;align-items:center;flex-direction:column}.map-options[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .gamesize[_ngcontent-%COMP%]{font-size:12px;opacity:.7}  .container h3{font-family:"BFText-Regular",var(--font-fallback)}']}),t})(),qj=(()=>{class t{constructor(t,e,n,i){this.formBuilder=t,this.editorService=e,this._bottomSheetRef=n,this.cdRef=i,this.subscriptions=[],this.editorForm=this.editorService.editorForm,this.maxMapCount=0,this.editorDisabled=!1,this.close=()=>{this._bottomSheetRef.dismiss()},this.addSubscription(this.editorService.playgroundConstraints$.pipe($g()).subscribe({next:t=>{this.maxMapCount=t.maxMapsInRotation||0}}),this.editorService.editorDisabled$.pipe($g()).subscribe({next:t=>{this.editorDisabled=t}}))}get disableAddMaps(){return this.editorDisabled||this.currentMapCount>=this.maxMapCount}get isEditorDisabled(){return this.editorDisabled}get currentMapCount(){return this.editorService.mapsFormArray.value.length}addMap(t){if(this.disableAddMaps||this.isEditorDisabled)return;const e=this.editorService.mapsFormArray;e.insert(0,this.formBuilder.control(t)),e.markAsDirty(),this.cdRef.detectChanges()}addSubscription(...t){this.subscriptions.push(...t)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(ta),i.Y36(mN),i.Y36(WE),i.Y36(i.sBO))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-choose-maps"]],decls:5,vars:11,consts:[[3,"title","onClose"],["content",""],["class","map-list",3,"formGroup",4,"ngIf"],[1,"map-list",3,"formGroup"],[4,"ngFor","ngForOf"],[1,"map-list-item",3,"map"],["action-area",""],["type","button",1,"add-btn",3,"ngClass","click"],["svgIcon","add_circle_outline"]],template:function(t,e){1&t&&(i.TgZ(0,"app-mobile-content",0),i.ALo(1,"translate"),i.ynx(2,1),i.YNc(3,zj,2,2,"form",2),i.ALo(4,"async"),i.BQk(),i.qZA()),2&t&&(i.Q6J("title",i.xi3(1,3,"editor.package.maps.add-maps-rotation",i.WLB(8,Wj,e.currentMapCount,e.maxMapCount)))("onClose",e.close),i.xp6(3),i.Q6J("ngIf",i.lcZ(4,6,e.editorService.filteredBlueprintMapEntries$)))},directives:[VF,R,Ls,ns,Gs,I,Ej,P,eE],pipes:[Fp,Z],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;text-transform:uppercase}.header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:"Purista-Semibold",var(--font-fallback);margin:0;font-weight:600;font-size:20px}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px;color:#787878}.map-list-item[_ngcontent-%COMP%] + .map-list-item[_ngcontent-%COMP%]{margin-top:1px}.mat-nav-list[_ngcontent-%COMP%]{padding:0}.add-btn[_ngcontent-%COMP%]{height:48px;width:48px;display:flex;justify-content:center;align-items:center;background-color:unset;border:none;color:#fff;cursor:pointer}.add-btn.disabled[_ngcontent-%COMP%]{opacity:.6}.add-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:36px;width:36px;height:36px}']}),t})();function Jj(t,e){if(1&t&&i._UZ(0,"app-mutator-boolean",3),2&t){const t=i.oxw();i.Q6J("mutator",t.mutator)("control",t.control)("isDisabled",t.isDisabled)}}function $j(t,e){if(1&t&&i._UZ(0,"app-mutator-float",3),2&t){const t=i.oxw();i.Q6J("mutator",t.mutator)("control",t.control)("isDisabled",t.isDisabled)}}function Kj(t,e){if(1&t&&i._UZ(0,"app-mutator-int",4),2&t){const t=i.oxw();i.Q6J("mutator",t.mutator)("control",t.control)("isDisabled",t.isDisabled)("onChange",t.onChange)("onOpenedChange",t.onOpenedChange)}}function Xj(t,e){if(1&t&&i._UZ(0,"app-mutator-boolean-sparse",3),2&t){const t=i.oxw();i.Q6J("mutator",t.mutator)("control",t.control)("isDisabled",t.isDisabled)}}function Qj(t,e){if(1&t&&i._UZ(0,"app-mutator-float-sparse",3),2&t){const t=i.oxw();i.Q6J("mutator",t.mutator)("control",t.control)("isDisabled",t.isDisabled)}}function tH(t,e){if(1&t&&i._UZ(0,"app-mutator-int-sparse",3),2&t){const t=i.oxw();i.Q6J("mutator",t.mutator)("control",t.control)("isDisabled",t.isDisabled)}}function eH(t,e){if(1&t&&i._UZ(0,"app-mutator-string",3),2&t){const t=i.oxw();i.Q6J("mutator",t.mutator)("control",t.control)("isDisabled",t.isDisabled)}}const nH=Sm.get("mutator");let iH=(()=>{class t{constructor(){this.subscriptions=[],this.showDescription=!1,this.AvailableMutatorKind=dM,this.formValues=new i.vpe,this.isDisabled=!1,this.onChange=t=>{},this.onOpenedChange=t=>{}}get formGroup(){var t;const e=this.mutator.kind&&mN.getMutatorType(this.mutator.kind);if((null===(t=this.mutator)||void 0===t?void 0:t.kind)&&e&&null!==e.index)return this.control.get([null!==e.index?e.index:0]);nH.error("Mutator is missing kind value.")}get name(){var t;return null!==(t=this.mutator.name)&&void 0!==t?t:"N/A"}get isPerTeam(){var t;return null!==(t=this.name.includes("PerTeam"))&&void 0!==t&&t}get value(){var t;return this.isPerTeam||null===(t=this.formGroup)||void 0===t?void 0:t.get("value")}get global(){var t,e;return null===(e=null===(t=this.formGroup)||void 0===t?void 0:t.get("values"))||void 0===e?void 0:e.get("0")}get team1(){var t,e;return this.isPerTeam?null===(e=null===(t=this.formGroup)||void 0===t?void 0:t.get("values"))||void 0===e?void 0:e.get("1"):void 0}get team2(){var t,e;return this.isPerTeam?null===(e=null===(t=this.formGroup)||void 0===t?void 0:t.get("values"))||void 0===e?void 0:e.get("2"):void 0}get perTeamValue(){var t;return this.isPerTeam?null===(t=this.formGroup)||void 0===t?void 0:t.get("perTeam"):void 0}get mutatorTranslations(){return function(t){var e,n,i,o,r,s;return{name:null!==(i=null===(n=null===(e=null==t?void 0:t.metadata)||void 0===e?void 0:e.translations)||void 0===n?void 0:n[0].translationId)&&void 0!==i?i:"",description:null!==(s=null===(r=null===(o=null==t?void 0:t.metadata)||void 0===o?void 0:o.translations)||void 0===r?void 0:r[1].translationId)&&void 0!==s?s:""}}(this.mutator)}get kindIndex(){var t;return this.mutator.kind?null===(t=mN.getMutatorType(this.mutator.kind))||void 0===t?void 0:t.index:null}ngOnChanges(t){var e,n,i,o;(null===(e=t.isDisabled)||void 0===e?void 0:e.currentValue)&&(null===(n=this.mutator.category)||void 0===n?void 0:n.includes("WA_ST_AI_Sync"))&&this.control.disable(),!(null===(i=t.isDisabled)||void 0===i?void 0:i.currentValue)&&(null===(o=this.mutator.category)||void 0===o?void 0:o.includes("WA_ST_AI_Sync"))&&this.control.enable()}perTeamHandler(){var t,e;null===(t=this.perTeamValue)||void 0===t||t.setValue(!(null===(e=this.formGroup)||void 0===e?void 0:e.value.perTeam)),this.control.markAsDirty()}toInput(t){return null===t?"":t.toString()}toSlider(t){return Number(t)}toggleDescription(t){this.showDescription=t}addSubscription(...t){this.subscriptions.push(...t)}clearSubscription(){this.subscriptions.forEach(t=>t.unsubscribe())}onMinMaxInputChange(t){var e;null===(e=this.global)||void 0===e||e.setValue(t)}onTeam1MinMaxChange(t){var e;null===(e=this.team1)||void 0===e||e.setValue(t)}onTeam2MinMaxChange(t){var e;null===(e=this.team2)||void 0===e||e.setValue(t)}ngOnDestroy(){this.clearSubscription()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-mutator"]],inputs:{mutator:"mutator",control:"control",isDisabled:"isDisabled",onChange:"onChange",onOpenedChange:"onOpenedChange"},outputs:{formValues:"formValues"},features:[i.TTD],decls:8,vars:8,consts:[[3,"ngSwitch"],[3,"mutator","control","isDisabled",4,"ngSwitchCase"],[3,"mutator","control","isDisabled","onChange","onOpenedChange",4,"ngSwitchCase"],[3,"mutator","control","isDisabled"],[3,"mutator","control","isDisabled","onChange","onOpenedChange"]],template:function(t,e){1&t&&(i.ynx(0,0),i.YNc(1,Jj,1,3,"app-mutator-boolean",1),i.YNc(2,$j,1,3,"app-mutator-float",1),i.YNc(3,Kj,1,5,"app-mutator-int",2),i.YNc(4,Xj,1,3,"app-mutator-boolean-sparse",1),i.YNc(5,Qj,1,3,"app-mutator-float-sparse",1),i.YNc(6,tH,1,3,"app-mutator-int-sparse",1),i.YNc(7,eH,1,3,"app-mutator-string",1),i.BQk()),2&t&&(i.Q6J("ngSwitch",e.kindIndex),i.xp6(1),i.Q6J("ngSwitchCase",e.AvailableMutatorKind.KindCase.mutatorBoolean),i.xp6(1),i.Q6J("ngSwitchCase",e.AvailableMutatorKind.KindCase.mutatorFloatValues),i.xp6(1),i.Q6J("ngSwitchCase",e.AvailableMutatorKind.KindCase.mutatorIntValues),i.xp6(1),i.Q6J("ngSwitchCase",e.AvailableMutatorKind.KindCase.mutatorSparseBoolean),i.xp6(1),i.Q6J("ngSwitchCase",e.AvailableMutatorKind.KindCase.mutatorSparseFloatValues),i.xp6(1),i.Q6J("ngSwitchCase",e.AvailableMutatorKind.KindCase.mutatorSparseIntValues),i.xp6(1),i.Q6J("ngSwitchCase",e.AvailableMutatorKind.KindCase.mutatorString))},encapsulation:2}),t})(),oH=(()=>{class t{constructor(t){this.el=t,this.appAnimatedOverflowText="",this.isMarqueeActivated=!1,this.resize$=new jp.xQ,this.isHovering=!1,this.isMobileDevice=!1,this.subscriptions=[]}isElementOverflowing(){return this.el.nativeElement.firstElementChild&&this.el.nativeElement.firstElementChild.classList.contains("mat-option-text")?this.el.nativeElement.firstElementChild.offsetWidth<this.el.nativeElement.firstElementChild.scrollWidth:this.el.nativeElement.offsetWidth<this.el.nativeElement.scrollWidth}applyMarqueeAnimation(t,e,n){t.animate([{transform:"translateX(0)"},{transform:"translateX(0)"},{transform:`translateX(${n-(e+10)}px)`},{transform:`translateX(${n-(e+10)}px)`},{transform:"translateX(0)"},{transform:"translateX(0)"}],{duration:4500,iterations:1/0}),t.classList.add("marquee")}addMarqueeStyling(){if(this.isMarqueeActivated=!0,this.el.nativeElement.firstElementChild&&this.el.nativeElement.firstElementChild.classList.contains("mat-option-text")){const t=this.el.nativeElement.firstElementChild.scrollWidth,e=this.el.nativeElement.firstElementChild.offsetWidth;this.el.nativeElement.firstElementChild.innerHTML=`<span class="animated-content-wrapper">${this.el.nativeElement.firstElementChild.innerText}</span>`;const n=this.el.nativeElement.querySelector(".animated-content-wrapper");return void this.applyMarqueeAnimation(n,t,e)}const t=this.el.nativeElement.scrollWidth,e=this.el.nativeElement.offsetWidth;this.el.nativeElement.innerHTML=`<span>${this.el.nativeElement.innerText}</span>`,this.applyMarqueeAnimation(this.el.nativeElement.firstElementChild,t,e)}removeMarqueeStyling(){var t,e,n,i,o;if(this.isMarqueeActivated=!1,null===(t=this.el.nativeElement.firstElementChild)||void 0===t?void 0:t.classList.contains("mat-option-text")){const t=this.el.nativeElement.querySelector(".animated-content-wrapper");return null==t||t.classList.remove("marquee"),void(null===(e=null==t?void 0:t.getAnimations()[0])||void 0===e||e.cancel())}null===(n=this.el.nativeElement.firstElementChild)||void 0===n||n.classList.remove("marquee"),null===(o=null===(i=this.el.nativeElement.firstElementChild)||void 0===i?void 0:i.getAnimations()[0])||void 0===o||o.cancel()}toggleMarqueeStyling(){this.isElementOverflowing()?this.addMarqueeStyling():(!1===this.isElementOverflowing()&&this.el.nativeElement.firstElementChild&&this.el.nativeElement.firstElementChild.classList.contains("mat-option-text")&&this.isMarqueeActivated||!1===this.isElementOverflowing()&&this.el.nativeElement.firstElementChild&&this.el.nativeElement.firstElementChild.classList.contains("marquee")&&this.isMarqueeActivated)&&this.removeMarqueeStyling()}onClick(){this.isElementOverflowing()&&this.isMobileDevice&&this.addMarqueeStyling()}onResize(){this.resize$.next(),this.isMobileDevice&&this.toggleMarqueeStyling()}mouseenterListener(){this.isHovering||(this.isHovering=!0),!this.isMobileDevice&&this.isHovering&&this.isElementOverflowing()&&!this.isMarqueeActivated&&this.addMarqueeStyling()}mouseleaveListener(){this.isHovering&&(this.isHovering=!1),this.isMobileDevice||this.isHovering||this.removeMarqueeStyling()}addSubscription(...t){this.subscriptions.push(...t)}ngOnInit(){/Mobi|Android/i.test(navigator.userAgent)&&(this.isMobileDevice=!0);const t=this.resize$.pipe((0,ef.b)(500)).subscribe();this.addSubscription(t)}ngAfterContentInit(){this.isMobileDevice&&this.toggleMarqueeStyling()}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq))},t.\u0275dir=i.lG2({type:t,selectors:[["","appAnimatedOverflowText",""]],hostBindings:function(t,e){1&t&&i.NdJ("click",function(t){return e.onClick(t.target)},!1,i.evT)("resize",function(t){return e.onResize(t.target)},!1,i.Jf7)("mouseenter",function(){return e.mouseenterListener()})("mouseleave",function(){return e.mouseleaveListener()})},inputs:{appAnimatedOverflowText:"appAnimatedOverflowText"}}),t})();function rH(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"button",3),i.NdJ("click",function(){return i.CHM(t),i.oxw().toggleOverlay()}),i.ALo(1,"translate"),i._UZ(2,"mat-icon",4),i.qZA()}if(2&t){const t=i.oxw();i.uIk("aria-label",i.lcZ(1,2,t.showInfoOverlay?"mutators.hide-description":"mutators.show-description")),i.xp6(2),i.Q6J("svgIcon",t.showInfoOverlay?"close":"info")}}let sH=(()=>{class t{constructor(){this.name="",this.description="",this.newToggleEvent=new i.vpe,this.showInfoOverlay=!1}ngOnInit(){}toggleOverlay(){this.showInfoOverlay=!this.showInfoOverlay,this.newToggleEvent.emit(this.showInfoOverlay)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-mutator-header"]],inputs:{name:"name",description:"description"},outputs:{newToggleEvent:"newToggleEvent"},decls:5,vars:4,consts:[[1,"title-wrapper"],[1,"title",3,"appAnimatedOverflowText"],["type","button","class","overlay-trigger",3,"click",4,"ngIf"],["type","button",1,"overlay-trigger",3,"click"],[1,"info-icon",3,"svgIcon"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.YNc(4,rH,3,4,"button",2),i.qZA()),2&t&&(i.xp6(2),i.Oqu(i.lcZ(3,2,e.name)),i.xp6(2),i.Q6J("ngIf",e.description))},directives:[oH,R,eE],pipes:[Fp],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}.overlay[_ngcontent-%COMP%]{display:flex;height:100%;background-color:#000c;position:absolute;width:100%;z-index:1}html[dir=rtl][_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]{direction:rtl}.overlay-trigger[_ngcontent-%COMP%]{position:relative;bottom:11px;width:24px;height:24px;color:#787878;background:none;padding:0;border:none;cursor:pointer}@media (hover:hover){.overlay-trigger[_ngcontent-%COMP%]:hover{color:#fff}}.title-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}html[dir=rtl][_ngcontent-%COMP%]   .title-wrapper[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .title-wrapper[_ngcontent-%COMP%]{direction:rtl}.title-wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:"Purista-Semibold",var(--font-fallback);font-size:24px;margin-bottom:16px;padding-bottom:8px;width:90%;white-space:nowrap;overflow-x:hidden}@media only screen and (max-width:767px){.title-wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:18px}}.title-wrapper[_ngcontent-%COMP%]   .multi-line-tooltip[_ngcontent-%COMP%]{white-space:pre}.title-wrapper[_ngcontent-%COMP%]   .tooltip-icon[_ngcontent-%COMP%]{color:#787878}']}),t})(),aH=(()=>{class t{constructor(){}onKeyPress({key:t}){return"."!==t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.lG2({type:t,selectors:[["","appIntInput",""]],hostBindings:function(t,e){1&t&&i.NdJ("keypress",function(t){return e.onKeyPress(t)})}}),t})(),lH=(()=>{class t{constructor(t){this.el=t,this.minValue=1/0,this.maxValue=1/0,this.appMinMaxInput=""}onBlur(){const t=Number(this.el.nativeElement.value);t>this.maxValue?(this.el.nativeElement.value=this.maxValue,this.appMinMaxInput&&this.appMinMaxInput(this.maxValue)):t<this.minValue&&(this.el.nativeElement.value=this.minValue,this.appMinMaxInput&&this.appMinMaxInput(this.minValue))}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq))},t.\u0275dir=i.lG2({type:t,selectors:[["","appMinMaxInput",""]],hostBindings:function(t,e){1&t&&i.NdJ("blur",function(){return e.onBlur()})},inputs:{minValue:"minValue",maxValue:"maxValue",appMinMaxInput:"appMinMaxInput"}}),t})(),cH=(()=>{class t{constructor(t){this.el=t,this.appEvenOnlyInput=null}onBlur(){const t=Number(this.el.nativeElement.value);t%2!=0&&this.appEvenOnlyInput&&(this.el.nativeElement.value=t+1,this.appEvenOnlyInput(this.el.nativeElement.value))}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq))},t.\u0275dir=i.lG2({type:t,selectors:[["","appEvenOnlyInput",""]],hostBindings:function(t,e){1&t&&i.NdJ("blur",function(){return e.onBlur()})},inputs:{appEvenOnlyInput:"appEvenOnlyInput"}}),t})();const uH=function(t){return{"disabled-opacity":t}};function hH(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"input",19),i.NdJ("ngModelChange",function(e){return i.CHM(t),i.oxw(2).team1InputChange(e)}),i.qZA()}if(2&t){const t=i.oxw(2);i.Q6J("ngClass",i.VKq(4,uH,!(null!=t.perTeamValue&&t.perTeamValue.value)))("minValue",t.teamMinValue)("maxValue",t.team1MaxValue)("ngModel",t.team1.value)}}function dH(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"mat-slider",20,21),i.NdJ("input",function(e){return i.CHM(t),i.oxw(2).team1InputChange(e.value||0)}),i.qZA()}if(2&t){const t=i.oxw(2);i.Q6J("ngClass",i.VKq(4,uH,!(null!=t.perTeamValue&&t.perTeamValue.value)))("value",t.team1.value)("min",t.teamMinValue)("max",t.team1MaxValue)}}function pH(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"input",22),i.NdJ("ngModelChange",function(e){return i.CHM(t),i.oxw(2).team2InputChange(e)}),i.qZA()}if(2&t){const t=i.oxw(2);i.Q6J("ngClass",i.VKq(4,uH,!(null!=t.perTeamValue&&t.perTeamValue.value)))("minValue",t.teamMinValue)("maxValue",t.team2MaxValue)("ngModel",t.team2.value)}}function gH(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",10),i.TgZ(1,"div",11),i.TgZ(2,"h4",12),i._uU(3),i.ALo(4,"translate"),i.qZA(),i.TgZ(5,"button",13),i.NdJ("click",function(){return i.CHM(t),i.oxw().perTeamHandler()}),i._UZ(6,"mat-icon",14),i.qZA(),i.qZA(),i.TgZ(7,"div",15),i.YNc(8,hH,1,6,"input",16),i.YNc(9,dH,2,6,"mat-slider",17),i.YNc(10,pH,1,6,"input",18),i.qZA(),i.qZA()}if(2&t){const t=i.oxw();i.xp6(3),i.hij(" ",i.lcZ(4,6,"editor.mode.team-distribution-title")," "),i.xp6(2),i.Q6J("ngClass",i.VKq(8,uH,t.isDisabled)),i.xp6(1),i.Q6J("svgIcon",null!=t.perTeamValue&&t.perTeamValue.value?"unlink":"link"),i.xp6(2),i.Q6J("ngIf",t.team1),i.xp6(1),i.Q6J("ngIf",t.team1),i.xp6(1),i.Q6J("ngIf",t.team2)}}const mH=function(t){return{hide:t}},fH=function(t){return{show:t}};let _H=(()=>{class t extends iH{constructor(t,e){super(),this.editorService=t,this.blueprintService=e,this.teamMinValue=0,this.team1MaxValue=0,this.team2MaxValue=0,this.isSparse=!1,this.step=1}get minValue(){var t,e,n,i,o,r;const s=Math.max(null!==(r=null===(o=null===(i=null===(n=null===(e=null===(t=this.mutator)||void 0===t?void 0:t.kind)||void 0===e?void 0:e.mutatorSparseIntValues)||void 0===n?void 0:n.availableValues)||void 0===i?void 0:i.range)||void 0===o?void 0:o.minValue)&&void 0!==r?r:0,1);return this.isSparse&&s%2!=0?s+1:s}get maxValue(){var t,e,n,i,o,r;return null!==(r=null===(o=null===(i=null===(n=null===(e=null===(t=this.mutator)||void 0===t?void 0:t.kind)||void 0===e?void 0:e.mutatorSparseIntValues)||void 0===n?void 0:n.availableValues)||void 0===i?void 0:i.range)||void 0===o?void 0:o.maxValue)&&void 0!==r?r:0}ngOnInit(){this.updatePerTeamInputDisabledState(),this.addSubscription(this.editorService.gameSize$.subscribe(t=>{this.team1MaxValue=t,this.team2MaxValue=t}),this.blueprintService.blueprint$.pipe($g()).subscribe(t=>{var e,n,i,o,r,s;const a=null===(e=this.editorService.editorForm.get("gameMode"))||void 0===e?void 0:e.value;this.isSparse=void 0!==(null===(s=null===(r=null===(o=null===(i=null===(n=null==t?void 0:t.availableGameData)||void 0===n?void 0:n.maps)||void 0===i?void 0:i.find(t=>t.gameMode===a))||void 0===o?void 0:o.gameSize)||void 0===r?void 0:r.availableValues)||void 0===s?void 0:s.sparseValues),this.step=this.isSparse?2:1}))}team1InputChange(t){this.editorService.gameSize$.pipe($g()).subscribe(e=>{var n,i,o;const r=e-t;null===(n=this.team1)||void 0===n||n.setValue(t),null===(i=this.team2)||void 0===i||i.setValue(r),null===(o=this.formGroup)||void 0===o||o.markAsDirty()})}team2InputChange(t){this.editorService.gameSize$.pipe($g()).subscribe(e=>{var n,i,o;const r=t;null===(n=this.team1)||void 0===n||n.setValue(e-r),null===(i=this.team2)||void 0===i||i.setValue(r),null===(o=this.formGroup)||void 0===o||o.markAsDirty()})}onMainInputChange(t){this.editorService.setGameSize(t),this.control.markAsDirty()}perTeamHandler(){super.perTeamHandler(),this.updatePerTeamInputDisabledState(),this.editorService.gameSize$.pipe($g()).subscribe(t=>{var e,n,i;const o=AL(t);null===(e=this.team1)||void 0===e||e.setValue(o.team1),null===(n=this.team2)||void 0===n||n.setValue(o.team2),null===(i=this.formGroup)||void 0===i||i.markAsDirty()})}updatePerTeamInputDisabledState(){var t,e,n,i,o;(null===(t=this.perTeamValue)||void 0===t?void 0:t.value)?(null===(e=this.team1)||void 0===e||e.enable(),null===(n=this.team2)||void 0===n||n.enable()):(null===(i=this.team1)||void 0===i||i.disable(),null===(o=this.team2)||void 0===o||o.disable())}updatePerTeamInputValidators(){this.editorService.gameSize$.pipe($g()).subscribe(t=>{var e,n;null===(e=this.team1)||void 0===e||e.setValidators([Nr.max(t),Nr.min(0)]),null===(n=this.team2)||void 0===n||n.setValidators([Nr.max(t),Nr.min(0)])})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(mN),i.Y36(kN))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-mutator-maxplayercount"]],features:[i.qOj],decls:17,vars:32,consts:[[1,"mutator"],[1,"mutator-content"],[3,"name","description","newToggleEvent"],[1,"mutator-body"],[3,"ngClass"],[1,"option",3,"ngClass"],["color","primary",3,"step","min","max","ngModel","disabled","input"],["type","number","appIntInput","",3,"step","minValue","maxValue","ngModel","appMinMaxInput","appEvenOnlyInput","ngModelChange"],["class","team-distribution-section",4,"ngIf"],[1,"mutator-description",3,"ngClass"],[1,"team-distribution-section"],[1,"title-wrapper"],[1,"distribution-title"],["type","button",1,"link-button",3,"ngClass","click"],[3,"svgIcon"],[1,"option","per-team-slider"],["type","number","class","team-one-input","appMinMaxInput","","appIntInput","",3,"ngClass","minValue","maxValue","ngModel","ngModelChange",4,"ngIf"],["color","primary","step","1","class","per-team-slider",3,"ngClass","value","min","max","input",4,"ngIf"],["type","number","class","team-two-input","appMinMaxInput","","appIntInput","",3,"ngClass","minValue","maxValue","ngModel","ngModelChange",4,"ngIf"],["type","number","appMinMaxInput","","appIntInput","",1,"team-one-input",3,"ngClass","minValue","maxValue","ngModel","ngModelChange"],["color","primary","step","1",1,"per-team-slider",3,"ngClass","value","min","max","input"],["slider",""],["type","number","appMinMaxInput","","appIntInput","",1,"team-two-input",3,"ngClass","minValue","maxValue","ngModel","ngModelChange"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"app-mutator-header",2),i.NdJ("newToggleEvent",function(t){return e.toggleDescription(t)}),i.qZA(),i.TgZ(3,"div",3),i.TgZ(4,"div",4),i.ynx(5),i.TgZ(6,"div",5),i.TgZ(7,"mat-slider",6),i.NdJ("input",function(t){return e.onMainInputChange(t.value||0)}),i.ALo(8,"async"),i.ALo(9,"async"),i.qZA(),i.TgZ(10,"input",7),i.NdJ("ngModelChange",function(t){return e.onMainInputChange(t)}),i.ALo(11,"async"),i.qZA(),i.qZA(),i.ynx(12),i.YNc(13,gH,11,10,"div",8),i.BQk(),i.BQk(),i.qZA(),i.TgZ(14,"p",9),i._uU(15),i.ALo(16,"translate"),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(2),i.Q6J("name",e.mutatorTranslations.name)("description",e.mutatorTranslations.description),i.xp6(2),i.Q6J("ngClass",i.VKq(26,mH,e.showDescription)),i.xp6(2),i.Q6J("ngClass",i.VKq(28,uH,e.isDisabled)),i.xp6(1),i.Q6J("step",e.step)("min",e.minValue)("max",e.maxValue)("ngModel",i.lcZ(8,18,e.editorService.gameSize$))("disabled",!0===i.lcZ(9,20,e.editorService.editorDisabled$)),i.xp6(3),i.Q6J("step",e.step)("minValue",e.minValue)("maxValue",e.maxValue)("ngModel",i.lcZ(11,22,e.editorService.gameSize$))("appMinMaxInput",e.onMainInputChange.bind(e))("appEvenOnlyInput",e.isSparse?e.onMainInputChange.bind(e):null),i.xp6(3),i.Q6J("ngIf",e.editorService.showPerTeamOption),i.xp6(1),i.Q6J("ngClass",i.VKq(30,fH,e.showDescription)),i.xp6(1),i.hij(" ",i.lcZ(16,24,e.mutatorTranslations.description)," "))},directives:[sH,P,xT,es,Ds,Bs,kr,aH,lH,cH,R,eE],pipes:[Z,Fp],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}[_nghost-%COMP%]{display:flex;height:100%}html[dir=rtl]   [_nghost-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   -shadowcsshost{direction:rtl}.mutator[_ngcontent-%COMP%]{min-width:200px;padding:30px;position:relative;border:1px solid #ffffff0d;background-color:#000c;flex-grow:1;overflow:hidden}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){.mutator[_ngcontent-%COMP%]{padding:22px 15px 15px}html[dir=rtl][_ngcontent-%COMP%]   .mutator[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator[_ngcontent-%COMP%]{padding:22px 15px 15px}}.mutator[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:"Purista-Semibold",var(--font-fallback);font-size:24px;margin-bottom:16px;padding-bottom:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mutator[_ngcontent-%COMP%]   .per-team-checkbox[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-top:16px}html[dir=rtl][_ngcontent-%COMP%]   .mutator[_ngcontent-%COMP%]   .per-team-checkbox[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator[_ngcontent-%COMP%]   .per-team-checkbox[_ngcontent-%COMP%]{direction:rtl}.mutator[_ngcontent-%COMP%]   .mutator-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;position:relative;height:100%}html[dir=rtl][_ngcontent-%COMP%]   .mutator[_ngcontent-%COMP%]   .mutator-content[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator[_ngcontent-%COMP%]   .mutator-content[_ngcontent-%COMP%]{direction:rtl}.mutator-body[_ngcontent-%COMP%]{position:relative;flex-grow:1}.mutator-description[_ngcontent-%COMP%]{display:none;position:absolute;top:0;margin-bottom:0;min-height:55px;max-height:100%;font-family:"BFText-Regular",var(--font-fallback);color:#b4b4b4;font-size:16px;line-height:22px;overflow:auto;scrollbar-width:thin}html[dir=ltr][_ngcontent-%COMP%]   .mutator-description[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .mutator-description[_ngcontent-%COMP%]{left:0}html[dir=rtl][_ngcontent-%COMP%]   .mutator-description[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator-description[_ngcontent-%COMP%]{right:0}.mutator-description[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}.mutator-description[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0000}.mutator-description[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#fff3;border-radius:12px;background-clip:padding-box;border:3px solid #0000}.option[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-bottom:10px}html[dir=rtl][_ngcontent-%COMP%]   .option[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .option[_ngcontent-%COMP%]{direction:rtl}.option[_ngcontent-%COMP%]   .mat-slider[_ngcontent-%COMP%]{flex:1}.option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:"Purista-Semibold",var(--font-fallback);font-size:20px;border:1px solid #434343;background:#000;color:#fff;width:66px;height:38px;padding:0 4px 4px;text-align:center}html[dir=rtl][_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:0 4px 4px}html[dir=ltr][_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:10px}html[dir=rtl][_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:10px}.option[_ngcontent-%COMP%]   input.ng-invalid[_ngcontent-%COMP%]{border:1px solid #ff000080}.mat-stroked-button[_ngcontent-%COMP%]:active{background-color:#000}.mutator-content-innerwrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:minmax(0,1fr) 24px;grid-gap:0 0;gap:0 0}html[dir=rtl][_ngcontent-%COMP%]   .mutator-content-innerwrapper[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator-content-innerwrapper[_ngcontent-%COMP%]{direction:rtl}.per-team-button[_ngcontent-%COMP%]{background-color:initial;height:86px;width:24px;border:0;color:#a1a1a1}.per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%]{cursor:pointer;transform:rotate(90deg)}@media (hover:hover){.per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%]:hover{color:#fff}}.per-team-button[_ngcontent-%COMP%]   .icon-connector[_ngcontent-%COMP%]{height:12px;width:12px;color:#a1a1a1;margin-bottom:5px}html[dir=rtl][_ngcontent-%COMP%]   .per-team-button[_ngcontent-%COMP%]   .icon-connector[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .per-team-button[_ngcontent-%COMP%]   .icon-connector[_ngcontent-%COMP%]{transform:scaleX(-1)}.per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%] + .icon-connector[_ngcontent-%COMP%]{transform:rotate(90deg);margin-bottom:0}html[dir=rtl][_ngcontent-%COMP%]   .per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%] + .icon-connector[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%] + .icon-connector[_ngcontent-%COMP%]{transform:scaleX(-1) rotate(90deg)}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){.per-team-button[_ngcontent-%COMP%]{width:100%}}.boolean-sparse-per-team-checkbox[_ngcontent-%COMP%]{display:none}.remove-button[_ngcontent-%COMP%]{color:#434343}.team-one[_ngcontent-%COMP%]{color:#26ffdf;box-sizing:border-box;border:2px solid #26ffdf;width:60px;height:38px;text-align:center;padding-top:5px}html[dir=ltr][_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .team-one[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .team-one[_ngcontent-%COMP%]{margin-left:10px}.team-two[_ngcontent-%COMP%]{color:#f33;box-sizing:border-box;border:2px solid #f33;width:60px;height:38px;text-align:center;padding-top:5px}html[dir=ltr][_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .team-two[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .team-two[_ngcontent-%COMP%]{margin-left:10px}.teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%]{color:#787878;box-sizing:border-box;border:2px solid #787878;width:60px;height:38px;text-align:center;padding-top:5px}html[dir=ltr][_ngcontent-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%]{margin-left:10px}.hide[_ngcontent-%COMP%]{visibility:hidden}.show[_ngcontent-%COMP%]{display:inline}','[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}mat-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;margin-bottom:8px;background:#00000080}html[dir=rtl]   [_nghost-%COMP%]   mat-card[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{direction:rtl}.title-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:16px}html[dir=rtl][_ngcontent-%COMP%]   .title-wrapper[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .title-wrapper[_ngcontent-%COMP%]{direction:rtl}.hidden-slider[_ngcontent-%COMP%]{display:none}html[dir=ltr][_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .team-one-input[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .option[_ngcontent-%COMP%]   .team-one-input[_ngcontent-%COMP%]{margin-left:0}html[dir=rtl][_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .team-one-input[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .option[_ngcontent-%COMP%]   .team-one-input[_ngcontent-%COMP%]{margin-right:0}html[dir=ltr][_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .team-one-input[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .option[_ngcontent-%COMP%]   .team-one-input[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .team-one-input[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .option[_ngcontent-%COMP%]   .team-one-input[_ngcontent-%COMP%]{margin-left:8px}.per-team-slider[_ngcontent-%COMP%]{height:38px}.per-team-slider[_ngcontent-%COMP%]     .mat-slider-track-background{background-color:#f33}.per-team-slider[_ngcontent-%COMP%]     .mat-slider-track-fill{background-color:#26ffdf}.link-button[_ngcontent-%COMP%]{background:#0000;border:none;cursor:pointer}.link-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#a1a1a1}@media (hover:hover){.link-button[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{color:#fff}}.distribution-title[_ngcontent-%COMP%]{font-family:"Purista-Semibold",var(--font-fallback);font-size:24px;padding-bottom:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-bottom:0}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){.distribution-title[_ngcontent-%COMP%]{font-size:18px}}']}),t})();function bH(t,e){if(1&t&&(i.ynx(0),i._UZ(1,"app-mutator-maxplayercount",10),i.ALo(2,"async"),i.BQk()),2&t){const t=e.ngIf,n=i.oxw().ngIf,o=i.oxw(2);i.xp6(1),i.Q6J("mutator",n)("control",t)("isDisabled",!0===i.lcZ(2,3,o.editorService.editorDisabled$))}}function vH(t,e){if(1&t&&(i.ynx(0,9),i.YNc(1,bH,3,5,"ng-container",4),i.BQk()),2&t){const t=i.oxw(2);i.xp6(1),i.Q6J("ngIf",t.splitMutatorsFormGroup.get("MaxPlayerCount_PerTeam"))}}function yH(t,e){if(1&t&&(i.ynx(0,12),i._UZ(1,"app-mutator",10),i.ALo(2,"async"),i.BQk()),2&t){const t=e.ngIf,n=i.oxw(2).$implicit,o=i.oxw(2);i.Q6J("ngSwitch",o.getKindIndex(n.kind)),i.xp6(1),i.Q6J("mutator",n)("control",t)("isDisabled",!0===i.lcZ(2,4,o.editorService.editorDisabled$))}}function CH(t,e){if(1&t&&(i.ynx(0),i.YNc(1,yH,3,6,"ng-container",11),i.BQk()),2&t){const t=i.oxw().$implicit,e=i.oxw(2);i.xp6(1),i.Q6J("ngIf",e.mutatorsFormGroup.get(t.name||""))}}function OH(t,e){if(1&t&&(i.ynx(0),i.YNc(1,CH,2,1,"ng-container",4),i.BQk()),2&t){const t=e.$implicit;i.xp6(1),i.Q6J("ngIf","ModBuilder_GameMode"!==t.name)}}function TH(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"div",5),i.TgZ(2,"div",6),i.YNc(3,vH,2,1,"ng-container",7),i.ALo(4,"async"),i.YNc(5,OH,2,1,"ng-container",8),i.ALo(6,"async"),i.qZA(),i.qZA(),i.BQk()),2&t){const t=i.oxw();i.xp6(3),i.Q6J("ngIf",i.lcZ(4,2,t.editorService.mutatorGameSize$)),i.xp6(2),i.Q6J("ngForOf",i.lcZ(6,4,t.editorService.currentGameModeMutators$))}}let EH=(()=>{class t{constructor(t,e,n,i,o,r){this.editorService=t,this.translateService=e,this.eraService=n,this.formService=i,this.store=o,this.dialog=r,this.subscriptions=[],this.editorForm=this.editorService.editorForm,this.splitMutatorsFormGroup=this.editorService.splitMutatorsFormGroup,this.mutatorsFormGroup=this.editorService.mutatorsFormGroup,this.isInitialLoad=!0,this.currentModBuilderMode=0,this.settingsTitle$=this.editorService.currentGameMode$.pipe((0,zu.w)(t=>t?this.translateService.get("editor.mode.mode-settings-title",{mode:t}):this.translateService.get("editor.mode.current-mode-title"))),this.filterMutatorsByGameMode=t=>this.editorService.gameModeMutators$.pipe((0,Cr.U)(e=>e.filter(e=>{var n;const i=null===(n=null==e?void 0:e.category)||void 0===n?void 0:n.split(",");return!!(null==i?void 0:i.find(e=>hN(t)===e||e===uN.ALL_GAMEMODE_SETTINGS))&&e}))),this.addSubscription(this.editorService.splitMutatorsFormGroupChanges$.subscribe({next:t=>{var e,n;t.hasOwnProperty("ModBuilder_GameMode")&&(this.eraService.isFFA=2===(null===(e=t.ModBuilder_GameMode[`${dM.KindCase.mutatorIntValues}`])||void 0===e?void 0:e.value),this.isInitialLoad&&(this.isInitialLoad=!1,this.currentModBuilderMode=null===(n=t.ModBuilder_GameMode[`${dM.KindCase.mutatorIntValues}`])||void 0===n?void 0:n.value))}}))}getKindIndex(t){return t?mN.getMutatorType(t).index:0}ngOnInit(){}addSubscription(...t){this.subscriptions.push(...t)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(mN),i.Y36(Bp),i.Y36(lV),i.Y36(sV),i.Y36(Vp.yh),i.Y36(aT))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-editor-mode-settings"]],decls:8,vars:12,consts:[[1,"section-title-wrapper"],[3,"className","category","label"],[1,"editor","editor-flex",3,"formGroup"],[3,"disabled"],[4,"ngIf"],[1,"mode-settings-wrapper"],[1,"mutator-row"],["formArrayName","splitMutators",4,"ngIf"],[4,"ngFor","ngForOf"],["formArrayName","splitMutators"],[3,"mutator","control","isDisabled"],[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i._UZ(1,"app-playground-tab-header",1),i.ALo(2,"translate"),i.ALo(3,"translate"),i.qZA(),i.TgZ(4,"form",2),i.TgZ(5,"fieldset",3),i.ALo(6,"async"),i.YNc(7,TH,7,6,"ng-container",4),i.qZA(),i.qZA()),2&t&&(i.xp6(1),i.Q6J("className","mode-settings mode")("category",i.lcZ(2,6,"editor.header.mode-category"))("label",i.lcZ(3,8,"editor.header.game-mode-settings")),i.xp6(3),i.Q6J("formGroup",e.editorForm),i.xp6(1),i.Q6J("disabled",i.lcZ(6,10,e.editorService.editorDisabled$)),i.xp6(2),i.Q6J("ngIf",e.editorService.gameModeControl.value))},directives:[uj,Ls,ns,Gs,R,I,Ws,_H,B,iH],pipes:[Fp,Z],styles:["[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}[_nghost-%COMP%]{display:flex;position:relative;flex-direction:column;background-color:#001621;background-image:linear-gradient(180deg,#0016211a 0,#001621 900px),linear-gradient(90deg,#001621 0,#0016211a 20%,#0016211a 80%,#001621),url(/2384652/assets/backgrounds/generic.jpg);background-size:2304px auto,2304px auto;background-repeat:no-repeat;background-position:top}html[dir=rtl]   [_nghost-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   -shadowcsshost{direction:rtl}@media only screen and (max-width:767px){[_nghost-%COMP%]{background-image:linear-gradient(180deg,#00162180 0,#001621),url(/2384652/assets/backgrounds/generic.jpg)}}form[_ngcontent-%COMP%]{width:100%;box-sizing:border-box}@media only screen and (min-width:1921px){form[_ngcontent-%COMP%]{max-width:1920px;margin:0 auto}}form[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]{display:flex}html[dir=rtl]   [_nghost-%COMP%]   form[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]{direction:rtl}.editor-flex[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;position:relative}html[dir=rtl][_ngcontent-%COMP%]   .editor-flex[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .editor-flex[_ngcontent-%COMP%]{direction:rtl}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){.editor-flex[_ngcontent-%COMP%]{padding-top:0}}.mutator-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(430px,1fr));grid-auto-rows:auto;grid-gap:2px;margin-bottom:2px}html[dir=rtl][_ngcontent-%COMP%]   .mutator-row[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator-row[_ngcontent-%COMP%]{direction:rtl}@media only screen and (max-width:767px){.mutator-row[_ngcontent-%COMP%]{display:block;width:100%}}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){.mutator-row[_ngcontent-%COMP%]{padding-bottom:0}}"]}),t})();function SH(t,e){}function wH(t,e){1&t&&i.YNc(0,SH,0,0,"ng-template")}function MH(t,e){if(1&t&&i._UZ(0,"img",12),2&t){const t=i.oxw(2);i.Q6J("src",null==t.ffa?null:t.ffa.logoSrc,i.LSH)}}function xH(t,e){if(1&t&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t){const t=i.oxw(2);i.xp6(1),i.Oqu(i.lcZ(2,1,(null==t.ffa?null:t.ffa.label)||""))}}const PH=function(t){return{era:t}};function kH(t,e){if(1&t&&(i.TgZ(0,"li"),i._uU(1),i.ALo(2,"translate"),i.ALo(3,"translate"),i.qZA()),2&t){const t=i.oxw(2);i.xp6(1),i.hij(" ",i.xi3(2,1,"editor.package.era.contains-specialists",i.VKq(6,PH,i.lcZ(3,4,(null==t.ffa?null:t.ffa.label)||"")))," ")}}function IH(t,e){if(1&t&&(i.TgZ(0,"li"),i._uU(1),i.ALo(2,"translate"),i.ALo(3,"translate"),i.qZA()),2&t){const t=i.oxw(2);i.xp6(1),i.hij(" ",i.xi3(2,1,"editor.package.era.contains-classes",i.VKq(6,PH,i.lcZ(3,4,(null==t.ffa?null:t.ffa.label)||"")))," ")}}const AH=function(t){return{"background-image":t}};function RH(t,e){if(1&t&&(i.TgZ(0,"div",5),i.TgZ(1,"div",6),i.TgZ(2,"div",7),i.YNc(3,MH,1,1,"img",8),i.YNc(4,xH,3,3,"span",9),i.qZA(),i.TgZ(5,"div",10),i.TgZ(6,"ul",11),i.YNc(7,kH,4,8,"li",9),i.YNc(8,IH,4,8,"li",9),i.TgZ(9,"li"),i._uU(10),i.ALo(11,"translate"),i.ALo(12,"translate"),i.qZA(),i.TgZ(13,"li"),i._uU(14),i.ALo(15,"translate"),i.ALo(16,"translate"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&t){const t=i.oxw();i.Q6J("ngStyle",i.VKq(17,AH,"url("+t.team1Bg+")")),i.xp6(3),i.Q6J("ngIf",!(null!=t.ffa&&t.ffa.isDefault)&&(null==t.ffa?null:t.ffa.logoSrc)),i.xp6(1),i.Q6J("ngIf",null==t.ffa?null:t.ffa.isDefault),i.xp6(3),i.Q6J("ngIf",null==t.ffa?null:t.ffa.isCharacterBased),i.xp6(1),i.Q6J("ngIf",!(null!=t.ffa&&t.ffa.isCharacterBased)),i.xp6(2),i.hij(" ",i.xi3(11,7,"editor.package.era.contains-weapons",i.VKq(19,PH,i.lcZ(12,10,(null==t.ffa?null:t.ffa.label)||"")))," "),i.xp6(4),i.hij(" ",i.xi3(15,12,"editor.package.era.contains-vehicles",i.VKq(21,PH,i.lcZ(16,15,(null==t.ffa?null:t.ffa.label)||"")))," ")}}function DH(t,e){if(1&t&&i._UZ(0,"img",12),2&t){const t=i.oxw(2);i.Q6J("src",null==t.linked?null:t.linked.logoSrc,i.LSH)}}function LH(t,e){if(1&t&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t){const t=i.oxw(2);i.xp6(1),i.Oqu(i.lcZ(2,1,(null==t.linked?null:t.linked.label)||""))}}function NH(t,e){if(1&t&&(i.TgZ(0,"li"),i._uU(1),i.ALo(2,"translate"),i.ALo(3,"translate"),i.qZA()),2&t){const t=i.oxw(2);i.xp6(1),i.hij(" ",i.xi3(2,1,"editor.package.era.contains-specialists",i.VKq(6,PH,i.lcZ(3,4,(null==t.linked?null:t.linked.label)||"")))," ")}}function BH(t,e){if(1&t&&(i.TgZ(0,"li"),i._uU(1),i.ALo(2,"translate"),i.ALo(3,"translate"),i.qZA()),2&t){const t=i.oxw(2);i.xp6(1),i.hij(" ",i.xi3(2,1,"editor.package.era.contains-classes",i.VKq(6,PH,i.lcZ(3,4,(null==t.linked?null:t.linked.label)||"")))," ")}}function FH(t,e){if(1&t&&i._UZ(0,"img",12),2&t){const t=i.oxw(2);i.Q6J("src",null==t.team2?null:t.team2.logoSrc,i.LSH)}}function UH(t,e){if(1&t&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t){const t=i.oxw(2);i.xp6(1),i.Oqu(i.lcZ(2,1,(null==t.team2?null:t.team2.label)||""))}}function VH(t,e){if(1&t&&(i.TgZ(0,"li"),i._uU(1),i.ALo(2,"translate"),i.ALo(3,"translate"),i.qZA()),2&t){const t=i.oxw(2);i.xp6(1),i.hij(" ",i.xi3(2,1,"editor.package.era.contains-specialists",i.VKq(6,PH,i.lcZ(3,4,(null==t.team2?null:t.team2.label)||"")))," ")}}function GH(t,e){if(1&t&&(i.TgZ(0,"li"),i._uU(1),i.ALo(2,"translate"),i.ALo(3,"translate"),i.qZA()),2&t){const t=i.oxw(2);i.xp6(1),i.hij(" ",i.xi3(2,1,"editor.package.era.contains-classes",i.VKq(6,PH,i.lcZ(3,4,(null==t.team2?null:t.team2.label)||"")))," ")}}function jH(t,e){if(1&t&&(i.TgZ(0,"div",13),i.TgZ(1,"div",6),i.TgZ(2,"div",7),i.YNc(3,DH,1,1,"img",8),i.YNc(4,LH,3,3,"span",9),i.qZA(),i.TgZ(5,"div",10),i.TgZ(6,"ul",11),i.YNc(7,NH,4,8,"li",9),i.YNc(8,BH,4,8,"li",9),i.TgZ(9,"li"),i._uU(10),i.ALo(11,"translate"),i.ALo(12,"translate"),i.qZA(),i.TgZ(13,"li"),i._uU(14),i.ALo(15,"translate"),i.ALo(16,"translate"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(17,"div",14),i._uU(18),i.ALo(19,"translate"),i.qZA(),i.TgZ(20,"div",15),i.TgZ(21,"div",6),i.TgZ(22,"div",7),i.YNc(23,FH,1,1,"img",8),i.YNc(24,UH,3,3,"span",9),i.qZA(),i.TgZ(25,"div",10),i.TgZ(26,"ul",11),i.YNc(27,VH,4,8,"li",9),i.YNc(28,GH,4,8,"li",9),i.TgZ(29,"li"),i._uU(30),i.ALo(31,"translate"),i.ALo(32,"translate"),i.qZA(),i.TgZ(33,"li"),i._uU(34),i.ALo(35,"translate"),i.ALo(36,"translate"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&t){const t=i.oxw();i.Q6J("ngStyle",i.VKq(37,AH,"url("+t.team1Bg+")")),i.xp6(3),i.Q6J("ngIf",!(null!=t.linked&&t.linked.isDefault)&&(null==t.linked?null:t.linked.logoSrc)),i.xp6(1),i.Q6J("ngIf",null==t.linked?null:t.linked.isDefault),i.xp6(3),i.Q6J("ngIf",null==t.linked?null:t.linked.isCharacterBased),i.xp6(1),i.Q6J("ngIf",!(null!=t.linked&&t.linked.isCharacterBased)),i.xp6(2),i.hij(" ",i.xi3(11,15,"editor.package.era.contains-weapons",i.VKq(39,PH,i.lcZ(12,18,(null==t.linked?null:t.linked.label)||"")))," "),i.xp6(4),i.hij(" ",i.xi3(15,20,"editor.package.era.contains-vehicles",i.VKq(41,PH,i.lcZ(16,23,(null==t.linked?null:t.linked.label)||"")))," "),i.xp6(4),i.hij(" ",i.lcZ(19,25,"editor.package.era.vs")," "),i.xp6(2),i.Q6J("ngStyle",i.VKq(43,AH,"url("+t.team2Bg+")")),i.xp6(3),i.Q6J("ngIf",!(null!=t.team2&&t.team2.isDefault)&&(null==t.team2?null:t.team2.logoSrc)),i.xp6(1),i.Q6J("ngIf",null==t.team2?null:t.team2.isDefault),i.xp6(3),i.Q6J("ngIf",null==t.team2?null:t.team2.isCharacterBased),i.xp6(1),i.Q6J("ngIf",!(null!=t.team2&&t.team2.isCharacterBased)),i.xp6(2),i.hij(" ",i.xi3(31,27,"editor.package.era.contains-weapons",i.VKq(45,PH,i.lcZ(32,30,(null==t.team2?null:t.team2.label)||"")))," "),i.xp6(4),i.hij(" ",i.xi3(35,32,"editor.package.era.contains-vehicles",i.VKq(47,PH,i.lcZ(36,35,(null==t.team2?null:t.team2.label)||"")))," ")}}function HH(t,e){1&t&&i._UZ(0,"img",16),2&t&&i.Q6J("src",e.$implicit,i.LSH)}const zH=function(t){return[t]};let WH=(()=>{class t{constructor(t,e){this.translateService=t,this.cdRef=e,this.hovered=new i.vpe,this.leaveHovered=new i.vpe,this.clicked=new i.vpe,this.screenType="",this.isFFA=!1,this.ffaEra=null,this.linkedEra=null,this.team2Era=null,this.ffaHoveredEra=null,this.linkedHoveredEra=null,this.team2HoveredEra=null,this.team1Bg="",this.team2Bg="",this.initialPreloadImages=[],this.PRELOAD_IMAGES=Object.values(AU).reduce((t,e)=>(Object.values(e).forEach(e=>{t.includes(e)||t.push(e)}),t),this.initialPreloadImages)}get ffa(){return this.ffaHoveredEra||this.ffaEra}get linked(){return this.linkedHoveredEra||this.linkedEra}get team2(){return this.team2HoveredEra||this.team2Era}ngOnChanges(t){(t.hasOwnProperty("linkedEra")||t.hasOwnProperty("team2Era")||t.hasOwnProperty("ffaEra")||t.hasOwnProperty("ffaHoveredEra")||t.hasOwnProperty("linkedHoveredEra")||t.hasOwnProperty("team2HoveredEra"))&&this.cdRef.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Bp),i.Y36(i.sBO))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-era-hero-panel"]],inputs:{screenType:"screenType",isFFA:"isFFA",ffaEra:"ffaEra",linkedEra:"linkedEra",team2Era:"team2Era",ffaHoveredEra:"ffaHoveredEra",linkedHoveredEra:"linkedHoveredEra",team2HoveredEra:"team2HoveredEra",team1Bg:"team1Bg",team2Bg:"team2Bg"},outputs:{hovered:"hovered",leaveHovered:"leaveHovered",clicked:"clicked"},features:[i.TTD],decls:7,vars:7,consts:[[1,"era-container",3,"ngClass"],[4,"ngIf","ngIfThen","ngIfElse"],["freeForAll",""],["team",""],["loading","lazy","width","0","height","0",3,"src",4,"ngFor","ngForOf"],[1,"era-team-container","era-team-container--ffa",3,"ngStyle"],[1,"era-team-container-content"],[1,"era-name"],["class","era-logo",3,"src",4,"ngIf"],[4,"ngIf"],[1,"era-description-container"],[1,"era-description"],[1,"era-logo",3,"src"],[1,"era-team-container","era-team-container--1",3,"ngStyle"],[1,"vs"],[1,"era-team-container","era-team-container--2",3,"ngStyle"],["loading","lazy","width","0","height","0",3,"src"]],template:function(t,e){if(1&t&&(i.TgZ(0,"div",0),i.YNc(1,wH,1,0,void 0,1),i.YNc(2,RH,17,23,"ng-template",null,2,i.W1O),i.YNc(4,jH,37,49,"ng-template",null,3,i.W1O),i.YNc(6,HH,1,1,"img",4),i.qZA()),2&t){const t=i.MAs(3),n=i.MAs(5);i.Q6J("ngClass",i.VKq(5,zH,e.screenType)),i.xp6(1),i.Q6J("ngIf",e.isFFA)("ngIfThen",t)("ngIfElse",n),i.xp6(5),i.Q6J("ngForOf",e.PRELOAD_IMAGES)}},directives:[P,R,I,V],pipes:[Fp],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}[_nghost-%COMP%]{display:none;height:100%;min-height:500px;margin-bottom:-55px}@media only screen and (min-width:768px){[_nghost-%COMP%]{display:block}}.era-container[_ngcontent-%COMP%]{display:flex;height:100%}html[dir=rtl][_ngcontent-%COMP%]   .era-container[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .era-container[_ngcontent-%COMP%]{direction:rtl}.era-container[_ngcontent-%COMP%]   .era-team-container[_ngcontent-%COMP%]{width:100%;position:relative;background-repeat:no-repeat;background-size:cover;background-position:50%}.era-container[_ngcontent-%COMP%]   .era-team-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;bottom:0;width:100%;background-image:linear-gradient(180deg,#0000 40%,#000000b3)}html[dir=rtl][_ngcontent-%COMP%]   .era-container[_ngcontent-%COMP%]   .era-team-container[_ngcontent-%COMP%]:before, html[dir=rtl]   [_nghost-%COMP%]   .era-container[_ngcontent-%COMP%]   .era-team-container[_ngcontent-%COMP%]:before{transform:scaleX(-1)}.era-container[_ngcontent-%COMP%]   .era-team-container.era-team-container--1[_ngcontent-%COMP%]:before{background-image:linear-gradient(90deg,#26ffdf00 80.88%,#26ffdf80),linear-gradient(180deg,#0000 40%,#000000b3)}.era-container[_ngcontent-%COMP%]   .era-team-container.era-team-container--2[_ngcontent-%COMP%]:before{background-image:linear-gradient(-90deg,#f330 80%,#ff333380),linear-gradient(180deg,#0000 40%,#000000b3)}.era-team-container-content[_ngcontent-%COMP%]{position:absolute;bottom:0;padding:30px 20px 80px;font-size:18px;line-height:28px}.era-team-container--2[_ngcontent-%COMP%]   .era-team-container-content[_ngcontent-%COMP%]{text-align:right}html[dir=rtl][_ngcontent-%COMP%]   .era-team-container--2[_ngcontent-%COMP%]   .era-team-container-content[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .era-team-container--2[_ngcontent-%COMP%]   .era-team-container-content[_ngcontent-%COMP%]{text-align:left}html[dir=ltr][_ngcontent-%COMP%]   .era-team-container--2[_ngcontent-%COMP%]   .era-team-container-content[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .era-team-container--2[_ngcontent-%COMP%]   .era-team-container-content[_ngcontent-%COMP%]{right:0}html[dir=rtl][_ngcontent-%COMP%]   .era-team-container--2[_ngcontent-%COMP%]   .era-team-container-content[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .era-team-container--2[_ngcontent-%COMP%]   .era-team-container-content[_ngcontent-%COMP%]{left:0}@media only screen and (min-width:768px){.era-team-container--ffa[_ngcontent-%COMP%]   .era-team-container-content[_ngcontent-%COMP%]{padding:30px 45px 120px}}@media only screen and (min-width:1400px){.era-team-container-content[_ngcontent-%COMP%]{width:100%;text-align:center;padding-top:55px;padding-bottom:105px}html[dir=rtl][_ngcontent-%COMP%]   .era-team-container-content[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .era-team-container-content[_ngcontent-%COMP%]{text-align:center}.era-team-container--2[_ngcontent-%COMP%]   .era-team-container-content[_ngcontent-%COMP%]{text-align:center}html[dir=rtl][_ngcontent-%COMP%]   .era-team-container--2[_ngcontent-%COMP%]   .era-team-container-content[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .era-team-container--2[_ngcontent-%COMP%]   .era-team-container-content[_ngcontent-%COMP%]{text-align:center}}.era-name[_ngcontent-%COMP%]   .era-logo[_ngcontent-%COMP%]{max-width:220px}@media only screen and (min-width:1456px){.era-name[_ngcontent-%COMP%]   .era-logo[_ngcontent-%COMP%]{max-width:320px}}.era-name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:"BF_Modernista-Regular",var(--font-fallback);font-size:43px;margin-bottom:35px;display:inline-block}@media only screen and (min-width:768px) and (max-width:1030px){.era-name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:38px}}.era-description-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.era-description-container[_ngcontent-%COMP%]   .era-description[_ngcontent-%COMP%]{font-family:"BFText-Regular",var(--font-fallback);margin:10px 0 0;list-style:none;text-align:left}html[dir=ltr][_ngcontent-%COMP%]   .era-description-container[_ngcontent-%COMP%]   .era-description[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .era-description-container[_ngcontent-%COMP%]   .era-description[_ngcontent-%COMP%]{padding-left:12px}html[dir=rtl][_ngcontent-%COMP%]   .era-description-container[_ngcontent-%COMP%]   .era-description[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .era-description-container[_ngcontent-%COMP%]   .era-description[_ngcontent-%COMP%]{padding-right:12px}html[dir=rtl][_ngcontent-%COMP%]   .era-description-container[_ngcontent-%COMP%]   .era-description[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .era-description-container[_ngcontent-%COMP%]   .era-description[_ngcontent-%COMP%]{text-align:right}.vs[_ngcontent-%COMP%]{width:122px;font-family:"BF_Modernista-Bold",var(--font-fallback);font-size:104px;white-space:nowrap;position:absolute;top:30%;transform:translateX(-50%);z-index:1;text-align:center}html[dir=ltr][_ngcontent-%COMP%]   .vs[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .vs[_ngcontent-%COMP%]{left:50%}html[dir=rtl][_ngcontent-%COMP%]   .vs[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .vs[_ngcontent-%COMP%]{right:50%}html[dir=rtl][_ngcontent-%COMP%]   .vs[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .vs[_ngcontent-%COMP%]{transform:translateX(50%)}.vs[_ngcontent-%COMP%]:before{content:"";display:block;width:180px;height:180px;transform:rotate(45deg);border:15px solid #26ffdf;position:absolute;top:-78px;-webkit-clip-path:polygon(0 0,0 100%,100% 100%);clip-path:polygon(0 0,0 100%,100% 100%);background-color:#1b282ce6;z-index:-1}html[dir=rtl][_ngcontent-%COMP%]   .vs[_ngcontent-%COMP%]:before, html[dir=rtl]   [_nghost-%COMP%]   .vs[_ngcontent-%COMP%]:before{transform:rotate(-45deg)}html[dir=ltr][_ngcontent-%COMP%]   .vs[_ngcontent-%COMP%]:before, html[dir=ltr]   [_nghost-%COMP%]   .vs[_ngcontent-%COMP%]:before{left:-29px}html[dir=rtl][_ngcontent-%COMP%]   .vs[_ngcontent-%COMP%]:before, html[dir=rtl]   [_nghost-%COMP%]   .vs[_ngcontent-%COMP%]:before{right:-29px}html[dir=rtl][_ngcontent-%COMP%]   .vs[_ngcontent-%COMP%]:before, html[dir=rtl]   [_nghost-%COMP%]   .vs[_ngcontent-%COMP%]:before{-webkit-clip-path:polygon(100% 0,100% 100%,0 100%);clip-path:polygon(100% 0,100% 100%,0 100%)}.vs[_ngcontent-%COMP%]:after{content:"";display:block;width:180px;height:180px;transform:rotate(45deg);border:15px solid #f33;position:absolute;top:-78px;-webkit-clip-path:polygon(0 0,100% 0,100% 100%);clip-path:polygon(0 0,100% 0,100% 100%);background-color:#362122e6;z-index:-1}html[dir=rtl][_ngcontent-%COMP%]   .vs[_ngcontent-%COMP%]:after, html[dir=rtl]   [_nghost-%COMP%]   .vs[_ngcontent-%COMP%]:after{transform:rotate(-45deg)}html[dir=ltr][_ngcontent-%COMP%]   .vs[_ngcontent-%COMP%]:after, html[dir=ltr]   [_nghost-%COMP%]   .vs[_ngcontent-%COMP%]:after{left:-29px}html[dir=rtl][_ngcontent-%COMP%]   .vs[_ngcontent-%COMP%]:after, html[dir=rtl]   [_nghost-%COMP%]   .vs[_ngcontent-%COMP%]:after{right:-29px}html[dir=rtl][_ngcontent-%COMP%]   .vs[_ngcontent-%COMP%]:after, html[dir=rtl]   [_nghost-%COMP%]   .vs[_ngcontent-%COMP%]:after{-webkit-clip-path:polygon(100% 0,0 0,0 100%);clip-path:polygon(100% 0,0 0,0 100%)}']}),t})();function ZH(t){return null!==t&&"object"==typeof t&&"constructor"in t&&t.constructor===Object}function YH(t,e){void 0===t&&(t={}),void 0===e&&(e={}),Object.keys(e).forEach(function(n){void 0===t[n]?t[n]=e[n]:ZH(e[n])&&ZH(t[n])&&Object.keys(e[n]).length>0&&YH(t[n],e[n])})}var qH={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function JH(){var t="undefined"!=typeof document?document:{};return YH(t,qH),t}var $H={document:qH,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(t){return"undefined"==typeof setTimeout?(t(),null):setTimeout(t,0)},cancelAnimationFrame:function(t){"undefined"!=typeof setTimeout&&clearTimeout(t)}};function KH(){var t="undefined"!=typeof window?window:{};return YH(t,$H),t}function XH(t){return(XH=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function QH(t,e){return(QH=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tz(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(nx){return!1}}function ez(t,e,n){return(ez=tz()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var o=new(Function.bind.apply(t,i));return n&&QH(o,n.prototype),o}).apply(null,arguments)}function nz(t){var e="function"==typeof Map?new Map:void 0;return(nz=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return ez(t,arguments,XH(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),QH(n,t)})(t)}var iz=function(t){var e,n;function i(e){var n,i,o;return i=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n=t.call.apply(t,[this].concat(e))||this),o=i.__proto__,Object.defineProperty(i,"__proto__",{get:function(){return o},set:function(t){o.__proto__=t}}),n}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i}(nz(Array));function oz(t){void 0===t&&(t=[]);var e=[];return t.forEach(function(t){Array.isArray(t)?e.push.apply(e,oz(t)):e.push(t)}),e}function rz(t,e){return Array.prototype.filter.call(t,e)}function sz(t,e){var n=KH(),i=JH(),o=[];if(!e&&t instanceof iz)return t;if(!t)return new iz(o);if("string"==typeof t){var r=t.trim();if(r.indexOf("<")>=0&&r.indexOf(">")>=0){var s="div";0===r.indexOf("<li")&&(s="ul"),0===r.indexOf("<tr")&&(s="tbody"),0!==r.indexOf("<td")&&0!==r.indexOf("<th")||(s="tr"),0===r.indexOf("<tbody")&&(s="table"),0===r.indexOf("<option")&&(s="select");var a=i.createElement(s);a.innerHTML=r;for(var l=0;l<a.childNodes.length;l+=1)o.push(a.childNodes[l])}else o=function(t,e){if("string"!=typeof t)return[t];for(var n=[],i=e.querySelectorAll(t),o=0;o<i.length;o+=1)n.push(i[o]);return n}(t.trim(),e||i)}else if(t.nodeType||t===n||t===i)o.push(t);else if(Array.isArray(t)){if(t instanceof iz)return t;o=t}return new iz(function(t){for(var e=[],n=0;n<t.length;n+=1)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(o))}sz.fn=iz.prototype;var az="resize scroll".split(" ");function lz(t){return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(void 0===n[0]){for(var o=0;o<this.length;o+=1)az.indexOf(t)<0&&(t in this[o]?this[o][t]():sz(this[o]).trigger(t));return this}return this.on.apply(this,[t].concat(n))}}lz("click"),lz("blur"),lz("focus"),lz("focusin"),lz("focusout"),lz("keyup"),lz("keydown"),lz("keypress"),lz("submit"),lz("change"),lz("mousedown"),lz("mousemove"),lz("mouseup"),lz("mouseenter"),lz("mouseleave"),lz("mouseout"),lz("mouseover"),lz("touchstart"),lz("touchend"),lz("touchmove"),lz("resize"),lz("scroll");var cz={addClass:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=oz(e.map(function(t){return t.split(" ")}));return this.forEach(function(t){var e;(e=t.classList).add.apply(e,i)}),this},removeClass:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=oz(e.map(function(t){return t.split(" ")}));return this.forEach(function(t){var e;(e=t.classList).remove.apply(e,i)}),this},hasClass:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=oz(e.map(function(t){return t.split(" ")}));return rz(this,function(t){return i.filter(function(e){return t.classList.contains(e)}).length>0}).length>0},toggleClass:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=oz(e.map(function(t){return t.split(" ")}));this.forEach(function(t){i.forEach(function(e){t.classList.toggle(e)})})},attr:function(t,e){if(1===arguments.length&&"string"==typeof t)return this[0]?this[0].getAttribute(t):void 0;for(var n=0;n<this.length;n+=1)if(2===arguments.length)this[n].setAttribute(t,e);else for(var i in t)this[n][i]=t[i],this[n].setAttribute(i,t[i]);return this},removeAttr:function(t){for(var e=0;e<this.length;e+=1)this[e].removeAttribute(t);return this},transform:function(t){for(var e=0;e<this.length;e+=1)this[e].style.transform=t;return this},transition:function(t){for(var e=0;e<this.length;e+=1)this[e].style.transitionDuration="string"!=typeof t?t+"ms":t;return this},on:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e[0],o=e[1],r=e[2],s=e[3];function a(t){var e=t.target;if(e){var n=t.target.dom7EventData||[];if(n.indexOf(t)<0&&n.unshift(t),sz(e).is(o))r.apply(e,n);else for(var i=sz(e).parents(),s=0;s<i.length;s+=1)sz(i[s]).is(o)&&r.apply(i[s],n)}}function l(t){var e=t&&t.target&&t.target.dom7EventData||[];e.indexOf(t)<0&&e.unshift(t),r.apply(this,e)}"function"==typeof e[1]&&(i=e[0],r=e[1],s=e[2],o=void 0),s||(s=!1);for(var c,u=i.split(" "),h=0;h<this.length;h+=1){var d=this[h];if(o)for(c=0;c<u.length;c+=1){var p=u[c];d.dom7LiveListeners||(d.dom7LiveListeners={}),d.dom7LiveListeners[p]||(d.dom7LiveListeners[p]=[]),d.dom7LiveListeners[p].push({listener:r,proxyListener:a}),d.addEventListener(p,a,s)}else for(c=0;c<u.length;c+=1){var g=u[c];d.dom7Listeners||(d.dom7Listeners={}),d.dom7Listeners[g]||(d.dom7Listeners[g]=[]),d.dom7Listeners[g].push({listener:r,proxyListener:l}),d.addEventListener(g,l,s)}}return this},off:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e[0],o=e[1],r=e[2],s=e[3];"function"==typeof e[1]&&(i=e[0],r=e[1],s=e[2],o=void 0),s||(s=!1);for(var a=i.split(" "),l=0;l<a.length;l+=1)for(var c=a[l],u=0;u<this.length;u+=1){var h=this[u],d=void 0;if(!o&&h.dom7Listeners?d=h.dom7Listeners[c]:o&&h.dom7LiveListeners&&(d=h.dom7LiveListeners[c]),d&&d.length)for(var p=d.length-1;p>=0;p-=1){var g=d[p];r&&g.listener===r||r&&g.listener&&g.listener.dom7proxy&&g.listener.dom7proxy===r?(h.removeEventListener(c,g.proxyListener,s),d.splice(p,1)):r||(h.removeEventListener(c,g.proxyListener,s),d.splice(p,1))}}return this},trigger:function(){for(var t=KH(),e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(var o=n[0].split(" "),r=n[1],s=0;s<o.length;s+=1)for(var a=o[s],l=0;l<this.length;l+=1){var c=this[l];if(t.CustomEvent){var u=new t.CustomEvent(a,{detail:r,bubbles:!0,cancelable:!0});c.dom7EventData=n.filter(function(t,e){return e>0}),c.dispatchEvent(u),c.dom7EventData=[],delete c.dom7EventData}}return this},transitionEnd:function(t){var e=this;return t&&e.on("transitionend",function n(i){i.target===this&&(t.call(this,i),e.off("transitionend",n))}),this},outerWidth:function(t){if(this.length>0){if(t){var e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(t){if(this.length>0){if(t){var e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function(){var t=KH();return this[0]?t.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){var t=KH(),e=JH(),n=this[0],i=n.getBoundingClientRect(),o=e.body;return{top:i.top+(n===t?t.scrollY:n.scrollTop)-(n.clientTop||o.clientTop||0),left:i.left+(n===t?t.scrollX:n.scrollLeft)-(n.clientLeft||o.clientLeft||0)}}return null},css:function(t,e){var n,i=KH();if(1===arguments.length){if("string"!=typeof t){for(n=0;n<this.length;n+=1)for(var o in t)this[n].style[o]=t[o];return this}if(this[0])return i.getComputedStyle(this[0],null).getPropertyValue(t)}if(2===arguments.length&&"string"==typeof t){for(n=0;n<this.length;n+=1)this[n].style[t]=e;return this}return this},each:function(t){return t?(this.forEach(function(e,n){t.apply(e,[e,n])}),this):this},html:function(t){if(void 0===t)return this[0]?this[0].innerHTML:null;for(var e=0;e<this.length;e+=1)this[e].innerHTML=t;return this},text:function(t){if(void 0===t)return this[0]?this[0].textContent.trim():null;for(var e=0;e<this.length;e+=1)this[e].textContent=t;return this},is:function(t){var e,n,i=KH(),o=JH(),r=this[0];if(!r||void 0===t)return!1;if("string"==typeof t){if(r.matches)return r.matches(t);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(r.msMatchesSelector)return r.msMatchesSelector(t);for(e=sz(t),n=0;n<e.length;n+=1)if(e[n]===r)return!0;return!1}if(t===o)return r===o;if(t===i)return r===i;if(t.nodeType||t instanceof iz){for(e=t.nodeType?[t]:t,n=0;n<e.length;n+=1)if(e[n]===r)return!0;return!1}return!1},index:function(){var t,e=this[0];if(e){for(t=0;null!==(e=e.previousSibling);)1===e.nodeType&&(t+=1);return t}},eq:function(t){if(void 0===t)return this;var e=this.length;if(t>e-1)return sz([]);if(t<0){var n=e+t;return sz(n<0?[]:[this[n]])}return sz([this[t]])},append:function(){for(var t,e=JH(),n=0;n<arguments.length;n+=1){t=n<0||arguments.length<=n?void 0:arguments[n];for(var i=0;i<this.length;i+=1)if("string"==typeof t){var o=e.createElement("div");for(o.innerHTML=t;o.firstChild;)this[i].appendChild(o.firstChild)}else if(t instanceof iz)for(var r=0;r<t.length;r+=1)this[i].appendChild(t[r]);else this[i].appendChild(t)}return this},prepend:function(t){var e,n,i=JH();for(e=0;e<this.length;e+=1)if("string"==typeof t){var o=i.createElement("div");for(o.innerHTML=t,n=o.childNodes.length-1;n>=0;n-=1)this[e].insertBefore(o.childNodes[n],this[e].childNodes[0])}else if(t instanceof iz)for(n=0;n<t.length;n+=1)this[e].insertBefore(t[n],this[e].childNodes[0]);else this[e].insertBefore(t,this[e].childNodes[0]);return this},next:function(t){return this.length>0?t?this[0].nextElementSibling&&sz(this[0].nextElementSibling).is(t)?sz([this[0].nextElementSibling]):sz([]):sz(this[0].nextElementSibling?[this[0].nextElementSibling]:[]):sz([])},nextAll:function(t){var e=[],n=this[0];if(!n)return sz([]);for(;n.nextElementSibling;){var i=n.nextElementSibling;t?sz(i).is(t)&&e.push(i):e.push(i),n=i}return sz(e)},prev:function(t){if(this.length>0){var e=this[0];return t?e.previousElementSibling&&sz(e.previousElementSibling).is(t)?sz([e.previousElementSibling]):sz([]):sz(e.previousElementSibling?[e.previousElementSibling]:[])}return sz([])},prevAll:function(t){var e=[],n=this[0];if(!n)return sz([]);for(;n.previousElementSibling;){var i=n.previousElementSibling;t?sz(i).is(t)&&e.push(i):e.push(i),n=i}return sz(e)},parent:function(t){for(var e=[],n=0;n<this.length;n+=1)null!==this[n].parentNode&&(t?sz(this[n].parentNode).is(t)&&e.push(this[n].parentNode):e.push(this[n].parentNode));return sz(e)},parents:function(t){for(var e=[],n=0;n<this.length;n+=1)for(var i=this[n].parentNode;i;)t?sz(i).is(t)&&e.push(i):e.push(i),i=i.parentNode;return sz(e)},closest:function(t){var e=this;return void 0===t?sz([]):(e.is(t)||(e=e.parents(t).eq(0)),e)},find:function(t){for(var e=[],n=0;n<this.length;n+=1)for(var i=this[n].querySelectorAll(t),o=0;o<i.length;o+=1)e.push(i[o]);return sz(e)},children:function(t){for(var e=[],n=0;n<this.length;n+=1)for(var i=this[n].children,o=0;o<i.length;o+=1)t&&!sz(i[o]).is(t)||e.push(i[o]);return sz(e)},filter:function(t){return sz(rz(this,t))},remove:function(){for(var t=0;t<this.length;t+=1)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this}};Object.keys(cz).forEach(function(t){Object.defineProperty(sz.fn,t,{value:cz[t],writable:!0})});const uz=sz;function hz(t,e){return void 0===e&&(e=0),setTimeout(t,e)}function dz(){return Date.now()}function pz(t){return"object"==typeof t&&null!==t&&t.constructor&&"Object"===Object.prototype.toString.call(t).slice(8,-1)}function gz(){for(var t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"],n=1;n<arguments.length;n+=1){var i=n<0||arguments.length<=n?void 0:arguments[n];if(null!=i)for(var o=Object.keys(Object(i)).filter(function(t){return e.indexOf(t)<0}),r=0,s=o.length;r<s;r+=1){var a=o[r],l=Object.getOwnPropertyDescriptor(i,a);void 0!==l&&l.enumerable&&(pz(t[a])&&pz(i[a])?i[a].__swiper__?t[a]=i[a]:gz(t[a],i[a]):!pz(t[a])&&pz(i[a])?(t[a]={},i[a].__swiper__?t[a]=i[a]:gz(t[a],i[a])):t[a]=i[a])}}return t}function mz(t,e){Object.keys(e).forEach(function(n){pz(e[n])&&Object.keys(e[n]).forEach(function(i){"function"==typeof e[n][i]&&(e[n][i]=e[n][i].bind(t))}),t[n]=e[n]})}function fz(t){return void 0===t&&(t=""),"."+t.trim().replace(/([\.:\/])/g,"\\$1").replace(/ /g,".")}var _z,bz,vz;function yz(){return _z||(_z=function(){var t=KH(),e=JH();return{touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch),pointerEvents:!!t.PointerEvent&&"maxTouchPoints"in t.navigator&&t.navigator.maxTouchPoints>=0,observer:"MutationObserver"in t||"WebkitMutationObserver"in t,passiveListener:function(){var e=!1;try{var n=Object.defineProperty({},"passive",{get:function(){e=!0}});t.addEventListener("testPassiveListener",null,n)}catch(nx){}return e}(),gestures:"ongesturestart"in t}}()),_z}function Cz(t){return void 0===t&&(t={}),bz||(bz=function(t){var e=(void 0===t?{}:t).userAgent,n=yz(),i=KH(),o=i.navigator.platform,r=e||i.navigator.userAgent,s={ios:!1,android:!1},a=i.screen.width,l=i.screen.height,c=r.match(/(Android);?[\s\/]+([\d.]+)?/),u=r.match(/(iPad).*OS\s([\d_]+)/),h=r.match(/(iPod)(.*OS\s([\d_]+))?/),d=!u&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p="Win32"===o,g="MacIntel"===o;return!u&&g&&n.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(a+"x"+l)>=0&&((u=r.match(/(Version)\/([\d.]+)/))||(u=[0,1,"13_0_0"]),g=!1),c&&!p&&(s.os="android",s.android=!0),(u||d||h)&&(s.os="ios",s.ios=!0),s}(t)),bz}function Oz(){return vz||(vz=function(){var t,e=KH();return{isEdge:!!e.navigator.userAgent.match(/Edge/g),isSafari:(t=e.navigator.userAgent.toLowerCase(),t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}()),vz}const Tz={name:"resize",create:function(){var t=this;gz(t,{resize:{observer:null,createObserver:function(){t&&!t.destroyed&&t.initialized&&(t.resize.observer=new ResizeObserver(function(e){var n=t.width,i=t.height,o=n,r=i;e.forEach(function(e){var n=e.contentBoxSize,i=e.contentRect,s=e.target;s&&s!==t.el||(o=i?i.width:(n[0]||n).inlineSize,r=i?i.height:(n[0]||n).blockSize)}),o===n&&r===i||t.resize.resizeHandler()}),t.resize.observer.observe(t.el))},removeObserver:function(){t.resize.observer&&t.resize.observer.unobserve&&t.el&&(t.resize.observer.unobserve(t.el),t.resize.observer=null)},resizeHandler:function(){t&&!t.destroyed&&t.initialized&&(t.emit("beforeResize"),t.emit("resize"))},orientationChangeHandler:function(){t&&!t.destroyed&&t.initialized&&t.emit("orientationchange")}}})},on:{init:function(t){var e=KH();t.params.resizeObserver&&void 0!==KH().ResizeObserver?t.resize.createObserver():(e.addEventListener("resize",t.resize.resizeHandler),e.addEventListener("orientationchange",t.resize.orientationChangeHandler))},destroy:function(t){var e=KH();t.resize.removeObserver(),e.removeEventListener("resize",t.resize.resizeHandler),e.removeEventListener("orientationchange",t.resize.orientationChangeHandler)}}};function Ez(){return(Ez=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}var Sz={attach:function(t,e){void 0===e&&(e={});var n=KH(),i=this,o=new(n.MutationObserver||n.WebkitMutationObserver)(function(t){if(1!==t.length){var e=function(){i.emit("observerUpdate",t[0])};n.requestAnimationFrame?n.requestAnimationFrame(e):n.setTimeout(e,0)}else i.emit("observerUpdate",t[0])});o.observe(t,{attributes:void 0===e.attributes||e.attributes,childList:void 0===e.childList||e.childList,characterData:void 0===e.characterData||e.characterData}),i.observer.observers.push(o)},init:function(){var t=this;if(t.support.observer&&t.params.observer){if(t.params.observeParents)for(var e=t.$el.parents(),n=0;n<e.length;n+=1)t.observer.attach(e[n]);t.observer.attach(t.$el[0],{childList:t.params.observeSlideChildren}),t.observer.attach(t.$wrapperEl[0],{attributes:!1})}},destroy:function(){this.observer.observers.forEach(function(t){t.disconnect()}),this.observer.observers=[]}};const wz={name:"observer",params:{observer:!1,observeParents:!1,observeSlideChildren:!1},create:function(){mz(this,{observer:Ez({},Sz,{observers:[]})})},on:{init:function(t){t.observer.init()},destroy:function(t){t.observer.destroy()}}};function Mz(t){var e=this,n=JH(),i=KH(),o=e.touchEventsData,r=e.params,s=e.touches;if(!e.animating||!r.preventInteractionOnTransition){var a=t;a.originalEvent&&(a=a.originalEvent);var l=uz(a.target);if(("wrapper"!==r.touchEventsTarget||l.closest(e.wrapperEl).length)&&(o.isTouchEvent="touchstart"===a.type,(o.isTouchEvent||!("which"in a)||3!==a.which)&&!(!o.isTouchEvent&&"button"in a&&a.button>0||o.isTouched&&o.isMoved)))if(!!r.noSwipingClass&&""!==r.noSwipingClass&&a.target&&a.target.shadowRoot&&t.path&&t.path[0]&&(l=uz(t.path[0])),r.noSwiping&&l.closest(r.noSwipingSelector?r.noSwipingSelector:"."+r.noSwipingClass)[0])e.allowClick=!0;else if(!r.swipeHandler||l.closest(r.swipeHandler)[0]){s.currentX="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,s.currentY="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY;var c=s.currentX,u=s.currentY,h=r.edgeSwipeDetection||r.iOSEdgeSwipeDetection,d=r.edgeSwipeThreshold||r.iOSEdgeSwipeThreshold;if(h&&(c<=d||c>=i.innerWidth-d)){if("prevent"!==h)return;t.preventDefault()}if(gz(o,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),s.startX=c,s.startY=u,o.touchStartTime=dz(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,r.threshold>0&&(o.allowThresholdMove=!1),"touchstart"!==a.type){var p=!0;l.is(o.formElements)&&(p=!1),n.activeElement&&uz(n.activeElement).is(o.formElements)&&n.activeElement!==l[0]&&n.activeElement.blur(),!r.touchStartForcePreventDefault&&!(p&&e.allowTouchMove&&r.touchStartPreventDefault)||l[0].isContentEditable||a.preventDefault()}e.emit("touchStart",a)}}}function xz(t){var e=JH(),n=this,i=n.touchEventsData,o=n.params,r=n.touches,s=n.rtlTranslate,a=t;if(a.originalEvent&&(a=a.originalEvent),i.isTouched){if(!i.isTouchEvent||"touchmove"===a.type){var l="touchmove"===a.type&&a.targetTouches&&(a.targetTouches[0]||a.changedTouches[0]),c="touchmove"===a.type?l.pageX:a.pageX,u="touchmove"===a.type?l.pageY:a.pageY;if(a.preventedByNestedSwiper)return r.startX=c,void(r.startY=u);if(!n.allowTouchMove)return n.allowClick=!1,void(i.isTouched&&(gz(r,{startX:c,startY:u,currentX:c,currentY:u}),i.touchStartTime=dz()));if(i.isTouchEvent&&o.touchReleaseOnEdges&&!o.loop)if(n.isVertical()){if(u<r.startY&&n.translate<=n.maxTranslate()||u>r.startY&&n.translate>=n.minTranslate())return i.isTouched=!1,void(i.isMoved=!1)}else if(c<r.startX&&n.translate<=n.maxTranslate()||c>r.startX&&n.translate>=n.minTranslate())return;if(i.isTouchEvent&&e.activeElement&&a.target===e.activeElement&&uz(a.target).is(i.formElements))return i.isMoved=!0,void(n.allowClick=!1);if(i.allowTouchCallbacks&&n.emit("touchMove",a),!(a.targetTouches&&a.targetTouches.length>1)){r.currentX=c,r.currentY=u;var h,d=r.currentX-r.startX,p=r.currentY-r.startY;if(!(n.params.threshold&&Math.sqrt(Math.pow(d,2)+Math.pow(p,2))<n.params.threshold))if(void 0===i.isScrolling&&(n.isHorizontal()&&r.currentY===r.startY||n.isVertical()&&r.currentX===r.startX?i.isScrolling=!1:d*d+p*p>=25&&(h=180*Math.atan2(Math.abs(p),Math.abs(d))/Math.PI,i.isScrolling=n.isHorizontal()?h>o.touchAngle:90-h>o.touchAngle)),i.isScrolling&&n.emit("touchMoveOpposite",a),void 0===i.startMoving&&(r.currentX===r.startX&&r.currentY===r.startY||(i.startMoving=!0)),i.isScrolling)i.isTouched=!1;else if(i.startMoving){n.allowClick=!1,!o.cssMode&&a.cancelable&&a.preventDefault(),o.touchMoveStopPropagation&&!o.nested&&a.stopPropagation(),i.isMoved||(o.loop&&n.loopFix(),i.startTranslate=n.getTranslate(),n.setTransition(0),n.animating&&n.$wrapperEl.trigger("webkitTransitionEnd transitionend"),i.allowMomentumBounce=!1,!o.grabCursor||!0!==n.allowSlideNext&&!0!==n.allowSlidePrev||n.setGrabCursor(!0),n.emit("sliderFirstMove",a)),n.emit("sliderMove",a),i.isMoved=!0;var g=n.isHorizontal()?d:p;r.diff=g,g*=o.touchRatio,s&&(g=-g),n.swipeDirection=g>0?"prev":"next",i.currentTranslate=g+i.startTranslate;var m=!0,f=o.resistanceRatio;if(o.touchReleaseOnEdges&&(f=0),g>0&&i.currentTranslate>n.minTranslate()?(m=!1,o.resistance&&(i.currentTranslate=n.minTranslate()-1+Math.pow(-n.minTranslate()+i.startTranslate+g,f))):g<0&&i.currentTranslate<n.maxTranslate()&&(m=!1,o.resistance&&(i.currentTranslate=n.maxTranslate()+1-Math.pow(n.maxTranslate()-i.startTranslate-g,f))),m&&(a.preventedByNestedSwiper=!0),!n.allowSlideNext&&"next"===n.swipeDirection&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&"prev"===n.swipeDirection&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),n.allowSlidePrev||n.allowSlideNext||(i.currentTranslate=i.startTranslate),o.threshold>0){if(!(Math.abs(g)>o.threshold||i.allowThresholdMove))return void(i.currentTranslate=i.startTranslate);if(!i.allowThresholdMove)return i.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,i.currentTranslate=i.startTranslate,void(r.diff=n.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY)}o.followFinger&&!o.cssMode&&((o.freeMode||o.watchSlidesProgress||o.watchSlidesVisibility)&&(n.updateActiveIndex(),n.updateSlidesClasses()),o.freeMode&&(0===i.velocities.length&&i.velocities.push({position:r[n.isHorizontal()?"startX":"startY"],time:i.touchStartTime}),i.velocities.push({position:r[n.isHorizontal()?"currentX":"currentY"],time:dz()})),n.updateProgress(i.currentTranslate),n.setTranslate(i.currentTranslate))}}}}else i.startMoving&&i.isScrolling&&n.emit("touchMoveOpposite",a)}function Pz(t){var e=this,n=e.touchEventsData,i=e.params,o=e.touches,r=e.rtlTranslate,s=e.$wrapperEl,a=e.slidesGrid,l=e.snapGrid,c=t;if(c.originalEvent&&(c=c.originalEvent),n.allowTouchCallbacks&&e.emit("touchEnd",c),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&i.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);i.grabCursor&&n.isMoved&&n.isTouched&&(!0===e.allowSlideNext||!0===e.allowSlidePrev)&&e.setGrabCursor(!1);var u,h=dz(),d=h-n.touchStartTime;if(e.allowClick&&(e.updateClickedSlide(c),e.emit("tap click",c),d<300&&h-n.lastClickTime<300&&e.emit("doubleTap doubleClick",c)),n.lastClickTime=dz(),hz(function(){e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||0===o.diff||n.currentTranslate===n.startTranslate)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,u=i.followFinger?r?e.translate:-e.translate:-n.currentTranslate,!i.cssMode)if(i.freeMode){if(u<-e.minTranslate())return void e.slideTo(e.activeIndex);if(u>-e.maxTranslate())return void e.slideTo(e.slides.length<l.length?l.length-1:e.slides.length-1);if(i.freeModeMomentum){if(n.velocities.length>1){var p=n.velocities.pop(),g=n.velocities.pop(),m=p.time-g.time;e.velocity=(p.position-g.position)/m,e.velocity/=2,Math.abs(e.velocity)<i.freeModeMinimumVelocity&&(e.velocity=0),(m>150||dz()-p.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=i.freeModeMomentumVelocityRatio,n.velocities.length=0;var f=1e3*i.freeModeMomentumRatio,_=e.translate+e.velocity*f;r&&(_=-_);var b,v,y=!1,C=20*Math.abs(e.velocity)*i.freeModeMomentumBounceRatio;if(_<e.maxTranslate())i.freeModeMomentumBounce?(_+e.maxTranslate()<-C&&(_=e.maxTranslate()-C),b=e.maxTranslate(),y=!0,n.allowMomentumBounce=!0):_=e.maxTranslate(),i.loop&&i.centeredSlides&&(v=!0);else if(_>e.minTranslate())i.freeModeMomentumBounce?(_-e.minTranslate()>C&&(_=e.minTranslate()+C),b=e.minTranslate(),y=!0,n.allowMomentumBounce=!0):_=e.minTranslate(),i.loop&&i.centeredSlides&&(v=!0);else if(i.freeModeSticky){for(var O,T=0;T<l.length;T+=1)if(l[T]>-_){O=T;break}_=-(_=Math.abs(l[O]-_)<Math.abs(l[O-1]-_)||"next"===e.swipeDirection?l[O]:l[O-1])}if(v&&e.once("transitionEnd",function(){e.loopFix()}),0!==e.velocity){if(f=r?Math.abs((-_-e.translate)/e.velocity):Math.abs((_-e.translate)/e.velocity),i.freeModeSticky){var E=Math.abs((r?-_:_)-e.translate),S=e.slidesSizesGrid[e.activeIndex];f=E<S?i.speed:E<2*S?1.5*i.speed:2.5*i.speed}}else if(i.freeModeSticky)return void e.slideToClosest();i.freeModeMomentumBounce&&y?(e.updateProgress(b),e.setTransition(f),e.setTranslate(_),e.transitionStart(!0,e.swipeDirection),e.animating=!0,s.transitionEnd(function(){e&&!e.destroyed&&n.allowMomentumBounce&&(e.emit("momentumBounce"),e.setTransition(i.speed),setTimeout(function(){e.setTranslate(b),s.transitionEnd(function(){e&&!e.destroyed&&e.transitionEnd()})},0))})):e.velocity?(e.updateProgress(_),e.setTransition(f),e.setTranslate(_),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,s.transitionEnd(function(){e&&!e.destroyed&&e.transitionEnd()}))):(e.emit("_freeModeNoMomentumRelease"),e.updateProgress(_)),e.updateActiveIndex(),e.updateSlidesClasses()}else{if(i.freeModeSticky)return void e.slideToClosest();i.freeMode&&e.emit("_freeModeNoMomentumRelease")}(!i.freeModeMomentum||d>=i.longSwipesMs)&&(e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}else{for(var w=0,M=e.slidesSizesGrid[0],x=0;x<a.length;x+=x<i.slidesPerGroupSkip?1:i.slidesPerGroup){var P=x<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;void 0!==a[x+P]?u>=a[x]&&u<a[x+P]&&(w=x,M=a[x+P]-a[x]):u>=a[x]&&(w=x,M=a[a.length-1]-a[a.length-2])}var k=(u-a[w])/M,I=w<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;if(d>i.longSwipesMs){if(!i.longSwipes)return void e.slideTo(e.activeIndex);"next"===e.swipeDirection&&e.slideTo(k>=i.longSwipesRatio?w+I:w),"prev"===e.swipeDirection&&e.slideTo(k>1-i.longSwipesRatio?w+I:w)}else{if(!i.shortSwipes)return void e.slideTo(e.activeIndex);!e.navigation||c.target!==e.navigation.nextEl&&c.target!==e.navigation.prevEl?("next"===e.swipeDirection&&e.slideTo(w+I),"prev"===e.swipeDirection&&e.slideTo(w)):e.slideTo(c.target===e.navigation.nextEl?w+I:w)}}}function kz(){var t=this,e=t.params,n=t.el;if(!n||0!==n.offsetWidth){e.breakpoints&&t.setBreakpoint();var i=t.allowSlideNext,o=t.allowSlidePrev,r=t.snapGrid;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses(),t.slideTo(("auto"===e.slidesPerView||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides?t.slides.length-1:t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.run(),t.allowSlidePrev=o,t.allowSlideNext=i,t.params.watchOverflow&&r!==t.snapGrid&&t.checkOverflow()}}function Iz(t){var e=this;e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation()))}function Az(){var t=this,e=t.wrapperEl,n=t.rtlTranslate;t.previousTranslate=t.translate,t.translate=t.isHorizontal()?n?e.scrollWidth-e.offsetWidth-e.scrollLeft:-e.scrollLeft:-e.scrollTop,-0===t.translate&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();var i=t.maxTranslate()-t.minTranslate();(0===i?0:(t.translate-t.minTranslate())/i)!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}var Rz=!1;function Dz(){}const Lz={init:!0,direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!1,nested:!1,width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,slidesPerGroupSkip:0,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!1,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function Nz(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Bz={modular:{useParams:function(t){var e=this;e.modules&&Object.keys(e.modules).forEach(function(n){var i=e.modules[n];i.params&&gz(t,i.params)})},useModules:function(t){void 0===t&&(t={});var e=this;e.modules&&Object.keys(e.modules).forEach(function(n){var i=e.modules[n],o=t[n]||{};i.on&&e.on&&Object.keys(i.on).forEach(function(t){e.on(t,i.on[t])}),i.create&&i.create.bind(e)(o)})}},eventsEmitter:{on:function(t,e,n){var i=this;if("function"!=typeof e)return i;var o=n?"unshift":"push";return t.split(" ").forEach(function(t){i.eventsListeners[t]||(i.eventsListeners[t]=[]),i.eventsListeners[t][o](e)}),i},once:function(t,e,n){var i=this;if("function"!=typeof e)return i;function o(){i.off(t,o),o.__emitterProxy&&delete o.__emitterProxy;for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];e.apply(i,r)}return o.__emitterProxy=e,i.on(t,o,n)},onAny:function(t,e){var n=this;if("function"!=typeof t)return n;var i=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[i](t),n},offAny:function(t){var e=this;if(!e.eventsAnyListeners)return e;var n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off:function(t,e){var n=this;return n.eventsListeners?(t.split(" ").forEach(function(t){void 0===e?n.eventsListeners[t]=[]:n.eventsListeners[t]&&n.eventsListeners[t].forEach(function(i,o){(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[t].splice(o,1)})}),n):n},emit:function(){var t,e,n,i=this;if(!i.eventsListeners)return i;for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];"string"==typeof r[0]||Array.isArray(r[0])?(t=r[0],e=r.slice(1,r.length),n=i):(t=r[0].events,e=r[0].data,n=r[0].context||i),e.unshift(n);var a=Array.isArray(t)?t:t.split(" ");return a.forEach(function(t){i.eventsAnyListeners&&i.eventsAnyListeners.length&&i.eventsAnyListeners.forEach(function(i){i.apply(n,[t].concat(e))}),i.eventsListeners&&i.eventsListeners[t]&&i.eventsListeners[t].forEach(function(t){t.apply(n,e)})}),i}},update:{updateSize:function(){var t,e,n=this,i=n.$el;e=null!=n.params.height?n.params.height:i[0].clientHeight,0===(t=null!=n.params.width?n.params.width:i[0].clientWidth)&&n.isHorizontal()||0===e&&n.isVertical()||(t=t-parseInt(i.css("padding-left")||0,10)-parseInt(i.css("padding-right")||0,10),e=e-parseInt(i.css("padding-top")||0,10)-parseInt(i.css("padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(e)&&(e=0),gz(n,{width:t,height:e,size:n.isHorizontal()?t:e}))},updateSlides:function(){var t=this,e=function(e){return t.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]},n=function(t,n){return parseFloat(t.getPropertyValue(e(n))||0)},i=t.params,o=t.$wrapperEl,r=t.size,s=t.rtlTranslate,a=t.wrongRTL,l=t.virtual&&i.virtual.enabled,c=l?t.virtual.slides.length:t.slides.length,u=o.children("."+t.params.slideClass),h=l?t.virtual.slides.length:u.length,d=[],p=[],g=[],m=i.slidesOffsetBefore;"function"==typeof m&&(m=i.slidesOffsetBefore.call(t));var f=i.slidesOffsetAfter;"function"==typeof f&&(f=i.slidesOffsetAfter.call(t));var _=t.snapGrid.length,b=t.slidesGrid.length,v=i.spaceBetween,y=-m,C=0,O=0;if(void 0!==r){var T,E;"string"==typeof v&&v.indexOf("%")>=0&&(v=parseFloat(v.replace("%",""))/100*r),t.virtualSize=-v,u.css(s?{marginLeft:"",marginTop:""}:{marginRight:"",marginBottom:""}),i.slidesPerColumn>1&&(T=Math.floor(h/i.slidesPerColumn)===h/t.params.slidesPerColumn?h:Math.ceil(h/i.slidesPerColumn)*i.slidesPerColumn,"auto"!==i.slidesPerView&&"row"===i.slidesPerColumnFill&&(T=Math.max(T,i.slidesPerView*i.slidesPerColumn)));for(var S,w,M,x=i.slidesPerColumn,P=T/x,k=Math.floor(h/i.slidesPerColumn),I=0;I<h;I+=1){E=0;var A=u.eq(I);if(i.slidesPerColumn>1){var R=void 0,D=void 0,L=void 0;if("row"===i.slidesPerColumnFill&&i.slidesPerGroup>1){var N=Math.floor(I/(i.slidesPerGroup*i.slidesPerColumn)),B=I-i.slidesPerColumn*i.slidesPerGroup*N,F=0===N?i.slidesPerGroup:Math.min(Math.ceil((h-N*x*i.slidesPerGroup)/x),i.slidesPerGroup);L=Math.floor(B/F),A.css({"-webkit-box-ordinal-group":R=(D=B-L*F+N*i.slidesPerGroup)+L*T/x,"-moz-box-ordinal-group":R,"-ms-flex-order":R,"-webkit-order":R,order:R})}else"column"===i.slidesPerColumnFill?(L=I-(D=Math.floor(I/x))*x,(D>k||D===k&&L===x-1)&&(L+=1)>=x&&(L=0,D+=1)):D=I-(L=Math.floor(I/P))*P;A.css(e("margin-top"),0!==L&&i.spaceBetween&&i.spaceBetween+"px")}if("none"!==A.css("display")){if("auto"===i.slidesPerView){var U=getComputedStyle(A[0]),V=A[0].style.transform,G=A[0].style.webkitTransform;if(V&&(A[0].style.transform="none"),G&&(A[0].style.webkitTransform="none"),i.roundLengths)E=t.isHorizontal()?A.outerWidth(!0):A.outerHeight(!0);else{var j=n(U,"width"),H=n(U,"padding-left"),z=n(U,"padding-right"),W=n(U,"margin-left"),Z=n(U,"margin-right"),Y=U.getPropertyValue("box-sizing");if(Y&&"border-box"===Y)E=j+W+Z;else{var q=A[0];E=j+H+z+W+Z+(q.offsetWidth-q.clientWidth)}}V&&(A[0].style.transform=V),G&&(A[0].style.webkitTransform=G),i.roundLengths&&(E=Math.floor(E))}else E=(r-(i.slidesPerView-1)*v)/i.slidesPerView,i.roundLengths&&(E=Math.floor(E)),u[I]&&(u[I].style[e("width")]=E+"px");u[I]&&(u[I].swiperSlideSize=E),g.push(E),i.centeredSlides?(y=y+E/2+C/2+v,0===C&&0!==I&&(y=y-r/2-v),0===I&&(y=y-r/2-v),Math.abs(y)<.001&&(y=0),i.roundLengths&&(y=Math.floor(y)),O%i.slidesPerGroup==0&&d.push(y),p.push(y)):(i.roundLengths&&(y=Math.floor(y)),(O-Math.min(t.params.slidesPerGroupSkip,O))%t.params.slidesPerGroup==0&&d.push(y),p.push(y),y=y+E+v),t.virtualSize+=E+v,C=E,O+=1}}if(t.virtualSize=Math.max(t.virtualSize,r)+f,s&&a&&("slide"===i.effect||"coverflow"===i.effect)&&o.css({width:t.virtualSize+i.spaceBetween+"px"}),i.setWrapperSize&&o.css(((w={})[e("width")]=t.virtualSize+i.spaceBetween+"px",w)),i.slidesPerColumn>1&&(t.virtualSize=(E+i.spaceBetween)*T,t.virtualSize=Math.ceil(t.virtualSize/i.slidesPerColumn)-i.spaceBetween,o.css(((M={})[e("width")]=t.virtualSize+i.spaceBetween+"px",M)),i.centeredSlides)){S=[];for(var J=0;J<d.length;J+=1){var $=d[J];i.roundLengths&&($=Math.floor($)),d[J]<t.virtualSize+d[0]&&S.push($)}d=S}if(!i.centeredSlides){S=[];for(var K=0;K<d.length;K+=1){var X=d[K];i.roundLengths&&(X=Math.floor(X)),d[K]<=t.virtualSize-r&&S.push(X)}d=S,Math.floor(t.virtualSize-r)-Math.floor(d[d.length-1])>1&&d.push(t.virtualSize-r)}if(0===d.length&&(d=[0]),0!==i.spaceBetween){var Q,tt=t.isHorizontal()&&s?"marginLeft":e("marginRight");u.filter(function(t,e){return!i.cssMode||e!==u.length-1}).css(((Q={})[tt]=v+"px",Q))}if(i.centeredSlides&&i.centeredSlidesBounds){var et=0;g.forEach(function(t){et+=t+(i.spaceBetween?i.spaceBetween:0)});var nt=(et-=i.spaceBetween)-r;d=d.map(function(t){return t<0?-m:t>nt?nt+f:t})}if(i.centerInsufficientSlides){var it=0;if(g.forEach(function(t){it+=t+(i.spaceBetween?i.spaceBetween:0)}),(it-=i.spaceBetween)<r){var ot=(r-it)/2;d.forEach(function(t,e){d[e]=t-ot}),p.forEach(function(t,e){p[e]=t+ot})}}gz(t,{slides:u,snapGrid:d,slidesGrid:p,slidesSizesGrid:g}),h!==c&&t.emit("slidesLengthChange"),d.length!==_&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),p.length!==b&&t.emit("slidesGridLengthChange"),(i.watchSlidesProgress||i.watchSlidesVisibility)&&t.updateSlidesOffset()}},updateAutoHeight:function(t){var e,n=this,i=[],o=0;if("number"==typeof t?n.setTransition(t):!0===t&&n.setTransition(n.params.speed),"auto"!==n.params.slidesPerView&&n.params.slidesPerView>1)if(n.params.centeredSlides)n.visibleSlides.each(function(t){i.push(t)});else for(e=0;e<Math.ceil(n.params.slidesPerView);e+=1){var r=n.activeIndex+e;if(r>n.slides.length)break;i.push(n.slides.eq(r)[0])}else i.push(n.slides.eq(n.activeIndex)[0]);for(e=0;e<i.length;e+=1)if(void 0!==i[e]){var s=i[e].offsetHeight;o=s>o?s:o}o&&n.$wrapperEl.css("height",o+"px")},updateSlidesOffset:function(){for(var t=this.slides,e=0;e<t.length;e+=1)t[e].swiperSlideOffset=this.isHorizontal()?t[e].offsetLeft:t[e].offsetTop},updateSlidesProgress:function(t){void 0===t&&(t=this&&this.translate||0);var e=this,n=e.params,i=e.slides,o=e.rtlTranslate;if(0!==i.length){void 0===i[0].swiperSlideOffset&&e.updateSlidesOffset();var r=-t;o&&(r=t),i.removeClass(n.slideVisibleClass),e.visibleSlidesIndexes=[],e.visibleSlides=[];for(var s=0;s<i.length;s+=1){var a=i[s],l=(r+(n.centeredSlides?e.minTranslate():0)-a.swiperSlideOffset)/(a.swiperSlideSize+n.spaceBetween);if(n.watchSlidesVisibility||n.centeredSlides&&n.autoHeight){var c=-(r-a.swiperSlideOffset),u=c+e.slidesSizesGrid[s];(c>=0&&c<e.size-1||u>1&&u<=e.size||c<=0&&u>=e.size)&&(e.visibleSlides.push(a),e.visibleSlidesIndexes.push(s),i.eq(s).addClass(n.slideVisibleClass))}a.progress=o?-l:l}e.visibleSlides=uz(e.visibleSlides)}},updateProgress:function(t){var e=this;void 0===t&&(t=e&&e.translate&&e.translate*(e.rtlTranslate?-1:1)||0);var n=e.params,i=e.maxTranslate()-e.minTranslate(),o=e.progress,r=e.isBeginning,s=e.isEnd,a=r,l=s;0===i?(o=0,r=!0,s=!0):(r=(o=(t-e.minTranslate())/i)<=0,s=o>=1),gz(e,{progress:o,isBeginning:r,isEnd:s}),(n.watchSlidesProgress||n.watchSlidesVisibility||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),r&&!a&&e.emit("reachBeginning toEdge"),s&&!l&&e.emit("reachEnd toEdge"),(a&&!r||l&&!s)&&e.emit("fromEdge"),e.emit("progress",o)},updateSlidesClasses:function(){var t,e=this,n=e.slides,i=e.params,o=e.$wrapperEl,r=e.activeIndex,s=e.realIndex,a=e.virtual&&i.virtual.enabled;n.removeClass(i.slideActiveClass+" "+i.slideNextClass+" "+i.slidePrevClass+" "+i.slideDuplicateActiveClass+" "+i.slideDuplicateNextClass+" "+i.slideDuplicatePrevClass),(t=a?e.$wrapperEl.find("."+i.slideClass+'[data-swiper-slide-index="'+r+'"]'):n.eq(r)).addClass(i.slideActiveClass),i.loop&&(t.hasClass(i.slideDuplicateClass)?o.children("."+i.slideClass+":not(."+i.slideDuplicateClass+')[data-swiper-slide-index="'+s+'"]').addClass(i.slideDuplicateActiveClass):o.children("."+i.slideClass+"."+i.slideDuplicateClass+'[data-swiper-slide-index="'+s+'"]').addClass(i.slideDuplicateActiveClass));var l=t.nextAll("."+i.slideClass).eq(0).addClass(i.slideNextClass);i.loop&&0===l.length&&(l=n.eq(0)).addClass(i.slideNextClass);var c=t.prevAll("."+i.slideClass).eq(0).addClass(i.slidePrevClass);i.loop&&0===c.length&&(c=n.eq(-1)).addClass(i.slidePrevClass),i.loop&&(l.hasClass(i.slideDuplicateClass)?o.children("."+i.slideClass+":not(."+i.slideDuplicateClass+')[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(i.slideDuplicateNextClass):o.children("."+i.slideClass+"."+i.slideDuplicateClass+'[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(i.slideDuplicateNextClass),c.hasClass(i.slideDuplicateClass)?o.children("."+i.slideClass+":not(."+i.slideDuplicateClass+')[data-swiper-slide-index="'+c.attr("data-swiper-slide-index")+'"]').addClass(i.slideDuplicatePrevClass):o.children("."+i.slideClass+"."+i.slideDuplicateClass+'[data-swiper-slide-index="'+c.attr("data-swiper-slide-index")+'"]').addClass(i.slideDuplicatePrevClass)),e.emitSlidesClasses()},updateActiveIndex:function(t){var e,n=this,i=n.rtlTranslate?n.translate:-n.translate,o=n.slidesGrid,r=n.snapGrid,s=n.params,a=n.activeIndex,l=n.realIndex,c=n.snapIndex,u=t;if(void 0===u){for(var h=0;h<o.length;h+=1)void 0!==o[h+1]?i>=o[h]&&i<o[h+1]-(o[h+1]-o[h])/2?u=h:i>=o[h]&&i<o[h+1]&&(u=h+1):i>=o[h]&&(u=h);s.normalizeSlideIndex&&(u<0||void 0===u)&&(u=0)}if(r.indexOf(i)>=0)e=r.indexOf(i);else{var d=Math.min(s.slidesPerGroupSkip,u);e=d+Math.floor((u-d)/s.slidesPerGroup)}if(e>=r.length&&(e=r.length-1),u!==a){var p=parseInt(n.slides.eq(u).attr("data-swiper-slide-index")||u,10);gz(n,{snapIndex:e,realIndex:p,previousIndex:a,activeIndex:u}),n.emit("activeIndexChange"),n.emit("snapIndexChange"),l!==p&&n.emit("realIndexChange"),(n.initialized||n.params.runCallbacksOnInit)&&n.emit("slideChange")}else e!==c&&(n.snapIndex=e,n.emit("snapIndexChange"))},updateClickedSlide:function(t){var e,n=this,i=n.params,o=uz(t.target).closest("."+i.slideClass)[0],r=!1;if(o)for(var s=0;s<n.slides.length;s+=1)if(n.slides[s]===o){r=!0,e=s;break}if(!o||!r)return n.clickedSlide=void 0,void(n.clickedIndex=void 0);n.clickedSlide=o,n.clickedIndex=n.virtual&&n.params.virtual.enabled?parseInt(uz(o).attr("data-swiper-slide-index"),10):e,i.slideToClickedSlide&&void 0!==n.clickedIndex&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}},translate:{getTranslate:function(t){void 0===t&&(t=this.isHorizontal()?"x":"y");var e=this,n=e.params,i=e.rtlTranslate,o=e.translate;if(n.virtualTranslate)return i?-o:o;if(n.cssMode)return o;var r=function(t,e){void 0===e&&(e="x");var n,i,o,r=KH(),s=function(t){var e,n=KH();return n.getComputedStyle&&(e=n.getComputedStyle(t,null)),!e&&t.currentStyle&&(e=t.currentStyle),e||(e=t.style),e}(t);return r.WebKitCSSMatrix?((i=s.transform||s.webkitTransform).split(",").length>6&&(i=i.split(", ").map(function(t){return t.replace(",",".")}).join(", ")),o=new r.WebKitCSSMatrix("none"===i?"":i)):n=(o=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===e&&(i=r.WebKitCSSMatrix?o.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===e&&(i=r.WebKitCSSMatrix?o.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),i||0}(e.$wrapperEl[0],t);return i&&(r=-r),r||0},setTranslate:function(t,e){var n=this,i=n.rtlTranslate,o=n.params,r=n.$wrapperEl,s=n.wrapperEl,a=n.progress,l=0,c=0;n.isHorizontal()?l=i?-t:t:c=t,o.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),o.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-c:o.virtualTranslate||r.transform("translate3d("+l+"px, "+c+"px, 0px)"),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:c;var u=n.maxTranslate()-n.minTranslate();(0===u?0:(t-n.minTranslate())/u)!==a&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(t,e,n,i,o){void 0===t&&(t=0),void 0===e&&(e=this.params.speed),void 0===n&&(n=!0),void 0===i&&(i=!0);var r=this,s=r.params,a=r.wrapperEl;if(r.animating&&s.preventInteractionOnTransition)return!1;var l,c=r.minTranslate(),u=r.maxTranslate();if(r.updateProgress(l=i&&t>c?c:i&&t<u?u:t),s.cssMode){var h,d=r.isHorizontal();return 0===e?a[d?"scrollLeft":"scrollTop"]=-l:a.scrollTo?a.scrollTo(((h={})[d?"left":"top"]=-l,h.behavior="smooth",h)):a[d?"scrollLeft":"scrollTop"]=-l,!0}return 0===e?(r.setTransition(0),r.setTranslate(l),n&&(r.emit("beforeTransitionStart",e,o),r.emit("transitionEnd"))):(r.setTransition(e),r.setTranslate(l),n&&(r.emit("beforeTransitionStart",e,o),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(t){r&&!r.destroyed&&t.target===this&&(r.$wrapperEl[0].removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.$wrapperEl[0].removeEventListener("webkitTransitionEnd",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,n&&r.emit("transitionEnd"))}),r.$wrapperEl[0].addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.$wrapperEl[0].addEventListener("webkitTransitionEnd",r.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function(t,e){var n=this;n.params.cssMode||n.$wrapperEl.transition(t),n.emit("setTransition",t,e)},transitionStart:function(t,e){void 0===t&&(t=!0);var n=this,i=n.activeIndex,o=n.params,r=n.previousIndex;if(!o.cssMode){o.autoHeight&&n.updateAutoHeight();var s=e;if(s||(s=i>r?"next":i<r?"prev":"reset"),n.emit("transitionStart"),t&&i!==r){if("reset"===s)return void n.emit("slideResetTransitionStart");n.emit("slideChangeTransitionStart"),n.emit("next"===s?"slideNextTransitionStart":"slidePrevTransitionStart")}}},transitionEnd:function(t,e){void 0===t&&(t=!0);var n=this,i=n.activeIndex,o=n.previousIndex,r=n.params;if(n.animating=!1,!r.cssMode){n.setTransition(0);var s=e;if(s||(s=i>o?"next":i<o?"prev":"reset"),n.emit("transitionEnd"),t&&i!==o){if("reset"===s)return void n.emit("slideResetTransitionEnd");n.emit("slideChangeTransitionEnd"),n.emit("next"===s?"slideNextTransitionEnd":"slidePrevTransitionEnd")}}}},slide:{slideTo:function(t,e,n,i){if(void 0===t&&(t=0),void 0===e&&(e=this.params.speed),void 0===n&&(n=!0),"number"!=typeof t&&"string"!=typeof t)throw new Error("The 'index' argument cannot have type other than 'number' or 'string'. ["+typeof t+"] given.");if("string"==typeof t){var o=parseInt(t,10);if(!isFinite(o))throw new Error("The passed-in 'index' (string) couldn't be converted to 'number'. ["+t+"] given.");t=o}var r=this,s=t;s<0&&(s=0);var a=r.params,l=r.snapGrid,c=r.slidesGrid,u=r.previousIndex,h=r.activeIndex,d=r.rtlTranslate,p=r.wrapperEl;if(r.animating&&a.preventInteractionOnTransition)return!1;var g=Math.min(r.params.slidesPerGroupSkip,s),m=g+Math.floor((s-g)/r.params.slidesPerGroup);m>=l.length&&(m=l.length-1),(h||a.initialSlide||0)===(u||0)&&n&&r.emit("beforeSlideChangeStart");var f,_=-l[m];if(r.updateProgress(_),a.normalizeSlideIndex)for(var b=0;b<c.length;b+=1){var v=-Math.floor(100*_),y=Math.floor(100*c[b]),C=Math.floor(100*c[b+1]);void 0!==c[b+1]?v>=y&&v<C-(C-y)/2?s=b:v>=y&&v<C&&(s=b+1):v>=y&&(s=b)}if(r.initialized&&s!==h){if(!r.allowSlideNext&&_<r.translate&&_<r.minTranslate())return!1;if(!r.allowSlidePrev&&_>r.translate&&_>r.maxTranslate()&&(h||0)!==s)return!1}if(f=s>h?"next":s<h?"prev":"reset",d&&-_===r.translate||!d&&_===r.translate)return r.updateActiveIndex(s),a.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),"slide"!==a.effect&&r.setTranslate(_),"reset"!==f&&(r.transitionStart(n,f),r.transitionEnd(n,f)),!1;if(a.cssMode){var O,T=r.isHorizontal(),E=-_;return d&&(E=p.scrollWidth-p.offsetWidth-E),0===e?p[T?"scrollLeft":"scrollTop"]=E:p.scrollTo?p.scrollTo(((O={})[T?"left":"top"]=E,O.behavior="smooth",O)):p[T?"scrollLeft":"scrollTop"]=E,!0}return 0===e?(r.setTransition(0),r.setTranslate(_),r.updateActiveIndex(s),r.updateSlidesClasses(),r.emit("beforeTransitionStart",e,i),r.transitionStart(n,f),r.transitionEnd(n,f)):(r.setTransition(e),r.setTranslate(_),r.updateActiveIndex(s),r.updateSlidesClasses(),r.emit("beforeTransitionStart",e,i),r.transitionStart(n,f),r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(t){r&&!r.destroyed&&t.target===this&&(r.$wrapperEl[0].removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.$wrapperEl[0].removeEventListener("webkitTransitionEnd",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(n,f))}),r.$wrapperEl[0].addEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.$wrapperEl[0].addEventListener("webkitTransitionEnd",r.onSlideToWrapperTransitionEnd))),!0},slideToLoop:function(t,e,n,i){void 0===t&&(t=0),void 0===e&&(e=this.params.speed),void 0===n&&(n=!0);var o=this,r=t;return o.params.loop&&(r+=o.loopedSlides),o.slideTo(r,e,n,i)},slideNext:function(t,e,n){void 0===t&&(t=this.params.speed),void 0===e&&(e=!0);var i=this,o=i.params,r=i.activeIndex<o.slidesPerGroupSkip?1:o.slidesPerGroup;if(o.loop){if(i.animating&&o.loopPreventsSlide)return!1;i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft}return i.slideTo(i.activeIndex+r,t,e,n)},slidePrev:function(t,e,n){void 0===t&&(t=this.params.speed),void 0===e&&(e=!0);var i=this,o=i.params,r=i.snapGrid,s=i.slidesGrid,a=i.rtlTranslate;if(o.loop){if(i.animating&&o.loopPreventsSlide)return!1;i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft}function l(t){return t<0?-Math.floor(Math.abs(t)):Math.floor(t)}var c,u=l(a?i.translate:-i.translate),h=r.map(function(t){return l(t)}),d=(h.indexOf(u),r[h.indexOf(u)-1]);return void 0===d&&o.cssMode&&r.forEach(function(t){!d&&u>=t&&(d=t)}),void 0!==d&&(c=s.indexOf(d))<0&&(c=i.activeIndex-1),i.slideTo(c,t,e,n)},slideReset:function(t,e,n){return void 0===t&&(t=this.params.speed),void 0===e&&(e=!0),this.slideTo(this.activeIndex,t,e,n)},slideToClosest:function(t,e,n,i){void 0===t&&(t=this.params.speed),void 0===e&&(e=!0),void 0===i&&(i=.5);var o=this,r=o.activeIndex,s=Math.min(o.params.slidesPerGroupSkip,r),a=s+Math.floor((r-s)/o.params.slidesPerGroup),l=o.rtlTranslate?o.translate:-o.translate;if(l>=o.snapGrid[a]){var c=o.snapGrid[a];l-c>(o.snapGrid[a+1]-c)*i&&(r+=o.params.slidesPerGroup)}else{var u=o.snapGrid[a-1];l-u<=(o.snapGrid[a]-u)*i&&(r-=o.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,o.slidesGrid.length-1),o.slideTo(r,t,e,n)},slideToClickedSlide:function(){var t,e=this,n=e.params,i=e.$wrapperEl,o="auto"===n.slidesPerView?e.slidesPerViewDynamic():n.slidesPerView,r=e.clickedIndex;if(n.loop){if(e.animating)return;t=parseInt(uz(e.clickedSlide).attr("data-swiper-slide-index"),10),n.centeredSlides?r<e.loopedSlides-o/2||r>e.slides.length-e.loopedSlides+o/2?(e.loopFix(),r=i.children("."+n.slideClass+'[data-swiper-slide-index="'+t+'"]:not(.'+n.slideDuplicateClass+")").eq(0).index(),hz(function(){e.slideTo(r)})):e.slideTo(r):r>e.slides.length-o?(e.loopFix(),r=i.children("."+n.slideClass+'[data-swiper-slide-index="'+t+'"]:not(.'+n.slideDuplicateClass+")").eq(0).index(),hz(function(){e.slideTo(r)})):e.slideTo(r)}else e.slideTo(r)}},loop:{loopCreate:function(){var t=this,e=JH(),n=t.params,i=t.$wrapperEl;i.children("."+n.slideClass+"."+n.slideDuplicateClass).remove();var o=i.children("."+n.slideClass);if(n.loopFillGroupWithBlank){var r=n.slidesPerGroup-o.length%n.slidesPerGroup;if(r!==n.slidesPerGroup){for(var s=0;s<r;s+=1){var a=uz(e.createElement("div")).addClass(n.slideClass+" "+n.slideBlankClass);i.append(a)}o=i.children("."+n.slideClass)}}"auto"!==n.slidesPerView||n.loopedSlides||(n.loopedSlides=o.length),t.loopedSlides=Math.ceil(parseFloat(n.loopedSlides||n.slidesPerView,10)),t.loopedSlides+=n.loopAdditionalSlides,t.loopedSlides>o.length&&(t.loopedSlides=o.length);var l=[],c=[];o.each(function(e,n){var i=uz(e);n<t.loopedSlides&&c.push(e),n<o.length&&n>=o.length-t.loopedSlides&&l.push(e),i.attr("data-swiper-slide-index",n)});for(var u=0;u<c.length;u+=1)i.append(uz(c[u].cloneNode(!0)).addClass(n.slideDuplicateClass));for(var h=l.length-1;h>=0;h-=1)i.prepend(uz(l[h].cloneNode(!0)).addClass(n.slideDuplicateClass))},loopFix:function(){var t=this;t.emit("beforeLoopFix");var e,n=t.activeIndex,i=t.slides,o=t.loopedSlides,r=t.allowSlidePrev,s=t.allowSlideNext,a=t.snapGrid,l=t.rtlTranslate;t.allowSlidePrev=!0,t.allowSlideNext=!0;var c=-a[n]-t.getTranslate();n<o?(e=i.length-3*o+n,t.slideTo(e+=o,0,!1,!0)&&0!==c&&t.setTranslate((l?-t.translate:t.translate)-c)):n>=i.length-o&&(e=-i.length+n+o,t.slideTo(e+=o,0,!1,!0)&&0!==c&&t.setTranslate((l?-t.translate:t.translate)-c)),t.allowSlidePrev=r,t.allowSlideNext=s,t.emit("loopFix")},loopDestroy:function(){var t=this,e=t.params,n=t.slides;t.$wrapperEl.children("."+e.slideClass+"."+e.slideDuplicateClass+",."+e.slideClass+"."+e.slideBlankClass).remove(),n.removeAttr("data-swiper-slide-index")}},grabCursor:{setGrabCursor:function(t){var e=this;if(!(e.support.touch||!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)){var n=e.el;n.style.cursor="move",n.style.cursor=t?"-webkit-grabbing":"-webkit-grab",n.style.cursor=t?"-moz-grabbin":"-moz-grab",n.style.cursor=t?"grabbing":"grab"}},unsetGrabCursor:function(){var t=this;t.support.touch||t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.el.style.cursor="")}},manipulation:{appendSlide:function(t){var e=this,n=e.$wrapperEl,i=e.params;if(i.loop&&e.loopDestroy(),"object"==typeof t&&"length"in t)for(var o=0;o<t.length;o+=1)t[o]&&n.append(t[o]);else n.append(t);i.loop&&e.loopCreate(),i.observer&&e.support.observer||e.update()},prependSlide:function(t){var e=this,n=e.params,i=e.$wrapperEl,o=e.activeIndex;n.loop&&e.loopDestroy();var r=o+1;if("object"==typeof t&&"length"in t){for(var s=0;s<t.length;s+=1)t[s]&&i.prepend(t[s]);r=o+t.length}else i.prepend(t);n.loop&&e.loopCreate(),n.observer&&e.support.observer||e.update(),e.slideTo(r,0,!1)},addSlide:function(t,e){var n=this,i=n.$wrapperEl,o=n.params,r=n.activeIndex;o.loop&&(r-=n.loopedSlides,n.loopDestroy(),n.slides=i.children("."+o.slideClass));var s=n.slides.length;if(t<=0)n.prependSlide(e);else if(t>=s)n.appendSlide(e);else{for(var a=r>t?r+1:r,l=[],c=s-1;c>=t;c-=1){var u=n.slides.eq(c);u.remove(),l.unshift(u)}if("object"==typeof e&&"length"in e){for(var h=0;h<e.length;h+=1)e[h]&&i.append(e[h]);a=r>t?r+e.length:r}else i.append(e);for(var d=0;d<l.length;d+=1)i.append(l[d]);o.loop&&n.loopCreate(),o.observer&&n.support.observer||n.update(),n.slideTo(o.loop?a+n.loopedSlides:a,0,!1)}},removeSlide:function(t){var e=this,n=e.params,i=e.$wrapperEl,o=e.activeIndex;n.loop&&(o-=e.loopedSlides,e.loopDestroy(),e.slides=i.children("."+n.slideClass));var r,s=o;if("object"==typeof t&&"length"in t){for(var a=0;a<t.length;a+=1)e.slides[r=t[a]]&&e.slides.eq(r).remove(),r<s&&(s-=1);s=Math.max(s,0)}else e.slides[r=t]&&e.slides.eq(r).remove(),r<s&&(s-=1),s=Math.max(s,0);n.loop&&e.loopCreate(),n.observer&&e.support.observer||e.update(),e.slideTo(n.loop?s+e.loopedSlides:s,0,!1)},removeAllSlides:function(){for(var t=[],e=0;e<this.slides.length;e+=1)t.push(e);this.removeSlide(t)}},events:{attachEvents:function(){var t=this,e=JH(),n=t.params,i=t.touchEvents,o=t.el,r=t.wrapperEl,s=t.device,a=t.support;t.onTouchStart=Mz.bind(t),t.onTouchMove=xz.bind(t),t.onTouchEnd=Pz.bind(t),n.cssMode&&(t.onScroll=Az.bind(t)),t.onClick=Iz.bind(t);var l=!!n.nested;if(!a.touch&&a.pointerEvents)o.addEventListener(i.start,t.onTouchStart,!1),e.addEventListener(i.move,t.onTouchMove,l),e.addEventListener(i.end,t.onTouchEnd,!1);else{if(a.touch){var c=!("touchstart"!==i.start||!a.passiveListener||!n.passiveListeners)&&{passive:!0,capture:!1};o.addEventListener(i.start,t.onTouchStart,c),o.addEventListener(i.move,t.onTouchMove,a.passiveListener?{passive:!1,capture:l}:l),o.addEventListener(i.end,t.onTouchEnd,c),i.cancel&&o.addEventListener(i.cancel,t.onTouchEnd,c),Rz||(e.addEventListener("touchstart",Dz),Rz=!0)}(n.simulateTouch&&!s.ios&&!s.android||n.simulateTouch&&!a.touch&&s.ios)&&(o.addEventListener("mousedown",t.onTouchStart,!1),e.addEventListener("mousemove",t.onTouchMove,l),e.addEventListener("mouseup",t.onTouchEnd,!1))}(n.preventClicks||n.preventClicksPropagation)&&o.addEventListener("click",t.onClick,!0),n.cssMode&&r.addEventListener("scroll",t.onScroll),t.on(n.updateOnWindowResize?s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate":"observerUpdate",kz,!0)},detachEvents:function(){var t=this,e=JH(),n=t.params,i=t.touchEvents,o=t.el,r=t.wrapperEl,s=t.device,a=t.support,l=!!n.nested;if(!a.touch&&a.pointerEvents)o.removeEventListener(i.start,t.onTouchStart,!1),e.removeEventListener(i.move,t.onTouchMove,l),e.removeEventListener(i.end,t.onTouchEnd,!1);else{if(a.touch){var c=!("onTouchStart"!==i.start||!a.passiveListener||!n.passiveListeners)&&{passive:!0,capture:!1};o.removeEventListener(i.start,t.onTouchStart,c),o.removeEventListener(i.move,t.onTouchMove,l),o.removeEventListener(i.end,t.onTouchEnd,c),i.cancel&&o.removeEventListener(i.cancel,t.onTouchEnd,c)}(n.simulateTouch&&!s.ios&&!s.android||n.simulateTouch&&!a.touch&&s.ios)&&(o.removeEventListener("mousedown",t.onTouchStart,!1),e.removeEventListener("mousemove",t.onTouchMove,l),e.removeEventListener("mouseup",t.onTouchEnd,!1))}(n.preventClicks||n.preventClicksPropagation)&&o.removeEventListener("click",t.onClick,!0),n.cssMode&&r.removeEventListener("scroll",t.onScroll),t.off(s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate",kz)}},breakpoints:{setBreakpoint:function(){var t=this,e=t.activeIndex,n=t.initialized,i=t.loopedSlides,o=void 0===i?0:i,r=t.params,s=t.$el,a=r.breakpoints;if(a&&(!a||0!==Object.keys(a).length)){var l=t.getBreakpoint(a,t.params.breakpointsBase,t.el);if(l&&t.currentBreakpoint!==l){var c=l in a?a[l]:void 0;c&&["slidesPerView","spaceBetween","slidesPerGroup","slidesPerGroupSkip","slidesPerColumn"].forEach(function(t){var e=c[t];void 0!==e&&(c[t]="slidesPerView"!==t||"AUTO"!==e&&"auto"!==e?"slidesPerView"===t?parseFloat(e):parseInt(e,10):"auto")});var u=c||t.originalParams,h=r.slidesPerColumn>1,d=u.slidesPerColumn>1;h&&!d?(s.removeClass(r.containerModifierClass+"multirow "+r.containerModifierClass+"multirow-column"),t.emitContainerClasses()):!h&&d&&(s.addClass(r.containerModifierClass+"multirow"),"column"===u.slidesPerColumnFill&&s.addClass(r.containerModifierClass+"multirow-column"),t.emitContainerClasses());var p=u.direction&&u.direction!==r.direction,g=r.loop&&(u.slidesPerView!==r.slidesPerView||p);p&&n&&t.changeDirection(),gz(t.params,u),gz(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),t.currentBreakpoint=l,t.emit("_beforeBreakpoint",u),g&&n&&(t.loopDestroy(),t.loopCreate(),t.updateSlides(),t.slideTo(e-o+t.loopedSlides,0,!1)),t.emit("breakpoint",u)}}},getBreakpoint:function(t,e,n){if(void 0===e&&(e="window"),t&&("container"!==e||n)){var i=!1,o=KH(),r="window"===e?o.innerWidth:n.clientWidth,s="window"===e?o.innerHeight:n.clientHeight,a=Object.keys(t).map(function(t){if("string"==typeof t&&0===t.indexOf("@")){var e=parseFloat(t.substr(1));return{value:s*e,point:t}}return{value:t,point:t}});a.sort(function(t,e){return parseInt(t.value,10)-parseInt(e.value,10)});for(var l=0;l<a.length;l+=1){var c=a[l];c.value<=r&&(i=c.point)}return i||"max"}}},checkOverflow:{checkOverflow:function(){var t=this,e=t.params,n=t.isLocked,i=t.slides.length>0&&e.slidesOffsetBefore+e.spaceBetween*(t.slides.length-1)+t.slides[0].offsetWidth*t.slides.length;t.isLocked=e.slidesOffsetBefore&&e.slidesOffsetAfter&&i?i<=t.size:1===t.snapGrid.length,t.allowSlideNext=!t.isLocked,t.allowSlidePrev=!t.isLocked,n!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock"),n&&n!==t.isLocked&&(t.isEnd=!1,t.navigation&&t.navigation.update())}},classes:{addClasses:function(){var t,e,n=this,i=n.classNames,o=n.params,r=n.$el,s=n.device,a=n.support,l=(t=o.containerModifierClass,e=[],["initialized",o.direction,{"pointer-events":a.pointerEvents&&!a.touch},{"free-mode":o.freeMode},{autoheight:o.autoHeight},{rtl:n.rtl},{multirow:o.slidesPerColumn>1},{"multirow-column":o.slidesPerColumn>1&&"column"===o.slidesPerColumnFill},{android:s.android},{ios:s.ios},{"css-mode":o.cssMode}].forEach(function(n){"object"==typeof n?Object.keys(n).forEach(function(i){n[i]&&e.push(t+i)}):"string"==typeof n&&e.push(t+n)}),e);i.push.apply(i,l),r.addClass([].concat(i).join(" ")),n.emitContainerClasses()},removeClasses:function(){var t=this;t.$el.removeClass(t.classNames.join(" ")),t.emitContainerClasses()}},images:{loadImage:function(t,e,n,i,o,r){var s,a=KH();function l(){r&&r()}uz(t).parent("picture")[0]||t.complete&&o?l():e?((s=new a.Image).onload=l,s.onerror=l,i&&(s.sizes=i),n&&(s.srcset=n),e&&(s.src=e)):l()},preloadImages:function(){var t=this;function e(){null!=t&&t&&!t.destroyed&&(void 0!==t.imagesLoaded&&(t.imagesLoaded+=1),t.imagesLoaded===t.imagesToLoad.length&&(t.params.updateOnImagesReady&&t.update(),t.emit("imagesReady")))}t.imagesToLoad=t.$el.find("img");for(var n=0;n<t.imagesToLoad.length;n+=1){var i=t.imagesToLoad[n];t.loadImage(i,i.currentSrc||i.getAttribute("src"),i.srcset||i.getAttribute("srcset"),i.sizes||i.getAttribute("sizes"),!0,e)}}}},Fz={},Uz=function(){function t(){for(var e,n,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];if(1===o.length&&o[0].constructor&&"Object"===Object.prototype.toString.call(o[0]).slice(8,-1)?n=o[0]:(e=o[0],n=o[1]),n||(n={}),n=gz({},n),e&&!n.el&&(n.el=e),n.el&&uz(n.el).length>1){var s=[];return uz(n.el).each(function(e){var i=gz({},n,{el:e});s.push(new t(i))}),s}var a=this;a.__swiper__=!0,a.support=yz(),a.device=Cz({userAgent:n.userAgent}),a.browser=Oz(),a.eventsListeners={},a.eventsAnyListeners=[],void 0===a.modules&&(a.modules={}),Object.keys(a.modules).forEach(function(t){var e=a.modules[t];if(e.params){var i=Object.keys(e.params)[0],o=e.params[i];if("object"!=typeof o||null===o)return;if(!(i in n)||!("enabled"in o))return;!0===n[i]&&(n[i]={enabled:!0}),"object"!=typeof n[i]||"enabled"in n[i]||(n[i].enabled=!0),n[i]||(n[i]={enabled:!1})}});var l,c,u=gz({},Lz);return a.useParams(u),a.params=gz({},u,Fz,n),a.originalParams=gz({},a.params),a.passedParams=gz({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(function(t){a.on(t,a.params.on[t])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),a.$=uz,gz(a,{el:e,classNames:[],slides:uz(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===a.params.direction},isVertical:function(){return"vertical"===a.params.direction},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEvents:(l=["touchstart","touchmove","touchend","touchcancel"],c=["mousedown","mousemove","mouseup"],a.support.pointerEvents&&(c=["pointerdown","pointermove","pointerup"]),a.touchEventsTouch={start:l[0],move:l[1],end:l[2],cancel:l[3]},a.touchEventsDesktop={start:c[0],move:c[1],end:c[2]},a.support.touch||!a.params.simulateTouch?a.touchEventsTouch:a.touchEventsDesktop),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,formElements:"input, select, option, textarea, button, video, label",lastClickTime:dz(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.useModules(),a.emit("_swiper"),a.params.init&&a.init(),a}var e,n,i=t.prototype;return i.setProgress=function(t,e){var n=this;t=Math.min(Math.max(t,0),1);var i=n.minTranslate(),o=n.maxTranslate();n.translateTo((o-i)*t+i,void 0===e?0:e),n.updateActiveIndex(),n.updateSlidesClasses()},i.emitContainerClasses=function(){var t=this;if(t.params._emitClasses&&t.el){var e=t.el.className.split(" ").filter(function(e){return 0===e.indexOf("swiper-container")||0===e.indexOf(t.params.containerModifierClass)});t.emit("_containerClasses",e.join(" "))}},i.getSlideClasses=function(t){var e=this;return t.className.split(" ").filter(function(t){return 0===t.indexOf("swiper-slide")||0===t.indexOf(e.params.slideClass)}).join(" ")},i.emitSlidesClasses=function(){var t=this;if(t.params._emitClasses&&t.el){var e=[];t.slides.each(function(n){var i=t.getSlideClasses(n);e.push({slideEl:n,classNames:i}),t.emit("_slideClass",n,i)}),t.emit("_slideClasses",e)}},i.slidesPerViewDynamic=function(){var t=this,e=t.slides,n=t.slidesGrid,i=t.size,o=t.activeIndex,r=1;if(t.params.centeredSlides){for(var s,a=e[o].swiperSlideSize,l=o+1;l<e.length;l+=1)e[l]&&!s&&(r+=1,(a+=e[l].swiperSlideSize)>i&&(s=!0));for(var c=o-1;c>=0;c-=1)e[c]&&!s&&(r+=1,(a+=e[c].swiperSlideSize)>i&&(s=!0))}else for(var u=o+1;u<e.length;u+=1)n[u]-n[o]<i&&(r+=1);return r},i.update=function(){var t=this;if(t&&!t.destroyed){var e=t.snapGrid,n=t.params;n.breakpoints&&t.setBreakpoint(),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.params.freeMode?(i(),t.params.autoHeight&&t.updateAutoHeight()):t.slideTo(("auto"===t.params.slidesPerView||t.params.slidesPerView>1)&&t.isEnd&&!t.params.centeredSlides?t.slides.length-1:t.activeIndex,0,!1,!0)||i(),n.watchOverflow&&e!==t.snapGrid&&t.checkOverflow(),t.emit("update")}function i(){var e=Math.min(Math.max(t.rtlTranslate?-1*t.translate:t.translate,t.maxTranslate()),t.minTranslate());t.setTranslate(e),t.updateActiveIndex(),t.updateSlidesClasses()}},i.changeDirection=function(t,e){void 0===e&&(e=!0);var n=this,i=n.params.direction;return t||(t="horizontal"===i?"vertical":"horizontal"),t===i||"horizontal"!==t&&"vertical"!==t||(n.$el.removeClass(""+n.params.containerModifierClass+i).addClass(""+n.params.containerModifierClass+t),n.emitContainerClasses(),n.params.direction=t,n.slides.each(function(e){"vertical"===t?e.style.width="":e.style.height=""}),n.emit("changeDirection"),e&&n.update()),n},i.mount=function(t){var e=this;if(e.mounted)return!0;var n,i=uz(t||e.params.el);return!!(t=i[0])&&(t.swiper=e,t&&t.shadowRoot&&t.shadowRoot.querySelector?(n=uz(t.shadowRoot.querySelector("."+e.params.wrapperClass))).children=function(t){return i.children(t)}:n=i.children("."+e.params.wrapperClass),gz(e,{$el:i,el:t,$wrapperEl:n,wrapperEl:n[0],mounted:!0,rtl:"rtl"===t.dir.toLowerCase()||"rtl"===i.css("direction"),rtlTranslate:"horizontal"===e.params.direction&&("rtl"===t.dir.toLowerCase()||"rtl"===i.css("direction")),wrongRTL:"-webkit-box"===n.css("display")}),!0)},i.init=function(t){var e=this;return e.initialized||!1===e.mount(t)||(e.emit("beforeInit"),e.params.breakpoints&&e.setBreakpoint(),e.addClasses(),e.params.loop&&e.loopCreate(),e.updateSize(),e.updateSlides(),e.params.watchOverflow&&e.checkOverflow(),e.params.grabCursor&&e.setGrabCursor(),e.params.preloadImages&&e.preloadImages(),e.slideTo(e.params.loop?e.params.initialSlide+e.loopedSlides:e.params.initialSlide,0,e.params.runCallbacksOnInit),e.attachEvents(),e.initialized=!0,e.emit("init"),e.emit("afterInit")),e},i.destroy=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=!0);var n,i=this,o=i.params,r=i.$el,s=i.$wrapperEl,a=i.slides;return void 0===i.params||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),o.loop&&i.loopDestroy(),e&&(i.removeClasses(),r.removeAttr("style"),s.removeAttr("style"),a&&a.length&&a.removeClass([o.slideVisibleClass,o.slideActiveClass,o.slideNextClass,o.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(function(t){i.off(t)}),!1!==t&&(i.$el[0].swiper=null,n=i,Object.keys(n).forEach(function(t){try{n[t]=null}catch(nx){}try{delete n[t]}catch(nx){}})),i.destroyed=!0),null},t.extendDefaults=function(t){gz(Fz,t)},t.installModule=function(e){t.prototype.modules||(t.prototype.modules={});var n=e.name||Object.keys(t.prototype.modules).length+"_"+dz();t.prototype.modules[n]=e},t.use=function(e){return Array.isArray(e)?(e.forEach(function(e){return t.installModule(e)}),t):(t.installModule(e),t)},e=t,(n=[{key:"extendedDefaults",get:function(){return Fz}},{key:"defaults",get:function(){return Lz}}])&&Nz(e,n),t}();Object.keys(Bz).forEach(function(t){Object.keys(Bz[t]).forEach(function(e){Uz.prototype[e]=Bz[t][e]})}),Uz.use([Tz,wz]);const Vz=Uz;function Gz(){return(Gz=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}var jz={update:function(){var t=this,e=t.rtl,n=t.params.pagination;if(n.el&&t.pagination.el&&t.pagination.$el&&0!==t.pagination.$el.length){var i,o=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,r=t.pagination.$el,s=t.params.loop?Math.ceil((o-2*t.loopedSlides)/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?((i=Math.ceil((t.activeIndex-t.loopedSlides)/t.params.slidesPerGroup))>o-1-2*t.loopedSlides&&(i-=o-2*t.loopedSlides),i>s-1&&(i-=s),i<0&&"bullets"!==t.params.paginationType&&(i=s+i)):i=void 0!==t.snapIndex?t.snapIndex:t.activeIndex||0,"bullets"===n.type&&t.pagination.bullets&&t.pagination.bullets.length>0){var a,l,c,u=t.pagination.bullets;if(n.dynamicBullets&&(t.pagination.bulletSize=u.eq(0)[t.isHorizontal()?"outerWidth":"outerHeight"](!0),r.css(t.isHorizontal()?"width":"height",t.pagination.bulletSize*(n.dynamicMainBullets+4)+"px"),n.dynamicMainBullets>1&&void 0!==t.previousIndex&&(t.pagination.dynamicBulletIndex+=i-t.previousIndex,t.pagination.dynamicBulletIndex>n.dynamicMainBullets-1?t.pagination.dynamicBulletIndex=n.dynamicMainBullets-1:t.pagination.dynamicBulletIndex<0&&(t.pagination.dynamicBulletIndex=0)),c=((l=(a=i-t.pagination.dynamicBulletIndex)+(Math.min(u.length,n.dynamicMainBullets)-1))+a)/2),u.removeClass(n.bulletActiveClass+" "+n.bulletActiveClass+"-next "+n.bulletActiveClass+"-next-next "+n.bulletActiveClass+"-prev "+n.bulletActiveClass+"-prev-prev "+n.bulletActiveClass+"-main"),r.length>1)u.each(function(t){var e=uz(t),o=e.index();o===i&&e.addClass(n.bulletActiveClass),n.dynamicBullets&&(o>=a&&o<=l&&e.addClass(n.bulletActiveClass+"-main"),o===a&&e.prev().addClass(n.bulletActiveClass+"-prev").prev().addClass(n.bulletActiveClass+"-prev-prev"),o===l&&e.next().addClass(n.bulletActiveClass+"-next").next().addClass(n.bulletActiveClass+"-next-next"))});else{var h=u.eq(i),d=h.index();if(h.addClass(n.bulletActiveClass),n.dynamicBullets){for(var p=u.eq(a),g=u.eq(l),m=a;m<=l;m+=1)u.eq(m).addClass(n.bulletActiveClass+"-main");if(t.params.loop)if(d>=u.length-n.dynamicMainBullets){for(var f=n.dynamicMainBullets;f>=0;f-=1)u.eq(u.length-f).addClass(n.bulletActiveClass+"-main");u.eq(u.length-n.dynamicMainBullets-1).addClass(n.bulletActiveClass+"-prev")}else p.prev().addClass(n.bulletActiveClass+"-prev").prev().addClass(n.bulletActiveClass+"-prev-prev"),g.next().addClass(n.bulletActiveClass+"-next").next().addClass(n.bulletActiveClass+"-next-next");else p.prev().addClass(n.bulletActiveClass+"-prev").prev().addClass(n.bulletActiveClass+"-prev-prev"),g.next().addClass(n.bulletActiveClass+"-next").next().addClass(n.bulletActiveClass+"-next-next")}}if(n.dynamicBullets){var _=Math.min(u.length,n.dynamicMainBullets+4),b=(t.pagination.bulletSize*_-t.pagination.bulletSize)/2-c*t.pagination.bulletSize,v=e?"right":"left";u.css(t.isHorizontal()?v:"top",b+"px")}}if("fraction"===n.type&&(r.find(fz(n.currentClass)).text(n.formatFractionCurrent(i+1)),r.find(fz(n.totalClass)).text(n.formatFractionTotal(s))),"progressbar"===n.type){var y;y=n.progressbarOpposite?t.isHorizontal()?"vertical":"horizontal":t.isHorizontal()?"horizontal":"vertical";var C=(i+1)/s,O=1,T=1;"horizontal"===y?O=C:T=C,r.find(fz(n.progressbarFillClass)).transform("translate3d(0,0,0) scaleX("+O+") scaleY("+T+")").transition(t.params.speed)}"custom"===n.type&&n.renderCustom?(r.html(n.renderCustom(t,i+1,s)),t.emit("paginationRender",r[0])):t.emit("paginationUpdate",r[0]),r[t.params.watchOverflow&&t.isLocked?"addClass":"removeClass"](n.lockClass)}},render:function(){var t=this,e=t.params.pagination;if(e.el&&t.pagination.el&&t.pagination.$el&&0!==t.pagination.$el.length){var n=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,i=t.pagination.$el,o="";if("bullets"===e.type){var r=t.params.loop?Math.ceil((n-2*t.loopedSlides)/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&!t.params.loop&&r>n&&(r=n);for(var s=0;s<r;s+=1)o+=e.renderBullet?e.renderBullet.call(t,s,e.bulletClass):"<"+e.bulletElement+' class="'+e.bulletClass+'"></'+e.bulletElement+">";i.html(o),t.pagination.bullets=i.find(fz(e.bulletClass))}"fraction"===e.type&&(o=e.renderFraction?e.renderFraction.call(t,e.currentClass,e.totalClass):'<span class="'+e.currentClass+'"></span> / <span class="'+e.totalClass+'"></span>',i.html(o)),"progressbar"===e.type&&(o=e.renderProgressbar?e.renderProgressbar.call(t,e.progressbarFillClass):'<span class="'+e.progressbarFillClass+'"></span>',i.html(o)),"custom"!==e.type&&t.emit("paginationRender",t.pagination.$el[0])}},init:function(){var t=this,e=t.params.pagination;if(e.el){var n=uz(e.el);0!==n.length&&(t.params.uniqueNavElements&&"string"==typeof e.el&&n.length>1&&(n=t.$el.find(e.el)),"bullets"===e.type&&e.clickable&&n.addClass(e.clickableClass),n.addClass(e.modifierClass+e.type),"bullets"===e.type&&e.dynamicBullets&&(n.addClass(""+e.modifierClass+e.type+"-dynamic"),t.pagination.dynamicBulletIndex=0,e.dynamicMainBullets<1&&(e.dynamicMainBullets=1)),"progressbar"===e.type&&e.progressbarOpposite&&n.addClass(e.progressbarOppositeClass),e.clickable&&n.on("click",fz(e.bulletClass),function(e){e.preventDefault();var n=uz(this).index()*t.params.slidesPerGroup;t.params.loop&&(n+=t.loopedSlides),t.slideTo(n)}),gz(t.pagination,{$el:n,el:n[0]}))}},destroy:function(){var t=this,e=t.params.pagination;if(e.el&&t.pagination.el&&t.pagination.$el&&0!==t.pagination.$el.length){var n=t.pagination.$el;n.removeClass(e.hiddenClass),n.removeClass(e.modifierClass+e.type),t.pagination.bullets&&t.pagination.bullets.removeClass(e.bulletActiveClass),e.clickable&&n.off("click",fz(e.bulletClass))}}};const Hz={name:"pagination",params:{pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:function(t){return t},formatFractionTotal:function(t){return t},bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",modifierClass:"swiper-pagination-",currentClass:"swiper-pagination-current",totalClass:"swiper-pagination-total",hiddenClass:"swiper-pagination-hidden",progressbarFillClass:"swiper-pagination-progressbar-fill",progressbarOppositeClass:"swiper-pagination-progressbar-opposite",clickableClass:"swiper-pagination-clickable",lockClass:"swiper-pagination-lock"}},create:function(){mz(this,{pagination:Gz({dynamicBulletIndex:0},jz)})},on:{init:function(t){t.pagination.init(),t.pagination.render(),t.pagination.update()},activeIndexChange:function(t){(t.params.loop||void 0===t.snapIndex)&&t.pagination.update()},snapIndexChange:function(t){t.params.loop||t.pagination.update()},slidesLengthChange:function(t){t.params.loop&&(t.pagination.render(),t.pagination.update())},snapGridLengthChange:function(t){t.params.loop||(t.pagination.render(),t.pagination.update())},destroy:function(t){t.pagination.destroy()},click:function(t,e){var n=e.target;if(t.params.pagination.el&&t.params.pagination.hideOnClick&&t.pagination.$el.length>0&&!uz(n).hasClass(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&n===t.navigation.nextEl||t.navigation.prevEl&&n===t.navigation.prevEl))return;var i=t.pagination.$el.hasClass(t.params.pagination.hiddenClass);t.emit(!0===i?"paginationShow":"paginationHide"),t.pagination.$el.toggleClass(t.params.pagination.hiddenClass)}}}},zz=["prevElRef"],Wz=["nextElRef"],Zz=["scrollbarElRef"],Yz=["paginationElRef"];function qz(t,e){1&t&&(i.ynx(0),i._UZ(1,"div",6,7),i._UZ(3,"div",8,9),i.BQk())}function Jz(t,e){1&t&&i._UZ(0,"div",10,11)}function $z(t,e){1&t&&i._UZ(0,"div",12,13)}function Kz(t,e){}function Xz(t,e){1&t&&i.YNc(0,Kz,0,0,"ng-template")}function Qz(t,e){}function tW(t,e){1&t&&i.YNc(0,Qz,0,0,"ng-template")}function eW(t,e){}function nW(t,e){1&t&&i.YNc(0,eW,0,0,"ng-template")}function iW(t,e){}const oW=function(t){return{$implicit:t}};function rW(t,e){if(1&t&&(i.TgZ(0,"div",3),i.YNc(1,iW,0,0,"ng-template",18),i.qZA()),2&t){const t=i.oxw().$implicit,e=i.oxw(2);i.Q6J("ngClass",e.zoomContainerClass),i.xp6(1),i.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",i.VKq(3,oW,t.slideData))}}function sW(t,e){}function aW(t,e){if(1&t&&(i.ynx(0),i.YNc(1,sW,0,0,"ng-template",18),i.BQk()),2&t){const t=i.oxw().$implicit;i.xp6(1),i.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",i.VKq(2,oW,t.slideData))}}function lW(t,e){if(1&t&&(i.TgZ(0,"div",15),i.YNc(1,rW,2,5,"div",16),i.YNc(2,aW,2,4,"ng-container",17),i.qZA()),2&t){const t=e.$implicit,n=i.oxw().key,o=i.oxw();i.Akn(o.style),i.Q6J("ngClass",(t.class?t.class+" ":"")+o.slideClass+(""!==n?" "+o.slideDuplicateClass:""))("ngSwitch",t.zoom),i.uIk("data-swiper-slide-index",t.virtualIndex?t.virtualIndex:t.slideIndex),i.xp6(1),i.Q6J("ngSwitchCase",!0)}}function cW(t,e){1&t&&(i.YNc(0,lW,3,6,"div",14),i.ALo(1,"async")),2&t&&i.Q6J("ngForOf",i.lcZ(1,1,e.loopSlides))}const uW=[[["","slot","container-start"]],[["","slot","wrapper-start"]],[["","slot","wrapper-end"]],[["","slot","container-end"]]],hW=function(t,e){return[t,e]},dW=function(t){return{loopSlides:t,key:"prepend"}},pW=function(t){return{loopSlides:t,key:""}},gW=function(t){return{loopSlides:t,key:"append"}},mW=["[slot=container-start]","[slot=wrapper-start]","[slot=wrapper-end]","[slot=container-end]"];function fW(t){return"object"==typeof t&&null!==t&&t.constructor&&"Object"===Object.prototype.toString.call(t).slice(8,-1)}function _W(t,e,n){return!0===vW(t)&&e&&!e.el||!("boolean"!=typeof e&&e.el!==(null==n?void 0:n.nativeElement)&&("string"==typeof e.el||"object"==typeof e.el))}function bW(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(t=>n.indexOf(t)<0).forEach(n=>{void 0!==t[n]?t[n]&&!e[n]||(fW(e[n])&&fW(t[n])&&Object.keys(e[n]).length>0?e[n].__swiper__?t[n]=e[n]:bW(t[n],e[n]):t[n]=e[n]):t[n]=e[n]})}function vW(t){return null!=t&&"false"!=`${t}`}const yW=["pagination","navigation","scrollbar","virtual"];function CW(t,e={}){return fW(t)?t:!0===vW(t)&&e}const OW=["init","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_freeModeMomentum","_freeModeMomentumRatio","_freeModeMomentumBounce","_freeModeMomentumBounceRatio","_freeModeMomentumVelocityRatio","_freeModeSticky","_freeModeMinimumVelocity","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","_slidesPerColumn","_slidesPerColumnFill","_slidesPerGroup","_slidesPerGroupSkip","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_watchSlidesVisibility","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopFillGroupWithBlank","loopPreventsSlide","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom"].map(t=>t.replace(/_/,""));function TW(t={}){const e={on:{}},n={};bW(e,Vz.defaults),bW(e,Vz.extendedDefaults),e._emitClasses=!0;const i={};return Object.keys(t).forEach(o=>{const r=o.replace(/^_/,"");void 0!==t[r]&&(OW.indexOf(r)>=0?fW(t[r])?(e[r]={},n[r]={},bW(e[r],t[r]),bW(n[r],t[r])):(e[r]=t[r],n[r]=t[r]):i[r]=t[r])}),{params:e,passedParams:n,rest:i}}let EW=(()=>{class t{constructor(t){this.template=t,this.class="",this.slideData={isActive:!1,isPrev:!1,isNext:!1,isVisible:!1,isDuplicate:!1}}set zoom(t){this._zoom=vW(t)}get zoom(){return this._zoom}get classNames(){return this._classNames}set classNames(t){this._classNames!==t&&(this._classNames=t,this.slideData={isActive:this._hasClass(["swiper-slide-active","swiper-slide-duplicate-active"]),isVisible:this._hasClass(["swiper-slide-visible"]),isDuplicate:this._hasClass(["swiper-slide-duplicate"]),isPrev:this._hasClass(["swiper-slide-prev","swiper-slide-duplicate-prev"]),isNext:this._hasClass(["swiper-slide-next","swiper-slide-duplicate-next"])})}_hasClass(t){return t.some(t=>this._classNames.indexOf(t)>=0)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Rgc))},t.\u0275dir=i.lG2({type:t,selectors:[["ng-template","swiperSlide",""]],inputs:{class:"class",zoom:"zoom",virtualIndex:"virtualIndex"}}),t})(),SW=(()=>{class t{constructor(t,e,n,o){this._ngZone=t,this.elementRef=e,this._changeDetectorRef=n,this._platformId=o,this.slideClass="swiper-slide",this.wrapperClass="swiper-wrapper",this.showNavigation=!0,this.showPagination=!0,this.showScrollbar=!0,this.s__beforeBreakpoint=new i.vpe,this.s__containerClasses=new i.vpe,this.s__slideClass=new i.vpe,this.s__swiper=new i.vpe,this.s_activeIndexChange=new i.vpe,this.s_afterInit=new i.vpe,this.s_autoplay=new i.vpe,this.s_autoplayStart=new i.vpe,this.s_autoplayStop=new i.vpe,this.s_beforeDestroy=new i.vpe,this.s_beforeInit=new i.vpe,this.s_beforeLoopFix=new i.vpe,this.s_beforeResize=new i.vpe,this.s_beforeSlideChangeStart=new i.vpe,this.s_beforeTransitionStart=new i.vpe,this.s_breakpoint=new i.vpe,this.s_changeDirection=new i.vpe,this.s_click=new i.vpe,this.s_doubleTap=new i.vpe,this.s_doubleClick=new i.vpe,this.s_destroy=new i.vpe,this.s_fromEdge=new i.vpe,this.s_hashChange=new i.vpe,this.s_hashSet=new i.vpe,this.s_imagesReady=new i.vpe,this.s_init=new i.vpe,this.s_keyPress=new i.vpe,this.s_lazyImageLoad=new i.vpe,this.s_lazyImageReady=new i.vpe,this.s_loopFix=new i.vpe,this.s_momentumBounce=new i.vpe,this.s_navigationHide=new i.vpe,this.s_navigationShow=new i.vpe,this.s_observerUpdate=new i.vpe,this.s_orientationchange=new i.vpe,this.s_paginationHide=new i.vpe,this.s_paginationRender=new i.vpe,this.s_paginationShow=new i.vpe,this.s_paginationUpdate=new i.vpe,this.s_progress=new i.vpe,this.s_reachBeginning=new i.vpe,this.s_reachEnd=new i.vpe,this.s_realIndexChange=new i.vpe,this.s_resize=new i.vpe,this.s_scroll=new i.vpe,this.s_scrollbarDragEnd=new i.vpe,this.s_scrollbarDragMove=new i.vpe,this.s_scrollbarDragStart=new i.vpe,this.s_setTransition=new i.vpe,this.s_setTranslate=new i.vpe,this.s_slideChange=new i.vpe,this.s_slideChangeTransitionEnd=new i.vpe,this.s_slideChangeTransitionStart=new i.vpe,this.s_slideNextTransitionEnd=new i.vpe,this.s_slideNextTransitionStart=new i.vpe,this.s_slidePrevTransitionEnd=new i.vpe,this.s_slidePrevTransitionStart=new i.vpe,this.s_slideResetTransitionStart=new i.vpe,this.s_slideResetTransitionEnd=new i.vpe,this.s_sliderMove=new i.vpe,this.s_sliderFirstMove=new i.vpe,this.s_slidesLengthChange=new i.vpe,this.s_slidesGridLengthChange=new i.vpe,this.s_snapGridLengthChange=new i.vpe,this.s_snapIndexChange=new i.vpe,this.s_tap=new i.vpe,this.s_toEdge=new i.vpe,this.s_touchEnd=new i.vpe,this.s_touchMove=new i.vpe,this.s_touchMoveOpposite=new i.vpe,this.s_touchStart=new i.vpe,this.s_transitionEnd=new i.vpe,this.s_transitionStart=new i.vpe,this.s_update=new i.vpe,this.s_zoomChange=new i.vpe,this.s_swiper=new i.vpe,this.indexChange=new i.vpe,this._activeSlides=new jp.xQ,this.containerClasses="swiper-container",this.slidesChanges=t=>{this.slides=t.map((t,e)=>(t.slideIndex=e,t.classNames=this.slideClass,t)),this.loop&&!this.loopedSlides&&this.calcLoopedSlides(),this.virtual?this.swiperRef&&this.swiperRef.virtual&&this._ngZone.runOutsideAngular(()=>{this.swiperRef.virtual.slides=this.slides,this.swiperRef.virtual.update(!0)}):(this.prependSlides=(0,ea.of)(this.slides.slice(this.slides.length-this.loopedSlides)),this.appendSlides=(0,ea.of)(this.slides.slice(0,this.loopedSlides))),this._changeDetectorRef.detectChanges()},this.style=null,this.updateVirtualSlides=t=>{!this.swiperRef||this.currentVirtualData&&this.currentVirtualData.from===t.from&&this.currentVirtualData.to===t.to&&this.currentVirtualData.offset===t.offset||(this.style=this.swiperRef.isHorizontal()?{[this.swiperRef.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},this.currentVirtualData=t,this._activeSlides.next(t.slides),this._changeDetectorRef.detectChanges(),this._ngZone.runOutsideAngular(()=>{this.swiperRef.updateSlides(),this.swiperRef.updateProgress(),this.swiperRef.updateSlidesClasses(),this.swiperRef.lazy&&this.swiperRef.params.lazy.enabled&&this.swiperRef.lazy.load(),this.swiperRef.virtual.update(!0)}))}}set navigation(t){var e,n,i;const o="boolean"!=typeof this._navigation?null===(e=this._navigation)||void 0===e?void 0:e.nextEl:null,r="boolean"!=typeof this._navigation?null===(n=this._navigation)||void 0===n?void 0:n.prevEl:null;this._navigation=CW(t,{nextEl:o||null,prevEl:r||null}),this.showNavigation=!(!0!==vW(t)||this._navigation&&"boolean"!=typeof this._navigation&&this._navigation.prevEl!==(null===(i=this._prevElRef)||void 0===i?void 0:i.nativeElement)&&(null!==this._navigation.prevEl||null!==this._navigation.nextEl)&&("string"==typeof this._navigation.nextEl||"string"==typeof this._navigation.prevEl||"object"==typeof this._navigation.nextEl||"object"==typeof this._navigation.prevEl))}get navigation(){return this._navigation}set pagination(t){var e;const n="boolean"!=typeof this._pagination?null===(e=this._pagination)||void 0===e?void 0:e.el:null;this._pagination=CW(t,{el:n||null}),this.showPagination=_W(t,this._pagination,this._paginationElRef)}get pagination(){return this._pagination}set scrollbar(t){var e;const n="boolean"!=typeof this._scrollbar?null===(e=this._scrollbar)||void 0===e?void 0:e.el:null;this._scrollbar=CW(t,{el:n||null}),this.showScrollbar=_W(t,this._scrollbar,this._scrollbarElRef)}get scrollbar(){return this._scrollbar}set virtual(t){this._virtual=CW(t)}get virtual(){return this._virtual}set index(t){this.setIndex(t)}set config(t){this.updateSwiper(t);const{params:e}=TW(t);Object.assign(this,e)}set prevElRef(t){this._prevElRef=t,this._setElement(t,this.navigation,"navigation","prevEl")}set nextElRef(t){this._nextElRef=t,this._setElement(t,this.navigation,"navigation","nextEl")}set scrollbarElRef(t){this._scrollbarElRef=t,this._setElement(t,this.scrollbar,"scrollbar")}set paginationElRef(t){this._paginationElRef=t,this._setElement(t,this.pagination,"pagination")}get activeSlides(){return this.virtual?this._activeSlides:(0,ea.of)(this.slides)}get zoomContainerClass(){return"boolean"!=typeof this.zoom?this.zoom.containerClass:"swiper-zoom-container"}_setElement(t,e,n,i="el"){if(!t||!e)return;if(e&&t.nativeElement){if(e[i]===t.nativeElement)return;e[i]=t.nativeElement}const o={};o[n]=!0,this.updateInitSwiper(o)}ngOnInit(){const{params:t}=TW(this);Object.assign(this,t)}ngAfterViewInit(){this.childrenSlidesInit(),this.initSwiper(),this._changeDetectorRef.detectChanges(),setTimeout(()=>{this.s_swiper.emit(this.swiperRef)})}childrenSlidesInit(){this.slidesChanges(this.slidesEl),this.slidesEl.changes.subscribe(this.slidesChanges)}get isSwiperActive(){return this.swiperRef&&!this.swiperRef.destroyed}initSwiper(){const{params:t}=TW(this);Object.assign(this,t),this._ngZone.runOutsideAngular(()=>{t.init=!1,t.virtual||(t.observer=!0),t.onAny=(t,...e)=>{const n=this[`s_${t}`];n&&n.emit(...e)},Object.assign(t.on,{_containerClasses(t,e){this.containerClasses=e},_slideClasses:(t,e)=>{e.forEach(({slideEl:t,classNames:e},n)=>{const i=parseInt(t.getAttribute("data-swiper-slide-index"))||n;if(this.virtual){const t=this.slides.find(t=>t.virtualIndex&&t.virtualIndex===i);if(t)return void(t.classNames=e)}this.slides[i]&&(this.slides[i].classNames=e)}),this._changeDetectorRef.detectChanges()}});const e=new Vz(t);if(e.loopCreate=()=>{},e.loopDestroy=()=>{},t.loop&&(e.loopedSlides=this.loopedSlides),e.virtual&&e.params.virtual.enabled){e.virtual.slides=this.slides;const t={cache:!1,renderExternal:this.updateVirtualSlides,renderExternalUpdate:!1};bW(e.params.virtual,t),bW(e.originalParams.virtual,t)}$(this._platformId)&&(this.swiperRef=e.init(this.elementRef.nativeElement),this.swiperRef.virtual&&this.swiperRef.params.virtual.enabled&&this.swiperRef.virtual.update(!0),this._changeDetectorRef.detectChanges(),e.on("slideChange",()=>{this.indexChange.emit(this.swiperRef.realIndex)}))})}ngOnChanges(t){this.updateSwiper(t),this._changeDetectorRef.detectChanges()}updateInitSwiper(t){t&&this.swiperRef&&!this.swiperRef.destroyed&&this._ngZone.runOutsideAngular(()=>{const{pagination:e,navigation:n,scrollbar:i,thumbs:o}=this.swiperRef;t.pagination&&(this.pagination&&"boolean"!=typeof this.pagination&&this.pagination.el&&e&&!e.el?(this.updateParameter("pagination",this.pagination),e.init(),e.render(),e.update()):(e.destroy(),e.el=null)),t.scrollbar&&(this.scrollbar&&"boolean"!=typeof this.scrollbar&&this.scrollbar.el&&i&&!i.el?(this.updateParameter("scrollbar",this.scrollbar),i.init(),i.updateSize(),i.setTranslate()):(i.destroy(),i.el=null)),t.navigation&&(this.navigation&&"boolean"!=typeof this.navigation&&this.navigation.prevEl&&this.navigation.nextEl&&n&&!n.prevEl&&!n.nextEl?(this.updateParameter("navigation",this.navigation),n.init(),n.update()):n.prevEl&&n.nextEl&&(n.destroy(),n.nextEl=null,n.prevEl=null)),t.thumbs&&this.thumbs&&this.thumbs.swiper&&(this.updateParameter("thumbs",this.thumbs),o.init()&&o.update(!0)),t.controller&&this.controller&&this.controller.control&&(this.swiperRef.controller.control=this.controller.control),this.swiperRef.update()})}updateSwiper(t){this._ngZone.runOutsideAngular(()=>{var e,n;if(!t.config&&t&&this.swiperRef&&!this.swiperRef.destroyed){for(const i in t){if(yW.indexOf(i)>=0)continue;const o=null!==(n=null===(e=t[i])||void 0===e?void 0:e.currentValue)&&void 0!==n?n:t[i];this.updateParameter(i,o)}t.allowSlideNext&&(this.swiperRef.allowSlideNext=this.allowSlideNext),t.allowSlidePrev&&(this.swiperRef.allowSlidePrev=this.allowSlidePrev),t.direction&&this.swiperRef.changeDirection(this.direction,!1),t.breakpoints&&(this.loop&&!this.loopedSlides&&this.calcLoopedSlides(),this.swiperRef.currentBreakpoint=null,this.swiperRef.setBreakpoint()),(t.thumbs||t.controller)&&this.updateInitSwiper(t),this.swiperRef.update()}})}calcLoopedSlides(){if(!this.loop)return;let t=this.slidesPerView;if(this.breakpoints){const e=Vz.prototype.getBreakpoint(this.breakpoints),n=e in this.breakpoints?this.breakpoints[e]:void 0;n&&n.slidesPerView&&(t=n.slidesPerView)}if("auto"===t)return this.loopedSlides=this.slides.length,this.slides.length;let e=this.loopedSlides||t;return e+=this.loopAdditionalSlides,e>this.slides.length&&(e=this.slides.length),this.loopedSlides=e,e}updateParameter(t,e){if(!this.swiperRef||this.swiperRef.destroyed)return;const n=t.replace(/^_/,""),i=fW(this.swiperRef.params[n]);if(Object.keys(this.swiperRef.modules).indexOf(n)>=0){const t=this.swiperRef.modules[n].params[n];i?bW(this.swiperRef.params[n],t):this.swiperRef.params[n]=t}i&&fW(e)?bW(this.swiperRef.params[n],e):this.swiperRef.params[n]=e}setIndex(t,e,n){this.isSwiperActive?t!==this.swiperRef.activeIndex&&this._ngZone.runOutsideAngular(()=>{this.loop?this.swiperRef.slideToLoop(t,e,!n):this.swiperRef.slideTo(t,e,!n)}):this.initialSlide=t}ngOnDestroy(){this._ngZone.runOutsideAngular(()=>{var t;null===(t=this.swiperRef)||void 0===t||t.destroy(!0,!1)})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.R0b),i.Y36(i.SBq),i.Y36(i.sBO),i.Y36(i.Lbi))},t.\u0275cmp=i.Xpm({type:t,selectors:[["swiper"],["","swiper",""]],contentQueries:function(t,e,n){if(1&t&&i.Suo(n,EW,5),2&t){let t;i.iGM(t=i.CRH())&&(e.slidesEl=t)}},viewQuery:function(t,e){if(1&t&&(i.Gf(zz,5),i.Gf(Wz,5),i.Gf(Zz,5),i.Gf(Yz,5)),2&t){let t;i.iGM(t=i.CRH())&&(e.prevElRef=t.first),i.iGM(t=i.CRH())&&(e.nextElRef=t.first),i.iGM(t=i.CRH())&&(e.scrollbarElRef=t.first),i.iGM(t=i.CRH())&&(e.paginationElRef=t.first)}},hostVars:2,hostBindings:function(t,e){2&t&&i.Tol(e.containerClasses)},inputs:{slideClass:"slideClass",wrapperClass:"wrapperClass",navigation:"navigation",pagination:"pagination",scrollbar:"scrollbar",virtual:"virtual",index:"index",config:"config",loopedSlides:"loopedSlides",initialSlide:"initialSlide",direction:"direction",touchEventsTarget:"touchEventsTarget",speed:"speed",cssMode:"cssMode",updateOnWindowResize:"updateOnWindowResize",resizeObserver:"resizeObserver",nested:"nested",width:"width",height:"height",preventInteractionOnTransition:"preventInteractionOnTransition",userAgent:"userAgent",url:"url",edgeSwipeDetection:"edgeSwipeDetection",edgeSwipeThreshold:"edgeSwipeThreshold",freeMode:"freeMode",freeModeMomentum:"freeModeMomentum",freeModeMomentumRatio:"freeModeMomentumRatio",freeModeMomentumBounce:"freeModeMomentumBounce",freeModeMomentumBounceRatio:"freeModeMomentumBounceRatio",freeModeMomentumVelocityRatio:"freeModeMomentumVelocityRatio",freeModeSticky:"freeModeSticky",freeModeMinimumVelocity:"freeModeMinimumVelocity",autoHeight:"autoHeight",setWrapperSize:"setWrapperSize",virtualTranslate:"virtualTranslate",effect:"effect",breakpoints:"breakpoints",spaceBetween:"spaceBetween",slidesPerView:"slidesPerView",slidesPerColumn:"slidesPerColumn",slidesPerColumnFill:"slidesPerColumnFill",slidesPerGroup:"slidesPerGroup",slidesPerGroupSkip:"slidesPerGroupSkip",centeredSlides:"centeredSlides",centeredSlidesBounds:"centeredSlidesBounds",slidesOffsetBefore:"slidesOffsetBefore",slidesOffsetAfter:"slidesOffsetAfter",normalizeSlideIndex:"normalizeSlideIndex",centerInsufficientSlides:"centerInsufficientSlides",watchOverflow:"watchOverflow",roundLengths:"roundLengths",touchRatio:"touchRatio",touchAngle:"touchAngle",simulateTouch:"simulateTouch",shortSwipes:"shortSwipes",longSwipes:"longSwipes",longSwipesRatio:"longSwipesRatio",longSwipesMs:"longSwipesMs",followFinger:"followFinger",allowTouchMove:"allowTouchMove",threshold:"threshold",touchMoveStopPropagation:"touchMoveStopPropagation",touchStartPreventDefault:"touchStartPreventDefault",touchStartForcePreventDefault:"touchStartForcePreventDefault",touchReleaseOnEdges:"touchReleaseOnEdges",uniqueNavElements:"uniqueNavElements",resistance:"resistance",resistanceRatio:"resistanceRatio",watchSlidesProgress:"watchSlidesProgress",watchSlidesVisibility:"watchSlidesVisibility",grabCursor:"grabCursor",preventClicks:"preventClicks",preventClicksPropagation:"preventClicksPropagation",slideToClickedSlide:"slideToClickedSlide",preloadImages:"preloadImages",updateOnImagesReady:"updateOnImagesReady",loop:"loop",loopAdditionalSlides:"loopAdditionalSlides",loopFillGroupWithBlank:"loopFillGroupWithBlank",loopPreventsSlide:"loopPreventsSlide",allowSlidePrev:"allowSlidePrev",allowSlideNext:"allowSlideNext",swipeHandler:"swipeHandler",noSwiping:"noSwiping",noSwipingClass:"noSwipingClass",noSwipingSelector:"noSwipingSelector",passiveListeners:"passiveListeners",containerModifierClass:"containerModifierClass",slideBlankClass:"slideBlankClass",slideActiveClass:"slideActiveClass",slideDuplicateActiveClass:"slideDuplicateActiveClass",slideVisibleClass:"slideVisibleClass",slideDuplicateClass:"slideDuplicateClass",slideNextClass:"slideNextClass",slideDuplicateNextClass:"slideDuplicateNextClass",slidePrevClass:"slidePrevClass",slideDuplicatePrevClass:"slideDuplicatePrevClass",runCallbacksOnInit:"runCallbacksOnInit",observeParents:"observeParents",observeSlideChildren:"observeSlideChildren",a11y:"a11y",autoplay:"autoplay",controller:"controller",coverflowEffect:"coverflowEffect",cubeEffect:"cubeEffect",fadeEffect:"fadeEffect",flipEffect:"flipEffect",hashNavigation:"hashNavigation",history:"history",keyboard:"keyboard",lazy:"lazy",mousewheel:"mousewheel",parallax:"parallax",thumbs:"thumbs",zoom:"zoom",class:"class",id:"id"},outputs:{s__beforeBreakpoint:"_beforeBreakpoint",s__containerClasses:"_containerClasses",s__slideClass:"_slideClass",s__swiper:"_swiper",s_activeIndexChange:"activeIndexChange",s_afterInit:"afterInit",s_autoplay:"autoplay",s_autoplayStart:"autoplayStart",s_autoplayStop:"autoplayStop",s_beforeDestroy:"beforeDestroy",s_beforeInit:"beforeInit",s_beforeLoopFix:"beforeLoopFix",s_beforeResize:"beforeResize",s_beforeSlideChangeStart:"beforeSlideChangeStart",s_beforeTransitionStart:"beforeTransitionStart",s_breakpoint:"breakpoint",s_changeDirection:"changeDirection",s_click:"click",s_doubleTap:"doubleTap",s_doubleClick:"doubleClick",s_destroy:"destroy",s_fromEdge:"fromEdge",s_hashChange:"hashChange",s_hashSet:"hashSet",s_imagesReady:"imagesReady",s_init:"init",s_keyPress:"keyPress",s_lazyImageLoad:"lazyImageLoad",s_lazyImageReady:"lazyImageReady",s_loopFix:"loopFix",s_momentumBounce:"momentumBounce",s_navigationHide:"navigationHide",s_navigationShow:"navigationShow",s_observerUpdate:"observerUpdate",s_orientationchange:"orientationchange",s_paginationHide:"paginationHide",s_paginationRender:"paginationRender",s_paginationShow:"paginationShow",s_paginationUpdate:"paginationUpdate",s_progress:"progress",s_reachBeginning:"reachBeginning",s_reachEnd:"reachEnd",s_realIndexChange:"realIndexChange",s_resize:"resize",s_scroll:"scroll",s_scrollbarDragEnd:"scrollbarDragEnd",s_scrollbarDragMove:"scrollbarDragMove",s_scrollbarDragStart:"scrollbarDragStart",s_setTransition:"setTransition",s_setTranslate:"setTranslate",s_slideChange:"slideChange",s_slideChangeTransitionEnd:"slideChangeTransitionEnd",s_slideChangeTransitionStart:"slideChangeTransitionStart",s_slideNextTransitionEnd:"slideNextTransitionEnd",s_slideNextTransitionStart:"slideNextTransitionStart",s_slidePrevTransitionEnd:"slidePrevTransitionEnd",s_slidePrevTransitionStart:"slidePrevTransitionStart",s_slideResetTransitionStart:"slideResetTransitionStart",s_slideResetTransitionEnd:"slideResetTransitionEnd",s_sliderMove:"sliderMove",s_sliderFirstMove:"sliderFirstMove",s_slidesLengthChange:"slidesLengthChange",s_slidesGridLengthChange:"slidesGridLengthChange",s_snapGridLengthChange:"snapGridLengthChange",s_snapIndexChange:"snapIndexChange",s_tap:"tap",s_toEdge:"toEdge",s_touchEnd:"touchEnd",s_touchMove:"touchMove",s_touchMoveOpposite:"touchMoveOpposite",s_touchStart:"touchStart",s_transitionEnd:"transitionEnd",s_transitionStart:"transitionStart",s_update:"update",s_zoomChange:"zoomChange",s_swiper:"swiper",indexChange:"indexChange"},features:[i.TTD],ngContentSelectors:mW,decls:13,vars:20,consts:[[4,"ngIf"],["class","swiper-scrollbar",4,"ngIf"],["class","swiper-pagination",4,"ngIf"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["slidesTemplate",""],[1,"swiper-button-prev"],["prevElRef",""],[1,"swiper-button-next"],["nextElRef",""],[1,"swiper-scrollbar"],["scrollbarElRef",""],[1,"swiper-pagination"],["paginationElRef",""],[3,"ngClass","style","ngSwitch",4,"ngFor","ngForOf"],[3,"ngClass","ngSwitch"],[3,"ngClass",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){if(1&t&&(i.F$t(uW),i.Hsn(0),i.YNc(1,qz,5,0,"ng-container",0),i.YNc(2,Jz,2,0,"div",1),i.YNc(3,$z,2,0,"div",2),i.TgZ(4,"div",3),i.Hsn(5,1),i.YNc(6,Xz,1,0,void 0,4),i.YNc(7,tW,1,0,void 0,4),i.YNc(8,nW,1,0,void 0,4),i.Hsn(9,2),i.qZA(),i.Hsn(10,3),i.YNc(11,cW,2,3,"ng-template",null,5,i.W1O)),2&t){const t=i.MAs(12);i.xp6(1),i.Q6J("ngIf",e.navigation&&e.showNavigation),i.xp6(1),i.Q6J("ngIf",e.scrollbar&&e.showScrollbar),i.xp6(1),i.Q6J("ngIf",e.pagination&&e.showPagination),i.xp6(1),i.Q6J("ngClass",i.WLB(11,hW,e.wrapperClass,e.class).join(" ")),i.uIk("id",e.id),i.xp6(2),i.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",i.VKq(14,dW,e.prependSlides)),i.xp6(1),i.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",i.VKq(16,pW,e.activeSlides)),i.xp6(1),i.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",i.VKq(18,gW,e.appendSlides))}},directives:[R,P,G,I,B,F,U],pipes:[Z],styles:["\n      swiper {\n        display: block;\n      }\n    "],encapsulation:2,changeDetection:0}),t})(),wW=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[J]]}),t})();const MW=["swiper"];function xW(t,e){if(1&t&&(i._UZ(0,"img",8),i.ALo(1,"translate"),i.ALo(2,"translate")),2&t){const t=i.oxw(2).$implicit;i.Q6J("src",t.logoSrc,i.LSH)("alt",t.labelSID?i.lcZ(1,3,t.labelSID):t.label||"")("title",t.labelSID?i.lcZ(2,5,t.labelSID):t.label||"")}}function PW(t,e){1&t&&(i.TgZ(0,"span",9),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"editor.package.era.options.DEFAULT")," "))}const kW=function(t,e,n){return{"is-active":t,"is-selected":e,"carousel-item--theme-secondary":n}},IW=function(t){return{"background-image":t}};function AW(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",5),i.NdJ("click",function(e){return i.CHM(t),i.oxw(3).onSlideChange(e)}),i.YNc(1,xW,3,7,"img",6),i.YNc(2,PW,3,3,"span",7),i.qZA()}if(2&t){const t=i.oxw().$implicit,e=i.oxw(2);i.Q6J("ngClass",i.kEZ(4,kW,e.isActive(t),e.isSelected(t),"secondary"===e.theme))("ngStyle",i.VKq(8,IW,"url("+(null==t.packArt?null:t.packArt.tall)+")")),i.xp6(1),i.Q6J("ngIf",t.logoSrc),i.xp6(1),i.Q6J("ngIf",!t.logoSrc)}}function RW(t,e){1&t&&(i.ynx(0),i.YNc(1,AW,3,10,"ng-template",4),i.BQk())}const DW=function(t,e){return{"theme-secondary":t,"theme-primary":e}},LW=function(){return{clickable:!0}};function NW(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"swiper",1,2),i.NdJ("afterInit",function(){return i.CHM(t),i.oxw().onSliderInit()}),i.YNc(2,RW,2,0,"ng-container",3),i.qZA()}if(2&t){const t=i.oxw();i.Q6J("ngClass",i.WLB(8,DW,"secondary"===t.theme,"secondary"!==t.theme))("centeredSlides",!0)("pagination",i.DdM(11,LW))("resizeObserver",!0)("updateOnWindowResize",!0)("slidesPerView",2.4)("spaceBetween",0),i.xp6(2),i.Q6J("ngForOf",t.options)}}Vz.use([Hz]);let BW=(()=>{class t{constructor(t){this.cdRef=t,this.currentSlideIndex=-1,this.options=null,this.selection=null,this.showIcon=!1,this.theme="primary",this.setSelection=t=>{},this.isSelected=t=>{}}set currentOptionIndex(t){this.slideTo(t),this.currentSlideIndex=t}ngAfterContentInit(){-1!==this.currentSlideIndex&&this.slideTo(this.currentSlideIndex)}slideTo(t){var e;null===(e=this.carouselElementRef)||void 0===e||e.swiperRef.slideTo(t)}onSlideChange(t){var e,n,i;if(!(null===(e=this.carouselElementRef)||void 0===e?void 0:e.swiperRef))return;const o=t.target.parentElement;o.className.includes("prev")?this.slideTo(this.carouselElementRef.swiperRef.activeIndex-1):o.className.includes("next")?this.slideTo(this.carouselElementRef.swiperRef.activeIndex+1):this.setSelection(null!==(i=null===(n=this.carouselElementRef)||void 0===n?void 0:n.swiperRef.activeIndex)&&void 0!==i?i:0)}isActive(t){var e,n;return(null===(e=this.carouselElementRef)||void 0===e?void 0:e.swiperRef.activeIndex)===(null===(n=this.options)||void 0===n?void 0:n.indexOf(t))}onSliderInit(){-1!==this.currentSlideIndex&&setTimeout(()=>{this.slideTo(this.currentSlideIndex)},0)}getImagePath(t,e){return CN(t,e)}resetOption(t){}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.sBO))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-carousel-selection"]],viewQuery:function(t,e){if(1&t&&i.Gf(MW,5),2&t){let t;i.iGM(t=i.CRH())&&(e.carouselElementRef=t.first)}},inputs:{currentOptionIndex:"currentOptionIndex",options:"options",selection:"selection",showIcon:"showIcon",theme:"theme",setSelection:"setSelection",isSelected:"isSelected"},decls:1,vars:1,consts:[[3,"ngClass","centeredSlides","pagination","resizeObserver","updateOnWindowResize","slidesPerView","spaceBetween","afterInit",4,"ngIf"],[3,"ngClass","centeredSlides","pagination","resizeObserver","updateOnWindowResize","slidesPerView","spaceBetween","afterInit"],["swiper",""],[4,"ngFor","ngForOf"],["swiperSlide",""],[1,"carousel-item",3,"ngClass","ngStyle","click"],["class","carousel-item-logo",3,"src","alt","title",4,"ngIf"],["class","carousel-item-logo carousel-item-logo--text",4,"ngIf"],[1,"carousel-item-logo",3,"src","alt","title"],[1,"carousel-item-logo","carousel-item-logo--text"]],template:function(t,e){1&t&&i.YNc(0,NW,3,12,"swiper",0),2&t&&i.Q6J("ngIf",null==e.options?null:e.options.length)},directives:[R,SW,P,I,EW,V],pipes:[Fp],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}[_nghost-%COMP%]{overflow:hidden;display:block}.carousel-item[_ngcontent-%COMP%]{display:flex;position:relative;justify-content:center;align-items:center;border:1px solid #0003;background-size:cover;padding-bottom:165%;cursor:pointer}.theme-primary[_ngcontent-%COMP%]   .carousel-item.is-active[_ngcontent-%COMP%]:before{background-color:#26ffdf4d}.theme-secondary[_ngcontent-%COMP%]   .carousel-item.is-active[_ngcontent-%COMP%]:before{background-color:#ff33334d}.carousel-item.is-selected[_ngcontent-%COMP%]{opacity:1;border:1px solid #fff}.theme-primary[_ngcontent-%COMP%]   .carousel-item.is-selected[_ngcontent-%COMP%]:before, .theme-secondary[_ngcontent-%COMP%]   .carousel-item.is-selected[_ngcontent-%COMP%]:before{background:none}.carousel-item[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-1px;bottom:-1px;right:-1px;left:-1px;background-color:#26ffdf4d;border:1px solid #477e71;border-bottom:none;z-index:2}.carousel-item.carousel-item--theme-secondary[_ngcontent-%COMP%]:before{background-color:#ff33334d;border-color:#6f251f}.carousel-item-logo[_ngcontent-%COMP%]{position:absolute;width:calc(100% - 40px);bottom:30%;z-index:1}.carousel-item-logo--text[_ngcontent-%COMP%]{font-size:20px;font-family:"BF_Modernista-Regular",var(--font-fallback);line-height:1;text-align:center;color:#fff;position:absolute;bottom:30%;text-transform:uppercase}.carousel-item-logo--text[_ngcontent-%COMP%]:first-line{font-size:30px}  .theme-primary.swiper-container .swiper-pagination{border-top:2px solid #477e71;background:linear-gradient(0,#477e71,#477e71e6)}  .theme-secondary.swiper-container .swiper-pagination{border-top:2px solid #6f251f;background-image:linear-gradient(0,#6f251f,#6f251fe6)}  .swiper-slide-active .carousel-item.carousel-item--theme-secondary:before,   .swiper-slide-active .carousel-item:before{background:none}']}),t})();function FW(t,e){}function UW(t,e){1&t&&i.YNc(0,FW,0,0,"ng-template")}function VW(t,e){if(1&t&&(i._UZ(0,"img",9),i.ALo(1,"translate"),i.ALo(2,"translate")),2&t){const t=i.oxw(2).$implicit;i.Q6J("src",t.logoSrc,i.LSH)("alt",i.lcZ(1,3,t.label||""))("title",i.lcZ(2,5,t.label||""))}}function GW(t,e){if(1&t&&(i.TgZ(0,"span",10),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t){const t=i.oxw(2).$implicit;i.xp6(1),i.hij(" ",i.lcZ(2,1,t.label||"")," ")}}const jW=function(t,e){return{selected:t,disabled:e}};function HW(t,e){if(1&t){const t=i.EpF();i.ynx(0),i.TgZ(1,"button",6),i.NdJ("mouseenter",function(){i.CHM(t);const e=i.oxw().$implicit;return i.oxw(3).hover(e)})("mouseleave",function(){return i.CHM(t),i.oxw(4).leaveHover()})("click",function(){i.CHM(t);const e=i.oxw().$implicit;return i.oxw(3).setSelection(e)}),i.YNc(2,VW,3,7,"img",7),i.YNc(3,GW,3,3,"span",8),i.qZA(),i.BQk()}if(2&t){const t=i.oxw().$implicit,e=i.oxw(3);i.xp6(1),i.Udp("--img-bg-default-short","url("+(null==t.defaultArt?null:t.defaultArt.short)+")")("--img-bg-default-tall","url("+(null==t.defaultArt?null:t.defaultArt.tall)+")")("--img-bg-short","url("+(null==t.packArt?null:t.packArt.short)+")")("--img-bg-tall","url("+(null==t.packArt?null:t.packArt.tall)+")"),i.Q6J("ngClass",i.WLB(11,jW,e.isSelected(t),e.disabled)),i.xp6(1),i.Q6J("ngIf",t.logoSrc),i.xp6(1),i.Q6J("ngIf",!t.logoSrc)}}function zW(t,e){if(1&t&&(i.ynx(0),i.YNc(1,HW,4,14,"ng-container",4),i.BQk()),2&t){const t=e.$implicit,n=i.oxw(3);i.xp6(1),i.Q6J("ngIf",n.isEnabled(t))}}function WW(t,e){if(1&t&&(i.ynx(0),i.YNc(1,zW,2,1,"ng-container",5),i.BQk()),2&t){const t=i.oxw(2);i.xp6(1),i.Q6J("ngForOf",t.selectableOptions)}}function ZW(t,e){if(1&t&&(i.TgZ(0,"div",3),i.YNc(1,WW,2,1,"ng-container",4),i.qZA()),2&t){const t=i.oxw();i.Tol(t.theme),i.Q6J("ngClass",t.classNames),i.xp6(1),i.Q6J("ngIf",t.selectableOptions.length&&t.hasSelection)}}function YW(t,e){if(1&t&&(i.ynx(0),i._UZ(1,"app-carousel-selection",11),i.BQk()),2&t){const t=i.oxw(2);i.xp6(1),i.Q6J("currentOptionIndex",t.currentOptionIndex)("options",t.selectableOptions)("selection",t.selection)("setSelection",t.setSelectionByIndex.bind(t))("isSelected",t.isSelected.bind(t))("theme",t.theme)}}function qW(t,e){if(1&t&&i.YNc(0,YW,2,6,"ng-container",4),2&t){const t=i.oxw();i.Q6J("ngIf",t.selectableOptions.length&&t.hasSelection)}}let JW=(()=>{class t{constructor(t){this.layoutService=t,this.selection=null,this.touched=!1,this.disabled=!1,this.selectedByKey=!1,this.selectableOptions=[],this.hovered=new i.vpe,this.leaveHovered=new i.vpe,this.previousOption=new i.vpe,this.selectedOption=new i.vpe,this.contentType="",this.options=null,this.defaultOption=void 0,this.disableSelection=!1,this.useGridMobile=!1,this.theme="primary",this.onBeforeSelection=(t,e)=>QB(this,void 0,void 0,function*(){return!0}),this.onChange=t=>{},this.onTouched=()=>{}}get currentOption(){var t,e;return(null===(t=this.selectableOptions)||void 0===t?void 0:t.find(t=>t.value===this.selection))||(null===(e=this.selectableOptions)||void 0===e?void 0:e.find(t=>this.containsKey(t)))||this.defaultOption}get currentOptionIndex(){var t,e;return null!==(e=null===(t=this.selectableOptions)||void 0===t?void 0:t.findIndex(t=>t.value===this.selection))&&void 0!==e?e:-1}get classNames(){return{"has-selection":this.selection,[this.contentType]:this.contentType}}get hasSelection(){return null!==this.selection}ngOnInit(){var t;this.options&&this.options.length&&(this.selectableOptions=null===(t=this.options)||void 0===t?void 0:t.filter(t=>!t.disabled)),this.disableSelection&&this.setDisabledState(!0)}getImagePath(t,e){return CN(t,e)}ngOnChanges(t){var e;t.hasOwnProperty("disableSelection")&&this.setDisabledState(t.disableSelection.currentValue),t.hasOwnProperty("options")&&!t.options.firstChange&&(this.selectableOptions=null===(e=t.options.currentValue)||void 0===e?void 0:e.filter(t=>!t.disabled))}hover(t){this.hovered.emit(t)}leaveHover(){this.leaveHovered.emit()}setSelectionByIndex(t){var e,n;if(t!==(null===(e=this.selectableOptions)||void 0===e?void 0:e.findIndex(t=>t.value===this.selection))){const e=null===(n=this.selectableOptions)||void 0===n?void 0:n[t];this.setSelection(null!=e?e:null)}}setSelection(t){return QB(this,void 0,void 0,function*(){if(this.disabled||this.selection===t.value)return;this.markAsTouched();const e=yield this.onBeforeSelection(t,this.additionalData);if(!this.disabled&&e){const e=this.currentOption;this.selection=t.value,this.selectedByKey=!1,this.onChange(this.selection),setTimeout(()=>{this.selectedOption.emit(t),this.previousOption.emit(e)},50)}})}writeValue(t){this.selection=t,this.selectedByKey=Boolean(t)&&void 0===this.currentOption}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}markAsTouched(){this.touched||(this.onTouched(),this.touched=!0)}setDisabledState(t){this.disabled=t}validate(t){const e=t.value;return""===e?{mustNotBeEmptyString:{selection:e}}:null}isEnabled(t){return!t.hasOwnProperty("disabled")||!t.disabled}isSelected(t){return this.selection===t.value||this.containsKey(t)}containsKey(t){return null!==this.selection&&"boolean"!=typeof this.selection&&void 0!==t.keys&&(null==t?void 0:t.keys.includes(this.selection))}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(KN))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-grid-selection"]],inputs:{contentType:"contentType",options:"options",defaultOption:"defaultOption",disableSelection:"disableSelection",useGridMobile:"useGridMobile",additionalData:"additionalData",theme:"theme",onBeforeSelection:"onBeforeSelection"},outputs:{hovered:"hovered",leaveHovered:"leaveHovered",previousOption:"previousOption",selectedOption:"selectedOption"},features:[i._Bn([{provide:Mr,multi:!0,useExisting:t},{provide:Rr,multi:!0,useExisting:t}]),i.TTD],decls:6,vars:5,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["gridTemplate",""],["carouselTemplate",""],[1,"grid-selection",3,"ngClass"],[4,"ngIf"],[4,"ngFor","ngForOf"],["type","button",1,"grid-selection-option",3,"ngClass","mouseenter","mouseleave","click"],["class","grid-selection-option-logo",3,"src","alt","title",4,"ngIf"],["class","grid-selection-option-logo",4,"ngIf"],[1,"grid-selection-option-logo",3,"src","alt","title"],[1,"grid-selection-option-logo"],[3,"currentOptionIndex","options","selection","setSelection","isSelected","theme"]],template:function(t,e){if(1&t&&(i.YNc(0,UW,1,0,void 0,0),i.ALo(1,"async"),i.YNc(2,ZW,2,4,"ng-template",null,1,i.W1O),i.YNc(4,qW,1,1,"ng-template",null,2,i.W1O)),2&t){const t=i.MAs(3),n=i.MAs(5);i.Q6J("ngIf",!0===i.lcZ(1,3,e.layoutService.isTabletPlus$)||e.useGridMobile)("ngIfThen",t)("ngIfElse",n)}},directives:[R,P,I,BW],pipes:[Z,Fp],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}.grid-selection[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.grid-selection-option[_ngcontent-%COMP%]{flex-basis:50%;background-size:cover;position:relative;padding-bottom:35%;background-repeat:no-repeat;cursor:pointer;border:none;background-color:unset;background-image:var(--img-bg-short)}@media only screen and (min-width:1400px){.grid-selection-option[_ngcontent-%COMP%]{display:flex;flex-basis:auto;flex-wrap:nowrap;flex-grow:1;padding-bottom:30%;background-image:var(--img-bg-tall)}}.grid-selection-option[_ngcontent-%COMP%]:first-of-type{padding-bottom:calc(1 / 6 * 100%);flex-basis:100%;background-image:var(--img-bg-default-short)}@media only screen and (min-width:1400px){.grid-selection-option[_ngcontent-%COMP%]:first-of-type{flex-basis:unset;background-image:var(--img-bg-default-tall)}.grid-selection-option[_ngcontent-%COMP%]:first-of-type   .grid-selection-option-logo[_ngcontent-%COMP%]{font-size:16px;bottom:5%;transform:translateX(-50%)}}.grid-selection-option[_ngcontent-%COMP%]:first-of-type   .grid-selection-option-logo[_ngcontent-%COMP%]{font-size:24px;bottom:50%;transform:translate(-50%,50%)}.tertiary[_ngcontent-%COMP%]   .grid-selection-option[_ngcontent-%COMP%]{padding-bottom:66%;background-image:var(--img-bg-tall)}.tertiary[_ngcontent-%COMP%]   .grid-selection-option[_ngcontent-%COMP%]:first-of-type{background-image:var(--img-bg-default-short);padding-bottom:calc(1 / 6 * 100%)}@media only screen and (min-width:768px){.tertiary[_ngcontent-%COMP%]   .grid-selection-option[_ngcontent-%COMP%]:first-of-type{background-image:var(--img-bg-default-tall)}}@media only screen and (min-width:1400px){.tertiary[_ngcontent-%COMP%]   .grid-selection-option[_ngcontent-%COMP%]:first-of-type{padding-bottom:15%;background-image:var(--img-bg-short)}}@media only screen and (min-width:768px){.tertiary[_ngcontent-%COMP%]   .grid-selection-option[_ngcontent-%COMP%]{display:flex;flex-basis:100%;flex-basis:auto;flex-wrap:nowrap;flex-grow:1;padding-bottom:30%;background-image:var(--img-bg-tall)}}@media only screen and (min-width:1400px){.tertiary[_ngcontent-%COMP%]   .grid-selection-option[_ngcontent-%COMP%]{padding-bottom:15%;background-image:var(--img-bg-short)}}.grid-selection-option[_ngcontent-%COMP%]:not(.selected){filter:saturate(.5)}.grid-selection-option.selected[_ngcontent-%COMP%]:before{opacity:.3}.grid-selection-option.selected[_ngcontent-%COMP%]:after{opacity:1}.primary[_ngcontent-%COMP%]   .grid-selection-option.selected[_ngcontent-%COMP%]:after, .primary[_ngcontent-%COMP%]   .grid-selection-option.selected[_ngcontent-%COMP%]:before{background-color:#26ffdf}.secondary[_ngcontent-%COMP%]   .grid-selection-option.selected[_ngcontent-%COMP%]:after, .secondary[_ngcontent-%COMP%]   .grid-selection-option.selected[_ngcontent-%COMP%]:before{background-color:#ff5e30}.tertiary[_ngcontent-%COMP%]   .grid-selection-option.selected[_ngcontent-%COMP%]:after, .tertiary[_ngcontent-%COMP%]   .grid-selection-option.selected[_ngcontent-%COMP%]:before{background-color:#c0e0e0}.grid-selection-option[_ngcontent-%COMP%]:after, .grid-selection-option[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;bottom:0;left:0;right:0;opacity:0}.grid-selection-option[_ngcontent-%COMP%]:after{top:auto;height:20px}.grid-selection-option-logo[_ngcontent-%COMP%]{width:calc(100% - 60px);position:absolute;bottom:5%;left:50%;transform:translateX(-50%);color:#fff;font-size:16px;font-family:"BF_Modernista-Regular",var(--font-fallback)}.tertiary[_ngcontent-%COMP%]   .grid-selection-option-logo[_ngcontent-%COMP%]{bottom:20%}@media only screen and (min-width:1400px){.grid-selection-option-logo[_ngcontent-%COMP%]{width:calc(100% - 30px);bottom:35%}}']}),t})();function $W(t,e){}function KW(t,e){1&t&&i.YNc(0,$W,0,0,"ng-template")}function XW(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",6),i.TgZ(1,"span",7),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.qZA(),i.TgZ(4,"div",8),i.TgZ(5,"app-grid-selection",9),i.NdJ("hovered",function(e){return i.CHM(t),i.oxw(2).hover(e,!1)})("leaveHovered",function(){return i.CHM(t),i.oxw(2).leaveHover(!1)})("previousOption",function(e){return i.CHM(t),i.oxw(2).setPreviousEra(e,!1)})("selectedOption",function(e){return i.CHM(t),i.oxw(2).setSelectedEra(e,!1)}),i.qZA(),i.qZA()}if(2&t){const t=i.oxw(2);i.xp6(2),i.Oqu(i.lcZ(3,6,(null==t.eraService.ffaFaction?null:t.eraService.ffaFaction.label)||"")),i.xp6(3),i.Q6J("contentType",t.contentType)("options",t.linkedOptions)("onBeforeSelection",t.onBeforeChange.bind(t))("defaultOption",t.defaultEra)("useGridMobile",!0)}}function QW(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",10),i.TgZ(1,"span",11),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.TgZ(4,"span",7),i._uU(5),i.ALo(6,"translate"),i.qZA(),i.qZA(),i.TgZ(7,"div",12),i.TgZ(8,"app-grid-selection",13),i.NdJ("hovered",function(e){return i.CHM(t),i.oxw(2).hover(e,!1)})("leaveHovered",function(){return i.CHM(t),i.oxw(2).leaveHover(!1)})("previousOption",function(e){return i.CHM(t),i.oxw(2).setPreviousEra(e,!1)})("selectedOption",function(e){return i.CHM(t),i.oxw(2).setSelectedEra(e,!1)}),i.qZA(),i.qZA(),i.TgZ(9,"div",14),i.TgZ(10,"span",15),i._uU(11),i.ALo(12,"translate"),i.qZA(),i.TgZ(13,"span",7),i._uU(14),i.ALo(15,"translate"),i.qZA(),i.qZA(),i.TgZ(16,"div",16),i.TgZ(17,"app-grid-selection",17),i.NdJ("hovered",function(e){return i.CHM(t),i.oxw(2).hover(e,!0)})("leaveHovered",function(){return i.CHM(t),i.oxw(2).leaveHover(!0)})("previousOption",function(e){return i.CHM(t),i.oxw(2).setPreviousEra(e,!0)})("selectedOption",function(e){return i.CHM(t),i.oxw(2).setSelectedEra(e,!0)}),i.qZA(),i.qZA()}if(2&t){const t=i.oxw(2);i.xp6(2),i.Oqu(i.lcZ(3,16,"editor.package.era.team-one")),i.xp6(3),i.Oqu(i.lcZ(6,18,(null==t.eraService.linkedFaction?null:t.eraService.linkedFaction.label)||"")),i.xp6(3),i.Q6J("contentType",t.contentType)("options",t.linkedOptions)("onBeforeSelection",t.onBeforeChange.bind(t))("disableSelection",t.team2Selected)("defaultOption",t.defaultEra)("additionalData",!1),i.xp6(3),i.Oqu(i.lcZ(12,20,"editor.package.era.team-two")),i.xp6(3),i.Oqu(i.lcZ(15,22,(null==t.eraService.team2Faction?null:t.eraService.team2Faction.label)||"")),i.xp6(3),i.Q6J("contentType",t.contentType)("options",t.team2Options)("onBeforeSelection",t.onBeforeChange.bind(t))("disableSelection",t.team1Selected)("defaultOption",t.defaultEra)("additionalData",!0)}}const tZ=function(t,e){return[t,e]};function eZ(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"div",1),i.ynx(2,2),i.YNc(3,KW,1,0,void 0,3),i.YNc(4,XW,6,8,"ng-template",null,4,i.W1O),i.YNc(6,QW,18,24,"ng-template",null,5,i.W1O),i.BQk(),i.qZA(),i.BQk()),2&t){const t=i.MAs(5),e=i.MAs(7),n=i.oxw();i.xp6(1),i.Q6J("formGroup",n.formGroup)("ngClass",i.WLB(5,tZ,n.screenType,n.contentType)),i.xp6(2),i.Q6J("ngIf",n.isFFA)("ngIfThen",t)("ngIfElse",e)}}let nZ=(()=>{class t extends iH{constructor(t,e,n,o,r){super(),this.editorService=t,this.eraService=e,this.translateService=n,this.store=o,this.dialog=r,this.hovered=new i.vpe,this.leaveHovered=new i.vpe,this.previousEra=new i.vpe,this.selectedEra=new i.vpe,this.isPerTeamEra=new i.vpe(!1),this.isFFA=!1,this.screenType="",this.linkedOptions=null,this.team2Options=null,this.team1Selected=!1,this.team2Selected=!1,this.defaultEra=void 0,this.hasChanges=!1,this.contentType="faction",this.isInitialLoad=!0}ngOnInit(){this.subscribeToChanges()}ngOnChanges(t){t.hasOwnProperty("isFFA")&&!t.isFFA.firstChange&&this.subscribeToChanges()}subscribeToChanges(){this.clearSubscription(),this.isFFA?this.listenToFFAChange():(this.listenToTeam2Change(),this.listenToTeamChanges())}listenToFFAChange(){this.contentType="faction ffa"}listenToTeam2Change(){var t;null===(t=this.team2)||void 0===t||t.valueChanges.subscribe({next:()=>{this.toggleIsPerTeamEra(!0)}})}listenToTeamChanges(){var t,e,n,i,o;this.eraService.isFFA||(null===(t=this.perTeamValue)||void 0===t?void 0:t.value)||null===(e=this.perTeamValue)||void 0===e||e.setValue(!0),!this.eraService.isFFA&&this.eraService.getIsPerTeamEra(null===(n=this.team1)||void 0===n?void 0:n.value,null===(i=this.team2)||void 0===i?void 0:i.value)&&(this.eraService.isPerTeamEra=!0),this.addSubscription(bp(()=>{var t,e,n,i;return null===(e=null===(t=this.formGroup)||void 0===t?void 0:t.get("values"))||void 0===e?void 0:e.valueChanges.pipe(a_(null===(i=null===(n=this.formGroup)||void 0===n?void 0:n.get("values"))||void 0===i?void 0:i.value))}).subscribe({next:t=>{var e,n,i,o,r,s,a,l,c,u,h,d,p;if(t){if(!this.formGroup)return;const[g,m,f]=t;if(m||f)this.eraService.isBothDefault=!1;else if(this.eraService.isBothDefault=!0,null===m&&(null===(e=this.team1)||void 0===e||e.setValue(null===(n=this.eraService.defaultEra)||void 0===n?void 0:n.value,{emitEvent:!1})),null===f&&(null===(i=this.team2)||void 0===i||i.setValue(null===(o=this.eraService.defaultEra)||void 0===o?void 0:o.value,{emitEvent:!1})),0===m&&0===f)return;if(this.isInitialLoad?this.isInitialLoad=!1:this.store.dispatch(hL({newValue:!0})),null===m&&f)return null===(r=this.team1)||void 0===r||r.setValue(null===(s=this.eraService.defaultEra)||void 0===s?void 0:s.value,{emitEvent:!1}),null===(a=this.team2)||void 0===a||a.setValue(null===(l=this.eraService.defaultEra)||void 0===l?void 0:l.value),void this.eraService.setFactionValues(t);if(m&&null===f)return null===(c=this.team2)||void 0===c||c.setValue(null===(u=this.eraService.defaultEra)||void 0===u?void 0:u.value,{emitEvent:!1}),void this.eraService.setFactionValues(t);if(m!==f&&!this.isRelatedFaction(null===(h=this.eraService.linkedFaction)||void 0===h?void 0:h.eraTag,f)&&!this.eraService.isPerTeamEra)return null===(d=this.team2)||void 0===d||d.setValue(UU[m],{emitEvent:!1}),void this.eraService.setFactionValues(t);if(m&&0===f&&!this.eraService.isPerTeamEra)return null===(p=this.team2)||void 0===p||p.setValue(UU[m],{emitEvent:!1}),void this.eraService.setFactionValues(t);this.eraService.setFactionValues(t)}}})),this.formValues.emit(null===(o=this.formGroup)||void 0===o?void 0:o.value)}hover(t,e){this.hovered.emit({era:t,isTeam2:e})}leaveHover(t){this.leaveHovered.emit(t)}setPreviousEra(t,e){this.previousEra.emit({era:t,isTeam2:e})}setSelectedEra(t,e){this.resetHasChanges(e),this.selectedEra.emit({era:t,isTeam2:e})}toggleIsPerTeamEra(t){this.eraService.isPerTeamEra=t}onBeforeChange(t=null,e){return QB(this,void 0,void 0,function*(){return new Promise(t=>{this.storeHasChanges(e).pipe($g()).subscribe({next:e=>QB(this,void 0,void 0,function*(){if(e){this.hasChanges=!0;const e=this.dialog.open(qN,{width:"512px",data:{body$:this.translateService.get("editor.package.era.change-era-warning")}});t(!!(yield e.afterClosed().toPromise()))}t(!0)})})})})}storeHasChanges(t){return this.store.select(this.isFFA?wL:t?xL:ML)}resetHasChanges(t){this.hasChanges&&(this.store.dispatch(this.isFFA?dL({newValue:!1}):t?fL({newValue:!1}):mL({newValue:!1})),this.hasChanges=!1)}isRelatedFaction(t="",e){var n;return(null===(n=IU[t])||void 0===n?void 0:n.includes(e))||!1}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(mN),i.Y36(lV),i.Y36(Bp),i.Y36(Vp.yh),i.Y36(aT))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-mutator-factionid"]],inputs:{isFFA:"isFFA",screenType:"screenType",linkedOptions:"linkedOptions",team2Options:"team2Options",team1Selected:"team1Selected",team2Selected:"team2Selected",defaultEra:"defaultEra"},outputs:{hovered:"hovered",leaveHovered:"leaveHovered",previousEra:"previousEra",selectedEra:"selectedEra",isPerTeamEra:"isPerTeamEra"},features:[i.qOj,i.TTD],decls:1,vars:1,consts:[[4,"ngIf"],[1,"faction-wrapper",3,"formGroup","ngClass"],["formArrayName","values"],[4,"ngIf","ngIfThen","ngIfElse"],["ffa",""],["team",""],[1,"faction-team-bar","faction-team-bar--ffa"],[1,"faction-tag"],[1,"faction-option","ffa"],["formControlName","0","theme","tertiary",3,"contentType","options","onBeforeSelection","defaultOption","useGridMobile","hovered","leaveHovered","previousOption","selectedOption"],[1,"faction-team-bar","faction-team-bar--team-1"],[1,"faction-team-label","team-1"],[1,"faction-option","linked-era"],["formControlName","1",3,"contentType","options","onBeforeSelection","disableSelection","defaultOption","additionalData","hovered","leaveHovered","previousOption","selectedOption"],[1,"faction-team-bar","faction-team-bar--team-2"],[1,"faction-team-label","team-2"],[1,"faction-option","team-2-era"],["formControlName","2","theme","secondary",3,"contentType","options","onBeforeSelection","disableSelection","defaultOption","additionalData","hovered","leaveHovered","previousOption","selectedOption"]],template:function(t,e){1&t&&i.YNc(0,eZ,8,8,"ng-container",0),2&t&&i.Q6J("ngIf",e.formGroup)},directives:[R,ns,Gs,P,Ws,JW,es,qs],pipes:[Fp],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}[_nghost-%COMP%]{display:flex;height:100%}html[dir=rtl]   [_nghost-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   -shadowcsshost{direction:rtl}.mutator[_ngcontent-%COMP%]{min-width:200px;padding:30px;position:relative;border:1px solid #ffffff0d;background-color:#000c;flex-grow:1;overflow:hidden}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){.mutator[_ngcontent-%COMP%]{padding:22px 15px 15px}html[dir=rtl][_ngcontent-%COMP%]   .mutator[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator[_ngcontent-%COMP%]{padding:22px 15px 15px}}.mutator[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:"Purista-Semibold",var(--font-fallback);font-size:24px;margin-bottom:16px;padding-bottom:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mutator[_ngcontent-%COMP%]   .per-team-checkbox[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-top:16px}html[dir=rtl][_ngcontent-%COMP%]   .mutator[_ngcontent-%COMP%]   .per-team-checkbox[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator[_ngcontent-%COMP%]   .per-team-checkbox[_ngcontent-%COMP%]{direction:rtl}.mutator[_ngcontent-%COMP%]   .mutator-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;position:relative;height:100%}html[dir=rtl][_ngcontent-%COMP%]   .mutator[_ngcontent-%COMP%]   .mutator-content[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator[_ngcontent-%COMP%]   .mutator-content[_ngcontent-%COMP%]{direction:rtl}.mutator-body[_ngcontent-%COMP%]{position:relative;flex-grow:1}.mutator-description[_ngcontent-%COMP%]{display:none;position:absolute;top:0;margin-bottom:0;min-height:55px;max-height:100%;font-family:"BFText-Regular",var(--font-fallback);color:#b4b4b4;font-size:16px;line-height:22px;overflow:auto;scrollbar-width:thin}html[dir=ltr][_ngcontent-%COMP%]   .mutator-description[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .mutator-description[_ngcontent-%COMP%]{left:0}html[dir=rtl][_ngcontent-%COMP%]   .mutator-description[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator-description[_ngcontent-%COMP%]{right:0}.mutator-description[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}.mutator-description[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0000}.mutator-description[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#fff3;border-radius:12px;background-clip:padding-box;border:3px solid #0000}.option[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-bottom:10px}html[dir=rtl][_ngcontent-%COMP%]   .option[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .option[_ngcontent-%COMP%]{direction:rtl}.option[_ngcontent-%COMP%]   .mat-slider[_ngcontent-%COMP%]{flex:1}.option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:"Purista-Semibold",var(--font-fallback);font-size:20px;border:1px solid #434343;background:#000;color:#fff;width:66px;height:38px;padding:0 4px 4px;text-align:center}html[dir=rtl][_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:0 4px 4px}html[dir=ltr][_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:10px}html[dir=rtl][_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:10px}.option[_ngcontent-%COMP%]   input.ng-invalid[_ngcontent-%COMP%]{border:1px solid #ff000080}.mat-stroked-button[_ngcontent-%COMP%]:active{background-color:#000}.mutator-content-innerwrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:minmax(0,1fr) 24px;grid-gap:0 0;gap:0 0}html[dir=rtl][_ngcontent-%COMP%]   .mutator-content-innerwrapper[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator-content-innerwrapper[_ngcontent-%COMP%]{direction:rtl}.per-team-button[_ngcontent-%COMP%]{background-color:initial;height:86px;width:24px;border:0;color:#a1a1a1}.per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%]{cursor:pointer;transform:rotate(90deg)}@media (hover:hover){.per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%]:hover{color:#fff}}.per-team-button[_ngcontent-%COMP%]   .icon-connector[_ngcontent-%COMP%]{height:12px;width:12px;color:#a1a1a1;margin-bottom:5px}html[dir=rtl][_ngcontent-%COMP%]   .per-team-button[_ngcontent-%COMP%]   .icon-connector[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .per-team-button[_ngcontent-%COMP%]   .icon-connector[_ngcontent-%COMP%]{transform:scaleX(-1)}.per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%] + .icon-connector[_ngcontent-%COMP%]{transform:rotate(90deg);margin-bottom:0}html[dir=rtl][_ngcontent-%COMP%]   .per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%] + .icon-connector[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%] + .icon-connector[_ngcontent-%COMP%]{transform:scaleX(-1) rotate(90deg)}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){.per-team-button[_ngcontent-%COMP%]{width:100%}}.boolean-sparse-per-team-checkbox[_ngcontent-%COMP%]{display:none}.remove-button[_ngcontent-%COMP%]{color:#434343}.team-one[_ngcontent-%COMP%]{color:#26ffdf;box-sizing:border-box;border:2px solid #26ffdf;width:60px;height:38px;text-align:center;padding-top:5px}html[dir=ltr][_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .team-one[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .team-one[_ngcontent-%COMP%]{margin-left:10px}.team-two[_ngcontent-%COMP%]{color:#f33;box-sizing:border-box;border:2px solid #f33;width:60px;height:38px;text-align:center;padding-top:5px}html[dir=ltr][_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .team-two[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .team-two[_ngcontent-%COMP%]{margin-left:10px}.teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%]{color:#787878;box-sizing:border-box;border:2px solid #787878;width:60px;height:38px;text-align:center;padding-top:5px}html[dir=ltr][_ngcontent-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%]{margin-left:10px}.hide[_ngcontent-%COMP%]{visibility:hidden}.show[_ngcontent-%COMP%]{display:inline}','[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}[_nghost-%COMP%]{justify-content:center;width:100%;z-index:5;height:100%;margin:0}@media only screen and (min-width:768px){[_nghost-%COMP%]{margin-bottom:20px;height:unset}}@media only screen and (min-width:1030px){[_nghost-%COMP%]{padding:0}}.faction-option[_ngcontent-%COMP%]{width:100%}.faction-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:space-around}html[dir=rtl][_ngcontent-%COMP%]   .faction-wrapper[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .faction-wrapper[_ngcontent-%COMP%]{direction:rtl}@media only screen and (min-width:768px){.faction-wrapper[_ngcontent-%COMP%]{flex-wrap:wrap;flex-direction:row}.faction-wrapper.ffa[_ngcontent-%COMP%]{flex-direction:column}.faction-wrapper--ffa[_ngcontent-%COMP%]{flex-direction:row}}.faction-team-bar[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#000c;font-family:"BFText-Regular",var(--font-fallback);padding:15px 20px 14px;position:relative}.faction-team-bar[_ngcontent-%COMP%]:before{content:"";position:absolute;bottom:0;height:2px;width:100%;background-image:linear-gradient(270deg,#262626 -.07%,#26ffdf 50%)}html[dir=ltr][_ngcontent-%COMP%]   .faction-team-bar[_ngcontent-%COMP%]:before, html[dir=ltr]   [_nghost-%COMP%]   .faction-team-bar[_ngcontent-%COMP%]:before{left:0}html[dir=rtl][_ngcontent-%COMP%]   .faction-team-bar[_ngcontent-%COMP%]:before, html[dir=rtl]   [_nghost-%COMP%]   .faction-team-bar[_ngcontent-%COMP%]:before{right:0}html[dir=rtl][_ngcontent-%COMP%]   .faction-team-bar[_ngcontent-%COMP%]:before, html[dir=rtl]   [_nghost-%COMP%]   .faction-team-bar[_ngcontent-%COMP%]:before{transform:scaleX(-1)}@media only screen and (min-width:768px){.faction-team-bar.faction-team-bar--team-2[_ngcontent-%COMP%]{order:2;flex-basis:50%;flex-direction:row-reverse}}.faction-team-bar.faction-team-bar--team-2[_ngcontent-%COMP%]:before{background-image:linear-gradient(270deg,#262626 -.07%,#ff5e30 50%)}html[dir=rtl][_ngcontent-%COMP%]   .faction-team-bar.faction-team-bar--team-2[_ngcontent-%COMP%]:before, html[dir=rtl]   [_nghost-%COMP%]   .faction-team-bar.faction-team-bar--team-2[_ngcontent-%COMP%]:before{transform:scaleX(-1)}@media only screen and (min-width:768px){.faction-team-bar.faction-team-bar--team-2[_ngcontent-%COMP%]:before{background-image:linear-gradient(-270deg,#262626 -.07%,#ff5e30 50%)}.faction-team-bar.faction-team-bar--team-1[_ngcontent-%COMP%]{order:1;flex-basis:50%}}.faction-team-bar.faction-team-bar--ffa[_ngcontent-%COMP%]:before{background-image:none;background-color:#c0e0e0}@media only screen and (min-width:768px){.faction-option[_ngcontent-%COMP%]{order:3;flex-basis:50%}.faction-option.team-2-era[_ngcontent-%COMP%]{order:4;flex-basis:50%}}.faction-team-label[_ngcontent-%COMP%]{padding-top:3px}html[dir=ltr][_ngcontent-%COMP%]   .faction-team-label.team-1[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .faction-team-label.team-1[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .faction-team-label.team-1[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .faction-team-label.team-1[_ngcontent-%COMP%]{margin-left:10px}html[dir=ltr][_ngcontent-%COMP%]   .faction-team-label.team-2[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .faction-team-label.team-2[_ngcontent-%COMP%]{margin-left:10px}html[dir=rtl][_ngcontent-%COMP%]   .faction-team-label.team-2[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .faction-team-label.team-2[_ngcontent-%COMP%]{margin-right:10px}@media only screen and (max-width:767px){.faction-team-label.team-2[_ngcontent-%COMP%]{float:left}html[dir=rtl][_ngcontent-%COMP%]   .faction-team-label.team-2[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .faction-team-label.team-2[_ngcontent-%COMP%]{float:right}html[dir=ltr][_ngcontent-%COMP%]   .faction-team-label.team-2[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .faction-team-label.team-2[_ngcontent-%COMP%]{margin-left:0}html[dir=rtl][_ngcontent-%COMP%]   .faction-team-label.team-2[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .faction-team-label.team-2[_ngcontent-%COMP%]{margin-right:0}html[dir=ltr][_ngcontent-%COMP%]   .faction-team-label.team-2[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .faction-team-label.team-2[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .faction-team-label.team-2[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .faction-team-label.team-2[_ngcontent-%COMP%]{margin-left:10px}}.faction-tag[_ngcontent-%COMP%]{padding:3px 7px 0;line-height:28px}.faction-team-bar--team-1[_ngcontent-%COMP%]   .faction-tag[_ngcontent-%COMP%]{color:#26ffdf;border:2px solid #26ffdf}.faction-team-bar--team-2[_ngcontent-%COMP%]   .faction-tag[_ngcontent-%COMP%]{color:#ff5e30;border:2px solid #ff5e30}.faction-team-bar--ffa[_ngcontent-%COMP%]   .faction-tag[_ngcontent-%COMP%]{color:#c0e0e0;border:2px solid #c0e0e0}']}),t})();function iZ(t,e){if(1&t){const t=i.EpF();i.ynx(0),i.TgZ(1,"app-mutator-factionid",7),i.NdJ("hovered",function(e){return i.CHM(t),i.oxw(3).hoverFaction(e)})("leaveHovered",function(e){return i.CHM(t),i.oxw(3).leaveHoverFaction(e)})("previousEra",function(e){return i.CHM(t),i.oxw(3).resetAssetTags(e)})("selectedEra",function(e){return i.CHM(t),i.oxw(3).setHighlightedEra(e)})("formValues",function(e){return i.CHM(t),i.oxw(3).setExistingFormValues(e)}),i.qZA(),i.BQk()}if(2&t){const t=e.ngIf,n=i.oxw().ngIf,o=i.oxw(2);i.xp6(1),i.Q6J("mutator",n)("control",t)("isFFA",o.eraService.isFFA)("screenType",o.screenType)("linkedOptions",o.eraService.team1Options)("team2Options",o.eraService.team2Options)("defaultEra",o.eraService.defaultEra)}}function oZ(t,e){if(1&t&&(i.ynx(0,5),i._UZ(1,"app-era-hero-panel",6),i.YNc(2,iZ,2,7,"ng-container",1),i.BQk()),2&t){const t=i.oxw(2);i.xp6(1),i.Q6J("screenType",t.screenType)("isFFA",t.eraService.isFFA)("ffaEra",t.eraService.ffaFaction)("linkedEra",t.eraService.linkedFaction)("team2Era",t.eraService.team2Faction)("ffaHoveredEra",t.ffaHoveredEra)("linkedHoveredEra",t.team1HoveredEra)("team2HoveredEra",t.team2HoveredEra)("team1Bg",t.team1BgSrc)("team2Bg",t.team2BgSrc),i.xp6(1),i.Q6J("ngIf",t.splitMutatorsFormGroup.get("FactionID_PerTeam"))}}function rZ(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"form",2),i.TgZ(2,"fieldset",3),i.ALo(3,"async"),i.YNc(4,oZ,3,11,"ng-container",4),i.ALo(5,"async"),i.qZA(),i.qZA(),i.BQk()),2&t){const t=i.oxw();i.xp6(1),i.Q6J("formGroup",t.editorForm),i.xp6(1),i.Q6J("disabled",i.lcZ(3,3,t.editorService.editorDisabled$)),i.xp6(2),i.Q6J("ngIf",i.lcZ(5,5,t.editorService.mutatorEras$))}}let sZ=(()=>{class t{constructor(t,e,n,i,o){this.blueprintService=t,this.editorService=e,this.eraService=n,this.formService=i,this.cdRef=o,this.subscriptions=[],this.editorForm=this.editorService.editorForm,this.splitMutatorsFormGroup=this.editorService.splitMutatorsFormGroup,this.isReady=!1,this.SCREEN_TYPES=["web","tablet","mobile"],this.screenType="",this.team1Era=document.querySelector(".team-1-era"),this.team2Era=document.querySelector(".team-2-era"),this.addSubscription(Hv([this.editorService.splitMutatorsFormGroupChanges$,this.eraService.erasAndFactions$]).subscribe({next:([t,[e,n,i]])=>{var o;t.hasOwnProperty("ModBuilder_GameMode")&&i&&(this.eraService.isFFA=2===(null===(o=t.ModBuilder_GameMode[`${dM.KindCase.mutatorIntValues}`])||void 0===o?void 0:o.value),this.eraService.setErasAndFactions(e,n,i.values),this.isReady=!0)}}))}get linkedClasses(){var t;return[(null===(t=this.eraService.linkedFaction)||void 0===t?void 0:t.eraTag)||"default"]}get team1Classes(){var t;return{[(null===(t=this.eraService.linkedFaction)||void 0===t?void 0:t.eraTag)||"default"]:Boolean(this.eraService.linkedFaction)}}get team2Classes(){var t;return{[(null===(t=this.eraService.team2Faction)||void 0===t?void 0:t.eraTag)||"default"]:Boolean(this.eraService.team2Faction)}}get linkedBgSrc(){var t;return this.team1HoveredEra?this.team1HoveredEra.src:null===(t=this.eraService.linkedFaction)||void 0===t?void 0:t.src}get team1BgSrc(){var t,e,n,i;return this.ffaHoveredEra?null===(t=this.ffaHoveredEra)||void 0===t?void 0:t.team1Src:this.team1HoveredEra?null===(e=this.team1HoveredEra)||void 0===e?void 0:e.team1Src:this.eraService.isFFA?null===(n=this.eraService.ffaFaction)||void 0===n?void 0:n.team1Src:null===(i=this.eraService.linkedFaction)||void 0===i?void 0:i.team1Src}get team2BgSrc(){var t,e;return this.team2HoveredEra?null===(t=this.team2HoveredEra)||void 0===t?void 0:t.team1Src:null===(e=this.eraService.team2Faction)||void 0===e?void 0:e.team2Src}get hoveredFaction(){return this.eraService.isFFA?this.ffaHoveredEra:this.team1HoveredEra||this.team2HoveredEra}hoverFaction({era:t,isTeam2:e}){this.eraService.isFFA?this.ffaHoveredEra=t:e?this.team2HoveredEra=t:this.team1HoveredEra=t}leaveHoverFaction(t){this.eraService.isFFA?this.ffaHoveredEra=void 0:t?this.team2HoveredEra=void 0:this.team1HoveredEra=void 0}resetAssetTags({era:t,isTeam2:e}){(null==t?void 0:t.isDefault)||(this.eraService.isFFA?this.resetFFAAssetTags(t):this.resetTeamAssetTags(t,e))}resetTeamAssetTags(t,e){this.formService.resetItems(t,this.eraService.isPerTeamEra,e),this.formService.resetCharacters((null==t?void 0:t.factionTag)||"",this.eraService.isPerTeamEra,!1,e)}resetFFAAssetTags(t){this.formService.resetFFAItems(t),this.formService.resetFFACharacters((null==t?void 0:t.factionTag)||"")}setHighlightedEra({era:t,isTeam2:e}){const n=t instanceof HU?t:this.eraService.defaultEra;this.eraService.isFFA?this.eraService.ffaFaction=n:this.eraService.isPerTeamEra?e?this.eraService.team2Faction=n:this.eraService.linkedFaction=n:(this.eraService.linkedFaction=n,this.eraService.team2Faction=this.eraService.team2Options.find(t=>t.value===UU[n.value])||this.eraService.defaultEra),this.eraService.setEraTags(),this.eraService.isSameEra&&!(null==n?void 0:n.isDefault)&&this.matchElements(e),this.cdRef.detectChanges()}matchElements(t){var e,n;this.formService.matchTeamCharacters((null===(e=this.eraService.team2Faction)||void 0===e?void 0:e.factionTag)||""),this.formService.matchTeamItems((null===(n=this.eraService.team2Faction)||void 0===n?void 0:n.eraTag)||"",t)}setExistingFormValues(t){var e,n;if(null==t?void 0:t.values){const[i,o,r]=t.values;if(!o&&!r)return;this.eraService.getIsPerTeamEra(o,r)&&(this.eraService.isPerTeamEra=!0,this.cdRef.detectChanges()),(null===(e=this.eraService.linkedFaction)||void 0===e?void 0:e.value)!==o&&(this.eraService.linkedFaction=this.eraService.allOptions.find(t=>t.value===o)||this.eraService.defaultEra,this.eraService.isPerTeamEra||(this.eraService.team2Faction=this.eraService.allOptions.find(t=>t.value===UU[o])||this.eraService.defaultEra),this.cdRef.detectChanges()),this.eraService.isPerTeamEra&&(null===(n=this.eraService.team2Faction)||void 0===n?void 0:n.value)!==r&&(this.eraService.team2Faction=this.eraService.team2Options.find(t=>t.value===r)||this.eraService.allOptions.find(t=>t.keys.includes(r))||this.eraService.defaultEra,this.cdRef.detectChanges()),this.isReady=!0,this.cdRef.detectChanges()}}addSubscription(...t){this.subscriptions.push(...t)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(kN),i.Y36(mN),i.Y36(lV),i.Y36(sV),i.Y36(i.sBO))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-era"]],decls:4,vars:8,consts:[[3,"category","label","floating"],[4,"ngIf"],[1,"editor","editor-flex",3,"formGroup"],[3,"disabled"],["formArrayName","splitMutators",4,"ngIf"],["formArrayName","splitMutators"],[3,"screenType","isFFA","ffaEra","linkedEra","team2Era","ffaHoveredEra","linkedHoveredEra","team2HoveredEra","team1Bg","team2Bg"],[3,"mutator","control","isFFA","screenType","linkedOptions","team2Options","defaultEra","hovered","leaveHovered","previousEra","selectedEra","formValues"]],template:function(t,e){1&t&&(i._UZ(0,"app-playground-tab-header",0),i.ALo(1,"translate"),i.ALo(2,"translate"),i.YNc(3,rZ,6,7,"ng-container",1)),2&t&&(i.Q6J("category",i.lcZ(1,4,"editor.header.era-category"))("label",i.lcZ(2,6,"editor.header.era"))("floating",!0),i.xp6(3),i.Q6J("ngIf",e.isReady))},directives:[uj,R,Ls,ns,Gs,Ws,WH,nZ],pipes:[Fp,Z],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}[_nghost-%COMP%]{font-family:"Purista-Semibold",var(--font-fallback)}.editor[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;justify-content:flex-end;height:100%;background-size:cover}fieldset[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;height:100%}@media only screen and (min-width:1921px){fieldset[_ngcontent-%COMP%]{max-width:1920px;margin:0 auto}}']}),t})();function aZ(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"mat-option",3),i.NdJ("click",function(e){const n=i.CHM(t).$implicit;return i.oxw().onFactionClick(e,n.value)}),i._uU(1),i.ALo(2,"translate"),i.qZA()}if(2&t){const t=e.$implicit;i.Q6J("value",t.value),i.xp6(1),i.hij(" ",i.lcZ(2,2,t.abbreviation)," ")}}let lZ=(()=>{class t extends iH{constructor(t,e,n,o,r){var s;super(),this.editorService=t,this.eraService=e,this.translateService=n,this.store=o,this.dialog=r,this.previousFaction=new i.vpe,this.hasItemChange=!1,this.isTeam2=!1,this.itemType="",this.isDisabled=!1,this.factionOptions=[],this.factionValue=null===(s=this.faction)||void 0===s?void 0:s.value,this.hasChanges=!1}get faction(){return this.eraService.isFFA?this.eraService.ffaFaction:this.isTeam2?this.eraService.team2Faction:this.eraService.linkedFaction}get character(){return this.eraService.isFFA?this.global:this.isTeam2?this.team2:this.team1}get storeChanges(){return this.store.select(this.eraService.isFFA?t=>PL(t,this.itemType):this.isTeam2?t=>IL(t,this.itemType):t=>kL(t,this.itemType))}ngOnInit(){var t;this.addSubscription(null===(t=bp(()=>this.editorService.eraValues$))||void 0===t?void 0:t.subscribe({next:t=>{t&&this.setEras(t.values||[])}}))}ngOnChanges(t){t.hasOwnProperty("hasItemChange")&&(this.hasChanges=t.hasItemChange.currentValue)}setEras(t){var e;t.length&&(this.setFactionOptions(t),this.factionValue=null===(e=this.faction)||void 0===e?void 0:e.value)}setFactionOptions(t){var e,n,i,o;if(this.faction){const[r,s,a]=t;this.eraService.isFFA?this.factionOptions=this.eraService.factionSelectionMap[null===(e=this.faction)||void 0===e?void 0:e.eraTag]:this.isTeam2?a!==UU[s]?this.factionOptions=this.eraService.factionSelectionMap[null===(n=this.faction)||void 0===n?void 0:n.eraTag]||this.eraService.defaultEra:0!==s&&0!==a&&a===UU[s]&&(this.factionOptions=this.eraService.factionSelectionMap[null===(i=this.faction)||void 0===i?void 0:i.eraTag]):this.factionOptions=this.eraService.factionSelectionMap[null===(o=this.faction)||void 0===o?void 0:o.eraTag]}}hasStoreChanges(){return QB(this,void 0,void 0,function*(){return new Promise(t=>this.storeChanges.pipe($g()).subscribe({next:e=>t(e)}))})}onFactionClick(t,e){var n,i;return QB(this,void 0,void 0,function*(){t.preventDefault(),(null===(n=this.faction)||void 0===n?void 0:n.value)!==e&&(!(yield this.hasStoreChanges())||(yield this.onBeforeFactionChange())?this.onFactionChange(e):this.factionValue=null===(i=this.faction)||void 0===i?void 0:i.value)})}onFactionChange(t){var e,n;return QB(this,void 0,void 0,function*(){this.previousFaction.emit({faction:this.faction,isTeam2:this.isTeam2}),null===(e=this.character)||void 0===e||e.setValue(t),this.store.dispatch(hL({newValue:!0})),this.resetHasChanges(),null===(n=this.formGroup)||void 0===n||n.controls.values.markAsDirty()})}onBeforeFactionChange(){return QB(this,void 0,void 0,function*(){const t=this.dialog.open(qN,{width:"512px",data:{body$:this.translateService.get("editor.package.characters.change-faction-warning")}});return!!(yield t.afterClosed().toPromise())})}resetHasChanges(){return QB(this,void 0,void 0,function*(){(this.hasChanges||(yield this.hasStoreChanges()))&&(this.store.dispatch(this.eraService.isFFA?dL({key:this.itemType,newValue:!1}):this.isTeam2?fL({key:this.itemType,newValue:!1}):mL({key:this.itemType,newValue:!1})),this.store.dispatch(hL({key:this.itemType,newValue:!1})),this.hasChanges=!1)})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(mN),i.Y36(lV),i.Y36(Bp),i.Y36(Vp.yh),i.Y36(aT))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-mutator-faction-by-era"]],inputs:{hasItemChange:"hasItemChange",isTeam2:"isTeam2",itemType:"itemType",isDisabled:"isDisabled"},outputs:{previousFaction:"previousFaction"},features:[i.qOj,i.TTD],decls:5,vars:6,consts:[[1,"faction-select"],["disableOptionCentering","",1,"select","era",3,"ngModel","disabled","ngModelChange"],[3,"value","click",4,"ngFor","ngForOf"],[3,"value","click"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i._uU(1),i.ALo(2,"translate"),i.qZA(),i.TgZ(3,"mat-select",1),i.NdJ("ngModelChange",function(t){return e.factionValue=t}),i.YNc(4,aZ,3,4,"mat-option",2),i.qZA()),2&t&&(i.xp6(1),i.hij(" ",i.lcZ(2,4,"editor.package.characters.faction-select"),"\n"),i.xp6(2),i.Q6J("ngModel",e.factionValue)("disabled",e.isDisabled),i.xp6(1),i.Q6J("ngForOf",e.factionOptions))},directives:[jC,es,Ds,I,J_],pipes:[Fp],styles:["[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}[_nghost-%COMP%]{width:100%;max-width:220px;display:flex;flex-direction:row;align-items:center}html[dir=rtl]   [_nghost-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   -shadowcsshost{direction:rtl}html[dir=ltr]   [_nghost-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   -shadowcsshost{margin-right:15px}html[dir=rtl]   [_nghost-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   -shadowcsshost{margin-left:15px}@media only screen and (max-width:1024px){[_nghost-%COMP%]{max-width:150px}html[dir=ltr]   [_nghost-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   -shadowcsshost{margin-right:13px}html[dir=rtl]   [_nghost-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   -shadowcsshost{margin-left:13px}}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){[_nghost-%COMP%]{max-width:100%;padding:7px}html[dir=ltr]   [_nghost-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   -shadowcsshost{margin-right:0}html[dir=rtl]   [_nghost-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   -shadowcsshost{margin-left:0}}.faction-select[_ngcontent-%COMP%]{display:flex;align-items:center;white-space:nowrap}html[dir=rtl][_ngcontent-%COMP%]   .faction-select[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .faction-select[_ngcontent-%COMP%]{direction:rtl}html[dir=ltr][_ngcontent-%COMP%]   .faction-select[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .faction-select[_ngcontent-%COMP%]{padding-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .faction-select[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .faction-select[_ngcontent-%COMP%]{padding-left:10px}@media only screen and (max-width:1024px){.faction-select[_ngcontent-%COMP%]{display:none}}mat-select[_ngcontent-%COMP%]{min-width:100px}@media only screen and (max-width:767px){mat-select[_ngcontent-%COMP%]{min-width:auto}}"]}),t})(),cZ=(()=>{class t{constructor(t,e,n,o,r,s){this.editorService=t,this.translateService=e,this.formService=n,this.store=o,this.dialog=r,this.cdRef=s,this.subscriptions=[],this.hasItemChange=new i.vpe,this.itemChangeMeta=new i.vpe,this.itemType="",this.model=null,this.isFFA=!1,this.isTeam2=!1,this.isFactionUnlinked=!1,this.isPerTeamEra=!1,this.hasDefault=!1,this.isEditorDisabled=!1,this.isSplitTeam=!1,this.isCharacters=!1,this.isSelected=!0,this.isInitialLoad=!0,this.hasChanges=!1,this.hasUnsavedChanges=!1}get teamFormGroup(){var t;return this.formService.teamFormGroup((null===(t=this.model)||void 0===t?void 0:t.value.toString())||"")}get team1(){var t;return this.formService.team1((null===(t=this.model)||void 0===t?void 0:t.value.toString())||"")}get team2(){var t;return this.formService.team2((null===(t=this.model)||void 0===t?void 0:t.value.toString())||"")}get item(){var t;return this.formService.item((null===(t=this.model)||void 0===t?void 0:t.value.toString())||"",this.isTeam2)}get team1FormGroup(){return this.team1}get team2FormGroup(){return this.team2}get itemFormGroup(){return this.item}get formControlName(){return this.isTeam2&&!this.isFFA?1:0}disableItemChange(){var t,e,n;this.isCharacters||!this.isFFA&&(this.isSplitTeam||this.isPerTeamEra||this.isFactionUnlinked)?this.isTeam2?null===(e=this.team2)||void 0===e||e.disable({emitEvent:!1}):null===(n=this.team1)||void 0===n||n.disable({emitEvent:!1}):null===(t=this.team1)||void 0===t||t.disable({emitEvent:!1}),this.cdRef.detectChanges()}enableItemChange(){var t,e,n;this.isCharacters||!this.isFFA&&(this.isSplitTeam||this.isPerTeamEra||this.isFactionUnlinked)?this.isTeam2?null===(e=this.team2)||void 0===e||e.enable({emitEvent:!1}):null===(n=this.team1)||void 0===n||n.enable({emitEvent:!1}):null===(t=this.team1)||void 0===t||t.enable({emitEvent:!1}),this.cdRef.detectChanges()}setHasChanges(){this.hasChanges||(this.hasChanges=!0,this.store.dispatch(this.isFFA?dL({key:this.itemType,newValue:!0}):this.isTeam2?fL({key:this.itemType,newValue:!0}):mL({key:this.itemType,newValue:!0}))),this.cdRef.detectChanges()}setHasUnsavedChanges(){this.hasUnsavedChanges||(this.hasUnsavedChanges=!0,this.store.dispatch(hL({key:this.itemType,newValue:!0}))),this.cdRef.detectChanges()}addSubscription(...t){this.subscriptions.push(...t)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(mN),i.Y36(Bp),i.Y36(sV),i.Y36(Vp.yh),i.Y36(aT),i.Y36(i.sBO))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-item-template"]],inputs:{itemType:"itemType",model:"model",isFFA:"isFFA",isTeam2:"isTeam2",isFactionUnlinked:"isFactionUnlinked",isPerTeamEra:"isPerTeamEra",hasDefault:"hasDefault",isEditorDisabled:"isEditorDisabled",isSplitTeam:"isSplitTeam"},outputs:{hasItemChange:"hasItemChange",itemChangeMeta:"itemChangeMeta"},decls:2,vars:0,template:function(t,e){1&t&&(i.TgZ(0,"p"),i._uU(1,"base-item works!"),i.qZA())},styles:[""]}),t})();function uZ(t,e){1&t&&(i._UZ(0,"mat-icon",10),i.ALo(1,"translate")),2&t&&i.Q6J("matTooltip",i.lcZ(1,1,"editor.package.container.requires-progress"))}function hZ(t,e){if(1&t&&i._UZ(0,"img",11),2&t){const t=i.oxw(2);i.Q6J("src",null==t.model?null:t.model.iconSrc,i.LSH)}}const dZ=function(t,e,n){return[t,e,n]},pZ=function(t,e){return{"last-active-char":t,"editor-disabled":e}};function gZ(t,e){if(1&t){const t=i.EpF();i.ynx(0),i.TgZ(1,"div",1),i.NdJ("click",function(e){return i.CHM(t),i.oxw().onToggleValue(e)}),i.TgZ(2,"div",2),i.TgZ(3,"div",3),i.TgZ(4,"div",4),i.YNc(5,uZ,2,3,"mat-icon",5),i.YNc(6,hZ,1,1,"img",6),i.qZA(),i.qZA(),i.TgZ(7,"div",7),i.TgZ(8,"div",8),i.ALo(9,"translate"),i._uU(10),i.ALo(11,"translate"),i.qZA(),i._UZ(12,"mat-checkbox",9),i.qZA(),i.qZA(),i.qZA(),i.BQk()}if(2&t){const t=i.oxw();i.xp6(1),i.Q6J("formGroup",t.teamFormGroup)("ngClass",i.kEZ(15,dZ,t.isSelected?"is-selected":"",t.isEditorDisabled?"editor-disabled":"",!t.lastActiveChar||null==t.item||!t.item.value||null!=t.model&&t.model.isProgressionLocked?"":"last-active-char"))("id",null==t.model?null:t.model.value),i.xp6(2),i.Udp("--char-img","url("+(null==t.model?null:t.model.imageSrc)+")"),i.xp6(2),i.Q6J("ngIf",null==t.model?null:t.model.isProgressionLocked),i.xp6(1),i.Q6J("ngIf",null==t.model?null:t.model.iconSrc),i.xp6(2),i.Q6J("title",i.lcZ(9,11,(null==t.model?null:t.model.label)||"")),i.xp6(2),i.Oqu(i.lcZ(11,13,(null==t.model?null:t.model.label)||"")),i.xp6(2),i.Q6J("ngClass",i.WLB(19,pZ,t.lastActiveChar&&(null==t.item?null:t.item.value)&&!(null!=t.model&&t.model.isProgressionLocked),t.isEditorDisabled))("formControlName",t.formControlName)}}let mZ=(()=>{class t extends cZ{constructor(){super(...arguments),this.model=null,this.isSameFaction=!1,this.lastActiveChar=!1,this.isCharacters=!0}ngOnInit(){this.disableItemChange(),this.subscribeToChanges()}ngOnChanges(t){var e,n;t.hasOwnProperty("lastActiveChar")&&!(null===(e=this.model)||void 0===e?void 0:e.isProgressionLocked)&&(t.lastActiveChar.currentValue&&(null===(n=this.item)||void 0===n?void 0:n.value)?this.disableItemChange():this.enableItemChange(),this.cdRef.detectChanges())}subscribeToChanges(){setTimeout(()=>{this.clearSubscriptions(),this.isFFA?this.listenToFFAChanges():this.isPerTeamEra?this.listenToTeamChanges():this.listenToItemChangesOnly()},0)}listenToFFAChanges(){this.addSubscription(bp(()=>{var t;return null===(t=this.team1FormGroup)||void 0===t?void 0:t.valueChanges.pipe(a_(this.team1FormGroup.value))}).subscribe({next:t=>{var e;this.isSelected=t,null===(e=this.team2FormGroup)||void 0===e||e.setValue(t,{emitEvent:!1}),this.onCharacterValueChange()}}))}listenToItemChangesOnly(){this.addSubscription(bp(()=>{var t;return null===(t=this.itemFormGroup)||void 0===t?void 0:t.valueChanges.pipe(a_(this.itemFormGroup.value))}).subscribe({next:t=>{this.isSelected=t,this.onCharacterValueChange()}}))}listenToTeamChanges(){this.addSubscription(bp(()=>{var t,e;return null===(t=this.teamFormGroup)||void 0===t?void 0:t.valueChanges.pipe(a_(null===(e=this.teamFormGroup)||void 0===e?void 0:e.getRawValue()))}).subscribe({next:t=>{if(t.values&&2===t.values.length){const[e,n]=t.values;this.isSelected=this.isTeam2?n:e,this.onCharacterValueChange()}}}))}onCharacterValueChange(){this.isInitialLoad?(this.isInitialLoad=!1,this.isSelected||this.emitItemChangeMeta(),this.lastActiveChar&&this.isSelected||this.enableItemChange()):this.emitItemChangeMeta(),this.isSelected||(this.hasItemChange.emit(!0),this.setHasChanges(),this.isInitialLoad||this.setHasUnsavedChanges())}onToggleValue(t){var e,n;return QB(this,void 0,void 0,function*(){(null===(e=null==t?void 0:t.target)||void 0===e?void 0:e.className.includes("mat-checkbox"))||this.isEditorDisabled||(!this.lastActiveChar||!this.isSelected||(null===(n=this.model)||void 0===n?void 0:n.isProgressionLocked)||(yield this.alertLastCharacter()))&&this.changeValue(!this.isSelected)})}changeValue(t){var e,n,i,o;this.isSelected!==t&&(this.isSelected=t,this.isFFA?(null===(e=this.team1)||void 0===e||e.setValue(t,{emitEvent:!1}),null===(n=this.team2)||void 0===n||n.setValue(t,{emitEvent:!1})):null===(i=this.item)||void 0===i||i.setValue(t,{emitEvent:!1}),t||(this.hasItemChange.emit(!0),this.setHasChanges(),this.setHasUnsavedChanges()),this.emitItemChangeMeta(),null===(o=this.teamFormGroup)||void 0===o||o.controls.values.markAsDirty())}alertLastCharacter(){return QB(this,void 0,void 0,function*(){const t=this.dialog.open(YN,{width:"512px",data:{body$:this.translateService.get("editor.package.characters.last-character-warning"),title$:this.translateService.get("editor.package.container.warning-title"),confirmLabel$:this.translateService.get("generic.ok")}});return yield t.afterClosed().toPromise(),!1})}emitItemChangeMeta(){var t;this.itemChangeMeta.emit({newValue:this.isSelected,isTeam2:this.isTeam2,isFFA:this.isFFA,isProgressionLocked:null===(t=this.model)||void 0===t?void 0:t.isProgressionLocked})}clearSubscriptions(){this.subscriptions.forEach(t=>t.unsubscribe())}ngOnDestroy(){this.clearSubscriptions()}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275cmp=i.Xpm({type:t,selectors:[["app-character"]],inputs:{model:"model",isSameFaction:"isSameFaction",lastActiveChar:"lastActiveChar"},features:[i.qOj,i.TTD],decls:1,vars:1,consts:[[4,"ngIf"],[1,"character",3,"formGroup","ngClass","id","click"],["formArrayName","values",1,"content"],[1,"image-container"],[1,"icons"],["class","icon","svgIcon","locked","matTooltipPosition","above",3,"matTooltip",4,"ngIf"],["class","icon",3,"src",4,"ngIf"],[1,"info"],[1,"name",3,"title"],[1,"character-checkbox",3,"ngClass","formControlName"],["svgIcon","locked","matTooltipPosition","above",1,"icon",3,"matTooltip"],[1,"icon",3,"src"]],template:function(t,e){1&t&&i.YNc(0,gZ,13,22,"ng-container",0),2&t&&i.Q6J("ngIf",e.teamFormGroup)},directives:[R,ns,Gs,P,Ws,eO,es,qs,eE,_S],pipes:[Fp],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}[_nghost-%COMP%]{width:100%}.character[_ngcontent-%COMP%]{cursor:pointer;position:relative;background-color:#000;border:2px solid #121212}@media (hover:hover){.character[_ngcontent-%COMP%]:hover{border:2px solid #434343}.character[_ngcontent-%COMP%]:hover   .image-container[_ngcontent-%COMP%]:after{content:none}.character[_ngcontent-%COMP%]:hover:not(.is-selected)   .image-container[_ngcontent-%COMP%]:after{content:""}}.character.is-selected[_ngcontent-%COMP%]{border:2px solid #121212}@media (hover:hover){.character.is-selected[_ngcontent-%COMP%]:hover{border:2px solid #434343}}.character.is-selected[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]:after{content:none}.character.last-active-char[_ngcontent-%COMP%]{border:2px solid #434343}.character.last-active-char[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]:after{content:"";background-color:#43434380}.character[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{padding-bottom:calc(360 / 300 * 100%);background-image:var(--char-img);background-size:cover;position:relative}.character[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;background-color:#0009}.character[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:100%}.character[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;height:50px;justify-content:space-between;align-items:center;padding:5px 10px}.character[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}html[dir=ltr][_ngcontent-%COMP%]   .character[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .character[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{padding-right:5px}html[dir=rtl][_ngcontent-%COMP%]   .character[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .character[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{padding-left:5px}@media only screen and (max-width:767px){.character[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:12px}}.character[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{line-height:0}.icons[_ngcontent-%COMP%]{display:flex;position:absolute;bottom:15px;z-index:5}html[dir=ltr][_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .icons[_ngcontent-%COMP%]{right:15px}html[dir=rtl][_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .icons[_ngcontent-%COMP%]{left:15px}html[dir=ltr][_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%] > .icon[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .icons[_ngcontent-%COMP%] > .icon[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]{margin-left:9px}html[dir=rtl][_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%] > .icon[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .icons[_ngcontent-%COMP%] > .icon[_ngcontent-%COMP%] + .icon[_ngcontent-%COMP%]{margin-right:9px}.icon[_ngcontent-%COMP%]{height:24px;width:24px}  .mat-checkbox.character-checkbox.mat-checkbox-disabled.last-active-char .mat-checkbox-background{background:#434343}  .mat-checkbox.character-checkbox.mat-checkbox-disabled.editor-disabled .mat-checkbox-background{background:#434343}']}),t})();function fZ(t,e){}function _Z(t,e){1&t&&i.YNc(0,fZ,0,0,"ng-template")}function bZ(t,e){if(1&t){const t=i.EpF();i.ynx(0),i.TgZ(1,"app-mutator-faction-by-era",11),i.NdJ("previousFaction",function(e){return i.CHM(t),i.oxw(4).resetAssetTags(e)}),i.ALo(2,"async"),i.qZA(),i.BQk()}if(2&t){const t=e.ngIf,n=i.oxw().ngIf,o=i.oxw(3);i.xp6(1),i.Q6J("isTeam2",!1)("mutator",n)("control",t)("itemType",o.itemType)("hasItemChange",o.hasItemChange)("isDisabled",!0===i.lcZ(2,6,o.editorService.editorDisabled$))}}function vZ(t,e){if(1&t&&(i.ynx(0),i.YNc(1,bZ,3,8,"ng-container",7),i.BQk()),2&t){const t=i.oxw(3);i.xp6(1),i.Q6J("ngIf",t.splitMutatorsFormGroup.get("FactionID_PerTeam"))}}function yZ(t,e){if(1&t){const t=i.EpF();i.ynx(0),i.TgZ(1,"app-character",14),i.NdJ("hasItemChange",function(e){return i.CHM(t),i.oxw(5).informHasItemChange(e)})("itemChangeMeta",function(e){return i.CHM(t),i.oxw(5).informItemChangeMeta(e)}),i.ALo(2,"async"),i.qZA(),i.BQk()}if(2&t){const t=i.oxw().$implicit,e=i.oxw(4);i.xp6(1),i.Q6J("itemType",e.itemType)("model",t)("isFFA",!0)("isPerTeamEra",e.eraService.isPerTeamEra)("isSameFaction",e.eraService.isSameFaction)("hasDefault",e.eraService.hasDefault)("lastActiveChar",1===e.activeUnlockedFFACharsCount)("isEditorDisabled",!0===i.lcZ(2,8,e.editorService.editorDisabled$))}}function CZ(t,e){if(1&t&&(i.TgZ(0,"div",13),i.YNc(1,yZ,3,10,"ng-container",7),i.qZA()),2&t){const t=e.$implicit;i.xp6(1),i.Q6J("ngIf",t.value)}}function OZ(t,e){if(1&t&&(i.ynx(0),i.YNc(1,CZ,2,1,"div",12),i.BQk()),2&t){const t=i.oxw(3);i.xp6(1),i.Q6J("ngForOf",t.allFFACharacters)}}function TZ(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"div",8),i.TgZ(2,"div",9),i.YNc(3,vZ,2,1,"ng-container",7),i.ALo(4,"async"),i.qZA(),i.TgZ(5,"div",10),i.YNc(6,OZ,2,1,"ng-container",7),i.qZA(),i.qZA(),i.BQk()),2&t){const t=i.oxw(2);i.xp6(3),i.Q6J("ngIf",i.lcZ(4,2,t.editorService.mutatorEras$)),i.xp6(3),i.Q6J("ngIf",t.allFFACharacters.length)}}function EZ(t,e){if(1&t&&i.YNc(0,TZ,7,4,"ng-container",7),2&t){const t=i.oxw();i.Q6J("ngIf",!(null!=t.eraService.ffaFaction&&t.eraService.ffaFaction.isDefault))}}const SZ=function(t){return{"has-default":t}};function wZ(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"div",17),i.TgZ(2,"span",18),i._uU(3),i.ALo(4,"translate"),i.qZA(),i.TgZ(5,"span",19),i._uU(6),i.qZA(),i.qZA(),i.BQk()),2&t){const t=i.oxw(2);i.xp6(1),i.Q6J("ngClass",i.VKq(5,SZ,null==t.eraService.team2Faction?null:t.eraService.team2Faction.isDefault)),i.xp6(2),i.hij(" ",i.lcZ(4,3,"editor.package.tab-header.team-1")," "),i.xp6(3),i.hij(" ",null==t.eraService.linkedFaction?null:t.eraService.linkedFaction.eraTag," ")}}function MZ(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"div",20),i.TgZ(2,"span",19),i._uU(3),i.qZA(),i.TgZ(4,"span",18),i._uU(5),i.ALo(6,"translate"),i.qZA(),i.qZA(),i.BQk()),2&t){const t=i.oxw(2);i.xp6(1),i.Q6J("ngClass",i.VKq(5,SZ,null==t.eraService.linkedFaction?null:t.eraService.linkedFaction.isDefault)),i.xp6(2),i.Oqu(null==t.eraService.team2Faction?null:t.eraService.team2Faction.eraTag),i.xp6(2),i.hij(" ",i.lcZ(6,3,"editor.package.tab-header.team-2")," ")}}function xZ(t,e){if(1&t){const t=i.EpF();i.ynx(0),i.TgZ(1,"app-mutator-faction-by-era",23),i.NdJ("previousFaction",function(e){return i.CHM(t),i.oxw(4).resetAssetTags(e)}),i.qZA(),i.BQk()}if(2&t){const t=e.ngIf,n=i.oxw().ngIf,o=i.oxw(3);i.xp6(1),i.Q6J("isTeam2",!1)("mutator",n)("control",t)("itemType",o.itemType)("hasItemChange",o.hasItemChange)}}function PZ(t,e){if(1&t&&(i.ynx(0),i.YNc(1,xZ,2,5,"ng-container",7),i.BQk()),2&t){const t=i.oxw(3);i.xp6(1),i.Q6J("ngIf",t.splitMutatorsFormGroup.get("FactionID_PerTeam"))}}function kZ(t,e){if(1&t){const t=i.EpF();i.ynx(0),i.TgZ(1,"app-character",26),i.NdJ("hasItemChange",function(e){return i.CHM(t),i.oxw(5).informHasItemChange(e)})("itemChangeMeta",function(e){return i.CHM(t),i.oxw(5).informItemChangeMeta(e)}),i.qZA(),i.BQk()}if(2&t){const t=i.oxw().$implicit,e=i.oxw(4);i.xp6(1),i.Q6J("itemType",e.itemType)("model",t)("isTeam2",!1)("isPerTeamEra",e.eraService.isPerTeamEra)("isSameFaction",e.eraService.isSameFaction)("hasDefault",e.eraService.hasDefault)("lastActiveChar",1===e.activeUnlockedLinkedCharsCount)}}const IZ=function(t){return[t]};function AZ(t,e){if(1&t&&(i.TgZ(0,"div",25),i.YNc(1,kZ,2,7,"ng-container",7),i.qZA()),2&t){const t=e.$implicit,n=i.oxw(4);i.Q6J("ngClass",i.VKq(2,IZ,n.linkedGrid)),i.xp6(1),i.Q6J("ngIf",t.value)}}function RZ(t,e){if(1&t&&(i.ynx(0),i.YNc(1,AZ,2,4,"div",24),i.BQk()),2&t){const t=i.oxw(3);i.xp6(1),i.Q6J("ngForOf",t.allLinkedCharacters)}}function DZ(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"div",21),i.TgZ(2,"div",9),i.YNc(3,PZ,2,1,"ng-container",7),i.ALo(4,"async"),i.qZA(),i.TgZ(5,"div",22),i.YNc(6,RZ,2,1,"ng-container",7),i.qZA(),i.qZA(),i.BQk()),2&t){const t=i.oxw(2);i.xp6(1),i.Q6J("ngClass",i.VKq(6,SZ,t.eraService.hasDefault)),i.xp6(2),i.Q6J("ngIf",i.lcZ(4,4,t.editorService.mutatorEras$)),i.xp6(2),i.Q6J("ngClass",i.VKq(8,IZ,t.eraService.hasDefault?"has-default":"")),i.xp6(1),i.Q6J("ngIf",t.allLinkedCharacters.length)}}function LZ(t,e){if(1&t){const t=i.EpF();i.ynx(0),i.TgZ(1,"app-mutator-faction-by-era",23),i.NdJ("previousFaction",function(e){return i.CHM(t),i.oxw(4).resetAssetTags(e)}),i.qZA(),i.BQk()}if(2&t){const t=e.ngIf,n=i.oxw().ngIf,o=i.oxw(3);i.xp6(1),i.Q6J("isTeam2",!0)("mutator",n)("control",t)("itemType",o.itemType)("hasItemChange",o.hasItemChange)}}function NZ(t,e){if(1&t&&(i.ynx(0),i.YNc(1,LZ,2,5,"ng-container",7),i.BQk()),2&t){const t=i.oxw(3);i.xp6(1),i.Q6J("ngIf",t.splitMutatorsFormGroup.get("FactionID_PerTeam"))}}function BZ(t,e){if(1&t){const t=i.EpF();i.ynx(0),i.TgZ(1,"app-character",28),i.NdJ("hasItemChange",function(e){return i.CHM(t),i.oxw(5).informHasItemChange(e)})("itemChangeMeta",function(e){return i.CHM(t),i.oxw(5).informItemChangeMeta(e)}),i.qZA(),i.BQk()}if(2&t){const t=i.oxw().$implicit,e=i.oxw(4);i.xp6(1),i.Q6J("itemType",e.itemType)("model",t)("hasDefault",e.eraService.hasDefault)("isPerTeamEra",e.eraService.isPerTeamEra)("isSameFaction",e.eraService.isSameFaction)("isTeam2",!0)("lastActiveChar",1===e.activeUnlockedTeam2CharsCount)}}function FZ(t,e){if(1&t&&(i.TgZ(0,"div",25),i.YNc(1,BZ,2,7,"ng-container",7),i.qZA()),2&t){const t=e.$implicit,n=i.oxw(4);i.Q6J("ngClass",i.VKq(2,IZ,n.team2Grid)),i.xp6(1),i.Q6J("ngIf",t.value)}}function UZ(t,e){if(1&t&&(i.ynx(0),i.YNc(1,FZ,2,4,"div",24),i.BQk()),2&t){const t=i.oxw(3);i.xp6(1),i.Q6J("ngForOf",t.allTeam2Characters)}}function VZ(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"div",27),i.TgZ(2,"div",9),i.YNc(3,NZ,2,1,"ng-container",7),i.ALo(4,"async"),i.qZA(),i.TgZ(5,"div",22),i.YNc(6,UZ,2,1,"ng-container",7),i.qZA(),i.qZA(),i.BQk()),2&t){const t=i.oxw(2);i.xp6(1),i.Q6J("ngClass",i.VKq(6,SZ,t.eraService.hasDefault)),i.xp6(2),i.Q6J("ngIf",i.lcZ(4,4,t.editorService.mutatorEras$)),i.xp6(2),i.Q6J("ngClass",i.VKq(8,IZ,t.eraService.hasDefault?"has-default":"")),i.xp6(1),i.Q6J("ngIf",t.allTeam2Characters.length)}}function GZ(t,e){if(1&t&&(i.TgZ(0,"div",15),i.YNc(1,wZ,7,7,"ng-container",7),i.YNc(2,MZ,7,7,"ng-container",7),i.qZA(),i.TgZ(3,"div",16),i.YNc(4,DZ,7,10,"ng-container",7),i.YNc(5,VZ,7,10,"ng-container",7),i.qZA()),2&t){const t=i.oxw();i.xp6(1),i.Q6J("ngIf",t.eraService.linkedFaction&&!(null!=t.eraService.linkedFaction&&t.eraService.linkedFaction.isDefault)),i.xp6(1),i.Q6J("ngIf",t.eraService.team2Faction&&!(null!=t.eraService.team2Faction&&t.eraService.team2Faction.isDefault)),i.xp6(2),i.Q6J("ngIf",!(null!=t.eraService.linkedFaction&&t.eraService.linkedFaction.isDefault)),i.xp6(1),i.Q6J("ngIf",!(null!=t.eraService.team2Faction&&t.eraService.team2Faction.isDefault))}}const jZ=function(t){return{"is-unlinked":t}};let HZ=(()=>{class t{constructor(t,e,n,i,o,r){this.blueprintService=t,this.editorService=e,this.eraService=n,this.formService=i,this.translateService=o,this.cdRef=r,this.subscriptions=[],this.header=this.translateService.get("editor.package.characters.team-header"),this.splitMutatorsFormGroup=this.editorService.splitMutatorsFormGroup,this.ffaGrid="",this.linkedGrid="",this.team2Grid="",this.allFFACharacters=[],this.activeUnlockedFFACharsCount=0,this.allLinkedCharacters=[],this.activeUnlockedLinkedCharsCount=0,this.allTeam2Characters=[],this.activeUnlockedTeam2CharsCount=0,this.hasItemChange=!1,this.itemChangeCheck=!1,this.itemType="character",this.isInitialLoad=!0}ngOnInit(){this.addSubscription(Hv([this.editorService.splitMutatorsFormGroupChanges$,this.eraService.erasAndFactions$,this.formService.getDataByTag(this.formService.characterTag$,!1,!1)]).subscribe({next:([t,[e,n,i],o])=>{var r,s;if(t.hasOwnProperty("ModBuilder_GameMode")&&(null==i?void 0:i.values)&&(this.eraService.isFFA=2===(null===(r=t.ModBuilder_GameMode[`${dM.KindCase.mutatorIntValues}`])||void 0===r?void 0:r.value),e&&n&&Object.keys(o).length)){const{allPyriteTagsArray:t=[],allCategoriesMap:r=[]}=o;this.eraService.setErasAndFactions(e,n,i.values),this.filterCharactersByFactions(t,(null===(s=Object.values(r))||void 0===s?void 0:s.map(t=>null==t?void 0:t.id))||[]),this.setHasItemChange(!1)}}}),this.editorService.eraValues$.subscribe({next:t=>{t&&this.eraService.setFactionValues(t.values)}}))}filterCharactersByFactions(t=[],e=[]){var n,i,o,r,s,a;this.eraService.isFFA?(this.eraService.ffaFactionChanged()||this.isInitialLoad)&&(0!==(null===(n=this.eraService.ffaFaction)||void 0===n?void 0:n.value)?(this.allFFACharacters=this.formService.filterToCharacters(t,(null===(i=this.eraService.ffaFactionTag)||void 0===i?void 0:i.childrenTags)||[],null==e?void 0:e[0]),this.ffaGrid="FIVE_CLASS_GRID",this.activeUnlockedFFACharsCount=this.allFFACharacters.length-this.formService.getLockedItemsCount(this.allFFACharacters)):(this.allFFACharacters=[],this.ffaGrid="FIVE_CLASS_GRID",this.activeUnlockedFFACharsCount=0)):((this.eraService.linkedFactionChanged()||this.isInitialLoad)&&(0!==(null===(o=this.eraService.linkedFaction)||void 0===o?void 0:o.value)?(this.allLinkedCharacters=this.formService.filterToCharacters(t,(null===(r=this.eraService.linkedFactionTag)||void 0===r?void 0:r.childrenTags)||[],null==e?void 0:e[0]),this.linkedGrid="",this.activeUnlockedLinkedCharsCount=this.allLinkedCharacters.length-this.formService.getLockedItemsCount(this.allLinkedCharacters)):(this.allLinkedCharacters=[],this.linkedGrid="",this.activeUnlockedLinkedCharsCount=0)),(this.eraService.team2FactionChanged()||this.isInitialLoad)&&(0!==(null===(s=this.eraService.team2Faction)||void 0===s?void 0:s.value)?(this.allTeam2Characters=this.formService.filterToCharacters(t,(null===(a=this.eraService.team2FactionTag)||void 0===a?void 0:a.childrenTags)||[],null==e?void 0:e[0]),this.team2Grid="",this.activeUnlockedTeam2CharsCount=this.allTeam2Characters.length-this.formService.getLockedItemsCount(this.allTeam2Characters)):(this.allTeam2Characters=[],this.team2Grid="",this.activeUnlockedTeam2CharsCount=0))),this.isInitialLoad&&(this.isInitialLoad=!1)}resetAssetTags({faction:t,isTeam2:e}){this.formService.resetCharacters((null==t?void 0:t.factionTag)||"",!0,!0,e)}informHasItemChange(t){!this.itemChangeCheck&&t&&this.setHasItemChange(!0)}informItemChangeMeta({newValue:t,isTeam2:e,isFFA:n,isProgressionLocked:i}){const o=i?0:t?1:-1;n?this.activeUnlockedFFACharsCount+=o:e?this.activeUnlockedTeam2CharsCount+=o:this.activeUnlockedLinkedCharsCount+=o}setHasItemChange(t){this.itemChangeCheck=t,this.hasItemChange=t,this.cdRef.detectChanges()}addSubscription(...t){this.subscriptions.push(...t)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(kN),i.Y36(mN),i.Y36(lV),i.Y36(sV),i.Y36(Bp),i.Y36(i.sBO))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-characters"]],decls:12,vars:16,consts:[[1,"characters-container",3,"ngClass"],[1,"characters-tab-header",3,"category","label"],[1,"editor",3,"formGroup"],[3,"disabled"],[4,"ngIf","ngIfThen","ngIfElse"],["ffa",""],["team",""],[4,"ngIf"],[1,"character-options-container","ffa"],[1,"header"],[1,"characters-content"],[3,"isTeam2","mutator","control","itemType","hasItemChange","isDisabled","previousFaction"],["class","option",4,"ngFor","ngForOf"],[1,"option"],[3,"itemType","model","isFFA","isPerTeamEra","isSameFaction","hasDefault","lastActiveChar","isEditorDisabled","hasItemChange","itemChangeMeta"],[1,"header-container"],[1,"characters-teams-container"],[1,"team-header","team-1",3,"ngClass"],[1,"team"],[1,"era-tag"],[1,"team-header","team-2",3,"ngClass"],[1,"character-options-container","team-1",3,"ngClass"],[1,"characters-content",3,"ngClass"],[3,"isTeam2","mutator","control","itemType","hasItemChange","previousFaction"],["class","option",3,"ngClass",4,"ngFor","ngForOf"],[1,"option",3,"ngClass"],[3,"itemType","model","isTeam2","isPerTeamEra","isSameFaction","hasDefault","lastActiveChar","hasItemChange","itemChangeMeta"],[1,"character-options-container","team-2",3,"ngClass"],[3,"itemType","model","hasDefault","isPerTeamEra","isSameFaction","isTeam2","lastActiveChar","hasItemChange","itemChangeMeta"]],template:function(t,e){if(1&t&&(i.TgZ(0,"div",0),i._UZ(1,"app-playground-tab-header",1),i.ALo(2,"translate"),i.ALo(3,"translate"),i.TgZ(4,"form",2),i.TgZ(5,"fieldset",3),i.ALo(6,"async"),i.YNc(7,_Z,1,0,void 0,4),i.YNc(8,EZ,1,1,"ng-template",null,5,i.W1O),i.YNc(10,GZ,6,4,"ng-template",null,6,i.W1O),i.qZA(),i.qZA(),i.qZA()),2&t){const t=i.MAs(9),n=i.MAs(11);i.Q6J("ngClass",i.VKq(14,jZ,e.eraService.isPerTeamEra)),i.xp6(1),i.Q6J("category",i.lcZ(2,8,"editor.header.era-category"))("label",i.lcZ(3,10,"editor.header.characters")),i.xp6(3),i.Q6J("formGroup",e.editorService.editorForm),i.xp6(1),i.Q6J("disabled",i.lcZ(6,12,e.editorService.editorDisabled$)),i.xp6(2),i.Q6J("ngIf",e.eraService.isFFA)("ngIfThen",t)("ngIfElse",n)}},directives:[P,uj,Ls,ns,Gs,R,lZ,I,mZ],pipes:[Fp,Z],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}[_nghost-%COMP%]{display:block;position:relative;width:100%;font-family:"Purista-Semibold",var(--font-fallback)}.characters-container[_ngcontent-%COMP%]{height:100%;background-color:#001621;background-image:linear-gradient(180deg,#0016211a 0,#001621 900px),linear-gradient(90deg,#001621 0,#0016211a 20%,#0016211a 80%,#001621),url(/2384652/assets/backgrounds/generic.jpg);background-size:2304px auto,2304px auto;background-repeat:no-repeat;background-position:top}@media only screen and (max-width:767px){.characters-container[_ngcontent-%COMP%]{background-image:linear-gradient(180deg,#00162180 0,#001621),url(/2384652/assets/backgrounds/generic.jpg);padding-top:0}}.characters-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{height:100%;width:100%;box-sizing:border-box}@media only screen and (min-width:1921px){.characters-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{max-width:1920px;margin:0 auto}}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){.characters-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{height:calc(100% - 48px)}}.characters-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}html[dir=rtl][_ngcontent-%COMP%]   .characters-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .characters-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]{direction:rtl}.header-container[_ngcontent-%COMP%]{background:#000000b3;display:flex;height:100%;height:48px}html[dir=rtl][_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]{direction:rtl}.header-container[_ngcontent-%COMP%]   .team-header[_ngcontent-%COMP%]{width:50%;display:flex;background-size:cover!important;padding:10px;align-items:center;font-family:"BFText-Regular",var(--font-fallback)}html[dir=rtl][_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .team-header[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .team-header[_ngcontent-%COMP%]{direction:rtl}@media only screen and (max-width:767px){.header-container[_ngcontent-%COMP%]   .team-header[_ngcontent-%COMP%]{font-size:20px}.header-container[_ngcontent-%COMP%]   .team-header[_ngcontent-%COMP%]   .team[_ngcontent-%COMP%]{display:none}}.header-container[_ngcontent-%COMP%]   .team-header.has-default[_ngcontent-%COMP%]{width:100%}.header-container[_ngcontent-%COMP%]   .team-header[_ngcontent-%COMP%]   .era-tag[_ngcontent-%COMP%]{padding:3px 7px 0;border:2px solid #fff}.header-container[_ngcontent-%COMP%]   .team-header[_ngcontent-%COMP%]   .team[_ngcontent-%COMP%]{padding-top:3px}.header-container[_ngcontent-%COMP%]   .team-header.team-1[_ngcontent-%COMP%]{justify-content:flex-start;background:linear-gradient(269.36deg,#26ffdf00 14.21%,#26ffdf40 51.62%),#000}html[dir=rtl][_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .team-header.team-1[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .team-header.team-1[_ngcontent-%COMP%]{background:linear-gradient(-269.36deg,#26ffdf00 14.21%,#26ffdf40 51.62%),#000}html[dir=ltr][_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .team-header.team-1[_ngcontent-%COMP%]   .team[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .team-header.team-1[_ngcontent-%COMP%]   .team[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .team-header.team-1[_ngcontent-%COMP%]   .team[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .team-header.team-1[_ngcontent-%COMP%]   .team[_ngcontent-%COMP%]{margin-left:10px}.header-container[_ngcontent-%COMP%]   .team-header.team-1[_ngcontent-%COMP%]   .era-tag[_ngcontent-%COMP%]{border-color:#26ffdf;color:#26ffdf}.header-container[_ngcontent-%COMP%]   .team-header.team-2[_ngcontent-%COMP%]{justify-content:flex-end;background:linear-gradient(90.65deg,#f330 13.92%,#ff333340 50.56%),#000}html[dir=rtl][_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .team-header.team-2[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .team-header.team-2[_ngcontent-%COMP%]{background:linear-gradient(-90.65deg,#f330 13.92%,#ff333340 50.56%),#000}html[dir=ltr][_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .team-header.team-2[_ngcontent-%COMP%]   .team[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .team-header.team-2[_ngcontent-%COMP%]   .team[_ngcontent-%COMP%]{margin-left:10px}html[dir=rtl][_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .team-header.team-2[_ngcontent-%COMP%]   .team[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .team-header.team-2[_ngcontent-%COMP%]   .team[_ngcontent-%COMP%]{margin-right:10px}.header-container[_ngcontent-%COMP%]   .team-header.team-2[_ngcontent-%COMP%]   .era-tag[_ngcontent-%COMP%]{border-color:#ff5e30;color:#ff5e30}.characters-teams-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-grow:1;background-image:linear-gradient(180deg,#091019,#202b3b);height:100%}html[dir=rtl][_ngcontent-%COMP%]   .characters-teams-container[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .characters-teams-container[_ngcontent-%COMP%]{direction:rtl}.character-options-container[_ngcontent-%COMP%]{width:100%;height:100%}@media only screen and (min-width:768px) and (max-width:1030px){.character-options-container[_ngcontent-%COMP%]{padding-top:10px;margin-bottom:20px;width:50%}}@media only screen and (max-width:767px){.character-options-container[_ngcontent-%COMP%]{width:50%}}.character-options-container.team-1[_ngcontent-%COMP%], .character-options-container.team-2[_ngcontent-%COMP%]{width:50%}.character-options-container.ffa[_ngcontent-%COMP%]{width:100%}.character-options-container.has-default[_ngcontent-%COMP%]{width:100%;background:none}.character-options-container.team-1[_ngcontent-%COMP%]{background-image:linear-gradient(180deg,#092a25,#106458)}.character-options-container.team-2[_ngcontent-%COMP%]{background-image:linear-gradient(180deg,#320909,#550d0d)}.character-options-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;padding-top:15px;padding-bottom:7px}html[dir=rtl][_ngcontent-%COMP%]   .character-options-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .character-options-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{direction:rtl}.characters-content[_ngcontent-%COMP%]{grid-gap:2px;gap:2px;margin:2px;display:grid;grid-template-columns:1fr;grid-template-rows:auto}@media only screen and (min-width:768px){.characters-content[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}@media only screen and (min-width:1456px){.characters-content[_ngcontent-%COMP%]{grid-template-columns:repeat(4,25%)}}.characters-content[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{display:flex}.characters-content.has-default[_ngcontent-%COMP%], .ffa[_ngcontent-%COMP%]   .characters-content[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}@media only screen and (min-width:768px){.characters-content.has-default[_ngcontent-%COMP%], .ffa[_ngcontent-%COMP%]   .characters-content[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}@media only screen and (min-width:1456px){.characters-content.has-default[_ngcontent-%COMP%], .ffa[_ngcontent-%COMP%]   .characters-content[_ngcontent-%COMP%]{grid-template-columns:repeat(8,1fr)}}@media only screen and (max-width:767px){.characters-content.has-default[_ngcontent-%COMP%], .ffa[_ngcontent-%COMP%]   .characters-content[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.characters-content.has-default[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%], .ffa[_ngcontent-%COMP%]   .characters-content[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{align-items:start}.has-default[_ngcontent-%COMP%]   .option.FIVE_CLASS_GRID[_ngcontent-%COMP%], .has-default[_ngcontent-%COMP%]   .option.FIVE_CLASS_GRID[_ngcontent-%COMP%]:first-child, .has-default[_ngcontent-%COMP%]   .option.FIVE_CLASS_GRID[_ngcontent-%COMP%]:nth-child(2){width:20%}.has-default[_ngcontent-%COMP%]   .option.FOUR_CLASS_GRID[_ngcontent-%COMP%]{width:25%}@media only screen and (min-width:768px) and (max-width:1030px){  app-team-header.character-options-header{font-size:15px}}@media only screen and (max-width:767px){  .characters-tab-header{display:none}  app-team-header.character-options-header{display:none}}'],changeDetection:0}),t})();function zZ(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"span",2),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.BQk()),2&t){const t=i.oxw();i.xp6(1),i.Q6J("ngClass","team-"+t.team),i.xp6(1),i.Oqu(i.lcZ(3,2,"mutators.team-"+t.team))}}let WZ=(()=>{class t{constructor(t){this.cdRef=t,this.team="1",this.showTeam=!1,this.text=""}ngOnInit(){this.cdRef.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.sBO))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-team-header"]],inputs:{team:"team",showTeam:"showTeam",text:"text"},decls:3,vars:3,consts:[[4,"ngIf"],[1,"text",3,"title"],[3,"ngClass"]],template:function(t,e){1&t&&(i.YNc(0,zZ,4,4,"ng-container",0),i.TgZ(1,"span",1),i._uU(2),i.qZA()),2&t&&(i.Q6J("ngIf",e.showTeam),i.xp6(1),i.Q6J("title",e.text),i.xp6(1),i.Oqu(e.text))},directives:[R,P],pipes:[Fp],styles:["[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}[_nghost-%COMP%]{font-size:24px;text-transform:uppercase;line-height:51px;height:50px;overflow:hidden;white-space:nowrap;display:flex}html[dir=rtl]   [_nghost-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   -shadowcsshost{direction:rtl}@media only screen and (max-width:1024px){[_nghost-%COMP%]{font-size:20px}}@media only screen and (min-width:768px) and (max-width:1030px){[_nghost-%COMP%]{font-size:17px;white-space:nowrap}}@media only screen and (max-width:767px){[_nghost-%COMP%]{font-size:13px;padding-left:7px}}.team-1[_ngcontent-%COMP%]{color:#26ffdf}html[dir=ltr][_ngcontent-%COMP%]   .team-1[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .team-1[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .team-1[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .team-1[_ngcontent-%COMP%]{margin-left:10px}@media only screen and (max-width:767px){.team-1[_ngcontent-%COMP%]{display:none}}.team-2[_ngcontent-%COMP%]{color:#ff5e30}html[dir=ltr][_ngcontent-%COMP%]   .team-2[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .team-2[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .team-2[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .team-2[_ngcontent-%COMP%]{margin-left:10px}@media only screen and (max-width:767px){.team-2[_ngcontent-%COMP%]{display:none}}.text[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis}"]}),t})();function ZZ(t,e){1&t&&(i.ynx(0),i._UZ(1,"mat-icon",10),i.ALo(2,"translate"),i.BQk()),2&t&&(i.xp6(1),i.Q6J("matTooltip",i.lcZ(2,1,"editor.package.container.requires-progress")))}const YZ=function(t,e){return[t,e]};function qZ(t,e){if(1&t){const t=i.EpF();i.ynx(0),i.TgZ(1,"div",1),i.NdJ("click",function(e){return i.CHM(t),i.oxw().onToggleValue(e)}),i.TgZ(2,"div",2),i.TgZ(3,"mat-icon",3),i.NdJ("click",function(){return i.CHM(t),i.oxw().onInfoClick()}),i.qZA(),i.TgZ(4,"div",4),i._UZ(5,"img",5),i.TgZ(6,"div",6),i.YNc(7,ZZ,3,3,"ng-container",0),i.qZA(),i.qZA(),i.TgZ(8,"div",7),i.TgZ(9,"div",8),i.ALo(10,"translate"),i.ALo(11,"translate"),i._uU(12),i.ALo(13,"translate"),i.ALo(14,"translate"),i.qZA(),i.TgZ(15,"mat-checkbox",9),i.NdJ("onClick",function(){i.CHM(t);const e=i.oxw();return e.showAlertItemLock(e.disableUnlockedItems)}),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.BQk()}if(2&t){const t=i.oxw();i.xp6(1),i.Q6J("ngClass",t.itemClass)("formGroup",t.teamFormGroup),i.xp6(4),i.Q6J("ngClass",i.WLB(18,YZ,t.itemType,null!=t.model&&t.model.isDefaultImage?"is-default":""))("src",null==t.model?null:t.model.imageSrc,i.LSH),i.xp6(2),i.Q6J("ngIf",null==t.model?null:t.model.isProgressionLocked),i.xp6(2),i.Q6J("title",(t.hasInfo?i.lcZ(10,10,t.infoTranslation)+" ":"")+i.lcZ(11,12,(null==t.model?null:t.model.label)||"")),i.xp6(3),i.AsE(" ",t.hasInfo?i.lcZ(13,14,t.infoTranslation):""," ",i.lcZ(14,16,(null==t.model?null:t.model.label)||"")," "),i.xp6(3),i.Q6J("ngClass",t.checkboxClasses)("formControlName",t.formControlName)}}function JZ(t,e){if(1&t&&(i.ynx(0),i._UZ(1,"div",11),i.BQk()),2&t){const t=i.oxw();i.xp6(1),i.Q6J("ngClass",t.itemClass)}}let $Z=(()=>{class t extends cZ{constructor(){super(...arguments),this.reenabled=new i.vpe,this.disableCategory=new i.vpe,this.detailsMeta=new i.vpe,this.isFillerItem=!1,this.model=null,this.isCategoryOff=!1,this.disableUnlockedItems=!1,this.disableLockedItems=!1,this.hasProgressionLock=!1,this.isSplitTeam=!1,this.isCollapsed=!1,this.isCollapsedToggled=!1,this.hasInfo=!1}get infoKey(){var t,e,n,i;return null===(e=null===(t=this.model)||void 0===t?void 0:t.name)||void 0===e?void 0:e.substring(0,null===(i=null===(n=this.model)||void 0===n?void 0:n.name)||void 0===i?void 0:i.indexOf(" - "))}get infoTag(){return this.formService.findTag(this.formService.allLeafTags,this.infoKey||"")}get infoTranslation(){var t,e,n,i;return(null===(i=null===(n=null===(e=null===(t=this.infoTag)||void 0===t?void 0:t.metadata)||void 0===e?void 0:e.translations)||void 0===n?void 0:n[0])||void 0===i?void 0:i.translationId)||""}get isUnlinked(){return this.isPerTeamEra||this.isSplitTeam||this.isFactionUnlinked}get useItem(){return!this.isFFA&&this.isUnlinked}get unlockedDisabledGroup(){var t,e;return!(null===(t=this.model)||void 0===t?void 0:t.isProgressionLocked)&&(null===(e=this.item)||void 0===e?void 0:e.value)}get lockedDisabledGroup(){var t,e;return(null===(t=this.model)||void 0===t?void 0:t.isProgressionLocked)&&!(null===(e=this.item)||void 0===e?void 0:e.value)}get disableChange(){return this.disableUnlockedItems&&this.unlockedDisabledGroup||this.disableLockedItems&&this.lockedDisabledGroup}get itemClass(){return{"is-selected":this.isSelected,"category-off":this.isCategoryOff,"disable-change":this.disableChange,team:this.isUnlinked,"has-default":this.hasDefault,"non-team":this.isFFA||!this.isUnlinked,"is-split-team":this.isSplitTeam,"team-1":this.isUnlinked&&!this.isTeam2,"team-2":this.isUnlinked&&this.isTeam2}}get checkboxClasses(){return{"disable-item":this.disableChange}}ngOnInit(){this.hasInfo="attachment"===this.itemType,this.disableItemChange(),this.subscribeToChanges()}ngOnChanges(t){t.hasOwnProperty("isEditorDisabled")&&!t.isEditorDisabled.firstChange&&(t.isEditorDisabled.currentValue?this.disableItemChange():this.isInitialLoad||this.enableItemChange()),t.hasOwnProperty("disableUnlockedItems")&&this.hasProgressionLock&&this.unlockedDisabledGroup&&(t.disableUnlockedItems.currentValue?(this.disableItemChange(),this.disableCategory.emit(!0)):(this.enableItemChange(),this.disableCategory.emit(!1))),t.hasOwnProperty("disableLockedItems")&&this.hasProgressionLock&&this.lockedDisabledGroup&&(t.disableLockedItems.currentValue?(this.disableItemChange(),this.disableCategory.emit(!0)):(this.enableItemChange(),this.disableCategory.emit(!1)))}subscribeToChanges(){this.isFillerItem||this.isCollapsed||setTimeout(()=>{this.clearSubscriptions(),this.isFFA?this.listenToFFAChanges():this.isUnlinked?this.listenToItemChangeOnly():this.listenToTeamChanges()},0)}listenToFFAChanges(){this.addSubscription(bp(()=>{var t,e;return null===(t=this.team1FormGroup)||void 0===t?void 0:t.valueChanges.pipe(a_(null===(e=this.team1FormGroup)||void 0===e?void 0:e.value))}).subscribe({next:t=>{var e;this.isSelected=t,this.isCategoryOff&&!this.isInitialLoad&&t&&this.reenabled.emit(),null===(e=this.team2FormGroup)||void 0===e||e.setValue(t),this.isInitialLoad?(this.isInitialLoad=!1,this.isSelected||this.isCollapsedToggled||this.emitItemChangeMeta(),this.disableChange||this.enableItemChange()):(this.emitItemChangeMeta(),this.setHasUnsavedChanges()),t||this.setHasChanges(),this.cdRef.detectChanges()}}))}listenToItemChangeOnly(){this.addSubscription(bp(()=>{var t,e;return null===(t=this.itemFormGroup)||void 0===t?void 0:t.valueChanges.pipe(a_(null===(e=this.itemFormGroup)||void 0===e?void 0:e.value))}).subscribe({next:t=>{var e,n;this.isSelected=t,this.isCategoryOff&&!this.isInitialLoad&&t&&this.reenabled.emit(),this.isInitialLoad?(this.isInitialLoad=!1,this.isSelected||this.isCollapsedToggled||this.emitItemChangeMeta(),this.disableChange||this.enableItemChange()):((null===(e=this.model)||void 0===e?void 0:e.isMultiCategories)&&(null===(n=this.item)||void 0===n||n.setValue(this.isSelected,{emitEvent:!1})),this.emitItemChangeMeta(),this.setHasUnsavedChanges()),t||this.setHasChanges(),this.cdRef.detectChanges()}}))}listenToTeamChanges(){this.addSubscription(bp(()=>{var t,e;return null===(t=this.team1FormGroup)||void 0===t?void 0:t.valueChanges.pipe(a_(null===(e=this.team1FormGroup)||void 0===e?void 0:e.value))}).subscribe({next:t=>{var e,n,i,o;this.isSelected=t,this.isCategoryOff=!this.isSelected,this.isCategoryOff&&!this.isInitialLoad&&t&&this.reenabled.emit(),this.isInitialLoad?(this.isInitialLoad=!1,t||this.isCollapsedToggled||this.emitItemChangeMeta(),this.disableChange||this.enableItemChange()):(this.isSplitTeam||((null===(e=this.model)||void 0===e?void 0:e.isMultiCategories)?(null===(n=this.team1)||void 0===n||n.setValue(t,{emitEvent:!1}),null===(i=this.team2)||void 0===i||i.setValue(t,{emitEvent:!0})):null===(o=this.team2)||void 0===o||o.setValue(t,{emitEvent:!1})),this.emitItemChangeMeta(),this.setHasUnsavedChanges()),this.isSelected||this.setHasChanges(),this.cdRef.detectChanges()}}))}onToggleValue(t){var e,n,i;this.isInitialLoad||this.isEditorDisabled||"svg"!==t.target.nodeName&&"path"!==t.target.nodeName&&((null===(n=null===(e=null==t?void 0:t.target)||void 0===e?void 0:e.className)||void 0===n?void 0:n.includes("mat-checkbox"))||(this.disableChange?this.alertItemLock(this.disableUnlockedItems):(this.isCategoryOff&&this.reenabled.emit(),this.changeValue(!this.isSelected,null===(i=this.model)||void 0===i?void 0:i.isMultiCategories))))}changeValue(t,e=!1){var n;this.isSelected!==t&&(this.setValue(t,e),null===(n=this.teamFormGroup)||void 0===n||n.controls.values.markAsDirty())}setValue(t,e=!1){var n,i,o;this.useItem?null===(n=this.item)||void 0===n||n.setValue(t,{emitEvent:e}):(null===(i=this.team1)||void 0===i||i.setValue(t,{emitEvent:e}),null===(o=this.team2)||void 0===o||o.setValue(t,{emitEvent:e})),this.isSelected=t,e||this.emitItemChangeMeta(),t||(this.setHasChanges(),this.setHasUnsavedChanges())}emitItemChangeMeta(){var t,e;this.itemChangeMeta.emit({newValue:this.isSelected,isTeam2:this.isTeam2,isFFA:this.isFFA,isProgressionLocked:null===(t=this.model)||void 0===t?void 0:t.isProgressionLocked,isMultiCategories:null===(e=this.model)||void 0===e?void 0:e.isMultiCategories})}showAlertItemLock(t){this.disableChange&&this.alertItemLock(this.disableUnlockedItems)}alertItemLock(t){return QB(this,void 0,void 0,function*(){const e=this.dialog.open(YN,{width:"512px",data:{body$:this.translateService.get(t?"editor.package.container.unlocked-item-disable-warning":"editor.package.container.locked-item-disable-warning"),title$:this.translateService.get("editor.package.container.warning-title"),confirmLabel$:this.translateService.get("generic.ok")}});return yield e.afterClosed().toPromise(),!1})}onInfoClick(){this.editorService.setDetailsModel(this.model),this.detailsMeta.emit(),this.editorService.toggleDetailsPanel(!0)}clearSubscriptions(){this.subscriptions.forEach(t=>t.unsubscribe())}ngOnDestroy(){this.clearSubscriptions()}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=i.n5z(t)))(n||t)}}(),t.\u0275cmp=i.Xpm({type:t,selectors:[["app-category-item"]],inputs:{isFillerItem:"isFillerItem",model:"model",isCategoryOff:"isCategoryOff",disableUnlockedItems:"disableUnlockedItems",disableLockedItems:"disableLockedItems",hasProgressionLock:"hasProgressionLock",isSplitTeam:"isSplitTeam",isCollapsed:"isCollapsed",isCollapsedToggled:"isCollapsedToggled"},outputs:{reenabled:"reenabled",disableCategory:"disableCategory",detailsMeta:"detailsMeta"},features:[i.qOj,i.TTD],decls:2,vars:2,consts:[[4,"ngIf"],[1,"item",3,"ngClass","formGroup","click"],["formArrayName","values",1,"values"],["svgIcon","info",1,"help-icon",3,"click"],[1,"img-wrapper"],["loading","lazy",1,"image",3,"ngClass","src"],[1,"icon-group"],[1,"info"],[1,"name",3,"title"],["color","white",1,"item-checkbox",3,"ngClass","formControlName","onClick"],["loading","lazy","svgIcon","locked","matTooltipPosition","above",1,"locked-icon",3,"matTooltip"],[1,"item","filler-item",3,"ngClass"]],template:function(t,e){1&t&&(i.YNc(0,qZ,16,21,"ng-container",0),i.YNc(1,JZ,2,1,"ng-container",0)),2&t&&(i.Q6J("ngIf",!e.isFillerItem&&e.teamFormGroup),i.xp6(1),i.Q6J("ngIf",e.isFillerItem))},directives:[R,P,ns,Gs,Ws,eE,eO,es,qs,_S],pipes:[Fp],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}[_nghost-%COMP%]{min-width:0}.item[_ngcontent-%COMP%]{position:relative;cursor:pointer;height:100%;background-color:#0009;border:2px solid #121212}@media (hover:hover){.item[_ngcontent-%COMP%]:hover{border-color:#434343}.item[_ngcontent-%COMP%]:hover   .help-icon[_ngcontent-%COMP%]{display:block}}.item.is-selected[_ngcontent-%COMP%]{background-color:#000c}.item.filler-item[_ngcontent-%COMP%]{cursor:auto;background-color:#0009}@media (hover:hover){.item.filler-item[_ngcontent-%COMP%]:hover{background-color:#0009;border-color:#121212}.item.filler-item.non-team.is-selected[_ngcontent-%COMP%]:hover{background:#0009}}.item.disable-change[_ngcontent-%COMP%]{background-image:url(/2384652/assets/images/series/disabled-BG.svg);background-size:15px 15px;background-repeat:repeat}.item[_ngcontent-%COMP%]   .help-overlay[_ngcontent-%COMP%]{padding:5px 10px;background:#000;position:absolute;width:100%;height:calc(100% - 38px);overflow:auto;top:0;display:flex;align-items:center;justify-content:center}html[dir=rtl][_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .help-overlay[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .item[_ngcontent-%COMP%]   .help-overlay[_ngcontent-%COMP%]{direction:rtl}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){.item[_ngcontent-%COMP%]   .help-overlay[_ngcontent-%COMP%]{font-size:12px}}.item[_ngcontent-%COMP%]   .help-icon[_ngcontent-%COMP%]{display:none;cursor:pointer;position:absolute;top:7px;right:7px;z-index:5}.item[_ngcontent-%COMP%]   .help-icon[_ngcontent-%COMP%]:hover     svg{fill:#faf283}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){.item[_ngcontent-%COMP%]   .help-icon[_ngcontent-%COMP%]{width:20px;display:block}}.item[_ngcontent-%COMP%]   .icon-group[_ngcontent-%COMP%]{position:absolute;bottom:10px;color:#c4c4c4}html[dir=ltr][_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .icon-group[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .item[_ngcontent-%COMP%]   .icon-group[_ngcontent-%COMP%]{right:10px}html[dir=rtl][_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .icon-group[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .item[_ngcontent-%COMP%]   .icon-group[_ngcontent-%COMP%]{left:10px}.image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);margin:0 auto;opacity:.3}@media only screen and (min-width:768px) and (max-width:1030px){.image[_ngcontent-%COMP%]{max-width:80%}}@media only screen and (max-width:767px){.image[_ngcontent-%COMP%]{max-width:65%}}.image.attachment[_ngcontent-%COMP%]{max-height:80%}.is-selected[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{opacity:1}.img-wrapper[_ngcontent-%COMP%]{position:relative;padding-bottom:calc(99 / 205 * 100%)}@media only screen and (min-width:768px){.img-wrapper[_ngcontent-%COMP%]{padding-bottom:calc(141 / 354 * 100%)}}@media only screen and (min-width:768px) and (max-width:1030px){.img-wrapper[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:20px;width:20px}}@media only screen and (max-width:767px){.img-wrapper[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:16px;width:16px}}.name[_ngcontent-%COMP%]{padding:4px 8px 4px 5px;color:#a1a1a1;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}html[dir=rtl][_ngcontent-%COMP%]   .name[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .name[_ngcontent-%COMP%]{padding:4px 5px 4px 8px}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){.name[_ngcontent-%COMP%]{font-size:12px}}.is-selected[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#fff}.info[_ngcontent-%COMP%]{background:#121212;display:flex;justify-content:space-between;align-items:center;padding:0 10px;width:100%;box-sizing:border-box}html[dir=rtl][_ngcontent-%COMP%]   .info[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .info[_ngcontent-%COMP%]{direction:rtl}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){.info[_ngcontent-%COMP%]{align-items:center}}.info[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{line-height:0}[_nghost-%COMP%]     .mat-checkbox.item-checkbox.mat-checkbox-checked .mat-checkbox-background{background:#fff}[_nghost-%COMP%]     .mat-checkbox.item-checkbox.mat-checkbox-checked.mat-checkbox-disabled .mat-checkbox-background{background-color:#686868}[_nghost-%COMP%]     .mat-checkbox.item-checkbox.mat-checkbox-disabled .mat-checkbox-background{border-color:1px solid #434343}[_nghost-%COMP%]     .mat-checkbox.item-checkbox.mat-checkbox-disabled .mat-checkbox-background:before{content:"";position:absolute;border-top:2px solid #686868;width:29px;transform:rotate(-45deg)}']}),t})();function KZ(t,e){if(1&t){const t=i.EpF();i.ynx(0),i.TgZ(1,"app-category-item",9),i.NdJ("reenabled",function(){return i.CHM(t),i.oxw(2).reenableCategory()})("itemChangeMeta",function(e){const n=i.CHM(t).index,o=i.oxw(2);return o.informItemChangeMeta(e,o.isFiltering,n===o.numberOfItems-1)})("disableCategory",function(e){return i.CHM(t),i.oxw(2).toggleCategoryDisable(e)})("detailsMeta",function(){return i.CHM(t),i.oxw(2).setDetailsMeta()}),i.qZA(),i.BQk()}if(2&t){const t=e.$implicit,n=i.oxw(2);i.xp6(1),i.Q6J("id",t.value)("itemType",n.itemType)("model",t)("isPerTeamEra",n.isPerTeamEra)("isFFA",n.isFFA)("isTeam2",n.isTeam2)("hasProgressionLock",(null==n.faction?null:n.faction.hasProgressionLock)||!1)("isCategoryOff",!n.isCategoryOn)("disableUnlockedItems",n.disableUnlockedItems)("disableLockedItems",n.disableLockedItems)("isSplitTeam",n.isSplitTeam)("isFactionUnlinked",n.isFactionUnlinked)("hasDefault",n.hasDefault)("isEditorDisabled",n.isEditorDisabled)("isCollapsed",n.isCurrentlyCollapsed)("isCollapsedToggled",n.isCollapsedToggled)}}function XZ(t,e){if(1&t&&(i.ynx(0),i._UZ(1,"app-category-item",10),i.BQk()),2&t){const t=i.oxw(3);i.xp6(1),i.Q6J("isTeam2",t.isTeam2)("isPerTeamEra",t.isPerTeamEra)("isSplitTeam",t.isSplitTeam)("isFactionUnlinked",t.isFactionUnlinked)("isFillerItem",!0)("hasDefault",t.hasDefault)}}function QZ(t,e){if(1&t&&(i.ynx(0),i.YNc(1,XZ,2,6,"ng-container",8),i.BQk()),2&t){const t=i.oxw(2);i.xp6(1),i.Q6J("ngForOf",t.Array(t.fillerRepeater).fill(1))}}function tY(t,e){if(1&t&&(i.ynx(0),i.YNc(1,KZ,2,16,"ng-container",8),i.YNc(2,QZ,2,1,"ng-container",7),i.BQk()),2&t){const t=i.oxw();i.xp6(1),i.Q6J("ngForOf",t.allItems.value),i.xp6(1),i.Q6J("ngIf",t.useFillerItem)}}const eY=function(t,e){return[t,e]},nY=function(t){return[t]},iY=function(t,e){return{numberOfActiveItems:t,numberOfItems:e}},oY=function(t,e,n){return{"disable-change":t,loading:e,disabled:n}},rY=function(t,e,n,i,o,r,s,a){return[t,e,n,i,o,r,s,a]};let sY=(()=>{class t{constructor(t,e,n,o,r,s){this.formService=t,this.translateService=e,this.editorService=n,this.store=o,this.dialog=r,this.cdRef=s,this.subscriptions=[],this.itemSubscriptions=[],this.Array=Array,this.itemChangeMeta=new i.vpe,this.isInitiallyCollapsed=!0,this.isInitiallyFiltering=!1,this.itemType="",this.allItems={},this.disableUnlockedItems=!1,this.disableLockedItems=!1,this.categoryId="",this.categoryName="",this.faction=void 0,this.isPerTeamEra=!1,this.isFactionUnlinked=!1,this.isFFA=!1,this.columnNumber=4,this.isTeam2=!1,this.isSplitTeam=!1,this.hasDefault=!1,this.isEditorDisabled=!1,this.isHandset=!1,this.isCategoryOn=!0,this.isCategoryDisabled=!1,this.numberOfItems=0,this.numberOfActiveItems=0,this.numberOfUnlockedActiveItems=0,this.allItemsOn=!1,this.allItemsOff=!1,this.isInitialLoad=!0,this.isCollapsedToggled=!1,this.hasMultiCategoriesItems=!1,this.hasChanges=!1,this.hasUnsavedChanges=!1,this.isFiltering=!1,this.isTogglingCategory=!1,this.touched=!1,this.disabled=!1,this.onChange=t=>{},this.onTouched=()=>{}}get collapsedIcon(){return this.isCollapsed?"chevron_right":"chevron_down"}get teamCategories(){return this.formService.teamFormGroup(this.categoryId)}get team1Category(){return this.formService.team1(this.categoryId)}get team2Category(){return this.formService.team2(this.categoryId)}get itemCategory(){return this.formService.item(this.categoryId,this.isTeam2)}get useItemCategory(){return!this.isFFA&&(this.isPerTeamEra||this.isSplitTeam||this.isFactionUnlinked)}get useFillerItem(){var t;return this.allItems.value&&(null===(t=this.allItems.value)||void 0===t?void 0:t.length)%this.columnNumber}get fillerRepeater(){var t;return this.columnNumber-((null===(t=this.allItems.value)||void 0===t?void 0:t.length)||this.columnNumber)%this.columnNumber}get isUnlockedDisabledSection(){var t;return(null===(t=this.faction)||void 0===t?void 0:t.hasProgressionLock)&&1===this.numberOfUnlockedActiveItems}get isLockedDisabledSection(){var t;return(null===(t=this.faction)||void 0===t?void 0:t.hasProgressionLock)&&0===this.numberOfActiveItems}get isCurrentlyCollapsed(){return void 0===this.isCollapsed?this.isInitiallyCollapsed:this.isCollapsed}get disableItems(){return this.disableUnlockedItems&&this.isUnlockedDisabledSection||this.disableLockedItems&&this.isLockedDisabledSection}ngOnInit(){this.subscribeToChanges()}ngOnChanges(t){t.hasOwnProperty("allItems")&&t.allItems.firstChange&&Boolean(t.allItems.currentValue.value)&&this.getActiveItems(),t.hasOwnProperty("isInitiallyCollapsed")&&(this.isCollapsed=this.isInitiallyCollapsed),t.hasOwnProperty("isInitiallyFiltering")&&(this.isFiltering=this.isInitiallyFiltering),t.hasOwnProperty("disableUnlockedItems")&&this.isCategoryOn&&this.isUnlockedDisabledSection&&this.toggleCategoryDisable(t.disableUnlockedItems.currentValue),t.hasOwnProperty("disableLockedItems")&&!this.isCategoryOn&&this.isLockedDisabledSection&&this.toggleCategoryDisable(t.disableLockedItems.currentValue)}getActiveItems(){var t,e;this.numberOfItems=(null===(t=this.allItems.value)||void 0===t?void 0:t.length)||0,this.numberOfActiveItems=this.numberOfItems,this.numberOfUnlockedActiveItems=0,null===(e=this.allItems.value)||void 0===e||e.forEach(({value:t,isProgressionLocked:e,isMultiCategories:n})=>{e||this.numberOfUnlockedActiveItems++,n&&!this.hasMultiCategoriesItems&&(this.hasMultiCategoriesItems=!0),n&&this.isInitiallyCollapsed&&this.listenToMultiCategoriesItem(t,e)})}toggleCategoryDisable(t){t?this.disableCategoryChange():this.enableCategoryChange()}disableCategoryChange(){var t,e,n;this.isCategoryDisabled||(this.isFFA||!(this.isSplitTeam||this.isPerTeamEra||this.isFactionUnlinked)?null===(t=this.team1Category)||void 0===t||t.disable({emitEvent:!1}):this.isTeam2?null===(e=this.team2Category)||void 0===e||e.disable({emitEvent:!1}):null===(n=this.team1Category)||void 0===n||n.disable({emitEvent:!1}),this.isCategoryDisabled=!0,this.cdRef.detectChanges())}enableCategoryChange(){var t,e,n;this.isCategoryDisabled&&(this.isFFA||!(this.isSplitTeam||this.isPerTeamEra||this.isFactionUnlinked)?null===(t=this.team1Category)||void 0===t||t.enable({emitEvent:!1}):this.isTeam2?null===(e=this.team2Category)||void 0===e||e.enable({emitEvent:!1}):null===(n=this.team1Category)||void 0===n||n.enable({emitEvent:!1}),this.isCategoryDisabled=!1,this.cdRef.detectChanges())}subscribeToChanges(){setTimeout(()=>{this.clearSubscriptions(),this.isFFA?this.listenToFFAChanges():this.isSplitTeam||this.isPerTeamEra||this.isFactionUnlinked?this.listenToItemChangeOnly():this.listenToTeamChanges()},0)}listenToFFAChanges(){this.addSubscription(bp(()=>{var t,e;return null===(t=this.team1Category)||void 0===t?void 0:t.valueChanges.pipe(a_(null===(e=this.team1Category)||void 0===e?void 0:e.value))}).subscribe({next:t=>{var e;null===(e=this.team2Category)||void 0===e||e.setValue(t,{emitEvent:!1}),this.isCategoryOn=t,this.onCategoryValueChange()}}))}listenToItemChangeOnly(){this.addSubscription(bp(()=>{var t,e;return null===(t=this.itemCategory)||void 0===t?void 0:t.valueChanges.pipe(a_(null===(e=this.itemCategory)||void 0===e?void 0:e.value))}).subscribe({next:t=>{this.isCategoryOn=t,this.onCategoryValueChange()}}))}listenToTeamChanges(){this.addSubscription(bp(()=>{var t,e;return null===(t=this.teamCategories)||void 0===t?void 0:t.valueChanges.pipe(a_(null===(e=this.teamCategories)||void 0===e?void 0:e.value))}).subscribe({next:t=>{if(t.values){const[e,n]=t.values;this.isCategoryOn=this.isTeam2?n:e,this.onCategoryValueChange()}}}))}onCategoryValueChange(){this.isInitialLoad&&(this.isCategoryOn||this.allItemsOff?this.isInitiallyCollapsed?this.emitCollapsedItemsMeta():this.finishEmittingItemsMeta({finishOverride:!0}):this.setAllItems(!1,!0)),this.cdRef.detectChanges()}emitCollapsedItemsMeta(){var t,e;this.allItems.value&&(null===(t=this.allItems.value)||void 0===t?void 0:t.length)&&(null===(e=this.allItems.value)||void 0===e||e.forEach(({value:t,isProgressionLocked:e,isMultiCategories:n},i)=>{var o;const r=null===(o=this.formService.item(t,this.isTeam2))||void 0===o?void 0:o.value;r||(this.onItemValueChange(r,e,!1),this.emitItemChangeMeta(r,e,n)),this.finishEmittingItemsMeta({index:i})}))}toggleIsCollapsed(t){var e;"svg"!==t.target.tagName&&t.target.className.length&&(null===(e=t.target.className)||void 0===e?void 0:e.includes("mat-checkbox"))||setTimeout(()=>{this.isCollapsed=!this.isCollapsed,this.isCollapsedToggled=!0,this.hasMultiCategoriesItems&&(this.isCollapsed?this.listenToAllMultiCategoriesItems():this.clearItemSubscriptions()),this.cdRef.detectChanges()},0)}listenToAllMultiCategoriesItems(){var t;null===(t=this.allItems.value)||void 0===t||t.forEach(({value:t,isProgressionLocked:e,isMultiCategories:n})=>{n&&this.listenToMultiCategoriesItem(t,e)})}listenToMultiCategoriesItem(t,e){var n;this.addItemSubscription(null===(n=bp(()=>{var e;return null===(e=this.formService.item(t,this.isTeam2))||void 0===e?void 0:e.valueChanges}))||void 0===n?void 0:n.subscribe({next:t=>{this.informItemChangeMeta({newValue:t,isTeam2:this.isTeam2,isFFA:this.isFFA,isProgressionLocked:e,isMultiCategories:!0},this.isFiltering),this.cdRef.detectChanges()}}))}toggleCategory(t,e=!1){var n;this.isCategoryOn===t||this.isEditorDisabled||(e&&!this.isTogglingCategory&&(this.isTogglingCategory=!0,this.disableCategoryChange(),this.setAllItems(t,!0),null===(n=this.itemCategory)||void 0===n||n.markAsDirty()),setTimeout(()=>{if(this.shouldStopSetAll(t))return this.isCategoryOn=!0,void this.cdRef.detectChanges();this.setCategoryValue(t),this.cdRef.detectChanges()},0))}setCategoryValue(t){var e,n,i;this.useItemCategory?null===(e=this.itemCategory)||void 0===e||e.setValue(t,{emitEvent:!1}):(null===(n=this.team1Category)||void 0===n||n.setValue(t,{emitEvent:!1}),null===(i=this.team2Category)||void 0===i||i.setValue(t,{emitEvent:!this.isFFA})),this.isCategoryOn=t}setAllItems(t,e){var n,i;this.allItems.value&&(null===(n=this.allItems.value)||void 0===n?void 0:n.length)&&(null===(i=this.allItems.value)||void 0===i||i.forEach(({value:n,isProgressionLocked:i,isMultiCategories:o},r)=>{setTimeout(()=>{if(this.shouldStopSetAll(t))return void this.finishEmittingItemsMeta({finishOverride:!0});const s=this.setItemValue(n,t,e);this.canEmitItemMeta(s)&&this.shouldEmitItemMeta(t)&&(this.onItemValueChange(t,i,!1),this.emitItemChangeMeta(t,i,o)),this.finishEmittingItemsMeta({index:r})},0)}))}shouldStopSetAll(t){return t?this.disableLockedItems&&!this.isFiltering&&this.isLockedDisabledSection:this.disableUnlockedItems&&!this.isFiltering&&this.isUnlockedDisabledSection}canEmitItemMeta(t){return this.isCollapsed&&(this.isInitialLoad||t)}shouldEmitItemMeta(t){return t&&!this.allItemsOn||!t&&!this.allItemsOff}finishEmittingItemsMeta({index:t,finishOverride:e=!1}){(t===this.numberOfItems-1||e)&&(this.isInitialLoad&&(this.isInitialLoad=!1),this.isFiltering&&this.isInitiallyCollapsed&&(this.isFiltering=!1),this.setAllItemsState(),this.cdRef.detectChanges())}reenableCategory(){this.toggleCategory(!0)}informItemChangeMeta(t,e,n){var i;this.onItemValueChange(t.newValue,t.isProgressionLocked,!0),(null===(i=this.faction)||void 0===i?void 0:i.hasProgressionLock)&&!e&&this.itemChangeMeta.emit(t),n&&!this.isInitiallyCollapsed&&(this.isFiltering=!1)}setItemValue(t,e,n){let i=!1;if(this.useItemCategory){const o=this.formService.item(t,this.isTeam2);(null==o?void 0:o.value)!==e&&(null==o||o.setValue(e,{emitEvent:n}),i=!0)}else{const o=this.formService.team1(t);(null==o?void 0:o.value)!==e&&(null==o||o.setValue(e,{emitEvent:n}),i=!0);const r=this.formService.team2(t);(null==r?void 0:r.value)!==e&&(null==r||r.setValue(e,{emitEvent:n}),i=!0)}return i&&(this.setHasChanges(),this.setHasUnsavedChanges()),i}onItemValueChange(t,e=!1,n=!0){this.updateActiveItems(t,e),n&&this.setAllItemsState(),this.cdRef.detectChanges()}updateActiveItems(t,e){this.numberOfActiveItems=t?this.numberOfActiveItems+1:this.numberOfActiveItems-1,e||(this.numberOfUnlockedActiveItems=t?this.numberOfUnlockedActiveItems+1:this.numberOfUnlockedActiveItems-1)}setAllItemsState(){this.allItemsOn=this.numberOfItems===this.numberOfActiveItems,this.allItemsOff=0===this.numberOfActiveItems,(this.allItemsOn||this.numberOfActiveItems>0)&&!this.isCategoryOn?(this.isCategoryOn=!0,this.setCategoryValue(!0)):this.allItemsOff&&this.isCategoryOn&&(this.isCategoryOn=!1,this.setCategoryValue(!1)),this.isTogglingCategory&&!this.disableItems?(this.isTogglingCategory=!1,this.enableCategoryChange()):this.disableItems?this.disableCategoryChange():this.enableCategoryChange()}emitItemChangeMeta(t,e,n){var i;(null===(i=this.faction)||void 0===i?void 0:i.hasProgressionLock)&&!this.isFiltering&&this.itemChangeMeta.emit({newValue:t,isTeam2:this.isTeam2,isFFA:this.isFFA,isProgressionLocked:e,isMultiCategories:n})}setDetailsMeta(){var t;this.editorService.setDetailsMeta({itemType:this.itemType,isTeam2:this.isTeam2,isFFA:this.isFFA,categoryName:this.categoryName,eraTag:null===(t=this.faction)||void 0===t?void 0:t.eraTag,isPerTeamEra:this.isPerTeamEra,isSplitTeam:this.isSplitTeam,isFactionUnlinked:this.isFactionUnlinked})}setHasChanges(){this.hasChanges||(this.hasChanges=!0,this.store.dispatch(this.isFFA?dL({key:this.itemType,newValue:!0}):this.isTeam2?fL({key:this.itemType,newValue:!0}):mL({key:this.itemType,newValue:!0})),this.cdRef.detectChanges())}setHasUnsavedChanges(){this.hasUnsavedChanges||(this.hasUnsavedChanges=!0,this.store.dispatch(hL({key:this.itemType,newValue:!0})),this.cdRef.detectChanges())}showAlertItemLock(){this.isCategoryDisabled&&!this.isTogglingCategory&&this.alertItemLock(this.disableUnlockedItems)}alertItemLock(t){return QB(this,void 0,void 0,function*(){const e=this.dialog.open(YN,{width:"512px",data:{body$:this.translateService.get(t?"editor.package.container.unlocked-item-disable-warning":"editor.package.container.locked-item-disable-warning"),title$:this.translateService.get("editor.package.container.warning-title"),confirmLabel$:this.translateService.get("generic.ok")}});return yield e.afterClosed().toPromise(),!1})}writeValue(t){this.isCategoryOn=t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}addSubscription(...t){this.subscriptions.push(...t)}addItemSubscription(...t){this.itemSubscriptions.push(...t)}clearSubscriptions(){this.subscriptions.forEach(t=>t.unsubscribe())}clearItemSubscriptions(){this.itemSubscriptions.forEach(t=>t.unsubscribe())}ngOnDestroy(){this.clearSubscriptions(),this.clearItemSubscriptions()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(sV),i.Y36(Bp),i.Y36(mN),i.Y36(Vp.yh),i.Y36(aT),i.Y36(i.sBO))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-category-section"]],inputs:{isInitiallyCollapsed:"isInitiallyCollapsed",isInitiallyFiltering:"isInitiallyFiltering",itemType:"itemType",allItems:"allItems",disableUnlockedItems:"disableUnlockedItems",disableLockedItems:"disableLockedItems",categoryId:"categoryId",categoryName:"categoryName",faction:"faction",isPerTeamEra:"isPerTeamEra",isFactionUnlinked:"isFactionUnlinked",isFFA:"isFFA",columnNumber:"columnNumber",isTeam2:"isTeam2",isSplitTeam:"isSplitTeam",hasDefault:"hasDefault",isEditorDisabled:"isEditorDisabled",isHandset:"isHandset"},outputs:{itemChangeMeta:"itemChangeMeta"},features:[i.TTD],decls:10,vars:37,consts:[[1,"section-header",3,"ngClass","id","click"],[1,"header"],[3,"ngClass","svgIcon"],[3,"team","showTeam","text"],[1,"items-counter"],[1,"category",3,"ngClass","checked","disabled","change","click"],[1,"options-container",3,"ngClass"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"option",3,"id","itemType","model","isPerTeamEra","isFFA","isTeam2","hasProgressionLock","isCategoryOff","disableUnlockedItems","disableLockedItems","isSplitTeam","isFactionUnlinked","hasDefault","isEditorDisabled","isCollapsed","isCollapsedToggled","reenabled","itemChangeMeta","disableCategory","detailsMeta"],[1,"option","filler-item",3,"isTeam2","isPerTeamEra","isSplitTeam","isFactionUnlinked","isFillerItem","hasDefault"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.NdJ("click",function(t){return e.toggleIsCollapsed(t)}),i.TgZ(1,"div",1),i._UZ(2,"mat-icon",2),i._UZ(3,"app-team-header",3),i.TgZ(4,"div",4),i._uU(5),i.ALo(6,"translate"),i.qZA(),i.qZA(),i.TgZ(7,"mat-checkbox",5),i.NdJ("change",function(){return e.toggleCategory(!e.isCategoryOn,!0)})("click",function(){return e.showAlertItemLock()}),i.qZA(),i.qZA(),i.TgZ(8,"div",6),i.YNc(9,tY,3,2,"ng-container",7),i.qZA()),2&t&&(i.Q6J("ngClass",i.WLB(16,eY,"use-"+e.columnNumber+"-columns",e.hasDefault?"has-default":""))("id",e.categoryId),i.xp6(2),i.Q6J("ngClass",i.VKq(19,nY,e.collapsedIcon))("svgIcon",e.collapsedIcon),i.xp6(1),i.Q6J("team",e.isTeam2?"2":"1")("showTeam",e.isPerTeamEra||e.isSplitTeam)("text",e.categoryName||e.allItems.key||""),i.xp6(2),i.hij(" ",i.xi3(6,13,"editor.package.container.items-counter",i.WLB(21,iY,e.numberOfActiveItems,e.numberOfItems))," "),i.xp6(2),i.Q6J("ngClass",i.kEZ(24,oY,e.isCategoryDisabled,e.isInitialLoad,e.isEditorDisabled))("checked",e.isCategoryOn)("disabled",e.isCategoryDisabled||e.isEditorDisabled||e.isInitialLoad),i.xp6(1),i.Q6J("ngClass",i.qlk(28,rY,e.itemType,"use-"+e.columnNumber+"-columns",e.isTeam2?"team-2":"team-1",e.hasDefault?"has-default":"",e.isPerTeamEra||e.isSplitTeam||e.isFactionUnlinked?"":"is-same-era",e.isSplitTeam?"is-split-team":"",e.isFFA?"is-ffa":"",e.isCollapsed?"":"is-open")),i.xp6(1),i.Q6J("ngIf",e.allItems.value&&!e.isCurrentlyCollapsed))},directives:[P,eE,WZ,eO,R,I,$Z],pipes:[Fp],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}[_nghost-%COMP%]{margin-left:2px;margin-right:2px}.section-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background:#000c;cursor:pointer;padding:0 16px}html[dir=rtl][_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{direction:rtl}@media (hover:hover){.section-header.use-2-columns[_ngcontent-%COMP%]:hover, .section-header.use-4-columns.has-default[_ngcontent-%COMP%]:hover{background:#00000080}.section-header.use-4-columns[_ngcontent-%COMP%]:hover{background:#ffffff1a}}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){.section-header[_ngcontent-%COMP%]{padding:0 10px 0 5px}html[dir=rtl][_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]{padding:0 5px 0 10px}}.section-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center;max-width:85%}html[dir=rtl][_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{direction:rtl}@media only screen and (max-width:767px){.section-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{max-width:80%}}.section-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#787878}html[dir=ltr][_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:10px}.section-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-icon.chevron_right[_ngcontent-%COMP%]{height:35px;width:35px}html[dir=ltr][_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-icon.chevron_right[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-icon.chevron_right[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-icon.chevron_right[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-icon.chevron_right[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-icon.chevron_right[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-icon.chevron_right[_ngcontent-%COMP%]{transform:scaleX(-1)}@media only screen and (max-width:767px){.section-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-icon.chevron_right[_ngcontent-%COMP%]{min-width:24px;height:24px;width:24px}html[dir=ltr][_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-icon.chevron_right[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-icon.chevron_right[_ngcontent-%COMP%]{margin-right:0}html[dir=rtl][_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-icon.chevron_right[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-icon.chevron_right[_ngcontent-%COMP%]{margin-left:0}}html[dir=ltr][_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-icon.chevron_down[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-icon.chevron_down[_ngcontent-%COMP%]{margin-left:10px}html[dir=rtl][_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-icon.chevron_down[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-icon.chevron_down[_ngcontent-%COMP%]{margin-right:10px}@media only screen and (max-width:767px){.section-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-icon.chevron_down[_ngcontent-%COMP%]{min-width:16px;height:20px;width:16px}html[dir=ltr][_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-icon.chevron_down[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-icon.chevron_down[_ngcontent-%COMP%]{margin-right:0}html[dir=rtl][_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-icon.chevron_down[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-icon.chevron_down[_ngcontent-%COMP%]{margin-left:0}html[dir=ltr][_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-icon.chevron_down[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-icon.chevron_down[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-icon.chevron_down[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   mat-icon.chevron_down[_ngcontent-%COMP%]{margin-right:4px}}.section-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .items-counter[_ngcontent-%COMP%]{color:#a1a1a1;font-size:20px;min-width:50px}html[dir=ltr][_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .items-counter[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .items-counter[_ngcontent-%COMP%]{margin-left:10px}html[dir=rtl][_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .items-counter[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .section-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .items-counter[_ngcontent-%COMP%]{margin-right:10px}@media only screen and (max-width:767px){.section-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .items-counter[_ngcontent-%COMP%]{display:none}}.section-header[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{line-height:0em}.options-container[_ngcontent-%COMP%]{grid-gap:2px;gap:2px;margin-top:2px}.options-container.is-open[_ngcontent-%COMP%]{margin-bottom:2px}.options-container.use-1-columns[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,1fr)}html[dir=rtl][_ngcontent-%COMP%]   .options-container.use-1-columns[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .options-container.use-1-columns[_ngcontent-%COMP%]{direction:rtl}.options-container.use-2-columns[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr)}html[dir=rtl][_ngcontent-%COMP%]   .options-container.use-2-columns[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .options-container.use-2-columns[_ngcontent-%COMP%]{direction:rtl}.options-container.use-2-columns.has-default[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.options-container.use-3-columns[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr)}html[dir=rtl][_ngcontent-%COMP%]   .options-container.use-3-columns[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .options-container.use-3-columns[_ngcontent-%COMP%]{direction:rtl}.options-container.use-3-columns.attachment[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr)}html[dir=rtl][_ngcontent-%COMP%]   .options-container.use-3-columns.attachment[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .options-container.use-3-columns.attachment[_ngcontent-%COMP%]{direction:rtl}@media only screen and (max-width:1455px){.options-container.use-3-columns.attachment[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr)}html[dir=rtl][_ngcontent-%COMP%]   .options-container.use-3-columns.attachment[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .options-container.use-3-columns.attachment[_ngcontent-%COMP%]{direction:rtl}}@media only screen and (max-width:480px){.options-container.use-3-columns.attachment[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,1fr)}html[dir=rtl][_ngcontent-%COMP%]   .options-container.use-3-columns.attachment[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .options-container.use-3-columns.attachment[_ngcontent-%COMP%]{direction:rtl}}@media only screen and (min-width:768px) and (max-width:1030px){.options-container.use-3-columns.attachment[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.options-container.use-4-columns[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr)}html[dir=rtl][_ngcontent-%COMP%]   .options-container.use-4-columns[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .options-container.use-4-columns[_ngcontent-%COMP%]{direction:rtl}@media only screen and (max-width:480px){.options-container.use-4-columns[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr)}html[dir=rtl][_ngcontent-%COMP%]   .options-container.use-4-columns[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .options-container.use-4-columns[_ngcontent-%COMP%]{direction:rtl}}@media only screen and (max-width:480px){.options-container.use-4-columns.has-default[_ngcontent-%COMP%], .options-container.use-4-columns.is-same-era[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.options-container.team-1[_ngcontent-%COMP%]{border-color:#26ffdf}.options-container.team-2[_ngcontent-%COMP%]{border-color:#ff5e30}.options-container.is-ffa[_ngcontent-%COMP%], .options-container.is-same-era[_ngcontent-%COMP%]{border-color:#262626}.option.filler-item[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{height:177px;padding:15px;background:#0009}[_nghost-%COMP%]     .mat-checkbox.category.mat-checkbox-checked .mat-checkbox-background{background:#fff}[_nghost-%COMP%]     .mat-checkbox.category.mat-checkbox-checked.mat-checkbox-disabled .mat-checkbox-background{background-color:#686868}[_nghost-%COMP%]     .mat-checkbox.category.disabled .mat-checkbox-background, [_nghost-%COMP%]     .mat-checkbox.category.loading .mat-checkbox-background, [_nghost-%COMP%]     .mat-checkbox.category.mat-checkbox-checked.disabled .mat-checkbox-background, [_nghost-%COMP%]     .mat-checkbox.category.mat-checkbox-checked.loading .mat-checkbox-background{background:#686868}[_nghost-%COMP%]     .mat-checkbox.category.disable-change .mat-checkbox-background{border-color:1px solid #434343}[_nghost-%COMP%]     .mat-checkbox.category.disable-change .mat-checkbox-background:before{content:"";position:absolute;border-top:2px solid #686868;width:29px;transform:rotate(-45deg)}[_nghost-%COMP%]     .mat-slide-toggle.enable-all .mat-slide-toggle-bar{background-color:#000;height:30px;width:48px;border-radius:0}[_nghost-%COMP%]     .mat-slide-toggle.enable-all .mat-slide-toggle-thumb-container{width:48px;top:0}[_nghost-%COMP%]     .mat-slide-toggle.enable-all.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(24px,0,0)}[_nghost-%COMP%]     .mat-slide-toggle.enable-all .mat-slide-toggle-thumb{background-color:#fff;height:30px;width:24px;border-radius:0}']}),t})();function aY(t,e){}function lY(t,e){1&t&&i.YNc(0,aY,0,0,"ng-template")}function cY(t,e){}function uY(t,e){1&t&&i.YNc(0,cY,0,0,"ng-template")}function hY(t,e){if(1&t){const t=i.EpF();i.ynx(0),i.TgZ(1,"app-category-section",10),i.NdJ("itemChangeMeta",function(e){return i.CHM(t),i.oxw(7).informItemChangeMeta(e)}),i.ALo(2,"translate"),i.qZA(),i.BQk()}if(2&t){const t=i.oxw(),e=t.index,n=t.$implicit,o=i.oxw(6);i.xp6(1),i.Q6J("itemType",o.itemType)("isInitiallyCollapsed",e>0)("allItems",n)("disableUnlockedItems",o.disableUnlockedFFAItems)("disableLockedItems",o.disableLockedFFAItems)("categoryId",o.allTypeCategories[n.key].id)("categoryName",i.lcZ(2,14,o.allTypeCategories[n.key].translation))("isPerTeamEra",o.eraService.isPerTeamEra)("isFFA",o.eraService.isFFA)("faction",o.eraService.ffaFaction)("columnNumber",o.columnNumber)("isEditorDisabled",o.isEditorDisabled)("isHandset",o.isHandset)("isInitiallyFiltering",o.isFiltering)}}function dY(t,e){if(1&t&&(i.TgZ(0,"div",9),i.YNc(1,hY,3,16,"ng-container",0),i.qZA()),2&t){const t=e.$implicit;i.xp6(1),i.Q6J("ngIf",t.value.length)}}function pY(t,e){if(1&t&&(i.ynx(0),i.YNc(1,dY,2,1,"div",8),i.ALo(2,"keyvalue"),i.BQk()),2&t){const t=i.oxw(5);i.xp6(1),i.Q6J("ngForOf",i.lcZ(2,1,t.ffaItems))}}function gY(t,e){1&t&&(i.ynx(0),i.TgZ(1,"div",11),i._UZ(2,"mat-icon",12),i.TgZ(3,"div"),i._uU(4),i.ALo(5,"translate"),i.qZA(),i.qZA(),i.BQk()),2&t&&(i.xp6(4),i.Oqu(i.lcZ(5,1,"editor.package.container.empty-warning")))}function mY(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"div",7),i.YNc(2,pY,3,3,"ng-container",0),i.YNc(3,gY,6,3,"ng-container",0),i.qZA(),i.BQk()),2&t){const t=i.oxw(4);i.xp6(2),i.Q6J("ngIf",t.numberOfFFAItems),i.xp6(1),i.Q6J("ngIf",!t.numberOfFFAItems)}}function fY(t,e){if(1&t&&i.YNc(0,mY,4,2,"ng-container",0),2&t){const t=i.oxw(3);i.Q6J("ngIf",!(null!=t.eraService.ffaFaction&&t.eraService.ffaFaction.isDefault))}}function _Y(t,e){if(1&t){const t=i.EpF();i.ynx(0),i.TgZ(1,"app-category-section",14),i.NdJ("itemChangeMeta",function(e){return i.CHM(t),i.oxw(7).informItemChangeMeta(e)}),i.ALo(2,"translate"),i.qZA(),i.BQk()}if(2&t){const t=i.oxw(),e=t.index,n=t.$implicit,o=i.oxw(6);i.xp6(1),i.Q6J("itemType",o.itemType)("isInitiallyCollapsed",e>0)("allItems",n)("disableUnlockedItems",o.disableUnlockedLinkedItems)("disableLockedItems",o.disableLockedLinkedItems)("categoryId",o.allTypeCategories[n.key].id)("categoryName",i.lcZ(2,16,o.allTypeCategories[n.key].translation))("faction",o.eraService.linkedFaction)("isPerTeamEra",o.eraService.isPerTeamEra)("isFactionUnlinked",o.isFactionUnlinked)("columnNumber",o.columnNumber)("isSplitTeam",o.isSplitTeam)("hasDefault",o.eraService.hasDefault)("isEditorDisabled",o.isEditorDisabled)("isHandset",o.isHandset)("isInitiallyFiltering",o.isFiltering)}}function bY(t,e){if(1&t&&(i.TgZ(0,"div",9),i.YNc(1,_Y,3,18,"ng-container",0),i.qZA()),2&t){const t=e.$implicit;i.xp6(1),i.Q6J("ngIf",t.value.length)}}function vY(t,e){if(1&t&&(i.ynx(0),i.YNc(1,bY,2,1,"div",8),i.ALo(2,"keyvalue"),i.BQk()),2&t){const t=i.oxw(5);i.xp6(1),i.Q6J("ngForOf",i.lcZ(2,1,t.linkedItems))}}function yY(t,e){1&t&&(i.ynx(0),i.TgZ(1,"div",11),i._UZ(2,"mat-icon",12),i.TgZ(3,"div"),i._uU(4),i.ALo(5,"translate"),i.qZA(),i.qZA(),i.BQk()),2&t&&(i.xp6(4),i.Oqu(i.lcZ(5,1,"editor.package.container.empty-warning")))}const CY=function(t,e,n){return{"team-1":t,"is-per-team-era":e,"has-default":n}};function OY(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"div",13),i.YNc(2,vY,3,3,"ng-container",0),i.YNc(3,yY,6,3,"ng-container",0),i.qZA(),i.BQk()),2&t){const t=i.oxw(4);i.xp6(1),i.Q6J("ngClass",i.kEZ(3,CY,t.eraService.isPerTeamEra||t.isFactionUnlinked,t.eraService.isPerTeamEra,null==t.eraService.team2Faction?null:t.eraService.team2Faction.isDefault)),i.xp6(1),i.Q6J("ngIf",t.numberOfLinkedItems),i.xp6(1),i.Q6J("ngIf",!t.numberOfLinkedItems)}}function TY(t,e){if(1&t){const t=i.EpF();i.ynx(0),i.TgZ(1,"app-category-section",17),i.NdJ("itemChangeMeta",function(e){return i.CHM(t),i.oxw(6).informItemChangeMeta(e)}),i.ALo(2,"translate"),i.qZA(),i.BQk()}if(2&t){const t=i.oxw(),e=t.index,n=t.$implicit,o=i.oxw(5);i.xp6(1),i.Q6J("itemType",o.itemType)("isInitiallyCollapsed",e>0)("allItems",n)("disableUnlockedItems",o.disableUnlockedLinkedItems)("disableLockedItems",o.disableLockedLinkedItems)("categoryId",o.allTypeCategories[n.key].id)("categoryName",i.lcZ(2,15,o.allTypeCategories[n.key].translation))("faction",o.eraService.linkedFaction)("isPerTeamEra",o.eraService.isPerTeamEra)("columnNumber",o.columnNumber)("isSplitTeam",o.isSplitTeam)("hasDefault",o.eraService.hasDefault)("isEditorDisabled",o.isEditorDisabled)("isHandset",o.isHandset)("isInitiallyFiltering",o.isFiltering)}}function EY(t,e){if(1&t&&(i.TgZ(0,"div",9),i.YNc(1,TY,3,17,"ng-container",0),i.qZA()),2&t){const t=e.$implicit;i.xp6(1),i.Q6J("ngIf",t.value.length)}}function SY(t,e){if(1&t){const t=i.EpF();i.ynx(0),i.TgZ(1,"app-category-section",18),i.NdJ("itemChangeMeta",function(e){return i.CHM(t),i.oxw(6).informItemChangeMeta(e)}),i.ALo(2,"translate"),i.qZA(),i.BQk()}if(2&t){const t=i.oxw(),e=t.index,n=t.$implicit,o=i.oxw(5);i.xp6(1),i.Q6J("itemType",o.itemType)("isInitiallyCollapsed",e>0)("allItems",n)("disableUnlockedItems",o.disableUnlockedTeam2Items)("disableLockedItems",o.disableLockedTeam2Items)("categoryId",o.allTypeCategories[n.key].id)("categoryName",i.lcZ(2,16,o.allTypeCategories[n.key].translation))("faction",o.eraService.linkedFaction)("isPerTeamEra",o.eraService.isPerTeamEra)("columnNumber",o.columnNumber)("isTeam2",!0)("isSplitTeam",o.isSplitTeam)("hasDefault",o.eraService.hasDefault)("isEditorDisabled",o.isEditorDisabled)("isHandset",o.isHandset)("isInitiallyFiltering",o.isFiltering)}}function wY(t,e){if(1&t&&(i.TgZ(0,"div",9),i.YNc(1,SY,3,18,"ng-container",0),i.qZA()),2&t){const t=e.$implicit;i.xp6(1),i.Q6J("ngIf",t.value.length)}}function MY(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"div",15),i.YNc(2,EY,2,1,"div",8),i.ALo(3,"keyvalue"),i.qZA(),i.TgZ(4,"div",16),i.YNc(5,wY,2,1,"div",8),i.ALo(6,"keyvalue"),i.qZA(),i.BQk()),2&t){const t=i.oxw(4);i.xp6(2),i.Q6J("ngForOf",i.lcZ(3,2,t.linkedItems)),i.xp6(3),i.Q6J("ngForOf",i.lcZ(6,4,t.linkedItems))}}function xY(t,e){if(1&t){const t=i.EpF();i.ynx(0),i.TgZ(1,"app-category-section",20),i.NdJ("itemChangeMeta",function(e){return i.CHM(t),i.oxw(7).informItemChangeMeta(e)}),i.ALo(2,"translate"),i.qZA(),i.BQk()}if(2&t){const t=i.oxw(),e=t.index,n=t.$implicit,o=i.oxw(6);i.xp6(1),i.Q6J("itemType",o.itemType)("isInitiallyCollapsed",e>0)("allItems",n)("disableUnlockedItems",o.disableUnlockedTeam2Items)("disableLockedItems",o.disableLockedTeam2Items)("categoryId",o.allTypeCategories[n.key].id)("categoryName",i.lcZ(2,16,o.allTypeCategories[n.key].translation))("faction",o.eraService.team2Faction)("isPerTeamEra",o.eraService.isPerTeamEra)("isFactionUnlinked",o.isFactionUnlinked)("columnNumber",o.columnNumber)("isTeam2",!0)("hasDefault",o.eraService.hasDefault)("isEditorDisabled",o.isEditorDisabled)("isHandset",o.isHandset)("isInitiallyFiltering",o.isFiltering)}}function PY(t,e){if(1&t&&(i.TgZ(0,"div",9),i.YNc(1,xY,3,18,"ng-container",0),i.qZA()),2&t){const t=e.$implicit;i.xp6(1),i.Q6J("ngIf",t.value.length)}}function kY(t,e){if(1&t&&(i.ynx(0),i.YNc(1,PY,2,1,"div",8),i.ALo(2,"keyvalue"),i.BQk()),2&t){const t=i.oxw(5);i.xp6(1),i.Q6J("ngForOf",i.lcZ(2,1,t.team2Items))}}function IY(t,e){1&t&&(i.ynx(0),i.TgZ(1,"div",11),i._UZ(2,"mat-icon",12),i.TgZ(3,"div"),i._uU(4),i.ALo(5,"translate"),i.qZA(),i.qZA(),i.BQk()),2&t&&(i.xp6(4),i.Oqu(i.lcZ(5,1,"editor.package.container.empty-warning")))}const AY=function(t){return{"has-default":t}};function RY(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"div",19),i.YNc(2,kY,3,3,"ng-container",0),i.YNc(3,IY,6,3,"ng-container",0),i.qZA(),i.BQk()),2&t){const t=i.oxw(4);i.xp6(1),i.Q6J("ngClass",i.VKq(3,AY,null==t.eraService.linkedFaction?null:t.eraService.linkedFaction.isDefault)),i.xp6(1),i.Q6J("ngIf",t.numberOfTeam2Items),i.xp6(1),i.Q6J("ngIf",!t.numberOfTeam2Items)}}function DY(t,e){if(1&t&&(i.YNc(0,OY,4,7,"ng-container",0),i.YNc(1,MY,7,6,"ng-container",0),i.YNc(2,RY,4,5,"ng-container",0)),2&t){const t=i.oxw(3);i.Q6J("ngIf",!(null!=t.eraService.linkedFaction&&t.eraService.linkedFaction.isDefault)&&(!t.isSplitTeam||t.isFactionUnlinked)),i.xp6(1),i.Q6J("ngIf",t.isSplitTeam&&!t.isFactionUnlinked),i.xp6(1),i.Q6J("ngIf",(t.eraService.isPerTeamEra||t.isFactionUnlinked)&&!(null!=t.eraService.team2Faction&&t.eraService.team2Faction.isDefault)&&!t.eraService.isSameFaction)}}function LY(t,e){if(1&t&&(i.TgZ(0,"form",4),i.YNc(1,uY,1,0,void 0,1),i.YNc(2,fY,1,1,"ng-template",null,5,i.W1O),i.YNc(4,DY,3,3,"ng-template",null,6,i.W1O),i.qZA()),2&t){const t=i.MAs(3),e=i.MAs(5),n=i.oxw(2);i.Q6J("formGroup",n.editorService.editorForm),i.xp6(1),i.Q6J("ngIf",n.eraService.isFFA)("ngIfThen",t)("ngIfElse",e)}}function NY(t,e){1&t&&(i.TgZ(0,"div",11),i._UZ(1,"mat-icon",12),i.TgZ(2,"div"),i._uU(3),i.ALo(4,"translate"),i.qZA(),i.qZA()),2&t&&(i.xp6(3),i.Oqu(i.lcZ(4,1,"editor.package.container.empty-warning")))}function BY(t,e){if(1&t&&(i.ynx(0),i.YNc(1,lY,1,0,void 0,1),i.YNc(2,LY,6,4,"ng-template",null,2,i.W1O),i.YNc(4,NY,5,3,"ng-template",null,3,i.W1O),i.BQk()),2&t){const t=i.MAs(3),e=i.MAs(5),n=i.oxw();i.xp6(1),i.Q6J("ngIf",n.numberOfItems)("ngIfThen",t)("ngIfElse",e)}}function FY(t,e){1&t&&(i.ynx(0),i._UZ(1,"div",21),i.BQk())}let UY=(()=>{class t{constructor(t,e,n,o){this.editorService=t,this.eraService=e,this.translateService=n,this.cdRef=o,this.itemChangeMeta=new i.vpe,this.itemType="",this.allTypeCategories={},this.isEditorDisabled=!1,this.ffaItems={},this.numberOfFFAItems=0,this.disableUnlockedFFAItems=!1,this.disableLockedFFAItems=!1,this.linkedItems={},this.numberOfLinkedItems=0,this.disableUnlockedLinkedItems=!1,this.disableLockedLinkedItems=!1,this.team2Items={},this.numberOfTeam2Items=0,this.disableUnlockedTeam2Items=!1,this.disableLockedTeam2Items=!1,this.areItemsReady=!1,this.isFactionUnlinked=!1,this.isSplitTeam=!1,this.splitTeamCheckReady=!1,this.isNarrow=!1,this.isTablet=!1,this.isHandset=!1,this.isFiltering=!1,this.splitTeamCheck=!1,this.itemChangeCheck=!1}get numberOfItems(){return this.eraService.isFFA?this.numberOfFFAItems:this.numberOfLinkedItems||this.numberOfTeam2Items}get bothHaveEra(){var t,e;return this.eraService.isPerTeamEra&&!(null===(t=this.eraService.linkedFaction)||void 0===t?void 0:t.isDefault)&&!(null===(e=this.eraService.team2Faction)||void 0===e?void 0:e.isDefault)}get isSameEra(){return this.eraService.isSameEra&&!this.isSplitTeam&&!this.isFactionUnlinked}get columnNumber(){return this.eraService.isFFA||this.isSameEra?"attachment"===this.itemType?this.isHandset?2:4:this.isTablet?3:this.isHandset?2:4:this.bothHaveEra||this.isSplitTeam||this.isFactionUnlinked&&!this.eraService.hasDefault?"attachment"===this.itemType?this.isNarrow?2:this.isHandset?1:3:this.isHandset?1:2:"attachment"===this.itemType?this.isHandset?2:4:this.isTablet?3:this.isHandset?2:4}ngOnChanges(t){t.hasOwnProperty("isSplitTeam")&&(this.cdRef.detectChanges(),t.isSplitTeam.currentValue&&(this.itemChangeCheck=!1))}informItemChangeMeta(t){this.itemChangeMeta.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(mN),i.Y36(lV),i.Y36(Bp),i.Y36(i.sBO))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-category-content"]],inputs:{itemType:"itemType",allTypeCategories:"allTypeCategories",isEditorDisabled:"isEditorDisabled",ffaItems:"ffaItems",numberOfFFAItems:"numberOfFFAItems",disableUnlockedFFAItems:"disableUnlockedFFAItems",disableLockedFFAItems:"disableLockedFFAItems",linkedItems:"linkedItems",numberOfLinkedItems:"numberOfLinkedItems",disableUnlockedLinkedItems:"disableUnlockedLinkedItems",disableLockedLinkedItems:"disableLockedLinkedItems",team2Items:"team2Items",numberOfTeam2Items:"numberOfTeam2Items",disableUnlockedTeam2Items:"disableUnlockedTeam2Items",disableLockedTeam2Items:"disableLockedTeam2Items",areItemsReady:"areItemsReady",isFactionUnlinked:"isFactionUnlinked",isSplitTeam:"isSplitTeam",splitTeamCheckReady:"splitTeamCheckReady",isNarrow:"isNarrow",isTablet:"isTablet",isHandset:"isHandset",isFiltering:"isFiltering"},outputs:{itemChangeMeta:"itemChangeMeta"},features:[i.TTD],decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],["content",""],["emptyMessage",""],[3,"formGroup"],["ffa",""],["team",""],[1,"item-options-container","ffa"],["class","options-section",4,"ngFor","ngForOf"],[1,"options-section"],[3,"itemType","isInitiallyCollapsed","allItems","disableUnlockedItems","disableLockedItems","categoryId","categoryName","isPerTeamEra","isFFA","faction","columnNumber","isEditorDisabled","isHandset","isInitiallyFiltering","itemChangeMeta"],[1,"warning"],["svgIcon","warning"],[1,"item-options-container","team",3,"ngClass"],[3,"itemType","isInitiallyCollapsed","allItems","disableUnlockedItems","disableLockedItems","categoryId","categoryName","faction","isPerTeamEra","isFactionUnlinked","columnNumber","isSplitTeam","hasDefault","isEditorDisabled","isHandset","isInitiallyFiltering","itemChangeMeta"],[1,"item-options-container","team-1","split-team"],[1,"item-options-container","team-2","split-team"],[3,"itemType","isInitiallyCollapsed","allItems","disableUnlockedItems","disableLockedItems","categoryId","categoryName","faction","isPerTeamEra","columnNumber","isSplitTeam","hasDefault","isEditorDisabled","isHandset","isInitiallyFiltering","itemChangeMeta"],[3,"itemType","isInitiallyCollapsed","allItems","disableUnlockedItems","disableLockedItems","categoryId","categoryName","faction","isPerTeamEra","columnNumber","isTeam2","isSplitTeam","hasDefault","isEditorDisabled","isHandset","isInitiallyFiltering","itemChangeMeta"],[1,"item-options-container","team","team-2","is-per-team-era",3,"ngClass"],[3,"itemType","isInitiallyCollapsed","allItems","disableUnlockedItems","disableLockedItems","categoryId","categoryName","faction","isPerTeamEra","isFactionUnlinked","columnNumber","isTeam2","hasDefault","isEditorDisabled","isHandset","isInitiallyFiltering","itemChangeMeta"],[1,"spinner-screen"]],template:function(t,e){1&t&&(i.YNc(0,BY,6,3,"ng-container",0),i.YNc(1,FY,2,0,"ng-container",0)),2&t&&(i.Q6J("ngIf",e.areItemsReady&&e.splitTeamCheckReady),i.xp6(1),i.Q6J("ngIf",!e.areItemsReady||!e.splitTeamCheckReady))},directives:[R,Ls,ns,Gs,I,sY,eE,P],pipes:[Y,Fp],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}[_nghost-%COMP%]{display:flex;min-height:500px;height:100%}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){[_nghost-%COMP%]{flex-direction:column}}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-grow:1;width:100%;background:#0009}.item-options-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;background-image:linear-gradient(180deg,#091019,#202b3b)}.item-options-container[_ngcontent-%COMP%]:before{content:"";min-height:2px;background:#262626}.item-options-container.team-1[_ngcontent-%COMP%]{background-image:linear-gradient(180deg,#092a25,#106458);width:50%}.item-options-container.team-1[_ngcontent-%COMP%]:before{background:linear-gradient(270deg,#262626 -.07%,#26ffdf 50%)}html[dir=rtl]   [_nghost-%COMP%]   .item-options-container.team-1[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#262626 -.07%,#26ffdf 50%)}.item-options-container.team-2[_ngcontent-%COMP%]{background-image:linear-gradient(180deg,#320909,#550d0d);width:50%}.item-options-container.team-2[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#262626 .07%,#ff5e30 50%)}html[dir=rtl]   [_nghost-%COMP%]   .item-options-container.team-2[_ngcontent-%COMP%]:before{background:linear-gradient(270deg,#262626 .07%,#ff5e30 50%)}.item-options-container.split-team[_ngcontent-%COMP%]{width:50%}.item-options-container.has-default[_ngcontent-%COMP%]{width:100%}.item-options-container[_ngcontent-%COMP%]   .options-section[_ngcontent-%COMP%]{display:flex;flex-direction:column}.item-options-container[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%], .warning[_ngcontent-%COMP%]{width:100%}.warning[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;flex-direction:column;color:#787878;padding-bottom:50px}.warning[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:88px;height:88px}.warning[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:20px}.spinner-screen[_ngcontent-%COMP%]{display:block;position:absolute;top:50%;left:50%;margin-top:-32px;margin-left:-32px;opacity:1;transition:opacity 1s ease-in 2s}']}),t})(),VY=(()=>{class t{constructor(){}transform(t){return lL(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Yjl({name:"getAssetPath",type:t,pure:!0}),t})();function GY(t,e){if(1&t&&(i.TgZ(0,"div",7),i.TgZ(1,"span",8),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.TgZ(4,"span",9),i._uU(5,"T1"),i.qZA(),i.TgZ(6,"span",10),i._uU(7),i.qZA(),i.qZA()),2&t){const t=i.oxw();i.xp6(2),i.hij(" ",i.lcZ(3,2,"editor.package.tab-header.team-1")," "),i.xp6(5),i.hij(" ",null==t.eraService.linkedFaction?null:t.eraService.linkedFaction.eraTag," ")}}function jY(t,e){}function HY(t,e){1&t&&i.YNc(0,jY,0,0,"ng-template")}const zY=function(t,e){return{value:t,group:e}};function WY(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"mat-option",25),i.ALo(2,"translate"),i._uU(3),i.ALo(4,"translate"),i.qZA(),i.BQk()),2&t){const t=i.oxw(2).$implicit,e=i.oxw(2);i.xp6(1),i.Q6J("value",i.WLB(7,zY,t.key,e.TYPE_GROUP))("title",i.lcZ(2,3,t.value.translation)),i.xp6(2),i.hij(" ",i.lcZ(4,5,t.value.translation)," ")}}function ZY(t,e){if(1&t&&i.YNc(0,WY,5,10,"ng-container",20),2&t){const t=i.oxw().$implicit,e=i.oxw(2);i.Q6J("ngIf",null==e.allFFAItems[t.key]?null:e.allFFAItems[t.key].length)}}function YY(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"mat-option",25),i.ALo(2,"translate"),i._uU(3),i.ALo(4,"translate"),i.qZA(),i.BQk()),2&t){const t=i.oxw(2).$implicit,e=i.oxw(2);i.xp6(1),i.Q6J("value",i.WLB(7,zY,t.key,e.TYPE_GROUP))("title",i.lcZ(2,3,t.value.translation)),i.xp6(2),i.hij(" ",i.lcZ(4,5,t.value.translation)," ")}}function qY(t,e){if(1&t&&i.YNc(0,YY,5,10,"ng-container",20),2&t){const t=i.oxw().$implicit,e=i.oxw(2);i.Q6J("ngIf",e.showFilterOption(t.key))}}function JY(t,e){if(1&t&&(i.ynx(0),i.YNc(1,HY,1,0,void 0,22),i.YNc(2,ZY,1,1,"ng-template",null,23,i.W1O),i.YNc(4,qY,1,1,"ng-template",null,24,i.W1O),i.BQk()),2&t){const t=i.MAs(3),e=i.MAs(5),n=i.oxw(2);i.xp6(1),i.Q6J("ngIf",n.eraService.isFFA)("ngIfThen",t)("ngIfElse",e)}}function $Y(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"mat-option",26),i.ALo(2,"translate"),i._uU(3),i.ALo(4,"translate"),i.qZA(),i.BQk()),2&t){const t=i.oxw().$implicit,e=i.oxw(3);i.xp6(1),i.Q6J("value",i.WLB(7,zY,t.key,e.CLASS_GROUP))("title",i.lcZ(2,3,t.value.translation)),i.xp6(2),i.hij(" ",i.lcZ(4,5,t.value.translation)," ")}}function KY(t,e){if(1&t&&(i.ynx(0),i.YNc(1,$Y,5,10,"ng-container",20),i.BQk()),2&t){const t=e.$implicit,n=i.oxw(3);i.xp6(1),i.Q6J("ngIf",n.allClasses.hasOwnProperty(t.key)&&n.allClasses[t.key].length)}}function XY(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"mat-optgroup",18),i.ALo(2,"translate"),i.YNc(3,KY,2,1,"ng-container",19),i.ALo(4,"keyvalue"),i.qZA(),i.BQk()),2&t){const t=i.oxw(2);i.xp6(1),i.Q6J("label",i.lcZ(2,2,"editor.package.tab-header.by-class")),i.xp6(2),i.Q6J("ngForOf",i.lcZ(4,4,t.allClassCategories))}}const QY=function(t){return{value:"any",group:t}},tq=function(t){return{value:"locked",group:t}},eq=function(t){return{value:"unlocked",group:t}};function nq(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"mat-optgroup",27),i.ALo(2,"translate"),i.TgZ(3,"mat-option",28),i.ALo(4,"translate"),i._uU(5),i.ALo(6,"translate"),i.qZA(),i.TgZ(7,"mat-option",28),i.ALo(8,"translate"),i._uU(9),i.ALo(10,"translate"),i.qZA(),i.TgZ(11,"mat-option",28),i.ALo(12,"translate"),i._uU(13),i.ALo(14,"translate"),i.qZA(),i.qZA(),i.BQk()),2&t){const t=i.oxw(2);i.xp6(1),i.Q6J("label",i.lcZ(2,13,"editor.package.tab-header.by-progression")),i.xp6(2),i.Q6J("value",i.VKq(27,QY,t.PROGRESSION_GROUP))("disabled",t.disableLockedOption("any"))("title",i.lcZ(4,15,"editor.package.tab-header.any")),i.xp6(2),i.hij(" ",i.lcZ(6,17,"editor.package.tab-header.any")," "),i.xp6(2),i.Q6J("value",i.VKq(29,tq,t.PROGRESSION_GROUP))("disabled",t.disableLockedOption("locked"))("title",i.lcZ(8,19,"editor.package.tab-header.progression.locked")),i.xp6(2),i.hij(" ",i.lcZ(10,21,"editor.package.tab-header.progression.locked")," "),i.xp6(2),i.Q6J("value",i.VKq(31,eq,t.PROGRESSION_GROUP))("disabled",t.disableLockedOption("unlocked"))("title",i.lcZ(12,23,"editor.package.tab-header.progression.unlocked")),i.xp6(2),i.hij(" ",i.lcZ(14,25,"editor.package.tab-header.progression.unlocked")," ")}}const iq=function(t){return{"is-active":t}};function oq(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"button",29),i.NdJ("click",function(){return i.CHM(t),i.oxw(2).toggleSplitTeam()}),i._UZ(1,"mat-icon",30),i.TgZ(2,"span"),i._uU(3),i.ALo(4,"translate"),i.qZA(),i.qZA()}if(2&t){const t=i.oxw(2);i.Q6J("ngClass",i.VKq(6,iq,t.isSplitTeam))("disabled",t.isEditorDisabled),i.xp6(1),i.Q6J("svgIcon",t.splitTeamIcon),i.xp6(2),i.hij(" ",i.lcZ(4,4,t.splitTeamInstruction)," ")}}const rq=function(t,e,n,i){return{"has-split-team":t,"team-1":e,"team-2":n,"is-active":i}},sq=function(t){return{itemType:t}};function aq(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",11),i.TgZ(1,"mat-form-field",12),i._UZ(2,"mat-icon",13),i.TgZ(3,"mat-label"),i._uU(4),i.ALo(5,"translate"),i.qZA(),i.TgZ(6,"mat-select",14,15),i.NdJ("openedChange",function(e){return i.CHM(t),i.oxw().onOpenFilter(e)})("valueChange",function(e){return i.CHM(t),i.oxw().checkProgression(e)})("selectionChange",function(e){return i.CHM(t),i.oxw().filterItemsByCategory(e)}),i.TgZ(8,"mat-select-trigger"),i._uU(9,"\xa0"),i.qZA(),i.TgZ(10,"button",16),i.NdJ("click",function(){return i.CHM(t),i.MAs(7).close()}),i._UZ(11,"img",17),i.ALo(12,"getAssetPath"),i.qZA(),i.TgZ(13,"mat-optgroup",18),i.ALo(14,"translate"),i.ALo(15,"translate"),i.YNc(16,JY,6,3,"ng-container",19),i.ALo(17,"keyvalue"),i.qZA(),i.YNc(18,XY,5,6,"ng-container",20),i.YNc(19,nq,15,33,"ng-container",20),i.qZA(),i.qZA(),i.YNc(20,oq,5,8,"button",21),i.qZA()}if(2&t){const t=i.oxw();i.Q6J("ngClass",i.l5B(21,rq,t.showSplitTeam,t.showLinkedFaction,t.showTeam2Faction,t.isSplitTeam)),i.xp6(4),i.hij(" ",i.lcZ(5,10,"editor.package.tab-header.filter")," "),i.xp6(2),i.Q6J("panelClass","category-filter-options")("disabled",t.isEditorDisabled),i.xp6(5),i.Q6J("src",i.lcZ(12,12,"assets/images/general/close.png"),i.LSH),i.xp6(2),i.Q6J("label",i.xi3(14,14,"editor.package.tab-header.by-type",i.VKq(26,sq,i.lcZ(15,17,"editor.package.item-types."+t.itemType)))),i.xp6(3),i.Q6J("ngForOf",i.lcZ(17,19,t.allTypeCategories)),i.xp6(2),i.Q6J("ngIf",t.formService.getNumberOfItems(t.allClasses)),i.xp6(1),i.Q6J("ngIf",t.eraService.has2042),i.xp6(1),i.Q6J("ngIf",t.showSplitTeam)}}function lq(t,e){if(1&t&&(i.TgZ(0,"div",31),i.TgZ(1,"span",10),i._uU(2),i.qZA(),i.TgZ(3,"span",8),i._uU(4),i.ALo(5,"translate"),i.qZA(),i.TgZ(6,"span",9),i._uU(7,"T2"),i.qZA(),i.qZA()),2&t){const t=i.oxw();i.xp6(2),i.Oqu(null==t.eraService.team2Faction?null:t.eraService.team2Faction.eraTag),i.xp6(2),i.hij(" ",i.lcZ(5,2,"editor.package.tab-header.team-2")," ")}}const cq=function(t){return[t]},uq=function(t,e,n,i,o){return{"per-team-era":t,"same-era":e,"is-ffa":n,"is-split-team":i,"has-default":o}};let hq=(()=>{class t{constructor(t,e,n,i,o,r,s,a){this.blueprintService=t,this.editorService=e,this.eraService=n,this.layoutService=i,this.formService=o,this.translateService=r,this.store=s,this.dialog=a,this.subscriptions=[],this.itemType="",this.allTypeCategories={},this.allItems={},this.allItemIds=[],this.hasFactionOnlyItems=!1,this.itemTag={},this.isEditorDisabled=!1,this.allFFAItems={},this.ffaItems={},this.ffaItemIds=[],this.allLinkedItems={},this.linkedItems={},this.linkedItemIds=[],this.allTeam2Items={},this.team2Items={},this.team2ItemIds=[],this.allClasses={},this.allClassCategories={},this.classIds=[],this.numberOfFFAItems=0,this.numberOfLinkedItems=0,this.numberOfTeam2Items=0,this.lockedFFAItems=0,this.lockedLinkedItems=0,this.lockedTeam2Items=0,this.unlockedFFAItems=0,this.unlockedLinkedItems=0,this.unlockedTeam2Items=0,this.startedFilteringByEra=!1,this.areItemsReady=!1,this.isSplitTeam=!1,this.splitTeamCheckReady=!1,this.TYPE_GROUP="TYPE",this.CLASS_GROUP="CLASS",this.PROGRESSION_GROUP="PROGRESSION",this.filterScrollTop=0,this.lockedValue="",this.isFiltering=!1}get isFactionUnlinked(){return this.hasFactionOnlyItems&&!this.eraService.isSameFaction}get showLinkedFaction(){return this.eraService.linkedFaction&&(this.eraService.isPerTeamEra||this.isSplitTeam)&&!this.eraService.linkedFaction.isDefault}get showTeam2Faction(){return this.eraService.team2Faction&&(this.eraService.isPerTeamEra||this.isSplitTeam)&&!this.eraService.team2Faction.isDefault}get shouldFilterByEra(){return!this.startedFilteringByEra&&!this.areItemsReady}get initializeTeam2Items(){return this.hasFactionOnlyItems?!this.eraService.isSameFaction:this.eraService.isPerTeamEra||this.isSplitTeam}get ffaFilterTag(){var t;return(null===(t=this.hasFactionOnlyItems?this.eraService.ffaFactionTag:this.eraService.ffaEraTag)||void 0===t?void 0:t.childrenTags)||[]}get linkedFilterTag(){var t;return(null===(t=this.hasFactionOnlyItems?this.eraService.linkedFactionTag:this.eraService.linkedEraTag)||void 0===t?void 0:t.childrenTags)||[]}get team2FilterTag(){var t;return(null===(t=this.hasFactionOnlyItems?this.eraService.team2FactionTag:this.eraService.team2EraTag)||void 0===t?void 0:t.childrenTags)||[]}get showSplitTeam(){return!this.eraService.isPerTeamEra&&!this.eraService.isFFA&&this.areItemsReady&&!this.isFactionUnlinked}get splitTeamIcon(){return this.isSplitTeam?"link":"unlink"}get splitTeamInstruction(){return"editor.package.container."+(this.isSplitTeam?"link-instruction":"unlink-instruction")}get hasFFAChanges(){return this.store.select(t=>PL(t,this.itemType))}get hasTeam1Changes(){return this.store.select(t=>kL(t,this.itemType))}get hasTeam2Changes(){return this.store.select(t=>IL(t,this.itemType))}get hasStoreChanges(){return this.eraService.isFFA?this.hasFFAChanges:this.hasTeam1Changes||this.hasTeam2Changes}get disableUnlockedFFAItems(){var t;return!!(null===(t=this.eraService.ffaFaction)||void 0===t?void 0:t.hasProgressionLock)&&!this.allSectionsAre(this.allFFAItems,!1,!1)&&1===this.unlockedFFAItems&&this.lockedFFAItems>0}get disableLockedFFAItems(){var t;return!!(null===(t=this.eraService.ffaFaction)||void 0===t?void 0:t.hasProgressionLock)&&this.allSectionsAre(this.allFFAItems,!1,!1)}get disableUnlockedLinkedItems(){var t;return!!(null===(t=this.eraService.linkedFaction)||void 0===t?void 0:t.hasProgressionLock)&&!this.allSectionsAre(this.allLinkedItems,!1,!1)&&1===this.unlockedLinkedItems&&this.lockedLinkedItems>0}get disableLockedLinkedItems(){var t;return!!(null===(t=this.eraService.linkedFaction)||void 0===t?void 0:t.hasProgressionLock)&&this.allSectionsAre(this.allLinkedItems,!1,!1)}get disableUnlockedTeam2Items(){var t;return!!(null===(t=this.eraService.team2Faction)||void 0===t?void 0:t.hasProgressionLock)&&!this.allSectionsAre(this.allTeam2Items,!0,!1)&&1===this.unlockedTeam2Items&&this.lockedTeam2Items>0}get disableLockedTeam2Items(){var t;return!!(null===(t=this.eraService.team2Faction)||void 0===t?void 0:t.hasProgressionLock)&&this.allSectionsAre(this.allTeam2Items,!0,!1)}get body(){return document.getElementsByTagName("body")[0]}get filterOptions(){return document.getElementsByClassName("category-filter-options")[0]}ngOnInit(){this.addSubscription(Hv([this.editorService.splitMutatorsFormGroupChanges$,this.eraService.erasAndFactions$]).subscribe({next:([t,[e,n,i]])=>{var o;t.hasOwnProperty("ModBuilder_GameMode")&&i&&(this.eraService.isFFA=2===(null===(o=t.ModBuilder_GameMode[`${dM.KindCase.mutatorIntValues}`])||void 0===o?void 0:o.value),e&&n&&i&&(this.eraService.setErasAndFactions(e,n,i.values),Object.keys(this.allItems).length&&this.shouldFilterByEra&&this.filterItemsByEras()))}}),this.formService.getDataByTag(this.formService.classTag$).subscribe({next:t=>{if(Object.keys(t).length){this.eraService.classTag=t.typeTag;const{allPyriteTagsMap:e={},allCategoriesMap:n={}}=t;this.allClasses=e,this.allClassCategories=n}}}),this.editorService.tagsFormGroup.valueChanges.pipe(a_(this.editorService.tagsFormGroup.value)).subscribe({next:t=>{Object.keys(t).length&&(this.eraService.isSameEra&&!this.eraService.isFFA?this.checkSplitTeam(t):this.splitTeamCheckReady||this.setSplitTeamData(!1))}}))}ngOnChanges(t){const e=Boolean(this.eraService.ffaEraTag||this.eraService.linkedEraTag&&this.eraService.team2EraTag);t.hasOwnProperty("allItems")&&Object.keys(t.allItems.currentValue).length&&e&&this.shouldFilterByEra&&this.filterItemsByEras()}checkSplitTeam(t){Object.values(this.allTypeCategories).forEach(({id:e})=>{if(t[e]&&2===t[e].values.length&&!this.splitTeamCheckReady){const[n,i]=t[e].values;n!==i&&this.setSplitTeamData(!0)}}),this.splitTeamCheckReady||Object.values(this.linkedItems).forEach(e=>{e.forEach(({value:e})=>{if(t[e]&&2===t[e].values.length&&!this.splitTeamCheckReady){const[n,i]=t[e].values;n!==i&&this.setSplitTeamData(!0)}})}),this.splitTeamCheckReady||this.setSplitTeamData(!1)}setSplitTeamData(t,e=!0){this.splitTeamCheckReady=e,this.isSplitTeam=t,this.eraService.isSameEra&&!this.eraService.isFFA&&(t?(this.allTeam2Items=this.allLinkedItems,this.team2Items=this.allTeam2Items,this.team2ItemIds=this.formService.getItemIds(this.team2Items),this.numberOfTeam2Items=this.numberOfLinkedItems,this.lockedLinkedItems=this.formService.getLockedItemsFromMapCount(this.allLinkedItems),this.lockedTeam2Items=this.lockedLinkedItems,this.unlockedLinkedItems=this.numberOfLinkedItems-this.lockedLinkedItems,this.unlockedTeam2Items=this.unlockedLinkedItems):(this.allTeam2Items={},this.team2Items={},this.team2ItemIds=[],this.numberOfTeam2Items=0,this.lockedLinkedItems=this.formService.getLockedItemsFromMapCount(this.allLinkedItems),this.lockedTeam2Items=0,this.unlockedLinkedItems=this.numberOfLinkedItems-this.lockedLinkedItems,this.unlockedTeam2Items=0))}showFilterOption(t){var e,n,i;return this.eraService.isPerTeamEra?(null===(e=this.allLinkedItems[t])||void 0===e?void 0:e.length)||(null===(n=this.allTeam2Items[t])||void 0===n?void 0:n.length):null===(i=this.allLinkedItems[t])||void 0===i?void 0:i.length}filterItemsByEras(){this.startedFilteringByEra=!0,setTimeout(()=>{var t,e;this.eraService.isFFA?(this.allFFAItems=this.formService.filterAndConvertToItemsMap(this.allItems,this.ffaFilterTag,this.itemType,this.allItemIds),this.ffaItems=this.allFFAItems,this.ffaItemIds=this.formService.getItemIds(this.ffaItems),this.numberOfFFAItems=this.formService.getNumberOfItems(this.allFFAItems),this.lockedFFAItems=this.formService.getLockedItemsFromMapCount(this.allFFAItems),this.unlockedFFAItems=this.numberOfFFAItems-this.lockedFFAItems,this.classIds=this.ffaItemIds,this.allClasses=this.formService.filterAsPyriteTagsMap(this.allClasses,this.classIds)):(0!==(null===(t=this.eraService.linkedFaction)||void 0===t?void 0:t.value)&&(this.allLinkedItems=this.formService.filterAndConvertToItemsMap(this.allItems,this.linkedFilterTag,this.itemType,this.allItemIds),this.linkedItems=this.allLinkedItems,this.linkedItemIds=this.formService.getItemIds(this.linkedItems),this.numberOfLinkedItems=this.formService.getNumberOfItems(this.allLinkedItems),this.lockedLinkedItems=this.formService.getLockedItemsFromMapCount(this.allLinkedItems),this.unlockedLinkedItems=this.numberOfLinkedItems-this.lockedLinkedItems),this.initializeTeam2Items&&this.eraService.team2Faction&&!(null===(e=this.eraService.team2Faction)||void 0===e?void 0:e.isDefault)&&(this.allTeam2Items=this.formService.filterAndConvertToItemsMap(this.allItems,this.team2FilterTag,this.itemType,this.allItemIds),this.team2Items=this.allTeam2Items,this.team2ItemIds=this.formService.getItemIds(this.team2Items),this.numberOfTeam2Items=this.formService.getNumberOfItems(this.allTeam2Items),this.lockedTeam2Items=this.formService.getLockedItemsFromMapCount(this.allTeam2Items),this.unlockedTeam2Items=this.numberOfTeam2Items-this.lockedTeam2Items),this.classIds=[...this.linkedItemIds,...this.team2ItemIds],this.allClasses=this.formService.filterAsPyriteTagsMap(this.allClasses,this.classIds)),this.areItemsReady=!0},0)}onScroll(t){var e;this.filterScrollTop=null===(e=null==t?void 0:t.target)||void 0===e?void 0:e.scrollTop}onOpenFilter(t){this.editorService.toggleClassnames(t,this.body,[this.editorService.DISABLE_SCROLLING_CLASS,this.editorService.MOBILE_ONLY]),t&&(this.filterOptions.scrollTop=0,this.filterOptions.addEventListener("scroll",this.onScroll.bind(this)))}disableLockedOption(t){return Boolean(this.lockedValue.length)&&this.lockedValue!==t}hasFilter(t,e){let n=!1;return t.forEach(({group:t})=>{t===e&&(n=!0)}),n}getAllClassFilters(t){let e=[];return t.forEach(({value:t})=>{var n;e=[...e,...(null===(n=this.formService.findChildTag(this.eraService.classTag||{},t))||void 0===n?void 0:n.childrenTags)||[]]}),e}checkProgression(t){this.hasFilter(t,this.PROGRESSION_GROUP)?t.every(({value:t,group:e})=>e!==this.PROGRESSION_GROUP||(this.lockedValue=t,!1)):this.lockedValue=""}filterItemsByCategory(t){document.getElementsByClassName("category-filter-options")[0].scrollTop=this.filterScrollTop;const e=t.value;if(this.ffaItems=this.allFFAItems,this.linkedItems=this.allLinkedItems,this.team2Items=this.allTeam2Items,this.isFiltering||(this.isFiltering=!0),e.length)if(this.eraService.isFFA){if(this.hasFilter(e,this.TYPE_GROUP)&&(this.ffaItems={},e.forEach(({value:t,group:e})=>{e===this.TYPE_GROUP&&(this.ffaItems[t]=this.allFFAItems[t])})),this.hasFilter(e,this.CLASS_GROUP)){const t=this.getAllClassFilters(e);this.ffaItems=this.formService.filterAsItemsMap(this.ffaItems,t||[])}this.hasFilter(e,this.PROGRESSION_GROUP)&&"any"!==this.lockedValue&&(this.ffaItems=this.formService.filterByProgressionLock(this.ffaItems,"locked"===this.lockedValue)),this.numberOfFFAItems=this.formService.getNumberOfItems(this.ffaItems)}else if(this.eraService.isSameEra&&!this.isFactionUnlinked){if(this.hasFilter(e,this.TYPE_GROUP)&&(this.linkedItems={},e.forEach(({value:t,group:e})=>{e===this.TYPE_GROUP&&(this.linkedItems[t]=this.allLinkedItems[t])})),this.hasFilter(e,this.CLASS_GROUP)){const t=this.getAllClassFilters(e);this.linkedItems=this.formService.filterAsItemsMap(this.linkedItems,t||[])}this.hasFilter(e,this.PROGRESSION_GROUP)&&"any"!==this.lockedValue&&(this.linkedItems=this.formService.filterByProgressionLock(this.linkedItems,"locked"===this.lockedValue)),this.numberOfLinkedItems=this.formService.getNumberOfItems(this.linkedItems)}else{if(this.hasFilter(e,this.TYPE_GROUP)&&(this.linkedItems={},this.team2Items={},e.forEach(({value:t,group:e})=>{e===this.TYPE_GROUP&&(this.linkedItems[t]=this.allLinkedItems[t]||[],this.team2Items[t]=this.allTeam2Items[t]||[])})),this.hasFilter(e,this.CLASS_GROUP)){const t=this.getAllClassFilters(e);this.linkedItems=this.formService.filterAsItemsMap(this.linkedItems,t||[]),this.team2Items=this.formService.filterAsItemsMap(this.team2Items,t||[])}this.hasFilter(e,this.PROGRESSION_GROUP)&&"any"!==this.lockedValue&&(this.linkedItems=this.formService.filterByProgressionLock(this.linkedItems,"locked"===this.lockedValue),this.team2Items=this.formService.filterByProgressionLock(this.team2Items,"locked"===this.lockedValue)),this.numberOfLinkedItems=this.formService.getNumberOfItems(this.linkedItems),this.numberOfTeam2Items=this.formService.getNumberOfItems(this.team2Items)}else this.displayAll()}displayAll(){this.eraService.isFFA?(this.ffaItems=this.allFFAItems,this.numberOfFFAItems=this.formService.getNumberOfItems(this.ffaItems)):(this.linkedItems=this.allLinkedItems,this.team2Items=this.allTeam2Items,this.numberOfLinkedItems=this.formService.getNumberOfItems(this.linkedItems),this.numberOfTeam2Items=this.formService.getNumberOfItems(this.team2Items))}toggleSplitTeam(){return QB(this,void 0,void 0,function*(){this.hasStoreChanges.pipe($g()).subscribe({next:t=>QB(this,void 0,void 0,function*(){(!this.isSplitTeam||!t||(yield this.onBeforeLinkTeam()))&&(this.setSplitTeamData(!this.isSplitTeam),this.isSplitTeam||this.matchTeam2Items())})})})}onBeforeLinkTeam(){return QB(this,void 0,void 0,function*(){const t=this.dialog.open(qN,{width:"512px",data:{body$:this.translateService.get("editor.package.container.link-warning")}});return!!(yield t.afterClosed().toPromise())})}matchTeam2Items(){Object.keys(this.allItems).forEach(t=>{var e;null===(e=this.allItems[t])||void 0===e||e.forEach(t=>{this.formService.matchTeam2Value(t.tagId||"")})}),Object.values(this.allTypeCategories).forEach(({id:t})=>{this.formService.matchTeam2Value(t)})}allSectionsAre(t,e,n){let i=!0;return Object.keys(t).forEach(t=>{var o;(null===(o=this.formService.item(this.allTypeCategories[t].id,e))||void 0===o?void 0:o.value)!==n&&(i=!1)}),i}calculateLockedState({newValue:t,isTeam2:e,isFFA:n,isProgressionLocked:i}){n?i?this.lockedFFAItems=t?this.lockedFFAItems+1:this.lockedFFAItems-1:this.unlockedFFAItems=t?this.unlockedFFAItems+1:this.unlockedFFAItems-1:e?i?this.lockedTeam2Items=t?this.lockedTeam2Items+1:this.lockedTeam2Items-1:this.unlockedTeam2Items=t?this.unlockedTeam2Items+1:this.unlockedTeam2Items-1:i?this.lockedLinkedItems=t?this.lockedLinkedItems+1:this.lockedLinkedItems-1:this.unlockedLinkedItems=t?this.unlockedLinkedItems+1:this.unlockedLinkedItems-1}addSubscription(...t){this.subscriptions.push(...t)}ngOnDestroy(){this.editorService.toggleClassnames(!1,this.body,[this.editorService.DISABLE_SCROLLING_CLASS,this.editorService.MOBILE_ONLY]),this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(kN),i.Y36(mN),i.Y36(lV),i.Y36(KN),i.Y36(sV),i.Y36(Bp),i.Y36(Vp.yh),i.Y36(aT))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-category-container"]],inputs:{itemType:"itemType",allTypeCategories:"allTypeCategories",allItems:"allItems",allItemIds:"allItemIds",hasFactionOnlyItems:"hasFactionOnlyItems",itemTag:"itemTag",eraMutator:"eraMutator",isEditorDisabled:"isEditorDisabled"},features:[i._Bn([{provide:DC,useValue:{overlayPanelClass:"category-items-filter"}}]),i.TTD],decls:11,vars:42,consts:[[1,"container",3,"ngClass"],[1,"header",3,"ngClass"],[1,"team-container"],["class","team-header team-1",4,"ngIf"],["class","settings",3,"ngClass",4,"ngIf"],["class","team-header team-2",4,"ngIf"],[3,"itemType","allTypeCategories","ffaItems","numberOfFFAItems","disableUnlockedFFAItems","disableLockedFFAItems","linkedItems","numberOfLinkedItems","disableUnlockedLinkedItems","disableLockedLinkedItems","team2Items","numberOfTeam2Items","disableUnlockedTeam2Items","disableLockedTeam2Items","areItemsReady","isFactionUnlinked","isSplitTeam","splitTeamCheckReady","isEditorDisabled","isNarrow","isTablet","isHandset","isFiltering","itemChangeMeta"],[1,"team-header","team-1"],[1,"team"],[1,"team-mobile"],[1,"era-tag"],[1,"settings",3,"ngClass"],["floatLabel","never",1,"filter-button"],["svgIcon","filter","matPrefix","",1,"filter-icon"],["overlayPanelClass","category-items-filter","floatLabel","never","disableOptionCentering","","multiple","",1,"category-filter",3,"panelClass","disabled","openedChange","valueChange","selectionChange"],["filter",""],["type","button",1,"mobile-close-button",3,"click"],[3,"src"],[3,"label"],[4,"ngFor","ngForOf"],[4,"ngIf"],["type","button","class","split-team",3,"ngClass","disabled","click",4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],["freeForAll",""],["team",""],[1,"category-filter-option","item-type",3,"value","title"],[1,"category-filter-option","class-type",3,"value","title"],["multiple","false",3,"label"],[1,"category-filter-option",3,"value","disabled","title"],["type","button",1,"split-team",3,"ngClass","disabled","click"],[3,"svgIcon"],[1,"team-header","team-2"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.YNc(3,GY,8,4,"div",3),i.qZA(),i.YNc(4,aq,21,28,"div",4),i.TgZ(5,"div",2),i.YNc(6,lq,8,4,"div",5),i.qZA(),i.qZA(),i.TgZ(7,"app-category-content",6),i.NdJ("itemChangeMeta",function(t){return e.calculateLockedState(t)}),i.ALo(8,"async"),i.ALo(9,"async"),i.ALo(10,"async"),i.qZA(),i.qZA()),2&t&&(i.Q6J("ngClass",i.VKq(34,cq,e.itemType)),i.xp6(1),i.Q6J("ngClass",i.qbA(36,uq,e.eraService.isPerTeamEra,e.eraService.isSameEra,e.eraService.isFFA,e.isSplitTeam,(null==e.eraService.linkedFaction?null:e.eraService.linkedFaction.isDefault)||(null==e.eraService.team2Faction?null:e.eraService.team2Faction.isDefault))),i.xp6(2),i.Q6J("ngIf",e.showLinkedFaction),i.xp6(1),i.Q6J("ngIf",e.areItemsReady),i.xp6(2),i.Q6J("ngIf",e.showTeam2Faction),i.xp6(1),i.Q6J("itemType",e.itemType)("allTypeCategories",e.allTypeCategories)("ffaItems",e.ffaItems)("numberOfFFAItems",e.numberOfFFAItems)("disableUnlockedFFAItems",e.disableUnlockedFFAItems)("disableLockedFFAItems",e.disableLockedFFAItems)("linkedItems",e.linkedItems)("numberOfLinkedItems",e.numberOfLinkedItems)("disableUnlockedLinkedItems",e.disableUnlockedLinkedItems)("disableLockedLinkedItems",e.disableLockedLinkedItems)("team2Items",e.team2Items)("numberOfTeam2Items",e.numberOfTeam2Items)("disableUnlockedTeam2Items",e.disableUnlockedTeam2Items)("disableLockedTeam2Items",e.disableLockedTeam2Items)("areItemsReady",e.areItemsReady)("isFactionUnlinked",e.isFactionUnlinked)("isSplitTeam",e.isSplitTeam)("splitTeamCheckReady",e.splitTeamCheckReady)("isEditorDisabled",e.isEditorDisabled)("isNarrow",!0===i.lcZ(8,28,e.layoutService.isNarrow$))("isTablet",!0===i.lcZ(9,30,e.layoutService.isTablet$))("isHandset",!0===i.lcZ(10,32,e.layoutService.isHandset$))("isFiltering",e.isFiltering))},directives:[P,R,UY,cC,eE,nC,Qy,jC,VC,W_,I,J_],pipes:[Z,Fp,VY,Y],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}[_nghost-%COMP%]{display:block;font-family:"Purista-Semibold",var(--font-fallback);height:100%}.container[_ngcontent-%COMP%]{background:#000000b3;display:flex;flex-direction:column;height:100%}.header[_ngcontent-%COMP%]{display:flex;align-items:center;background:#000c;white-space:nowrap;height:48px;justify-content:center}.header.has-default[_ngcontent-%COMP%]   .team-1[_ngcontent-%COMP%]{padding-left:20px}.header.has-default[_ngcontent-%COMP%]   .team-2[_ngcontent-%COMP%]{padding-right:20px}.header.has-default[_ngcontent-%COMP%]   .settings.team-1[_ngcontent-%COMP%]{margin-right:20px}.header.has-default[_ngcontent-%COMP%]   .settings.team-2[_ngcontent-%COMP%]{margin-left:20px}.settings[_ngcontent-%COMP%]{display:flex;align-items:center}.filter[_ngcontent-%COMP%]{max-width:88px;display:inline-block;padding:10px 2px;margin-right:5px;text-transform:uppercase;color:#ffffff80}.team-header[_ngcontent-%COMP%]{display:flex;background-color:#000;background-size:cover;padding:5px 10px;align-items:center;font-family:"BFText-Regular",var(--font-fallback)}.team-header.is-per-team-era[_ngcontent-%COMP%]{width:100%}.team-header[_ngcontent-%COMP%]   .team[_ngcontent-%COMP%]{padding-top:3px}@media only screen and (max-width:767px){.team-header[_ngcontent-%COMP%]   .team[_ngcontent-%COMP%]{display:none}}.team-header[_ngcontent-%COMP%]   .era-tag[_ngcontent-%COMP%]{padding:3px 7px 0;border:2px solid}.team-header[_ngcontent-%COMP%]   .team[_ngcontent-%COMP%]{display:none}@media only screen and (min-width:768px){.team-header[_ngcontent-%COMP%]   .team[_ngcontent-%COMP%]{display:inline}.team-header[_ngcontent-%COMP%]   .team-mobile[_ngcontent-%COMP%]{display:none}}.team-header.team-1[_ngcontent-%COMP%]   .team[_ngcontent-%COMP%], .team-header.team-1[_ngcontent-%COMP%]   .team-mobile[_ngcontent-%COMP%]{margin-top:2px}html[dir=ltr][_ngcontent-%COMP%]   .team-header.team-1[_ngcontent-%COMP%]   .team[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .team-header.team-1[_ngcontent-%COMP%]   .team-mobile[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .team-header.team-1[_ngcontent-%COMP%]   .team[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .team-header.team-1[_ngcontent-%COMP%]   .team-mobile[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .team-header.team-1[_ngcontent-%COMP%]   .team[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .team-header.team-1[_ngcontent-%COMP%]   .team-mobile[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .team-header.team-1[_ngcontent-%COMP%]   .team[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .team-header.team-1[_ngcontent-%COMP%]   .team-mobile[_ngcontent-%COMP%]{margin-left:10px}.team-header.team-1[_ngcontent-%COMP%]   .era-tag[_ngcontent-%COMP%]{border-color:#26ffdf;color:#26ffdf}.team-header.team-2[_ngcontent-%COMP%]{justify-content:end}.team-header.team-2[_ngcontent-%COMP%]   .team[_ngcontent-%COMP%], .team-header.team-2[_ngcontent-%COMP%]   .team-mobile[_ngcontent-%COMP%]{margin-top:2px}html[dir=ltr][_ngcontent-%COMP%]   .team-header.team-2[_ngcontent-%COMP%]   .team[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .team-header.team-2[_ngcontent-%COMP%]   .team-mobile[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .team-header.team-2[_ngcontent-%COMP%]   .team[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .team-header.team-2[_ngcontent-%COMP%]   .team-mobile[_ngcontent-%COMP%]{margin-left:10px}html[dir=rtl][_ngcontent-%COMP%]   .team-header.team-2[_ngcontent-%COMP%]   .team[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .team-header.team-2[_ngcontent-%COMP%]   .team-mobile[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .team-header.team-2[_ngcontent-%COMP%]   .team[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .team-header.team-2[_ngcontent-%COMP%]   .team-mobile[_ngcontent-%COMP%]{margin-right:10px}.team-header.team-2[_ngcontent-%COMP%]   .era-tag[_ngcontent-%COMP%]{border-color:#ff5e30;color:#ff5e30}.team-container[_ngcontent-%COMP%]{flex:1}.split-team[_ngcontent-%COMP%]{display:flex;cursor:pointer;justify-content:center;align-items:center;background:#0000;border:0;color:#fff;font-size:20px;text-transform:uppercase;font-family:"Purista-Semibold",var(--font-fallback);line-height:26px;padding:10px 20px}@media (hover:hover){.split-team[_ngcontent-%COMP%]:hover{background-color:#121212}}.split-team[_ngcontent-%COMP%]:active{background-color:#434343}.split-team[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{transform:rotate(90deg)}.split-team[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{visibility:hidden;position:absolute}html[dir=ltr][_ngcontent-%COMP%]   .split-team[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .split-team[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-left:12px}html[dir=rtl][_ngcontent-%COMP%]   .split-team[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .split-team[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-right:12px}@media only screen and (min-width:768px){.split-team[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{visibility:visible;position:static}}@media only screen and (max-width:767px){.split-team.is-active[_ngcontent-%COMP%]{justify-content:flex-start}}  mat-select.category-filter{border:0;background:none;font-family:"Purista-Semibold",var(--font-fallback)}  mat-select.category-filter .mat-select-trigger{z-index:20;padding:3px 16px;height:100%}@media only screen and (max-width:767px){  mat-select.category-filter .mat-select-trigger{z-index:5}}  mat-select.category-filter .mat-select-value{display:block;max-width:100%;padding-top:0}html[dir=ltr][_ngcontent-%COMP%]     mat-select.category-filter .mat-select-value, html[dir=ltr]   [_nghost-%COMP%]     mat-select.category-filter .mat-select-value{padding-right:10px}html[dir=rtl][_ngcontent-%COMP%]     mat-select.category-filter .mat-select-value, html[dir=rtl]   [_nghost-%COMP%]     mat-select.category-filter .mat-select-value{padding-left:10px}  .cdk-overlay-pane.category-items-filter{font-family:"Purista-Semibold",var(--font-fallback);left:50%!important;z-index:20}@media only screen and (max-width:767px){  .cdk-overlay-pane.category-items-filter{left:0!important;top:0!important;bottom:0!important;right:0!important;height:100vh;width:100vw;transform:none!important}}  .cdk-overlay-pane.category-items-filter .mat-optgroup-label{background-color:#262626;color:#898888}  .cdk-overlay-pane.category-items-filter .mat-select-panel-wrap{margin-top:0;z-index:5}  .cdk-overlay-pane.category-items-filter .mat-select-panel{background-color:#121212;min-width:unset;overflow-y:auto;overflow-x:hidden}  .cdk-overlay-pane.category-items-filter .category-filter-options{display:grid;grid-auto-flow:column;max-height:350px;max-width:unset;text-transform:uppercase;align-items:stretch;scrollbar-width:thin}  .cdk-overlay-pane.category-items-filter .category-filter-options::-webkit-scrollbar{width:12px}  .cdk-overlay-pane.category-items-filter .category-filter-options::-webkit-scrollbar-track{background:#0000}  .cdk-overlay-pane.category-items-filter .category-filter-options::-webkit-scrollbar-thumb{background-color:#fff3;border-radius:12px;background-clip:padding-box;border:3px solid #0000}@media only screen and (max-width:767px){  .cdk-overlay-pane.category-items-filter .category-filter-options{display:block;height:100vh;max-height:100vh;min-width:100%!important}}  .cdk-overlay-pane.category-items-filter button.mobile-close-button{display:none;position:fixed;background-color:initial;border:0;right:9px;top:13px}@media only screen and (max-width:767px){  .cdk-overlay-pane.category-items-filter button.mobile-close-button{display:block}}  .cdk-overlay-pane.category-items-filter mat-optgroup{width:100%;background-color:#121212}@media only screen and (min-width:768px){  .cdk-overlay-pane.category-items-filter mat-optgroup+mat-optgroup{border-left:1px solid #434343}html[dir=rtl][_ngcontent-%COMP%]     .cdk-overlay-pane.category-items-filter mat-optgroup+mat-optgroup, html[dir=rtl]   [_nghost-%COMP%]     .cdk-overlay-pane.category-items-filter mat-optgroup+mat-optgroup{border-right:1px solid #434343;border-left:none}}  .cdk-overlay-pane.category-items-filter .mat-select-value{display:block;max-width:100%;padding-top:0}html[dir=ltr][_ngcontent-%COMP%]     .cdk-overlay-pane.category-items-filter .mat-select-value, html[dir=ltr]   [_nghost-%COMP%]     .cdk-overlay-pane.category-items-filter .mat-select-value{padding-right:10px}html[dir=rtl][_ngcontent-%COMP%]     .cdk-overlay-pane.category-items-filter .mat-select-value, html[dir=rtl]   [_nghost-%COMP%]     .cdk-overlay-pane.category-items-filter .mat-select-value{padding-left:10px}']}),t})(),dq=(()=>{class t{constructor(t,e,n,i){this.editorService=t,this.eraService=e,this.formService=n,this.translateService=i,this.subscriptions=[],this.allWeapons={},this.allWeaponCategories={},this.allWeaponIds=[],this.addSubscription(this.formService.getDataByTag(this.formService.weaponTag$).subscribe({next:t=>{if(Object.keys(t).length){const{allPyriteTagsMap:e={},allCategoriesMap:n={},allItemIds:i=[]}=t;this.allWeapons=e,this.allWeaponCategories=n,this.allWeaponIds=i}}}))}addSubscription(...t){this.subscriptions.push(...t)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(mN),i.Y36(lV),i.Y36(sV),i.Y36(Bp))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-weapons"]],decls:11,vars:23,consts:[[1,"weapons-container"],[1,"weapons-tab-header",3,"category","label"],[1,"editor",3,"formGroup"],[3,"disabled"],[3,"itemType","allTypeCategories","allItems","allItemIds","itemTag","eraMutator","isEditorDisabled"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i._UZ(1,"app-playground-tab-header",1),i.ALo(2,"translate"),i.ALo(3,"translate"),i.TgZ(4,"form",2),i.TgZ(5,"fieldset",3),i.ALo(6,"async"),i._UZ(7,"app-category-container",4),i.ALo(8,"async"),i.ALo(9,"async"),i.ALo(10,"async"),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(1),i.Q6J("category",i.lcZ(2,11,"editor.header.era-category"))("label",i.lcZ(3,13,"editor.header.weapons")),i.xp6(3),i.Q6J("formGroup",e.editorService.editorForm),i.xp6(1),i.Q6J("disabled",i.lcZ(6,15,e.editorService.editorDisabled$)),i.xp6(2),i.Q6J("itemType","weapon")("allTypeCategories",e.allWeaponCategories)("allItems",e.allWeapons)("allItemIds",e.allWeaponIds)("itemTag",i.lcZ(8,17,e.formService.weaponTag$))("eraMutator",i.lcZ(9,19,e.editorService.mutatorEras$))("isEditorDisabled",!0===i.lcZ(10,21,e.editorService.editorDisabled$)))},directives:[uj,Ls,ns,Gs,hq],pipes:[Fp,Z],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}[_nghost-%COMP%]{display:flex;flex:1 0 auto;position:relative;width:100%;font-family:"Purista-Semibold",var(--font-fallback)}form[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;height:calc(100% - var(--restrictions-header-height))}@media only screen and (min-width:1921px){form[_ngcontent-%COMP%]{max-width:1920px;margin:0 auto}}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){form[_ngcontent-%COMP%]{height:100%}}form[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]{height:100%}.weapons-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#001621;background-image:linear-gradient(180deg,#0016211a 0,#001621 900px),linear-gradient(90deg,#001621 0,#0016211a 20%,#0016211a 80%,#001621),url(/2384652/assets/backgrounds/generic.jpg);background-size:2304px auto,2304px auto;background-repeat:no-repeat;background-position:top}@media only screen and (max-width:767px){.weapons-container[_ngcontent-%COMP%]{background-image:linear-gradient(180deg,#00162180 0,#001621),url(/2384652/assets/backgrounds/generic.jpg)}}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){  app-playground-tab-header.weapons-tab-header{display:none}}']}),t})(),pq=(()=>{class t{constructor(t,e,n,i){this.editorService=t,this.eraService=e,this.formService=n,this.translateService=i,this.subscriptions=[],this.allVehicles={},this.allVehicleCategories={},this.allVehicleIds=[],this.addSubscription(this.formService.getDataByTag(this.formService.vehicleTag$).subscribe({next:t=>{if(Object.keys(t).length){const{allPyriteTagsMap:e={},allCategoriesMap:n={},allItemIds:i=[]}=t;this.allVehicleCategories=n,this.allVehicles=e,this.allVehicleIds=i}}}))}addSubscription(...t){this.subscriptions.push(...t)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(mN),i.Y36(lV),i.Y36(sV),i.Y36(Bp))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-vehicles"]],decls:11,vars:24,consts:[[1,"vehicles-container"],[1,"vehicles-tab-header",3,"category","label"],[1,"editor",3,"formGroup"],[3,"disabled"],[3,"itemType","allTypeCategories","allItems","allItemIds","hasFactionOnlyItems","itemTag","eraMutator","isEditorDisabled"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i._UZ(1,"app-playground-tab-header",1),i.ALo(2,"translate"),i.ALo(3,"translate"),i.TgZ(4,"form",2),i.TgZ(5,"fieldset",3),i.ALo(6,"async"),i._UZ(7,"app-category-container",4),i.ALo(8,"async"),i.ALo(9,"async"),i.ALo(10,"async"),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(1),i.Q6J("category",i.lcZ(2,12,"editor.header.era-category"))("label",i.lcZ(3,14,"editor.header.vehicles")),i.xp6(3),i.Q6J("formGroup",e.editorService.editorForm),i.xp6(1),i.Q6J("disabled",i.lcZ(6,16,e.editorService.editorDisabled$)),i.xp6(2),i.Q6J("itemType","vehicle")("allTypeCategories",e.allVehicleCategories)("allItems",e.allVehicles)("allItemIds",e.allVehicleIds)("hasFactionOnlyItems",!0)("itemTag",i.lcZ(8,18,e.formService.vehicleTag$))("eraMutator",i.lcZ(9,20,e.editorService.mutatorEras$))("isEditorDisabled",!0===i.lcZ(10,22,e.editorService.editorDisabled$)))},directives:[uj,Ls,ns,Gs,hq],pipes:[Fp,Z],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}[_nghost-%COMP%]{display:flex;flex:1 0 auto;position:relative;width:100%;font-family:"Purista-Semibold",var(--font-fallback)}form[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;height:calc(100% - var(--restrictions-header-height))}@media only screen and (min-width:1921px){form[_ngcontent-%COMP%]{max-width:1920px;margin:0 auto}}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){form[_ngcontent-%COMP%]{height:100%}}form[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]{height:100%}.vehicles-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#001621;background-image:linear-gradient(180deg,#0016211a 0,#001621 900px),linear-gradient(90deg,#001621 0,#0016211a 20%,#0016211a 80%,#001621),url(/2384652/assets/backgrounds/generic.jpg);background-size:2304px auto,2304px auto;background-repeat:no-repeat;background-position:top}@media only screen and (max-width:767px){.vehicles-container[_ngcontent-%COMP%]{background-image:linear-gradient(180deg,#00162180 0,#001621),url(/2384652/assets/backgrounds/generic.jpg)}}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){  app-playground-tab-header.vehicles-tab-header{display:none}}']}),t})(),gq=(()=>{class t{constructor(t,e,n,i){this.editorService=t,this.eraService=e,this.formService=n,this.translateService=i,this.subscriptions=[],this.allGadgets={},this.allGadgetCategories={},this.allGadgetIds=[],this.addSubscription(this.formService.getDataByTag(this.formService.gadgetTag$).subscribe({next:t=>{if(Object.keys(t).length){const{allPyriteTagsMap:e={},allCategoriesMap:n={},allItemIds:i=[]}=t;this.allGadgetCategories=n,this.allGadgets=e,this.allGadgetIds=i}}}))}addSubscription(...t){this.subscriptions.push(...t)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(mN),i.Y36(lV),i.Y36(sV),i.Y36(Bp))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-gadgets"]],decls:11,vars:23,consts:[[1,"gadgets-container"],[1,"gadgets-tab-header",3,"category","label"],[1,"editor",3,"formGroup"],[3,"disabled"],[3,"itemType","allTypeCategories","allItems","allItemIds","itemTag","eraMutator","isEditorDisabled"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i._UZ(1,"app-playground-tab-header",1),i.ALo(2,"translate"),i.ALo(3,"translate"),i.TgZ(4,"form",2),i.TgZ(5,"fieldset",3),i.ALo(6,"async"),i._UZ(7,"app-category-container",4),i.ALo(8,"async"),i.ALo(9,"async"),i.ALo(10,"async"),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(1),i.Q6J("category",i.lcZ(2,11,"editor.header.era-category"))("label",i.lcZ(3,13,"editor.header.gadgets")),i.xp6(3),i.Q6J("formGroup",e.editorService.editorForm),i.xp6(1),i.Q6J("disabled",i.lcZ(6,15,e.editorService.editorDisabled$)),i.xp6(2),i.Q6J("itemType","gadget")("allTypeCategories",e.allGadgetCategories)("allItems",e.allGadgets)("allItemIds",e.allGadgetIds)("itemTag",i.lcZ(8,17,e.formService.gadgetTag$))("eraMutator",i.lcZ(9,19,e.editorService.mutatorEras$))("isEditorDisabled",!0===i.lcZ(10,21,e.editorService.editorDisabled$)))},directives:[uj,Ls,ns,Gs,hq],pipes:[Fp,Z],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}[_nghost-%COMP%]{display:flex;flex:1 0 auto;position:relative;width:100%;font-family:"Purista-Semibold",var(--font-fallback)}form[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;height:calc(100% - var(--restrictions-header-height))}@media only screen and (min-width:1921px){form[_ngcontent-%COMP%]{max-width:1920px;margin:0 auto}}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){form[_ngcontent-%COMP%]{height:100%}}form[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]{height:100%}.gadgets-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#001621;background-image:linear-gradient(180deg,#0016211a 0,#001621 900px),linear-gradient(90deg,#001621 0,#0016211a 20%,#0016211a 80%,#001621),url(/2384652/assets/backgrounds/generic.jpg);background-size:2304px auto,2304px auto;background-repeat:no-repeat;background-position:top}@media only screen and (max-width:767px){.gadgets-container[_ngcontent-%COMP%]{background-image:linear-gradient(180deg,#00162180 0,#001621),url(/2384652/assets/backgrounds/generic.jpg)}}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){  app-playground-tab-header.gadgets-tab-header{display:none}}']}),t})(),mq=(()=>{class t{constructor(t,e,n,i){this.editorService=t,this.eraService=e,this.formService=n,this.translateService=i,this.subscriptions=[],this.allAttachments={},this.allAttachmentCategories={},this.allAttachmentIds=[],this.addSubscription(this.formService.getDataByTag(this.formService.attachmentTag$).subscribe({next:t=>{if(Object.keys(t).length){const{allPyriteTagsMap:e={},allCategoriesMap:n={},allItemIds:i=[]}=t;this.allAttachmentCategories=n,this.allAttachments=e,this.allAttachmentIds=i}}}))}addSubscription(...t){this.subscriptions.push(...t)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(mN),i.Y36(lV),i.Y36(sV),i.Y36(Bp))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-attachments"]],decls:11,vars:23,consts:[[1,"attachments-container"],[1,"attachments-tab-header",3,"category","label"],[1,"editor",3,"formGroup"],[3,"disabled"],[3,"itemType","allTypeCategories","allItems","allItemIds","itemTag","eraMutator","isEditorDisabled"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i._UZ(1,"app-playground-tab-header",1),i.ALo(2,"translate"),i.ALo(3,"translate"),i.TgZ(4,"form",2),i.TgZ(5,"fieldset",3),i.ALo(6,"async"),i._UZ(7,"app-category-container",4),i.ALo(8,"async"),i.ALo(9,"async"),i.ALo(10,"async"),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(1),i.Q6J("category",i.lcZ(2,11,"editor.header.era-category"))("label",i.lcZ(3,13,"editor.header.attachments")),i.xp6(3),i.Q6J("formGroup",e.editorService.editorForm),i.xp6(1),i.Q6J("disabled",i.lcZ(6,15,e.editorService.editorDisabled$)),i.xp6(2),i.Q6J("itemType","attachment")("allTypeCategories",e.allAttachmentCategories)("allItems",e.allAttachments)("allItemIds",e.allAttachmentIds)("itemTag",i.lcZ(8,17,e.formService.attachmentTag$))("eraMutator",i.lcZ(9,19,e.editorService.mutatorEras$))("isEditorDisabled",!0===i.lcZ(10,21,e.editorService.editorDisabled$)))},directives:[uj,Ls,ns,Gs,hq],pipes:[Fp,Z],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}[_nghost-%COMP%]{display:flex;flex:1 0 auto;position:relative;width:100%;font-family:"Purista-Semibold",var(--font-fallback)}form[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;height:calc(100% - var(--restrictions-header-height))}@media only screen and (min-width:1921px){form[_ngcontent-%COMP%]{max-width:1920px;margin:0 auto}}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){form[_ngcontent-%COMP%]{height:100%}}form[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]{height:100%}.attachments-container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#001621;background-image:linear-gradient(180deg,#0016211a 0,#001621 900px),linear-gradient(90deg,#001621 0,#0016211a 20%,#0016211a 80%,#001621),url(/2384652/assets/backgrounds/generic.jpg);background-size:2304px auto,2304px auto;background-repeat:no-repeat;background-position:top}@media only screen and (max-width:767px){.attachments-container[_ngcontent-%COMP%]{background-image:linear-gradient(180deg,#00162180 0,#001621),url(/2384652/assets/backgrounds/generic.jpg)}}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){.attachments-container[_ngcontent-%COMP%]{padding-top:0}}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){  app-playground-tab-header.attachments-tab-header{display:none}}']}),t})();const fq=function(){return[]};function _q(t,e){if(1&t&&(i.ynx(0,5),i.ynx(1,6),i.TgZ(2,"div",7),i._uU(3),i.qZA(),i.TgZ(4,"div",8),i.TgZ(5,"mat-checkbox",9),i._uU(6,"Team 1"),i.qZA(),i.TgZ(7,"mat-checkbox",10),i._uU(8,"Team 2"),i.qZA(),i.qZA(),i.TgZ(9,"div",11),i._uU(10),i.qZA(),i.BQk(),i.BQk()),2&t){const t=i.oxw().$implicit;i.Q6J("formGroupName",t.tagId),i.xp6(3),i.Oqu(t.name),i.xp6(7),i.hij(" ",(t.childrenTags||i.DdM(3,fq)).join(", ")," ")}}function bq(t,e){if(1&t&&(i.TgZ(0,"mat-list-item",3),i.YNc(1,_q,11,4,"ng-container",4),i.qZA()),2&t){const t=e.$implicit,n=i.oxw();i.xp6(1),i.Q6J("ngIf",t.tagId&&n.editorService.tagsFormGroup.contains(t.tagId))}}let vq=(()=>{class t{constructor(t,e){this.blueprintService=t,this.editorService=e}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(kN),i.Y36(mN))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-package-debug"]],decls:6,vars:4,consts:[[3,"formGroup"],["formGroupName","tags"],["class","tag-item",4,"ngFor","ngForOf"],[1,"tag-item"],[3,"formGroupName",4,"ngIf"],[3,"formGroupName"],["formArrayName","values"],[1,"name"],[1,"options"],["formControlName","0"],["formControlName","1"],[1,"categories"]],template:function(t,e){1&t&&(i.TgZ(0,"h1"),i._uU(1,"Debug"),i.qZA(),i.TgZ(2,"form",0),i.TgZ(3,"mat-list",1),i.YNc(4,bq,2,1,"mat-list-item",2),i.ALo(5,"async"),i.qZA(),i.qZA()),2&t&&(i.xp6(2),i.Q6J("formGroup",e.editorService.editorForm),i.xp6(2),i.Q6J("ngForOf",i.lcZ(5,2,e.blueprintService.assetCategoryLeafTags$)))},directives:[Ls,ns,Gs,Ey,Hs,I,My,R,Ws,eO,es,qs],pipes:[Z],styles:[".tag-item[_ngcontent-%COMP%]{border-bottom:1px solid #ffffff1a}.tag-item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{width:300px}.tag-item[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]   .mat-checkbox[_ngcontent-%COMP%]{margin-right:32px}.tag-item[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]{margin-left:32px;font-size:12px;color:#ffffffb3}"]}),t})();function yq(t,e){}function Cq(t,e){1&t&&i.YNc(0,yq,0,0,"ng-template")}function Oq(t,e){if(1&t&&(i.ynx(0,12),i._UZ(1,"app-mutator",13),i.ALo(2,"async"),i.BQk()),2&t){const t=e.ngIf,n=i.oxw().$implicit,o=i.oxw(2);i.Q6J("ngSwitch",o.getKindIndex(n.kind)),i.xp6(1),i.Q6J("mutator",n)("control",t)("isDisabled",!0===i.lcZ(2,4,o.editorService.editorDisabled$))}}function Tq(t,e){if(1&t&&(i.ynx(0),i.YNc(1,Oq,3,6,"ng-container",11),i.BQk()),2&t){const t=e.$implicit,n=i.oxw(2);i.xp6(1),i.Q6J("ngIf",n.mutatorsFormGroup.get(t.name||""))}}function Eq(t,e){if(1&t&&(i.TgZ(0,"div",9),i.YNc(1,Tq,2,1,"ng-container",10),i.qZA()),2&t){const t=i.oxw();i.xp6(1),i.Q6J("ngForOf",t.panelData)}}function Sq(t,e){if(1&t&&(i.ynx(0),i._UZ(1,"app-mutator",13),i.ALo(2,"async"),i.BQk()),2&t){const t=e.ngIf,n=i.oxw().$implicit,o=i.oxw(4);i.xp6(1),i.Q6J("mutator",n)("control",t)("isDisabled",!0===i.lcZ(2,3,o.editorService.editorDisabled$))}}function wq(t,e){if(1&t&&(i.ynx(0),i.YNc(1,Sq,3,5,"ng-container",14),i.BQk()),2&t){const t=e.$implicit,n=i.oxw(4);i.xp6(1),i.Q6J("ngIf",n.mutatorsFormGroup.get(t.name||""))}}function Mq(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"div",9),i.YNc(2,wq,2,1,"ng-container",10),i.qZA(),i.BQk()),2&t){const t=i.oxw().$implicit;i.xp6(2),i.Q6J("ngForOf",t)}}function xq(t,e){if(1&t&&(i.ynx(0),i.YNc(1,Mq,3,1,"ng-container",14),i.BQk()),2&t){const t=e.$implicit,n=e.index;i.xp6(1),i.Q6J("ngIf",t.length>0&&0===n)}}function Pq(t,e){if(1&t&&i.YNc(0,xq,2,1,"ng-container",10),2&t){const t=i.oxw();i.Q6J("ngForOf",t.multiPanelData)}}const kq=Sm.get("editor","general");let Iq=(()=>{class t{constructor(t){this.editorService=t,this.AvailableMutatorKind=dM,this.FormGroup=ws,this.className="",this.isMultiPanel=!1,this.editorForm=this.editorService.editorForm,this.mutatorsFormGroup=this.editorService.mutatorsFormGroup,this.panelData=[],this.multiPanelData=[[{name:"",category:"",kind:void 0,metadata:void 0,id:""}],[{name:"",category:"",kind:void 0,metadata:void 0,id:""}]],this.titles=[]}getKindIndex(t){var e,n;return t&&null!==(n=null===(e=mN.getMutatorType(t))||void 0===e?void 0:e.index)&&void 0!==n?n:0}log(...t){kq.log(...t)}ngOnInit(){}ngOnChanges(){var t,e,n,i;((null===(t=this.multiPanelData)||void 0===t?void 0:t.length)||(null===(e=this.panelData)||void 0===e?void 0:e.length))&&(this.isMultiPanel=0===(null===(n=this.multiPanelData)||void 0===n?void 0:n[0].length)||!!(null===(i=this.multiPanelData)||void 0===i?void 0:i[0][0].id))}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(mN))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-settings-accordion"]],inputs:{className:"className",panelData:"panelData",multiPanelData:"multiPanelData",titles:"titles"},features:[i.TTD],decls:14,vars:14,consts:[[1,"mutators-container"],[1,"section-title-wrapper"],[3,"className","category","label"],[3,"formGroup"],[3,"disabled"],["formArrayName","mutators"],[4,"ngIf","ngIfThen","ngIfElse"],["singlePanel",""],["accordion",""],[1,"mutators"],[4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],[3,"mutator","control","isDisabled"],[4,"ngIf"]],template:function(t,e){if(1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i._UZ(2,"app-playground-tab-header",2),i.ALo(3,"async"),i.ALo(4,"async"),i.qZA(),i.TgZ(5,"form",3),i.TgZ(6,"fieldset",4),i.ALo(7,"async"),i.ynx(8,5),i.YNc(9,Cq,1,0,void 0,6),i.BQk(),i.qZA(),i.qZA(),i.qZA(),i.YNc(10,Eq,2,1,"ng-template",null,7,i.W1O),i.YNc(12,Pq,1,1,"ng-template",null,8,i.W1O)),2&t){const t=i.MAs(11),n=i.MAs(13);i.xp6(2),i.Q6J("className",e.className)("category",i.lcZ(3,8,e.titles[0]))("label",i.lcZ(4,10,e.titles[1])),i.xp6(3),i.Q6J("formGroup",e.editorForm),i.xp6(1),i.Q6J("disabled",i.lcZ(7,12,e.editorService.editorDisabled$)),i.xp6(3),i.Q6J("ngIf",e.isMultiPanel)("ngIfThen",n)("ngIfElse",t)}},directives:[uj,Ls,ns,Gs,Ws,R,I,B,iH],pipes:[Z],styles:["[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}form[_ngcontent-%COMP%]   .mutators[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(430px,1fr));grid-auto-rows:auto;grid-gap:2px;margin-bottom:2px;width:100%;box-sizing:border-box}html[dir=rtl]   [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .mutators[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .mutators[_ngcontent-%COMP%]{direction:rtl}@media only screen and (max-width:767px){form[_ngcontent-%COMP%]   .mutators[_ngcontent-%COMP%]{display:block;width:100%}}@media only screen and (min-width:1921px){form[_ngcontent-%COMP%]   .mutators[_ngcontent-%COMP%]{max-width:1920px;margin:0 auto}}"]}),t})();function Aq(t,e){}function Rq(t,e){1&t&&i.YNc(0,Aq,0,0,"ng-template")}function Dq(t,e){if(1&t&&i._UZ(0,"app-settings-accordion",4),2&t){const t=i.oxw();i.Q6J("className",t.className)("panelData",t.panelData)("titles",t.panelTitle)}}function Lq(t,e){if(1&t&&i._UZ(0,"app-settings-accordion",5),2&t){const t=i.oxw();i.Q6J("className",t.className)("multiPanelData",t.multiPanelData)("titles",t.panelTitle)}}let Nq=(()=>{class t{constructor(){this.className="",this.isMultiPanel=!1,this.panelData=null,this.panelTitle=[(0,ea.of)("")]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-settings-section"]],inputs:{className:"className",panelTitle:"panelTitle",panelData:"panelData",multiPanelData:"multiPanelData",isMultiPanel:"isMultiPanel"},decls:6,vars:4,consts:[[1,"content-wrapper",3,"ngClass"],[4,"ngIf","ngIfThen","ngIfElse"],["singlePanel",""],["multiPanel",""],[3,"className","panelData","titles"],[3,"className","multiPanelData","titles"]],template:function(t,e){if(1&t&&(i.TgZ(0,"div",0),i.YNc(1,Rq,1,0,void 0,1),i.YNc(2,Dq,1,3,"ng-template",null,2,i.W1O),i.YNc(4,Lq,1,3,"ng-template",null,3,i.W1O),i.qZA()),2&t){const t=i.MAs(3),n=i.MAs(5);i.Q6J("ngClass",e.className),i.xp6(1),i.Q6J("ngIf",e.isMultiPanel)("ngIfThen",n)("ngIfElse",t)}},directives:[P,R,Iq],styles:["[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}.content-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),t})();const Bq=Sm.get("editor","general");function Fq(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",9),i.TgZ(1,"mat-checkbox",10),i.NdJ("change",function(e){return i.CHM(t),i.oxw().editorService.handleSyncMutators(e.checked)}),i.ALo(2,"async"),i._uU(3),i.ALo(4,"translate"),i.qZA(),i.TgZ(5,"p",11),i._uU(6),i.ALo(7,"translate"),i.qZA(),i.qZA()}if(2&t){const t=i.oxw();i.xp6(1),i.Q6J("checked",t.editorService.areMutatorsSynced)("disabled",i.lcZ(2,4,t.editorService.editorDisabled$)),i.xp6(2),i.hij(" ",i.lcZ(4,6,"editor.general.synced-mutator")," "),i.xp6(3),i.hij(" ",i.lcZ(7,8,"editor.general.synced-mutators-description")," ")}}function Uq(t,e){if(1&t&&(i.ynx(0,13),i._UZ(1,"app-mutator",14),i.BQk()),2&t){const t=e.ngIf,n=i.oxw().$implicit,o=i.oxw();i.Q6J("ngSwitch",o.getKindIndex(n.kind)),i.xp6(1),i.Q6J("isDisabled",o.editorService.areMutatorsSynced)("mutator",n)("control",t)}}function Vq(t,e){if(1&t&&(i.ynx(0),i.YNc(1,Uq,2,4,"ng-container",12),i.BQk()),2&t){const t=e.$implicit,n=i.oxw();i.xp6(1),i.Q6J("ngIf",n.mutatorsFormGroup.get(t.name||""))}}const Gq=[{path:"experience",canActivate:[WB],canDeactivate:[DF],component:HV,children:[{path:"",redirectTo:"package",pathMatch:"full"},{path:"new",redirectTo:"mode",pathMatch:"full"},{path:"edit",redirectTo:"package",pathMatch:"full"},{path:"mode",children:[{path:"",redirectTo:"game-mode",pathMatch:"full"},{path:"game-mode",component:_j},{path:"choose-maps",component:Yj},{path:"mode-settings",component:EH}]},{path:"general",children:[{path:"",redirectTo:"core",pathMatch:"full"},{path:"core",component:(()=>{class t{constructor(t,e){this.editorService=t,this.translateService=e,this.coreSettingsMutators$=Hv([this.editorService.coreMutators$,this.editorService.uncategorizedMutators$]),this.settingsCategoryTitle$=this.translateService.get("editor.header.modifier-category"),this.coreSettingsTitle$=this.translateService.get("editor.header.gameplay"),this.otherSettingsTitle$=this.translateService.get("editor.menu.other-settings"),this.panelTitles=[this.settingsCategoryTitle$,this.coreSettingsTitle$,this.otherSettingsTitle$]}log(...t){Bq.log(...t)}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(mN),i.Y36(Bp))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-core-settings"]],decls:2,vars:6,consts:[[3,"className","panelTitle","multiPanelData","isMultiPanel"]],template:function(t,e){1&t&&(i._UZ(0,"app-settings-section",0),i.ALo(1,"async")),2&t&&i.Q6J("className","core-settings settings")("panelTitle",e.panelTitles)("multiPanelData",i.lcZ(1,4,e.coreSettingsMutators$))("isMultiPanel",!0)},directives:[Nq],pipes:[Z],styles:["[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}[_nghost-%COMP%]{display:flex;flex-direction:column;background-color:#001621;background-image:linear-gradient(180deg,#0016211a 0,#001621 900px),linear-gradient(90deg,#001621 0,#0016211a 20%,#0016211a 80%,#001621),url(/2384652/assets/backgrounds/generic.jpg);background-size:2304px auto,2304px auto;background-repeat:no-repeat;background-position:top}@media only screen and (max-width:767px){[_nghost-%COMP%]{background-image:linear-gradient(180deg,#00162180 0,#001621),url(/2384652/assets/backgrounds/generic.jpg)}}"]}),t})()},{path:"soldier",component:(()=>{class t{constructor(t,e){this.editorService=t,this.translateService=e,this.soldierSettingsMutators$=this.editorService.soldierMutators$,this.settingsCategoryTitle$=this.translateService.get("editor.header.modifier-category"),this.soldierSettingsTitle$=this.translateService.get("editor.header.soldier"),this.panelTitles=[this.settingsCategoryTitle$,this.soldierSettingsTitle$]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(mN),i.Y36(Bp))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-soldier-settings"]],decls:2,vars:5,consts:[[3,"className","panelTitle","panelData"]],template:function(t,e){1&t&&(i._UZ(0,"app-settings-section",0),i.ALo(1,"async")),2&t&&i.Q6J("className","soldiers-settings settings")("panelTitle",e.panelTitles)("panelData",i.lcZ(1,3,e.soldierSettingsMutators$))},directives:[Nq],pipes:[Z],styles:["[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}[_nghost-%COMP%]{display:flex;flex-direction:column;background-color:#001621;background-image:linear-gradient(180deg,#0016211a 0,#001621 900px),linear-gradient(90deg,#001621 0,#0016211a 20%,#0016211a 80%,#001621),url(/2384652/assets/backgrounds/generic.jpg);background-size:2304px auto,2304px auto;background-repeat:no-repeat;background-position:top}@media only screen and (max-width:767px){[_nghost-%COMP%]{background-image:linear-gradient(180deg,#00162180 0,#001621),url(/2384652/assets/backgrounds/generic.jpg)}}"]}),t})()},{path:"vehicle",component:(()=>{class t{constructor(t,e){this.editorService=t,this.translateService=e,this.vehicleSettingsMutators$=this.editorService.vehicleMutators$,this.settingsCategoryTitle$=this.translateService.get("editor.header.modifier-category"),this.vehicleSettingsTitle$=this.translateService.get("editor.header.vehicle"),this.panelTitles=[this.settingsCategoryTitle$,this.vehicleSettingsTitle$]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(mN),i.Y36(Bp))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-vehicle-settings"]],decls:2,vars:5,consts:[[3,"className","panelTitle","panelData"]],template:function(t,e){1&t&&(i._UZ(0,"app-settings-section",0),i.ALo(1,"async")),2&t&&i.Q6J("className","vehicles-settings settings")("panelTitle",e.panelTitles)("panelData",i.lcZ(1,3,e.vehicleSettingsMutators$))},directives:[Nq],pipes:[Z],styles:["[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}[_nghost-%COMP%]{display:flex;flex-direction:column;background-color:#001621;background-image:linear-gradient(180deg,#0016211a 0,#001621 900px),linear-gradient(90deg,#001621 0,#0016211a 20%,#0016211a 80%,#001621),url(/2384652/assets/backgrounds/generic.jpg);background-size:2304px auto,2304px auto;background-repeat:no-repeat;background-position:top}@media only screen and (max-width:767px){[_nghost-%COMP%]{background-image:linear-gradient(180deg,#00162180 0,#001621),url(/2384652/assets/backgrounds/generic.jpg)}}"]}),t})()},{path:"ui",component:(()=>{class t{constructor(t,e){this.editorService=t,this.translateService=e,this.uiSettingsMutators$=Hv([this.editorService.uiMutators$.pipe((0,Cr.U)(t=>{const e=t.find(t=>"HUDAllowed_PerTeam"===t.name);return e?[e,...t.filter(t=>"HUDAllowed_PerTeam"!==t.name)]:t})),this.editorService.visualMutators$]),this.settingsCategoryTitle$=this.translateService.get("editor.header.modifier-category"),this.uiSettingsTitle$=this.translateService.get("editor.header.user-interface"),this.visualSettingsTitle$=this.translateService.get("editor.menu.visual-settings"),this.panelTitles=[this.settingsCategoryTitle$,this.uiSettingsTitle$,this.visualSettingsTitle$]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(mN),i.Y36(Bp))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-ui-settings"]],decls:2,vars:6,consts:[[3,"className","panelTitle","multiPanelData","isMultiPanel"]],template:function(t,e){1&t&&(i._UZ(0,"app-settings-section",0),i.ALo(1,"async")),2&t&&i.Q6J("className","ui-settings settings")("panelTitle",e.panelTitles)("multiPanelData",i.lcZ(1,4,e.uiSettingsMutators$))("isMultiPanel",!0)},directives:[Nq],pipes:[Z],styles:["[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}[_nghost-%COMP%]{display:flex;flex-direction:column;background-color:#001621;background-image:linear-gradient(180deg,#0016211a 0,#001621 900px),linear-gradient(90deg,#001621 0,#0016211a 20%,#0016211a 80%,#001621),url(/2384652/assets/backgrounds/generic.jpg);background-size:2304px auto,2304px auto;background-repeat:no-repeat;background-position:top}@media only screen and (max-width:767px){[_nghost-%COMP%]{background-image:linear-gradient(180deg,#00162180 0,#001621),url(/2384652/assets/backgrounds/generic.jpg)}}"]}),t})()},{path:"ai",component:(()=>{class t{constructor(t,e){this.editorService=t,this.translateService=e,this.AvailableMutatorKind=dM,this.FormGroup=ws,this.settingsCategoryTitle$=this.translateService.get("editor.header.modifier-category"),this.aiSettingsTitle$=this.translateService.get("editor.header.ai"),this.panelTitle=[this.settingsCategoryTitle$,this.aiSettingsTitle$],this.editorForm=this.editorService.editorForm,this.mutatorsFormGroup=this.editorService.mutatorsFormGroup,this.categorizedAiMutators$=Hv([this.editorService.aiNonSyncedMutators$,this.editorService.aiSyncedMutators$])}ngOnInit(){}getKindIndex(t){var e,n;return t&&null!==(n=null===(e=mN.getMutatorType(t))||void 0===e?void 0:e.index)&&void 0!==n?n:0}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(mN),i.Y36(Bp))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-ai-settings"]],decls:13,vars:16,consts:[[1,"non-synced-ai-mutators-wrapper"],[3,"className","panelTitle","panelData"],["class","sync-mutators-controls",4,"ngIf"],[1,"synced-mutators-wrapper"],[3,"formGroup"],[3,"disabled"],["formArrayName","mutators"],["hideToggle","",3,"expanded"],[4,"ngFor","ngForOf"],[1,"sync-mutators-controls"],[1,"sync-mutator-checkbox",3,"checked","disabled","change"],[1,"sync-mutator-description"],[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],[3,"isDisabled","mutator","control"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i._UZ(1,"app-settings-section",1),i.ALo(2,"async"),i.qZA(),i.YNc(3,Fq,8,10,"div",2),i.ALo(4,"async"),i.TgZ(5,"div",3),i.TgZ(6,"form",4),i.TgZ(7,"fieldset",5),i.ALo(8,"async"),i.ynx(9,6),i.TgZ(10,"mat-expansion-panel",7),i.YNc(11,Vq,2,1,"ng-container",8),i.ALo(12,"async"),i.qZA(),i.BQk(),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(1),i.Q6J("className","ai-settings settings")("panelTitle",e.panelTitle)("panelData",i.lcZ(2,8,e.editorService.aiNonSyncedMutators$)),i.xp6(2),i.Q6J("ngIf",i.lcZ(4,10,e.editorService.aiSyncedMutators$)),i.xp6(3),i.Q6J("formGroup",e.editorForm),i.xp6(1),i.Q6J("disabled",i.lcZ(8,12,e.editorService.editorDisabled$)),i.xp6(3),i.Q6J("expanded",!0),i.xp6(1),i.Q6J("ngForOf",i.lcZ(12,14,e.editorService.aiSyncedMutators$)))},directives:[Nq,R,Ls,ns,Gs,Ws,BE,I,eO,B,iH],pipes:[Z,Fp],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}[_nghost-%COMP%]{display:flex;flex-direction:column;background-color:#001621;background-image:linear-gradient(180deg,#0016211a 0,#001621 900px),linear-gradient(90deg,#001621 0,#0016211a 20%,#0016211a 80%,#001621),url(/2384652/assets/backgrounds/generic.jpg);background-size:2304px auto,2304px auto;background-repeat:no-repeat;background-position:top}html[dir=rtl]   [_nghost-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   -shadowcsshost{direction:rtl}@media only screen and (max-width:767px){[_nghost-%COMP%]{background-image:linear-gradient(180deg,#00162180 0,#001621),url(/2384652/assets/backgrounds/generic.jpg)}}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;box-sizing:border-box}html[dir=rtl]   [_nghost-%COMP%]   form[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{direction:rtl}@media only screen and (min-width:1921px){form[_ngcontent-%COMP%]{max-width:1920px;margin:0 auto}}form[_ngcontent-%COMP%]   .header-submenu[_ngcontent-%COMP%]{position:relative}form[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{background:#fff;color:#000;display:inline;font-family:"Purista-Semibold",var(--font-fallback);font-size:24px;letter-spacing:.03em;line-height:32px;padding:2px 20px 5px 60px;text-transform:uppercase}html[lang=ar]   [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%], html[lang=ar][_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{letter-spacing:0}html[dir=rtl]   [_nghost-%COMP%]   form[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{padding:2px 60px 5px 20px}form[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}html[dir=rtl]   [_nghost-%COMP%]   form[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]{direction:rtl}form[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]{background-color:initial}form[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]     .mat-expansion-panel-body{display:grid;grid-template-columns:repeat(auto-fit,minmax(430px,1fr));grid-auto-rows:auto;grid-gap:2px;margin-bottom:2px;padding:2px 0}html[dir=rtl]   [_nghost-%COMP%]   form[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]     .mat-expansion-panel-body, html[dir=rtl][_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]     .mat-expansion-panel-body{direction:rtl}@media only screen and (max-width:767px){form[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]     .mat-expansion-panel-body{display:block;width:100%}}form[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]   .mat-expansion-panel-spacing[_ngcontent-%COMP%]{margin:0}.sync-mutators-controls[_ngcontent-%COMP%]{display:flex;padding:20px 15px 15px;width:100%;box-sizing:border-box;flex-direction:column;margin:2px 0;background:#000}html[dir=rtl][_ngcontent-%COMP%]   .sync-mutators-controls[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .sync-mutators-controls[_ngcontent-%COMP%]{direction:rtl}@media only screen and (min-width:1921px){.sync-mutators-controls[_ngcontent-%COMP%]{max-width:1920px;margin:0 auto}}.sync-mutators-controls[_ngcontent-%COMP%]     .mat-checkbox-layout{white-space:normal}.sync-mutators-controls[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:12px 0;font-family:"BFText-Regular",var(--font-fallback);font-size:16px;line-height:24px;letter-spacing:0;text-align:left}html[lang=ar][_ngcontent-%COMP%]   .sync-mutators-controls[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], html[lang=ar]   [_nghost-%COMP%]   .sync-mutators-controls[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{letter-spacing:0}html[dir=rtl][_ngcontent-%COMP%]   .sync-mutators-controls[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .sync-mutators-controls[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:right}@media only screen and (min-width:1031px){.sync-mutators-controls[_ngcontent-%COMP%]{margin-top:2px;padding:20px 30px}}']}),t})()}]},{path:"package",children:[{path:"",redirectTo:"era",pathMatch:"full"},{path:"era",component:sZ},{path:"characters",component:HZ},{path:"weapons",component:dq},{path:"vehicles",component:pq},{path:"gadgets",component:gq},{path:"attachments",component:mq},{path:"debug",component:vq}]},{path:"rules",component:lj}]}];let jq=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[ZD.forChild(Gq)],ZD]}),t})();const Hq=function(t,e){return{"disabled-opacity":t,hide:e}},zq=function(t){return{show:t}};function Wq(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",1),i.TgZ(1,"div",2),i.TgZ(2,"div",3),i.TgZ(3,"app-mutator-header",4),i.NdJ("newToggleEvent",function(e){return i.CHM(t),i.oxw().toggleDescription(e)}),i.qZA(),i.qZA(),i.TgZ(4,"div",5),i.TgZ(5,"mat-button-toggle-group",6),i.TgZ(6,"mat-button-toggle",7),i._uU(7),i.ALo(8,"translate"),i.qZA(),i.TgZ(9,"mat-button-toggle",7),i._uU(10),i.ALo(11,"translate"),i.qZA(),i.qZA(),i.TgZ(12,"p",8),i._uU(13),i.ALo(14,"translate"),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&t){const t=i.oxw();i.Q6J("formGroup",t.formGroup),i.xp6(3),i.Q6J("name",t.mutatorTranslations.name)("description",t.mutatorTranslations.description),i.xp6(2),i.Q6J("ngClass",i.WLB(16,Hq,t.isDisabled,t.showDescription)),i.xp6(1),i.Q6J("value",!0),i.xp6(1),i.Oqu(i.lcZ(8,10,"generic.on")),i.xp6(2),i.Q6J("value",!1),i.xp6(1),i.Oqu(i.lcZ(11,12,"generic.off")),i.xp6(2),i.Q6J("ngClass",i.VKq(19,zq,t.showDescription)),i.xp6(1),i.hij(" ",i.lcZ(14,14,t.mutatorTranslations.description)," ")}}let Zq=(()=>{class t extends iH{constructor(){super()}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-mutator-boolean"]],features:[i.qOj],decls:1,vars:1,consts:[["class","mutator",3,"formGroup",4,"ngIf"],[1,"mutator",3,"formGroup"],[1,"mutator-content"],[1,"header-wrapper"],[3,"name","description","newToggleEvent"],[1,"mutator-body"],["formControlName","value",3,"ngClass"],[3,"value"],[1,"mutator-description",3,"ngClass"]],template:function(t,e){1&t&&i.YNc(0,Wq,15,21,"div",0),2&t&&i.Q6J("ngIf",e.formGroup)},directives:[R,ns,Gs,sH,_b,es,qs,P,yb],pipes:[Fp],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}[_nghost-%COMP%]{display:flex;height:100%}html[dir=rtl]   [_nghost-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   -shadowcsshost{direction:rtl}.mutator[_ngcontent-%COMP%]{min-width:200px;padding:30px;position:relative;border:1px solid #ffffff0d;background-color:#000c;flex-grow:1;overflow:hidden}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){.mutator[_ngcontent-%COMP%]{padding:22px 15px 15px}html[dir=rtl][_ngcontent-%COMP%]   .mutator[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator[_ngcontent-%COMP%]{padding:22px 15px 15px}}.mutator[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:"Purista-Semibold",var(--font-fallback);font-size:24px;margin-bottom:16px;padding-bottom:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mutator[_ngcontent-%COMP%]   .per-team-checkbox[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-top:16px}html[dir=rtl][_ngcontent-%COMP%]   .mutator[_ngcontent-%COMP%]   .per-team-checkbox[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator[_ngcontent-%COMP%]   .per-team-checkbox[_ngcontent-%COMP%]{direction:rtl}.mutator[_ngcontent-%COMP%]   .mutator-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;position:relative;height:100%}html[dir=rtl][_ngcontent-%COMP%]   .mutator[_ngcontent-%COMP%]   .mutator-content[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator[_ngcontent-%COMP%]   .mutator-content[_ngcontent-%COMP%]{direction:rtl}.mutator-body[_ngcontent-%COMP%]{position:relative;flex-grow:1}.mutator-description[_ngcontent-%COMP%]{display:none;position:absolute;top:0;margin-bottom:0;min-height:55px;max-height:100%;font-family:"BFText-Regular",var(--font-fallback);color:#b4b4b4;font-size:16px;line-height:22px;overflow:auto;scrollbar-width:thin}html[dir=ltr][_ngcontent-%COMP%]   .mutator-description[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .mutator-description[_ngcontent-%COMP%]{left:0}html[dir=rtl][_ngcontent-%COMP%]   .mutator-description[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator-description[_ngcontent-%COMP%]{right:0}.mutator-description[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}.mutator-description[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0000}.mutator-description[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#fff3;border-radius:12px;background-clip:padding-box;border:3px solid #0000}.option[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-bottom:10px}html[dir=rtl][_ngcontent-%COMP%]   .option[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .option[_ngcontent-%COMP%]{direction:rtl}.option[_ngcontent-%COMP%]   .mat-slider[_ngcontent-%COMP%]{flex:1}.option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:"Purista-Semibold",var(--font-fallback);font-size:20px;border:1px solid #434343;background:#000;color:#fff;width:66px;height:38px;padding:0 4px 4px;text-align:center}html[dir=rtl][_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:0 4px 4px}html[dir=ltr][_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:10px}html[dir=rtl][_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:10px}.option[_ngcontent-%COMP%]   input.ng-invalid[_ngcontent-%COMP%]{border:1px solid #ff000080}.mat-stroked-button[_ngcontent-%COMP%]:active{background-color:#000}.mutator-content-innerwrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:minmax(0,1fr) 24px;grid-gap:0 0;gap:0 0}html[dir=rtl][_ngcontent-%COMP%]   .mutator-content-innerwrapper[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator-content-innerwrapper[_ngcontent-%COMP%]{direction:rtl}.per-team-button[_ngcontent-%COMP%]{background-color:initial;height:86px;width:24px;border:0;color:#a1a1a1}.per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%]{cursor:pointer;transform:rotate(90deg)}@media (hover:hover){.per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%]:hover{color:#fff}}.per-team-button[_ngcontent-%COMP%]   .icon-connector[_ngcontent-%COMP%]{height:12px;width:12px;color:#a1a1a1;margin-bottom:5px}html[dir=rtl][_ngcontent-%COMP%]   .per-team-button[_ngcontent-%COMP%]   .icon-connector[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .per-team-button[_ngcontent-%COMP%]   .icon-connector[_ngcontent-%COMP%]{transform:scaleX(-1)}.per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%] + .icon-connector[_ngcontent-%COMP%]{transform:rotate(90deg);margin-bottom:0}html[dir=rtl][_ngcontent-%COMP%]   .per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%] + .icon-connector[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%] + .icon-connector[_ngcontent-%COMP%]{transform:scaleX(-1) rotate(90deg)}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){.per-team-button[_ngcontent-%COMP%]{width:100%}}.boolean-sparse-per-team-checkbox[_ngcontent-%COMP%]{display:none}.remove-button[_ngcontent-%COMP%]{color:#434343}.team-one[_ngcontent-%COMP%]{color:#26ffdf;box-sizing:border-box;border:2px solid #26ffdf;width:60px;height:38px;text-align:center;padding-top:5px}html[dir=ltr][_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .team-one[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .team-one[_ngcontent-%COMP%]{margin-left:10px}.team-two[_ngcontent-%COMP%]{color:#f33;box-sizing:border-box;border:2px solid #f33;width:60px;height:38px;text-align:center;padding-top:5px}html[dir=ltr][_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .team-two[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .team-two[_ngcontent-%COMP%]{margin-left:10px}.teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%]{color:#787878;box-sizing:border-box;border:2px solid #787878;width:60px;height:38px;text-align:center;padding-top:5px}html[dir=ltr][_ngcontent-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%]{margin-left:10px}.hide[_ngcontent-%COMP%]{visibility:hidden}.show[_ngcontent-%COMP%]{display:inline}',"mat-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;margin-bottom:8px;background:#00000080}.mat-button-toggle[_ngcontent-%COMP%]{background:#0000;color:#fff;height:38px}.mat-button-toggle[_ngcontent-%COMP%], .mat-button-toggle-group[_ngcontent-%COMP%]{border-radius:0;width:100%}.mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:#fff;color:#000}.mat-stroked-button[_ngcontent-%COMP%]:active{background-color:#000}"]}),t})();const Yq=function(t,e){return{hide:t,"disabled-opacity":e}},qq=function(t){return{show:t}};function Jq(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",1),i.TgZ(1,"div",2),i.TgZ(2,"div",3),i.TgZ(3,"app-mutator-header",4),i.NdJ("newToggleEvent",function(e){return i.CHM(t),i.oxw().toggleDescription(e)}),i.qZA(),i.qZA(),i.TgZ(4,"div",5),i.TgZ(5,"div",6),i.TgZ(6,"mat-slider",7,8),i.NdJ("input",function(){i.CHM(t);const e=i.MAs(9),n=i.MAs(7),o=i.oxw();return e.value=o.toInput(n.value)}),i.qZA(),i.TgZ(8,"input",9,10),i.NdJ("input",function(){i.CHM(t);const e=i.MAs(7),n=i.MAs(9),o=i.oxw();return e.value=o.toSlider(n.value)}),i.qZA(),i.qZA(),i.TgZ(10,"p",11),i._uU(11),i.ALo(12,"translate"),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&t){const t=i.oxw();i.Q6J("formGroup",t.formGroup),i.xp6(3),i.Q6J("name",t.mutatorTranslations.name)("description",t.mutatorTranslations.description),i.xp6(2),i.Q6J("ngClass",i.WLB(12,Yq,t.showDescription,t.isDisabled)),i.xp6(1),i.Q6J("min",t.minValue)("max",t.maxValue),i.xp6(2),i.Q6J("minValue",t.minValue)("maxValue",t.maxValue),i.xp6(2),i.Q6J("ngClass",i.VKq(15,qq,t.showDescription)),i.xp6(1),i.hij(" ",i.lcZ(12,10,t.mutatorTranslations.description)," ")}}let $q=(()=>{class t extends iH{constructor(){super()}get minValue(){var t,e,n,i,o;return RL(null!==(o=null===(i=null===(n=null===(e=null===(t=this.mutator.kind)||void 0===t?void 0:t.mutatorFloatValues)||void 0===e?void 0:e.availableValues)||void 0===n?void 0:n.range)||void 0===i?void 0:i.minValue)&&void 0!==o?o:0)}get maxValue(){var t,e,n,i,o;return RL(null!==(o=null===(i=null===(n=null===(e=null===(t=this.mutator.kind)||void 0===t?void 0:t.mutatorFloatValues)||void 0===e?void 0:e.availableValues)||void 0===n?void 0:n.range)||void 0===i?void 0:i.maxValue)&&void 0!==o?o:0)}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-mutator-float"]],features:[i.qOj],decls:1,vars:1,consts:[["class","mutator",3,"formGroup",4,"ngIf"],[1,"mutator",3,"formGroup"],[1,"mutator-content"],[1,"header-wrapper"],[3,"name","description","newToggleEvent"],[1,"mutator-body"],[1,"option",3,"ngClass"],["color","primary","step","0.1","formControlName","value",3,"min","max","input"],["slider",""],["type","number","step","0.1","formControlName","value","appMinMaxInput","",3,"minValue","maxValue","input"],["input",""],[1,"mutator-description",3,"ngClass"]],template:function(t,e){1&t&&i.YNc(0,Jq,13,17,"div",0),2&t&&i.Q6J("ngIf",e.formGroup)},directives:[R,ns,Gs,sH,P,xT,es,qs,Bs,kr,lH],pipes:[Fp],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}[_nghost-%COMP%]{display:flex;height:100%}html[dir=rtl]   [_nghost-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   -shadowcsshost{direction:rtl}.mutator[_ngcontent-%COMP%]{min-width:200px;padding:30px;position:relative;border:1px solid #ffffff0d;background-color:#000c;flex-grow:1;overflow:hidden}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){.mutator[_ngcontent-%COMP%]{padding:22px 15px 15px}html[dir=rtl][_ngcontent-%COMP%]   .mutator[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator[_ngcontent-%COMP%]{padding:22px 15px 15px}}.mutator[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:"Purista-Semibold",var(--font-fallback);font-size:24px;margin-bottom:16px;padding-bottom:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mutator[_ngcontent-%COMP%]   .per-team-checkbox[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-top:16px}html[dir=rtl][_ngcontent-%COMP%]   .mutator[_ngcontent-%COMP%]   .per-team-checkbox[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator[_ngcontent-%COMP%]   .per-team-checkbox[_ngcontent-%COMP%]{direction:rtl}.mutator[_ngcontent-%COMP%]   .mutator-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;position:relative;height:100%}html[dir=rtl][_ngcontent-%COMP%]   .mutator[_ngcontent-%COMP%]   .mutator-content[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator[_ngcontent-%COMP%]   .mutator-content[_ngcontent-%COMP%]{direction:rtl}.mutator-body[_ngcontent-%COMP%]{position:relative;flex-grow:1}.mutator-description[_ngcontent-%COMP%]{display:none;position:absolute;top:0;margin-bottom:0;min-height:55px;max-height:100%;font-family:"BFText-Regular",var(--font-fallback);color:#b4b4b4;font-size:16px;line-height:22px;overflow:auto;scrollbar-width:thin}html[dir=ltr][_ngcontent-%COMP%]   .mutator-description[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .mutator-description[_ngcontent-%COMP%]{left:0}html[dir=rtl][_ngcontent-%COMP%]   .mutator-description[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator-description[_ngcontent-%COMP%]{right:0}.mutator-description[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}.mutator-description[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0000}.mutator-description[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#fff3;border-radius:12px;background-clip:padding-box;border:3px solid #0000}.option[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-bottom:10px}html[dir=rtl][_ngcontent-%COMP%]   .option[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .option[_ngcontent-%COMP%]{direction:rtl}.option[_ngcontent-%COMP%]   .mat-slider[_ngcontent-%COMP%]{flex:1}.option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:"Purista-Semibold",var(--font-fallback);font-size:20px;border:1px solid #434343;background:#000;color:#fff;width:66px;height:38px;padding:0 4px 4px;text-align:center}html[dir=rtl][_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:0 4px 4px}html[dir=ltr][_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:10px}html[dir=rtl][_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:10px}.option[_ngcontent-%COMP%]   input.ng-invalid[_ngcontent-%COMP%]{border:1px solid #ff000080}.mat-stroked-button[_ngcontent-%COMP%]:active{background-color:#000}.mutator-content-innerwrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:minmax(0,1fr) 24px;grid-gap:0 0;gap:0 0}html[dir=rtl][_ngcontent-%COMP%]   .mutator-content-innerwrapper[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator-content-innerwrapper[_ngcontent-%COMP%]{direction:rtl}.per-team-button[_ngcontent-%COMP%]{background-color:initial;height:86px;width:24px;border:0;color:#a1a1a1}.per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%]{cursor:pointer;transform:rotate(90deg)}@media (hover:hover){.per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%]:hover{color:#fff}}.per-team-button[_ngcontent-%COMP%]   .icon-connector[_ngcontent-%COMP%]{height:12px;width:12px;color:#a1a1a1;margin-bottom:5px}html[dir=rtl][_ngcontent-%COMP%]   .per-team-button[_ngcontent-%COMP%]   .icon-connector[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .per-team-button[_ngcontent-%COMP%]   .icon-connector[_ngcontent-%COMP%]{transform:scaleX(-1)}.per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%] + .icon-connector[_ngcontent-%COMP%]{transform:rotate(90deg);margin-bottom:0}html[dir=rtl][_ngcontent-%COMP%]   .per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%] + .icon-connector[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%] + .icon-connector[_ngcontent-%COMP%]{transform:scaleX(-1) rotate(90deg)}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){.per-team-button[_ngcontent-%COMP%]{width:100%}}.boolean-sparse-per-team-checkbox[_ngcontent-%COMP%]{display:none}.remove-button[_ngcontent-%COMP%]{color:#434343}.team-one[_ngcontent-%COMP%]{color:#26ffdf;box-sizing:border-box;border:2px solid #26ffdf;width:60px;height:38px;text-align:center;padding-top:5px}html[dir=ltr][_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .team-one[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .team-one[_ngcontent-%COMP%]{margin-left:10px}.team-two[_ngcontent-%COMP%]{color:#f33;box-sizing:border-box;border:2px solid #f33;width:60px;height:38px;text-align:center;padding-top:5px}html[dir=ltr][_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .team-two[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .team-two[_ngcontent-%COMP%]{margin-left:10px}.teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%]{color:#787878;box-sizing:border-box;border:2px solid #787878;width:60px;height:38px;text-align:center;padding-top:5px}html[dir=ltr][_ngcontent-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%]{margin-left:10px}.hide[_ngcontent-%COMP%]{visibility:hidden}.show[_ngcontent-%COMP%]{display:inline}',"mat-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;margin-bottom:8px;background:#00000080}"]}),t})();function Kq(t,e){}function Xq(t,e){1&t&&i.YNc(0,Kq,0,0,"ng-template")}function Qq(t,e){if(1&t&&(i.TgZ(0,"mat-option",15),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t){const t=e.$implicit,n=i.oxw(3);i.Q6J("value",t),i.xp6(1),i.hij(" ",i.lcZ(2,2,n.getOptionsTranslations(n.mutator,t))," ")}}const tJ=function(t){return{"disabled-opacity":t}};function eJ(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",12),i.TgZ(1,"mat-select",13),i.NdJ("openedChange",function(e){return i.CHM(t),i.oxw(2).onOpenedChange(e)})("selectionChange",function(e){return i.CHM(t),i.oxw(2).onChange(e)}),i.YNc(2,Qq,3,4,"mat-option",14),i.qZA(),i.qZA()}if(2&t){const t=i.oxw(2);i.Q6J("ngClass",i.VKq(2,tJ,t.isDisabled)),i.xp6(2),i.Q6J("ngForOf",t.sparseValues)}}function nJ(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",16),i.TgZ(1,"mat-slider",17,10),i.NdJ("input",function(){i.CHM(t);const e=i.MAs(4),n=i.MAs(2),o=i.oxw(2);return e.value=o.toInput(n.value)}),i.qZA(),i.TgZ(3,"input",18,19),i.NdJ("input",function(){i.CHM(t);const e=i.MAs(2),n=i.MAs(4),o=i.oxw(2);return e.value=o.toSlider(n.value)}),i.qZA(),i.qZA()}if(2&t){const t=i.oxw(2);i.Q6J("ngClass",i.VKq(5,tJ,t.isDisabled)),i.xp6(1),i.Q6J("min",t.minValue)("max",t.maxValue),i.xp6(2),i.Q6J("minValue",t.minValue)("maxValue",t.maxValue)}}const iJ=function(t){return{hide:t}},oJ=function(t){return{show:t}};function rJ(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",1),i.TgZ(1,"div",2),i.TgZ(2,"div",3),i.TgZ(3,"app-mutator-header",4),i.NdJ("newToggleEvent",function(e){return i.CHM(t),i.oxw().toggleDescription(e)}),i.qZA(),i.qZA(),i.TgZ(4,"div",5),i.TgZ(5,"div",6),i.YNc(6,Xq,1,0,void 0,7),i.YNc(7,eJ,3,4,"ng-template",null,8,i.W1O),i.YNc(9,nJ,5,7,"ng-template",9,10,i.W1O),i.qZA(),i.TgZ(11,"p",11),i._uU(12),i.ALo(13,"translate"),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&t){const t=i.MAs(8),e=i.MAs(10),n=i.oxw();i.Q6J("formGroup",n.formGroup),i.xp6(3),i.Q6J("name",n.mutatorTranslations.name)("description",n.mutatorTranslations.description),i.xp6(2),i.Q6J("ngClass",i.VKq(11,iJ,n.showDescription)),i.xp6(1),i.Q6J("ngIf",n.hasSparseValues)("ngIfThen",t)("ngIfElse",e),i.xp6(5),i.Q6J("ngClass",i.VKq(13,oJ,n.showDescription)),i.xp6(1),i.hij(" ",i.lcZ(13,9,n.mutatorTranslations.description)," ")}}let sJ=(()=>{class t extends iH{constructor(){super(),this.hasSparseValues=!1,this.sparseValues=[],this.onChange=t=>{},this.onOpenedChange=t=>{}}get minValue(){var t,e,n,i,o;return null!==(o=null===(i=null===(n=null===(e=null===(t=this.mutator.kind)||void 0===t?void 0:t.mutatorIntValues)||void 0===e?void 0:e.availableValues)||void 0===n?void 0:n.range)||void 0===i?void 0:i.minValue)&&void 0!==o?o:0}get maxValue(){var t,e,n,i,o;return null!==(o=null===(i=null===(n=null===(e=null===(t=this.mutator.kind)||void 0===t?void 0:t.mutatorIntValues)||void 0===e?void 0:e.availableValues)||void 0===n?void 0:n.range)||void 0===i?void 0:i.maxValue)&&void 0!==o?o:0}getOptionsTranslations(t,e){return vN(t,e)}ngOnInit(){var t,e,n,i,o,r,s;this.mutator&&(this.hasSparseValues=void 0!==(null===(n=null===(e=null===(t=this.mutator.kind)||void 0===t?void 0:t.mutatorIntValues)||void 0===e?void 0:e.availableValues)||void 0===n?void 0:n.sparseValues)),this.hasSparseValues&&(this.sparseValues=null===(s=null===(r=null===(o=null===(i=this.mutator.kind)||void 0===i?void 0:i.mutatorIntValues)||void 0===o?void 0:o.availableValues)||void 0===r?void 0:r.sparseValues)||void 0===s?void 0:s.values)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-mutator-int"]],inputs:{onChange:"onChange",onOpenedChange:"onOpenedChange"},features:[i.qOj],decls:1,vars:1,consts:[["class","mutator",3,"formGroup",4,"ngIf"],[1,"mutator",3,"formGroup"],[1,"mutator-content"],[1,"header-wrapper"],[3,"name","description","newToggleEvent"],[1,"mutator-body"],[3,"ngClass"],[4,"ngIf","ngIfThen","ngIfElse"],["dropdown",""],["class","option"],["slider",""],[1,"mutator-description",3,"ngClass"],[1,"dropdown-option",3,"ngClass"],["formControlName","value",3,"openedChange","selectionChange"],[3,"value","appAnimatedOverflowText",4,"ngFor","ngForOf"],[3,"value","appAnimatedOverflowText"],[1,"option",3,"ngClass"],["color","primary","step","1","formControlName","value",3,"min","max","input"],["type","number","step","1","formControlName","value","appMinMaxInput","","appIntInput","",3,"minValue","maxValue","input"],["input",""]],template:function(t,e){1&t&&i.YNc(0,rJ,14,15,"div",0),2&t&&i.Q6J("ngIf",e.formGroup)},directives:[R,ns,Gs,sH,P,jC,es,qs,I,J_,oH,xT,Bs,kr,lH,aH],pipes:[Fp],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}[_nghost-%COMP%]{display:flex;height:100%}html[dir=rtl]   [_nghost-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   -shadowcsshost{direction:rtl}.mutator[_ngcontent-%COMP%]{min-width:200px;padding:30px;position:relative;border:1px solid #ffffff0d;background-color:#000c;flex-grow:1;overflow:hidden}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){.mutator[_ngcontent-%COMP%]{padding:22px 15px 15px}html[dir=rtl][_ngcontent-%COMP%]   .mutator[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator[_ngcontent-%COMP%]{padding:22px 15px 15px}}.mutator[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:"Purista-Semibold",var(--font-fallback);font-size:24px;margin-bottom:16px;padding-bottom:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mutator[_ngcontent-%COMP%]   .per-team-checkbox[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-top:16px}html[dir=rtl][_ngcontent-%COMP%]   .mutator[_ngcontent-%COMP%]   .per-team-checkbox[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator[_ngcontent-%COMP%]   .per-team-checkbox[_ngcontent-%COMP%]{direction:rtl}.mutator[_ngcontent-%COMP%]   .mutator-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;position:relative;height:100%}html[dir=rtl][_ngcontent-%COMP%]   .mutator[_ngcontent-%COMP%]   .mutator-content[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator[_ngcontent-%COMP%]   .mutator-content[_ngcontent-%COMP%]{direction:rtl}.mutator-body[_ngcontent-%COMP%]{position:relative;flex-grow:1}.mutator-description[_ngcontent-%COMP%]{display:none;position:absolute;top:0;margin-bottom:0;min-height:55px;max-height:100%;font-family:"BFText-Regular",var(--font-fallback);color:#b4b4b4;font-size:16px;line-height:22px;overflow:auto;scrollbar-width:thin}html[dir=ltr][_ngcontent-%COMP%]   .mutator-description[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .mutator-description[_ngcontent-%COMP%]{left:0}html[dir=rtl][_ngcontent-%COMP%]   .mutator-description[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator-description[_ngcontent-%COMP%]{right:0}.mutator-description[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}.mutator-description[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0000}.mutator-description[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#fff3;border-radius:12px;background-clip:padding-box;border:3px solid #0000}.option[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-bottom:10px}html[dir=rtl][_ngcontent-%COMP%]   .option[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .option[_ngcontent-%COMP%]{direction:rtl}.option[_ngcontent-%COMP%]   .mat-slider[_ngcontent-%COMP%]{flex:1}.option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:"Purista-Semibold",var(--font-fallback);font-size:20px;border:1px solid #434343;background:#000;color:#fff;width:66px;height:38px;padding:0 4px 4px;text-align:center}html[dir=rtl][_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:0 4px 4px}html[dir=ltr][_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:10px}html[dir=rtl][_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:10px}.option[_ngcontent-%COMP%]   input.ng-invalid[_ngcontent-%COMP%]{border:1px solid #ff000080}.mat-stroked-button[_ngcontent-%COMP%]:active{background-color:#000}.mutator-content-innerwrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:minmax(0,1fr) 24px;grid-gap:0 0;gap:0 0}html[dir=rtl][_ngcontent-%COMP%]   .mutator-content-innerwrapper[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator-content-innerwrapper[_ngcontent-%COMP%]{direction:rtl}.per-team-button[_ngcontent-%COMP%]{background-color:initial;height:86px;width:24px;border:0;color:#a1a1a1}.per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%]{cursor:pointer;transform:rotate(90deg)}@media (hover:hover){.per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%]:hover{color:#fff}}.per-team-button[_ngcontent-%COMP%]   .icon-connector[_ngcontent-%COMP%]{height:12px;width:12px;color:#a1a1a1;margin-bottom:5px}html[dir=rtl][_ngcontent-%COMP%]   .per-team-button[_ngcontent-%COMP%]   .icon-connector[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .per-team-button[_ngcontent-%COMP%]   .icon-connector[_ngcontent-%COMP%]{transform:scaleX(-1)}.per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%] + .icon-connector[_ngcontent-%COMP%]{transform:rotate(90deg);margin-bottom:0}html[dir=rtl][_ngcontent-%COMP%]   .per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%] + .icon-connector[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%] + .icon-connector[_ngcontent-%COMP%]{transform:scaleX(-1) rotate(90deg)}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){.per-team-button[_ngcontent-%COMP%]{width:100%}}.boolean-sparse-per-team-checkbox[_ngcontent-%COMP%]{display:none}.remove-button[_ngcontent-%COMP%]{color:#434343}.team-one[_ngcontent-%COMP%]{color:#26ffdf;box-sizing:border-box;border:2px solid #26ffdf;width:60px;height:38px;text-align:center;padding-top:5px}html[dir=ltr][_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .team-one[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .team-one[_ngcontent-%COMP%]{margin-left:10px}.team-two[_ngcontent-%COMP%]{color:#f33;box-sizing:border-box;border:2px solid #f33;width:60px;height:38px;text-align:center;padding-top:5px}html[dir=ltr][_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .team-two[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .team-two[_ngcontent-%COMP%]{margin-left:10px}.teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%]{color:#787878;box-sizing:border-box;border:2px solid #787878;width:60px;height:38px;text-align:center;padding-top:5px}html[dir=ltr][_ngcontent-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%]{margin-left:10px}.hide[_ngcontent-%COMP%]{visibility:hidden}.show[_ngcontent-%COMP%]{display:inline}',"mat-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;margin-bottom:8px;background:#00000080}"]}),t})();function aJ(t,e){1&t&&(i.TgZ(0,"span",15),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"mutators.team-1")," "))}function lJ(t,e){1&t&&(i.TgZ(0,"mat-button-toggle-group",16),i.TgZ(1,"mat-button-toggle",17),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.TgZ(4,"mat-button-toggle",17),i._uU(5),i.ALo(6,"translate"),i.qZA(),i.qZA()),2&t&&(i.Q6J("formControlName",1),i.xp6(1),i.Q6J("value",!0),i.xp6(1),i.Oqu(i.lcZ(3,5,"generic.on")),i.xp6(2),i.Q6J("value",!1),i.xp6(1),i.Oqu(i.lcZ(6,7,"generic.off")))}function cJ(t,e){1&t&&(i.TgZ(0,"mat-button-toggle-group",16),i.TgZ(1,"mat-button-toggle",17),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.TgZ(4,"mat-button-toggle",17),i._uU(5),i.ALo(6,"translate"),i.qZA(),i.qZA()),2&t&&(i.Q6J("formControlName",0),i.xp6(1),i.Q6J("value",!0),i.xp6(1),i.Oqu(i.lcZ(3,5,"generic.on")),i.xp6(2),i.Q6J("value",!1),i.xp6(1),i.Oqu(i.lcZ(6,7,"generic.off")))}function uJ(t,e){1&t&&(i.TgZ(0,"mat-button-toggle-group",16),i.TgZ(1,"mat-button-toggle",17),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.TgZ(4,"mat-button-toggle",17),i._uU(5),i.ALo(6,"translate"),i.qZA(),i.qZA()),2&t&&(i.Q6J("formControlName",2),i.xp6(1),i.Q6J("value",!0),i.xp6(1),i.Oqu(i.lcZ(3,5,"generic.on")),i.xp6(2),i.Q6J("value",!1),i.xp6(1),i.Oqu(i.lcZ(6,7,"generic.off")))}function hJ(t,e){if(1&t&&(i.TgZ(0,"mat-button-toggle-group",17),i.TgZ(1,"mat-button-toggle",17),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.TgZ(4,"mat-button-toggle",17),i._uU(5),i.ALo(6,"translate"),i.qZA(),i.qZA()),2&t){const t=i.oxw(3);i.Q6J("value",null==t.global?null:t.global.value),i.xp6(1),i.Q6J("value",!0),i.xp6(1),i.Oqu(i.lcZ(3,5,"generic.on")),i.xp6(2),i.Q6J("value",!1),i.xp6(1),i.Oqu(i.lcZ(6,7,"generic.off"))}}const dJ=function(t){return{"disabled-opacity":t}};function pJ(t,e){if(1&t&&(i.TgZ(0,"div",9),i.TgZ(1,"span",18),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.YNc(4,uJ,7,9,"mat-button-toggle-group",11),i.YNc(5,hJ,7,9,"mat-button-toggle-group",19),i.qZA()),2&t){const t=i.oxw(2);i.Q6J("ngClass",i.VKq(6,dJ,t.isDisabled||!t.formGroup.controls.perTeam.value)),i.xp6(2),i.Oqu(i.lcZ(3,4,"mutators.team-2")),i.xp6(2),i.Q6J("ngIf",t.formGroup.controls.perTeam.value),i.xp6(1),i.Q6J("ngIf",!t.formGroup.controls.perTeam.value)}}function gJ(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",20),i.TgZ(1,"div",21),i.TgZ(2,"mat-checkbox",22),i._uU(3),i.ALo(4,"translate"),i.qZA(),i.qZA(),i.TgZ(5,"button",23),i.NdJ("click",function(){return i.CHM(t),i.oxw(2).perTeamHandler()}),i._UZ(6,"mat-icon",24),i._UZ(7,"mat-icon",25),i._UZ(8,"mat-icon",24),i.qZA(),i.qZA()}if(2&t){const t=i.oxw(2);i.xp6(3),i.Oqu(i.lcZ(4,4,"mutators.per-team")),i.xp6(2),i.Q6J("disabled",t.isDisabled)("ngClass",i.VKq(6,dJ,t.isDisabled)),i.xp6(2),i.Q6J("svgIcon",t.formGroup.controls.perTeam.value?"unlink":"link")}}const mJ=function(t){return{hide:t}},fJ=function(t){return{"teams-linked":t}},_J=function(t){return{show:t}};function bJ(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",1),i.TgZ(1,"div",2),i.TgZ(2,"div",3),i.TgZ(3,"app-mutator-header",4),i.NdJ("newToggleEvent",function(e){return i.CHM(t),i.oxw().toggleDescription(e)}),i.qZA(),i.qZA(),i.TgZ(4,"div",5),i.TgZ(5,"div",6),i.TgZ(6,"div",7),i.ynx(7,8),i.TgZ(8,"div",9),i.YNc(9,aJ,3,3,"span",10),i.YNc(10,lJ,7,9,"mat-button-toggle-group",11),i.YNc(11,cJ,7,9,"mat-button-toggle-group",11),i.qZA(),i.YNc(12,pJ,6,8,"div",12),i.BQk(),i.qZA(),i.YNc(13,gJ,9,8,"div",13),i.qZA(),i.TgZ(14,"p",14),i._uU(15),i.ALo(16,"translate"),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&t){const t=i.oxw();i.Q6J("formGroup",t.formGroup),i.xp6(3),i.Q6J("name",t.mutatorTranslations.name)("description",t.mutatorTranslations.description),i.xp6(2),i.Q6J("ngClass",i.VKq(15,mJ,t.showDescription)),i.xp6(1),i.Q6J("ngClass",i.VKq(17,fJ,!t.formGroup.controls.perTeam.value)),i.xp6(2),i.Q6J("ngClass",i.VKq(19,dJ,t.isDisabled)),i.xp6(1),i.Q6J("ngIf",t.editorService.showPerTeamOption),i.xp6(1),i.Q6J("ngIf",t.formGroup.controls.perTeam.value&&t.editorService.showPerTeamOption),i.xp6(1),i.Q6J("ngIf",!t.formGroup.controls.perTeam.value),i.xp6(1),i.Q6J("ngIf",t.editorService.showPerTeamOption),i.xp6(1),i.Q6J("ngIf",t.editorService.showPerTeamOption),i.xp6(1),i.Q6J("ngClass",i.VKq(21,_J,t.showDescription)),i.xp6(1),i.hij(" ",i.lcZ(16,13,t.mutatorTranslations.description)," ")}}let vJ=(()=>{class t extends iH{constructor(t){super(),this.editorService=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(mN))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-mutator-boolean-sparse"]],features:[i.qOj],decls:1,vars:1,consts:[["class","mutator boolean-sparse",3,"formGroup",4,"ngIf"],[1,"mutator","boolean-sparse",3,"formGroup"],[1,"mutator-content"],[1,"header-wrapper"],[3,"name","description","newToggleEvent"],[1,"mutator-body"],[1,"mutator-content-innerwrapper",3,"ngClass"],[1,"mutator-options",3,"ngClass"],["formArrayName","values"],[1,"option",3,"ngClass"],["class","team-one",4,"ngIf"],[3,"formControlName",4,"ngIf"],["class","option",3,"ngClass",4,"ngIf"],["class","per-button-wrapper",4,"ngIf"],[1,"mutator-description",3,"ngClass"],[1,"team-one"],[3,"formControlName"],[3,"value"],[1,"team-two"],[3,"value",4,"ngIf"],[1,"per-button-wrapper"],[1,"boolean-sparse-per-team-checkbox"],["formControlName","perTeam"],["type","button",1,"per-team-button",3,"disabled","ngClass","click"],["svgIcon","dashed-corner",1,"icon-connector"],[1,"icon-anchor",3,"svgIcon"]],template:function(t,e){1&t&&i.YNc(0,bJ,17,23,"div",0),2&t&&i.Q6J("ngIf",e.formGroup)},directives:[R,ns,Gs,sH,P,Ws,_b,es,qs,yb,eO,eE],pipes:[Fp],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}[_nghost-%COMP%]{display:flex;height:100%}html[dir=rtl]   [_nghost-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   -shadowcsshost{direction:rtl}.mutator[_ngcontent-%COMP%]{min-width:200px;padding:30px;position:relative;border:1px solid #ffffff0d;background-color:#000c;flex-grow:1;overflow:hidden}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){.mutator[_ngcontent-%COMP%]{padding:22px 15px 15px}html[dir=rtl][_ngcontent-%COMP%]   .mutator[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator[_ngcontent-%COMP%]{padding:22px 15px 15px}}.mutator[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:"Purista-Semibold",var(--font-fallback);font-size:24px;margin-bottom:16px;padding-bottom:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mutator[_ngcontent-%COMP%]   .per-team-checkbox[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-top:16px}html[dir=rtl][_ngcontent-%COMP%]   .mutator[_ngcontent-%COMP%]   .per-team-checkbox[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator[_ngcontent-%COMP%]   .per-team-checkbox[_ngcontent-%COMP%]{direction:rtl}.mutator[_ngcontent-%COMP%]   .mutator-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;position:relative;height:100%}html[dir=rtl][_ngcontent-%COMP%]   .mutator[_ngcontent-%COMP%]   .mutator-content[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator[_ngcontent-%COMP%]   .mutator-content[_ngcontent-%COMP%]{direction:rtl}.mutator-body[_ngcontent-%COMP%]{position:relative;flex-grow:1}.mutator-description[_ngcontent-%COMP%]{display:none;position:absolute;top:0;margin-bottom:0;min-height:55px;max-height:100%;font-family:"BFText-Regular",var(--font-fallback);color:#b4b4b4;font-size:16px;line-height:22px;overflow:auto;scrollbar-width:thin}html[dir=ltr][_ngcontent-%COMP%]   .mutator-description[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .mutator-description[_ngcontent-%COMP%]{left:0}html[dir=rtl][_ngcontent-%COMP%]   .mutator-description[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator-description[_ngcontent-%COMP%]{right:0}.mutator-description[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}.mutator-description[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0000}.mutator-description[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#fff3;border-radius:12px;background-clip:padding-box;border:3px solid #0000}.option[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-bottom:10px}html[dir=rtl][_ngcontent-%COMP%]   .option[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .option[_ngcontent-%COMP%]{direction:rtl}.option[_ngcontent-%COMP%]   .mat-slider[_ngcontent-%COMP%]{flex:1}.option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:"Purista-Semibold",var(--font-fallback);font-size:20px;border:1px solid #434343;background:#000;color:#fff;width:66px;height:38px;padding:0 4px 4px;text-align:center}html[dir=rtl][_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:0 4px 4px}html[dir=ltr][_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:10px}html[dir=rtl][_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:10px}.option[_ngcontent-%COMP%]   input.ng-invalid[_ngcontent-%COMP%]{border:1px solid #ff000080}.mat-stroked-button[_ngcontent-%COMP%]:active{background-color:#000}.mutator-content-innerwrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:minmax(0,1fr) 24px;grid-gap:0 0;gap:0 0}html[dir=rtl][_ngcontent-%COMP%]   .mutator-content-innerwrapper[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator-content-innerwrapper[_ngcontent-%COMP%]{direction:rtl}.per-team-button[_ngcontent-%COMP%]{background-color:initial;height:86px;width:24px;border:0;color:#a1a1a1}.per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%]{cursor:pointer;transform:rotate(90deg)}@media (hover:hover){.per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%]:hover{color:#fff}}.per-team-button[_ngcontent-%COMP%]   .icon-connector[_ngcontent-%COMP%]{height:12px;width:12px;color:#a1a1a1;margin-bottom:5px}html[dir=rtl][_ngcontent-%COMP%]   .per-team-button[_ngcontent-%COMP%]   .icon-connector[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .per-team-button[_ngcontent-%COMP%]   .icon-connector[_ngcontent-%COMP%]{transform:scaleX(-1)}.per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%] + .icon-connector[_ngcontent-%COMP%]{transform:rotate(90deg);margin-bottom:0}html[dir=rtl][_ngcontent-%COMP%]   .per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%] + .icon-connector[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%] + .icon-connector[_ngcontent-%COMP%]{transform:scaleX(-1) rotate(90deg)}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){.per-team-button[_ngcontent-%COMP%]{width:100%}}.boolean-sparse-per-team-checkbox[_ngcontent-%COMP%]{display:none}.remove-button[_ngcontent-%COMP%]{color:#434343}.team-one[_ngcontent-%COMP%]{color:#26ffdf;box-sizing:border-box;border:2px solid #26ffdf;width:60px;height:38px;text-align:center;padding-top:5px}html[dir=ltr][_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .team-one[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .team-one[_ngcontent-%COMP%]{margin-left:10px}.team-two[_ngcontent-%COMP%]{color:#f33;box-sizing:border-box;border:2px solid #f33;width:60px;height:38px;text-align:center;padding-top:5px}html[dir=ltr][_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .team-two[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .team-two[_ngcontent-%COMP%]{margin-left:10px}.teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%]{color:#787878;box-sizing:border-box;border:2px solid #787878;width:60px;height:38px;text-align:center;padding-top:5px}html[dir=ltr][_ngcontent-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%]{margin-left:10px}.hide[_ngcontent-%COMP%]{visibility:hidden}.show[_ngcontent-%COMP%]{display:inline}',"[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}mat-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;margin-bottom:8px;background:#00000080}.mat-button-toggle[_ngcontent-%COMP%]{background:#0000;color:#fff;height:38px}.mat-button-toggle[_ngcontent-%COMP%], .mat-button-toggle-group[_ngcontent-%COMP%]{border-radius:0;width:100%}.mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:#fff;color:#000}.mat-stroked-button[_ngcontent-%COMP%]:active{background-color:#000}"]}),t})();function yJ(t,e){1&t&&(i.TgZ(0,"span",19),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"mutators.team-1")," "))}const CJ=function(t){return{"disabled-opacity":t}};function OJ(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",13),i.YNc(1,yJ,3,3,"span",14),i.TgZ(2,"mat-slider",15,16),i.NdJ("input",function(){i.CHM(t);const e=i.MAs(5),n=i.MAs(3),o=i.oxw(2);return e.value=o.toInput(n.value)}),i.qZA(),i.TgZ(4,"input",17,18),i.NdJ("input",function(){i.CHM(t);const e=i.MAs(3),n=i.MAs(5),o=i.oxw(2);return e.value=o.toSlider(n.value)}),i.qZA(),i.qZA()}if(2&t){const t=i.oxw(2);i.Q6J("ngClass",i.VKq(9,CJ,t.isDisabled)),i.xp6(1),i.Q6J("ngIf",t.editorService.showPerTeamOption),i.xp6(1),i.Q6J("formControlName",0)("min",t.minValue)("max",t.maxValue),i.xp6(2),i.Q6J("formControlName",0)("minValue",t.minValue)("maxValue",t.maxValue)("appMinMaxInput",t.onMinMaxInputChange.bind(t))}}function TJ(t,e){if(1&t&&(i.TgZ(0,"div",20),i.TgZ(1,"span",21),i._uU(2),i.ALo(3,"translate"),i.qZA(),i._UZ(4,"mat-slider",22),i._UZ(5,"input",23),i.qZA()),2&t){const t=i.oxw(2);i.xp6(2),i.Oqu(i.lcZ(3,5,"mutators.team-2")),i.xp6(2),i.Q6J("min",t.minValue)("max",t.maxValue)("value",null==t.global?null:t.global.value),i.xp6(1),i.Q6J("value",null==t.global?null:t.global.value)}}function EJ(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",13),i.TgZ(1,"span",19),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.TgZ(4,"mat-slider",15,16),i.NdJ("input",function(){i.CHM(t);const e=i.MAs(7),n=i.MAs(5),o=i.oxw(2);return e.value=o.toInput(n.value)}),i.qZA(),i.TgZ(6,"input",17,18),i.NdJ("input",function(){i.CHM(t);const e=i.MAs(5),n=i.MAs(7),o=i.oxw(2);return e.value=o.toSlider(n.value)}),i.qZA(),i.qZA()}if(2&t){const t=i.oxw(2);i.Q6J("ngClass",i.VKq(11,CJ,t.isDisabled)),i.xp6(2),i.Oqu(i.lcZ(3,9,"mutators.team-1")),i.xp6(2),i.Q6J("formControlName",1)("min",t.minValue)("max",t.maxValue),i.xp6(2),i.Q6J("formControlName",1)("minValue",t.minValue)("maxValue",t.maxValue)("appMinMaxInput",t.onTeam1MinMaxChange.bind(t))}}function SJ(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",13),i.TgZ(1,"span",21),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.TgZ(4,"mat-slider",15,16),i.NdJ("input",function(){i.CHM(t);const e=i.MAs(7),n=i.MAs(5),o=i.oxw(2);return e.value=o.toInput(n.value)}),i.qZA(),i.TgZ(6,"input",17,18),i.NdJ("input",function(){i.CHM(t);const e=i.MAs(5),n=i.MAs(7),o=i.oxw(2);return e.value=o.toSlider(n.value)}),i.qZA(),i.qZA()}if(2&t){const t=i.oxw(2);i.Q6J("ngClass",i.VKq(11,CJ,t.isDisabled)),i.xp6(2),i.Oqu(i.lcZ(3,9,"mutators.team-2")),i.xp6(2),i.Q6J("formControlName",2)("min",t.minValue)("max",t.maxValue),i.xp6(2),i.Q6J("formControlName",2)("minValue",t.minValue)("maxValue",t.maxValue)("appMinMaxInput",t.onTeam2MinMaxChange.bind(t))}}function wJ(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",24),i.TgZ(1,"div",25),i.TgZ(2,"mat-checkbox",26),i._uU(3),i.ALo(4,"translate"),i.qZA(),i.qZA(),i.TgZ(5,"button",27),i.NdJ("click",function(){return i.CHM(t),i.oxw(2).perTeamHandler()}),i._UZ(6,"mat-icon",28),i._UZ(7,"mat-icon",29),i._UZ(8,"mat-icon",28),i.qZA(),i.qZA()}if(2&t){const t=i.oxw(2);i.xp6(3),i.Oqu(i.lcZ(4,4,"mutators.per-team")),i.xp6(2),i.Q6J("disabled",t.isDisabled)("ngClass",i.VKq(6,CJ,t.isDisabled)),i.xp6(2),i.Q6J("svgIcon",t.formGroup.controls.perTeam.value?"unlink":"link")}}const MJ=function(t){return{hide:t}},xJ=function(t){return{"teams-linked":t}},PJ=function(t){return{show:t}};function kJ(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",1),i.TgZ(1,"div",2),i.TgZ(2,"div",3),i.TgZ(3,"app-mutator-header",4),i.NdJ("newToggleEvent",function(e){return i.CHM(t),i.oxw().toggleDescription(e)}),i.qZA(),i.qZA(),i.TgZ(4,"div",5),i.TgZ(5,"div",6),i.TgZ(6,"div",7),i.ynx(7,8),i.YNc(8,OJ,6,11,"div",9),i.YNc(9,TJ,6,7,"div",10),i.YNc(10,EJ,8,13,"div",9),i.YNc(11,SJ,8,13,"div",9),i.BQk(),i.qZA(),i.YNc(12,wJ,9,8,"div",11),i.qZA(),i.TgZ(13,"p",12),i._uU(14),i.ALo(15,"translate"),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&t){const t=i.oxw();i.Q6J("formGroup",t.formGroup),i.xp6(3),i.Q6J("name",t.mutatorTranslations.name)("description",t.mutatorTranslations.description),i.xp6(2),i.Q6J("ngClass",i.VKq(14,MJ,t.showDescription)),i.xp6(1),i.Q6J("ngClass",i.VKq(16,xJ,!t.formGroup.controls.perTeam.value)),i.xp6(2),i.Q6J("ngIf",!t.formGroup.controls.perTeam.value),i.xp6(1),i.Q6J("ngIf",!t.formGroup.controls.perTeam.value&&t.editorService.showPerTeamOption),i.xp6(1),i.Q6J("ngIf",t.formGroup.controls.perTeam.value),i.xp6(1),i.Q6J("ngIf",t.formGroup.controls.perTeam.value),i.xp6(1),i.Q6J("ngIf",t.editorService.showPerTeamOption),i.xp6(1),i.Q6J("ngClass",i.VKq(18,PJ,t.showDescription)),i.xp6(1),i.hij(" ",i.lcZ(15,12,t.mutatorTranslations.description)," ")}}let IJ=(()=>{class t extends iH{constructor(t){super(),this.editorService=t}get minValue(){var t,e,n,i,o;return RL(null!==(o=null===(i=null===(n=null===(e=null===(t=this.mutator.kind)||void 0===t?void 0:t.mutatorSparseFloatValues)||void 0===e?void 0:e.availableValues)||void 0===n?void 0:n.range)||void 0===i?void 0:i.minValue)&&void 0!==o?o:0)}get maxValue(){var t,e,n,i,o;return RL(null!==(o=null===(i=null===(n=null===(e=null===(t=this.mutator.kind)||void 0===t?void 0:t.mutatorSparseFloatValues)||void 0===e?void 0:e.availableValues)||void 0===n?void 0:n.range)||void 0===i?void 0:i.maxValue)&&void 0!==o?o:0)}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(mN))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-mutator-float-sparse"]],features:[i.qOj],decls:1,vars:1,consts:[["class","mutator float-sparse",3,"formGroup",4,"ngIf"],[1,"mutator","float-sparse",3,"formGroup"],[1,"mutator-content"],[1,"header-wrapper"],[3,"name","description","newToggleEvent"],[1,"mutator-body"],[1,"mutator-content-innerwrapper",3,"ngClass"],[1,"mutator-options",3,"ngClass"],["formArrayName","values"],["class","option",3,"ngClass",4,"ngIf"],["class","option disabled-opacity",4,"ngIf"],["class","per-button-wrapper",4,"ngIf"],[1,"mutator-description",3,"ngClass"],[1,"option",3,"ngClass"],["class","team-one",4,"ngIf"],["color","primary","step","0.1",3,"formControlName","min","max","input"],["slider",""],["type","number","step","0.1",3,"formControlName","minValue","maxValue","appMinMaxInput","input"],["input",""],[1,"team-one"],[1,"option","disabled-opacity"],[1,"team-two"],["color","primary","step","0.1",3,"min","max","value"],["type","number","step","0.1",3,"value"],[1,"per-button-wrapper"],[1,"boolean-sparse-per-team-checkbox"],["formControlName","perTeam"],[1,"per-team-button",3,"disabled","ngClass","click"],["svgIcon","dashed-corner",1,"icon-connector"],[1,"icon-anchor",3,"svgIcon"]],template:function(t,e){1&t&&i.YNc(0,kJ,16,20,"div",0),2&t&&i.Q6J("ngIf",e.formGroup)},directives:[R,ns,Gs,sH,P,Ws,xT,es,qs,Bs,kr,lH,eO,eE],pipes:[Fp],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}[_nghost-%COMP%]{display:flex;height:100%}html[dir=rtl]   [_nghost-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   -shadowcsshost{direction:rtl}.mutator[_ngcontent-%COMP%]{min-width:200px;padding:30px;position:relative;border:1px solid #ffffff0d;background-color:#000c;flex-grow:1;overflow:hidden}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){.mutator[_ngcontent-%COMP%]{padding:22px 15px 15px}html[dir=rtl][_ngcontent-%COMP%]   .mutator[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator[_ngcontent-%COMP%]{padding:22px 15px 15px}}.mutator[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:"Purista-Semibold",var(--font-fallback);font-size:24px;margin-bottom:16px;padding-bottom:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mutator[_ngcontent-%COMP%]   .per-team-checkbox[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-top:16px}html[dir=rtl][_ngcontent-%COMP%]   .mutator[_ngcontent-%COMP%]   .per-team-checkbox[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator[_ngcontent-%COMP%]   .per-team-checkbox[_ngcontent-%COMP%]{direction:rtl}.mutator[_ngcontent-%COMP%]   .mutator-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;position:relative;height:100%}html[dir=rtl][_ngcontent-%COMP%]   .mutator[_ngcontent-%COMP%]   .mutator-content[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator[_ngcontent-%COMP%]   .mutator-content[_ngcontent-%COMP%]{direction:rtl}.mutator-body[_ngcontent-%COMP%]{position:relative;flex-grow:1}.mutator-description[_ngcontent-%COMP%]{display:none;position:absolute;top:0;margin-bottom:0;min-height:55px;max-height:100%;font-family:"BFText-Regular",var(--font-fallback);color:#b4b4b4;font-size:16px;line-height:22px;overflow:auto;scrollbar-width:thin}html[dir=ltr][_ngcontent-%COMP%]   .mutator-description[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .mutator-description[_ngcontent-%COMP%]{left:0}html[dir=rtl][_ngcontent-%COMP%]   .mutator-description[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator-description[_ngcontent-%COMP%]{right:0}.mutator-description[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}.mutator-description[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0000}.mutator-description[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#fff3;border-radius:12px;background-clip:padding-box;border:3px solid #0000}.option[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-bottom:10px}html[dir=rtl][_ngcontent-%COMP%]   .option[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .option[_ngcontent-%COMP%]{direction:rtl}.option[_ngcontent-%COMP%]   .mat-slider[_ngcontent-%COMP%]{flex:1}.option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:"Purista-Semibold",var(--font-fallback);font-size:20px;border:1px solid #434343;background:#000;color:#fff;width:66px;height:38px;padding:0 4px 4px;text-align:center}html[dir=rtl][_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:0 4px 4px}html[dir=ltr][_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:10px}html[dir=rtl][_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:10px}.option[_ngcontent-%COMP%]   input.ng-invalid[_ngcontent-%COMP%]{border:1px solid #ff000080}.mat-stroked-button[_ngcontent-%COMP%]:active{background-color:#000}.mutator-content-innerwrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:minmax(0,1fr) 24px;grid-gap:0 0;gap:0 0}html[dir=rtl][_ngcontent-%COMP%]   .mutator-content-innerwrapper[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator-content-innerwrapper[_ngcontent-%COMP%]{direction:rtl}.per-team-button[_ngcontent-%COMP%]{background-color:initial;height:86px;width:24px;border:0;color:#a1a1a1}.per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%]{cursor:pointer;transform:rotate(90deg)}@media (hover:hover){.per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%]:hover{color:#fff}}.per-team-button[_ngcontent-%COMP%]   .icon-connector[_ngcontent-%COMP%]{height:12px;width:12px;color:#a1a1a1;margin-bottom:5px}html[dir=rtl][_ngcontent-%COMP%]   .per-team-button[_ngcontent-%COMP%]   .icon-connector[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .per-team-button[_ngcontent-%COMP%]   .icon-connector[_ngcontent-%COMP%]{transform:scaleX(-1)}.per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%] + .icon-connector[_ngcontent-%COMP%]{transform:rotate(90deg);margin-bottom:0}html[dir=rtl][_ngcontent-%COMP%]   .per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%] + .icon-connector[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%] + .icon-connector[_ngcontent-%COMP%]{transform:scaleX(-1) rotate(90deg)}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){.per-team-button[_ngcontent-%COMP%]{width:100%}}.boolean-sparse-per-team-checkbox[_ngcontent-%COMP%]{display:none}.remove-button[_ngcontent-%COMP%]{color:#434343}.team-one[_ngcontent-%COMP%]{color:#26ffdf;box-sizing:border-box;border:2px solid #26ffdf;width:60px;height:38px;text-align:center;padding-top:5px}html[dir=ltr][_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .team-one[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .team-one[_ngcontent-%COMP%]{margin-left:10px}.team-two[_ngcontent-%COMP%]{color:#f33;box-sizing:border-box;border:2px solid #f33;width:60px;height:38px;text-align:center;padding-top:5px}html[dir=ltr][_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .team-two[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .team-two[_ngcontent-%COMP%]{margin-left:10px}.teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%]{color:#787878;box-sizing:border-box;border:2px solid #787878;width:60px;height:38px;text-align:center;padding-top:5px}html[dir=ltr][_ngcontent-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%]{margin-left:10px}.hide[_ngcontent-%COMP%]{visibility:hidden}.show[_ngcontent-%COMP%]{display:inline}',"[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}mat-card[_ngcontent-%COMP%]{align-items:stretch;margin-bottom:8px;background:#00000080}.float-sparse[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]{display:flex;flex-direction:column}.float-sparse[_ngcontent-%COMP%]{position:relative;height:100%;justify-content:flex-start}html[dir=rtl][_ngcontent-%COMP%]   .float-sparse[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .float-sparse[_ngcontent-%COMP%]{direction:rtl}"]}),t})();function AJ(t,e){1&t&&(i.TgZ(0,"span",20),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"mutators.team-1")," "))}function RJ(t,e){}function DJ(t,e){1&t&&i.YNc(0,RJ,0,0,"ng-template")}function LJ(t,e){if(1&t&&(i.TgZ(0,"mat-option",23),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t){const t=e.$implicit,n=i.oxw(4);i.Q6J("value",t),i.xp6(1),i.hij(" ",i.lcZ(2,2,n.getOptionsTranslations(n.mutator,t))," ")}}function NJ(t,e){if(1&t&&(i.TgZ(0,"mat-select",21),i.YNc(1,LJ,3,4,"mat-option",22),i.qZA()),2&t){const t=i.oxw(3);i.Q6J("formControlName",0),i.xp6(1),i.Q6J("ngForOf",t.sparseValues)}}function BJ(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"mat-slider",24,19),i.NdJ("input",function(){i.CHM(t);const e=i.MAs(3),n=i.MAs(1),o=i.oxw(3);return e.value=o.toInput(n.value)}),i.qZA(),i.TgZ(2,"input",25,26),i.NdJ("input",function(){i.CHM(t);const e=i.MAs(1),n=i.MAs(3),o=i.oxw(3);return e.value=o.toSlider(n.value)}),i.qZA()}if(2&t){const t=i.oxw(3);i.Q6J("formControlName",t.sliderFormControlName)("min",t.minValue)("max",t.maxValue),i.xp6(2),i.Q6J("formControlName",t.sliderFormControlName)("minValue",t.minValue)("maxValue",t.maxValue)("appMinMaxInput",t.onMinMaxInputChange.bind(t))}}const FJ=function(t){return{"disabled-opacity":t}};function UJ(t,e){if(1&t&&(i.TgZ(0,"div",16),i.YNc(1,AJ,3,3,"span",17),i.YNc(2,DJ,1,0,void 0,11),i.YNc(3,NJ,2,2,"ng-template",null,18,i.W1O),i.YNc(5,BJ,4,7,"ng-template",null,19,i.W1O),i.qZA()),2&t){const t=i.MAs(4),e=i.MAs(6),n=i.oxw(2);i.Q6J("ngClass",i.VKq(5,FJ,n.isDisabled)),i.xp6(1),i.Q6J("ngIf",n.editorService.showPerTeamOption),i.xp6(1),i.Q6J("ngIf",n.hasSparseValues)("ngIfThen",t)("ngIfElse",e)}}function VJ(t,e){}function GJ(t,e){1&t&&i.YNc(0,VJ,0,0,"ng-template")}function jJ(t,e){if(1&t&&(i.TgZ(0,"mat-option",31),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t){const t=e.$implicit,n=i.oxw(4);i.Q6J("value",t),i.xp6(1),i.hij(" ",i.lcZ(2,2,n.getOptionsTranslations(n.mutator,t))," ")}}function HJ(t,e){if(1&t&&(i.TgZ(0,"mat-select",29),i.YNc(1,jJ,3,4,"mat-option",30),i.qZA()),2&t){const t=i.oxw(3);i.Q6J("formControlName",0)("value",null==t.global?null:t.global.value),i.xp6(1),i.Q6J("ngForOf",t.sparseValues)}}function zJ(t,e){if(1&t&&(i._UZ(0,"mat-slider",32),i._UZ(1,"input",33)),2&t){const t=i.oxw(3);i.Q6J("min",t.minValue)("max",t.maxValue)("value",null==t.global?null:t.global.value),i.xp6(1),i.Q6J("minValue",t.minValue)("maxValue",t.maxValue)("value",null==t.global?null:t.global.value)}}function WJ(t,e){if(1&t&&(i.TgZ(0,"div",27),i.TgZ(1,"span",28),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.YNc(4,GJ,1,0,void 0,11),i.YNc(5,HJ,2,3,"ng-template",null,18,i.W1O),i.YNc(7,zJ,2,6,"ng-template",null,19,i.W1O),i.qZA()),2&t){const t=i.MAs(6),e=i.MAs(8),n=i.oxw(2);i.xp6(2),i.Oqu(i.lcZ(3,4,"mutators.team-2")),i.xp6(2),i.Q6J("ngIf",n.hasSparseValues)("ngIfThen",t)("ngIfElse",e)}}function ZJ(t,e){}function YJ(t,e){1&t&&i.YNc(0,ZJ,0,0,"ng-template")}function qJ(t,e){if(1&t&&(i.TgZ(0,"mat-option",31),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t){const t=e.$implicit,n=i.oxw(4);i.Q6J("value",t),i.xp6(1),i.hij(" ",i.lcZ(2,2,n.getOptionsTranslations(n.mutator,t))," ")}}function JJ(t,e){if(1&t&&(i.TgZ(0,"div",16),i.TgZ(1,"span",20),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.TgZ(4,"mat-select",34),i.YNc(5,qJ,3,4,"mat-option",30),i.qZA(),i.qZA()),2&t){const t=i.oxw(3);i.Q6J("ngClass",i.VKq(6,FJ,t.isDisabled)),i.xp6(2),i.Oqu(i.lcZ(3,4,"mutators.team-1")),i.xp6(2),i.Q6J("formControlName",1),i.xp6(1),i.Q6J("ngForOf",t.sparseValues)}}function $J(t,e){if(1&t&&(i.TgZ(0,"mat-option",31),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t){const t=e.$implicit,n=i.oxw(4);i.Q6J("value",t),i.xp6(1),i.hij(" ",i.lcZ(2,2,n.getOptionsTranslations(n.mutator,t))," ")}}function KJ(t,e){if(1&t&&(i.TgZ(0,"div",16),i.TgZ(1,"span",28),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.TgZ(4,"mat-select",34),i.YNc(5,$J,3,4,"mat-option",30),i.qZA(),i.qZA()),2&t){const t=i.oxw(3);i.Q6J("ngClass",i.VKq(6,FJ,t.isDisabled)),i.xp6(2),i.Oqu(i.lcZ(3,4,"mutators.team-2")),i.xp6(2),i.Q6J("formControlName",2),i.xp6(1),i.Q6J("ngForOf",t.sparseValues)}}function XJ(t,e){if(1&t&&(i.YNc(0,JJ,6,8,"div",9),i.YNc(1,KJ,6,8,"div",9)),2&t){const t=i.oxw(2);i.Q6J("ngIf",t.formGroup.controls.perTeam.value),i.xp6(1),i.Q6J("ngIf",t.formGroup.controls.perTeam.value)}}function QJ(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",16),i.TgZ(1,"span",20),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.TgZ(4,"mat-slider",24,19),i.NdJ("input",function(){i.CHM(t);const e=i.MAs(7),n=i.MAs(5),o=i.oxw(3);return e.value=o.toInput(n.value)}),i.qZA(),i.TgZ(6,"input",25,26),i.NdJ("input",function(){i.CHM(t);const e=i.MAs(5),n=i.MAs(7),o=i.oxw(3);return e.value=o.toSlider(n.value)}),i.qZA(),i.qZA()}if(2&t){const t=i.oxw(3);i.Q6J("ngClass",i.VKq(11,FJ,t.isDisabled)),i.xp6(2),i.Oqu(i.lcZ(3,9,"mutators.team-1")),i.xp6(2),i.Q6J("formControlName",1)("min",t.minValue)("max",t.maxValue),i.xp6(2),i.Q6J("formControlName",1)("minValue",t.minValue)("maxValue",t.maxValue)("appMinMaxInput",t.onTeam1MinMaxChange.bind(t))}}function t$(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",16),i.TgZ(1,"span",28),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.TgZ(4,"mat-slider",24,19),i.NdJ("input",function(){i.CHM(t);const e=i.MAs(7),n=i.MAs(5),o=i.oxw(3);return e.value=o.toInput(n.value)}),i.qZA(),i.TgZ(6,"input",25,26),i.NdJ("input",function(){i.CHM(t);const e=i.MAs(5),n=i.MAs(7),o=i.oxw(3);return e.value=o.toSlider(n.value)}),i.qZA(),i.qZA()}if(2&t){const t=i.oxw(3);i.Q6J("ngClass",i.VKq(11,FJ,t.isDisabled)),i.xp6(2),i.Oqu(i.lcZ(3,9,"mutators.team-2")),i.xp6(2),i.Q6J("formControlName",2)("min",t.minValue)("max",t.team2MaxValue),i.xp6(2),i.Q6J("formControlName",2)("minValue",t.minValue)("maxValue",t.team2MaxValue)("appMinMaxInput",t.onTeam2MinMaxChange.bind(t))}}function e$(t,e){if(1&t&&(i.YNc(0,QJ,8,13,"div",9),i.YNc(1,t$,8,13,"div",9)),2&t){const t=i.oxw(2);i.Q6J("ngIf",t.formGroup.controls.perTeam.value),i.xp6(1),i.Q6J("ngIf",t.formGroup.controls.perTeam.value)}}function n$(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",35),i.TgZ(1,"div",36),i.TgZ(2,"mat-checkbox",37),i._uU(3),i.ALo(4,"translate"),i.qZA(),i.qZA(),i.TgZ(5,"button",38),i.NdJ("click",function(){return i.CHM(t),i.oxw(2).perTeamHandler()}),i._UZ(6,"mat-icon",39),i._UZ(7,"mat-icon",40),i._UZ(8,"mat-icon",39),i.qZA(),i.qZA()}if(2&t){const t=i.oxw(2);i.xp6(3),i.Oqu(i.lcZ(4,4,"mutators.per-team")),i.xp6(2),i.Q6J("disabled",t.isDisabled)("ngClass",i.VKq(6,FJ,t.isDisabled)),i.xp6(2),i.Q6J("svgIcon",t.formGroup.controls.perTeam.value?"unlink":"link")}}const i$=function(t){return{hide:t}},o$=function(t){return{"teams-linked":t}},r$=function(t){return{show:t}};function s$(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",1),i.TgZ(1,"div",2),i.TgZ(2,"div",3),i.TgZ(3,"app-mutator-header",4),i.NdJ("newToggleEvent",function(e){return i.CHM(t),i.oxw().toggleDescription(e)}),i.qZA(),i.qZA(),i.TgZ(4,"div",5),i.TgZ(5,"div",6),i.TgZ(6,"div",7),i.ynx(7,8),i.YNc(8,UJ,7,7,"div",9),i.YNc(9,WJ,9,6,"div",10),i.YNc(10,YJ,1,0,void 0,11),i.YNc(11,XJ,2,2,"ng-template",null,12,i.W1O),i.YNc(13,e$,2,2,"ng-template",null,13,i.W1O),i.BQk(),i.qZA(),i.YNc(15,n$,9,8,"div",14),i.qZA(),i.TgZ(16,"p",15),i._uU(17),i.ALo(18,"translate"),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&t){const t=i.MAs(12),e=i.MAs(14),n=i.oxw();i.Q6J("formGroup",n.formGroup),i.xp6(3),i.Q6J("name",n.mutatorTranslations.name)("description",n.mutatorTranslations.description),i.xp6(2),i.Q6J("ngClass",i.VKq(15,i$,n.showDescription)),i.xp6(1),i.Q6J("ngClass",i.VKq(17,o$,!n.formGroup.controls.perTeam.value)),i.xp6(2),i.Q6J("ngIf",!n.formGroup.controls.perTeam.value),i.xp6(1),i.Q6J("ngIf",!n.formGroup.controls.perTeam.value&&n.editorService.showPerTeamOption),i.xp6(1),i.Q6J("ngIf",n.hasSparseValues)("ngIfThen",t)("ngIfElse",e),i.xp6(5),i.Q6J("ngIf",n.editorService.showPerTeamOption),i.xp6(1),i.Q6J("ngClass",i.VKq(19,r$,n.showDescription)),i.xp6(1),i.hij(" ",i.lcZ(18,13,n.mutatorTranslations.description)," ")}}let a$=(()=>{class t extends iH{constructor(t){super(),this.editorService=t,this.hasSparseValues=!1,this.sparseValues=[],this.currentGameSize=0,this.globalMaxGameSize=128,this.aiCountMax=0}get minValue(){var t,e,n,i,o;return null!==(o=null===(i=null===(n=null===(e=null===(t=this.mutator.kind)||void 0===t?void 0:t.mutatorSparseIntValues)||void 0===e?void 0:e.availableValues)||void 0===n?void 0:n.range)||void 0===i?void 0:i.minValue)&&void 0!==o?o:0}get maxValue(){var t,e,n,i,o,r,s,a,l,c;return"AiMaxCount_PerTeam"!==this.mutator.name?null!==(o=null===(i=null===(n=null===(e=null===(t=this.mutator.kind)||void 0===t?void 0:t.mutatorSparseIntValues)||void 0===e?void 0:e.availableValues)||void 0===n?void 0:n.range)||void 0===i?void 0:i.maxValue)&&void 0!==o?o:0:this.editorService.showPerTeamOption?(null===(r=this.perTeamValue)||void 0===r?void 0:r.value)?Math.ceil(this.aiCountMax-(null!==(c=null===(l=null===(a=null===(s=this.formGroup)||void 0===s?void 0:s.get("values"))||void 0===a?void 0:a.get("2"))||void 0===l?void 0:l.value)&&void 0!==c?c:0)):Math.floor(this.aiCountMax/2):this.aiCountMax}perTeamHandler(){var t,e,n,i,o;null===(t=this.perTeamValue)||void 0===t||t.setValue(!(null===(e=this.formGroup)||void 0===e?void 0:e.value.perTeam)),!(null===(n=this.perTeamValue)||void 0===n?void 0:n.value)&&(null===(i=this.global)||void 0===i?void 0:i.value)>this.maxValue&&"AiMaxCount_PerTeam"===this.mutator.name&&(null===(o=this.global)||void 0===o||o.setValue(this.maxValue)),this.control.markAsDirty()}get team2MaxValue(){var t,e,n,i,o;return"AiMaxCount_PerTeam"===this.mutator.name&&(null===(t=this.perTeamValue)||void 0===t?void 0:t.value)?Math.floor(this.aiCountMax-(null!==(o=null===(i=null===(n=null===(e=this.formGroup)||void 0===e?void 0:e.get("values"))||void 0===n?void 0:n.get("1"))||void 0===i?void 0:i.value)&&void 0!==o?o:0)):this.maxValue}getOptionsTranslations(t,e){return vN(t,e)}get sliderFormControlName(){return this.editorService.showPerTeamOption?0:1}ngOnInit(){var t,e,n,i,o,r,s;if(this.mutator&&(this.hasSparseValues=void 0!==(null===(n=null===(e=null===(t=this.mutator.kind)||void 0===t?void 0:t.mutatorSparseIntValues)||void 0===e?void 0:e.availableValues)||void 0===n?void 0:n.sparseValues)),this.hasSparseValues&&(this.sparseValues=null===(s=null===(r=null===(o=null===(i=this.mutator.kind)||void 0===i?void 0:i.mutatorSparseIntValues)||void 0===o?void 0:o.availableValues)||void 0===r?void 0:r.sparseValues)||void 0===s?void 0:s.values),"AiMaxCount_PerTeam"===this.mutator.name){const t=bp(()=>{var t,e,n,i;return null===(e=null===(t=this.formGroup)||void 0===t?void 0:t.get("values"))||void 0===e?void 0:e.valueChanges.pipe(a_(null===(i=null===(n=this.formGroup)||void 0===n?void 0:n.get("values"))||void 0===i?void 0:i.value))});this.formGroup&&this.formGroup.get("values")&&this.addSubscription(Hv([this.editorService.gameSize$,t]).subscribe(([t,e])=>{var n,i,o,r,s,a,l,c,u;const h=null!==(s=null===(r=null===(o=null===(i=null===(n=this.mutator.kind)||void 0===n?void 0:n.mutatorSparseIntValues)||void 0===i?void 0:i.availableValues)||void 0===o?void 0:o.range)||void 0===r?void 0:r.maxValue)&&void 0!==s?s:0;if(this.currentGameSize=t,this.aiCountMax=this.globalMaxGameSize-this.currentGameSize>h?h:this.globalMaxGameSize-this.currentGameSize,!(null===(a=this.perTeamValue)||void 0===a?void 0:a.value)){const t=0===e[1]?0:this.aiCountMax-e[1];null===(u=null===(c=null===(l=this.formGroup)||void 0===l?void 0:l.get("values"))||void 0===c?void 0:c.get("2"))||void 0===u||u.setValue(t,{emitEvent:!1})}}))}}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(mN))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-mutator-int-sparse"]],features:[i.qOj],decls:1,vars:1,consts:[["class","mutator int-sparse",3,"formGroup",4,"ngIf"],[1,"mutator","int-sparse",3,"formGroup"],[1,"mutator-content"],[1,"header-wrapper"],[3,"name","description","newToggleEvent"],[1,"mutator-body"],[1,"mutator-content-innerwrapper",3,"ngClass"],[1,"mutator-options",3,"ngClass"],["formArrayName","values"],["class","option",3,"ngClass",4,"ngIf"],["class","option disabled-opacity",4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],["perTeamDropdowns",""],["perTeamSliders",""],["class","per-button-wrapper",4,"ngIf"],[1,"mutator-description",3,"ngClass"],[1,"option",3,"ngClass"],["class","team-one",4,"ngIf"],["dropdown",""],["slider",""],[1,"team-one"],[1,"main-select",3,"formControlName"],[3,"appAnimatedOverflowText","value",4,"ngFor","ngForOf"],[3,"appAnimatedOverflowText","value"],["color","primary","step","1",3,"formControlName","min","max","input"],["type","number","appIntInput","",3,"formControlName","minValue","maxValue","appMinMaxInput","input"],["input",""],[1,"option","disabled-opacity"],[1,"team-two"],[1,"main-select",3,"formControlName","value"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["color","primary","step","1",3,"min","max","value"],["type","number","appMinMaxInput","","appIntInput","",3,"minValue","maxValue","value"],[3,"formControlName"],[1,"per-button-wrapper"],[1,"boolean-sparse-per-team-checkbox"],["formControlName","perTeam"],["type","button",1,"per-team-button",3,"disabled","ngClass","click"],["svgIcon","dashed-corner",1,"icon-connector"],[1,"icon-anchor",3,"svgIcon"]],template:function(t,e){1&t&&i.YNc(0,s$,19,21,"div",0),2&t&&i.Q6J("ngIf",e.formGroup)},directives:[R,ns,Gs,sH,P,Ws,jC,es,qs,I,J_,oH,xT,Bs,kr,aH,lH,eO,eE],pipes:[Fp],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}[_nghost-%COMP%]{display:flex;height:100%}html[dir=rtl]   [_nghost-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   -shadowcsshost{direction:rtl}.mutator[_ngcontent-%COMP%]{min-width:200px;padding:30px;position:relative;border:1px solid #ffffff0d;background-color:#000c;flex-grow:1;overflow:hidden}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){.mutator[_ngcontent-%COMP%]{padding:22px 15px 15px}html[dir=rtl][_ngcontent-%COMP%]   .mutator[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator[_ngcontent-%COMP%]{padding:22px 15px 15px}}.mutator[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:"Purista-Semibold",var(--font-fallback);font-size:24px;margin-bottom:16px;padding-bottom:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mutator[_ngcontent-%COMP%]   .per-team-checkbox[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-top:16px}html[dir=rtl][_ngcontent-%COMP%]   .mutator[_ngcontent-%COMP%]   .per-team-checkbox[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator[_ngcontent-%COMP%]   .per-team-checkbox[_ngcontent-%COMP%]{direction:rtl}.mutator[_ngcontent-%COMP%]   .mutator-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;position:relative;height:100%}html[dir=rtl][_ngcontent-%COMP%]   .mutator[_ngcontent-%COMP%]   .mutator-content[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator[_ngcontent-%COMP%]   .mutator-content[_ngcontent-%COMP%]{direction:rtl}.mutator-body[_ngcontent-%COMP%]{position:relative;flex-grow:1}.mutator-description[_ngcontent-%COMP%]{display:none;position:absolute;top:0;margin-bottom:0;min-height:55px;max-height:100%;font-family:"BFText-Regular",var(--font-fallback);color:#b4b4b4;font-size:16px;line-height:22px;overflow:auto;scrollbar-width:thin}html[dir=ltr][_ngcontent-%COMP%]   .mutator-description[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .mutator-description[_ngcontent-%COMP%]{left:0}html[dir=rtl][_ngcontent-%COMP%]   .mutator-description[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator-description[_ngcontent-%COMP%]{right:0}.mutator-description[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}.mutator-description[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0000}.mutator-description[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#fff3;border-radius:12px;background-clip:padding-box;border:3px solid #0000}.option[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-bottom:10px}html[dir=rtl][_ngcontent-%COMP%]   .option[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .option[_ngcontent-%COMP%]{direction:rtl}.option[_ngcontent-%COMP%]   .mat-slider[_ngcontent-%COMP%]{flex:1}.option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:"Purista-Semibold",var(--font-fallback);font-size:20px;border:1px solid #434343;background:#000;color:#fff;width:66px;height:38px;padding:0 4px 4px;text-align:center}html[dir=rtl][_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:0 4px 4px}html[dir=ltr][_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:10px}html[dir=rtl][_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:10px}.option[_ngcontent-%COMP%]   input.ng-invalid[_ngcontent-%COMP%]{border:1px solid #ff000080}.mat-stroked-button[_ngcontent-%COMP%]:active{background-color:#000}.mutator-content-innerwrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:minmax(0,1fr) 24px;grid-gap:0 0;gap:0 0}html[dir=rtl][_ngcontent-%COMP%]   .mutator-content-innerwrapper[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator-content-innerwrapper[_ngcontent-%COMP%]{direction:rtl}.per-team-button[_ngcontent-%COMP%]{background-color:initial;height:86px;width:24px;border:0;color:#a1a1a1}.per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%]{cursor:pointer;transform:rotate(90deg)}@media (hover:hover){.per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%]:hover{color:#fff}}.per-team-button[_ngcontent-%COMP%]   .icon-connector[_ngcontent-%COMP%]{height:12px;width:12px;color:#a1a1a1;margin-bottom:5px}html[dir=rtl][_ngcontent-%COMP%]   .per-team-button[_ngcontent-%COMP%]   .icon-connector[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .per-team-button[_ngcontent-%COMP%]   .icon-connector[_ngcontent-%COMP%]{transform:scaleX(-1)}.per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%] + .icon-connector[_ngcontent-%COMP%]{transform:rotate(90deg);margin-bottom:0}html[dir=rtl][_ngcontent-%COMP%]   .per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%] + .icon-connector[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%] + .icon-connector[_ngcontent-%COMP%]{transform:scaleX(-1) rotate(90deg)}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){.per-team-button[_ngcontent-%COMP%]{width:100%}}.boolean-sparse-per-team-checkbox[_ngcontent-%COMP%]{display:none}.remove-button[_ngcontent-%COMP%]{color:#434343}.team-one[_ngcontent-%COMP%]{color:#26ffdf;box-sizing:border-box;border:2px solid #26ffdf;width:60px;height:38px;text-align:center;padding-top:5px}html[dir=ltr][_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .team-one[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .team-one[_ngcontent-%COMP%]{margin-left:10px}.team-two[_ngcontent-%COMP%]{color:#f33;box-sizing:border-box;border:2px solid #f33;width:60px;height:38px;text-align:center;padding-top:5px}html[dir=ltr][_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .team-two[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .team-two[_ngcontent-%COMP%]{margin-left:10px}.teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%]{color:#787878;box-sizing:border-box;border:2px solid #787878;width:60px;height:38px;text-align:center;padding-top:5px}html[dir=ltr][_ngcontent-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%]{margin-left:10px}.hide[_ngcontent-%COMP%]{visibility:hidden}.show[_ngcontent-%COMP%]{display:inline}',"[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}mat-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;margin-bottom:8px;background:#00000080}.mutator[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:10px}.int-sparse[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;height:100%;justify-content:flex-start}html[dir=rtl][_ngcontent-%COMP%]   .int-sparse[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .int-sparse[_ngcontent-%COMP%]{direction:rtl}"]}),t})();function l$(t,e){}function c$(t,e){1&t&&i.YNc(0,l$,0,0,"ng-template")}function u$(t,e){}function h$(t,e){if(1&t&&(i.TgZ(0,"p",8),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t){const t=i.oxw(2);i.xp6(1),i.Oqu(i.lcZ(2,1,t.mutatorTranslations.description))}}const d$=function(t){return{"disabled-opacity":t}};function p$(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",1),i.TgZ(1,"div",2),i.TgZ(2,"div",3),i.TgZ(3,"app-mutator-header",4),i.NdJ("newToggleEvent",function(e){return i.CHM(t),i.oxw().toggleDescription(e)}),i.qZA(),i.qZA(),i.YNc(4,c$,1,0,void 0,5),i.YNc(5,u$,0,0,"ng-template",null,6,i.W1O),i.YNc(7,h$,3,3,"ng-template",null,7,i.W1O),i.qZA(),i.qZA()}if(2&t){const t=i.MAs(6),e=i.MAs(8),n=i.oxw();i.Q6J("formGroup",n.formGroup),i.xp6(2),i.Q6J("ngClass",i.VKq(7,d$,n.isDisabled)),i.xp6(1),i.Q6J("name",n.mutatorTranslations.name)("description",n.mutatorTranslations.description),i.xp6(1),i.Q6J("ngIf",n.showDescription)("ngIfThen",e)("ngIfElse",t)}}let g$=(()=>{class t extends iH{constructor(){super()}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-mutator-string"]],features:[i.qOj],decls:1,vars:1,consts:[["class","mutator",3,"formGroup",4,"ngIf"],[1,"mutator",3,"formGroup"],[1,"mutator-content"],[1,"header-wrapper",3,"ngClass"],[3,"name","description","newToggleEvent"],[4,"ngIf","ngIfThen","ngIfElse"],["content",""],["description",""],[1,"mutator-description"]],template:function(t,e){1&t&&i.YNc(0,p$,9,9,"div",0),2&t&&i.Q6J("ngIf",e.formGroup)},directives:[R,ns,Gs,P,sH],pipes:[Fp],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}[_nghost-%COMP%]{display:flex;height:100%}html[dir=rtl]   [_nghost-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   -shadowcsshost{direction:rtl}.mutator[_ngcontent-%COMP%]{min-width:200px;padding:30px;position:relative;border:1px solid #ffffff0d;background-color:#000c;flex-grow:1;overflow:hidden}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){.mutator[_ngcontent-%COMP%]{padding:22px 15px 15px}html[dir=rtl][_ngcontent-%COMP%]   .mutator[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator[_ngcontent-%COMP%]{padding:22px 15px 15px}}.mutator[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:"Purista-Semibold",var(--font-fallback);font-size:24px;margin-bottom:16px;padding-bottom:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mutator[_ngcontent-%COMP%]   .per-team-checkbox[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-top:16px}html[dir=rtl][_ngcontent-%COMP%]   .mutator[_ngcontent-%COMP%]   .per-team-checkbox[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator[_ngcontent-%COMP%]   .per-team-checkbox[_ngcontent-%COMP%]{direction:rtl}.mutator[_ngcontent-%COMP%]   .mutator-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;position:relative;height:100%}html[dir=rtl][_ngcontent-%COMP%]   .mutator[_ngcontent-%COMP%]   .mutator-content[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator[_ngcontent-%COMP%]   .mutator-content[_ngcontent-%COMP%]{direction:rtl}.mutator-body[_ngcontent-%COMP%]{position:relative;flex-grow:1}.mutator-description[_ngcontent-%COMP%]{display:none;position:absolute;top:0;margin-bottom:0;min-height:55px;max-height:100%;font-family:"BFText-Regular",var(--font-fallback);color:#b4b4b4;font-size:16px;line-height:22px;overflow:auto;scrollbar-width:thin}html[dir=ltr][_ngcontent-%COMP%]   .mutator-description[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .mutator-description[_ngcontent-%COMP%]{left:0}html[dir=rtl][_ngcontent-%COMP%]   .mutator-description[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator-description[_ngcontent-%COMP%]{right:0}.mutator-description[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}.mutator-description[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0000}.mutator-description[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#fff3;border-radius:12px;background-clip:padding-box;border:3px solid #0000}.option[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-bottom:10px}html[dir=rtl][_ngcontent-%COMP%]   .option[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .option[_ngcontent-%COMP%]{direction:rtl}.option[_ngcontent-%COMP%]   .mat-slider[_ngcontent-%COMP%]{flex:1}.option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:"Purista-Semibold",var(--font-fallback);font-size:20px;border:1px solid #434343;background:#000;color:#fff;width:66px;height:38px;padding:0 4px 4px;text-align:center}html[dir=rtl][_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:0 4px 4px}html[dir=ltr][_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:10px}html[dir=rtl][_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:10px}.option[_ngcontent-%COMP%]   input.ng-invalid[_ngcontent-%COMP%]{border:1px solid #ff000080}.mat-stroked-button[_ngcontent-%COMP%]:active{background-color:#000}.mutator-content-innerwrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:minmax(0,1fr) 24px;grid-gap:0 0;gap:0 0}html[dir=rtl][_ngcontent-%COMP%]   .mutator-content-innerwrapper[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .mutator-content-innerwrapper[_ngcontent-%COMP%]{direction:rtl}.per-team-button[_ngcontent-%COMP%]{background-color:initial;height:86px;width:24px;border:0;color:#a1a1a1}.per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%]{cursor:pointer;transform:rotate(90deg)}@media (hover:hover){.per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%]:hover{color:#fff}}.per-team-button[_ngcontent-%COMP%]   .icon-connector[_ngcontent-%COMP%]{height:12px;width:12px;color:#a1a1a1;margin-bottom:5px}html[dir=rtl][_ngcontent-%COMP%]   .per-team-button[_ngcontent-%COMP%]   .icon-connector[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .per-team-button[_ngcontent-%COMP%]   .icon-connector[_ngcontent-%COMP%]{transform:scaleX(-1)}.per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%] + .icon-connector[_ngcontent-%COMP%]{transform:rotate(90deg);margin-bottom:0}html[dir=rtl][_ngcontent-%COMP%]   .per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%] + .icon-connector[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .per-team-button[_ngcontent-%COMP%]   .icon-anchor[_ngcontent-%COMP%] + .icon-connector[_ngcontent-%COMP%]{transform:scaleX(-1) rotate(90deg)}@media only screen and (max-width:767px),only screen and (min-width:768px) and (max-width:1030px){.per-team-button[_ngcontent-%COMP%]{width:100%}}.boolean-sparse-per-team-checkbox[_ngcontent-%COMP%]{display:none}.remove-button[_ngcontent-%COMP%]{color:#434343}.team-one[_ngcontent-%COMP%]{color:#26ffdf;box-sizing:border-box;border:2px solid #26ffdf;width:60px;height:38px;text-align:center;padding-top:5px}html[dir=ltr][_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .team-one[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .team-one[_ngcontent-%COMP%]{margin-left:10px}.team-two[_ngcontent-%COMP%]{color:#f33;box-sizing:border-box;border:2px solid #f33;width:60px;height:38px;text-align:center;padding-top:5px}html[dir=ltr][_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .team-two[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .team-two[_ngcontent-%COMP%]{margin-left:10px}.teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%]{color:#787878;box-sizing:border-box;border:2px solid #787878;width:60px;height:38px;text-align:center;padding-top:5px}html[dir=ltr][_ngcontent-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-one[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .teams-linked[_ngcontent-%COMP%]   .team-two[_ngcontent-%COMP%]{margin-left:10px}.hide[_ngcontent-%COMP%]{visibility:hidden}.show[_ngcontent-%COMP%]{display:inline}',"mat-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;margin-bottom:8px;background:#00000080}"]}),t})();function m$(t,e){if(1&t&&(i.TgZ(0,"app-py-button",4),i.TgZ(1,"span",5),i._uU(2),i.ALo(3,"async"),i.qZA(),i.qZA()),2&t){const t=i.oxw();i.Q6J("link",t.prevRoute.url)("isMobileFab",!0),i.xp6(2),i.Oqu(i.lcZ(3,3,t.prevRoute.label$))}}function f$(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"app-py-button",6),i.NdJ("clickFired",function(){return i.CHM(t),i.oxw().showManageUi()}),i._uU(1),i.ALo(2,"translate"),i.qZA()}2&t&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"generic.finish")," "))}const _$=function(t){return{"hide-on-mobile":t}};function b$(t,e){if(1&t&&(i.TgZ(0,"app-py-button",7),i.ALo(1,"async"),i._uU(2),i.ALo(3,"async"),i.qZA()),2&t){const t=i.oxw();i.Q6J("ngClass",i.VKq(9,_$,t.isOn2ndLastPage||i.lcZ(1,5,t.editorMenuService.hideRulesEditor$)))("link",t.nextRoute.url)("iconRight",!0)("disabled",t.isDisabled),i.xp6(2),i.hij(" ",i.lcZ(3,7,t.nextRoute.label$)," ")}}let v$=(()=>{class t{constructor(t,e,n,i,o){this.translateService=t,this.editorMenuService=e,this.editorService=n,this.layoutService=i,this.manageBottomSheet=o,this.playgroundRoutes=(t=>({"game-mode":{label$:t.get("editor.menu.game-mode"),url:"mode/game-mode"},"choose-maps":{label$:t.get("editor.menu.map-rotation"),url:"mode/choose-maps"},"mode-settings":{label$:t.get("editor.menu.game-mode-settings"),url:"mode/mode-settings"},core:{label$:t.get("editor.menu.gameplay"),url:"general/core"},soldier:{label$:t.get("editor.menu.soldier"),url:"general/soldier"},vehicle:{label$:t.get("editor.menu.vehicle"),url:"general/vehicle"},ui:{label$:t.get("editor.menu.ui"),url:"general/ui"},ai:{label$:t.get("editor.menu.ai-tuning"),url:"general/ai"},era:{label$:t.get("editor.menu.series"),url:"package/era"},characters:{label$:t.get("editor.menu.characters"),url:"package/characters"},weapons:{label$:t.get("editor.menu.weapons"),url:"package/weapons"},attachments:{label$:t.get("editor.menu.attachments"),url:"package/attachments"},vehicles:{label$:t.get("editor.menu.vehicles"),url:"package/vehicles"},gadgets:{label$:t.get("editor.menu.gadgets"),url:"package/gadgets"},rules:{label$:t.get("editor.menu.rules"),url:"/experience/rules"}}))(this.translateService),this.playgroundLength=Object.keys(this.playgroundRoutes).length,this.subscriptions=[],this.mainRoute="",this.subRoute="",this.isGameModeInvalid=!0,this.haveMapsBeenSelected=!1,this.isMapDefault=!1,this.prevRoute=void 0,this.nextRoute=this.playgroundRoutes["choose-maps"],this.rulesEditorDisabled=!0,this.showFinishBtn=!1,this.isOn2ndLastPage=!1,this.isNextStepRulesEditor=!1,this.isMobile=!1,this.eraRouteIndex=8,this.addSubscription(this.editorMenuService.rulesEditorDisabled$.subscribe({next:t=>{this.rulesEditorDisabled=t}}),this.layoutService.isTabletOrSmaller$.subscribe({next:t=>{this.isMobile=t}}))}showManageUi(){this.isMobile?this.manageBottomSheet.open(kU):this.editorService.toggleManagePanel(!0)}addSubscription(...t){this.subscriptions.push(...t)}ngOnInit(){this.editorMenuService.validateCurrentActiveMenuItem()}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}ngOnChanges(t){const{mainRoute:{currentValue:e,previousValue:n}={},subRoute:{currentValue:i,previousValue:o}={},isMapDefault:{currentValue:r}={}}=t,s=Object.keys(this.playgroundRoutes);this.isOn2ndLastPage=this.subRoute===s[this.playgroundLength-2];let a=0;o===i&&n===e||(a=Object.keys(this.playgroundRoutes).indexOf(null!=i?i:e),this.prevRoute=this.getPrevRoute(a),this.nextRoute=this.getNextRoute(a),this.isMapDefault&&"era"===this.subRoute&&(this.nextRoute=this.rulesEditorDisabled?void 0:this.getRulesEditorRoute(),this.showFinishBtn=!0)),"era"===this.subRoute?(r?(this.nextRoute=this.rulesEditorDisabled?void 0:this.getRulesEditorRoute(),this.showFinishBtn=!0):!1===r&&(this.showFinishBtn=!1,this.nextRoute=this.playgroundRoutes.characters),this.isDisabled=this.rulesEditorDisabled):this.showFinishBtn=this.isOn2ndLastPage,"package"===e&&"era"===i&&a===this.eraRouteIndex&&this.isMapDefault&&void 0===this.nextRoute&&(this.nextRoute={label$:this.translateService.get("editor.menu.rules"),url:"/experience/rules"},this.prevRoute=this.getPrevRoute(a)),this.isDisabled="game-mode"===this.subRoute?this.isGameModeInvalid:!1===this.haveMapsBeenSelected||this.isGameModeInvalid||this.isOn2ndLastPage&&this.rulesEditorDisabled}getPrevRoute(t){return 0!==t?Object.values(this.playgroundRoutes)[t-1]:void 0}getNextRoute(t){return t!==this.playgroundLength-1?Object.values(this.playgroundRoutes)[t+1]:void 0}getRulesEditorRoute(){return Object.values(this.playgroundRoutes)[this.playgroundLength-1]}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Bp),i.Y36(uV),i.Y36(mN),i.Y36(KN),i.Y36(YE))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-editor-footer"]],inputs:{mainRoute:"mainRoute",subRoute:"subRoute",isGameModeInvalid:"isGameModeInvalid",haveMapsBeenSelected:"haveMapsBeenSelected",isMapDefault:"isMapDefault"},features:[i.TTD],decls:4,vars:3,consts:[["variant","outlined","icon","chevron_left",3,"link","isMobileFab",4,"ngIf"],[1,"btn-group"],["class","finish-btn","variant","outlined","iconSize","sm","icon","cog",3,"clickFired",4,"ngIf"],["class","footer-next-btn","variant","flat","icon","chevron_right",3,"ngClass","link","iconRight","disabled",4,"ngIf"],["variant","outlined","icon","chevron_left",3,"link","isMobileFab"],[1,"footer-next-text"],["variant","outlined","iconSize","sm","icon","cog",1,"finish-btn",3,"clickFired"],["variant","flat","icon","chevron_right",1,"footer-next-btn",3,"ngClass","link","iconRight","disabled"]],template:function(t,e){1&t&&(i.YNc(0,m$,4,5,"app-py-button",0),i.TgZ(1,"div",1),i.YNc(2,f$,3,3,"app-py-button",2),i.YNc(3,b$,4,11,"app-py-button",3),i.qZA()),2&t&&(i.Q6J("ngIf",void 0!==e.prevRoute),i.xp6(2),i.Q6J("ngIf",e.showFinishBtn),i.xp6(1),i.Q6J("ngIf",void 0!==e.nextRoute))},directives:[R,GN,P],pipes:[Z,Fp],styles:["[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}[_nghost-%COMP%]{display:grid;grid-template-columns:auto auto;align-items:center;background:#000}html[dir=rtl]   [_nghost-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   -shadowcsshost{direction:rtl}.btn-group[_ngcontent-%COMP%]{display:grid;grid-column:2;justify-content:end;grid-template-columns:auto auto;justify-items:end}html[dir=rtl][_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .btn-group[_ngcontent-%COMP%]{direction:rtl}html[dir=ltr][_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   app-py-button[_ngcontent-%COMP%] + app-py-button[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .btn-group[_ngcontent-%COMP%]   app-py-button[_ngcontent-%COMP%] + app-py-button[_ngcontent-%COMP%]{margin-left:20px}html[dir=rtl][_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   app-py-button[_ngcontent-%COMP%] + app-py-button[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .btn-group[_ngcontent-%COMP%]   app-py-button[_ngcontent-%COMP%] + app-py-button[_ngcontent-%COMP%]{margin-right:20px}.footer-next-text[_ngcontent-%COMP%]{display:none}@media only screen and (min-width:768px){.footer-next-text[_ngcontent-%COMP%]{display:unset}}html[dir=ltr][_ngcontent-%COMP%]   .footer-next-btn[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .footer-next-btn[_ngcontent-%COMP%]{margin-left:auto}html[dir=rtl][_ngcontent-%COMP%]   .footer-next-btn[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .footer-next-btn[_ngcontent-%COMP%]{margin-right:auto}.hide-on-mobile[_ngcontent-%COMP%]{display:none}@media only screen and (min-width:768px){.hide-on-mobile[_ngcontent-%COMP%]{display:block}}html[dir=rtl][_ngcontent-%COMP%]     .mat-icon, html[dir=rtl]   [_nghost-%COMP%]     .mat-icon{transform:scaleX(-1)}"]}),t})();function y$(t,e){1&t&&(i.ynx(0),i._UZ(1,"mat-icon",17),i.BQk())}function C$(t,e){if(1&t&&(i.ynx(0),i._UZ(1,"img",18),i.BQk()),2&t){const t=i.oxw(2);i.xp6(1),i.Q6J("src",t.classIcon,i.LSH)}}const O$=function(t){return{itemType:t}};function T$(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"div",19),i.TgZ(2,"div",20),i._UZ(3,"mat-icon",17),i.TgZ(4,"div"),i._uU(5),i.ALo(6,"translate"),i.qZA(),i.qZA(),i.TgZ(7,"div",21),i._uU(8),i.ALo(9,"translate"),i.ALo(10,"translate"),i.qZA(),i.qZA(),i.BQk()),2&t){const t=i.oxw(2);i.xp6(5),i.Oqu(i.lcZ(6,2,"editor.package.details-panel.description-headers.locked")),i.xp6(3),i.hij(" ",i.xi3(9,4,"editor.package.details-panel.descriptions.locked",i.VKq(9,O$,i.lcZ(10,7,"editor.package.item-types."+t.itemType)))," ")}}function E$(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"div",19),i.TgZ(2,"div",20),i._UZ(3,"img",18),i.TgZ(4,"div"),i._uU(5),i.ALo(6,"translate"),i.qZA(),i.qZA(),i.TgZ(7,"div",21),i._uU(8),i.ALo(9,"translate"),i.ALo(10,"translate"),i.qZA(),i.qZA(),i.BQk()),2&t){const t=i.oxw(2);i.xp6(3),i.Q6J("src",t.classIcon,i.LSH),i.xp6(2),i.Oqu(i.lcZ(6,3,t.classTranslationId)),i.xp6(3),i.hij(" ",i.xi3(9,5,"editor.package.details-panel.descriptions."+(t.classCategory.name||""),i.VKq(10,O$,i.lcZ(10,8,"editor.package.item-types."+t.itemType)))," ")}}const S$=function(t,e,n){return{"is-ffa":t,"team-1":e,"team-2":n}},w$=function(t){return{show:t}};function M$(t,e){if(1&t){const t=i.EpF();i.ynx(0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.NdJ("click",function(){return i.CHM(t),i.oxw().closeSidePanel()}),i.ALo(3,"async"),i.qZA(),i.TgZ(4,"div",3),i.TgZ(5,"span"),i._uU(6),i.ALo(7,"translate"),i.ALo(8,"translate"),i.qZA(),i.TgZ(9,"button",4),i.NdJ("click",function(){return i.CHM(t),i.oxw().closeSidePanel()}),i._UZ(10,"mat-icon",5),i.qZA(),i.qZA(),i.TgZ(11,"mat-card",6),i.TgZ(12,"div",7),i.TgZ(13,"span",8),i._uU(14),i.qZA(),i._UZ(15,"img",9),i.TgZ(16,"div",10),i.YNc(17,y$,2,0,"ng-container",0),i.YNc(18,C$,2,1,"ng-container",0),i.qZA(),i.qZA(),i.TgZ(19,"div",11),i.TgZ(20,"div",12),i.TgZ(21,"div",13),i.ALo(22,"translate"),i._uU(23),i.ALo(24,"translate"),i.qZA(),i.TgZ(25,"div",14),i._uU(26),i.qZA(),i.qZA(),i.TgZ(27,"mat-checkbox",15),i.NdJ("change",function(e){return i.CHM(t),i.oxw().onValueChange(e)}),i.qZA(),i.qZA(),i.TgZ(28,"div",16),i.YNc(29,T$,11,11,"ng-container",0),i.YNc(30,E$,11,12,"ng-container",0),i.qZA(),i.qZA(),i.qZA(),i.BQk()}if(2&t){const t=i.oxw();i.xp6(1),i.Q6J("ngClass",i.kEZ(25,S$,t.isFFA,!t.isFFA&&!t.isTeam2&&(t.isSplitTeam||t.isPerTeamEra),!t.isFFA&&t.isTeam2&&(t.isSplitTeam||t.isPerTeamEra)))("formGroup",t.teamFormGroup),i.xp6(1),i.Q6J("ngClass",i.VKq(29,w$,!0===i.lcZ(3,14,t.editorService.showDetailsPanel$))),i.xp6(4),i.hij(" ",i.xi3(7,16,"editor.package.details-panel.header",i.VKq(31,O$,i.lcZ(8,19,"editor.package.item-types."+t.itemType)))," "),i.xp6(8),i.Oqu(t.eraTag),i.xp6(1),i.Q6J("src",null==t.model?null:t.model.imageSrc,i.LSH),i.xp6(2),i.Q6J("ngIf",null==t.model?null:t.model.isProgressionLocked),i.xp6(1),i.Q6J("ngIf",t.classCategory),i.xp6(3),i.Q6J("title",i.lcZ(22,21,(null==t.model?null:t.model.label)||"")),i.xp6(2),i.hij(" ",i.lcZ(24,23,(null==t.model?null:t.model.label)||"")," "),i.xp6(3),i.Oqu(t.categoryName),i.xp6(1),i.Q6J("formControlName",t.formControlName),i.xp6(2),i.Q6J("ngIf",null==t.model?null:t.model.isProgressionLocked),i.xp6(1),i.Q6J("ngIf",t.classCategory)}}let x$=(()=>{class t{constructor(t,e,n){this.editorService=t,this.formService=e,this.translateService=n,this.model=null,this.metaData=null,this.classCategory=void 0}get itemType(){var t;return(null===(t=this.metaData)||void 0===t?void 0:t.itemType)||""}get isTeam2(){var t;return(null===(t=this.metaData)||void 0===t?void 0:t.isTeam2)||!1}get isFFA(){var t;return(null===(t=this.metaData)||void 0===t?void 0:t.isFFA)||!1}get categoryName(){var t;return(null===(t=this.metaData)||void 0===t?void 0:t.categoryName)||""}get eraTag(){var t;return(null===(t=this.metaData)||void 0===t?void 0:t.eraTag)||""}get isPerTeamEra(){var t;return(null===(t=this.metaData)||void 0===t?void 0:t.isPerTeamEra)||!1}get isSplitTeam(){var t;return(null===(t=this.metaData)||void 0===t?void 0:t.isSplitTeam)||!1}get isFactionUnlinked(){var t;return(null===(t=this.metaData)||void 0===t?void 0:t.isFactionUnlinked)||!1}get formControlName(){return this.isTeam2&&!this.isFFA?1:0}get teamFormGroup(){var t;return this.formService.teamFormGroup((null===(t=this.model)||void 0===t?void 0:t.value.toString())||"")}get team1FormGroup(){var t;return this.formService.team1FormGroup((null===(t=this.model)||void 0===t?void 0:t.value.toString())||"")}get itemFormGroup(){var t;return this.formService.item((null===(t=this.model)||void 0===t?void 0:t.value.toString())||"",this.isTeam2)}get formGroup(){return this.isSplitTeam||this.isPerTeamEra||this.isFactionUnlinked?this.itemFormGroup:this.team1FormGroup}get classIcon(){var t;return QU[(null===(t=this.classCategory)||void 0===t?void 0:t.name)||""]}get classTranslationId(){var t,e,n,i;return(null===(i=null===(n=null===(e=null===(t=this.classCategory)||void 0===t?void 0:t.metadata)||void 0===e?void 0:e.translations)||void 0===n?void 0:n[0])||void 0===i?void 0:i.translationId)||""}ngOnInit(){var t;this.formService.getClassCategory((null===(t=this.model)||void 0===t?void 0:t.value.toString())||"").pipe($g()).subscribe({next:t=>{this.classCategory=t}})}onValueChange(t){var e;null===(e=this.formGroup)||void 0===e||e.setValue(t.checked,{emitEvent:!1})}closeSidePanel(){this.editorService.setDetailsModel(null),this.editorService.setDetailsMeta(null),this.editorService.toggleDetailsPanel(!1)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(mN),i.Y36(sV),i.Y36(Bp))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-details-panel"]],inputs:{model:"model",metaData:"metaData"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"content-wrapper",3,"ngClass","formGroup"],[1,"overlay",3,"ngClass","click"],[1,"header"],["type","button","mat-icon-button","","aria-label","close icon",3,"click"],["svgIcon","close"],["formArrayName","values"],[1,"image-data"],[1,"era-tag"],["loading","lazy",1,"image",3,"src"],[1,"icon-group"],[1,"item-data"],[1,"name-data"],[1,"name",3,"title"],[1,"category"],["color","white",1,"item-checkbox",3,"formControlName","change"],[1,"footer-data"],["loading","lazy","svgIcon","locked",1,"locked-icon"],[1,"class-icon",3,"src"],[1,"footer-item"],[1,"footer-item__header"],[1,"footer-item__description"]],template:function(t,e){1&t&&i.YNc(0,M$,31,33,"ng-container",0),2&t&&i.Q6J("ngIf",e.teamFormGroup)},directives:[R,P,ns,Gs,rb,eE,LT,Ws,eO,es,qs],pipes:[Z,Fp],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}.content-wrapper[_ngcontent-%COMP%]{position:relative;z-index:40;flex-direction:column;height:100%;display:flex}html[dir=rtl][_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{direction:rtl}@media only screen and (max-width:768px){.content-wrapper[_ngcontent-%COMP%]{width:100%}}.content-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{border-radius:0;flex:1;overflow:auto;scrollbar-width:thin;padding:0;background-color:#121212}.content-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}.content-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0000}.content-wrapper[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#fff3;border-radius:12px;background-clip:padding-box;border:3px solid #0000}.content-wrapper[_ngcontent-%COMP%]   .class-icon[_ngcontent-%COMP%]{border:1px solid #eee;border-radius:32px;width:24px;padding:5px;height:24px}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;background:#0009;width:100%;height:100%;display:none}html[dir=ltr][_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]{left:0}html[dir=rtl][_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]{right:0}.overlay.show[_ngcontent-%COMP%]{display:block}.header[_ngcontent-%COMP%]{display:flex;color:#fff;background:#121212;align-items:center;justify-content:space-between;padding:15px;position:relative;text-transform:uppercase;font-weight:600}html[dir=rtl][_ngcontent-%COMP%]   .header[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .header[_ngcontent-%COMP%]{direction:rtl}.team-1[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{color:#000;background-color:#26ffdf}.team-2[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{color:#000;background-color:#ff5e30}.image-data[_ngcontent-%COMP%]{background:#000;padding:15px;text-align:center}.image-data[_ngcontent-%COMP%]   .era-tag[_ngcontent-%COMP%]{padding:3px 7px;border:2px solid;display:inline-block;height:35px;position:absolute;top:15px;left:15px}.team-1[_ngcontent-%COMP%]   .image-data[_ngcontent-%COMP%]   .era-tag[_ngcontent-%COMP%]{border-color:#26ffdf;color:#26ffdf}.team-2[_ngcontent-%COMP%]   .image-data[_ngcontent-%COMP%]   .era-tag[_ngcontent-%COMP%]{border-color:#ff5e30;color:#ff5e30}.image-data[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:90%;padding-top:43px}@media only screen and (max-width:767px){.image-data[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:80%}}.image-data[_ngcontent-%COMP%]   .icon-group[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.item-data[_ngcontent-%COMP%]{background-color:#121212;display:flex;justify-content:space-between;text-transform:uppercase;padding:15px;border-bottom:1px solid}.team-1[_ngcontent-%COMP%]   .item-data[_ngcontent-%COMP%]{border-color:#26ffdf}.team-2[_ngcontent-%COMP%]   .item-data[_ngcontent-%COMP%]{border-color:#ff5e30}.item-data[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:24px}.item-data[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{font-size:18px;color:#a1a1a1}.footer-data[_ngcontent-%COMP%]{background-color:#121212}.footer-data[_ngcontent-%COMP%]   .footer-item[_ngcontent-%COMP%]{border-bottom:1px solid;padding:15px}.team-1[_ngcontent-%COMP%]   .footer-data[_ngcontent-%COMP%]   .footer-item[_ngcontent-%COMP%]{border-color:#26ffdf}.team-2[_ngcontent-%COMP%]   .footer-data[_ngcontent-%COMP%]   .footer-item[_ngcontent-%COMP%]{border-color:#ff5e30}.footer-data[_ngcontent-%COMP%]   .footer-item__header[_ngcontent-%COMP%]{text-transform:uppercase;display:flex;font-size:18px;color:#a1a1a1;font-weight:700;align-items:center}html[dir=ltr][_ngcontent-%COMP%]   .footer-data[_ngcontent-%COMP%]   .footer-item__header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .footer-data[_ngcontent-%COMP%]   .footer-item__header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .footer-data[_ngcontent-%COMP%]   .footer-item__header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], html[dir=ltr]   [_nghost-%COMP%]   .footer-data[_ngcontent-%COMP%]   .footer-item__header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .footer-data[_ngcontent-%COMP%]   .footer-item__header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .footer-data[_ngcontent-%COMP%]   .footer-item__header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .footer-data[_ngcontent-%COMP%]   .footer-item__header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], html[dir=rtl]   [_nghost-%COMP%]   .footer-data[_ngcontent-%COMP%]   .footer-item__header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:10px}.footer-data[_ngcontent-%COMP%]   .footer-item__description[_ngcontent-%COMP%]{padding:10px 0;font-size:18px}[_nghost-%COMP%]     .mat-checkbox.item-checkbox.mat-checkbox-checked .mat-checkbox-background{background:#fff}[_nghost-%COMP%]     .mat-checkbox.item-checkbox.mat-checkbox-checked.mat-checkbox-disabled .mat-checkbox-background{background-color:#686868}[_nghost-%COMP%]     .mat-checkbox.item-checkbox.mat-checkbox-disabled .mat-checkbox-background{border-color:1px solid #434343}[_nghost-%COMP%]     .mat-checkbox.item-checkbox.mat-checkbox-disabled .mat-checkbox-background:before{content:"";position:absolute;border-top:2px solid #686868;width:29px;transform:rotate(-45deg)}']}),t})(),P$=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[mN,lV,sV,uV],imports:[[jq,J,zS,RF,J,Xs,Qs,Up.forChild({extend:!0}),KB,pp,wW,Km]]}),t})();i.B6R(HV,[R,P,eE,wV,ND,YF,x$,v$],[Z,Fp]),i.B6R(YF,[P,rb,eE,R,LT,DT,_U,PU],[Z,Fp]),i.B6R(iH,[B,F,Zq,$q,sJ,vJ,IJ,a$,g$],[]);const k$=[{path:"**",component:zB}];let I$=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[ZD.forChild(k$),Up.forChild({extend:!0})]]}),t})();var A$=n(2728);const R$="@ngrx/router-store/request",D$=((0,Vp.PH)(R$,(0,Vp.Ky)()),"@ngrx/router-store/navigation"),L$=((0,Vp.PH)(D$,(0,Vp.Ky)()),"@ngrx/router-store/cancel"),N$=((0,Vp.PH)(L$,(0,Vp.Ky)()),"@ngrx/router-store/error"),B$=((0,Vp.PH)(N$,(0,Vp.Ky)()),"@ngrx/router-store/navigated");function F$(t,e){const n=e;switch(n.type){case D$:case N$:case L$:return{state:n.payload.routerState,navigationId:n.payload.event.id};default:return t}}(0,Vp.PH)(B$,(0,Vp.Ky)());class U${}class V${serialize(t){return{root:this.serializeRoute(t.root),url:t.url}}serializeRoute(t){const e=t.children.map(t=>this.serializeRoute(t));return{params:t.params,paramMap:t.paramMap,data:t.data,url:t.url,outlet:t.outlet,routeConfig:t.routeConfig?{component:t.routeConfig.component,path:t.routeConfig.path,pathMatch:t.routeConfig.pathMatch,redirectTo:t.routeConfig.redirectTo,outlet:t.routeConfig.outlet}:null,queryParams:t.queryParams,queryParamMap:t.queryParamMap,fragment:t.fragment,component:t.routeConfig?t.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:e[0],pathFromRoot:void 0,children:e}}}class G${serialize(t){return{root:this.serializeRoute(t.root),url:t.url}}serializeRoute(t){const e=t.children.map(t=>this.serializeRoute(t));return{params:t.params,data:t.data,url:t.url,outlet:t.outlet,routeConfig:t.routeConfig?{path:t.routeConfig.path,pathMatch:t.routeConfig.pathMatch,redirectTo:t.routeConfig.redirectTo,outlet:t.routeConfig.outlet}:null,queryParams:t.queryParams,fragment:t.fragment,firstChild:e[0],children:e}}}var j$=function(t){return t[t.PreActivation=1]="PreActivation",t[t.PostActivation=2]="PostActivation",t}({});const H$=new i.OlP("@ngrx/router-store Internal Configuration"),z$=new i.OlP("@ngrx/router-store Configuration");function W$(t){return Object.assign({stateKey:"router",serializer:G$,navigationActionTiming:j$.PreActivation},t)}var Z$=function(t){return t[t.NONE=1]="NONE",t[t.ROUTER=2]="ROUTER",t[t.STORE=3]="STORE",t}({});let Y$=(()=>{class t{constructor(t,e,n,o,r,s){this.store=t,this.router=e,this.serializer=n,this.errorHandler=o,this.config=r,this.activeRuntimeChecks=s,this.lastEvent=null,this.routerState=null,this.trigger=Z$.NONE,this.stateKey=this.config.stateKey,!(0,Vp.rM)()&&(0,i.X6Q)()&&((null==s?void 0:s.strictActionSerializability)||(null==s?void 0:s.strictStateSerializability))&&this.serializer instanceof V$&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the DefaultRouterStateSerializer. The default serializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer. This also applies to Ivy with immutability runtime checks."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()}static forRoot(e={}){return{ngModule:t,providers:[{provide:H$,useValue:e},{provide:z$,useFactory:W$,deps:[H$]},{provide:U$,useClass:e.serializer?e.serializer:0===e.routerState?V$:G$}]}}setUpStoreStateListener(){this.store.pipe((0,Vp.Ys)(this.stateKey),(0,A$.M)(this.store)).subscribe(([t,e])=>{this.navigateIfNeeded(t,e)})}navigateIfNeeded(t,e){if(!t||!t.state)return;if(this.trigger===Z$.ROUTER)return;if(this.lastEvent instanceof iA)return;const n=t.state.url;(function(t,e){return q$(t)===q$(e)})(this.router.url,n)||(this.storeState=e,this.trigger=Z$.STORE,this.router.navigateByUrl(n).catch(t=>{this.errorHandler.handleError(t)}))}setUpRouterEventsListener(){const t=this.config.navigationActionTiming===j$.PostActivation;let e;this.router.events.pipe((0,A$.M)(this.store)).subscribe(([n,i])=>{this.lastEvent=n,n instanceof iA?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==Z$.STORE&&(this.storeState=i,this.dispatchRouterRequest(n))):n instanceof aA?(e=n,t||this.trigger===Z$.STORE||this.dispatchRouterNavigation(n)):n instanceof rA?(this.dispatchRouterCancel(n),this.reset()):n instanceof sA?(this.dispatchRouterError(n),this.reset()):n instanceof oA&&(this.trigger!==Z$.STORE&&(t&&this.dispatchRouterNavigation(e),this.dispatchRouterNavigated(n)),this.reset())})}dispatchRouterRequest(t){this.dispatchRouterAction(R$,{event:t})}dispatchRouterNavigation(t){const e=this.serializer.serialize(t.state);this.dispatchRouterAction(D$,{routerState:e,event:new aA(t.id,t.url,t.urlAfterRedirects,e)})}dispatchRouterCancel(t){this.dispatchRouterAction(L$,{storeState:this.storeState,event:t})}dispatchRouterError(t){this.dispatchRouterAction(N$,{storeState:this.storeState,event:new sA(t.id,t.url,`${t}`)})}dispatchRouterNavigated(t){const e=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(B$,{event:t,routerState:e})}dispatchRouterAction(t,e){this.trigger=Z$.ROUTER;try{this.store.dispatch({type:t,payload:Object.assign(Object.assign({routerState:this.routerState},e),{event:0===this.config.routerState?e.event:{id:e.event.id,url:e.event.url,urlAfterRedirects:e.event.urlAfterRedirects}})})}finally{this.trigger=Z$.NONE}}reset(){this.trigger=Z$.NONE,this.storeState=null,this.routerState=null}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Vp.yh),i.LFG(ID),i.LFG(U$),i.LFG(i.qLn),i.LFG(z$),i.LFG(Vp.hg))},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})();function q$(t){return t.length>0&&"/"===t[t.length-1]?t.substring(0,t.length-1):t}n(9474);let J$=(()=>{class t{constructor(t){this.actions$=t}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(bg))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),$$=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[],imports:[[Vp.Aw.forFeature("router",F$),Lg.forFeature([])]]}),t})(),K$=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[],imports:[[Vp.Aw.forFeature(km,Rm),Lg.forFeature([wN])]]}),t})(),X$=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[],imports:[[Vp.Aw.forFeature(yL,TL)]]}),t})(),Q$=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[],imports:[[Vp.Aw.forFeature(ZU,JU)]]}),t})(),tK=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[],imports:[[Vp.Aw.forFeature(zL,YL)]]}),t})(),eK=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[],imports:[[Vp.Aw.forRoot({}),[],Lg.forRoot([J$]),Y$.forRoot(),$$,K$,X$,Q$,tK]]}),t})();const nK=JSON.parse('[["portal_big","portal_big.svg"],["builder","builder.svg"],["cog","cog.svg"],["filter","filter.svg"],["weapon","weapon.svg"],["warning","warning.svg"],["check","check.svg"],["no_xp","no-xp.svg"],["union","union.svg"],["search","search.svg"],["gear","gear.svg"],["close","close.svg"],["save","save.svg"],["share","share.svg"],["save","save.svg"],["link","link.svg"],["unlink","unlink.svg"],["manage","manage.svg"],["conquest_small","Icon_Conquest_Small.svg"],["mod_builder_custom","Icon_Mod_Builder_Custom.svg"],["rush","Icon_Rush.svg"],["conquest","Icon_Conquest.svg"],["custom_wrench","custom_wrench.svg"],["add_circle_outline","material/add_circle_outline.svg"],["add","material/add.svg"],["chevron_left","material/chevron_left.svg"],["chevron_right","material/chevron_right.svg"],["chevron_down","material/chevron_down.svg"],["close","material/close.svg"],["dehaze","material/dehaze.svg"],["delete","material/delete.svg"],["expand_less","material/expand_less.svg"],["expand_more","material/expand_more.svg"],["info","material/info.svg"],["more_vert","material/more_vert.svg"],["remove_circle_outline","material/remove_circle_outline.svg"],["remove","material/remove.svg"],["settings","material/settings.svg"],["locked","material/locked.svg"],["edit","material/edit.svg"],["rush_header_icon","rush-header-icon.svg"],["custom_header_icon","custom-header-icon.svg"],["conquest_header_icon","conquest-header-icon.svg"],["conquest_small_header_icon","conquest-small-header-icon.svg"],["cog_primary","cog-primary.svg"],["running_man_icon","running-man-icon.svg"],["players_icon","players-icon.svg"],["blue_filter","blue-filter.svg"],["primary_plus_icon","primary-plus-icon.svg"],["experience_icon","experience-icon.svg"],["copy_icon","copy-icon.svg"],["primary_info_icon","primary-info-icon.svg"],["placeholder","placeholder.svg"],["conquest_selected","Icon_Conquest_Selected.svg"],["conquest","Icon_Conquest.svg"],["conquest_small_selected","Icon_Conquest_Small_Selected.svg"],["conquest_small","Icon_Conquest_Small.svg"],["mod_builder_custom_selected","Icon_Mod_Builder_Custom_Selected.svg"],["mod_builder_custom","Icon_Mod_Builder_Custom.svg"],["rush_selected","Icon_Rush_Selected.svg"],["rush","Icon_Rush.svg"],["dashed-corner","dashed-corner.svg"],["map-size-s","map-size-s.svg"],["map-size-m","map-size-m.svg"],["map-size-l","map-size-l.svg"]]'),iK=Sm.get("ea","header");let oK=(()=>{class t{constructor(t,e,n,i,o){this.el=t,this.store=e,this.httpClient=n,this.route=i,this.router=o,this.subscriptions=[],this.currentLanguage=jm()||Vm,this.networkNav$=new CS.X(""),this.localNav$=this.httpClient.get(Um([sm,"/api/component/localNav/",this.currentLanguage.toLowerCase(),am]),{responseType:"text"}).pipe(a_("")),this.addSubscription(this.store.select(Dm).subscribe(t=>{var e;!function(t){const e=()=>{let n=-1;const i=setTimeout(()=>{iK.error("Timed out trying to resolve EA Elements!"),clearInterval(n)},1e4);let o=!1;n=setInterval(()=>{o||(iK.debug("Waiting for EA Elements to resolve..."),o=!0);const e=document.querySelector("ea-player:not([unresolved])"),r=document.querySelector("ea-network-nav:not([unresolved])");e&&r&&(iK.debug("EA Elements resolved!"),e.playerData=t,e.playerDataRetrieved=!0,document.dispatchEvent(new CustomEvent("player-state-check")),clearTimeout(i),clearInterval(n))},0),window.removeEventListener("load",e)};"complete"===document.readyState?e():window.addEventListener("load",e)}({authenticated:!!t.player,pid:(null===(e=t.player)||void 0===e?void 0:e.nucleusId)?parseInt(t.player.nucleusId,10):-1})}));const r=setInterval(()=>{const t=document.querySelector("ea-local-nav:not([unresolved])"),e=document.querySelector("ea-local-nav-advanced:not([unresolved])");if(t||e){const n=jm().toLowerCase(),i=this.route.snapshot.queryParamMap.get("redirect");let o="";i&&(o+=`?redirect=${i}`),this.networkNav$.next(`\n                    <ea-elements-loader elements="ea-network-nav"></ea-elements-loader>\n                    <ea-network-nav\n                        unresolved\n                        content="${im}/${this.currentLanguage.toLowerCase()}/network-nav"\n                        login-url="${n&&"/"+n}/login${o}"\n                        logout-url="${n&&"/"+n}/logout"\n                    ></ea-network-nav>\n                `);const s=null!=t?t:e;s&&((t,e,n)=>{const i="https://portal.battlefield.com/"+n;t.querySelectorAll(`[link-href^="${i}"]`).forEach(t=>{var n,o;t.setAttribute("link-href",null!==(o=null===(n=null==t?void 0:t.getAttribute("link-href"))||void 0===n?void 0:n.replace(i,""))&&void 0!==o?o:"");const r=t.getAttribute("link-href");t.onclick=t=>{t.preventDefault(),e.navigate([r])}})})(s,this.router,n),clearInterval(r)}},0)}addSubscription(...t){this.subscriptions.push(...t)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}ngOnInit(){this.addSubscription(this.localNav$.subscribe(t=>{t&&this.el.nativeElement.insertAdjacentHTML("afterend",t)}),this.networkNav$.subscribe(t=>{t&&this.el.nativeElement.insertAdjacentHTML("afterend",t)}))}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(Vp.yh),i.Y36(Oa),i.Y36(cR),i.Y36(ID))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-ea-header"]],decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})(),rK=(()=>{class t{constructor(t){this.httpClient=t,this.currentLanguage=jm()||Vm,this.localFooter$=this.httpClient.get(`${sm}/api/component/localFooter/${this.currentLanguage.toLowerCase()}/${am}`,{responseType:"text"}).pipe(a_("")),this.networkFooter$=this.httpClient.get(`${sm}/api/component/networkFooter/${this.currentLanguage.toLowerCase()}/${am}`,{responseType:"text"}).pipe(a_(""))}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Oa))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-ea-footer"]],decls:6,vars:10,consts:[[3,"innerHTML"],[1,"network-footer",3,"innerHTML"]],template:function(t,e){1&t&&(i._UZ(0,"div",0),i.ALo(1,"safeHtml"),i.ALo(2,"async"),i._UZ(3,"div",1),i.ALo(4,"safeHtml"),i.ALo(5,"async")),2&t&&(i.Q6J("innerHTML",i.lcZ(1,2,i.lcZ(2,4,e.localFooter$)),i.oJD),i.xp6(3),i.Q6J("innerHTML",i.lcZ(4,6,i.lcZ(5,8,e.networkFooter$)),i.oJD))},pipes:[ZG,Z],styles:["[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}.network-footer[_ngcontent-%COMP%]{position:relative;z-index:20}"]}),t})();const sK=function(t){return{hide:t}},aK=Sm.get("app");let lK=(()=>{class t{constructor(t,e,n,i,o,r){this.store=t,this.router=e,this.matIconRegistry=n,this.domSanitizer=i,this.sessionService=o,this.layoutService=r,this.tag="1.1.4",this.version=Kg,this.hideFooter$=this.router.events.pipe((0,ia.h)(t=>t instanceof oA),(0,Cr.U)(t=>(t=t).url.includes("/experience/rules"))),this.sessionId$=this.store.select(Lm),this.player$=this.store.select(Nm),this.hasSession$=this.store.select(Bm),this.subscriptions=[],this.registerIcons()}log(...t){aK.log(...t)}addSubscription(...t){this.subscriptions.push(...t)}ngOnInit(){}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}registerIcons(){nK.forEach(t=>{this.matIconRegistry.addSvgIcon(t[0],this.domSanitizer.bypassSecurityTrustResourceUrl(lL(`assets/icons/${t[1]}`)))})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Vp.yh),i.Y36(ID),i.Y36(ZT),i.Y36(xt),i.Y36(aL),i.Y36(KN))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-root"]],decls:9,vars:6,consts:[[1,"app"],["role","main",1,"content"],[3,"ngClass"],[1,"version"]],template:function(t,e){1&t&&(i._UZ(0,"app-ea-header"),i.TgZ(1,"div",0),i.TgZ(2,"div",1),i._UZ(3,"router-outlet"),i.qZA(),i.qZA(),i.TgZ(4,"footer",2),i.ALo(5,"async"),i.TgZ(6,"div",3),i._uU(7),i.qZA(),i._UZ(8,"app-ea-footer"),i.qZA()),2&t&&(i.xp6(4),i.Q6J("ngClass",i.VKq(4,sK,i.lcZ(5,2,e.hideFooter$))),i.xp6(3),i.Oqu(""!==e.tag?e.tag:e.version))},directives:[oK,ND,P,rK],pipes:[Z],styles:['[_ngcontent-%COMP%]:root{--network-nav-height:40px;--local-nav-height:53px;--restrictions-header-height:104px}@media only screen and (min-width:768px){[_ngcontent-%COMP%]:root{--local-nav-height:56px}}@media only screen and (min-width:1456px){[_ngcontent-%COMP%]:root{--local-nav-height:60px}}ea-local-nav[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav-advanced[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:var(--local-nav-height)}ea-local-nav-advanced.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%], ea-local-nav.net-nav-onscreen[_ngcontent-%COMP%] + .app[_ngcontent-%COMP%]{--header-height:calc(var(--network-nav-height) + var(--local-nav-height))}.app[_ngcontent-%COMP%]{min-height:100%;display:grid;grid-template-columns:minmax(0,1fr);grid-template-rows:1fr;grid-gap:0;gap:0;grid-template-areas:"app-main";padding-top:var(--header-height);box-sizing:border-box}@media only screen and (min-width:768px) and (max-width:1030px){.app[_ngcontent-%COMP%]{min-height:auto}}header[_ngcontent-%COMP%]{grid-area:app-header;z-index:20;background:#000}.content[_ngcontent-%COMP%]{grid-area:app-main}footer[_ngcontent-%COMP%]{position:relative}footer.hide[_ngcontent-%COMP%]{display:none}footer[_ngcontent-%COMP%]   .version[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;color:#ffffff80;font-size:11px;z-index:21}']}),t})();class cK{constructor(t,e="/assets/i18n/",n=".json"){this.http=t,this.prefix=e,this.suffix=n}getTranslation(t){return this.cache$&&this.cachedLang===t||(this.cache$=this.http.get(`${this.prefix}${t}${this.suffix}`).pipe(Au(1)),this.cachedLang=t),this.cache$}}function uK(t){return new cK(t,lL("assets/i18n/"),".json")}let hK=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t,bootstrap:[lK]}),t.\u0275inj=i.cJS({providers:[{provide:b,useValue:"/"+jm().toLowerCase()},{provide:i.ip1,useFactory:$m,deps:[Vp.yh,bg,Oa,kN,Bp],multi:!0}],imports:[[$B,Rt,Xs,Qs,La,ku,Su,Up.forRoot({defaultLanguage:jm()||Vm,useDefaultLang:!1,loader:{provide:yp,useFactory:uK,deps:[Oa]}}),Ju.forRoot(),ah.forRoot({worker:new Worker(new URL(n.p+n.u(780),n.b),{type:void 0}),settings:{host:Xg,format:"binary"}}),Xu.forRoot({settings:{enabled:Cm}}),pp.forRoot({animation:250}),eK,Km,zS,RF,P$,KB,I$]]}),t})();const dK=["/en-au","/en-gb"].find(t=>document.location.pathname.startsWith(t));if(dK)location.href=location.href.replace(dK,"");else if(document.location.pathname.startsWith("/games/battlefield")||document.location.pathname.startsWith("/"+jm().toLowerCase()+"/games/battlefield")){const t=new URL(document.location.pathname,"https://www.ea.com");window.location.replace(t.href)}else console.info("%cSTOP!","color:red;font-size:40px;"),console.info("%cThis window is intended for developers only.","color:red;font-size:24px;"),console.info("%cIf someone told you to paste something in here, they are most likely trying to get access to your account.","color:red;font-size:24px;"),_r.init({applicationId:"2674ebd7-595c-493e-b9d4-d7952f4c0fe2",clientToken:"pub84ae62c301a3b24c934d641c47294cd9",site:"datadoghq.com",service:"pyrite",env:"prod",version:Kg,sampleRate:100,trackInteractions:!0,defaultPrivacyLevel:"mask-user-input",beforeSend:()=>TN()}),(0,i.G48)(),It().bootstrapModule(hK).catch(t=>Sm.error(t))}},t=>{"use strict";t(t.s=9409)}]);